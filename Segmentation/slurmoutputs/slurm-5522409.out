Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 5522409
======
Time: Wed Oct 14 11:26:40 BST 2020
Running on master node: wbic-csm-5
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-csm-5

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 26001/20200220_U-ID48178 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Beginning ASHS for:  26001
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 48: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original: No such file or directory
ASHS started at 11:26:40
ashs_main execution log
  timestamp:   Wed Oct 14 11:26:40 BST 2020
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 26001 -a /home/ccn30/ENCRYPT/atlases/magdeburgatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=26001
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
Atlas    : /home/ccn30/ENCRYPT/atlases/magdeburgatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz -resample 100x100x252% -region 10x10x0% 80x80x100% -type short -o /tmp/ashs.4Qeor29b/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.4Qeor29b/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 48
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1778.08   GNORM= 54.3168
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1825.393      40.435       0.018
   2    3     -1854.014      45.167       1.000
   3    4     -1879.823      35.764       1.000
   4    5     -1890.663       6.151       1.000
   5    6     -1891.407       3.456       1.000
   6    7     -1891.944       3.294       1.000
   7    9     -1892.214       1.521       0.333
   8   10     -1892.269       0.931       1.000
   9   11     -1892.290       0.768       1.000
  10   13     -1892.298       1.029       0.093
  11   14     -1892.309       0.300       1.000
  12   15     -1892.313       0.265       1.000
  13   17     -1892.315       0.428       0.414
  14   18     -1892.320       0.681       1.000
  15   19     -1892.323       0.295       1.000
  16   20     -1892.324       0.436       1.000
  17   21     -1892.324       0.307       1.000
  18   23     -1892.324       0.379       0.247
  19   24     -1892.325       0.121       1.000
  20   25     -1892.325       0.118       1.000
  21   26     -1892.325       0.090       1.000
  22   28     -1892.325       0.056       0.487
  23   30     -1892.325       0.046       0.485
  24   33     -1892.325       0.061       0.014
  25   34     -1892.325       0.069       1.000
  26   36     -1892.325       0.034       0.258
  27   37     -1892.325       0.038       1.000
  28   39     -1892.325       0.077       5.000
  29   42     -1892.325       0.087       3.025
  30   44     -1892.325       0.069       0.050
  31   45     -1892.325       0.086       1.000
  32   48     -1892.325       0.054       0.008
  33   49     -1892.325       0.051       1.000
  34   51     -1892.325       0.036       0.274
  35   59     -1892.325       0.043       0.008
  36   65     -1892.325       0.086       0.001
  37   67     -1892.325       0.054       5.000
  38   69     -1892.325       0.071       0.449
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.998822 0.0173737 -0.0453135 1.2203 
-0.0182761 0.999641 -0.0195769 0.473224 
0.0449571 0.020382 0.998781 0.98192 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1835.39   GNORM= 72.8752
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1888.966      30.717       0.014
   2    4     -1895.312      10.890       0.452
   3    5     -1896.202       8.916       1.000
   4    6     -1897.071       9.369       1.000
   5    7     -1900.286       9.100       1.000
   6    9     -1900.687       4.451       0.342
   7   10     -1900.928       2.100       1.000
   8   11     -1900.978       1.522       1.000
   9   12     -1901.009       0.862       1.000
  10   13     -1901.014       0.252       1.000
  11   14     -1901.014       0.256       1.000
  12   15     -1901.016       0.348       1.000
  13   16     -1901.016       0.394       1.000
  14   17     -1901.017       0.621       1.000
  15   18     -1901.019       0.340       1.000
  16   19     -1901.019       0.263       1.000
  17   20     -1901.019       0.095       1.000
  18   22     -1901.019       0.090       0.462
  19   24     -1901.019       0.047       0.381
  20   25     -1901.019       0.023       1.000
  21   26     -1901.019       0.031       1.000
  22   28     -1901.019       0.053       0.131
  23   30     -1901.019       0.034       0.168
  24   31     -1901.019       0.034       1.000
  25   32     -1901.019       0.020       1.000
  26   33     -1901.019       0.024       1.000
  27   34     -1901.019       0.019       1.000
  28   36     -1901.019       0.009       0.414
  29   37     -1901.019       0.007       1.000
  30   38     -1901.019       0.007       1.000
  31   39     -1901.019       0.002       1.000
  32   41     -1901.019       0.002       0.193
  33   43     -1901.019       0.002       0.152
  34   45     -1901.019       0.008       5.000
  35   46     -1901.019       0.003       1.000
  36   47     -1901.019       0.003       1.000
  37   49     -1901.019       0.009       0.356
  38   50     -1901.019       0.006       1.000
  39   51     -1901.019       0.006       1.000
  40   52     -1901.019       0.003       1.000
  41   53     -1901.019       0.003       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999072 0.0102884 -0.0418334 1.3063 
-0.0108671 0.999848 -0.0136276 0.19007 
0.0416869 0.0140696 0.999032 -0.216875 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1407.3   GNORM= 146.503
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1444.902      19.281       0.003
   2    4     -1445.558       5.178       1.000
   3    5     -1445.635       4.673       1.000
   4    6     -1445.811       6.719       1.000
   5    7     -1446.356      14.039       1.000
   6    8     -1446.870      13.514       1.000
   7   10     -1446.938      13.068       0.120
   8   11     -1447.336       5.397       1.000
Final RAS Transform: 
0.999119 0.00826729 -0.0411446 1.28986 
-0.00876725 0.99989 -0.0119857 0.120413 
0.041041 0.0123358 0.999081 -0.663551 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.233
Rigid search -> Initial best: -406.518 0 0 0 -5.40947 8.15359 46.1392
New best: -460.601 -0.0782742 0.0199108 -0.0191854 -5.5412 2.93654 43.8634
New best: -462.643 -0.0071864 0.000753032 0.00290413 3.48964 9.48446 43.5712
New best: -516.487 0.00673294 0.00997331 0.0855249 0.228214 6.30662 39.1119
New best: -572.341 0.0215754 -0.0110612 -0.00451291 -3.47063 3.26008 51.9674
New best: -582.207 0.00885534 0.0163178 -0.0264802 -6.25009 -0.255132 53.3539
New best: -637.299 0.00395457 0.154734 -0.0127856 5.71299 0.860778 51.2611
New best: -637.336 -0.000665311 -0.000125106 -0.000128873 0.51816 0.924166 48.2984
New best: -640.368 0.0234833 0.0352536 0.00933535 -1.10901 2.08793 44.6415
New best: -702.396 -0.0695452 0.0781099 -0.00469067 3.15456 2.58645 56.4511
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -702.396   GNORM= 30.4072
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -729.871      28.119       0.033
   2    3      -797.551      34.589       1.000
   3    4      -875.302      18.273       1.000
   4    6      -894.171       8.516       0.450
   5    7      -900.905       6.033       1.000
   6    9      -903.968       7.415       0.523
   7   10      -905.853       8.082       1.000
   8   12      -923.837       7.953       0.501
   9   14      -924.640       8.614       0.170
  10   15      -928.117       6.744       1.000
  11   17      -929.712       8.171       0.303
  12   19      -930.491       6.529       0.327
  13   20      -930.788       4.033       1.000
  14   21      -930.912       4.916       1.000
  15   22      -930.998       1.621       1.000
  16   23      -931.002       1.866       1.000
  17   24      -931.043       1.251       1.000
  18   26      -931.055       0.565       0.097
  19   27      -931.057       0.735       1.000
  20   28      -931.061       0.555       1.000
  21   30      -931.062       0.387       0.458
  22   31      -931.063       0.237       1.000
  23   33      -931.063       0.105       0.225
  24   36      -931.063       0.148       1.579
  25   37      -931.063       0.249       1.000
  26   40      -931.064       0.290       0.846
  27   42      -931.064       0.243       0.226
  28   44      -931.064       0.237       0.260
  29   45      -931.064       0.206       1.000
  30   48      -931.064       0.156       0.081
  31   49      -931.064       0.142       1.000
  32   51      -931.064       0.130       0.451
  33   52      -931.064       0.187       1.000
  34   54      -931.064       0.171       0.354
  35   55      -931.064       0.142       1.000
  36   56      -931.064       0.108       1.000
  37   58      -931.064       0.189       0.362
  38   59      -931.064       0.234       1.000
  39   61      -931.064       0.130       0.398
  40   62      -931.064       0.177       1.000
  41   63      -931.064       0.168       1.000
  42   66      -931.064       0.114       2.141
  43   70      -931.064       0.169       0.079
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.992512 0.00268704 0.12212 6.32363 
-0.03832 0.956137 0.290402 -2.3464 
-0.115983 -0.292907 0.94908 67.6001 
0 0 0 1 

Final RAS Transform: 
0.992512 0.00268704 0.12212 6.32363 
-0.03832 0.956137 0.290402 -2.3464 
-0.115983 -0.292907 0.94908 67.6001 
0 0 0 1 

Final RAS Transform: 
0.992512 0.00268704 0.12212 6.32363 
-0.03832 0.956137 0.290402 -2.3464 
-0.115983 -0.292907 0.94908 67.6001 
0 0 0 1 

Final RAS Transform: 
0.992512 0.00268704 0.12212 6.32363 
-0.03832 0.956137 0.290402 -2.3464 
-0.115983 -0.292907 0.94908 67.6001 
0 0 0 1 


real	0m59.573s
user	1m26.840s
sys	0m6.804s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.233
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -931.065   GNORM= 40.7164
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -965.326      29.613       0.025
   2    3     -1021.857      25.501       1.000
   3    4     -1029.836      19.193       1.000
   4    5     -1035.091       8.339       1.000
   5    6     -1037.065       7.040       1.000
   6    7     -1040.516       8.072       1.000
   7    9     -1042.291       9.155       0.445
   8   10     -1043.997       9.951       1.000
   9   11     -1044.043      22.724       1.000
  10   12     -1049.537      20.187       1.000
  11   13     -1054.464       8.805       1.000
  12   14     -1056.455       8.531       1.000
  13   15     -1057.408       7.881       1.000
  14   16     -1059.010       5.682       1.000
  15   18     -1062.809       7.648       0.114
  16   21     -1063.420       9.674       0.026
  17   22     -1063.863       6.199       1.000
  18   23     -1064.292       4.249       1.000
  19   24     -1064.675       3.801       1.000
  20   25     -1065.022       2.623       1.000
  21   26     -1065.086       2.161       1.000
  22   28     -1065.208       1.894       0.250
  23   29     -1065.266       1.997       1.000
  24   32     -1065.272       2.861       0.031
  25   35     -1065.466       3.911       2.103
  26   36     -1065.565       2.440       1.000
  27   37     -1065.613       2.572       1.000
  28   38     -1065.662       2.544       1.000
  29   40     -1065.713       3.096       0.276
  30   42     -1065.715       1.813       0.169
  31   43     -1065.729       1.474       1.000
  32   44     -1065.745       0.728       1.000
  33   45     -1065.751       0.771       1.000
  34   47     -1065.752       0.720       0.186
  35   48     -1065.755       0.477       1.000
  36   50     -1065.756       0.248       0.445
  37   51     -1065.756       0.360       1.000
  38   52     -1065.756       0.207       1.000
  39   53     -1065.756       0.112       1.000
  40   54     -1065.756       0.217       1.000
  41   56     -1065.756       0.094       0.116
  42   60     -1065.756       0.114       0.017
  43   61     -1065.756       0.232       1.000
  44   62     -1065.756       0.276       1.000
  45   63     -1065.756       0.146       1.000
  46   65     -1065.756       0.133       5.000
  47   66     -1065.756       0.161       1.000
  48   67     -1065.756       0.227       1.000
  49   70     -1065.756       0.363       0.051
  50   72     -1065.756       0.169       0.228
  51   74     -1065.756       0.170       0.217
  52   76     -1065.756       0.318       0.292
  53   77     -1065.756       0.282       1.000
  54   79     -1065.756       0.119       0.260
  55   80     -1065.756       0.113       1.000
  56   82     -1065.756       0.130       0.338
  57   84     -1065.756       0.135       0.105
  58   86     -1065.756       0.226       0.263
  59   89     -1065.756       0.429       0.049
  60   90     -1065.756       0.074       1.000
  61   91     -1065.756       0.113       1.000
  62   92     -1065.756       0.074       1.000
  63   94     -1065.756       0.221       5.000
  64   95     -1065.756       0.235       1.000
  65   97     -1065.756       0.228       0.349
  66   98     -1065.756       0.213       1.000
  67  100     -1065.757       0.116       0.129
  68  101     -1065.757       0.091       1.000
  69  102     -1065.757       0.086       1.000
  70  104     -1065.757       0.205       0.417
  71  106     -1065.757       0.205       0.126
  72  107     -1065.757       0.091       1.000
  73  108     -1065.757       0.110       1.000
  74  110     -1065.757       0.091       5.000
  75  113     -1065.757       0.092       0.042
  76  115     -1065.757       0.274       0.232
  77  116     -1065.757       0.282       1.000
  78  117     -1065.757       0.094       1.000
  79  118     -1065.757       0.094       1.000
  80  120     -1065.757       0.184       0.118
  81  121     -1065.757       0.153       1.000
  82  126     -1065.757       0.274       0.335
  83  131     -1065.757       0.274       0.053
  84  135     -1065.757       0.095       0.003
  85  140     -1065.757       0.098       0.110
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.04489 0.0118772 0.115655 3.46378 
0.0521671 0.915862 0.342512 -3.97935 
-0.0025226 -0.216151 1.01643 63.2942 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -492.716   GNORM= 17.7033
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -509.609      14.065       0.056
   2    4      -526.106       6.038       0.392
   3    5      -528.393       4.693       1.000
   4    7      -529.222       5.745       0.423
   5    8      -530.392       5.981       1.000
   6   10      -531.389       3.671       0.434
   7   11      -531.816       2.844       1.000
   8   12      -532.097       4.267       1.000
   9   13      -532.932       1.959       1.000
  10   14      -533.531       1.825       1.000
  11   15      -533.821       3.878       1.000
  12   18      -537.247       3.044       3.304
  13   20      -538.169       2.748       0.270
  14   21      -538.551       3.182       1.000
  15   23      -538.644       1.849       0.191
  16   27      -538.644       2.346       0.003
  17   29      -538.656       1.996       0.156
  18   30      -538.661       2.091       1.000
  19   31      -538.743       1.410       1.000
  20   33      -538.764       0.993       0.294
  21   34      -538.771       0.856       1.000
  22   36      -538.774       1.282       0.321
  23   37      -538.777       0.681       1.000
  24   38      -538.778       1.350       1.000
  25   39      -538.779       0.769       1.000
  26   41      -538.780       0.707       0.401
  27   43      -538.780       1.228       0.258
  28   44      -538.781       0.650       1.000
  29   46      -538.783       1.341       0.385
  30   48      -538.784       1.341       0.257
  31   49      -538.786       0.561       1.000
  32   51      -538.787       1.291       0.375
  33   52      -538.789       1.303       1.000
  34   54      -538.790       1.016       0.349
  35   57      -538.791       1.281       0.037
  36   58      -538.792       0.838       1.000
  37   60      -538.792       0.945       0.355
  38   62      -538.792       0.777       0.229
  39   64      -538.792       0.688       0.196
  40   65      -538.792       0.951       1.000
  41   66      -538.792       0.500       1.000
  42   67      -538.792       0.374       1.000
  43   68      -538.792       0.168       1.000
  44   69      -538.792       0.179       1.000
  45   70      -538.792       0.155       1.000
  46   71      -538.793       0.280       1.000
  47   72      -538.793       0.280       1.000
  48   73      -538.793       0.560       1.000
  49   74      -538.793       0.261       1.000
  50   75      -538.793       0.307       1.000
  51   77      -538.793       0.350       0.117
Final RAS Transform: 
1.01072 0.0204246 0.12778 4.11935 
0.112953 0.89092 0.339132 -2.41014 
0.00792878 -0.227255 1.01428 63.2496 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -201.033   GNORM= 8.93836
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -204.951       4.041       0.112
   2    4      -209.098       2.277       5.000
   3    5      -209.138       4.017       1.000
   4    6      -210.162       2.147       1.000
   5    7      -211.028       2.521       1.000
   6    8      -211.550       1.815       1.000
   7   10      -211.736       3.203       0.299
   8   11      -212.195       2.033       1.000
   9   12      -212.344       2.078       1.000
  10   13      -212.558       2.611       1.000
  11   14      -213.001       1.815       1.000
  12   15      -213.585       3.090       1.000
  13   16      -214.080       1.753       1.000
  14   17      -214.865       2.644       1.000
  15   19      -215.011       3.480       0.212
  16   23      -215.011       1.853       0.009
  17   24      -215.148       1.912       1.000
  18   27      -215.152       2.028       0.048
  19   28      -215.250       1.851       1.000
  20   29      -215.353       2.427       1.000
  21   30      -215.428       1.461       1.000
  22   31      -215.540       1.214       1.000
  23   32      -215.650       1.515       1.000
  24   33      -215.696       2.922       1.000
  25   39      -215.696       1.574       0.000
  26   40      -215.727       0.819       1.000
  27   41      -215.745       0.669       1.000
Final RAS Transform: 
1.00747 0.0179204 0.13193 4.74974 
0.125262 0.857239 0.368423 -2.0673 
0.0324682 -0.229144 0.98808 64.1447 
0 0 0 1 

Final RAS Transform: 
1.00747 0.0179204 0.13193 4.74974 
0.125262 0.857239 0.368423 -2.0673 
0.0324682 -0.229144 0.98808 64.1447 
0 0 0 1 


real	3m21.962s
user	6m1.628s
sys	0m15.452s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 48
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 50.282
LEVEL 1 of 4
  Smoothing sigmas: [8.29941, 8.21751, 8.31298], [3.38822, 3.35478, 3.39376]
Level     0,  Iter     0:    Energy =   0.0070
Level     0,  Iter     1:    Energy =   0.0100
Level     0,  Iter     2:    Energy =   0.0129
Level     0,  Iter     3:    Energy =   0.0157
Level     0,  Iter     4:    Energy =   0.0190
Level     0,  Iter     5:    Energy =   0.0218
Level     0,  Iter     6:    Energy =   0.0243
Level     0,  Iter     7:    Energy =   0.0271
Level     0,  Iter     8:    Energy =   0.0295
Level     0,  Iter     9:    Energy =   0.0314
Level     0,  Iter    10:    Energy =   0.0331
Level     0,  Iter    11:    Energy =   0.0349
Level     0,  Iter    12:    Energy =   0.0363
Level     0,  Iter    13:    Energy =   0.0374
Level     0,  Iter    14:    Energy =   0.0386
Level     0,  Iter    15:    Energy =   0.0394
Level     0,  Iter    16:    Energy =   0.0405
Level     0,  Iter    17:    Energy =   0.0411
Level     0,  Iter    18:    Energy =   0.0418
Level     0,  Iter    19:    Energy =   0.0418
Level     0,  Iter    20:    Energy =   0.0425
Level     0,  Iter    21:    Energy =   0.0428
Level     0,  Iter    22:    Energy =   0.0432
Level     0,  Iter    23:    Energy =   0.0435
Level     0,  Iter    24:    Energy =   0.0443
Level     0,  Iter    25:    Energy =   0.0444
Level     0,  Iter    26:    Energy =   0.0451
Level     0,  Iter    27:    Energy =   0.0451
Level     0,  Iter    28:    Energy =   0.0458
Level     0,  Iter    29:    Energy =   0.0458
Level     0,  Iter    30:    Energy =   0.0466
Level     0,  Iter    31:    Energy =   0.0465
Level     0,  Iter    32:    Energy =   0.0471
Level     0,  Iter    33:    Energy =   0.0470
Level     0,  Iter    34:    Energy =   0.0475
Level     0,  Iter    35:    Energy =   0.0474
Level     0,  Iter    36:    Energy =   0.0479
Level     0,  Iter    37:    Energy =   0.0479
Level     0,  Iter    38:    Energy =   0.0482
Level     0,  Iter    39:    Energy =   0.0483
Level     0,  Iter    40:    Energy =   0.0486
Level     0,  Iter    41:    Energy =   0.0486
Level     0,  Iter    42:    Energy =   0.0489
Level     0,  Iter    43:    Energy =   0.0490
Level     0,  Iter    44:    Energy =   0.0491
Level     0,  Iter    45:    Energy =   0.0492
Level     0,  Iter    46:    Energy =   0.0493
Level     0,  Iter    47:    Energy =   0.0495
Level     0,  Iter    48:    Energy =   0.0496
Level     0,  Iter    49:    Energy =   0.0497
Level     0,  Iter    50:    Energy =   0.0499
Level     0,  Iter    51:    Energy =   0.0502
Level     0,  Iter    52:    Energy =   0.0501
Level     0,  Iter    53:    Energy =   0.0504
Level     0,  Iter    54:    Energy =   0.0503
Level     0,  Iter    55:    Energy =   0.0507
Level     0,  Iter    56:    Energy =   0.0506
Level     0,  Iter    57:    Energy =   0.0508
Level     0,  Iter    58:    Energy =   0.0508
Level     0,  Iter    59:    Energy =   0.0509
END OF LEVEL     0    DetJac Range:   0.0986  to   1.8945 
  Avg. Gradient Time  : 0.0169s  34.27% 
  Avg. Gaussian Time  : 0.0243s  49.31% 
  Avg. Iteration Time : 0.0493s 
LEVEL 2 of 4
  Smoothing sigmas: [4.1497, 4.10875, 4.15649], [1.69411, 1.67739, 1.69688]
Level     1,  Iter     0:    Energy =   0.0209
Level     1,  Iter     1:    Energy =   0.0227
Level     1,  Iter     2:    Energy =   0.0243
Level     1,  Iter     3:    Energy =   0.0257
Level     1,  Iter     4:    Energy =   0.0268
Level     1,  Iter     5:    Energy =   0.0278
Level     1,  Iter     6:    Energy =   0.0288
Level     1,  Iter     7:    Energy =   0.0299
Level     1,  Iter     8:    Energy =   0.0310
Level     1,  Iter     9:    Energy =   0.0319
Level     1,  Iter    10:    Energy =   0.0328
Level     1,  Iter    11:    Energy =   0.0335
Level     1,  Iter    12:    Energy =   0.0344
Level     1,  Iter    13:    Energy =   0.0352
Level     1,  Iter    14:    Energy =   0.0360
Level     1,  Iter    15:    Energy =   0.0367
Level     1,  Iter    16:    Energy =   0.0373
Level     1,  Iter    17:    Energy =   0.0379
Level     1,  Iter    18:    Energy =   0.0383
Level     1,  Iter    19:    Energy =   0.0386
Level     1,  Iter    20:    Energy =   0.0390
Level     1,  Iter    21:    Energy =   0.0393
Level     1,  Iter    22:    Energy =   0.0396
Level     1,  Iter    23:    Energy =   0.0399
Level     1,  Iter    24:    Energy =   0.0401
Level     1,  Iter    25:    Energy =   0.0403
Level     1,  Iter    26:    Energy =   0.0405
Level     1,  Iter    27:    Energy =   0.0406
Level     1,  Iter    28:    Energy =   0.0408
Level     1,  Iter    29:    Energy =   0.0410
Level     1,  Iter    30:    Energy =   0.0411
Level     1,  Iter    31:    Energy =   0.0414
Level     1,  Iter    32:    Energy =   0.0416
Level     1,  Iter    33:    Energy =   0.0418
Level     1,  Iter    34:    Energy =   0.0419
Level     1,  Iter    35:    Energy =   0.0420
Level     1,  Iter    36:    Energy =   0.0422
Level     1,  Iter    37:    Energy =   0.0423
Level     1,  Iter    38:    Energy =   0.0425
Level     1,  Iter    39:    Energy =   0.0427
Level     1,  Iter    40:    Energy =   0.0429
Level     1,  Iter    41:    Energy =   0.0431
Level     1,  Iter    42:    Energy =   0.0433
Level     1,  Iter    43:    Energy =   0.0434
Level     1,  Iter    44:    Energy =   0.0436
Level     1,  Iter    45:    Energy =   0.0437
Level     1,  Iter    46:    Energy =   0.0437
Level     1,  Iter    47:    Energy =   0.0438
Level     1,  Iter    48:    Energy =   0.0440
Level     1,  Iter    49:    Energy =   0.0441
Level     1,  Iter    50:    Energy =   0.0442
Level     1,  Iter    51:    Energy =   0.0442
Level     1,  Iter    52:    Energy =   0.0444
Level     1,  Iter    53:    Energy =   0.0444
Level     1,  Iter    54:    Energy =   0.0446
Level     1,  Iter    55:    Energy =   0.0445
Level     1,  Iter    56:    Energy =   0.0447
Level     1,  Iter    57:    Energy =   0.0447
Level     1,  Iter    58:    Energy =   0.0449
Level     1,  Iter    59:    Energy =   0.0448
END OF LEVEL     1    DetJac Range:   0.0335  to   3.4831 
  Avg. Gradient Time  : 0.1094s  39.08% 
  Avg. Gaussian Time  : 0.1362s  48.67% 
  Avg. Iteration Time : 0.2798s 
LEVEL 3 of 4
  Smoothing sigmas: [2.07485, 2.06798, 2.07824], [0.847055, 0.84425, 0.84844]
Level     2,  Iter     0:    Energy =   0.0229
Level     2,  Iter     1:    Energy =   0.0247
Level     2,  Iter     2:    Energy =   0.0261
Level     2,  Iter     3:    Energy =   0.0275
Level     2,  Iter     4:    Energy =   0.0286
Level     2,  Iter     5:    Energy =   0.0297
Level     2,  Iter     6:    Energy =   0.0305
Level     2,  Iter     7:    Energy =   0.0311
Level     2,  Iter     8:    Energy =   0.0317
Level     2,  Iter     9:    Energy =   0.0322
Level     2,  Iter    10:    Energy =   0.0326
Level     2,  Iter    11:    Energy =   0.0329
Level     2,  Iter    12:    Energy =   0.0333
Level     2,  Iter    13:    Energy =   0.0338
Level     2,  Iter    14:    Energy =   0.0342
Level     2,  Iter    15:    Energy =   0.0346
Level     2,  Iter    16:    Energy =   0.0349
Level     2,  Iter    17:    Energy =   0.0352
Level     2,  Iter    18:    Energy =   0.0355
Level     2,  Iter    19:    Energy =   0.0358
END OF LEVEL     2    DetJac Range:   0.0351  to   4.1120 
  Avg. Gradient Time  : 0.9129s  39.48% 
  Avg. Gaussian Time  : 1.1672s  50.48% 
  Avg. Iteration Time : 2.3124s 
LEVEL 4 of 4
  Smoothing sigmas: [1.03743, 1.03743, 1.03912], [0.423527, 0.423527, 0.42422]

real	4m52.161s
user	8m15.640s
sys	0m25.532s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original /home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.02148
Thresholding #1
  Mapping range [0.02148, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.4Qeor29b/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.4Qeor29b/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.02101
Thresholding #1
  Mapping range [0.02101, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.4Qeor29b/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.4Qeor29b/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.4Qeor29b/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.4Qeor29b/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.4Qeor29b/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.4Qeor29b/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.4Qeor29b/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.4Qeor29b/sag_tse_%02d.png
++ ls /tmp/ashs.4Qeor29b/cor_mprage_00.png /tmp/ashs.4Qeor29b/cor_mprage_01.png /tmp/ashs.4Qeor29b/cor_mprage_02.png /tmp/ashs.4Qeor29b/cor_mprage_03.png /tmp/ashs.4Qeor29b/cor_mprage_04.png /tmp/ashs.4Qeor29b/cor_temp_00.png /tmp/ashs.4Qeor29b/cor_temp_01.png /tmp/ashs.4Qeor29b/cor_temp_02.png /tmp/ashs.4Qeor29b/cor_temp_03.png /tmp/ashs.4Qeor29b/cor_temp_04.png /tmp/ashs.4Qeor29b/cor_tse_00.png /tmp/ashs.4Qeor29b/cor_tse_01.png /tmp/ashs.4Qeor29b/cor_tse_02.png /tmp/ashs.4Qeor29b/cor_tse_03.png /tmp/ashs.4Qeor29b/cor_tse_04.png /tmp/ashs.4Qeor29b/sag_mprage_00.png /tmp/ashs.4Qeor29b/sag_mprage_01.png /tmp/ashs.4Qeor29b/sag_temp_00.png /tmp/ashs.4Qeor29b/sag_temp_01.png /tmp/ashs.4Qeor29b/sag_tse_00.png /tmp/ashs.4Qeor29b/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_mprage_00.png /tmp/ashs.4Qeor29b/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_mprage_01.png /tmp/ashs.4Qeor29b/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_mprage_02.png /tmp/ashs.4Qeor29b/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_mprage_03.png /tmp/ashs.4Qeor29b/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_mprage_04.png /tmp/ashs.4Qeor29b/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_temp_00.png /tmp/ashs.4Qeor29b/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_temp_01.png /tmp/ashs.4Qeor29b/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_temp_02.png /tmp/ashs.4Qeor29b/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_temp_03.png /tmp/ashs.4Qeor29b/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_temp_04.png /tmp/ashs.4Qeor29b/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_tse_00.png /tmp/ashs.4Qeor29b/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_tse_01.png /tmp/ashs.4Qeor29b/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_tse_02.png /tmp/ashs.4Qeor29b/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_tse_03.png /tmp/ashs.4Qeor29b/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_tse_04.png /tmp/ashs.4Qeor29b/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_mprage_00.png /tmp/ashs.4Qeor29b/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_mprage_01.png /tmp/ashs.4Qeor29b/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_temp_00.png /tmp/ashs.4Qeor29b/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_temp_01.png /tmp/ashs.4Qeor29b/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_tse_00.png /tmp/ashs.4Qeor29b/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_tse_01.png /tmp/ashs.4Qeor29b/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.4Qeor29b/cor_temp_00.png /tmp/ashs.4Qeor29b/cor_temp_01.png /tmp/ashs.4Qeor29b/cor_temp_02.png /tmp/ashs.4Qeor29b/cor_temp_03.png /tmp/ashs.4Qeor29b/cor_temp_04.png /tmp/ashs.4Qeor29b/sag_temp_00.png /tmp/ashs.4Qeor29b/sag_temp_01.png /tmp/ashs.4Qeor29b/cor_mprage_00.png /tmp/ashs.4Qeor29b/cor_mprage_01.png /tmp/ashs.4Qeor29b/cor_mprage_02.png /tmp/ashs.4Qeor29b/cor_mprage_03.png /tmp/ashs.4Qeor29b/cor_mprage_04.png /tmp/ashs.4Qeor29b/sag_mprage_00.png /tmp/ashs.4Qeor29b/sag_mprage_01.png /tmp/ashs.4Qeor29b/cor_tse_00.png /tmp/ashs.4Qeor29b/cor_tse_01.png /tmp/ashs.4Qeor29b/cor_tse_02.png /tmp/ashs.4Qeor29b/cor_tse_03.png /tmp/ashs.4Qeor29b/cor_tse_04.png /tmp/ashs.4Qeor29b/sag_tse_00.png /tmp/ashs.4Qeor29b/sag_tse_01.png /tmp/ashs.4Qeor29b/qa.png
+ convert /tmp/ashs.4Qeor29b/qa.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/qa
+ montage -label 26001:left /tmp/ashs.4Qeor29b/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.4Qeor29b/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.4Qeor29b/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.4Qeor29b/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.4Qeor29b/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.4Qeor29b/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.4Qeor29b/sag_tse_%02d.png
++ ls /tmp/ashs.4Qeor29b/cor_mprage_00.png /tmp/ashs.4Qeor29b/cor_mprage_01.png /tmp/ashs.4Qeor29b/cor_mprage_02.png /tmp/ashs.4Qeor29b/cor_mprage_03.png /tmp/ashs.4Qeor29b/cor_mprage_04.png /tmp/ashs.4Qeor29b/cor_temp_00.png /tmp/ashs.4Qeor29b/cor_temp_01.png /tmp/ashs.4Qeor29b/cor_temp_02.png /tmp/ashs.4Qeor29b/cor_temp_03.png /tmp/ashs.4Qeor29b/cor_temp_04.png /tmp/ashs.4Qeor29b/cor_tse_00.png /tmp/ashs.4Qeor29b/cor_tse_01.png /tmp/ashs.4Qeor29b/cor_tse_02.png /tmp/ashs.4Qeor29b/cor_tse_03.png /tmp/ashs.4Qeor29b/cor_tse_04.png /tmp/ashs.4Qeor29b/sag_mprage_00.png /tmp/ashs.4Qeor29b/sag_mprage_01.png /tmp/ashs.4Qeor29b/sag_temp_00.png /tmp/ashs.4Qeor29b/sag_temp_01.png /tmp/ashs.4Qeor29b/sag_tse_00.png /tmp/ashs.4Qeor29b/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_mprage_00.png /tmp/ashs.4Qeor29b/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_mprage_01.png /tmp/ashs.4Qeor29b/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_mprage_02.png /tmp/ashs.4Qeor29b/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_mprage_03.png /tmp/ashs.4Qeor29b/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_mprage_04.png /tmp/ashs.4Qeor29b/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_temp_00.png /tmp/ashs.4Qeor29b/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_temp_01.png /tmp/ashs.4Qeor29b/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_temp_02.png /tmp/ashs.4Qeor29b/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_temp_03.png /tmp/ashs.4Qeor29b/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_temp_04.png /tmp/ashs.4Qeor29b/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_tse_00.png /tmp/ashs.4Qeor29b/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_tse_01.png /tmp/ashs.4Qeor29b/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_tse_02.png /tmp/ashs.4Qeor29b/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_tse_03.png /tmp/ashs.4Qeor29b/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/cor_tse_04.png /tmp/ashs.4Qeor29b/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_mprage_00.png /tmp/ashs.4Qeor29b/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_mprage_01.png /tmp/ashs.4Qeor29b/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_temp_00.png /tmp/ashs.4Qeor29b/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_temp_01.png /tmp/ashs.4Qeor29b/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_tse_00.png /tmp/ashs.4Qeor29b/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.4Qeor29b/sag_tse_01.png /tmp/ashs.4Qeor29b/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.4Qeor29b/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.4Qeor29b/cor_temp_00.png /tmp/ashs.4Qeor29b/cor_temp_01.png /tmp/ashs.4Qeor29b/cor_temp_02.png /tmp/ashs.4Qeor29b/cor_temp_03.png /tmp/ashs.4Qeor29b/cor_temp_04.png /tmp/ashs.4Qeor29b/sag_temp_00.png /tmp/ashs.4Qeor29b/sag_temp_01.png /tmp/ashs.4Qeor29b/cor_mprage_00.png /tmp/ashs.4Qeor29b/cor_mprage_01.png /tmp/ashs.4Qeor29b/cor_mprage_02.png /tmp/ashs.4Qeor29b/cor_mprage_03.png /tmp/ashs.4Qeor29b/cor_mprage_04.png /tmp/ashs.4Qeor29b/sag_mprage_00.png /tmp/ashs.4Qeor29b/sag_mprage_01.png /tmp/ashs.4Qeor29b/cor_tse_00.png /tmp/ashs.4Qeor29b/cor_tse_01.png /tmp/ashs.4Qeor29b/cor_tse_02.png /tmp/ashs.4Qeor29b/cor_tse_03.png /tmp/ashs.4Qeor29b/cor_tse_04.png /tmp/ashs.4Qeor29b/sag_tse_00.png /tmp/ashs.4Qeor29b/sag_tse_01.png /tmp/ashs.4Qeor29b/qa.png
+ convert /tmp/ashs.4Qeor29b/qa.png -bordercolor Black -border 1x1 /tmp/ashs.4Qeor29b/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/qa
+ montage -label 26001:right /tmp/ashs.4Qeor29b/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.544
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 247.38   GNORM= 253.94
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        -4.059     216.823       0.004
   2    3      -112.239     161.884       1.000
   3    5      -187.824      79.012       5.000
   4    7      -287.884      70.406       5.000
   5    9      -359.471      34.287       0.251
   6   12      -382.250      68.888       0.950
   7   15      -437.636      37.627       0.680
   8   17      -442.008      46.918       0.136
   9   18      -458.566      49.698       1.000
  10   20      -462.420      28.094       0.120
  11   21      -466.267      37.276       1.000
  12   22      -480.006      29.467       1.000
  13   23      -499.599     225.296       1.000
  14   26      -499.690      54.416       0.082
  15   28      -502.358      52.332       0.440
  16   33      -516.954      48.387       1.030
  17   39      -518.967      24.818       0.074
  18   40      -575.613      48.128       1.000
  19   42      -657.557     115.486       0.500
  20   43      -789.390     436.507       1.000
Final RAS Transform: 
0.935289 -0.506872 -0.0856554 -13.0367 
-0.684218 0.748442 -0.733981 4.13502 
0.201428 -0.344433 0.588024 -0.0417747 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -379.944   GNORM= 632.542
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    9      -380.055     127.352       0.000
   2   18      -381.344    1293.152       1.027
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.935288 -0.506871 -0.0856548 -13.0367 
-0.684214 0.748438 -0.733981 4.1347 
0.201429 -0.344434 0.588024 -0.0418067 
0 0 0 1 

Final RAS Transform: 
0.935288 -0.506871 -0.0856548 -13.0367 
-0.684214 0.748438 -0.733981 4.1347 
0.201429 -0.344434 0.588024 -0.0418067 
0 0 0 1 


real	0m4.546s
user	0m7.292s
sys	0m0.576s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.400937
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0182
Level     0,  Iter     1:    Energy =   0.0196
Level     0,  Iter     2:    Energy =   0.0214
Level     0,  Iter     3:    Energy =   0.0222
Level     0,  Iter     4:    Energy =   0.0229
Level     0,  Iter     5:    Energy =   0.0236
Level     0,  Iter     6:    Energy =   0.0245
Level     0,  Iter     7:    Energy =   0.0251
Level     0,  Iter     8:    Energy =   0.0257
Level     0,  Iter     9:    Energy =   0.0262
Level     0,  Iter    10:    Energy =   0.0266
Level     0,  Iter    11:    Energy =   0.0271
Level     0,  Iter    12:    Energy =   0.0275
Level     0,  Iter    13:    Energy =   0.0277
Level     0,  Iter    14:    Energy =   0.0280
Level     0,  Iter    15:    Energy =   0.0281
Level     0,  Iter    16:    Energy =   0.0283
Level     0,  Iter    17:    Energy =   0.0285
Level     0,  Iter    18:    Energy =   0.0286
Level     0,  Iter    19:    Energy =   0.0289
Level     0,  Iter    20:    Energy =   0.0291
Level     0,  Iter    21:    Energy =   0.0293
Level     0,  Iter    22:    Energy =   0.0294
Level     0,  Iter    23:    Energy =   0.0296
Level     0,  Iter    24:    Energy =   0.0297
Level     0,  Iter    25:    Energy =   0.0300
Level     0,  Iter    26:    Energy =   0.0300
Level     0,  Iter    27:    Energy =   0.0300
Level     0,  Iter    28:    Energy =   0.0300
Level     0,  Iter    29:    Energy =   0.0301
Level     0,  Iter    30:    Energy =   0.0301
Level     0,  Iter    31:    Energy =   0.0303
Level     0,  Iter    32:    Energy =   0.0303
Level     0,  Iter    33:    Energy =   0.0305
Level     0,  Iter    34:    Energy =   0.0304
Level     0,  Iter    35:    Energy =   0.0306
Level     0,  Iter    36:    Energy =   0.0307
Level     0,  Iter    37:    Energy =   0.0309
Level     0,  Iter    38:    Energy =   0.0309
Level     0,  Iter    39:    Energy =   0.0310
Level     0,  Iter    40:    Energy =   0.0309
Level     0,  Iter    41:    Energy =   0.0311
Level     0,  Iter    42:    Energy =   0.0311
Level     0,  Iter    43:    Energy =   0.0312
Level     0,  Iter    44:    Energy =   0.0311
Level     0,  Iter    45:    Energy =   0.0314
Level     0,  Iter    46:    Energy =   0.0313
Level     0,  Iter    47:    Energy =   0.0313
Level     0,  Iter    48:    Energy =   0.0312
Level     0,  Iter    49:    Energy =   0.0315
Level     0,  Iter    50:    Energy =   0.0314
Level     0,  Iter    51:    Energy =   0.0315
Level     0,  Iter    52:    Energy =   0.0314
Level     0,  Iter    53:    Energy =   0.0317
Level     0,  Iter    54:    Energy =   0.0316
Level     0,  Iter    55:    Energy =   0.0316
Level     0,  Iter    56:    Energy =   0.0316
Level     0,  Iter    57:    Energy =   0.0318
Level     0,  Iter    58:    Energy =   0.0317
Level     0,  Iter    59:    Energy =   0.0318
END OF LEVEL     0    DetJac Range:   0.1755  to   1.6218 
  Avg. Gradient Time  : 0.0069s  32.71% 
  Avg. Gaussian Time  : 0.0102s  48.09% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0156
Level     1,  Iter     1:    Energy =   0.0168
Level     1,  Iter     2:    Energy =   0.0176
Level     1,  Iter     3:    Energy =   0.0183
Level     1,  Iter     4:    Energy =   0.0188
Level     1,  Iter     5:    Energy =   0.0193
Level     1,  Iter     6:    Energy =   0.0198
Level     1,  Iter     7:    Energy =   0.0202
Level     1,  Iter     8:    Energy =   0.0206
Level     1,  Iter     9:    Energy =   0.0208
Level     1,  Iter    10:    Energy =   0.0210
Level     1,  Iter    11:    Energy =   0.0212
Level     1,  Iter    12:    Energy =   0.0214
Level     1,  Iter    13:    Energy =   0.0215
Level     1,  Iter    14:    Energy =   0.0215
Level     1,  Iter    15:    Energy =   0.0216
Level     1,  Iter    16:    Energy =   0.0217
Level     1,  Iter    17:    Energy =   0.0217
Level     1,  Iter    18:    Energy =   0.0218
Level     1,  Iter    19:    Energy =   0.0218
Level     1,  Iter    20:    Energy =   0.0219
Level     1,  Iter    21:    Energy =   0.0219
Level     1,  Iter    22:    Energy =   0.0220
Level     1,  Iter    23:    Energy =   0.0221
Level     1,  Iter    24:    Energy =   0.0221
Level     1,  Iter    25:    Energy =   0.0222
Level     1,  Iter    26:    Energy =   0.0222
Level     1,  Iter    27:    Energy =   0.0223
Level     1,  Iter    28:    Energy =   0.0223
Level     1,  Iter    29:    Energy =   0.0224
Level     1,  Iter    30:    Energy =   0.0224
Level     1,  Iter    31:    Energy =   0.0225
Level     1,  Iter    32:    Energy =   0.0225
Level     1,  Iter    33:    Energy =   0.0226
Level     1,  Iter    34:    Energy =   0.0226
Level     1,  Iter    35:    Energy =   0.0227
Level     1,  Iter    36:    Energy =   0.0227
Level     1,  Iter    37:    Energy =   0.0227
Level     1,  Iter    38:    Energy =   0.0228
Level     1,  Iter    39:    Energy =   0.0228
Level     1,  Iter    40:    Energy =   0.0229
Level     1,  Iter    41:    Energy =   0.0229
Level     1,  Iter    42:    Energy =   0.0229
Level     1,  Iter    43:    Energy =   0.0229
Level     1,  Iter    44:    Energy =   0.0230
Level     1,  Iter    45:    Energy =   0.0230
Level     1,  Iter    46:    Energy =   0.0230
Level     1,  Iter    47:    Energy =   0.0230
Level     1,  Iter    48:    Energy =   0.0230
Level     1,  Iter    49:    Energy =   0.0231
Level     1,  Iter    50:    Energy =   0.0231
Level     1,  Iter    51:    Energy =   0.0231
Level     1,  Iter    52:    Energy =   0.0231
Level     1,  Iter    53:    Energy =   0.0231
Level     1,  Iter    54:    Energy =   0.0231
Level     1,  Iter    55:    Energy =   0.0231
Level     1,  Iter    56:    Energy =   0.0232
Level     1,  Iter    57:    Energy =   0.0232
Level     1,  Iter    58:    Energy =   0.0232
Level     1,  Iter    59:    Energy =   0.0232
END OF LEVEL     1    DetJac Range:   0.0680  to   1.8228 
  Avg. Gradient Time  : 0.0279s  33.51% 
  Avg. Gaussian Time  : 0.0438s  52.57% 
  Avg. Iteration Time : 0.0833s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0090
Level     2,  Iter     1:    Energy =   0.0094
Level     2,  Iter     2:    Energy =   0.0097
Level     2,  Iter     3:    Energy =   0.0101
Level     2,  Iter     4:    Energy =   0.0104
Level     2,  Iter     5:    Energy =   0.0107
Level     2,  Iter     6:    Energy =   0.0110
Level     2,  Iter     7:    Energy =   0.0112
Level     2,  Iter     8:    Energy =   0.0115
Level     2,  Iter     9:    Energy =   0.0117
Level     2,  Iter    10:    Energy =   0.0118
Level     2,  Iter    11:    Energy =   0.0119
Level     2,  Iter    12:    Energy =   0.0120
Level     2,  Iter    13:    Energy =   0.0122
Level     2,  Iter    14:    Energy =   0.0124
Level     2,  Iter    15:    Energy =   0.0125
Level     2,  Iter    16:    Energy =   0.0127
Level     2,  Iter    17:    Energy =   0.0128
Level     2,  Iter    18:    Energy =   0.0130
Level     2,  Iter    19:    Energy =   0.0131
END OF LEVEL     2    DetJac Range:   0.0645  to   2.0497 
  Avg. Gradient Time  : 0.1815s  31.69% 
  Avg. Gaussian Time  : 0.3123s  54.53% 
  Avg. Iteration Time : 0.5727s 

real	0m20.420s
user	0m35.596s
sys	0m2.328s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.204286
+ echo 'CHUNK 0.2 0.204286 1'
CHUNK 0.2 0.204286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.204286 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.587
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 214.722   GNORM= 146.843
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -346.688      59.335       0.034
   2    4      -501.162      85.431       1.000
   3    5      -571.451     103.750       1.000
   4    7      -575.529      80.557       0.064
   5   10      -665.762     124.718       0.074
   6   13      -690.243      99.684       0.700
   7   15      -728.306      52.491       5.000
   8   17      -738.530      47.903       0.558
   9   24      -739.780      88.945       0.001
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.08994 -0.141023 0.118752 -4.40428 
-0.0432312 1.06943 -0.0583277 3.04393 
-0.00497176 -0.175849 0.979655 -2.76431 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -335.594   GNORM= 59.676
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -361.170      45.432       0.017
   2   11      -370.334      18.862       1.211
   3   18      -372.129      38.268       1.007
   4   23      -376.684      94.602       0.948
   5   27      -385.595     197.728       0.183
   6   29      -396.678      11.655       0.145
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.09142 -0.140932 0.11192 -4.35153 
-0.0346412 1.05804 -0.0260305 0.66646 
-0.00877623 -0.16517 0.987741 -2.61944 
0 0 0 1 

Final RAS Transform: 
1.09142 -0.140932 0.11192 -4.35153 
-0.0346412 1.05804 -0.0260305 0.66646 
-0.00877623 -0.16517 0.987741 -2.61944 
0 0 0 1 


real	0m5.032s
user	0m8.296s
sys	0m0.568s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.455163
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0148
Level     0,  Iter     1:    Energy =   0.0167
Level     0,  Iter     2:    Energy =   0.0187
Level     0,  Iter     3:    Energy =   0.0209
Level     0,  Iter     4:    Energy =   0.0228
Level     0,  Iter     5:    Energy =   0.0242
Level     0,  Iter     6:    Energy =   0.0252
Level     0,  Iter     7:    Energy =   0.0261
Level     0,  Iter     8:    Energy =   0.0270
Level     0,  Iter     9:    Energy =   0.0277
Level     0,  Iter    10:    Energy =   0.0285
Level     0,  Iter    11:    Energy =   0.0293
Level     0,  Iter    12:    Energy =   0.0299
Level     0,  Iter    13:    Energy =   0.0306
Level     0,  Iter    14:    Energy =   0.0312
Level     0,  Iter    15:    Energy =   0.0318
Level     0,  Iter    16:    Energy =   0.0325
Level     0,  Iter    17:    Energy =   0.0331
Level     0,  Iter    18:    Energy =   0.0336
Level     0,  Iter    19:    Energy =   0.0341
Level     0,  Iter    20:    Energy =   0.0347
Level     0,  Iter    21:    Energy =   0.0351
Level     0,  Iter    22:    Energy =   0.0355
Level     0,  Iter    23:    Energy =   0.0359
Level     0,  Iter    24:    Energy =   0.0362
Level     0,  Iter    25:    Energy =   0.0365
Level     0,  Iter    26:    Energy =   0.0368
Level     0,  Iter    27:    Energy =   0.0370
Level     0,  Iter    28:    Energy =   0.0374
Level     0,  Iter    29:    Energy =   0.0377
Level     0,  Iter    30:    Energy =   0.0380
Level     0,  Iter    31:    Energy =   0.0383
Level     0,  Iter    32:    Energy =   0.0385
Level     0,  Iter    33:    Energy =   0.0387
Level     0,  Iter    34:    Energy =   0.0389
Level     0,  Iter    35:    Energy =   0.0390
Level     0,  Iter    36:    Energy =   0.0391
Level     0,  Iter    37:    Energy =   0.0392
Level     0,  Iter    38:    Energy =   0.0393
Level     0,  Iter    39:    Energy =   0.0394
Level     0,  Iter    40:    Energy =   0.0395
Level     0,  Iter    41:    Energy =   0.0396
Level     0,  Iter    42:    Energy =   0.0396
Level     0,  Iter    43:    Energy =   0.0397
Level     0,  Iter    44:    Energy =   0.0398
Level     0,  Iter    45:    Energy =   0.0398
Level     0,  Iter    46:    Energy =   0.0399
Level     0,  Iter    47:    Energy =   0.0399
Level     0,  Iter    48:    Energy =   0.0400
Level     0,  Iter    49:    Energy =   0.0400
Level     0,  Iter    50:    Energy =   0.0400
Level     0,  Iter    51:    Energy =   0.0401
Level     0,  Iter    52:    Energy =   0.0401
Level     0,  Iter    53:    Energy =   0.0401
Level     0,  Iter    54:    Energy =   0.0401
Level     0,  Iter    55:    Energy =   0.0401
Level     0,  Iter    56:    Energy =   0.0401
Level     0,  Iter    57:    Energy =   0.0401
Level     0,  Iter    58:    Energy =   0.0401
Level     0,  Iter    59:    Energy =   0.0401
END OF LEVEL     0    DetJac Range:   0.0194  to   2.4153 
  Avg. Gradient Time  : 0.0069s  32.41% 
  Avg. Gaussian Time  : 0.0103s  48.38% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0244
Level     1,  Iter     1:    Energy =   0.0254
Level     1,  Iter     2:    Energy =   0.0262
Level     1,  Iter     3:    Energy =   0.0270
Level     1,  Iter     4:    Energy =   0.0277
Level     1,  Iter     5:    Energy =   0.0282
Level     1,  Iter     6:    Energy =   0.0287
Level     1,  Iter     7:    Energy =   0.0292
Level     1,  Iter     8:    Energy =   0.0296
Level     1,  Iter     9:    Energy =   0.0300
Level     1,  Iter    10:    Energy =   0.0303
Level     1,  Iter    11:    Energy =   0.0307
Level     1,  Iter    12:    Energy =   0.0310
Level     1,  Iter    13:    Energy =   0.0313
Level     1,  Iter    14:    Energy =   0.0315
Level     1,  Iter    15:    Energy =   0.0317
Level     1,  Iter    16:    Energy =   0.0320
Level     1,  Iter    17:    Energy =   0.0322
Level     1,  Iter    18:    Energy =   0.0324
Level     1,  Iter    19:    Energy =   0.0326
Level     1,  Iter    20:    Energy =   0.0328
Level     1,  Iter    21:    Energy =   0.0330
Level     1,  Iter    22:    Energy =   0.0332
Level     1,  Iter    23:    Energy =   0.0333
Level     1,  Iter    24:    Energy =   0.0335
Level     1,  Iter    25:    Energy =   0.0336
Level     1,  Iter    26:    Energy =   0.0337
Level     1,  Iter    27:    Energy =   0.0338
Level     1,  Iter    28:    Energy =   0.0339
Level     1,  Iter    29:    Energy =   0.0340
Level     1,  Iter    30:    Energy =   0.0341
Level     1,  Iter    31:    Energy =   0.0341
Level     1,  Iter    32:    Energy =   0.0342
Level     1,  Iter    33:    Energy =   0.0343
Level     1,  Iter    34:    Energy =   0.0344
Level     1,  Iter    35:    Energy =   0.0344
Level     1,  Iter    36:    Energy =   0.0345
Level     1,  Iter    37:    Energy =   0.0346
Level     1,  Iter    38:    Energy =   0.0346
Level     1,  Iter    39:    Energy =   0.0347
Level     1,  Iter    40:    Energy =   0.0347
Level     1,  Iter    41:    Energy =   0.0348
Level     1,  Iter    42:    Energy =   0.0348
Level     1,  Iter    43:    Energy =   0.0349
Level     1,  Iter    44:    Energy =   0.0349
Level     1,  Iter    45:    Energy =   0.0350
Level     1,  Iter    46:    Energy =   0.0350
Level     1,  Iter    47:    Energy =   0.0351
Level     1,  Iter    48:    Energy =   0.0351
Level     1,  Iter    49:    Energy =   0.0352
Level     1,  Iter    50:    Energy =   0.0352
Level     1,  Iter    51:    Energy =   0.0352
Level     1,  Iter    52:    Energy =   0.0352
Level     1,  Iter    53:    Energy =   0.0353
Level     1,  Iter    54:    Energy =   0.0353
Level     1,  Iter    55:    Energy =   0.0353
Level     1,  Iter    56:    Energy =   0.0354
Level     1,  Iter    57:    Energy =   0.0354
Level     1,  Iter    58:    Energy =   0.0354
Level     1,  Iter    59:    Energy =   0.0355
END OF LEVEL     1    DetJac Range:   0.0107  to   3.2524 
  Avg. Gradient Time  : 0.0288s  33.58% 
  Avg. Gaussian Time  : 0.0449s  52.34% 
  Avg. Iteration Time : 0.0858s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0147
Level     2,  Iter     1:    Energy =   0.0156
Level     2,  Iter     2:    Energy =   0.0163
Level     2,  Iter     3:    Energy =   0.0169
Level     2,  Iter     4:    Energy =   0.0175
Level     2,  Iter     5:    Energy =   0.0179
Level     2,  Iter     6:    Energy =   0.0184
Level     2,  Iter     7:    Energy =   0.0188
Level     2,  Iter     8:    Energy =   0.0191
Level     2,  Iter     9:    Energy =   0.0195
Level     2,  Iter    10:    Energy =   0.0198
Level     2,  Iter    11:    Energy =   0.0201
Level     2,  Iter    12:    Energy =   0.0205
Level     2,  Iter    13:    Energy =   0.0205
Level     2,  Iter    14:    Energy =   0.0208
Level     2,  Iter    15:    Energy =   0.0212
Level     2,  Iter    16:    Energy =   0.0214
Level     2,  Iter    17:    Energy =   0.0218
Level     2,  Iter    18:    Energy =   0.0220
Level     2,  Iter    19:    Energy =   0.0219
END OF LEVEL     2    DetJac Range:   0.0119  to   4.0400 
  Avg. Gradient Time  : 0.1875s  31.81% 
  Avg. Gaussian Time  : 0.3206s  54.38% 
  Avg. Iteration Time : 0.5894s 

real	0m20.992s
user	0m36.660s
sys	0m2.260s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.204286 0.208571
+ echo 'CHUNK 0.204286 0.208571 1'
CHUNK 0.204286 0.208571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.204286 0.208571 1
====================================
         PROGRESS: 0.204286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.573
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 298.793   GNORM= 265.528
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        73.973     240.556       0.004
   2    3      -153.446     130.834       1.000
   3    4      -378.156     361.348       1.000
   4    6      -420.200     109.836       0.256
   5    9      -578.845      83.740       2.323
   6   10      -585.972      47.354       1.000
   7   11      -611.384     232.885       1.000
   8   13      -619.410      63.848       0.073
   9   16      -619.587      66.647       0.000
  10   18      -630.207      72.771       0.424
  11   19      -631.384      34.121       1.000
  12   20      -631.733      85.801       1.000
  13   23      -633.228      24.220       0.087
  14   26      -638.391      39.556      21.000
  15   27      -650.883      19.923       1.000
  16   29      -655.386      33.367       0.052
  17   31      -657.735      45.436       0.174
  18   34      -716.342      31.490      21.000
  19   35      -718.326     130.463       1.000
  20   37      -759.297     119.533       0.457
  21   39      -781.963      82.914       0.441
  22   43      -799.316     159.397       1.373
  23   44      -832.024      44.510       1.000
  24   46      -838.579      53.037       0.329
  25   47      -860.897      63.693       1.000
  26   49      -873.997      61.990       0.219
  27   55      -883.863      53.173       1.030
  28   59      -884.851      50.077       1.351
  29   60      -886.191      37.718       1.000
Final RAS Transform: 
1.35377 0.0635546 0.185362 2.49284 
-0.104324 0.809557 -0.495288 8.09796 
-0.0132567 -0.224329 0.896429 -7.07078 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -397.698   GNORM= 425.412
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -423.490      39.573       0.002
   2   13      -424.098      29.214       0.998
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.35399 0.0630529 0.186511 2.41697 
-0.107775 0.814056 -0.503756 8.68268 
-0.0108585 -0.228352 0.901828 -7.46246 
0 0 0 1 

Final RAS Transform: 
1.35399 0.0630529 0.186511 2.41697 
-0.107775 0.814056 -0.503756 8.68268 
-0.0108585 -0.228352 0.901828 -7.46246 
0 0 0 1 


real	0m4.274s
user	0m6.752s
sys	0m0.584s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.42965
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0174
Level     0,  Iter     1:    Energy =   0.0190
Level     0,  Iter     2:    Energy =   0.0210
Level     0,  Iter     3:    Energy =   0.0229
Level     0,  Iter     4:    Energy =   0.0242
Level     0,  Iter     5:    Energy =   0.0258
Level     0,  Iter     6:    Energy =   0.0266
Level     0,  Iter     7:    Energy =   0.0272
Level     0,  Iter     8:    Energy =   0.0279
Level     0,  Iter     9:    Energy =   0.0286
Level     0,  Iter    10:    Energy =   0.0290
Level     0,  Iter    11:    Energy =   0.0296
Level     0,  Iter    12:    Energy =   0.0302
Level     0,  Iter    13:    Energy =   0.0307
Level     0,  Iter    14:    Energy =   0.0311
Level     0,  Iter    15:    Energy =   0.0316
Level     0,  Iter    16:    Energy =   0.0320
Level     0,  Iter    17:    Energy =   0.0326
Level     0,  Iter    18:    Energy =   0.0329
Level     0,  Iter    19:    Energy =   0.0335
Level     0,  Iter    20:    Energy =   0.0337
Level     0,  Iter    21:    Energy =   0.0341
Level     0,  Iter    22:    Energy =   0.0344
Level     0,  Iter    23:    Energy =   0.0349
Level     0,  Iter    24:    Energy =   0.0350
Level     0,  Iter    25:    Energy =   0.0354
Level     0,  Iter    26:    Energy =   0.0356
Level     0,  Iter    27:    Energy =   0.0359
Level     0,  Iter    28:    Energy =   0.0360
Level     0,  Iter    29:    Energy =   0.0362
Level     0,  Iter    30:    Energy =   0.0363
Level     0,  Iter    31:    Energy =   0.0365
Level     0,  Iter    32:    Energy =   0.0366
Level     0,  Iter    33:    Energy =   0.0368
Level     0,  Iter    34:    Energy =   0.0370
Level     0,  Iter    35:    Energy =   0.0371
Level     0,  Iter    36:    Energy =   0.0373
Level     0,  Iter    37:    Energy =   0.0374
Level     0,  Iter    38:    Energy =   0.0376
Level     0,  Iter    39:    Energy =   0.0378
Level     0,  Iter    40:    Energy =   0.0379
Level     0,  Iter    41:    Energy =   0.0381
Level     0,  Iter    42:    Energy =   0.0381
Level     0,  Iter    43:    Energy =   0.0384
Level     0,  Iter    44:    Energy =   0.0384
Level     0,  Iter    45:    Energy =   0.0386
Level     0,  Iter    46:    Energy =   0.0386
Level     0,  Iter    47:    Energy =   0.0388
Level     0,  Iter    48:    Energy =   0.0388
Level     0,  Iter    49:    Energy =   0.0389
Level     0,  Iter    50:    Energy =   0.0390
Level     0,  Iter    51:    Energy =   0.0390
Level     0,  Iter    52:    Energy =   0.0391
Level     0,  Iter    53:    Energy =   0.0391
Level     0,  Iter    54:    Energy =   0.0391
Level     0,  Iter    55:    Energy =   0.0392
Level     0,  Iter    56:    Energy =   0.0392
Level     0,  Iter    57:    Energy =   0.0393
Level     0,  Iter    58:    Energy =   0.0394
Level     0,  Iter    59:    Energy =   0.0394
END OF LEVEL     0    DetJac Range:   0.0122  to   2.8929 
  Avg. Gradient Time  : 0.0068s  33.09% 
  Avg. Gaussian Time  : 0.0099s  47.91% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0219
Level     1,  Iter     1:    Energy =   0.0225
Level     1,  Iter     2:    Energy =   0.0230
Level     1,  Iter     3:    Energy =   0.0234
Level     1,  Iter     4:    Energy =   0.0238
Level     1,  Iter     5:    Energy =   0.0243
Level     1,  Iter     6:    Energy =   0.0248
Level     1,  Iter     7:    Energy =   0.0255
Level     1,  Iter     8:    Energy =   0.0261
Level     1,  Iter     9:    Energy =   0.0266
Level     1,  Iter    10:    Energy =   0.0270
Level     1,  Iter    11:    Energy =   0.0275
Level     1,  Iter    12:    Energy =   0.0279
Level     1,  Iter    13:    Energy =   0.0282
Level     1,  Iter    14:    Energy =   0.0284
Level     1,  Iter    15:    Energy =   0.0287
Level     1,  Iter    16:    Energy =   0.0288
Level     1,  Iter    17:    Energy =   0.0289
Level     1,  Iter    18:    Energy =   0.0290
Level     1,  Iter    19:    Energy =   0.0291
Level     1,  Iter    20:    Energy =   0.0293
Level     1,  Iter    21:    Energy =   0.0294
Level     1,  Iter    22:    Energy =   0.0294
Level     1,  Iter    23:    Energy =   0.0295
Level     1,  Iter    24:    Energy =   0.0296
Level     1,  Iter    25:    Energy =   0.0297
Level     1,  Iter    26:    Energy =   0.0298
Level     1,  Iter    27:    Energy =   0.0298
Level     1,  Iter    28:    Energy =   0.0299
Level     1,  Iter    29:    Energy =   0.0300
Level     1,  Iter    30:    Energy =   0.0300
Level     1,  Iter    31:    Energy =   0.0301
Level     1,  Iter    32:    Energy =   0.0301
Level     1,  Iter    33:    Energy =   0.0302
Level     1,  Iter    34:    Energy =   0.0302
Level     1,  Iter    35:    Energy =   0.0302
Level     1,  Iter    36:    Energy =   0.0302
Level     1,  Iter    37:    Energy =   0.0302
Level     1,  Iter    38:    Energy =   0.0302
Level     1,  Iter    39:    Energy =   0.0302
Level     1,  Iter    40:    Energy =   0.0302
Level     1,  Iter    41:    Energy =   0.0303
Level     1,  Iter    42:    Energy =   0.0303
Level     1,  Iter    43:    Energy =   0.0304
Level     1,  Iter    44:    Energy =   0.0304
Level     1,  Iter    45:    Energy =   0.0304
Level     1,  Iter    46:    Energy =   0.0305
Level     1,  Iter    47:    Energy =   0.0305
Level     1,  Iter    48:    Energy =   0.0305
Level     1,  Iter    49:    Energy =   0.0305
Level     1,  Iter    50:    Energy =   0.0305
Level     1,  Iter    51:    Energy =   0.0306
Level     1,  Iter    52:    Energy =   0.0306
Level     1,  Iter    53:    Energy =   0.0306
Level     1,  Iter    54:    Energy =   0.0307
Level     1,  Iter    55:    Energy =   0.0307
Level     1,  Iter    56:    Energy =   0.0307
Level     1,  Iter    57:    Energy =   0.0308
Level     1,  Iter    58:    Energy =   0.0308
Level     1,  Iter    59:    Energy =   0.0309
END OF LEVEL     1    DetJac Range:   0.0189  to   2.8623 
  Avg. Gradient Time  : 0.0293s  33.75% 
  Avg. Gaussian Time  : 0.0455s  52.31% 
  Avg. Iteration Time : 0.0869s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0126
Level     2,  Iter     1:    Energy =   0.0132
Level     2,  Iter     2:    Energy =   0.0138
Level     2,  Iter     3:    Energy =   0.0140
Level     2,  Iter     4:    Energy =   0.0144
Level     2,  Iter     5:    Energy =   0.0147
Level     2,  Iter     6:    Energy =   0.0151
Level     2,  Iter     7:    Energy =   0.0155
Level     2,  Iter     8:    Energy =   0.0159
Level     2,  Iter     9:    Energy =   0.0161
Level     2,  Iter    10:    Energy =   0.0161
Level     2,  Iter    11:    Energy =   0.0164
Level     2,  Iter    12:    Energy =   0.0167
Level     2,  Iter    13:    Energy =   0.0168
Level     2,  Iter    14:    Energy =   0.0170
Level     2,  Iter    15:    Energy =   0.0172
Level     2,  Iter    16:    Energy =   0.0174
Level     2,  Iter    17:    Energy =   0.0176
Level     2,  Iter    18:    Energy =   0.0178
Level     2,  Iter    19:    Energy =   0.0180
END OF LEVEL     2    DetJac Range:   0.0212  to   2.6396 
  Avg. Gradient Time  : 0.1884s  32.01% 
  Avg. Gaussian Time  : 0.3197s  54.32% 
  Avg. Iteration Time : 0.5885s 

real	0m21.007s
user	0m36.776s
sys	0m2.188s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.208571 0.212857
+ echo 'CHUNK 0.208571 0.212857 1'
CHUNK 0.208571 0.212857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.208571 0.212857 1
====================================
         PROGRESS: 0.208571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 304.759   GNORM= 236.088
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -275.254     235.510       0.021
   2    5      -677.153     138.184       0.265
   3    7      -692.482     109.907       0.111
   4    9      -713.753      92.517       0.106
   5   11      -737.687      37.696       0.294
   6   13      -755.549      49.696       5.000
   7   14      -773.095      85.757       1.000
   8   15      -789.998      93.625       1.000
   9   16      -813.278      43.525       1.000
  10   18      -817.891      22.708       0.517
  11   19      -820.256      19.044       1.000
  12   20      -821.599      14.380       1.000
  13   21      -827.913      17.220       1.000
  14   24      -829.318      19.357       0.036
  15   25      -833.529      25.179       1.000
  16   26      -848.676      66.809       1.000
  17   27      -854.224      48.961       1.000
  18   28      -858.670      23.804       1.000
  19   29      -863.195      22.535       1.000
  20   30      -877.319      25.207       1.000
  21   32      -881.543      51.405       0.076
  22   35      -886.080     107.331       0.035
  23   37      -889.539     137.195       0.412
  24   38      -901.132     105.151       1.000
  25   39      -907.722      27.851       1.000
  26   40      -910.214      51.979       1.000
  27   41      -911.181      35.764       1.000
  28   42      -913.877      18.921       1.000
  29   43      -916.768      17.051       1.000
  30   45      -918.760      29.569       0.311
  31   46      -921.642      25.023       1.000
  32   47      -927.864      71.706       1.000
  33   48      -931.696      52.097       1.000
  34   49      -934.681      41.055       1.000
  35   51      -943.020      54.167       0.364
Final RAS Transform: 
1.02043 0.054164 0.369427 -4.00524 
0.110136 1.17301 -0.00453664 5.46431 
-0.188037 -0.138632 0.803888 -11.8066 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -500.604   GNORM= 43.1903
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -500.678      15.963       0.001
   2    7      -501.218      15.161       1.000
   3   12      -502.254      14.080       3.519
   4   15      -504.865      80.351       1.538
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02016 0.0541937 0.367307 -3.65108 
0.111157 1.17864 -0.00346064 5.33294 
-0.192087 -0.125627 0.80934 -12.4112 
0 0 0 1 

Final RAS Transform: 
1.02016 0.0541937 0.367307 -3.65108 
0.111157 1.17864 -0.00346064 5.33294 
-0.192087 -0.125627 0.80934 -12.4112 
0 0 0 1 


real	0m4.408s
user	0m7.048s
sys	0m0.544s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.487343
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0202
Level     0,  Iter     1:    Energy =   0.0215
Level     0,  Iter     2:    Energy =   0.0242
Level     0,  Iter     3:    Energy =   0.0264
Level     0,  Iter     4:    Energy =   0.0282
Level     0,  Iter     5:    Energy =   0.0299
Level     0,  Iter     6:    Energy =   0.0313
Level     0,  Iter     7:    Energy =   0.0322
Level     0,  Iter     8:    Energy =   0.0330
Level     0,  Iter     9:    Energy =   0.0337
Level     0,  Iter    10:    Energy =   0.0343
Level     0,  Iter    11:    Energy =   0.0349
Level     0,  Iter    12:    Energy =   0.0354
Level     0,  Iter    13:    Energy =   0.0358
Level     0,  Iter    14:    Energy =   0.0363
Level     0,  Iter    15:    Energy =   0.0368
Level     0,  Iter    16:    Energy =   0.0373
Level     0,  Iter    17:    Energy =   0.0379
Level     0,  Iter    18:    Energy =   0.0384
Level     0,  Iter    19:    Energy =   0.0389
Level     0,  Iter    20:    Energy =   0.0394
Level     0,  Iter    21:    Energy =   0.0399
Level     0,  Iter    22:    Energy =   0.0404
Level     0,  Iter    23:    Energy =   0.0409
Level     0,  Iter    24:    Energy =   0.0413
Level     0,  Iter    25:    Energy =   0.0417
Level     0,  Iter    26:    Energy =   0.0420
Level     0,  Iter    27:    Energy =   0.0423
Level     0,  Iter    28:    Energy =   0.0426
Level     0,  Iter    29:    Energy =   0.0428
Level     0,  Iter    30:    Energy =   0.0429
Level     0,  Iter    31:    Energy =   0.0432
Level     0,  Iter    32:    Energy =   0.0434
Level     0,  Iter    33:    Energy =   0.0436
Level     0,  Iter    34:    Energy =   0.0439
Level     0,  Iter    35:    Energy =   0.0441
Level     0,  Iter    36:    Energy =   0.0443
Level     0,  Iter    37:    Energy =   0.0444
Level     0,  Iter    38:    Energy =   0.0446
Level     0,  Iter    39:    Energy =   0.0446
Level     0,  Iter    40:    Energy =   0.0448
Level     0,  Iter    41:    Energy =   0.0448
Level     0,  Iter    42:    Energy =   0.0450
Level     0,  Iter    43:    Energy =   0.0451
Level     0,  Iter    44:    Energy =   0.0452
Level     0,  Iter    45:    Energy =   0.0453
Level     0,  Iter    46:    Energy =   0.0453
Level     0,  Iter    47:    Energy =   0.0454
Level     0,  Iter    48:    Energy =   0.0455
Level     0,  Iter    49:    Energy =   0.0455
Level     0,  Iter    50:    Energy =   0.0456
Level     0,  Iter    51:    Energy =   0.0456
Level     0,  Iter    52:    Energy =   0.0457
Level     0,  Iter    53:    Energy =   0.0457
Level     0,  Iter    54:    Energy =   0.0458
Level     0,  Iter    55:    Energy =   0.0459
Level     0,  Iter    56:    Energy =   0.0459
Level     0,  Iter    57:    Energy =   0.0460
Level     0,  Iter    58:    Energy =   0.0460
Level     0,  Iter    59:    Energy =   0.0461
END OF LEVEL     0    DetJac Range:   0.0186  to   3.7324 
  Avg. Gradient Time  : 0.0065s  32.65% 
  Avg. Gaussian Time  : 0.0096s  48.50% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0261
Level     1,  Iter     1:    Energy =   0.0267
Level     1,  Iter     2:    Energy =   0.0272
Level     1,  Iter     3:    Energy =   0.0277
Level     1,  Iter     4:    Energy =   0.0281
Level     1,  Iter     5:    Energy =   0.0284
Level     1,  Iter     6:    Energy =   0.0288
Level     1,  Iter     7:    Energy =   0.0292
Level     1,  Iter     8:    Energy =   0.0296
Level     1,  Iter     9:    Energy =   0.0300
Level     1,  Iter    10:    Energy =   0.0304
Level     1,  Iter    11:    Energy =   0.0310
Level     1,  Iter    12:    Energy =   0.0316
Level     1,  Iter    13:    Energy =   0.0323
Level     1,  Iter    14:    Energy =   0.0331
Level     1,  Iter    15:    Energy =   0.0338
Level     1,  Iter    16:    Energy =   0.0344
Level     1,  Iter    17:    Energy =   0.0350
Level     1,  Iter    18:    Energy =   0.0354
Level     1,  Iter    19:    Energy =   0.0359
Level     1,  Iter    20:    Energy =   0.0364
Level     1,  Iter    21:    Energy =   0.0367
Level     1,  Iter    22:    Energy =   0.0371
Level     1,  Iter    23:    Energy =   0.0374
Level     1,  Iter    24:    Energy =   0.0376
Level     1,  Iter    25:    Energy =   0.0378
Level     1,  Iter    26:    Energy =   0.0379
Level     1,  Iter    27:    Energy =   0.0381
Level     1,  Iter    28:    Energy =   0.0382
Level     1,  Iter    29:    Energy =   0.0383
Level     1,  Iter    30:    Energy =   0.0384
Level     1,  Iter    31:    Energy =   0.0386
Level     1,  Iter    32:    Energy =   0.0387
Level     1,  Iter    33:    Energy =   0.0387
Level     1,  Iter    34:    Energy =   0.0388
Level     1,  Iter    35:    Energy =   0.0388
Level     1,  Iter    36:    Energy =   0.0389
Level     1,  Iter    37:    Energy =   0.0389
Level     1,  Iter    38:    Energy =   0.0390
Level     1,  Iter    39:    Energy =   0.0390
Level     1,  Iter    40:    Energy =   0.0391
Level     1,  Iter    41:    Energy =   0.0391
Level     1,  Iter    42:    Energy =   0.0391
Level     1,  Iter    43:    Energy =   0.0392
Level     1,  Iter    44:    Energy =   0.0392
Level     1,  Iter    45:    Energy =   0.0392
Level     1,  Iter    46:    Energy =   0.0392
Level     1,  Iter    47:    Energy =   0.0393
Level     1,  Iter    48:    Energy =   0.0392
Level     1,  Iter    49:    Energy =   0.0392
Level     1,  Iter    50:    Energy =   0.0392
Level     1,  Iter    51:    Energy =   0.0393
Level     1,  Iter    52:    Energy =   0.0393
Level     1,  Iter    53:    Energy =   0.0393
Level     1,  Iter    54:    Energy =   0.0393
Level     1,  Iter    55:    Energy =   0.0393
Level     1,  Iter    56:    Energy =   0.0393
Level     1,  Iter    57:    Energy =   0.0393
Level     1,  Iter    58:    Energy =   0.0393
Level     1,  Iter    59:    Energy =   0.0393
END OF LEVEL     1    DetJac Range:   0.0128  to   3.7913 
  Avg. Gradient Time  : 0.0289s  33.45% 
  Avg. Gaussian Time  : 0.0455s  52.71% 
  Avg. Iteration Time : 0.0863s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0158
Level     2,  Iter     1:    Energy =   0.0165
Level     2,  Iter     2:    Energy =   0.0170
Level     2,  Iter     3:    Energy =   0.0175
Level     2,  Iter     4:    Energy =   0.0179
Level     2,  Iter     5:    Energy =   0.0182
Level     2,  Iter     6:    Energy =   0.0185
Level     2,  Iter     7:    Energy =   0.0187
Level     2,  Iter     8:    Energy =   0.0189
Level     2,  Iter     9:    Energy =   0.0192
Level     2,  Iter    10:    Energy =   0.0194
Level     2,  Iter    11:    Energy =   0.0196
Level     2,  Iter    12:    Energy =   0.0198
Level     2,  Iter    13:    Energy =   0.0200
Level     2,  Iter    14:    Energy =   0.0202
Level     2,  Iter    15:    Energy =   0.0204
Level     2,  Iter    16:    Energy =   0.0207
Level     2,  Iter    17:    Energy =   0.0209
Level     2,  Iter    18:    Energy =   0.0211
Level     2,  Iter    19:    Energy =   0.0214
END OF LEVEL     2    DetJac Range:   0.0069  to   4.5997 
  Avg. Gradient Time  : 0.1828s  31.55% 
  Avg. Gaussian Time  : 0.3162s  54.57% 
  Avg. Iteration Time : 0.5794s 

real	0m20.698s
user	0m36.136s
sys	0m2.244s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.212857 0.217143
+ echo 'CHUNK 0.212857 0.217143 1'
CHUNK 0.212857 0.217143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.212857 0.217143 1
====================================
         PROGRESS: 0.212857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.512
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 269.748   GNORM= 126.502
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       191.649      79.567       0.008
   2    6      -200.084      29.835      13.088
   3    8      -213.730      26.222       0.294
   4    9      -222.658      63.137       1.000
   5   10      -288.811      54.810       1.000
   6   12      -327.100      28.884       0.190
   7   15      -327.368      27.170       0.012
   8   17      -327.567      18.442       0.063
   9   19      -329.328      22.687       0.208
  10   20      -331.794      20.964       1.000
  11   22      -332.037      26.264       0.022
  12   23      -332.335      30.840       1.000
  13   25      -332.792      92.478       0.522
  14   27      -333.673      28.642       0.005
  15   28      -339.577      25.763       1.000
  16   33      -341.521      54.107       0.554
  17   37      -353.627      55.208       0.066
  18   40      -357.632      35.493       0.111
  19   45      -379.438      35.857       0.927
  20   48      -384.335      38.180       0.037
  21   49      -384.869     594.050       1.000
  22   51      -496.193     431.400       0.162
  23   54      -553.411      30.104       0.036
Final RAS Transform: 
1.24549 -0.375217 -0.571135 -12.6658 
-0.807611 0.790631 -0.0585352 8.50528 
0.44073 -0.00437715 1.68825 7.01582 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -266.674   GNORM= 25045.2
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -267.385     204.887       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.24534 -0.374544 -0.571595 -12.6131 
-0.806749 0.791055 -0.0585622 8.54996 
0.440974 -0.00481482 1.68824 6.98646 
0 0 0 1 

Final RAS Transform: 
1.24534 -0.374544 -0.571595 -12.6131 
-0.806749 0.791055 -0.0585622 8.54996 
0.440974 -0.00481482 1.68824 6.98646 
0 0 0 1 


real	0m3.750s
user	0m5.820s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.34494
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0117
Level     0,  Iter     1:    Energy =   0.0131
Level     0,  Iter     2:    Energy =   0.0150
Level     0,  Iter     3:    Energy =   0.0167
Level     0,  Iter     4:    Energy =   0.0182
Level     0,  Iter     5:    Energy =   0.0195
Level     0,  Iter     6:    Energy =   0.0203
Level     0,  Iter     7:    Energy =   0.0212
Level     0,  Iter     8:    Energy =   0.0219
Level     0,  Iter     9:    Energy =   0.0225
Level     0,  Iter    10:    Energy =   0.0230
Level     0,  Iter    11:    Energy =   0.0235
Level     0,  Iter    12:    Energy =   0.0239
Level     0,  Iter    13:    Energy =   0.0240
Level     0,  Iter    14:    Energy =   0.0241
Level     0,  Iter    15:    Energy =   0.0244
Level     0,  Iter    16:    Energy =   0.0246
Level     0,  Iter    17:    Energy =   0.0246
Level     0,  Iter    18:    Energy =   0.0248
Level     0,  Iter    19:    Energy =   0.0251
Level     0,  Iter    20:    Energy =   0.0252
Level     0,  Iter    21:    Energy =   0.0254
Level     0,  Iter    22:    Energy =   0.0255
Level     0,  Iter    23:    Energy =   0.0257
Level     0,  Iter    24:    Energy =   0.0258
Level     0,  Iter    25:    Energy =   0.0260
Level     0,  Iter    26:    Energy =   0.0260
Level     0,  Iter    27:    Energy =   0.0261
Level     0,  Iter    28:    Energy =   0.0261
Level     0,  Iter    29:    Energy =   0.0263
Level     0,  Iter    30:    Energy =   0.0264
Level     0,  Iter    31:    Energy =   0.0263
Level     0,  Iter    32:    Energy =   0.0263
Level     0,  Iter    33:    Energy =   0.0264
Level     0,  Iter    34:    Energy =   0.0264
Level     0,  Iter    35:    Energy =   0.0266
Level     0,  Iter    36:    Energy =   0.0267
Level     0,  Iter    37:    Energy =   0.0266
Level     0,  Iter    38:    Energy =   0.0266
Level     0,  Iter    39:    Energy =   0.0266
Level     0,  Iter    40:    Energy =   0.0266
Level     0,  Iter    41:    Energy =   0.0269
Level     0,  Iter    42:    Energy =   0.0270
Level     0,  Iter    43:    Energy =   0.0269
Level     0,  Iter    44:    Energy =   0.0269
Level     0,  Iter    45:    Energy =   0.0269
Level     0,  Iter    46:    Energy =   0.0269
Level     0,  Iter    47:    Energy =   0.0271
Level     0,  Iter    48:    Energy =   0.0271
Level     0,  Iter    49:    Energy =   0.0271
Level     0,  Iter    50:    Energy =   0.0271
Level     0,  Iter    51:    Energy =   0.0272
Level     0,  Iter    52:    Energy =   0.0272
Level     0,  Iter    53:    Energy =   0.0273
Level     0,  Iter    54:    Energy =   0.0273
Level     0,  Iter    55:    Energy =   0.0274
Level     0,  Iter    56:    Energy =   0.0273
Level     0,  Iter    57:    Energy =   0.0275
Level     0,  Iter    58:    Energy =   0.0275
Level     0,  Iter    59:    Energy =   0.0276
END OF LEVEL     0    DetJac Range:   0.1868  to   1.8187 
  Avg. Gradient Time  : 0.0067s  32.59% 
  Avg. Gaussian Time  : 0.0100s  48.28% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0143
Level     1,  Iter     1:    Energy =   0.0152
Level     1,  Iter     2:    Energy =   0.0158
Level     1,  Iter     3:    Energy =   0.0163
Level     1,  Iter     4:    Energy =   0.0167
Level     1,  Iter     5:    Energy =   0.0170
Level     1,  Iter     6:    Energy =   0.0173
Level     1,  Iter     7:    Energy =   0.0176
Level     1,  Iter     8:    Energy =   0.0178
Level     1,  Iter     9:    Energy =   0.0181
Level     1,  Iter    10:    Energy =   0.0183
Level     1,  Iter    11:    Energy =   0.0185
Level     1,  Iter    12:    Energy =   0.0187
Level     1,  Iter    13:    Energy =   0.0188
Level     1,  Iter    14:    Energy =   0.0189
Level     1,  Iter    15:    Energy =   0.0191
Level     1,  Iter    16:    Energy =   0.0192
Level     1,  Iter    17:    Energy =   0.0193
Level     1,  Iter    18:    Energy =   0.0194
Level     1,  Iter    19:    Energy =   0.0194
Level     1,  Iter    20:    Energy =   0.0195
Level     1,  Iter    21:    Energy =   0.0195
Level     1,  Iter    22:    Energy =   0.0196
Level     1,  Iter    23:    Energy =   0.0196
Level     1,  Iter    24:    Energy =   0.0196
Level     1,  Iter    25:    Energy =   0.0196
Level     1,  Iter    26:    Energy =   0.0196
Level     1,  Iter    27:    Energy =   0.0197
Level     1,  Iter    28:    Energy =   0.0197
Level     1,  Iter    29:    Energy =   0.0197
Level     1,  Iter    30:    Energy =   0.0197
Level     1,  Iter    31:    Energy =   0.0197
Level     1,  Iter    32:    Energy =   0.0197
Level     1,  Iter    33:    Energy =   0.0198
Level     1,  Iter    34:    Energy =   0.0198
Level     1,  Iter    35:    Energy =   0.0198
Level     1,  Iter    36:    Energy =   0.0198
Level     1,  Iter    37:    Energy =   0.0198
Level     1,  Iter    38:    Energy =   0.0198
Level     1,  Iter    39:    Energy =   0.0198
Level     1,  Iter    40:    Energy =   0.0198
Level     1,  Iter    41:    Energy =   0.0199
Level     1,  Iter    42:    Energy =   0.0199
Level     1,  Iter    43:    Energy =   0.0199
Level     1,  Iter    44:    Energy =   0.0199
Level     1,  Iter    45:    Energy =   0.0199
Level     1,  Iter    46:    Energy =   0.0199
Level     1,  Iter    47:    Energy =   0.0199
Level     1,  Iter    48:    Energy =   0.0199
Level     1,  Iter    49:    Energy =   0.0200
Level     1,  Iter    50:    Energy =   0.0200
Level     1,  Iter    51:    Energy =   0.0200
Level     1,  Iter    52:    Energy =   0.0200
Level     1,  Iter    53:    Energy =   0.0200
Level     1,  Iter    54:    Energy =   0.0200
Level     1,  Iter    55:    Energy =   0.0200
Level     1,  Iter    56:    Energy =   0.0200
Level     1,  Iter    57:    Energy =   0.0200
Level     1,  Iter    58:    Energy =   0.0200
Level     1,  Iter    59:    Energy =   0.0201
END OF LEVEL     1    DetJac Range:   0.0468  to   2.0615 
  Avg. Gradient Time  : 0.0279s  33.53% 
  Avg. Gaussian Time  : 0.0437s  52.49% 
  Avg. Iteration Time : 0.0833s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0076
Level     2,  Iter     1:    Energy =   0.0081
Level     2,  Iter     2:    Energy =   0.0085
Level     2,  Iter     3:    Energy =   0.0089
Level     2,  Iter     4:    Energy =   0.0092
Level     2,  Iter     5:    Energy =   0.0095
Level     2,  Iter     6:    Energy =   0.0097
Level     2,  Iter     7:    Energy =   0.0099
Level     2,  Iter     8:    Energy =   0.0101
Level     2,  Iter     9:    Energy =   0.0102
Level     2,  Iter    10:    Energy =   0.0104
Level     2,  Iter    11:    Energy =   0.0105
Level     2,  Iter    12:    Energy =   0.0106
Level     2,  Iter    13:    Energy =   0.0107
Level     2,  Iter    14:    Energy =   0.0108
Level     2,  Iter    15:    Energy =   0.0105
Level     2,  Iter    16:    Energy =   0.0106
Level     2,  Iter    17:    Energy =   0.0107
Level     2,  Iter    18:    Energy =   0.0106
Level     2,  Iter    19:    Energy =   0.0107
END OF LEVEL     2    DetJac Range:   0.0273  to   2.2548 
  Avg. Gradient Time  : 0.1814s  31.57% 
  Avg. Gaussian Time  : 0.3138s  54.61% 
  Avg. Iteration Time : 0.5745s 

real	0m20.370s
user	0m35.592s
sys	0m2.216s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217143 0.221429
+ echo 'CHUNK 0.217143 0.221429 1'
CHUNK 0.217143 0.221429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217143 0.221429 1
====================================
         PROGRESS: 0.217143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.565
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 238.36   GNORM= 233.657
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -503.184      71.383       0.021
   2    5      -505.434      61.866       0.014
   3    6      -524.681      50.004       1.000
   4   10      -569.203     121.157       3.825
   5   13      -634.140      76.054       0.798
   6   18      -658.043      63.650       0.256
   7   21      -677.591     140.763       0.750
   8   25      -679.156      50.126       0.001
   9   28      -707.551      93.346       0.704
  10   30      -709.347     110.758       0.066
  11   31      -711.556     146.202       1.000
  12   34      -718.486      38.512       0.782
  13   38      -719.741      58.239       0.346
  14   39      -723.089      32.444       1.000
  15   40      -724.338     443.636       1.000
  16   43      -725.927      63.569       0.040
  17   45      -731.114      49.287       5.000
  18   46      -734.752      62.396       1.000
  19   49      -734.929      43.808       2.318
  20   50      -743.494      25.212       1.000
Final RAS Transform: 
1.11148 -0.0816474 0.199141 -2.67546 
-0.0514102 1.12753 -0.153392 3.16643 
0.0578245 -0.172062 0.949416 -3.6752 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -274.718   GNORM= 383.163
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -285.628     215.596       0.003
   2    6      -285.765      22.473       0.040
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10989 -0.0795224 0.198865 -2.52861 
-0.0490834 1.12508 -0.149531 2.88366 
0.0529149 -0.166481 0.941355 -3.0584 
0 0 0 1 

Final RAS Transform: 
1.10989 -0.0795224 0.198865 -2.52861 
-0.0490834 1.12508 -0.149531 2.88366 
0.0529149 -0.166481 0.941355 -3.0584 
0 0 0 1 


real	0m3.935s
user	0m6.124s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.414868
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0145
Level     0,  Iter     1:    Energy =   0.0163
Level     0,  Iter     2:    Energy =   0.0179
Level     0,  Iter     3:    Energy =   0.0193
Level     0,  Iter     4:    Energy =   0.0207
Level     0,  Iter     5:    Energy =   0.0221
Level     0,  Iter     6:    Energy =   0.0235
Level     0,  Iter     7:    Energy =   0.0245
Level     0,  Iter     8:    Energy =   0.0253
Level     0,  Iter     9:    Energy =   0.0262
Level     0,  Iter    10:    Energy =   0.0271
Level     0,  Iter    11:    Energy =   0.0278
Level     0,  Iter    12:    Energy =   0.0284
Level     0,  Iter    13:    Energy =   0.0289
Level     0,  Iter    14:    Energy =   0.0294
Level     0,  Iter    15:    Energy =   0.0299
Level     0,  Iter    16:    Energy =   0.0301
Level     0,  Iter    17:    Energy =   0.0303
Level     0,  Iter    18:    Energy =   0.0303
Level     0,  Iter    19:    Energy =   0.0304
Level     0,  Iter    20:    Energy =   0.0305
Level     0,  Iter    21:    Energy =   0.0305
Level     0,  Iter    22:    Energy =   0.0306
Level     0,  Iter    23:    Energy =   0.0306
Level     0,  Iter    24:    Energy =   0.0306
Level     0,  Iter    25:    Energy =   0.0306
Level     0,  Iter    26:    Energy =   0.0306
Level     0,  Iter    27:    Energy =   0.0305
Level     0,  Iter    28:    Energy =   0.0305
Level     0,  Iter    29:    Energy =   0.0304
Level     0,  Iter    30:    Energy =   0.0303
Level     0,  Iter    31:    Energy =   0.0303
Level     0,  Iter    32:    Energy =   0.0303
Level     0,  Iter    33:    Energy =   0.0303
Level     0,  Iter    34:    Energy =   0.0304
Level     0,  Iter    35:    Energy =   0.0305
Level     0,  Iter    36:    Energy =   0.0305
Level     0,  Iter    37:    Energy =   0.0306
Level     0,  Iter    38:    Energy =   0.0306
Level     0,  Iter    39:    Energy =   0.0306
Level     0,  Iter    40:    Energy =   0.0307
Level     0,  Iter    41:    Energy =   0.0307
Level     0,  Iter    42:    Energy =   0.0307
Level     0,  Iter    43:    Energy =   0.0307
Level     0,  Iter    44:    Energy =   0.0308
Level     0,  Iter    45:    Energy =   0.0308
Level     0,  Iter    46:    Energy =   0.0308
Level     0,  Iter    47:    Energy =   0.0308
Level     0,  Iter    48:    Energy =   0.0308
Level     0,  Iter    49:    Energy =   0.0309
Level     0,  Iter    50:    Energy =   0.0309
Level     0,  Iter    51:    Energy =   0.0309
Level     0,  Iter    52:    Energy =   0.0310
Level     0,  Iter    53:    Energy =   0.0310
Level     0,  Iter    54:    Energy =   0.0310
Level     0,  Iter    55:    Energy =   0.0311
Level     0,  Iter    56:    Energy =   0.0311
Level     0,  Iter    57:    Energy =   0.0311
Level     0,  Iter    58:    Energy =   0.0312
Level     0,  Iter    59:    Energy =   0.0312
END OF LEVEL     0    DetJac Range:   0.0410  to   2.6815 
  Avg. Gradient Time  : 0.0067s  32.54% 
  Avg. Gaussian Time  : 0.0100s  48.52% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0153
Level     1,  Iter     1:    Energy =   0.0162
Level     1,  Iter     2:    Energy =   0.0169
Level     1,  Iter     3:    Energy =   0.0175
Level     1,  Iter     4:    Energy =   0.0180
Level     1,  Iter     5:    Energy =   0.0185
Level     1,  Iter     6:    Energy =   0.0190
Level     1,  Iter     7:    Energy =   0.0193
Level     1,  Iter     8:    Energy =   0.0196
Level     1,  Iter     9:    Energy =   0.0199
Level     1,  Iter    10:    Energy =   0.0201
Level     1,  Iter    11:    Energy =   0.0204
Level     1,  Iter    12:    Energy =   0.0207
Level     1,  Iter    13:    Energy =   0.0209
Level     1,  Iter    14:    Energy =   0.0210
Level     1,  Iter    15:    Energy =   0.0212
Level     1,  Iter    16:    Energy =   0.0213
Level     1,  Iter    17:    Energy =   0.0213
Level     1,  Iter    18:    Energy =   0.0215
Level     1,  Iter    19:    Energy =   0.0217
Level     1,  Iter    20:    Energy =   0.0219
Level     1,  Iter    21:    Energy =   0.0221
Level     1,  Iter    22:    Energy =   0.0222
Level     1,  Iter    23:    Energy =   0.0224
Level     1,  Iter    24:    Energy =   0.0225
Level     1,  Iter    25:    Energy =   0.0227
Level     1,  Iter    26:    Energy =   0.0228
Level     1,  Iter    27:    Energy =   0.0229
Level     1,  Iter    28:    Energy =   0.0231
Level     1,  Iter    29:    Energy =   0.0232
Level     1,  Iter    30:    Energy =   0.0233
Level     1,  Iter    31:    Energy =   0.0234
Level     1,  Iter    32:    Energy =   0.0236
Level     1,  Iter    33:    Energy =   0.0237
Level     1,  Iter    34:    Energy =   0.0238
Level     1,  Iter    35:    Energy =   0.0239
Level     1,  Iter    36:    Energy =   0.0240
Level     1,  Iter    37:    Energy =   0.0241
Level     1,  Iter    38:    Energy =   0.0242
Level     1,  Iter    39:    Energy =   0.0243
Level     1,  Iter    40:    Energy =   0.0244
Level     1,  Iter    41:    Energy =   0.0244
Level     1,  Iter    42:    Energy =   0.0245
Level     1,  Iter    43:    Energy =   0.0246
Level     1,  Iter    44:    Energy =   0.0247
Level     1,  Iter    45:    Energy =   0.0248
Level     1,  Iter    46:    Energy =   0.0249
Level     1,  Iter    47:    Energy =   0.0250
Level     1,  Iter    48:    Energy =   0.0251
Level     1,  Iter    49:    Energy =   0.0252
Level     1,  Iter    50:    Energy =   0.0252
Level     1,  Iter    51:    Energy =   0.0253
Level     1,  Iter    52:    Energy =   0.0254
Level     1,  Iter    53:    Energy =   0.0254
Level     1,  Iter    54:    Energy =   0.0255
Level     1,  Iter    55:    Energy =   0.0256
Level     1,  Iter    56:    Energy =   0.0256
Level     1,  Iter    57:    Energy =   0.0257
Level     1,  Iter    58:    Energy =   0.0258
Level     1,  Iter    59:    Energy =   0.0258
END OF LEVEL     1    DetJac Range:   0.0167  to   3.6313 
  Avg. Gradient Time  : 0.0276s  33.30% 
  Avg. Gaussian Time  : 0.0438s  52.82% 
  Avg. Iteration Time : 0.0828s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0105
Level     2,  Iter     1:    Energy =   0.0110
Level     2,  Iter     2:    Energy =   0.0115
Level     2,  Iter     3:    Energy =   0.0120
Level     2,  Iter     4:    Energy =   0.0124
Level     2,  Iter     5:    Energy =   0.0127
Level     2,  Iter     6:    Energy =   0.0129
Level     2,  Iter     7:    Energy =   0.0131
Level     2,  Iter     8:    Energy =   0.0133
Level     2,  Iter     9:    Energy =   0.0135
Level     2,  Iter    10:    Energy =   0.0137
Level     2,  Iter    11:    Energy =   0.0138
Level     2,  Iter    12:    Energy =   0.0139
Level     2,  Iter    13:    Energy =   0.0140
Level     2,  Iter    14:    Energy =   0.0141
Level     2,  Iter    15:    Energy =   0.0142
Level     2,  Iter    16:    Energy =   0.0143
Level     2,  Iter    17:    Energy =   0.0144
Level     2,  Iter    18:    Energy =   0.0144
Level     2,  Iter    19:    Energy =   0.0145
END OF LEVEL     2    DetJac Range:   0.0223  to   3.4074 
  Avg. Gradient Time  : 0.1794s  31.38% 
  Avg. Gaussian Time  : 0.3130s  54.76% 
  Avg. Iteration Time : 0.5716s 

real	0m20.371s
user	0m35.544s
sys	0m2.180s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.221429 0.225714
+ echo 'CHUNK 0.221429 0.225714 1'
CHUNK 0.221429 0.225714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.221429 0.225714 1
====================================
         PROGRESS: 0.221429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.648
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 331.805   GNORM= 256.508
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -323.321     116.940       0.019
   2    5      -503.560      78.168       0.294
   3   10      -610.998      85.554       0.423
   4   12      -632.006     105.520       0.256
   5   13      -648.825      57.860       1.000
   6   14      -671.087      21.960       1.000
   7   15      -674.229      27.615       1.000
   8   16      -679.774      27.254       1.000
   9   18      -684.170      34.104       0.341
  10   19      -698.216      39.310       1.000
  11   20      -705.433      25.187       1.000
  12   21      -719.204      20.768       1.000
  13   24      -726.213      35.455       1.854
  14   26      -732.044      31.724       0.342
  15   27      -753.137      47.844       1.000
  16   28      -756.780      66.046       1.000
  17   29      -770.008      72.871       1.000
  18   30      -773.488      39.101       1.000
  19   31      -790.438      52.030       1.000
  20   32      -793.345      21.406       1.000
  21   33      -794.505      28.133       1.000
  22   36      -795.128      23.966       0.048
  23   37      -797.314      23.576       1.000
  24   38      -799.423      31.067       1.000
  25   42      -805.791      68.582       1.271
  26   44      -809.660      51.493       0.432
  27   46      -811.382      69.770       0.283
Final RAS Transform: 
1.08964 0.0792483 0.382837 -1.54076 
-0.115972 1.07529 -0.009926 3.10688 
-0.139792 -0.260429 0.897511 -8.80348 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -444.587   GNORM= 83.2764
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -468.233      72.881       0.004
   2    6      -482.836      52.817       0.182
   3   10      -490.114     101.012       0.859
   4   11      -497.205      78.540       1.000
   5   12      -500.046     259.061       1.000
   6   20      -500.546      68.811       0.000
   7   24      -500.686      45.215       0.009
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.09029 0.077919 0.386046 -1.85028 
-0.119261 1.08328 -0.0113049 3.71898 
-0.13776 -0.265887 0.909018 -9.46052 
0 0 0 1 

Final RAS Transform: 
1.09029 0.077919 0.386046 -1.85028 
-0.119261 1.08328 -0.0113049 3.71898 
-0.13776 -0.265887 0.909018 -9.46052 
0 0 0 1 


real	0m4.877s
user	0m7.932s
sys	0m0.596s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.488622
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0178
Level     0,  Iter     1:    Energy =   0.0192
Level     0,  Iter     2:    Energy =   0.0214
Level     0,  Iter     3:    Energy =   0.0236
Level     0,  Iter     4:    Energy =   0.0248
Level     0,  Iter     5:    Energy =   0.0254
Level     0,  Iter     6:    Energy =   0.0260
Level     0,  Iter     7:    Energy =   0.0266
Level     0,  Iter     8:    Energy =   0.0271
Level     0,  Iter     9:    Energy =   0.0274
Level     0,  Iter    10:    Energy =   0.0276
Level     0,  Iter    11:    Energy =   0.0278
Level     0,  Iter    12:    Energy =   0.0280
Level     0,  Iter    13:    Energy =   0.0281
Level     0,  Iter    14:    Energy =   0.0283
Level     0,  Iter    15:    Energy =   0.0284
Level     0,  Iter    16:    Energy =   0.0286
Level     0,  Iter    17:    Energy =   0.0289
Level     0,  Iter    18:    Energy =   0.0292
Level     0,  Iter    19:    Energy =   0.0295
Level     0,  Iter    20:    Energy =   0.0297
Level     0,  Iter    21:    Energy =   0.0301
Level     0,  Iter    22:    Energy =   0.0306
Level     0,  Iter    23:    Energy =   0.0310
Level     0,  Iter    24:    Energy =   0.0313
Level     0,  Iter    25:    Energy =   0.0318
Level     0,  Iter    26:    Energy =   0.0322
Level     0,  Iter    27:    Energy =   0.0325
Level     0,  Iter    28:    Energy =   0.0328
Level     0,  Iter    29:    Energy =   0.0330
Level     0,  Iter    30:    Energy =   0.0332
Level     0,  Iter    31:    Energy =   0.0334
Level     0,  Iter    32:    Energy =   0.0335
Level     0,  Iter    33:    Energy =   0.0337
Level     0,  Iter    34:    Energy =   0.0338
Level     0,  Iter    35:    Energy =   0.0338
Level     0,  Iter    36:    Energy =   0.0338
Level     0,  Iter    37:    Energy =   0.0339
Level     0,  Iter    38:    Energy =   0.0339
Level     0,  Iter    39:    Energy =   0.0340
Level     0,  Iter    40:    Energy =   0.0340
Level     0,  Iter    41:    Energy =   0.0341
Level     0,  Iter    42:    Energy =   0.0341
Level     0,  Iter    43:    Energy =   0.0342
Level     0,  Iter    44:    Energy =   0.0342
Level     0,  Iter    45:    Energy =   0.0343
Level     0,  Iter    46:    Energy =   0.0343
Level     0,  Iter    47:    Energy =   0.0344
Level     0,  Iter    48:    Energy =   0.0344
Level     0,  Iter    49:    Energy =   0.0344
Level     0,  Iter    50:    Energy =   0.0345
Level     0,  Iter    51:    Energy =   0.0345
Level     0,  Iter    52:    Energy =   0.0345
Level     0,  Iter    53:    Energy =   0.0345
Level     0,  Iter    54:    Energy =   0.0345
Level     0,  Iter    55:    Energy =   0.0345
Level     0,  Iter    56:    Energy =   0.0345
Level     0,  Iter    57:    Energy =   0.0345
Level     0,  Iter    58:    Energy =   0.0345
Level     0,  Iter    59:    Energy =   0.0345
END OF LEVEL     0    DetJac Range:   0.0492  to   2.0690 
  Avg. Gradient Time  : 0.0065s  32.57% 
  Avg. Gaussian Time  : 0.0097s  48.47% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0241
Level     1,  Iter     1:    Energy =   0.0251
Level     1,  Iter     2:    Energy =   0.0260
Level     1,  Iter     3:    Energy =   0.0267
Level     1,  Iter     4:    Energy =   0.0274
Level     1,  Iter     5:    Energy =   0.0280
Level     1,  Iter     6:    Energy =   0.0285
Level     1,  Iter     7:    Energy =   0.0290
Level     1,  Iter     8:    Energy =   0.0295
Level     1,  Iter     9:    Energy =   0.0299
Level     1,  Iter    10:    Energy =   0.0303
Level     1,  Iter    11:    Energy =   0.0307
Level     1,  Iter    12:    Energy =   0.0311
Level     1,  Iter    13:    Energy =   0.0314
Level     1,  Iter    14:    Energy =   0.0318
Level     1,  Iter    15:    Energy =   0.0322
Level     1,  Iter    16:    Energy =   0.0324
Level     1,  Iter    17:    Energy =   0.0327
Level     1,  Iter    18:    Energy =   0.0329
Level     1,  Iter    19:    Energy =   0.0332
Level     1,  Iter    20:    Energy =   0.0334
Level     1,  Iter    21:    Energy =   0.0336
Level     1,  Iter    22:    Energy =   0.0338
Level     1,  Iter    23:    Energy =   0.0339
Level     1,  Iter    24:    Energy =   0.0341
Level     1,  Iter    25:    Energy =   0.0342
Level     1,  Iter    26:    Energy =   0.0344
Level     1,  Iter    27:    Energy =   0.0345
Level     1,  Iter    28:    Energy =   0.0346
Level     1,  Iter    29:    Energy =   0.0348
Level     1,  Iter    30:    Energy =   0.0349
Level     1,  Iter    31:    Energy =   0.0350
Level     1,  Iter    32:    Energy =   0.0351
Level     1,  Iter    33:    Energy =   0.0352
Level     1,  Iter    34:    Energy =   0.0352
Level     1,  Iter    35:    Energy =   0.0353
Level     1,  Iter    36:    Energy =   0.0354
Level     1,  Iter    37:    Energy =   0.0355
Level     1,  Iter    38:    Energy =   0.0356
Level     1,  Iter    39:    Energy =   0.0356
Level     1,  Iter    40:    Energy =   0.0356
Level     1,  Iter    41:    Energy =   0.0357
Level     1,  Iter    42:    Energy =   0.0357
Level     1,  Iter    43:    Energy =   0.0357
Level     1,  Iter    44:    Energy =   0.0357
Level     1,  Iter    45:    Energy =   0.0357
Level     1,  Iter    46:    Energy =   0.0357
Level     1,  Iter    47:    Energy =   0.0357
Level     1,  Iter    48:    Energy =   0.0357
Level     1,  Iter    49:    Energy =   0.0357
Level     1,  Iter    50:    Energy =   0.0356
Level     1,  Iter    51:    Energy =   0.0356
Level     1,  Iter    52:    Energy =   0.0356
Level     1,  Iter    53:    Energy =   0.0356
Level     1,  Iter    54:    Energy =   0.0356
Level     1,  Iter    55:    Energy =   0.0356
Level     1,  Iter    56:    Energy =   0.0355
Level     1,  Iter    57:    Energy =   0.0355
Level     1,  Iter    58:    Energy =   0.0355
Level     1,  Iter    59:    Energy =   0.0355
END OF LEVEL     1    DetJac Range:   0.0176  to   2.9336 
  Avg. Gradient Time  : 0.0270s  33.24% 
  Avg. Gaussian Time  : 0.0429s  52.77% 
  Avg. Iteration Time : 0.0814s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0147
Level     2,  Iter     1:    Energy =   0.0150
Level     2,  Iter     2:    Energy =   0.0157
Level     2,  Iter     3:    Energy =   0.0162
Level     2,  Iter     4:    Energy =   0.0166
Level     2,  Iter     5:    Energy =   0.0170
Level     2,  Iter     6:    Energy =   0.0173
Level     2,  Iter     7:    Energy =   0.0176
Level     2,  Iter     8:    Energy =   0.0178
Level     2,  Iter     9:    Energy =   0.0180
Level     2,  Iter    10:    Energy =   0.0182
Level     2,  Iter    11:    Energy =   0.0184
Level     2,  Iter    12:    Energy =   0.0186
Level     2,  Iter    13:    Energy =   0.0187
Level     2,  Iter    14:    Energy =   0.0189
Level     2,  Iter    15:    Energy =   0.0190
Level     2,  Iter    16:    Energy =   0.0192
Level     2,  Iter    17:    Energy =   0.0193
Level     2,  Iter    18:    Energy =   0.0195
Level     2,  Iter    19:    Energy =   0.0196
END OF LEVEL     2    DetJac Range:   0.0071  to   2.7189 
  Avg. Gradient Time  : 0.1761s  31.50% 
  Avg. Gaussian Time  : 0.3056s  54.66% 
  Avg. Iteration Time : 0.5591s 

real	0m19.968s
user	0m34.768s
sys	0m2.200s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.225714 0.23
+ echo 'CHUNK 0.225714 0.23 1'
CHUNK 0.225714 0.23 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.225714 0.23 1
====================================
         PROGRESS: 0.225714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.485
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 227.884   GNORM= 254.66
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -244.323     209.949       0.020
   2    4      -566.349     172.996       1.000
   3    6      -626.368      70.215       0.343
   4    7      -657.887      89.649       1.000
   5    8      -659.687      50.308       1.000
   6    9      -699.277      86.505       1.000
   7   13      -733.116      25.869       0.060
   8   16      -733.594      23.830       0.061
   9   17      -736.686      22.143       1.000
  10   19      -752.948      39.145       5.000
  11   20      -778.162     104.085       1.000
  12   22      -778.631      85.467       0.571
  13   26      -798.347      92.754       1.429
  14   27      -834.106      47.562       1.000
  15   29      -841.756      92.093       0.394
  16   31      -843.701      78.306       0.208
  17   36      -845.118      38.727       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03425 -0.019301 0.381615 -1.42474 
-0.103839 1.03259 -0.176587 3.60632 
-0.0979067 -0.34465 0.667133 -7.62315 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -361.151   GNORM= 127.37
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03425 -0.019301 0.381615 -1.42474 
-0.103839 1.03259 -0.176587 3.60632 
-0.0979067 -0.34465 0.667133 -7.62315 
0 0 0 1 

Final RAS Transform: 
1.03425 -0.019301 0.381615 -1.42474 
-0.103839 1.03259 -0.176587 3.60632 
-0.0979067 -0.34465 0.667133 -7.62315 
0 0 0 1 


real	0m3.471s
user	0m5.316s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.397316
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0171
Level     0,  Iter     1:    Energy =   0.0187
Level     0,  Iter     2:    Energy =   0.0209
Level     0,  Iter     3:    Energy =   0.0226
Level     0,  Iter     4:    Energy =   0.0238
Level     0,  Iter     5:    Energy =   0.0250
Level     0,  Iter     6:    Energy =   0.0259
Level     0,  Iter     7:    Energy =   0.0267
Level     0,  Iter     8:    Energy =   0.0275
Level     0,  Iter     9:    Energy =   0.0283
Level     0,  Iter    10:    Energy =   0.0289
Level     0,  Iter    11:    Energy =   0.0293
Level     0,  Iter    12:    Energy =   0.0297
Level     0,  Iter    13:    Energy =   0.0301
Level     0,  Iter    14:    Energy =   0.0305
Level     0,  Iter    15:    Energy =   0.0309
Level     0,  Iter    16:    Energy =   0.0313
Level     0,  Iter    17:    Energy =   0.0315
Level     0,  Iter    18:    Energy =   0.0319
Level     0,  Iter    19:    Energy =   0.0322
Level     0,  Iter    20:    Energy =   0.0327
Level     0,  Iter    21:    Energy =   0.0332
Level     0,  Iter    22:    Energy =   0.0339
Level     0,  Iter    23:    Energy =   0.0345
Level     0,  Iter    24:    Energy =   0.0349
Level     0,  Iter    25:    Energy =   0.0352
Level     0,  Iter    26:    Energy =   0.0356
Level     0,  Iter    27:    Energy =   0.0358
Level     0,  Iter    28:    Energy =   0.0361
Level     0,  Iter    29:    Energy =   0.0363
Level     0,  Iter    30:    Energy =   0.0365
Level     0,  Iter    31:    Energy =   0.0367
Level     0,  Iter    32:    Energy =   0.0368
Level     0,  Iter    33:    Energy =   0.0369
Level     0,  Iter    34:    Energy =   0.0370
Level     0,  Iter    35:    Energy =   0.0371
Level     0,  Iter    36:    Energy =   0.0373
Level     0,  Iter    37:    Energy =   0.0374
Level     0,  Iter    38:    Energy =   0.0376
Level     0,  Iter    39:    Energy =   0.0376
Level     0,  Iter    40:    Energy =   0.0377
Level     0,  Iter    41:    Energy =   0.0379
Level     0,  Iter    42:    Energy =   0.0380
Level     0,  Iter    43:    Energy =   0.0381
Level     0,  Iter    44:    Energy =   0.0382
Level     0,  Iter    45:    Energy =   0.0383
Level     0,  Iter    46:    Energy =   0.0385
Level     0,  Iter    47:    Energy =   0.0386
Level     0,  Iter    48:    Energy =   0.0388
Level     0,  Iter    49:    Energy =   0.0390
Level     0,  Iter    50:    Energy =   0.0392
Level     0,  Iter    51:    Energy =   0.0395
Level     0,  Iter    52:    Energy =   0.0397
Level     0,  Iter    53:    Energy =   0.0398
Level     0,  Iter    54:    Energy =   0.0400
Level     0,  Iter    55:    Energy =   0.0401
Level     0,  Iter    56:    Energy =   0.0402
Level     0,  Iter    57:    Energy =   0.0403
Level     0,  Iter    58:    Energy =   0.0404
Level     0,  Iter    59:    Energy =   0.0406
END OF LEVEL     0    DetJac Range:   0.0418  to   3.0054 
  Avg. Gradient Time  : 0.0066s  32.76% 
  Avg. Gaussian Time  : 0.0098s  48.31% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0208
Level     1,  Iter     1:    Energy =   0.0218
Level     1,  Iter     2:    Energy =   0.0226
Level     1,  Iter     3:    Energy =   0.0234
Level     1,  Iter     4:    Energy =   0.0243
Level     1,  Iter     5:    Energy =   0.0250
Level     1,  Iter     6:    Energy =   0.0257
Level     1,  Iter     7:    Energy =   0.0262
Level     1,  Iter     8:    Energy =   0.0266
Level     1,  Iter     9:    Energy =   0.0270
Level     1,  Iter    10:    Energy =   0.0273
Level     1,  Iter    11:    Energy =   0.0275
Level     1,  Iter    12:    Energy =   0.0278
Level     1,  Iter    13:    Energy =   0.0279
Level     1,  Iter    14:    Energy =   0.0281
Level     1,  Iter    15:    Energy =   0.0282
Level     1,  Iter    16:    Energy =   0.0283
Level     1,  Iter    17:    Energy =   0.0284
Level     1,  Iter    18:    Energy =   0.0284
Level     1,  Iter    19:    Energy =   0.0285
Level     1,  Iter    20:    Energy =   0.0285
Level     1,  Iter    21:    Energy =   0.0286
Level     1,  Iter    22:    Energy =   0.0286
Level     1,  Iter    23:    Energy =   0.0286
Level     1,  Iter    24:    Energy =   0.0286
Level     1,  Iter    25:    Energy =   0.0286
Level     1,  Iter    26:    Energy =   0.0286
Level     1,  Iter    27:    Energy =   0.0286
Level     1,  Iter    28:    Energy =   0.0286
Level     1,  Iter    29:    Energy =   0.0287
Level     1,  Iter    30:    Energy =   0.0287
Level     1,  Iter    31:    Energy =   0.0286
Level     1,  Iter    32:    Energy =   0.0287
Level     1,  Iter    33:    Energy =   0.0287
Level     1,  Iter    34:    Energy =   0.0287
Level     1,  Iter    35:    Energy =   0.0287
Level     1,  Iter    36:    Energy =   0.0287
Level     1,  Iter    37:    Energy =   0.0287
Level     1,  Iter    38:    Energy =   0.0287
Level     1,  Iter    39:    Energy =   0.0287
Level     1,  Iter    40:    Energy =   0.0287
Level     1,  Iter    41:    Energy =   0.0287
Level     1,  Iter    42:    Energy =   0.0286
Level     1,  Iter    43:    Energy =   0.0287
Level     1,  Iter    44:    Energy =   0.0287
Level     1,  Iter    45:    Energy =   0.0286
Level     1,  Iter    46:    Energy =   0.0286
Level     1,  Iter    47:    Energy =   0.0286
Level     1,  Iter    48:    Energy =   0.0286
Level     1,  Iter    49:    Energy =   0.0287
Level     1,  Iter    50:    Energy =   0.0288
Level     1,  Iter    51:    Energy =   0.0288
Level     1,  Iter    52:    Energy =   0.0289
Level     1,  Iter    53:    Energy =   0.0290
Level     1,  Iter    54:    Energy =   0.0291
Level     1,  Iter    55:    Energy =   0.0291
Level     1,  Iter    56:    Energy =   0.0291
Level     1,  Iter    57:    Energy =   0.0290
Level     1,  Iter    58:    Energy =   0.0289
Level     1,  Iter    59:    Energy =   0.0289
END OF LEVEL     1    DetJac Range:   0.0230  to   2.8750 
  Avg. Gradient Time  : 0.0277s  33.53% 
  Avg. Gaussian Time  : 0.0434s  52.59% 
  Avg. Iteration Time : 0.0825s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0119
Level     2,  Iter     1:    Energy =   0.0124
Level     2,  Iter     2:    Energy =   0.0129
Level     2,  Iter     3:    Energy =   0.0134
Level     2,  Iter     4:    Energy =   0.0138
Level     2,  Iter     5:    Energy =   0.0141
Level     2,  Iter     6:    Energy =   0.0144
Level     2,  Iter     7:    Energy =   0.0147
Level     2,  Iter     8:    Energy =   0.0150
Level     2,  Iter     9:    Energy =   0.0153
Level     2,  Iter    10:    Energy =   0.0155
Level     2,  Iter    11:    Energy =   0.0157
Level     2,  Iter    12:    Energy =   0.0158
Level     2,  Iter    13:    Energy =   0.0160
Level     2,  Iter    14:    Energy =   0.0161
Level     2,  Iter    15:    Energy =   0.0162
Level     2,  Iter    16:    Energy =   0.0163
Level     2,  Iter    17:    Energy =   0.0163
Level     2,  Iter    18:    Energy =   0.0164
Level     2,  Iter    19:    Energy =   0.0164
END OF LEVEL     2    DetJac Range:   0.0174  to   3.3435 
  Avg. Gradient Time  : 0.1732s  31.24% 
  Avg. Gaussian Time  : 0.3040s  54.83% 
  Avg. Iteration Time : 0.5545s 

real	0m19.926s
user	0m34.924s
sys	0m2.028s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.23 0.234286
+ echo 'CHUNK 0.23 0.234286 1'
CHUNK 0.23 0.234286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.23 0.234286 1
====================================
         PROGRESS: 0.23               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.618
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 222.254   GNORM= 226.52
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -439.393      85.334       0.022
   2    5      -522.291     111.036       0.553
   3    6      -572.960     154.691       1.000
   4    7      -650.774      40.721       1.000
   5   10      -704.790      68.151       2.594
   6   13      -705.581      58.871       0.007
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11497 -0.112643 0.146711 -3.66967 
-0.056896 1.07352 -0.0849783 2.84403 
-0.0038528 -0.122723 0.99756 -2.4354 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -286.545   GNORM= 654.473
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.1152 -0.112952 0.147145 -3.69891 
-0.0568994 1.07354 -0.0850011 2.84471 
-0.00378097 -0.122812 0.997671 -2.44358 
0 0 0 1 

Final RAS Transform: 
1.1152 -0.112952 0.147145 -3.69891 
-0.0568994 1.07354 -0.0850011 2.84471 
-0.00378097 -0.122812 0.997671 -2.44358 
0 0 0 1 


real	0m3.219s
user	0m4.960s
sys	0m0.372s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.46452
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0139
Level     0,  Iter     1:    Energy =   0.0159
Level     0,  Iter     2:    Energy =   0.0180
Level     0,  Iter     3:    Energy =   0.0196
Level     0,  Iter     4:    Energy =   0.0209
Level     0,  Iter     5:    Energy =   0.0220
Level     0,  Iter     6:    Energy =   0.0229
Level     0,  Iter     7:    Energy =   0.0237
Level     0,  Iter     8:    Energy =   0.0244
Level     0,  Iter     9:    Energy =   0.0250
Level     0,  Iter    10:    Energy =   0.0256
Level     0,  Iter    11:    Energy =   0.0262
Level     0,  Iter    12:    Energy =   0.0267
Level     0,  Iter    13:    Energy =   0.0272
Level     0,  Iter    14:    Energy =   0.0276
Level     0,  Iter    15:    Energy =   0.0280
Level     0,  Iter    16:    Energy =   0.0283
Level     0,  Iter    17:    Energy =   0.0287
Level     0,  Iter    18:    Energy =   0.0290
Level     0,  Iter    19:    Energy =   0.0291
Level     0,  Iter    20:    Energy =   0.0292
Level     0,  Iter    21:    Energy =   0.0293
Level     0,  Iter    22:    Energy =   0.0294
Level     0,  Iter    23:    Energy =   0.0294
Level     0,  Iter    24:    Energy =   0.0295
Level     0,  Iter    25:    Energy =   0.0295
Level     0,  Iter    26:    Energy =   0.0295
Level     0,  Iter    27:    Energy =   0.0296
Level     0,  Iter    28:    Energy =   0.0296
Level     0,  Iter    29:    Energy =   0.0297
Level     0,  Iter    30:    Energy =   0.0298
Level     0,  Iter    31:    Energy =   0.0298
Level     0,  Iter    32:    Energy =   0.0299
Level     0,  Iter    33:    Energy =   0.0299
Level     0,  Iter    34:    Energy =   0.0299
Level     0,  Iter    35:    Energy =   0.0300
Level     0,  Iter    36:    Energy =   0.0301
Level     0,  Iter    37:    Energy =   0.0302
Level     0,  Iter    38:    Energy =   0.0304
Level     0,  Iter    39:    Energy =   0.0305
Level     0,  Iter    40:    Energy =   0.0308
Level     0,  Iter    41:    Energy =   0.0311
Level     0,  Iter    42:    Energy =   0.0313
Level     0,  Iter    43:    Energy =   0.0314
Level     0,  Iter    44:    Energy =   0.0315
Level     0,  Iter    45:    Energy =   0.0316
Level     0,  Iter    46:    Energy =   0.0316
Level     0,  Iter    47:    Energy =   0.0317
Level     0,  Iter    48:    Energy =   0.0319
Level     0,  Iter    49:    Energy =   0.0319
Level     0,  Iter    50:    Energy =   0.0320
Level     0,  Iter    51:    Energy =   0.0321
Level     0,  Iter    52:    Energy =   0.0323
Level     0,  Iter    53:    Energy =   0.0324
Level     0,  Iter    54:    Energy =   0.0325
Level     0,  Iter    55:    Energy =   0.0325
Level     0,  Iter    56:    Energy =   0.0326
Level     0,  Iter    57:    Energy =   0.0328
Level     0,  Iter    58:    Energy =   0.0329
Level     0,  Iter    59:    Energy =   0.0330
END OF LEVEL     0    DetJac Range:   0.0179  to   2.0046 
  Avg. Gradient Time  : 0.0066s  32.56% 
  Avg. Gaussian Time  : 0.0098s  48.68% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0174
Level     1,  Iter     1:    Energy =   0.0188
Level     1,  Iter     2:    Energy =   0.0199
Level     1,  Iter     3:    Energy =   0.0206
Level     1,  Iter     4:    Energy =   0.0214
Level     1,  Iter     5:    Energy =   0.0220
Level     1,  Iter     6:    Energy =   0.0228
Level     1,  Iter     7:    Energy =   0.0234
Level     1,  Iter     8:    Energy =   0.0240
Level     1,  Iter     9:    Energy =   0.0245
Level     1,  Iter    10:    Energy =   0.0250
Level     1,  Iter    11:    Energy =   0.0254
Level     1,  Iter    12:    Energy =   0.0257
Level     1,  Iter    13:    Energy =   0.0260
Level     1,  Iter    14:    Energy =   0.0263
Level     1,  Iter    15:    Energy =   0.0265
Level     1,  Iter    16:    Energy =   0.0267
Level     1,  Iter    17:    Energy =   0.0269
Level     1,  Iter    18:    Energy =   0.0270
Level     1,  Iter    19:    Energy =   0.0272
Level     1,  Iter    20:    Energy =   0.0274
Level     1,  Iter    21:    Energy =   0.0275
Level     1,  Iter    22:    Energy =   0.0276
Level     1,  Iter    23:    Energy =   0.0277
Level     1,  Iter    24:    Energy =   0.0278
Level     1,  Iter    25:    Energy =   0.0279
Level     1,  Iter    26:    Energy =   0.0280
Level     1,  Iter    27:    Energy =   0.0282
Level     1,  Iter    28:    Energy =   0.0284
Level     1,  Iter    29:    Energy =   0.0286
Level     1,  Iter    30:    Energy =   0.0287
Level     1,  Iter    31:    Energy =   0.0289
Level     1,  Iter    32:    Energy =   0.0290
Level     1,  Iter    33:    Energy =   0.0292
Level     1,  Iter    34:    Energy =   0.0293
Level     1,  Iter    35:    Energy =   0.0294
Level     1,  Iter    36:    Energy =   0.0295
Level     1,  Iter    37:    Energy =   0.0295
Level     1,  Iter    38:    Energy =   0.0296
Level     1,  Iter    39:    Energy =   0.0297
Level     1,  Iter    40:    Energy =   0.0298
Level     1,  Iter    41:    Energy =   0.0299
Level     1,  Iter    42:    Energy =   0.0299
Level     1,  Iter    43:    Energy =   0.0300
Level     1,  Iter    44:    Energy =   0.0301
Level     1,  Iter    45:    Energy =   0.0301
Level     1,  Iter    46:    Energy =   0.0302
Level     1,  Iter    47:    Energy =   0.0303
Level     1,  Iter    48:    Energy =   0.0304
Level     1,  Iter    49:    Energy =   0.0305
Level     1,  Iter    50:    Energy =   0.0305
Level     1,  Iter    51:    Energy =   0.0306
Level     1,  Iter    52:    Energy =   0.0306
Level     1,  Iter    53:    Energy =   0.0307
Level     1,  Iter    54:    Energy =   0.0307
Level     1,  Iter    55:    Energy =   0.0308
Level     1,  Iter    56:    Energy =   0.0308
Level     1,  Iter    57:    Energy =   0.0309
Level     1,  Iter    58:    Energy =   0.0310
Level     1,  Iter    59:    Energy =   0.0310
END OF LEVEL     1    DetJac Range:   0.0091  to   2.6419 
  Avg. Gradient Time  : 0.0283s  33.68% 
  Avg. Gaussian Time  : 0.0442s  52.49% 
  Avg. Iteration Time : 0.0841s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0131
Level     2,  Iter     1:    Energy =   0.0135
Level     2,  Iter     2:    Energy =   0.0139
Level     2,  Iter     3:    Energy =   0.0142
Level     2,  Iter     4:    Energy =   0.0145
Level     2,  Iter     5:    Energy =   0.0147
Level     2,  Iter     6:    Energy =   0.0150
Level     2,  Iter     7:    Energy =   0.0152
Level     2,  Iter     8:    Energy =   0.0154
Level     2,  Iter     9:    Energy =   0.0156
Level     2,  Iter    10:    Energy =   0.0158
Level     2,  Iter    11:    Energy =   0.0160
Level     2,  Iter    12:    Energy =   0.0162
Level     2,  Iter    13:    Energy =   0.0164
Level     2,  Iter    14:    Energy =   0.0165
Level     2,  Iter    15:    Energy =   0.0166
Level     2,  Iter    16:    Energy =   0.0168
Level     2,  Iter    17:    Energy =   0.0169
Level     2,  Iter    18:    Energy =   0.0171
Level     2,  Iter    19:    Energy =   0.0172
END OF LEVEL     2    DetJac Range:   0.0109  to   2.8185 
  Avg. Gradient Time  : 0.1747s  31.50% 
  Avg. Gaussian Time  : 0.3032s  54.67% 
  Avg. Iteration Time : 0.5546s 

real	0m20.072s
user	0m34.936s
sys	0m2.216s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234286 0.238571
+ echo 'CHUNK 0.234286 0.238571 1'
CHUNK 0.234286 0.238571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234286 0.238571 1
====================================
         PROGRESS: 0.234286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.584
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 250.177   GNORM= 225.025
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        38.145     178.519       0.004
   2    3      -406.145     172.157       1.000
   3    5      -464.997     168.986       0.208
   4    6      -570.588      49.785       1.000
   5    7      -583.462      49.135       1.000
   6    8      -595.792     130.210       1.000
   7    9      -619.049      45.308       1.000
   8   10      -650.438      60.597       1.000
   9   11      -686.078      30.882       1.000
  10   17      -698.591      26.777       3.412
  11   22      -701.887      42.157       1.205
  12   27      -704.857    2079.958       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11001 -0.0683589 0.189516 -3.61261 
-0.0651924 1.14889 -0.119403 5.33759 
-0.0625472 -0.337395 0.914336 -5.47004 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -223.973   GNORM= 191.474
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -249.170    1355.781       0.005
   2    3      -260.962      71.194       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11576 -0.0741125 0.194206 -4.1894 
-0.0692766 1.15371 -0.131983 6.21657 
-0.0655411 -0.332127 0.911961 -5.16692 
0 0 0 1 

Final RAS Transform: 
1.11576 -0.0741125 0.194206 -4.1894 
-0.0692766 1.15371 -0.131983 6.21657 
-0.0655411 -0.332127 0.911961 -5.16692 
0 0 0 1 


real	0m3.481s
user	0m5.308s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.409396
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0138
Level     0,  Iter     1:    Energy =   0.0155
Level     0,  Iter     2:    Energy =   0.0171
Level     0,  Iter     3:    Energy =   0.0187
Level     0,  Iter     4:    Energy =   0.0206
Level     0,  Iter     5:    Energy =   0.0219
Level     0,  Iter     6:    Energy =   0.0231
Level     0,  Iter     7:    Energy =   0.0241
Level     0,  Iter     8:    Energy =   0.0247
Level     0,  Iter     9:    Energy =   0.0252
Level     0,  Iter    10:    Energy =   0.0257
Level     0,  Iter    11:    Energy =   0.0262
Level     0,  Iter    12:    Energy =   0.0265
Level     0,  Iter    13:    Energy =   0.0267
Level     0,  Iter    14:    Energy =   0.0271
Level     0,  Iter    15:    Energy =   0.0272
Level     0,  Iter    16:    Energy =   0.0275
Level     0,  Iter    17:    Energy =   0.0277
Level     0,  Iter    18:    Energy =   0.0280
Level     0,  Iter    19:    Energy =   0.0283
Level     0,  Iter    20:    Energy =   0.0285
Level     0,  Iter    21:    Energy =   0.0286
Level     0,  Iter    22:    Energy =   0.0289
Level     0,  Iter    23:    Energy =   0.0291
Level     0,  Iter    24:    Energy =   0.0292
Level     0,  Iter    25:    Energy =   0.0294
Level     0,  Iter    26:    Energy =   0.0296
Level     0,  Iter    27:    Energy =   0.0297
Level     0,  Iter    28:    Energy =   0.0298
Level     0,  Iter    29:    Energy =   0.0298
Level     0,  Iter    30:    Energy =   0.0299
Level     0,  Iter    31:    Energy =   0.0301
Level     0,  Iter    32:    Energy =   0.0304
Level     0,  Iter    33:    Energy =   0.0307
Level     0,  Iter    34:    Energy =   0.0309
Level     0,  Iter    35:    Energy =   0.0310
Level     0,  Iter    36:    Energy =   0.0311
Level     0,  Iter    37:    Energy =   0.0312
Level     0,  Iter    38:    Energy =   0.0313
Level     0,  Iter    39:    Energy =   0.0313
Level     0,  Iter    40:    Energy =   0.0314
Level     0,  Iter    41:    Energy =   0.0314
Level     0,  Iter    42:    Energy =   0.0315
Level     0,  Iter    43:    Energy =   0.0316
Level     0,  Iter    44:    Energy =   0.0317
Level     0,  Iter    45:    Energy =   0.0317
Level     0,  Iter    46:    Energy =   0.0317
Level     0,  Iter    47:    Energy =   0.0318
Level     0,  Iter    48:    Energy =   0.0319
Level     0,  Iter    49:    Energy =   0.0319
Level     0,  Iter    50:    Energy =   0.0320
Level     0,  Iter    51:    Energy =   0.0321
Level     0,  Iter    52:    Energy =   0.0321
Level     0,  Iter    53:    Energy =   0.0322
Level     0,  Iter    54:    Energy =   0.0323
Level     0,  Iter    55:    Energy =   0.0324
Level     0,  Iter    56:    Energy =   0.0325
Level     0,  Iter    57:    Energy =   0.0326
Level     0,  Iter    58:    Energy =   0.0328
Level     0,  Iter    59:    Energy =   0.0329
END OF LEVEL     0    DetJac Range:   0.0426  to   2.3406 
  Avg. Gradient Time  : 0.0067s  32.76% 
  Avg. Gaussian Time  : 0.0099s  48.47% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0181
Level     1,  Iter     1:    Energy =   0.0191
Level     1,  Iter     2:    Energy =   0.0199
Level     1,  Iter     3:    Energy =   0.0206
Level     1,  Iter     4:    Energy =   0.0211
Level     1,  Iter     5:    Energy =   0.0216
Level     1,  Iter     6:    Energy =   0.0220
Level     1,  Iter     7:    Energy =   0.0224
Level     1,  Iter     8:    Energy =   0.0227
Level     1,  Iter     9:    Energy =   0.0229
Level     1,  Iter    10:    Energy =   0.0230
Level     1,  Iter    11:    Energy =   0.0231
Level     1,  Iter    12:    Energy =   0.0232
Level     1,  Iter    13:    Energy =   0.0234
Level     1,  Iter    14:    Energy =   0.0234
Level     1,  Iter    15:    Energy =   0.0235
Level     1,  Iter    16:    Energy =   0.0235
Level     1,  Iter    17:    Energy =   0.0234
Level     1,  Iter    18:    Energy =   0.0234
Level     1,  Iter    19:    Energy =   0.0233
Level     1,  Iter    20:    Energy =   0.0233
Level     1,  Iter    21:    Energy =   0.0232
Level     1,  Iter    22:    Energy =   0.0231
Level     1,  Iter    23:    Energy =   0.0231
Level     1,  Iter    24:    Energy =   0.0230
Level     1,  Iter    25:    Energy =   0.0228
Level     1,  Iter    26:    Energy =   0.0228
Level     1,  Iter    27:    Energy =   0.0227
Level     1,  Iter    28:    Energy =   0.0226
Level     1,  Iter    29:    Energy =   0.0225
Level     1,  Iter    30:    Energy =   0.0224
Level     1,  Iter    31:    Energy =   0.0223
Level     1,  Iter    32:    Energy =   0.0223
Level     1,  Iter    33:    Energy =   0.0222
Level     1,  Iter    34:    Energy =   0.0221
Level     1,  Iter    35:    Energy =   0.0220
Level     1,  Iter    36:    Energy =   0.0220
Level     1,  Iter    37:    Energy =   0.0219
Level     1,  Iter    38:    Energy =   0.0219
Level     1,  Iter    39:    Energy =   0.0218
Level     1,  Iter    40:    Energy =   0.0218
Level     1,  Iter    41:    Energy =   0.0217
Level     1,  Iter    42:    Energy =   0.0217
Level     1,  Iter    43:    Energy =   0.0216
Level     1,  Iter    44:    Energy =   0.0216
Level     1,  Iter    45:    Energy =   0.0216
Level     1,  Iter    46:    Energy =   0.0216
Level     1,  Iter    47:    Energy =   0.0215
Level     1,  Iter    48:    Energy =   0.0215
Level     1,  Iter    49:    Energy =   0.0214
Level     1,  Iter    50:    Energy =   0.0214
Level     1,  Iter    51:    Energy =   0.0214
Level     1,  Iter    52:    Energy =   0.0214
Level     1,  Iter    53:    Energy =   0.0214
Level     1,  Iter    54:    Energy =   0.0214
Level     1,  Iter    55:    Energy =   0.0214
Level     1,  Iter    56:    Energy =   0.0214
Level     1,  Iter    57:    Energy =   0.0213
Level     1,  Iter    58:    Energy =   0.0213
Level     1,  Iter    59:    Energy =   0.0213
END OF LEVEL     1    DetJac Range:   0.0274  to   1.8066 
  Avg. Gradient Time  : 0.0281s  33.52% 
  Avg. Gaussian Time  : 0.0442s  52.65% 
  Avg. Iteration Time : 0.0839s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0088
Level     2,  Iter     1:    Energy =   0.0093
Level     2,  Iter     2:    Energy =   0.0096
Level     2,  Iter     3:    Energy =   0.0099
Level     2,  Iter     4:    Energy =   0.0101
Level     2,  Iter     5:    Energy =   0.0103
Level     2,  Iter     6:    Energy =   0.0105
Level     2,  Iter     7:    Energy =   0.0106
Level     2,  Iter     8:    Energy =   0.0108
Level     2,  Iter     9:    Energy =   0.0109
Level     2,  Iter    10:    Energy =   0.0110
Level     2,  Iter    11:    Energy =   0.0111
Level     2,  Iter    12:    Energy =   0.0111
Level     2,  Iter    13:    Energy =   0.0111
Level     2,  Iter    14:    Energy =   0.0112
Level     2,  Iter    15:    Energy =   0.0112
Level     2,  Iter    16:    Energy =   0.0113
Level     2,  Iter    17:    Energy =   0.0113
Level     2,  Iter    18:    Energy =   0.0113
Level     2,  Iter    19:    Energy =   0.0113
END OF LEVEL     2    DetJac Range:   0.0292  to   1.7570 
  Avg. Gradient Time  : 0.1737s  31.33% 
  Avg. Gaussian Time  : 0.3040s  54.84% 
  Avg. Iteration Time : 0.5544s 

real	0m20.026s
user	0m34.948s
sys	0m2.116s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.238571 0.242857
+ echo 'CHUNK 0.238571 0.242857 1'
CHUNK 0.238571 0.242857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.238571 0.242857 1
====================================
         PROGRESS: 0.238571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.6
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 296.716   GNORM= 301.174
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -275.113      82.341       0.012
   2    6      -349.615      87.384       1.000
   3    7      -574.552     122.810       1.000
   4   12      -614.475     103.746       0.159
   5   13      -633.850     337.085       1.000
   6   15      -644.002     145.500       0.239
   7   17      -670.069     127.612       0.224
   8   19      -693.127     150.274       0.209
   9   21      -733.946    4885.581       0.418
  10   27      -744.312     110.019       0.004
  11   28      -768.654      57.446       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12091 -0.0940271 0.133563 -4.46141 
-0.0789669 1.02601 -0.164978 3.84477 
0.0207314 -0.186473 0.986723 -2.97036 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -260.477   GNORM= 3233.32
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -261.415    1282.788       0.000
   2    5      -261.655     219.630       0.324
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11891 -0.092138 0.130573 -4.22128 
-0.0778803 1.0247 -0.162922 3.702 
0.0209593 -0.186669 0.986906 -2.9953 
0 0 0 1 

Final RAS Transform: 
1.11891 -0.092138 0.130573 -4.22128 
-0.0778803 1.0247 -0.162922 3.702 
0.0209593 -0.186669 0.986906 -2.9953 
0 0 0 1 


real	0m3.614s
user	0m5.692s
sys	0m0.408s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.443206
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0148
Level     0,  Iter     1:    Energy =   0.0168
Level     0,  Iter     2:    Energy =   0.0191
Level     0,  Iter     3:    Energy =   0.0214
Level     0,  Iter     4:    Energy =   0.0233
Level     0,  Iter     5:    Energy =   0.0251
Level     0,  Iter     6:    Energy =   0.0266
Level     0,  Iter     7:    Energy =   0.0279
Level     0,  Iter     8:    Energy =   0.0287
Level     0,  Iter     9:    Energy =   0.0295
Level     0,  Iter    10:    Energy =   0.0302
Level     0,  Iter    11:    Energy =   0.0310
Level     0,  Iter    12:    Energy =   0.0317
Level     0,  Iter    13:    Energy =   0.0325
Level     0,  Iter    14:    Energy =   0.0330
Level     0,  Iter    15:    Energy =   0.0334
Level     0,  Iter    16:    Energy =   0.0337
Level     0,  Iter    17:    Energy =   0.0338
Level     0,  Iter    18:    Energy =   0.0340
Level     0,  Iter    19:    Energy =   0.0341
Level     0,  Iter    20:    Energy =   0.0341
Level     0,  Iter    21:    Energy =   0.0341
Level     0,  Iter    22:    Energy =   0.0341
Level     0,  Iter    23:    Energy =   0.0341
Level     0,  Iter    24:    Energy =   0.0340
Level     0,  Iter    25:    Energy =   0.0340
Level     0,  Iter    26:    Energy =   0.0340
Level     0,  Iter    27:    Energy =   0.0341
Level     0,  Iter    28:    Energy =   0.0341
Level     0,  Iter    29:    Energy =   0.0342
Level     0,  Iter    30:    Energy =   0.0343
Level     0,  Iter    31:    Energy =   0.0344
Level     0,  Iter    32:    Energy =   0.0344
Level     0,  Iter    33:    Energy =   0.0345
Level     0,  Iter    34:    Energy =   0.0345
Level     0,  Iter    35:    Energy =   0.0346
Level     0,  Iter    36:    Energy =   0.0346
Level     0,  Iter    37:    Energy =   0.0346
Level     0,  Iter    38:    Energy =   0.0346
Level     0,  Iter    39:    Energy =   0.0346
Level     0,  Iter    40:    Energy =   0.0345
Level     0,  Iter    41:    Energy =   0.0346
Level     0,  Iter    42:    Energy =   0.0345
Level     0,  Iter    43:    Energy =   0.0346
Level     0,  Iter    44:    Energy =   0.0346
Level     0,  Iter    45:    Energy =   0.0346
Level     0,  Iter    46:    Energy =   0.0346
Level     0,  Iter    47:    Energy =   0.0346
Level     0,  Iter    48:    Energy =   0.0347
Level     0,  Iter    49:    Energy =   0.0347
Level     0,  Iter    50:    Energy =   0.0347
Level     0,  Iter    51:    Energy =   0.0347
Level     0,  Iter    52:    Energy =   0.0347
Level     0,  Iter    53:    Energy =   0.0347
Level     0,  Iter    54:    Energy =   0.0348
Level     0,  Iter    55:    Energy =   0.0348
Level     0,  Iter    56:    Energy =   0.0348
Level     0,  Iter    57:    Energy =   0.0348
Level     0,  Iter    58:    Energy =   0.0348
Level     0,  Iter    59:    Energy =   0.0348
END OF LEVEL     0    DetJac Range:   0.1101  to   2.6427 
  Avg. Gradient Time  : 0.0066s  32.87% 
  Avg. Gaussian Time  : 0.0097s  48.27% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0163
Level     1,  Iter     1:    Energy =   0.0171
Level     1,  Iter     2:    Energy =   0.0177
Level     1,  Iter     3:    Energy =   0.0183
Level     1,  Iter     4:    Energy =   0.0188
Level     1,  Iter     5:    Energy =   0.0193
Level     1,  Iter     6:    Energy =   0.0197
Level     1,  Iter     7:    Energy =   0.0202
Level     1,  Iter     8:    Energy =   0.0206
Level     1,  Iter     9:    Energy =   0.0209
Level     1,  Iter    10:    Energy =   0.0212
Level     1,  Iter    11:    Energy =   0.0215
Level     1,  Iter    12:    Energy =   0.0218
Level     1,  Iter    13:    Energy =   0.0221
Level     1,  Iter    14:    Energy =   0.0224
Level     1,  Iter    15:    Energy =   0.0227
Level     1,  Iter    16:    Energy =   0.0229
Level     1,  Iter    17:    Energy =   0.0232
Level     1,  Iter    18:    Energy =   0.0235
Level     1,  Iter    19:    Energy =   0.0239
Level     1,  Iter    20:    Energy =   0.0242
Level     1,  Iter    21:    Energy =   0.0245
Level     1,  Iter    22:    Energy =   0.0248
Level     1,  Iter    23:    Energy =   0.0251
Level     1,  Iter    24:    Energy =   0.0254
Level     1,  Iter    25:    Energy =   0.0257
Level     1,  Iter    26:    Energy =   0.0259
Level     1,  Iter    27:    Energy =   0.0262
Level     1,  Iter    28:    Energy =   0.0264
Level     1,  Iter    29:    Energy =   0.0266
Level     1,  Iter    30:    Energy =   0.0268
Level     1,  Iter    31:    Energy =   0.0270
Level     1,  Iter    32:    Energy =   0.0271
Level     1,  Iter    33:    Energy =   0.0272
Level     1,  Iter    34:    Energy =   0.0273
Level     1,  Iter    35:    Energy =   0.0273
Level     1,  Iter    36:    Energy =   0.0274
Level     1,  Iter    37:    Energy =   0.0274
Level     1,  Iter    38:    Energy =   0.0275
Level     1,  Iter    39:    Energy =   0.0275
Level     1,  Iter    40:    Energy =   0.0276
Level     1,  Iter    41:    Energy =   0.0277
Level     1,  Iter    42:    Energy =   0.0278
Level     1,  Iter    43:    Energy =   0.0279
Level     1,  Iter    44:    Energy =   0.0280
Level     1,  Iter    45:    Energy =   0.0280
Level     1,  Iter    46:    Energy =   0.0281
Level     1,  Iter    47:    Energy =   0.0281
Level     1,  Iter    48:    Energy =   0.0282
Level     1,  Iter    49:    Energy =   0.0282
Level     1,  Iter    50:    Energy =   0.0283
Level     1,  Iter    51:    Energy =   0.0283
Level     1,  Iter    52:    Energy =   0.0284
Level     1,  Iter    53:    Energy =   0.0284
Level     1,  Iter    54:    Energy =   0.0284
Level     1,  Iter    55:    Energy =   0.0284
Level     1,  Iter    56:    Energy =   0.0285
Level     1,  Iter    57:    Energy =   0.0285
Level     1,  Iter    58:    Energy =   0.0285
Level     1,  Iter    59:    Energy =   0.0285
END OF LEVEL     1    DetJac Range:   0.0289  to   3.2811 
  Avg. Gradient Time  : 0.0275s  33.23% 
  Avg. Gaussian Time  : 0.0438s  52.84% 
  Avg. Iteration Time : 0.0828s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0113
Level     2,  Iter     1:    Energy =   0.0118
Level     2,  Iter     2:    Energy =   0.0122
Level     2,  Iter     3:    Energy =   0.0125
Level     2,  Iter     4:    Energy =   0.0129
Level     2,  Iter     5:    Energy =   0.0131
Level     2,  Iter     6:    Energy =   0.0133
Level     2,  Iter     7:    Energy =   0.0134
Level     2,  Iter     8:    Energy =   0.0135
Level     2,  Iter     9:    Energy =   0.0136
Level     2,  Iter    10:    Energy =   0.0137
Level     2,  Iter    11:    Energy =   0.0138
Level     2,  Iter    12:    Energy =   0.0138
Level     2,  Iter    13:    Energy =   0.0138
Level     2,  Iter    14:    Energy =   0.0139
Level     2,  Iter    15:    Energy =   0.0139
Level     2,  Iter    16:    Energy =   0.0139
Level     2,  Iter    17:    Energy =   0.0139
Level     2,  Iter    18:    Energy =   0.0139
Level     2,  Iter    19:    Energy =   0.0140
END OF LEVEL     2    DetJac Range:   0.0377  to   2.4949 
  Avg. Gradient Time  : 0.1801s  31.41% 
  Avg. Gaussian Time  : 0.3142s  54.78% 
  Avg. Iteration Time : 0.5735s 

real	0m20.355s
user	0m35.536s
sys	0m2.212s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.242857 0.247143
+ echo 'CHUNK 0.242857 0.247143 1'
CHUNK 0.242857 0.247143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.242857 0.247143 1
====================================
         PROGRESS: 0.242857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.612
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 346.015   GNORM= 241.751
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -366.928     213.191       0.021
   2    5      -603.221      81.011       0.491
   3    7      -635.976      69.818       0.090
   4    9      -674.116      44.672       0.226
   5   10      -701.649      66.285       1.000
   6   11      -727.099      36.254       1.000
   7   14      -763.231      68.008       0.819
   8   20      -769.267      47.608       1.211
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.09341 -0.128707 0.162203 -3.18111 
-0.0990985 1.09367 -0.194312 4.88367 
0.00102066 -0.222113 0.974099 -4.21145 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -316.578   GNORM= 112.942
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -317.963     294.948       0.009
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.0986 -0.138447 0.165858 -3.76886 
-0.0995901 1.09527 -0.191056 4.89474 
0.00482284 -0.226376 0.970644 -4.2733 
0 0 0 1 

Final RAS Transform: 
1.0986 -0.138447 0.165858 -3.76886 
-0.0995901 1.09527 -0.191056 4.89474 
0.00482284 -0.226376 0.970644 -4.2733 
0 0 0 1 


real	0m3.515s
user	0m5.360s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.380649
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0157
Level     0,  Iter     1:    Energy =   0.0173
Level     0,  Iter     2:    Energy =   0.0196
Level     0,  Iter     3:    Energy =   0.0220
Level     0,  Iter     4:    Energy =   0.0240
Level     0,  Iter     5:    Energy =   0.0253
Level     0,  Iter     6:    Energy =   0.0266
Level     0,  Iter     7:    Energy =   0.0273
Level     0,  Iter     8:    Energy =   0.0278
Level     0,  Iter     9:    Energy =   0.0282
Level     0,  Iter    10:    Energy =   0.0287
Level     0,  Iter    11:    Energy =   0.0290
Level     0,  Iter    12:    Energy =   0.0292
Level     0,  Iter    13:    Energy =   0.0294
Level     0,  Iter    14:    Energy =   0.0295
Level     0,  Iter    15:    Energy =   0.0298
Level     0,  Iter    16:    Energy =   0.0299
Level     0,  Iter    17:    Energy =   0.0301
Level     0,  Iter    18:    Energy =   0.0303
Level     0,  Iter    19:    Energy =   0.0304
Level     0,  Iter    20:    Energy =   0.0305
Level     0,  Iter    21:    Energy =   0.0306
Level     0,  Iter    22:    Energy =   0.0308
Level     0,  Iter    23:    Energy =   0.0309
Level     0,  Iter    24:    Energy =   0.0310
Level     0,  Iter    25:    Energy =   0.0311
Level     0,  Iter    26:    Energy =   0.0312
Level     0,  Iter    27:    Energy =   0.0312
Level     0,  Iter    28:    Energy =   0.0313
Level     0,  Iter    29:    Energy =   0.0313
Level     0,  Iter    30:    Energy =   0.0313
Level     0,  Iter    31:    Energy =   0.0313
Level     0,  Iter    32:    Energy =   0.0313
Level     0,  Iter    33:    Energy =   0.0313
Level     0,  Iter    34:    Energy =   0.0313
Level     0,  Iter    35:    Energy =   0.0313
Level     0,  Iter    36:    Energy =   0.0312
Level     0,  Iter    37:    Energy =   0.0313
Level     0,  Iter    38:    Energy =   0.0313
Level     0,  Iter    39:    Energy =   0.0313
Level     0,  Iter    40:    Energy =   0.0314
Level     0,  Iter    41:    Energy =   0.0314
Level     0,  Iter    42:    Energy =   0.0314
Level     0,  Iter    43:    Energy =   0.0314
Level     0,  Iter    44:    Energy =   0.0315
Level     0,  Iter    45:    Energy =   0.0315
Level     0,  Iter    46:    Energy =   0.0316
Level     0,  Iter    47:    Energy =   0.0316
Level     0,  Iter    48:    Energy =   0.0316
Level     0,  Iter    49:    Energy =   0.0316
Level     0,  Iter    50:    Energy =   0.0316
Level     0,  Iter    51:    Energy =   0.0316
Level     0,  Iter    52:    Energy =   0.0316
Level     0,  Iter    53:    Energy =   0.0316
Level     0,  Iter    54:    Energy =   0.0316
Level     0,  Iter    55:    Energy =   0.0316
Level     0,  Iter    56:    Energy =   0.0317
Level     0,  Iter    57:    Energy =   0.0317
Level     0,  Iter    58:    Energy =   0.0317
Level     0,  Iter    59:    Energy =   0.0318
END OF LEVEL     0    DetJac Range:   0.0910  to   2.3928 
  Avg. Gradient Time  : 0.0069s  32.99% 
  Avg. Gaussian Time  : 0.0102s  48.51% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0156
Level     1,  Iter     1:    Energy =   0.0166
Level     1,  Iter     2:    Energy =   0.0175
Level     1,  Iter     3:    Energy =   0.0182
Level     1,  Iter     4:    Energy =   0.0188
Level     1,  Iter     5:    Energy =   0.0192
Level     1,  Iter     6:    Energy =   0.0196
Level     1,  Iter     7:    Energy =   0.0198
Level     1,  Iter     8:    Energy =   0.0200
Level     1,  Iter     9:    Energy =   0.0203
Level     1,  Iter    10:    Energy =   0.0205
Level     1,  Iter    11:    Energy =   0.0208
Level     1,  Iter    12:    Energy =   0.0212
Level     1,  Iter    13:    Energy =   0.0215
Level     1,  Iter    14:    Energy =   0.0218
Level     1,  Iter    15:    Energy =   0.0221
Level     1,  Iter    16:    Energy =   0.0223
Level     1,  Iter    17:    Energy =   0.0225
Level     1,  Iter    18:    Energy =   0.0227
Level     1,  Iter    19:    Energy =   0.0229
Level     1,  Iter    20:    Energy =   0.0231
Level     1,  Iter    21:    Energy =   0.0233
Level     1,  Iter    22:    Energy =   0.0234
Level     1,  Iter    23:    Energy =   0.0236
Level     1,  Iter    24:    Energy =   0.0237
Level     1,  Iter    25:    Energy =   0.0238
Level     1,  Iter    26:    Energy =   0.0238
Level     1,  Iter    27:    Energy =   0.0239
Level     1,  Iter    28:    Energy =   0.0240
Level     1,  Iter    29:    Energy =   0.0240
Level     1,  Iter    30:    Energy =   0.0241
Level     1,  Iter    31:    Energy =   0.0241
Level     1,  Iter    32:    Energy =   0.0242
Level     1,  Iter    33:    Energy =   0.0243
Level     1,  Iter    34:    Energy =   0.0243
Level     1,  Iter    35:    Energy =   0.0243
Level     1,  Iter    36:    Energy =   0.0243
Level     1,  Iter    37:    Energy =   0.0244
Level     1,  Iter    38:    Energy =   0.0244
Level     1,  Iter    39:    Energy =   0.0244
Level     1,  Iter    40:    Energy =   0.0244
Level     1,  Iter    41:    Energy =   0.0245
Level     1,  Iter    42:    Energy =   0.0245
Level     1,  Iter    43:    Energy =   0.0245
Level     1,  Iter    44:    Energy =   0.0245
Level     1,  Iter    45:    Energy =   0.0245
Level     1,  Iter    46:    Energy =   0.0246
Level     1,  Iter    47:    Energy =   0.0246
Level     1,  Iter    48:    Energy =   0.0246
Level     1,  Iter    49:    Energy =   0.0246
Level     1,  Iter    50:    Energy =   0.0247
Level     1,  Iter    51:    Energy =   0.0247
Level     1,  Iter    52:    Energy =   0.0247
Level     1,  Iter    53:    Energy =   0.0248
Level     1,  Iter    54:    Energy =   0.0248
Level     1,  Iter    55:    Energy =   0.0248
Level     1,  Iter    56:    Energy =   0.0248
Level     1,  Iter    57:    Energy =   0.0249
Level     1,  Iter    58:    Energy =   0.0249
Level     1,  Iter    59:    Energy =   0.0249
END OF LEVEL     1    DetJac Range:   0.0214  to   3.3489 
  Avg. Gradient Time  : 0.0284s  33.19% 
  Avg. Gaussian Time  : 0.0453s  52.83% 
  Avg. Iteration Time : 0.0857s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0106
Level     2,  Iter     1:    Energy =   0.0112
Level     2,  Iter     2:    Energy =   0.0118
Level     2,  Iter     3:    Energy =   0.0123
Level     2,  Iter     4:    Energy =   0.0127
Level     2,  Iter     5:    Energy =   0.0130
Level     2,  Iter     6:    Energy =   0.0133
Level     2,  Iter     7:    Energy =   0.0136
Level     2,  Iter     8:    Energy =   0.0139
Level     2,  Iter     9:    Energy =   0.0142
Level     2,  Iter    10:    Energy =   0.0145
Level     2,  Iter    11:    Energy =   0.0147
Level     2,  Iter    12:    Energy =   0.0149
Level     2,  Iter    13:    Energy =   0.0151
Level     2,  Iter    14:    Energy =   0.0151
Level     2,  Iter    15:    Energy =   0.0152
Level     2,  Iter    16:    Energy =   0.0154
Level     2,  Iter    17:    Energy =   0.0155
Level     2,  Iter    18:    Energy =   0.0156
Level     2,  Iter    19:    Energy =   0.0158
END OF LEVEL     2    DetJac Range:   0.0232  to   3.7497 
  Avg. Gradient Time  : 0.1856s  31.69% 
  Avg. Gaussian Time  : 0.3189s  54.46% 
  Avg. Iteration Time : 0.5856s 

real	0m20.915s
user	0m36.464s
sys	0m2.316s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.247143 0.251429
+ echo 'CHUNK 0.247143 0.251429 1'
CHUNK 0.247143 0.251429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.247143 0.251429 1
====================================
         PROGRESS: 0.247143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 286.869   GNORM= 265.355
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -379.298      98.225       0.019
   2    6      -553.080      98.643       0.675
   3   10      -581.027     126.386       0.045
   4   13      -716.768     109.187       2.330
   5   15      -743.824     102.673       0.332
   6   19      -795.935      33.236       0.571
   7   20      -800.111      44.021       1.000
   8   21      -810.051      87.828       1.000
   9   24      -812.838      82.259       0.041
  10   25      -816.101      80.044       1.000
  11   27      -817.774      48.577       0.201
  12   28      -822.524      30.979       1.000
  13   37      -829.873      22.206       1.000
  14   38      -832.196      24.064       1.000
  15   39      -839.838      36.258       1.000
  16   41      -840.446      52.194       0.244
  17   43      -842.374      57.272       0.158
  18   50      -842.466      46.443       0.103
  19   56      -847.500     139.335       2.135
  20   60      -848.248      57.752       0.643
  21   61      -851.697      57.359       1.000
Final RAS Transform: 
1.13068 -0.198156 0.0276186 -4.3935 
0.00709627 1.16661 -0.174506 3.22492 
0.0220931 -0.14531 0.915906 -5.71137 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -340.69   GNORM= 59.3469
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -340.764     137.278       0.007
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12887 -0.195799 0.0242445 -4.13353 
0.00720306 1.16695 -0.174597 3.22148 
0.0219754 -0.144506 0.915522 -5.70204 
0 0 0 1 

Final RAS Transform: 
1.12887 -0.195799 0.0242445 -4.13353 
0.00720306 1.16695 -0.174597 3.22148 
0.0219754 -0.144506 0.915522 -5.70204 
0 0 0 1 


real	0m3.815s
user	0m5.944s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.441682
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0176
Level     0,  Iter     1:    Energy =   0.0197
Level     0,  Iter     2:    Energy =   0.0227
Level     0,  Iter     3:    Energy =   0.0251
Level     0,  Iter     4:    Energy =   0.0273
Level     0,  Iter     5:    Energy =   0.0292
Level     0,  Iter     6:    Energy =   0.0307
Level     0,  Iter     7:    Energy =   0.0318
Level     0,  Iter     8:    Energy =   0.0328
Level     0,  Iter     9:    Energy =   0.0334
Level     0,  Iter    10:    Energy =   0.0339
Level     0,  Iter    11:    Energy =   0.0344
Level     0,  Iter    12:    Energy =   0.0351
Level     0,  Iter    13:    Energy =   0.0356
Level     0,  Iter    14:    Energy =   0.0361
Level     0,  Iter    15:    Energy =   0.0363
Level     0,  Iter    16:    Energy =   0.0365
Level     0,  Iter    17:    Energy =   0.0367
Level     0,  Iter    18:    Energy =   0.0368
Level     0,  Iter    19:    Energy =   0.0371
Level     0,  Iter    20:    Energy =   0.0372
Level     0,  Iter    21:    Energy =   0.0375
Level     0,  Iter    22:    Energy =   0.0377
Level     0,  Iter    23:    Energy =   0.0379
Level     0,  Iter    24:    Energy =   0.0381
Level     0,  Iter    25:    Energy =   0.0382
Level     0,  Iter    26:    Energy =   0.0384
Level     0,  Iter    27:    Energy =   0.0385
Level     0,  Iter    28:    Energy =   0.0385
Level     0,  Iter    29:    Energy =   0.0387
Level     0,  Iter    30:    Energy =   0.0389
Level     0,  Iter    31:    Energy =   0.0390
Level     0,  Iter    32:    Energy =   0.0392
Level     0,  Iter    33:    Energy =   0.0393
Level     0,  Iter    34:    Energy =   0.0396
Level     0,  Iter    35:    Energy =   0.0398
Level     0,  Iter    36:    Energy =   0.0402
Level     0,  Iter    37:    Energy =   0.0403
Level     0,  Iter    38:    Energy =   0.0405
Level     0,  Iter    39:    Energy =   0.0406
Level     0,  Iter    40:    Energy =   0.0407
Level     0,  Iter    41:    Energy =   0.0408
Level     0,  Iter    42:    Energy =   0.0408
Level     0,  Iter    43:    Energy =   0.0408
Level     0,  Iter    44:    Energy =   0.0408
Level     0,  Iter    45:    Energy =   0.0408
Level     0,  Iter    46:    Energy =   0.0408
Level     0,  Iter    47:    Energy =   0.0408
Level     0,  Iter    48:    Energy =   0.0408
Level     0,  Iter    49:    Energy =   0.0408
Level     0,  Iter    50:    Energy =   0.0409
Level     0,  Iter    51:    Energy =   0.0408
Level     0,  Iter    52:    Energy =   0.0409
Level     0,  Iter    53:    Energy =   0.0408
Level     0,  Iter    54:    Energy =   0.0409
Level     0,  Iter    55:    Energy =   0.0409
Level     0,  Iter    56:    Energy =   0.0409
Level     0,  Iter    57:    Energy =   0.0410
Level     0,  Iter    58:    Energy =   0.0411
Level     0,  Iter    59:    Energy =   0.0411
END OF LEVEL     0    DetJac Range:   0.0982  to   3.2458 
  Avg. Gradient Time  : 0.0071s  33.03% 
  Avg. Gaussian Time  : 0.0103s  48.14% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0213
Level     1,  Iter     1:    Energy =   0.0225
Level     1,  Iter     2:    Energy =   0.0237
Level     1,  Iter     3:    Energy =   0.0247
Level     1,  Iter     4:    Energy =   0.0257
Level     1,  Iter     5:    Energy =   0.0265
Level     1,  Iter     6:    Energy =   0.0272
Level     1,  Iter     7:    Energy =   0.0278
Level     1,  Iter     8:    Energy =   0.0282
Level     1,  Iter     9:    Energy =   0.0285
Level     1,  Iter    10:    Energy =   0.0289
Level     1,  Iter    11:    Energy =   0.0291
Level     1,  Iter    12:    Energy =   0.0293
Level     1,  Iter    13:    Energy =   0.0295
Level     1,  Iter    14:    Energy =   0.0297
Level     1,  Iter    15:    Energy =   0.0298
Level     1,  Iter    16:    Energy =   0.0300
Level     1,  Iter    17:    Energy =   0.0301
Level     1,  Iter    18:    Energy =   0.0302
Level     1,  Iter    19:    Energy =   0.0304
Level     1,  Iter    20:    Energy =   0.0305
Level     1,  Iter    21:    Energy =   0.0306
Level     1,  Iter    22:    Energy =   0.0307
Level     1,  Iter    23:    Energy =   0.0308
Level     1,  Iter    24:    Energy =   0.0309
Level     1,  Iter    25:    Energy =   0.0310
Level     1,  Iter    26:    Energy =   0.0311
Level     1,  Iter    27:    Energy =   0.0312
Level     1,  Iter    28:    Energy =   0.0313
Level     1,  Iter    29:    Energy =   0.0314
Level     1,  Iter    30:    Energy =   0.0315
Level     1,  Iter    31:    Energy =   0.0315
Level     1,  Iter    32:    Energy =   0.0316
Level     1,  Iter    33:    Energy =   0.0317
Level     1,  Iter    34:    Energy =   0.0318
Level     1,  Iter    35:    Energy =   0.0318
Level     1,  Iter    36:    Energy =   0.0319
Level     1,  Iter    37:    Energy =   0.0319
Level     1,  Iter    38:    Energy =   0.0320
Level     1,  Iter    39:    Energy =   0.0322
Level     1,  Iter    40:    Energy =   0.0323
Level     1,  Iter    41:    Energy =   0.0324
Level     1,  Iter    42:    Energy =   0.0325
Level     1,  Iter    43:    Energy =   0.0326
Level     1,  Iter    44:    Energy =   0.0327
Level     1,  Iter    45:    Energy =   0.0328
Level     1,  Iter    46:    Energy =   0.0329
Level     1,  Iter    47:    Energy =   0.0329
Level     1,  Iter    48:    Energy =   0.0330
Level     1,  Iter    49:    Energy =   0.0330
Level     1,  Iter    50:    Energy =   0.0331
Level     1,  Iter    51:    Energy =   0.0331
Level     1,  Iter    52:    Energy =   0.0332
Level     1,  Iter    53:    Energy =   0.0333
Level     1,  Iter    54:    Energy =   0.0333
Level     1,  Iter    55:    Energy =   0.0334
Level     1,  Iter    56:    Energy =   0.0334
Level     1,  Iter    57:    Energy =   0.0334
Level     1,  Iter    58:    Energy =   0.0335
Level     1,  Iter    59:    Energy =   0.0335
END OF LEVEL     1    DetJac Range:   0.0367  to   3.8888 
  Avg. Gradient Time  : 0.0290s  33.62% 
  Avg. Gaussian Time  : 0.0452s  52.49% 
  Avg. Iteration Time : 0.0862s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0139
Level     2,  Iter     1:    Energy =   0.0145
Level     2,  Iter     2:    Energy =   0.0149
Level     2,  Iter     3:    Energy =   0.0153
Level     2,  Iter     4:    Energy =   0.0156
Level     2,  Iter     5:    Energy =   0.0159
Level     2,  Iter     6:    Energy =   0.0161
Level     2,  Iter     7:    Energy =   0.0163
Level     2,  Iter     8:    Energy =   0.0164
Level     2,  Iter     9:    Energy =   0.0166
Level     2,  Iter    10:    Energy =   0.0167
Level     2,  Iter    11:    Energy =   0.0168
Level     2,  Iter    12:    Energy =   0.0169
Level     2,  Iter    13:    Energy =   0.0170
Level     2,  Iter    14:    Energy =   0.0171
Level     2,  Iter    15:    Energy =   0.0171
Level     2,  Iter    16:    Energy =   0.0172
Level     2,  Iter    17:    Energy =   0.0172
Level     2,  Iter    18:    Energy =   0.0173
Level     2,  Iter    19:    Energy =   0.0173
END OF LEVEL     2    DetJac Range:   0.0470  to   3.3079 
  Avg. Gradient Time  : 0.1893s  32.05% 
  Avg. Gaussian Time  : 0.3208s  54.31% 
  Avg. Iteration Time : 0.5907s 

real	0m21.087s
user	0m36.808s
sys	0m2.308s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251429 0.255714
+ echo 'CHUNK 0.251429 0.255714 1'
CHUNK 0.251429 0.255714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251429 0.255714 1
====================================
         PROGRESS: 0.251429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.451
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 88.7862   GNORM= 292.011
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -191.226     225.968       0.003
   2    3      -377.141     110.800       1.000
   3    4      -585.575      78.475       1.000
   4    6      -587.487      63.679       0.003
   5    7      -608.052      65.797       1.000
   6    8      -613.312      37.931       1.000
   7   12      -633.041      54.753       3.675
   8   16      -633.462      63.303       0.003
   9   17      -641.959      35.528       1.000
  10   18      -648.478      25.178       1.000
  11   19      -649.935      31.635       1.000
  12   20      -651.855      30.494       1.000
  13   23      -652.750      28.055       0.105
  14   30      -652.905      25.135       0.066
  15   32      -653.394      18.618       0.252
  16   34      -661.943      26.622       5.000
  17   36      -674.692      36.225       0.178
  18   48      -675.665      37.810       0.010
  19   50      -678.876      26.171       0.170
  20   52      -680.281      23.960       0.381
Final RAS Transform: 
1.15701 -0.0800657 0.143743 -2.69165 
-0.0362949 1.10346 -0.123938 2.90594 
0.0226965 -0.177076 0.909641 -5.48158 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -262.828   GNORM= 3063.31
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -262.923     147.484       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.15701 -0.0800644 0.143742 -2.69152 
-0.036295 1.10346 -0.123939 2.90596 
0.0226964 -0.177076 0.909641 -5.48157 
0 0 0 1 

Final RAS Transform: 
1.15701 -0.0800644 0.143742 -2.69152 
-0.036295 1.10346 -0.123939 2.90596 
0.0226964 -0.177076 0.909641 -5.48157 
0 0 0 1 


real	0m3.915s
user	0m6.228s
sys	0m0.440s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.340562
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0140
Level     0,  Iter     1:    Energy =   0.0157
Level     0,  Iter     2:    Energy =   0.0173
Level     0,  Iter     3:    Energy =   0.0189
Level     0,  Iter     4:    Energy =   0.0203
Level     0,  Iter     5:    Energy =   0.0214
Level     0,  Iter     6:    Energy =   0.0222
Level     0,  Iter     7:    Energy =   0.0228
Level     0,  Iter     8:    Energy =   0.0234
Level     0,  Iter     9:    Energy =   0.0242
Level     0,  Iter    10:    Energy =   0.0248
Level     0,  Iter    11:    Energy =   0.0253
Level     0,  Iter    12:    Energy =   0.0258
Level     0,  Iter    13:    Energy =   0.0263
Level     0,  Iter    14:    Energy =   0.0268
Level     0,  Iter    15:    Energy =   0.0272
Level     0,  Iter    16:    Energy =   0.0275
Level     0,  Iter    17:    Energy =   0.0278
Level     0,  Iter    18:    Energy =   0.0281
Level     0,  Iter    19:    Energy =   0.0285
Level     0,  Iter    20:    Energy =   0.0288
Level     0,  Iter    21:    Energy =   0.0292
Level     0,  Iter    22:    Energy =   0.0295
Level     0,  Iter    23:    Energy =   0.0298
Level     0,  Iter    24:    Energy =   0.0302
Level     0,  Iter    25:    Energy =   0.0305
Level     0,  Iter    26:    Energy =   0.0308
Level     0,  Iter    27:    Energy =   0.0311
Level     0,  Iter    28:    Energy =   0.0314
Level     0,  Iter    29:    Energy =   0.0318
Level     0,  Iter    30:    Energy =   0.0321
Level     0,  Iter    31:    Energy =   0.0325
Level     0,  Iter    32:    Energy =   0.0329
Level     0,  Iter    33:    Energy =   0.0333
Level     0,  Iter    34:    Energy =   0.0336
Level     0,  Iter    35:    Energy =   0.0341
Level     0,  Iter    36:    Energy =   0.0345
Level     0,  Iter    37:    Energy =   0.0348
Level     0,  Iter    38:    Energy =   0.0352
Level     0,  Iter    39:    Energy =   0.0355
Level     0,  Iter    40:    Energy =   0.0357
Level     0,  Iter    41:    Energy =   0.0359
Level     0,  Iter    42:    Energy =   0.0361
Level     0,  Iter    43:    Energy =   0.0363
Level     0,  Iter    44:    Energy =   0.0365
Level     0,  Iter    45:    Energy =   0.0367
Level     0,  Iter    46:    Energy =   0.0368
Level     0,  Iter    47:    Energy =   0.0370
Level     0,  Iter    48:    Energy =   0.0371
Level     0,  Iter    49:    Energy =   0.0372
Level     0,  Iter    50:    Energy =   0.0374
Level     0,  Iter    51:    Energy =   0.0375
Level     0,  Iter    52:    Energy =   0.0376
Level     0,  Iter    53:    Energy =   0.0377
Level     0,  Iter    54:    Energy =   0.0378
Level     0,  Iter    55:    Energy =   0.0379
Level     0,  Iter    56:    Energy =   0.0380
Level     0,  Iter    57:    Energy =   0.0381
Level     0,  Iter    58:    Energy =   0.0382
Level     0,  Iter    59:    Energy =   0.0382
END OF LEVEL     0    DetJac Range:   0.0318  to   2.4983 
  Avg. Gradient Time  : 0.0069s  32.59% 
  Avg. Gaussian Time  : 0.0103s  48.39% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0217
Level     1,  Iter     1:    Energy =   0.0230
Level     1,  Iter     2:    Energy =   0.0241
Level     1,  Iter     3:    Energy =   0.0250
Level     1,  Iter     4:    Energy =   0.0257
Level     1,  Iter     5:    Energy =   0.0264
Level     1,  Iter     6:    Energy =   0.0270
Level     1,  Iter     7:    Energy =   0.0275
Level     1,  Iter     8:    Energy =   0.0279
Level     1,  Iter     9:    Energy =   0.0283
Level     1,  Iter    10:    Energy =   0.0287
Level     1,  Iter    11:    Energy =   0.0291
Level     1,  Iter    12:    Energy =   0.0294
Level     1,  Iter    13:    Energy =   0.0297
Level     1,  Iter    14:    Energy =   0.0300
Level     1,  Iter    15:    Energy =   0.0303
Level     1,  Iter    16:    Energy =   0.0306
Level     1,  Iter    17:    Energy =   0.0308
Level     1,  Iter    18:    Energy =   0.0310
Level     1,  Iter    19:    Energy =   0.0312
Level     1,  Iter    20:    Energy =   0.0313
Level     1,  Iter    21:    Energy =   0.0314
Level     1,  Iter    22:    Energy =   0.0315
Level     1,  Iter    23:    Energy =   0.0316
Level     1,  Iter    24:    Energy =   0.0317
Level     1,  Iter    25:    Energy =   0.0318
Level     1,  Iter    26:    Energy =   0.0319
Level     1,  Iter    27:    Energy =   0.0319
Level     1,  Iter    28:    Energy =   0.0320
Level     1,  Iter    29:    Energy =   0.0320
Level     1,  Iter    30:    Energy =   0.0320
Level     1,  Iter    31:    Energy =   0.0321
Level     1,  Iter    32:    Energy =   0.0321
Level     1,  Iter    33:    Energy =   0.0321
Level     1,  Iter    34:    Energy =   0.0322
Level     1,  Iter    35:    Energy =   0.0322
Level     1,  Iter    36:    Energy =   0.0322
Level     1,  Iter    37:    Energy =   0.0323
Level     1,  Iter    38:    Energy =   0.0323
Level     1,  Iter    39:    Energy =   0.0323
Level     1,  Iter    40:    Energy =   0.0323
Level     1,  Iter    41:    Energy =   0.0324
Level     1,  Iter    42:    Energy =   0.0324
Level     1,  Iter    43:    Energy =   0.0324
Level     1,  Iter    44:    Energy =   0.0324
Level     1,  Iter    45:    Energy =   0.0324
Level     1,  Iter    46:    Energy =   0.0324
Level     1,  Iter    47:    Energy =   0.0324
Level     1,  Iter    48:    Energy =   0.0324
Level     1,  Iter    49:    Energy =   0.0324
Level     1,  Iter    50:    Energy =   0.0324
Level     1,  Iter    51:    Energy =   0.0324
Level     1,  Iter    52:    Energy =   0.0324
Level     1,  Iter    53:    Energy =   0.0324
Level     1,  Iter    54:    Energy =   0.0324
Level     1,  Iter    55:    Energy =   0.0324
Level     1,  Iter    56:    Energy =   0.0324
Level     1,  Iter    57:    Energy =   0.0324
Level     1,  Iter    58:    Energy =   0.0324
Level     1,  Iter    59:    Energy =   0.0324
END OF LEVEL     1    DetJac Range:   0.0129  to   4.6734 
  Avg. Gradient Time  : 0.0288s  33.39% 
  Avg. Gaussian Time  : 0.0455s  52.68% 
  Avg. Iteration Time : 0.0864s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0140
Level     2,  Iter     1:    Energy =   0.0145
Level     2,  Iter     2:    Energy =   0.0150
Level     2,  Iter     3:    Energy =   0.0154
Level     2,  Iter     4:    Energy =   0.0158
Level     2,  Iter     5:    Energy =   0.0161
Level     2,  Iter     6:    Energy =   0.0163
Level     2,  Iter     7:    Energy =   0.0166
Level     2,  Iter     8:    Energy =   0.0168
Level     2,  Iter     9:    Energy =   0.0170
Level     2,  Iter    10:    Energy =   0.0172
Level     2,  Iter    11:    Energy =   0.0174
Level     2,  Iter    12:    Energy =   0.0177
Level     2,  Iter    13:    Energy =   0.0179
Level     2,  Iter    14:    Energy =   0.0181
Level     2,  Iter    15:    Energy =   0.0183
Level     2,  Iter    16:    Energy =   0.0186
Level     2,  Iter    17:    Energy =   0.0188
Level     2,  Iter    18:    Energy =   0.0191
Level     2,  Iter    19:    Energy =   0.0192
END OF LEVEL     2    DetJac Range:   0.0042  to   4.3257 
  Avg. Gradient Time  : 0.1873s  31.79% 
  Avg. Gaussian Time  : 0.3207s  54.43% 
  Avg. Iteration Time : 0.5891s 

real	0m21.040s
user	0m36.708s
sys	0m2.260s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.255714 0.26
+ echo 'CHUNK 0.255714 0.26 1'
CHUNK 0.255714 0.26 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.255714 0.26 1
====================================
         PROGRESS: 0.255714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.596
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 178.871   GNORM= 273.491
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -92.541     256.386       0.004
   2    3      -355.956      76.467       1.000
   3    5      -381.600      66.850       0.320
   4    6      -389.525      34.111       1.000
   5    7      -397.727      62.055       1.000
   6    8      -414.308      50.620       1.000
   7   11      -471.187      58.625       2.407
   8   15      -484.286     910.211       0.841
   9   24      -485.822      87.088       0.000
  10   28      -743.923      82.127       9.863
  11   30      -756.130     121.088       0.364
  12   35      -818.558      53.149       1.147
  13   38      -824.521      51.982       0.524
  14   43      -826.154      29.875       0.014
  15   49      -831.910      33.353       1.834
  16   50      -842.560      37.362       1.000
  17   53      -863.786     142.370       2.464
  18   56      -866.974      62.624       0.041
  19   57      -872.264      49.586       1.000
  20   58      -878.928      82.738       1.000
Final RAS Transform: 
1.27821 -0.114156 0.605624 1.00853 
-0.54151 0.749628 -0.313294 2.00731 
0.427529 0.172938 0.864824 -10.8191 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -397.692   GNORM= 5690.19
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -399.548      70.182       0.000
   2    6      -399.550      46.004       0.023
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.2787 -0.114257 0.606384 0.924526 
-0.541889 0.749961 -0.3139 2.07029 
0.427485 0.172832 0.864563 -10.8066 
0 0 0 1 

Final RAS Transform: 
1.2787 -0.114257 0.606384 0.924526 
-0.541889 0.749961 -0.3139 2.07029 
0.427485 0.172832 0.864563 -10.8066 
0 0 0 1 


real	0m3.921s
user	0m6.156s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.344651
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0181
Level     0,  Iter     1:    Energy =   0.0193
Level     0,  Iter     2:    Energy =   0.0204
Level     0,  Iter     3:    Energy =   0.0218
Level     0,  Iter     4:    Energy =   0.0231
Level     0,  Iter     5:    Energy =   0.0242
Level     0,  Iter     6:    Energy =   0.0250
Level     0,  Iter     7:    Energy =   0.0256
Level     0,  Iter     8:    Energy =   0.0263
Level     0,  Iter     9:    Energy =   0.0272
Level     0,  Iter    10:    Energy =   0.0277
Level     0,  Iter    11:    Energy =   0.0279
Level     0,  Iter    12:    Energy =   0.0280
Level     0,  Iter    13:    Energy =   0.0282
Level     0,  Iter    14:    Energy =   0.0283
Level     0,  Iter    15:    Energy =   0.0284
Level     0,  Iter    16:    Energy =   0.0284
Level     0,  Iter    17:    Energy =   0.0286
Level     0,  Iter    18:    Energy =   0.0286
Level     0,  Iter    19:    Energy =   0.0288
Level     0,  Iter    20:    Energy =   0.0288
Level     0,  Iter    21:    Energy =   0.0290
Level     0,  Iter    22:    Energy =   0.0290
Level     0,  Iter    23:    Energy =   0.0292
Level     0,  Iter    24:    Energy =   0.0292
Level     0,  Iter    25:    Energy =   0.0293
Level     0,  Iter    26:    Energy =   0.0293
Level     0,  Iter    27:    Energy =   0.0294
Level     0,  Iter    28:    Energy =   0.0294
Level     0,  Iter    29:    Energy =   0.0296
Level     0,  Iter    30:    Energy =   0.0295
Level     0,  Iter    31:    Energy =   0.0296
Level     0,  Iter    32:    Energy =   0.0296
Level     0,  Iter    33:    Energy =   0.0297
Level     0,  Iter    34:    Energy =   0.0297
Level     0,  Iter    35:    Energy =   0.0297
Level     0,  Iter    36:    Energy =   0.0297
Level     0,  Iter    37:    Energy =   0.0299
Level     0,  Iter    38:    Energy =   0.0298
Level     0,  Iter    39:    Energy =   0.0300
Level     0,  Iter    40:    Energy =   0.0299
Level     0,  Iter    41:    Energy =   0.0301
Level     0,  Iter    42:    Energy =   0.0301
Level     0,  Iter    43:    Energy =   0.0301
Level     0,  Iter    44:    Energy =   0.0301
Level     0,  Iter    45:    Energy =   0.0302
Level     0,  Iter    46:    Energy =   0.0302
Level     0,  Iter    47:    Energy =   0.0302
Level     0,  Iter    48:    Energy =   0.0302
Level     0,  Iter    49:    Energy =   0.0303
Level     0,  Iter    50:    Energy =   0.0302
Level     0,  Iter    51:    Energy =   0.0305
Level     0,  Iter    52:    Energy =   0.0304
Level     0,  Iter    53:    Energy =   0.0308
Level     0,  Iter    54:    Energy =   0.0306
Level     0,  Iter    55:    Energy =   0.0308
Level     0,  Iter    56:    Energy =   0.0306
Level     0,  Iter    57:    Energy =   0.0309
Level     0,  Iter    58:    Energy =   0.0308
Level     0,  Iter    59:    Energy =   0.0311
END OF LEVEL     0    DetJac Range:   0.1083  to   1.6887 
  Avg. Gradient Time  : 0.0069s  33.00% 
  Avg. Gaussian Time  : 0.0100s  48.15% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0135
Level     1,  Iter     1:    Energy =   0.0144
Level     1,  Iter     2:    Energy =   0.0151
Level     1,  Iter     3:    Energy =   0.0158
Level     1,  Iter     4:    Energy =   0.0163
Level     1,  Iter     5:    Energy =   0.0167
Level     1,  Iter     6:    Energy =   0.0170
Level     1,  Iter     7:    Energy =   0.0173
Level     1,  Iter     8:    Energy =   0.0176
Level     1,  Iter     9:    Energy =   0.0180
Level     1,  Iter    10:    Energy =   0.0183
Level     1,  Iter    11:    Energy =   0.0185
Level     1,  Iter    12:    Energy =   0.0188
Level     1,  Iter    13:    Energy =   0.0190
Level     1,  Iter    14:    Energy =   0.0192
Level     1,  Iter    15:    Energy =   0.0194
Level     1,  Iter    16:    Energy =   0.0195
Level     1,  Iter    17:    Energy =   0.0197
Level     1,  Iter    18:    Energy =   0.0199
Level     1,  Iter    19:    Energy =   0.0200
Level     1,  Iter    20:    Energy =   0.0201
Level     1,  Iter    21:    Energy =   0.0203
Level     1,  Iter    22:    Energy =   0.0204
Level     1,  Iter    23:    Energy =   0.0205
Level     1,  Iter    24:    Energy =   0.0204
Level     1,  Iter    25:    Energy =   0.0205
Level     1,  Iter    26:    Energy =   0.0205
Level     1,  Iter    27:    Energy =   0.0206
Level     1,  Iter    28:    Energy =   0.0206
Level     1,  Iter    29:    Energy =   0.0207
Level     1,  Iter    30:    Energy =   0.0207
Level     1,  Iter    31:    Energy =   0.0207
Level     1,  Iter    32:    Energy =   0.0207
Level     1,  Iter    33:    Energy =   0.0208
Level     1,  Iter    34:    Energy =   0.0208
Level     1,  Iter    35:    Energy =   0.0208
Level     1,  Iter    36:    Energy =   0.0208
Level     1,  Iter    37:    Energy =   0.0208
Level     1,  Iter    38:    Energy =   0.0209
Level     1,  Iter    39:    Energy =   0.0209
Level     1,  Iter    40:    Energy =   0.0209
Level     1,  Iter    41:    Energy =   0.0209
Level     1,  Iter    42:    Energy =   0.0210
Level     1,  Iter    43:    Energy =   0.0210
Level     1,  Iter    44:    Energy =   0.0210
Level     1,  Iter    45:    Energy =   0.0210
Level     1,  Iter    46:    Energy =   0.0210
Level     1,  Iter    47:    Energy =   0.0210
Level     1,  Iter    48:    Energy =   0.0210
Level     1,  Iter    49:    Energy =   0.0210
Level     1,  Iter    50:    Energy =   0.0211
Level     1,  Iter    51:    Energy =   0.0211
Level     1,  Iter    52:    Energy =   0.0211
Level     1,  Iter    53:    Energy =   0.0211
Level     1,  Iter    54:    Energy =   0.0211
Level     1,  Iter    55:    Energy =   0.0211
Level     1,  Iter    56:    Energy =   0.0211
Level     1,  Iter    57:    Energy =   0.0211
Level     1,  Iter    58:    Energy =   0.0211
Level     1,  Iter    59:    Energy =   0.0211
END OF LEVEL     1    DetJac Range:   0.0897  to   2.5411 
  Avg. Gradient Time  : 0.0294s  33.98% 
  Avg. Gaussian Time  : 0.0452s  52.27% 
  Avg. Iteration Time : 0.0865s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0075
Level     2,  Iter     1:    Energy =   0.0078
Level     2,  Iter     2:    Energy =   0.0081
Level     2,  Iter     3:    Energy =   0.0083
Level     2,  Iter     4:    Energy =   0.0084
Level     2,  Iter     5:    Energy =   0.0086
Level     2,  Iter     6:    Energy =   0.0088
Level     2,  Iter     7:    Energy =   0.0091
Level     2,  Iter     8:    Energy =   0.0094
Level     2,  Iter     9:    Energy =   0.0096
Level     2,  Iter    10:    Energy =   0.0100
Level     2,  Iter    11:    Energy =   0.0103
Level     2,  Iter    12:    Energy =   0.0106
Level     2,  Iter    13:    Energy =   0.0109
Level     2,  Iter    14:    Energy =   0.0111
Level     2,  Iter    15:    Energy =   0.0112
Level     2,  Iter    16:    Energy =   0.0114
Level     2,  Iter    17:    Energy =   0.0115
Level     2,  Iter    18:    Energy =   0.0116
Level     2,  Iter    19:    Energy =   0.0117
END OF LEVEL     2    DetJac Range:   0.0467  to   2.7925 
  Avg. Gradient Time  : 0.1833s  31.24% 
  Avg. Gaussian Time  : 0.3229s  55.04% 
  Avg. Iteration Time : 0.5868s 

real	0m20.858s
user	0m36.492s
sys	0m2.248s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.26 0.264286
+ echo 'CHUNK 0.26 0.264286 1'
CHUNK 0.26 0.264286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.26 0.264286 1
====================================
         PROGRESS: 0.26               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 292.104   GNORM= 273.223
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -418.231     155.760       0.018
   2    4      -597.587      88.325       1.000
   3    5      -629.826      72.899       1.000
   4    6      -697.576      49.562       1.000
   5    9      -711.549      30.460       0.184
   6   12      -719.715      25.435       0.710
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11008 -0.0962841 0.169077 -3.51465 
-0.0560993 1.08047 -0.0981081 3.11889 
0.0266668 -0.100991 1.01339 -2.67241 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -333.517   GNORM= 837.081
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11008 -0.0962841 0.169077 -3.51465 
-0.0560993 1.08047 -0.0981081 3.11889 
0.0266668 -0.100991 1.01339 -2.67241 
0 0 0 1 

Final RAS Transform: 
1.11008 -0.0962841 0.169077 -3.51465 
-0.0560993 1.08047 -0.0981081 3.11889 
0.0266668 -0.100991 1.01339 -2.67241 
0 0 0 1 


real	0m3.346s
user	0m5.124s
sys	0m0.436s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.384286
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0145
Level     0,  Iter     1:    Energy =   0.0160
Level     0,  Iter     2:    Energy =   0.0178
Level     0,  Iter     3:    Energy =   0.0193
Level     0,  Iter     4:    Energy =   0.0208
Level     0,  Iter     5:    Energy =   0.0221
Level     0,  Iter     6:    Energy =   0.0231
Level     0,  Iter     7:    Energy =   0.0241
Level     0,  Iter     8:    Energy =   0.0249
Level     0,  Iter     9:    Energy =   0.0256
Level     0,  Iter    10:    Energy =   0.0263
Level     0,  Iter    11:    Energy =   0.0268
Level     0,  Iter    12:    Energy =   0.0272
Level     0,  Iter    13:    Energy =   0.0277
Level     0,  Iter    14:    Energy =   0.0281
Level     0,  Iter    15:    Energy =   0.0286
Level     0,  Iter    16:    Energy =   0.0290
Level     0,  Iter    17:    Energy =   0.0293
Level     0,  Iter    18:    Energy =   0.0296
Level     0,  Iter    19:    Energy =   0.0297
Level     0,  Iter    20:    Energy =   0.0299
Level     0,  Iter    21:    Energy =   0.0300
Level     0,  Iter    22:    Energy =   0.0301
Level     0,  Iter    23:    Energy =   0.0303
Level     0,  Iter    24:    Energy =   0.0305
Level     0,  Iter    25:    Energy =   0.0306
Level     0,  Iter    26:    Energy =   0.0308
Level     0,  Iter    27:    Energy =   0.0309
Level     0,  Iter    28:    Energy =   0.0311
Level     0,  Iter    29:    Energy =   0.0312
Level     0,  Iter    30:    Energy =   0.0314
Level     0,  Iter    31:    Energy =   0.0316
Level     0,  Iter    32:    Energy =   0.0318
Level     0,  Iter    33:    Energy =   0.0319
Level     0,  Iter    34:    Energy =   0.0321
Level     0,  Iter    35:    Energy =   0.0323
Level     0,  Iter    36:    Energy =   0.0324
Level     0,  Iter    37:    Energy =   0.0326
Level     0,  Iter    38:    Energy =   0.0327
Level     0,  Iter    39:    Energy =   0.0328
Level     0,  Iter    40:    Energy =   0.0329
Level     0,  Iter    41:    Energy =   0.0330
Level     0,  Iter    42:    Energy =   0.0331
Level     0,  Iter    43:    Energy =   0.0333
Level     0,  Iter    44:    Energy =   0.0334
Level     0,  Iter    45:    Energy =   0.0336
Level     0,  Iter    46:    Energy =   0.0337
Level     0,  Iter    47:    Energy =   0.0339
Level     0,  Iter    48:    Energy =   0.0340
Level     0,  Iter    49:    Energy =   0.0341
Level     0,  Iter    50:    Energy =   0.0342
Level     0,  Iter    51:    Energy =   0.0343
Level     0,  Iter    52:    Energy =   0.0344
Level     0,  Iter    53:    Energy =   0.0344
Level     0,  Iter    54:    Energy =   0.0345
Level     0,  Iter    55:    Energy =   0.0345
Level     0,  Iter    56:    Energy =   0.0346
Level     0,  Iter    57:    Energy =   0.0346
Level     0,  Iter    58:    Energy =   0.0346
Level     0,  Iter    59:    Energy =   0.0347
END OF LEVEL     0    DetJac Range:   0.0632  to   2.3902 
  Avg. Gradient Time  : 0.0069s  32.76% 
  Avg. Gaussian Time  : 0.0102s  48.26% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0182
Level     1,  Iter     1:    Energy =   0.0194
Level     1,  Iter     2:    Energy =   0.0203
Level     1,  Iter     3:    Energy =   0.0211
Level     1,  Iter     4:    Energy =   0.0217
Level     1,  Iter     5:    Energy =   0.0222
Level     1,  Iter     6:    Energy =   0.0226
Level     1,  Iter     7:    Energy =   0.0229
Level     1,  Iter     8:    Energy =   0.0232
Level     1,  Iter     9:    Energy =   0.0234
Level     1,  Iter    10:    Energy =   0.0236
Level     1,  Iter    11:    Energy =   0.0238
Level     1,  Iter    12:    Energy =   0.0240
Level     1,  Iter    13:    Energy =   0.0242
Level     1,  Iter    14:    Energy =   0.0244
Level     1,  Iter    15:    Energy =   0.0246
Level     1,  Iter    16:    Energy =   0.0247
Level     1,  Iter    17:    Energy =   0.0249
Level     1,  Iter    18:    Energy =   0.0251
Level     1,  Iter    19:    Energy =   0.0252
Level     1,  Iter    20:    Energy =   0.0253
Level     1,  Iter    21:    Energy =   0.0255
Level     1,  Iter    22:    Energy =   0.0256
Level     1,  Iter    23:    Energy =   0.0257
Level     1,  Iter    24:    Energy =   0.0257
Level     1,  Iter    25:    Energy =   0.0258
Level     1,  Iter    26:    Energy =   0.0259
Level     1,  Iter    27:    Energy =   0.0260
Level     1,  Iter    28:    Energy =   0.0260
Level     1,  Iter    29:    Energy =   0.0261
Level     1,  Iter    30:    Energy =   0.0261
Level     1,  Iter    31:    Energy =   0.0262
Level     1,  Iter    32:    Energy =   0.0263
Level     1,  Iter    33:    Energy =   0.0263
Level     1,  Iter    34:    Energy =   0.0264
Level     1,  Iter    35:    Energy =   0.0264
Level     1,  Iter    36:    Energy =   0.0264
Level     1,  Iter    37:    Energy =   0.0265
Level     1,  Iter    38:    Energy =   0.0265
Level     1,  Iter    39:    Energy =   0.0266
Level     1,  Iter    40:    Energy =   0.0266
Level     1,  Iter    41:    Energy =   0.0267
Level     1,  Iter    42:    Energy =   0.0267
Level     1,  Iter    43:    Energy =   0.0267
Level     1,  Iter    44:    Energy =   0.0268
Level     1,  Iter    45:    Energy =   0.0268
Level     1,  Iter    46:    Energy =   0.0269
Level     1,  Iter    47:    Energy =   0.0269
Level     1,  Iter    48:    Energy =   0.0269
Level     1,  Iter    49:    Energy =   0.0270
Level     1,  Iter    50:    Energy =   0.0270
Level     1,  Iter    51:    Energy =   0.0270
Level     1,  Iter    52:    Energy =   0.0270
Level     1,  Iter    53:    Energy =   0.0270
Level     1,  Iter    54:    Energy =   0.0270
Level     1,  Iter    55:    Energy =   0.0270
Level     1,  Iter    56:    Energy =   0.0270
Level     1,  Iter    57:    Energy =   0.0270
Level     1,  Iter    58:    Energy =   0.0270
Level     1,  Iter    59:    Energy =   0.0269
END OF LEVEL     1    DetJac Range:   0.0334  to   2.3707 
  Avg. Gradient Time  : 0.0284s  33.23% 
  Avg. Gaussian Time  : 0.0452s  52.79% 
  Avg. Iteration Time : 0.0856s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0106
Level     2,  Iter     1:    Energy =   0.0110
Level     2,  Iter     2:    Energy =   0.0114
Level     2,  Iter     3:    Energy =   0.0117
Level     2,  Iter     4:    Energy =   0.0121
Level     2,  Iter     5:    Energy =   0.0124
Level     2,  Iter     6:    Energy =   0.0128
Level     2,  Iter     7:    Energy =   0.0131
Level     2,  Iter     8:    Energy =   0.0134
Level     2,  Iter     9:    Energy =   0.0137
Level     2,  Iter    10:    Energy =   0.0139
Level     2,  Iter    11:    Energy =   0.0141
Level     2,  Iter    12:    Energy =   0.0143
Level     2,  Iter    13:    Energy =   0.0145
Level     2,  Iter    14:    Energy =   0.0146
Level     2,  Iter    15:    Energy =   0.0148
Level     2,  Iter    16:    Energy =   0.0150
Level     2,  Iter    17:    Energy =   0.0152
Level     2,  Iter    18:    Energy =   0.0153
Level     2,  Iter    19:    Energy =   0.0155
END OF LEVEL     2    DetJac Range:   0.0191  to   2.4257 
  Avg. Gradient Time  : 0.1921s  32.15% 
  Avg. Gaussian Time  : 0.3245s  54.31% 
  Avg. Iteration Time : 0.5975s 

real	0m21.110s
user	0m36.904s
sys	0m2.272s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.264286 0.268571
+ echo 'CHUNK 0.264286 0.268571 1'
CHUNK 0.264286 0.268571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.264286 0.268571 1
====================================
         PROGRESS: 0.264286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.599
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 276.244   GNORM= 203.232
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -461.334      73.099       0.025
   2    4      -479.727      92.249       1.000
   3    5      -508.291      32.334       1.000
   4    7      -530.903      97.463       5.000
   5    8      -576.991     109.120       1.000
   6   10      -651.188      88.024       0.446
   7   11      -709.762      75.020       1.000
   8   12      -726.644      65.344       1.000
   9   13      -739.147      56.854       1.000
  10   14      -746.139      35.760       1.000
  11   16      -751.243      45.143       0.455
  12   17      -760.871      44.010       1.000
  13   19      -777.695      44.477       0.333
  14   20      -792.259      33.377       1.000
  15   21      -799.256      35.361       1.000
  16   22      -802.653      21.907       1.000
  17   23      -803.950      38.910       1.000
  18   24      -811.533      18.630       1.000
  19   26      -859.011      74.753       0.317
  20   28      -863.212      52.348       0.275
  21   29      -868.225      49.176       1.000
  22   30      -883.486      39.753       1.000
  23   33      -915.444      37.269       2.818
  24   34      -917.155      62.858       1.000
  25   35      -918.879      30.217       1.000
  26   37      -921.207      22.912       0.494
  27   38      -926.697      22.811       1.000
  28   40      -942.107      41.305       0.387
  29   41      -948.772      84.912       1.000
  30   42      -956.480      31.753       1.000
  31   43      -962.238      30.732       1.000
  32   45      -972.148      43.657       0.330
  33   46      -979.036      31.355       1.000
  34   47      -986.980      30.380       1.000
  35   48      -995.866      57.511       1.000
  36   49      -998.641      25.827       1.000
  37   50     -1001.442      25.026       1.000
  38   52     -1005.948      36.841       0.356
  39   53     -1009.122      29.208       1.000
  40   55     -1018.460      30.930       0.468
  41   56     -1022.119      72.546       1.000
  42   57     -1026.744      25.673       1.000
  43   58     -1028.715      25.094       1.000
  44   59     -1030.367      15.958       1.000
  45   60     -1032.461      22.439       1.000
  46   61     -1039.366      40.718       1.000
Final RAS Transform: 
0.977145 0.598879 0.159463 -17.3028 
-0.0975281 0.852458 0.207952 7.29681 
-0.188876 -0.142649 0.758348 -12.0178 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -702.863   GNORM= 52.258
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -740.624      82.187       0.019
   2    4      -761.770      89.221       0.146
   3    5      -773.354      29.802       1.000
   4    8      -774.960      20.012       0.668
   5    9      -775.544      12.221       1.000
   6   10      -776.395      15.536       1.000
   7   12      -777.856      29.317       0.441
   8   14      -790.470      41.392       5.000
   9   15      -798.863      38.069       1.000
  10   17      -802.940      15.284       0.482
  11   18      -804.940      17.259       1.000
  12   20      -806.854      11.016       0.478
  13   21      -807.538      21.109       1.000
  14   22      -809.873      16.423       1.000
  15   23      -810.509      86.125       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02041 0.618877 0.185506 -16.3502 
-0.0705903 0.883525 0.207494 5.53211 
-0.194737 -0.0999453 0.791112 -12.1201 
0 0 0 1 

Final RAS Transform: 
1.02041 0.618877 0.185506 -16.3502 
-0.0705903 0.883525 0.207494 5.53211 
-0.194737 -0.0999453 0.791112 -12.1201 
0 0 0 1 


real	0m5.158s
user	0m8.480s
sys	0m0.576s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.413131
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0228
Level     0,  Iter     1:    Energy =   0.0263
Level     0,  Iter     2:    Energy =   0.0296
Level     0,  Iter     3:    Energy =   0.0333
Level     0,  Iter     4:    Energy =   0.0361
Level     0,  Iter     5:    Energy =   0.0385
Level     0,  Iter     6:    Energy =   0.0402
Level     0,  Iter     7:    Energy =   0.0411
Level     0,  Iter     8:    Energy =   0.0422
Level     0,  Iter     9:    Energy =   0.0427
Level     0,  Iter    10:    Energy =   0.0433
Level     0,  Iter    11:    Energy =   0.0438
Level     0,  Iter    12:    Energy =   0.0445
Level     0,  Iter    13:    Energy =   0.0448
Level     0,  Iter    14:    Energy =   0.0453
Level     0,  Iter    15:    Energy =   0.0458
Level     0,  Iter    16:    Energy =   0.0462
Level     0,  Iter    17:    Energy =   0.0467
Level     0,  Iter    18:    Energy =   0.0472
Level     0,  Iter    19:    Energy =   0.0476
Level     0,  Iter    20:    Energy =   0.0478
Level     0,  Iter    21:    Energy =   0.0480
Level     0,  Iter    22:    Energy =   0.0481
Level     0,  Iter    23:    Energy =   0.0483
Level     0,  Iter    24:    Energy =   0.0485
Level     0,  Iter    25:    Energy =   0.0486
Level     0,  Iter    26:    Energy =   0.0488
Level     0,  Iter    27:    Energy =   0.0489
Level     0,  Iter    28:    Energy =   0.0490
Level     0,  Iter    29:    Energy =   0.0491
Level     0,  Iter    30:    Energy =   0.0492
Level     0,  Iter    31:    Energy =   0.0493
Level     0,  Iter    32:    Energy =   0.0493
Level     0,  Iter    33:    Energy =   0.0494
Level     0,  Iter    34:    Energy =   0.0495
Level     0,  Iter    35:    Energy =   0.0495
Level     0,  Iter    36:    Energy =   0.0496
Level     0,  Iter    37:    Energy =   0.0496
Level     0,  Iter    38:    Energy =   0.0497
Level     0,  Iter    39:    Energy =   0.0498
Level     0,  Iter    40:    Energy =   0.0498
Level     0,  Iter    41:    Energy =   0.0498
Level     0,  Iter    42:    Energy =   0.0498
Level     0,  Iter    43:    Energy =   0.0498
Level     0,  Iter    44:    Energy =   0.0499
Level     0,  Iter    45:    Energy =   0.0499
Level     0,  Iter    46:    Energy =   0.0499
Level     0,  Iter    47:    Energy =   0.0500
Level     0,  Iter    48:    Energy =   0.0500
Level     0,  Iter    49:    Energy =   0.0500
Level     0,  Iter    50:    Energy =   0.0500
Level     0,  Iter    51:    Energy =   0.0501
Level     0,  Iter    52:    Energy =   0.0501
Level     0,  Iter    53:    Energy =   0.0501
Level     0,  Iter    54:    Energy =   0.0501
Level     0,  Iter    55:    Energy =   0.0501
Level     0,  Iter    56:    Energy =   0.0502
Level     0,  Iter    57:    Energy =   0.0502
Level     0,  Iter    58:    Energy =   0.0502
Level     0,  Iter    59:    Energy =   0.0502
END OF LEVEL     0    DetJac Range:   0.0934  to   2.2529 
  Avg. Gradient Time  : 0.0070s  32.98% 
  Avg. Gaussian Time  : 0.0102s  48.35% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0330
Level     1,  Iter     1:    Energy =   0.0356
Level     1,  Iter     2:    Energy =   0.0377
Level     1,  Iter     3:    Energy =   0.0394
Level     1,  Iter     4:    Energy =   0.0409
Level     1,  Iter     5:    Energy =   0.0422
Level     1,  Iter     6:    Energy =   0.0432
Level     1,  Iter     7:    Energy =   0.0440
Level     1,  Iter     8:    Energy =   0.0448
Level     1,  Iter     9:    Energy =   0.0454
Level     1,  Iter    10:    Energy =   0.0460
Level     1,  Iter    11:    Energy =   0.0465
Level     1,  Iter    12:    Energy =   0.0469
Level     1,  Iter    13:    Energy =   0.0474
Level     1,  Iter    14:    Energy =   0.0478
Level     1,  Iter    15:    Energy =   0.0483
Level     1,  Iter    16:    Energy =   0.0487
Level     1,  Iter    17:    Energy =   0.0491
Level     1,  Iter    18:    Energy =   0.0494
Level     1,  Iter    19:    Energy =   0.0498
Level     1,  Iter    20:    Energy =   0.0502
Level     1,  Iter    21:    Energy =   0.0505
Level     1,  Iter    22:    Energy =   0.0507
Level     1,  Iter    23:    Energy =   0.0509
Level     1,  Iter    24:    Energy =   0.0510
Level     1,  Iter    25:    Energy =   0.0512
Level     1,  Iter    26:    Energy =   0.0513
Level     1,  Iter    27:    Energy =   0.0514
Level     1,  Iter    28:    Energy =   0.0514
Level     1,  Iter    29:    Energy =   0.0515
Level     1,  Iter    30:    Energy =   0.0515
Level     1,  Iter    31:    Energy =   0.0516
Level     1,  Iter    32:    Energy =   0.0516
Level     1,  Iter    33:    Energy =   0.0516
Level     1,  Iter    34:    Energy =   0.0516
Level     1,  Iter    35:    Energy =   0.0516
Level     1,  Iter    36:    Energy =   0.0516
Level     1,  Iter    37:    Energy =   0.0516
Level     1,  Iter    38:    Energy =   0.0515
Level     1,  Iter    39:    Energy =   0.0515
Level     1,  Iter    40:    Energy =   0.0514
Level     1,  Iter    41:    Energy =   0.0514
Level     1,  Iter    42:    Energy =   0.0514
Level     1,  Iter    43:    Energy =   0.0513
Level     1,  Iter    44:    Energy =   0.0513
Level     1,  Iter    45:    Energy =   0.0512
Level     1,  Iter    46:    Energy =   0.0512
Level     1,  Iter    47:    Energy =   0.0511
Level     1,  Iter    48:    Energy =   0.0511
Level     1,  Iter    49:    Energy =   0.0511
Level     1,  Iter    50:    Energy =   0.0511
Level     1,  Iter    51:    Energy =   0.0510
Level     1,  Iter    52:    Energy =   0.0510
Level     1,  Iter    53:    Energy =   0.0510
Level     1,  Iter    54:    Energy =   0.0510
Level     1,  Iter    55:    Energy =   0.0510
Level     1,  Iter    56:    Energy =   0.0509
Level     1,  Iter    57:    Energy =   0.0509
Level     1,  Iter    58:    Energy =   0.0509
Level     1,  Iter    59:    Energy =   0.0509
END OF LEVEL     1    DetJac Range:   0.0274  to   2.9985 
  Avg. Gradient Time  : 0.0287s  33.50% 
  Avg. Gaussian Time  : 0.0450s  52.47% 
  Avg. Iteration Time : 0.0858s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0206
Level     2,  Iter     1:    Energy =   0.0217
Level     2,  Iter     2:    Energy =   0.0226
Level     2,  Iter     3:    Energy =   0.0233
Level     2,  Iter     4:    Energy =   0.0238
Level     2,  Iter     5:    Energy =   0.0243
Level     2,  Iter     6:    Energy =   0.0249
Level     2,  Iter     7:    Energy =   0.0254
Level     2,  Iter     8:    Energy =   0.0260
Level     2,  Iter     9:    Energy =   0.0262
Level     2,  Iter    10:    Energy =   0.0263
Level     2,  Iter    11:    Energy =   0.0265
Level     2,  Iter    12:    Energy =   0.0267
Level     2,  Iter    13:    Energy =   0.0270
Level     2,  Iter    14:    Energy =   0.0275
Level     2,  Iter    15:    Energy =   0.0278
Level     2,  Iter    16:    Energy =   0.0282
Level     2,  Iter    17:    Energy =   0.0285
Level     2,  Iter    18:    Energy =   0.0288
Level     2,  Iter    19:    Energy =   0.0290
END OF LEVEL     2    DetJac Range:   0.0261  to   3.8769 
  Avg. Gradient Time  : 0.1917s  32.07% 
  Avg. Gaussian Time  : 0.3247s  54.33% 
  Avg. Iteration Time : 0.5976s 

real	0m21.246s
user	0m36.992s
sys	0m2.376s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.268571 0.272857
+ echo 'CHUNK 0.268571 0.272857 1'
CHUNK 0.268571 0.272857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.268571 0.272857 1
====================================
         PROGRESS: 0.268571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.686
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 253.46   GNORM= 231.648
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -225.824     221.561       0.022
   2    4      -618.081      84.604       1.000
   3    6      -784.331      59.353       0.306
   4   11      -801.693     206.829       0.394
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10701 -0.110687 0.128792 -3.6243 
-0.0791836 1.1147 -0.142939 4.22199 
0.0381502 -0.141551 1.05465 -3.75693 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -333.499   GNORM= 1195.59
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -333.621     637.947       0.001
   2    5      -333.692     880.824       0.141
   3    7      -334.189     197.955       0.011
   4    9      -334.453       9.506       0.531
   5   13      -335.610     226.133       0.005
   6   14      -336.130      30.266       1.000
   7   15      -336.438       9.007       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.114 -0.11719 0.134886 -4.35807 
-0.0778986 1.11346 -0.141776 4.07548 
0.0403654 -0.144019 1.057 -3.98611 
0 0 0 1 

Final RAS Transform: 
1.114 -0.11719 0.134886 -4.35807 
-0.0778986 1.11346 -0.141776 4.07548 
0.0403654 -0.144019 1.057 -3.98611 
0 0 0 1 


real	0m4.245s
user	0m6.832s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.501918
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0158
Level     0,  Iter     1:    Energy =   0.0180
Level     0,  Iter     2:    Energy =   0.0207
Level     0,  Iter     3:    Energy =   0.0236
Level     0,  Iter     4:    Energy =   0.0260
Level     0,  Iter     5:    Energy =   0.0284
Level     0,  Iter     6:    Energy =   0.0301
Level     0,  Iter     7:    Energy =   0.0315
Level     0,  Iter     8:    Energy =   0.0327
Level     0,  Iter     9:    Energy =   0.0337
Level     0,  Iter    10:    Energy =   0.0348
Level     0,  Iter    11:    Energy =   0.0358
Level     0,  Iter    12:    Energy =   0.0368
Level     0,  Iter    13:    Energy =   0.0376
Level     0,  Iter    14:    Energy =   0.0383
Level     0,  Iter    15:    Energy =   0.0390
Level     0,  Iter    16:    Energy =   0.0394
Level     0,  Iter    17:    Energy =   0.0397
Level     0,  Iter    18:    Energy =   0.0399
Level     0,  Iter    19:    Energy =   0.0401
Level     0,  Iter    20:    Energy =   0.0403
Level     0,  Iter    21:    Energy =   0.0404
Level     0,  Iter    22:    Energy =   0.0406
Level     0,  Iter    23:    Energy =   0.0407
Level     0,  Iter    24:    Energy =   0.0408
Level     0,  Iter    25:    Energy =   0.0408
Level     0,  Iter    26:    Energy =   0.0409
Level     0,  Iter    27:    Energy =   0.0410
Level     0,  Iter    28:    Energy =   0.0410
Level     0,  Iter    29:    Energy =   0.0411
Level     0,  Iter    30:    Energy =   0.0411
Level     0,  Iter    31:    Energy =   0.0412
Level     0,  Iter    32:    Energy =   0.0414
Level     0,  Iter    33:    Energy =   0.0415
Level     0,  Iter    34:    Energy =   0.0417
Level     0,  Iter    35:    Energy =   0.0418
Level     0,  Iter    36:    Energy =   0.0419
Level     0,  Iter    37:    Energy =   0.0421
Level     0,  Iter    38:    Energy =   0.0422
Level     0,  Iter    39:    Energy =   0.0423
Level     0,  Iter    40:    Energy =   0.0423
Level     0,  Iter    41:    Energy =   0.0424
Level     0,  Iter    42:    Energy =   0.0425
Level     0,  Iter    43:    Energy =   0.0426
Level     0,  Iter    44:    Energy =   0.0427
Level     0,  Iter    45:    Energy =   0.0427
Level     0,  Iter    46:    Energy =   0.0428
Level     0,  Iter    47:    Energy =   0.0429
Level     0,  Iter    48:    Energy =   0.0431
Level     0,  Iter    49:    Energy =   0.0432
Level     0,  Iter    50:    Energy =   0.0432
Level     0,  Iter    51:    Energy =   0.0433
Level     0,  Iter    52:    Energy =   0.0434
Level     0,  Iter    53:    Energy =   0.0435
Level     0,  Iter    54:    Energy =   0.0435
Level     0,  Iter    55:    Energy =   0.0436
Level     0,  Iter    56:    Energy =   0.0436
Level     0,  Iter    57:    Energy =   0.0437
Level     0,  Iter    58:    Energy =   0.0437
Level     0,  Iter    59:    Energy =   0.0438
END OF LEVEL     0    DetJac Range:   0.0759  to   4.3125 
  Avg. Gradient Time  : 0.0072s  33.10% 
  Avg. Gaussian Time  : 0.0104s  47.87% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0236
Level     1,  Iter     1:    Energy =   0.0250
Level     1,  Iter     2:    Energy =   0.0261
Level     1,  Iter     3:    Energy =   0.0273
Level     1,  Iter     4:    Energy =   0.0282
Level     1,  Iter     5:    Energy =   0.0288
Level     1,  Iter     6:    Energy =   0.0294
Level     1,  Iter     7:    Energy =   0.0299
Level     1,  Iter     8:    Energy =   0.0303
Level     1,  Iter     9:    Energy =   0.0307
Level     1,  Iter    10:    Energy =   0.0310
Level     1,  Iter    11:    Energy =   0.0313
Level     1,  Iter    12:    Energy =   0.0316
Level     1,  Iter    13:    Energy =   0.0319
Level     1,  Iter    14:    Energy =   0.0321
Level     1,  Iter    15:    Energy =   0.0323
Level     1,  Iter    16:    Energy =   0.0324
Level     1,  Iter    17:    Energy =   0.0326
Level     1,  Iter    18:    Energy =   0.0327
Level     1,  Iter    19:    Energy =   0.0329
Level     1,  Iter    20:    Energy =   0.0330
Level     1,  Iter    21:    Energy =   0.0331
Level     1,  Iter    22:    Energy =   0.0332
Level     1,  Iter    23:    Energy =   0.0333
Level     1,  Iter    24:    Energy =   0.0334
Level     1,  Iter    25:    Energy =   0.0335
Level     1,  Iter    26:    Energy =   0.0336
Level     1,  Iter    27:    Energy =   0.0337
Level     1,  Iter    28:    Energy =   0.0338
Level     1,  Iter    29:    Energy =   0.0339
Level     1,  Iter    30:    Energy =   0.0340
Level     1,  Iter    31:    Energy =   0.0340
Level     1,  Iter    32:    Energy =   0.0341
Level     1,  Iter    33:    Energy =   0.0341
Level     1,  Iter    34:    Energy =   0.0341
Level     1,  Iter    35:    Energy =   0.0342
Level     1,  Iter    36:    Energy =   0.0342
Level     1,  Iter    37:    Energy =   0.0342
Level     1,  Iter    38:    Energy =   0.0342
Level     1,  Iter    39:    Energy =   0.0342
Level     1,  Iter    40:    Energy =   0.0341
Level     1,  Iter    41:    Energy =   0.0341
Level     1,  Iter    42:    Energy =   0.0340
Level     1,  Iter    43:    Energy =   0.0339
Level     1,  Iter    44:    Energy =   0.0339
Level     1,  Iter    45:    Energy =   0.0339
Level     1,  Iter    46:    Energy =   0.0338
Level     1,  Iter    47:    Energy =   0.0338
Level     1,  Iter    48:    Energy =   0.0338
Level     1,  Iter    49:    Energy =   0.0337
Level     1,  Iter    50:    Energy =   0.0337
Level     1,  Iter    51:    Energy =   0.0337
Level     1,  Iter    52:    Energy =   0.0337
Level     1,  Iter    53:    Energy =   0.0337
Level     1,  Iter    54:    Energy =   0.0337
Level     1,  Iter    55:    Energy =   0.0337
Level     1,  Iter    56:    Energy =   0.0337
Level     1,  Iter    57:    Energy =   0.0337
Level     1,  Iter    58:    Energy =   0.0337
Level     1,  Iter    59:    Energy =   0.0337
END OF LEVEL     1    DetJac Range:   0.0549  to   6.5302 
  Avg. Gradient Time  : 0.0294s  33.62% 
  Avg. Gaussian Time  : 0.0459s  52.38% 
  Avg. Iteration Time : 0.0876s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0139
Level     2,  Iter     1:    Energy =   0.0143
Level     2,  Iter     2:    Energy =   0.0146
Level     2,  Iter     3:    Energy =   0.0150
Level     2,  Iter     4:    Energy =   0.0154
Level     2,  Iter     5:    Energy =   0.0158
Level     2,  Iter     6:    Energy =   0.0164
Level     2,  Iter     7:    Energy =   0.0169
Level     2,  Iter     8:    Energy =   0.0175
Level     2,  Iter     9:    Energy =   0.0179
Level     2,  Iter    10:    Energy =   0.0184
Level     2,  Iter    11:    Energy =   0.0187
Level     2,  Iter    12:    Energy =   0.0190
Level     2,  Iter    13:    Energy =   0.0193
Level     2,  Iter    14:    Energy =   0.0195
Level     2,  Iter    15:    Energy =   0.0197
Level     2,  Iter    16:    Energy =   0.0200
Level     2,  Iter    17:    Energy =   0.0202
Level     2,  Iter    18:    Energy =   0.0203
Level     2,  Iter    19:    Energy =   0.0205
END OF LEVEL     2    DetJac Range:   0.0227  to   6.0929 
  Avg. Gradient Time  : 0.1952s  32.24% 
  Avg. Gaussian Time  : 0.3293s  54.38% 
  Avg. Iteration Time : 0.6055s 

real	0m21.456s
user	0m37.260s
sys	0m2.564s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.272857 0.277143
+ echo 'CHUNK 0.272857 0.277143 1'
CHUNK 0.272857 0.277143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.272857 0.277143 1
====================================
         PROGRESS: 0.272857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 103.68   GNORM= 265.1
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -164.838     244.515       0.004
   2    3      -280.378      54.442       1.000
   3    5      -287.267      33.637       0.069
   4    7      -404.037      32.257       5.000
   5    9      -436.996      35.790       0.256
   6   10      -497.668      34.412       1.000
   7   11      -541.419      52.488       1.000
   8   12      -667.483      18.366       1.000
   9   15      -716.149      31.155       1.847
  10   18      -722.454      34.331       0.021
  11   25      -724.721      33.688       1.015
  12   27      -732.399      35.341       0.464
  13   29      -745.656      29.095       0.333
  14   32      -747.630     109.021       0.668
  15   36      -748.233      18.240       0.003
  16   42      -748.314     109.582       1.025
  17   45      -748.475       9.064       0.013
  18   49      -748.862     218.098       1.048
Final RAS Transform: 
0.910093 -0.452496 1.10325 -1.1457 
-0.205759 0.865467 0.0742262 3.84962 
-0.06619 -0.115532 0.991023 5.87426 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -328.288   GNORM= 508.494
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    9      -328.418      44.490       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.910092 -0.452497 1.10325 -1.14573 
-0.205759 0.865467 0.0742262 3.84963 
-0.0661898 -0.115532 0.991022 5.87425 
0 0 0 1 

Final RAS Transform: 
0.910092 -0.452497 1.10325 -1.14573 
-0.205759 0.865467 0.0742262 3.84963 
-0.0661898 -0.115532 0.991022 5.87425 
0 0 0 1 


real	0m4.249s
user	0m6.728s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.360473
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0179
Level     0,  Iter     1:    Energy =   0.0196
Level     0,  Iter     2:    Energy =   0.0210
Level     0,  Iter     3:    Energy =   0.0223
Level     0,  Iter     4:    Energy =   0.0233
Level     0,  Iter     5:    Energy =   0.0240
Level     0,  Iter     6:    Energy =   0.0245
Level     0,  Iter     7:    Energy =   0.0253
Level     0,  Iter     8:    Energy =   0.0261
Level     0,  Iter     9:    Energy =   0.0263
Level     0,  Iter    10:    Energy =   0.0265
Level     0,  Iter    11:    Energy =   0.0269
Level     0,  Iter    12:    Energy =   0.0270
Level     0,  Iter    13:    Energy =   0.0273
Level     0,  Iter    14:    Energy =   0.0274
Level     0,  Iter    15:    Energy =   0.0277
Level     0,  Iter    16:    Energy =   0.0278
Level     0,  Iter    17:    Energy =   0.0280
Level     0,  Iter    18:    Energy =   0.0281
Level     0,  Iter    19:    Energy =   0.0281
Level     0,  Iter    20:    Energy =   0.0282
Level     0,  Iter    21:    Energy =   0.0285
Level     0,  Iter    22:    Energy =   0.0285
Level     0,  Iter    23:    Energy =   0.0287
Level     0,  Iter    24:    Energy =   0.0287
Level     0,  Iter    25:    Energy =   0.0288
Level     0,  Iter    26:    Energy =   0.0288
Level     0,  Iter    27:    Energy =   0.0292
Level     0,  Iter    28:    Energy =   0.0292
Level     0,  Iter    29:    Energy =   0.0294
Level     0,  Iter    30:    Energy =   0.0295
Level     0,  Iter    31:    Energy =   0.0300
Level     0,  Iter    32:    Energy =   0.0301
Level     0,  Iter    33:    Energy =   0.0302
Level     0,  Iter    34:    Energy =   0.0302
Level     0,  Iter    35:    Energy =   0.0306
Level     0,  Iter    36:    Energy =   0.0306
Level     0,  Iter    37:    Energy =   0.0308
Level     0,  Iter    38:    Energy =   0.0308
Level     0,  Iter    39:    Energy =   0.0312
Level     0,  Iter    40:    Energy =   0.0311
Level     0,  Iter    41:    Energy =   0.0314
Level     0,  Iter    42:    Energy =   0.0313
Level     0,  Iter    43:    Energy =   0.0316
Level     0,  Iter    44:    Energy =   0.0315
Level     0,  Iter    45:    Energy =   0.0318
Level     0,  Iter    46:    Energy =   0.0316
Level     0,  Iter    47:    Energy =   0.0318
Level     0,  Iter    48:    Energy =   0.0317
Level     0,  Iter    49:    Energy =   0.0323
Level     0,  Iter    50:    Energy =   0.0320
Level     0,  Iter    51:    Energy =   0.0320
Level     0,  Iter    52:    Energy =   0.0319
Level     0,  Iter    53:    Energy =   0.0322
Level     0,  Iter    54:    Energy =   0.0320
Level     0,  Iter    55:    Energy =   0.0322
Level     0,  Iter    56:    Energy =   0.0320
Level     0,  Iter    57:    Energy =   0.0322
Level     0,  Iter    58:    Energy =   0.0321
Level     0,  Iter    59:    Energy =   0.0321
END OF LEVEL     0    DetJac Range:   0.1770  to   1.8000 
  Avg. Gradient Time  : 0.0071s  33.21% 
  Avg. Gaussian Time  : 0.0102s  47.71% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0150
Level     1,  Iter     1:    Energy =   0.0158
Level     1,  Iter     2:    Energy =   0.0164
Level     1,  Iter     3:    Energy =   0.0169
Level     1,  Iter     4:    Energy =   0.0173
Level     1,  Iter     5:    Energy =   0.0177
Level     1,  Iter     6:    Energy =   0.0180
Level     1,  Iter     7:    Energy =   0.0183
Level     1,  Iter     8:    Energy =   0.0186
Level     1,  Iter     9:    Energy =   0.0189
Level     1,  Iter    10:    Energy =   0.0192
Level     1,  Iter    11:    Energy =   0.0195
Level     1,  Iter    12:    Energy =   0.0197
Level     1,  Iter    13:    Energy =   0.0200
Level     1,  Iter    14:    Energy =   0.0201
Level     1,  Iter    15:    Energy =   0.0203
Level     1,  Iter    16:    Energy =   0.0205
Level     1,  Iter    17:    Energy =   0.0206
Level     1,  Iter    18:    Energy =   0.0207
Level     1,  Iter    19:    Energy =   0.0208
Level     1,  Iter    20:    Energy =   0.0209
Level     1,  Iter    21:    Energy =   0.0209
Level     1,  Iter    22:    Energy =   0.0210
Level     1,  Iter    23:    Energy =   0.0210
Level     1,  Iter    24:    Energy =   0.0211
Level     1,  Iter    25:    Energy =   0.0211
Level     1,  Iter    26:    Energy =   0.0212
Level     1,  Iter    27:    Energy =   0.0212
Level     1,  Iter    28:    Energy =   0.0212
Level     1,  Iter    29:    Energy =   0.0213
Level     1,  Iter    30:    Energy =   0.0213
Level     1,  Iter    31:    Energy =   0.0214
Level     1,  Iter    32:    Energy =   0.0214
Level     1,  Iter    33:    Energy =   0.0215
Level     1,  Iter    34:    Energy =   0.0215
Level     1,  Iter    35:    Energy =   0.0216
Level     1,  Iter    36:    Energy =   0.0217
Level     1,  Iter    37:    Energy =   0.0218
Level     1,  Iter    38:    Energy =   0.0219
Level     1,  Iter    39:    Energy =   0.0221
Level     1,  Iter    40:    Energy =   0.0222
Level     1,  Iter    41:    Energy =   0.0223
Level     1,  Iter    42:    Energy =   0.0223
Level     1,  Iter    43:    Energy =   0.0223
Level     1,  Iter    44:    Energy =   0.0224
Level     1,  Iter    45:    Energy =   0.0224
Level     1,  Iter    46:    Energy =   0.0223
Level     1,  Iter    47:    Energy =   0.0223
Level     1,  Iter    48:    Energy =   0.0223
Level     1,  Iter    49:    Energy =   0.0223
Level     1,  Iter    50:    Energy =   0.0223
Level     1,  Iter    51:    Energy =   0.0223
Level     1,  Iter    52:    Energy =   0.0224
Level     1,  Iter    53:    Energy =   0.0224
Level     1,  Iter    54:    Energy =   0.0224
Level     1,  Iter    55:    Energy =   0.0223
Level     1,  Iter    56:    Energy =   0.0224
Level     1,  Iter    57:    Energy =   0.0224
Level     1,  Iter    58:    Energy =   0.0224
Level     1,  Iter    59:    Energy =   0.0224
END OF LEVEL     1    DetJac Range:   0.0968  to   1.9601 
  Avg. Gradient Time  : 0.0297s  33.68% 
  Avg. Gaussian Time  : 0.0462s  52.36% 
  Avg. Iteration Time : 0.0882s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0084
Level     2,  Iter     1:    Energy =   0.0089
Level     2,  Iter     2:    Energy =   0.0093
Level     2,  Iter     3:    Energy =   0.0097
Level     2,  Iter     4:    Energy =   0.0100
Level     2,  Iter     5:    Energy =   0.0103
Level     2,  Iter     6:    Energy =   0.0105
Level     2,  Iter     7:    Energy =   0.0107
Level     2,  Iter     8:    Energy =   0.0109
Level     2,  Iter     9:    Energy =   0.0111
Level     2,  Iter    10:    Energy =   0.0113
Level     2,  Iter    11:    Energy =   0.0116
Level     2,  Iter    12:    Energy =   0.0119
Level     2,  Iter    13:    Energy =   0.0121
Level     2,  Iter    14:    Energy =   0.0122
Level     2,  Iter    15:    Energy =   0.0124
Level     2,  Iter    16:    Energy =   0.0126
Level     2,  Iter    17:    Energy =   0.0128
Level     2,  Iter    18:    Energy =   0.0130
Level     2,  Iter    19:    Energy =   0.0131
END OF LEVEL     2    DetJac Range:   0.0330  to   2.7676 
  Avg. Gradient Time  : 0.1930s  31.91% 
  Avg. Gaussian Time  : 0.3279s  54.23% 
  Avg. Iteration Time : 0.6047s 

real	0m21.393s
user	0m37.268s
sys	0m2.488s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.277143 0.281429
+ echo 'CHUNK 0.277143 0.281429 1'
CHUNK 0.277143 0.281429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.277143 0.281429 1
====================================
         PROGRESS: 0.277143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.687
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 111.283   GNORM= 222.449
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -73.589     181.992       0.004
   2    3      -517.401      97.964       1.000
   3    5      -619.549     148.966       0.215
   4    8      -620.293     141.377       0.000
   5    9      -647.955     116.657       1.000
   6   11      -739.182     113.473       0.470
   7   12      -771.180     102.522       1.000
   8   13      -791.379     108.123       1.000
   9   14      -804.082     101.840       1.000
  10   15      -823.688      35.604       1.000
  11   16      -835.037      52.704       1.000
  12   17      -837.251     172.997       1.000
  13   20      -851.908      88.798       0.708
  14   21      -868.724      40.790       1.000
  15   22      -868.955      43.255       1.000
  16   26      -870.826      26.891       0.893
  17   27      -872.954      33.867       1.000
  18   30      -874.800      35.536       0.094
  19   32      -876.071      30.961       0.279
  20   33      -878.002      61.303       1.000
  21   34      -880.423      43.416       1.000
  22   35      -883.124      58.387       1.000
  23   37      -883.499      99.887       0.535
  24   38      -884.760      56.366       1.000
  25   40      -898.231      36.046       5.000
  26   44      -928.497      74.815       0.290
  27   46      -936.913      61.906       0.173
  28   47      -938.801      78.815       1.000
  29   48      -945.269      75.368       1.000
Final RAS Transform: 
1.12805 0.0884756 0.345989 -1.62561 
-0.0774944 1.08631 -0.0070022 1.35496 
-0.0343523 -0.209691 0.86935 -5.35303 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -524.699   GNORM= 56.4727
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -524.778      28.286       0.000
   2   10      -524.935      16.364       0.988
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12799 0.0885402 0.345967 -1.61991 
-0.0775053 1.08631 -0.00697716 1.35365 
-0.0343603 -0.209673 0.869341 -5.35209 
0 0 0 1 

Final RAS Transform: 
1.12799 0.0885402 0.345967 -1.61991 
-0.0775053 1.08631 -0.00697716 1.35365 
-0.0343603 -0.209673 0.869341 -5.35209 
0 0 0 1 


real	0m4.353s
user	0m6.820s
sys	0m0.620s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.536674
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0199
Level     0,  Iter     1:    Energy =   0.0218
Level     0,  Iter     2:    Energy =   0.0238
Level     0,  Iter     3:    Energy =   0.0255
Level     0,  Iter     4:    Energy =   0.0272
Level     0,  Iter     5:    Energy =   0.0283
Level     0,  Iter     6:    Energy =   0.0292
Level     0,  Iter     7:    Energy =   0.0299
Level     0,  Iter     8:    Energy =   0.0307
Level     0,  Iter     9:    Energy =   0.0313
Level     0,  Iter    10:    Energy =   0.0318
Level     0,  Iter    11:    Energy =   0.0323
Level     0,  Iter    12:    Energy =   0.0326
Level     0,  Iter    13:    Energy =   0.0328
Level     0,  Iter    14:    Energy =   0.0331
Level     0,  Iter    15:    Energy =   0.0334
Level     0,  Iter    16:    Energy =   0.0337
Level     0,  Iter    17:    Energy =   0.0339
Level     0,  Iter    18:    Energy =   0.0340
Level     0,  Iter    19:    Energy =   0.0342
Level     0,  Iter    20:    Energy =   0.0343
Level     0,  Iter    21:    Energy =   0.0344
Level     0,  Iter    22:    Energy =   0.0346
Level     0,  Iter    23:    Energy =   0.0347
Level     0,  Iter    24:    Energy =   0.0348
Level     0,  Iter    25:    Energy =   0.0349
Level     0,  Iter    26:    Energy =   0.0350
Level     0,  Iter    27:    Energy =   0.0351
Level     0,  Iter    28:    Energy =   0.0352
Level     0,  Iter    29:    Energy =   0.0354
Level     0,  Iter    30:    Energy =   0.0355
Level     0,  Iter    31:    Energy =   0.0356
Level     0,  Iter    32:    Energy =   0.0357
Level     0,  Iter    33:    Energy =   0.0357
Level     0,  Iter    34:    Energy =   0.0358
Level     0,  Iter    35:    Energy =   0.0358
Level     0,  Iter    36:    Energy =   0.0358
Level     0,  Iter    37:    Energy =   0.0359
Level     0,  Iter    38:    Energy =   0.0359
Level     0,  Iter    39:    Energy =   0.0360
Level     0,  Iter    40:    Energy =   0.0360
Level     0,  Iter    41:    Energy =   0.0361
Level     0,  Iter    42:    Energy =   0.0361
Level     0,  Iter    43:    Energy =   0.0362
Level     0,  Iter    44:    Energy =   0.0363
Level     0,  Iter    45:    Energy =   0.0363
Level     0,  Iter    46:    Energy =   0.0364
Level     0,  Iter    47:    Energy =   0.0365
Level     0,  Iter    48:    Energy =   0.0366
Level     0,  Iter    49:    Energy =   0.0367
Level     0,  Iter    50:    Energy =   0.0368
Level     0,  Iter    51:    Energy =   0.0369
Level     0,  Iter    52:    Energy =   0.0369
Level     0,  Iter    53:    Energy =   0.0370
Level     0,  Iter    54:    Energy =   0.0370
Level     0,  Iter    55:    Energy =   0.0370
Level     0,  Iter    56:    Energy =   0.0370
Level     0,  Iter    57:    Energy =   0.0370
Level     0,  Iter    58:    Energy =   0.0370
Level     0,  Iter    59:    Energy =   0.0370
END OF LEVEL     0    DetJac Range:   0.0780  to   2.4639 
  Avg. Gradient Time  : 0.0071s  33.09% 
  Avg. Gaussian Time  : 0.0103s  47.95% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0217
Level     1,  Iter     1:    Energy =   0.0233
Level     1,  Iter     2:    Energy =   0.0243
Level     1,  Iter     3:    Energy =   0.0251
Level     1,  Iter     4:    Energy =   0.0258
Level     1,  Iter     5:    Energy =   0.0264
Level     1,  Iter     6:    Energy =   0.0270
Level     1,  Iter     7:    Energy =   0.0273
Level     1,  Iter     8:    Energy =   0.0277
Level     1,  Iter     9:    Energy =   0.0281
Level     1,  Iter    10:    Energy =   0.0284
Level     1,  Iter    11:    Energy =   0.0287
Level     1,  Iter    12:    Energy =   0.0290
Level     1,  Iter    13:    Energy =   0.0292
Level     1,  Iter    14:    Energy =   0.0294
Level     1,  Iter    15:    Energy =   0.0295
Level     1,  Iter    16:    Energy =   0.0296
Level     1,  Iter    17:    Energy =   0.0297
Level     1,  Iter    18:    Energy =   0.0298
Level     1,  Iter    19:    Energy =   0.0298
Level     1,  Iter    20:    Energy =   0.0299
Level     1,  Iter    21:    Energy =   0.0299
Level     1,  Iter    22:    Energy =   0.0300
Level     1,  Iter    23:    Energy =   0.0300
Level     1,  Iter    24:    Energy =   0.0301
Level     1,  Iter    25:    Energy =   0.0301
Level     1,  Iter    26:    Energy =   0.0301
Level     1,  Iter    27:    Energy =   0.0301
Level     1,  Iter    28:    Energy =   0.0301
Level     1,  Iter    29:    Energy =   0.0301
Level     1,  Iter    30:    Energy =   0.0301
Level     1,  Iter    31:    Energy =   0.0301
Level     1,  Iter    32:    Energy =   0.0301
Level     1,  Iter    33:    Energy =   0.0300
Level     1,  Iter    34:    Energy =   0.0300
Level     1,  Iter    35:    Energy =   0.0300
Level     1,  Iter    36:    Energy =   0.0300
Level     1,  Iter    37:    Energy =   0.0300
Level     1,  Iter    38:    Energy =   0.0299
Level     1,  Iter    39:    Energy =   0.0299
Level     1,  Iter    40:    Energy =   0.0299
Level     1,  Iter    41:    Energy =   0.0299
Level     1,  Iter    42:    Energy =   0.0299
Level     1,  Iter    43:    Energy =   0.0298
Level     1,  Iter    44:    Energy =   0.0298
Level     1,  Iter    45:    Energy =   0.0298
Level     1,  Iter    46:    Energy =   0.0298
Level     1,  Iter    47:    Energy =   0.0298
Level     1,  Iter    48:    Energy =   0.0298
Level     1,  Iter    49:    Energy =   0.0299
Level     1,  Iter    50:    Energy =   0.0299
Level     1,  Iter    51:    Energy =   0.0299
Level     1,  Iter    52:    Energy =   0.0299
Level     1,  Iter    53:    Energy =   0.0299
Level     1,  Iter    54:    Energy =   0.0299
Level     1,  Iter    55:    Energy =   0.0298
Level     1,  Iter    56:    Energy =   0.0298
Level     1,  Iter    57:    Energy =   0.0298
Level     1,  Iter    58:    Energy =   0.0298
Level     1,  Iter    59:    Energy =   0.0299
END OF LEVEL     1    DetJac Range:   0.0087  to   2.7612 
  Avg. Gradient Time  : 0.0302s  34.02% 
  Avg. Gaussian Time  : 0.0462s  52.10% 
  Avg. Iteration Time : 0.0887s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0120
Level     2,  Iter     1:    Energy =   0.0124
Level     2,  Iter     2:    Energy =   0.0130
Level     2,  Iter     3:    Energy =   0.0135
Level     2,  Iter     4:    Energy =   0.0140
Level     2,  Iter     5:    Energy =   0.0146
Level     2,  Iter     6:    Energy =   0.0150
Level     2,  Iter     7:    Energy =   0.0154
Level     2,  Iter     8:    Energy =   0.0158
Level     2,  Iter     9:    Energy =   0.0161
Level     2,  Iter    10:    Energy =   0.0165
Level     2,  Iter    11:    Energy =   0.0167
Level     2,  Iter    12:    Energy =   0.0169
Level     2,  Iter    13:    Energy =   0.0172
Level     2,  Iter    14:    Energy =   0.0174
Level     2,  Iter    15:    Energy =   0.0175
Level     2,  Iter    16:    Energy =   0.0176
Level     2,  Iter    17:    Energy =   0.0177
Level     2,  Iter    18:    Energy =   0.0178
Level     2,  Iter    19:    Energy =   0.0178
END OF LEVEL     2    DetJac Range:   0.0114  to   2.8613 
  Avg. Gradient Time  : 0.1932s  31.85% 
  Avg. Gaussian Time  : 0.3311s  54.59% 
  Avg. Iteration Time : 0.6064s 

real	0m21.593s
user	0m37.712s
sys	0m2.388s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.281429 0.285714
+ echo 'CHUNK 0.281429 0.285714 1'
CHUNK 0.281429 0.285714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.281429 0.285714 1
====================================
         PROGRESS: 0.281429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.49
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 151.568   GNORM= 267.336
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -89.938     196.873       0.004
   2    3      -288.053     144.041       1.000
   3    4      -731.734     123.545       1.000
   4    9      -742.587     132.846       0.029
   5   11      -787.686      58.621       0.441
   6   14      -788.752      30.601       0.068
   7   16      -794.885      37.431       5.000
   8   18      -830.744      30.361       5.000
   9   20      -835.009     109.564       0.163
  10   22      -924.155      89.691       5.000
  11   24      -924.546      65.135       0.056
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.08635 -0.0738428 0.269284 -1.85923 
-0.0816382 1.02463 -0.227144 4.39376 
0.0516406 -0.215278 0.841908 -7.00911 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -413.066   GNORM= 275.507
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -413.427      99.501       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.08633 -0.0738321 0.269264 -1.85758 
-0.0816394 1.02463 -0.227146 4.39392 
0.0516388 -0.215277 0.841907 -7.00897 
0 0 0 1 

Final RAS Transform: 
1.08633 -0.0738321 0.269264 -1.85758 
-0.0816394 1.02463 -0.227146 4.39392 
0.0516388 -0.215277 0.841907 -7.00897 
0 0 0 1 


real	0m3.791s
user	0m5.932s
sys	0m0.452s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.381119
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0187
Level     0,  Iter     1:    Energy =   0.0203
Level     0,  Iter     2:    Energy =   0.0215
Level     0,  Iter     3:    Energy =   0.0227
Level     0,  Iter     4:    Energy =   0.0237
Level     0,  Iter     5:    Energy =   0.0244
Level     0,  Iter     6:    Energy =   0.0249
Level     0,  Iter     7:    Energy =   0.0255
Level     0,  Iter     8:    Energy =   0.0259
Level     0,  Iter     9:    Energy =   0.0262
Level     0,  Iter    10:    Energy =   0.0264
Level     0,  Iter    11:    Energy =   0.0266
Level     0,  Iter    12:    Energy =   0.0267
Level     0,  Iter    13:    Energy =   0.0268
Level     0,  Iter    14:    Energy =   0.0270
Level     0,  Iter    15:    Energy =   0.0271
Level     0,  Iter    16:    Energy =   0.0273
Level     0,  Iter    17:    Energy =   0.0274
Level     0,  Iter    18:    Energy =   0.0275
Level     0,  Iter    19:    Energy =   0.0276
Level     0,  Iter    20:    Energy =   0.0277
Level     0,  Iter    21:    Energy =   0.0278
Level     0,  Iter    22:    Energy =   0.0280
Level     0,  Iter    23:    Energy =   0.0281
Level     0,  Iter    24:    Energy =   0.0283
Level     0,  Iter    25:    Energy =   0.0284
Level     0,  Iter    26:    Energy =   0.0285
Level     0,  Iter    27:    Energy =   0.0286
Level     0,  Iter    28:    Energy =   0.0287
Level     0,  Iter    29:    Energy =   0.0288
Level     0,  Iter    30:    Energy =   0.0289
Level     0,  Iter    31:    Energy =   0.0290
Level     0,  Iter    32:    Energy =   0.0291
Level     0,  Iter    33:    Energy =   0.0292
Level     0,  Iter    34:    Energy =   0.0293
Level     0,  Iter    35:    Energy =   0.0294
Level     0,  Iter    36:    Energy =   0.0294
Level     0,  Iter    37:    Energy =   0.0295
Level     0,  Iter    38:    Energy =   0.0296
Level     0,  Iter    39:    Energy =   0.0297
Level     0,  Iter    40:    Energy =   0.0298
Level     0,  Iter    41:    Energy =   0.0298
Level     0,  Iter    42:    Energy =   0.0299
Level     0,  Iter    43:    Energy =   0.0300
Level     0,  Iter    44:    Energy =   0.0300
Level     0,  Iter    45:    Energy =   0.0301
Level     0,  Iter    46:    Energy =   0.0301
Level     0,  Iter    47:    Energy =   0.0301
Level     0,  Iter    48:    Energy =   0.0302
Level     0,  Iter    49:    Energy =   0.0302
Level     0,  Iter    50:    Energy =   0.0302
Level     0,  Iter    51:    Energy =   0.0303
Level     0,  Iter    52:    Energy =   0.0303
Level     0,  Iter    53:    Energy =   0.0304
Level     0,  Iter    54:    Energy =   0.0304
Level     0,  Iter    55:    Energy =   0.0305
Level     0,  Iter    56:    Energy =   0.0306
Level     0,  Iter    57:    Energy =   0.0307
Level     0,  Iter    58:    Energy =   0.0307
Level     0,  Iter    59:    Energy =   0.0308
END OF LEVEL     0    DetJac Range:   0.0500  to   2.5628 
  Avg. Gradient Time  : 0.0073s  32.89% 
  Avg. Gaussian Time  : 0.0107s  48.21% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0169
Level     1,  Iter     1:    Energy =   0.0177
Level     1,  Iter     2:    Energy =   0.0185
Level     1,  Iter     3:    Energy =   0.0192
Level     1,  Iter     4:    Energy =   0.0197
Level     1,  Iter     5:    Energy =   0.0202
Level     1,  Iter     6:    Energy =   0.0206
Level     1,  Iter     7:    Energy =   0.0208
Level     1,  Iter     8:    Energy =   0.0211
Level     1,  Iter     9:    Energy =   0.0214
Level     1,  Iter    10:    Energy =   0.0216
Level     1,  Iter    11:    Energy =   0.0218
Level     1,  Iter    12:    Energy =   0.0220
Level     1,  Iter    13:    Energy =   0.0222
Level     1,  Iter    14:    Energy =   0.0224
Level     1,  Iter    15:    Energy =   0.0226
Level     1,  Iter    16:    Energy =   0.0228
Level     1,  Iter    17:    Energy =   0.0229
Level     1,  Iter    18:    Energy =   0.0231
Level     1,  Iter    19:    Energy =   0.0234
Level     1,  Iter    20:    Energy =   0.0236
Level     1,  Iter    21:    Energy =   0.0238
Level     1,  Iter    22:    Energy =   0.0239
Level     1,  Iter    23:    Energy =   0.0241
Level     1,  Iter    24:    Energy =   0.0242
Level     1,  Iter    25:    Energy =   0.0243
Level     1,  Iter    26:    Energy =   0.0244
Level     1,  Iter    27:    Energy =   0.0245
Level     1,  Iter    28:    Energy =   0.0246
Level     1,  Iter    29:    Energy =   0.0247
Level     1,  Iter    30:    Energy =   0.0248
Level     1,  Iter    31:    Energy =   0.0249
Level     1,  Iter    32:    Energy =   0.0250
Level     1,  Iter    33:    Energy =   0.0251
Level     1,  Iter    34:    Energy =   0.0251
Level     1,  Iter    35:    Energy =   0.0252
Level     1,  Iter    36:    Energy =   0.0253
Level     1,  Iter    37:    Energy =   0.0254
Level     1,  Iter    38:    Energy =   0.0255
Level     1,  Iter    39:    Energy =   0.0256
Level     1,  Iter    40:    Energy =   0.0257
Level     1,  Iter    41:    Energy =   0.0257
Level     1,  Iter    42:    Energy =   0.0258
Level     1,  Iter    43:    Energy =   0.0259
Level     1,  Iter    44:    Energy =   0.0259
Level     1,  Iter    45:    Energy =   0.0260
Level     1,  Iter    46:    Energy =   0.0261
Level     1,  Iter    47:    Energy =   0.0261
Level     1,  Iter    48:    Energy =   0.0262
Level     1,  Iter    49:    Energy =   0.0262
Level     1,  Iter    50:    Energy =   0.0262
Level     1,  Iter    51:    Energy =   0.0262
Level     1,  Iter    52:    Energy =   0.0262
Level     1,  Iter    53:    Energy =   0.0263
Level     1,  Iter    54:    Energy =   0.0263
Level     1,  Iter    55:    Energy =   0.0263
Level     1,  Iter    56:    Energy =   0.0264
Level     1,  Iter    57:    Energy =   0.0264
Level     1,  Iter    58:    Energy =   0.0264
Level     1,  Iter    59:    Energy =   0.0265
END OF LEVEL     1    DetJac Range:   0.0260  to   2.8864 
  Avg. Gradient Time  : 0.0296s  33.52% 
  Avg. Gaussian Time  : 0.0465s  52.69% 
  Avg. Iteration Time : 0.0882s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0103
Level     2,  Iter     1:    Energy =   0.0111
Level     2,  Iter     2:    Energy =   0.0118
Level     2,  Iter     3:    Energy =   0.0124
Level     2,  Iter     4:    Energy =   0.0130
Level     2,  Iter     5:    Energy =   0.0134
Level     2,  Iter     6:    Energy =   0.0138
Level     2,  Iter     7:    Energy =   0.0141
Level     2,  Iter     8:    Energy =   0.0143
Level     2,  Iter     9:    Energy =   0.0144
Level     2,  Iter    10:    Energy =   0.0145
Level     2,  Iter    11:    Energy =   0.0146
Level     2,  Iter    12:    Energy =   0.0147
Level     2,  Iter    13:    Energy =   0.0148
Level     2,  Iter    14:    Energy =   0.0149
Level     2,  Iter    15:    Energy =   0.0150
Level     2,  Iter    16:    Energy =   0.0151
Level     2,  Iter    17:    Energy =   0.0152
Level     2,  Iter    18:    Energy =   0.0152
Level     2,  Iter    19:    Energy =   0.0153
END OF LEVEL     2    DetJac Range:   0.0254  to   3.0127 
  Avg. Gradient Time  : 0.1966s  32.06% 
  Avg. Gaussian Time  : 0.3335s  54.37% 
  Avg. Iteration Time : 0.6134s 

real	0m21.760s
user	0m37.884s
sys	0m2.520s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.285714 0.29
+ echo 'CHUNK 0.285714 0.29 1'
CHUNK 0.285714 0.29 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.285714 0.29 1
====================================
         PROGRESS: 0.285714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.598
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 256.323   GNORM= 205.94
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -303.727      90.154       0.024
   2    5      -426.446      84.950       0.394
   3    7      -493.157      88.199       0.246
   4   14      -493.280      59.997       0.000
   5   20      -504.134      47.661       0.856
   6   22      -519.187      86.549       0.545
   7   24      -519.990      63.837       0.105
   8   26      -530.804      70.414       0.247
   9   28      -562.147      74.490       5.000
  10   31      -589.792      48.230       0.116
  11   34      -596.612      49.660       0.701
  12   37      -606.705     180.425       1.000
  13   47      -610.015      42.535       0.000
Final RAS Transform: 
1.1411 -0.0724367 0.198275 -3.70736 
-0.107084 1.11627 -0.204277 5.37188 
0.199441 -0.0814102 1.15715 -2.37084 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -265.711   GNORM= 334.804
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.1411 -0.0724367 0.198275 -3.70736 
-0.107084 1.11627 -0.204277 5.37188 
0.199441 -0.0814102 1.15715 -2.37084 
0 0 0 1 

Final RAS Transform: 
1.1411 -0.0724367 0.198275 -3.70736 
-0.107084 1.11627 -0.204277 5.37188 
0.199441 -0.0814102 1.15715 -2.37084 
0 0 0 1 


real	0m3.438s
user	0m5.352s
sys	0m0.376s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.389339
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0125
Level     0,  Iter     1:    Energy =   0.0145
Level     0,  Iter     2:    Energy =   0.0164
Level     0,  Iter     3:    Energy =   0.0180
Level     0,  Iter     4:    Energy =   0.0195
Level     0,  Iter     5:    Energy =   0.0207
Level     0,  Iter     6:    Energy =   0.0215
Level     0,  Iter     7:    Energy =   0.0221
Level     0,  Iter     8:    Energy =   0.0227
Level     0,  Iter     9:    Energy =   0.0233
Level     0,  Iter    10:    Energy =   0.0240
Level     0,  Iter    11:    Energy =   0.0244
Level     0,  Iter    12:    Energy =   0.0247
Level     0,  Iter    13:    Energy =   0.0251
Level     0,  Iter    14:    Energy =   0.0254
Level     0,  Iter    15:    Energy =   0.0256
Level     0,  Iter    16:    Energy =   0.0258
Level     0,  Iter    17:    Energy =   0.0260
Level     0,  Iter    18:    Energy =   0.0261
Level     0,  Iter    19:    Energy =   0.0262
Level     0,  Iter    20:    Energy =   0.0264
Level     0,  Iter    21:    Energy =   0.0265
Level     0,  Iter    22:    Energy =   0.0267
Level     0,  Iter    23:    Energy =   0.0268
Level     0,  Iter    24:    Energy =   0.0268
Level     0,  Iter    25:    Energy =   0.0269
Level     0,  Iter    26:    Energy =   0.0269
Level     0,  Iter    27:    Energy =   0.0270
Level     0,  Iter    28:    Energy =   0.0271
Level     0,  Iter    29:    Energy =   0.0272
Level     0,  Iter    30:    Energy =   0.0273
Level     0,  Iter    31:    Energy =   0.0274
Level     0,  Iter    32:    Energy =   0.0275
Level     0,  Iter    33:    Energy =   0.0276
Level     0,  Iter    34:    Energy =   0.0276
Level     0,  Iter    35:    Energy =   0.0278
Level     0,  Iter    36:    Energy =   0.0279
Level     0,  Iter    37:    Energy =   0.0281
Level     0,  Iter    38:    Energy =   0.0282
Level     0,  Iter    39:    Energy =   0.0283
Level     0,  Iter    40:    Energy =   0.0286
Level     0,  Iter    41:    Energy =   0.0288
Level     0,  Iter    42:    Energy =   0.0289
Level     0,  Iter    43:    Energy =   0.0290
Level     0,  Iter    44:    Energy =   0.0292
Level     0,  Iter    45:    Energy =   0.0294
Level     0,  Iter    46:    Energy =   0.0297
Level     0,  Iter    47:    Energy =   0.0299
Level     0,  Iter    48:    Energy =   0.0301
Level     0,  Iter    49:    Energy =   0.0302
Level     0,  Iter    50:    Energy =   0.0304
Level     0,  Iter    51:    Energy =   0.0306
Level     0,  Iter    52:    Energy =   0.0308
Level     0,  Iter    53:    Energy =   0.0310
Level     0,  Iter    54:    Energy =   0.0311
Level     0,  Iter    55:    Energy =   0.0312
Level     0,  Iter    56:    Energy =   0.0312
Level     0,  Iter    57:    Energy =   0.0312
Level     0,  Iter    58:    Energy =   0.0313
Level     0,  Iter    59:    Energy =   0.0314
END OF LEVEL     0    DetJac Range:   0.0384  to   2.0342 
  Avg. Gradient Time  : 0.0068s  32.69% 
  Avg. Gaussian Time  : 0.0101s  48.37% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0145
Level     1,  Iter     1:    Energy =   0.0151
Level     1,  Iter     2:    Energy =   0.0155
Level     1,  Iter     3:    Energy =   0.0159
Level     1,  Iter     4:    Energy =   0.0162
Level     1,  Iter     5:    Energy =   0.0164
Level     1,  Iter     6:    Energy =   0.0166
Level     1,  Iter     7:    Energy =   0.0168
Level     1,  Iter     8:    Energy =   0.0169
Level     1,  Iter     9:    Energy =   0.0171
Level     1,  Iter    10:    Energy =   0.0172
Level     1,  Iter    11:    Energy =   0.0174
Level     1,  Iter    12:    Energy =   0.0175
Level     1,  Iter    13:    Energy =   0.0176
Level     1,  Iter    14:    Energy =   0.0178
Level     1,  Iter    15:    Energy =   0.0179
Level     1,  Iter    16:    Energy =   0.0180
Level     1,  Iter    17:    Energy =   0.0181
Level     1,  Iter    18:    Energy =   0.0183
Level     1,  Iter    19:    Energy =   0.0184
Level     1,  Iter    20:    Energy =   0.0186
Level     1,  Iter    21:    Energy =   0.0187
Level     1,  Iter    22:    Energy =   0.0188
Level     1,  Iter    23:    Energy =   0.0190
Level     1,  Iter    24:    Energy =   0.0191
Level     1,  Iter    25:    Energy =   0.0192
Level     1,  Iter    26:    Energy =   0.0194
Level     1,  Iter    27:    Energy =   0.0195
Level     1,  Iter    28:    Energy =   0.0197
Level     1,  Iter    29:    Energy =   0.0198
Level     1,  Iter    30:    Energy =   0.0200
Level     1,  Iter    31:    Energy =   0.0201
Level     1,  Iter    32:    Energy =   0.0203
Level     1,  Iter    33:    Energy =   0.0205
Level     1,  Iter    34:    Energy =   0.0206
Level     1,  Iter    35:    Energy =   0.0207
Level     1,  Iter    36:    Energy =   0.0208
Level     1,  Iter    37:    Energy =   0.0209
Level     1,  Iter    38:    Energy =   0.0211
Level     1,  Iter    39:    Energy =   0.0212
Level     1,  Iter    40:    Energy =   0.0213
Level     1,  Iter    41:    Energy =   0.0215
Level     1,  Iter    42:    Energy =   0.0216
Level     1,  Iter    43:    Energy =   0.0218
Level     1,  Iter    44:    Energy =   0.0219
Level     1,  Iter    45:    Energy =   0.0219
Level     1,  Iter    46:    Energy =   0.0220
Level     1,  Iter    47:    Energy =   0.0221
Level     1,  Iter    48:    Energy =   0.0221
Level     1,  Iter    49:    Energy =   0.0223
Level     1,  Iter    50:    Energy =   0.0223
Level     1,  Iter    51:    Energy =   0.0224
Level     1,  Iter    52:    Energy =   0.0225
Level     1,  Iter    53:    Energy =   0.0226
Level     1,  Iter    54:    Energy =   0.0227
Level     1,  Iter    55:    Energy =   0.0228
Level     1,  Iter    56:    Energy =   0.0228
Level     1,  Iter    57:    Energy =   0.0229
Level     1,  Iter    58:    Energy =   0.0230
Level     1,  Iter    59:    Energy =   0.0231
END OF LEVEL     1    DetJac Range:   0.0438  to   2.8112 
  Avg. Gradient Time  : 0.0275s  33.36% 
  Avg. Gaussian Time  : 0.0433s  52.62% 
  Avg. Iteration Time : 0.0823s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0091
Level     2,  Iter     1:    Energy =   0.0096
Level     2,  Iter     2:    Energy =   0.0100
Level     2,  Iter     3:    Energy =   0.0103
Level     2,  Iter     4:    Energy =   0.0106
Level     2,  Iter     5:    Energy =   0.0108
Level     2,  Iter     6:    Energy =   0.0110
Level     2,  Iter     7:    Energy =   0.0112
Level     2,  Iter     8:    Energy =   0.0114
Level     2,  Iter     9:    Energy =   0.0116
Level     2,  Iter    10:    Energy =   0.0118
Level     2,  Iter    11:    Energy =   0.0119
Level     2,  Iter    12:    Energy =   0.0121
Level     2,  Iter    13:    Energy =   0.0122
Level     2,  Iter    14:    Energy =   0.0122
Level     2,  Iter    15:    Energy =   0.0121
Level     2,  Iter    16:    Energy =   0.0122
Level     2,  Iter    17:    Energy =   0.0124
Level     2,  Iter    18:    Energy =   0.0124
Level     2,  Iter    19:    Energy =   0.0125
END OF LEVEL     2    DetJac Range:   0.0250  to   3.1612 
  Avg. Gradient Time  : 0.1805s  31.89% 
  Avg. Gaussian Time  : 0.3074s  54.29% 
  Avg. Iteration Time : 0.5662s 

real	0m20.197s
user	0m35.104s
sys	0m2.300s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.29 0.294286
+ echo 'CHUNK 0.29 0.294286 1'
CHUNK 0.29 0.294286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.29 0.294286 1
====================================
         PROGRESS: 0.29               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 153.245   GNORM= 183.52
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -297.412      83.856       0.027
   2    5      -417.090      99.504       0.493
   3    8      -465.961      78.400       0.108
   4   13      -589.565      55.866       0.285
   5   15      -592.671      50.892       0.087
   6   20      -595.885      86.649       0.126
   7   21      -624.348      64.785       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13224 -0.0722905 0.195152 -3.41181 
-0.11214 1.04732 -0.10097 4.34552 
0.0998845 -0.212676 0.9965 -6.23771 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -289.69   GNORM= 97.7178
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -294.054     244.662       0.001
   2    4      -297.473      53.338       1.000
   3    5      -315.924      74.659       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12978 -0.0701855 0.192176 -3.06676 
-0.111704 1.04643 -0.100003 4.30812 
0.10158 -0.213665 0.999144 -6.48802 
0 0 0 1 

Final RAS Transform: 
1.12978 -0.0701855 0.192176 -3.06676 
-0.111704 1.04643 -0.100003 4.30812 
0.10158 -0.213665 0.999144 -6.48802 
0 0 0 1 


real	0m3.466s
user	0m5.476s
sys	0m0.360s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.411299
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0140
Level     0,  Iter     1:    Energy =   0.0160
Level     0,  Iter     2:    Energy =   0.0178
Level     0,  Iter     3:    Energy =   0.0192
Level     0,  Iter     4:    Energy =   0.0206
Level     0,  Iter     5:    Energy =   0.0218
Level     0,  Iter     6:    Energy =   0.0227
Level     0,  Iter     7:    Energy =   0.0235
Level     0,  Iter     8:    Energy =   0.0244
Level     0,  Iter     9:    Energy =   0.0251
Level     0,  Iter    10:    Energy =   0.0254
Level     0,  Iter    11:    Energy =   0.0255
Level     0,  Iter    12:    Energy =   0.0257
Level     0,  Iter    13:    Energy =   0.0258
Level     0,  Iter    14:    Energy =   0.0259
Level     0,  Iter    15:    Energy =   0.0259
Level     0,  Iter    16:    Energy =   0.0259
Level     0,  Iter    17:    Energy =   0.0260
Level     0,  Iter    18:    Energy =   0.0260
Level     0,  Iter    19:    Energy =   0.0260
Level     0,  Iter    20:    Energy =   0.0261
Level     0,  Iter    21:    Energy =   0.0262
Level     0,  Iter    22:    Energy =   0.0263
Level     0,  Iter    23:    Energy =   0.0265
Level     0,  Iter    24:    Energy =   0.0266
Level     0,  Iter    25:    Energy =   0.0269
Level     0,  Iter    26:    Energy =   0.0271
Level     0,  Iter    27:    Energy =   0.0272
Level     0,  Iter    28:    Energy =   0.0274
Level     0,  Iter    29:    Energy =   0.0275
Level     0,  Iter    30:    Energy =   0.0277
Level     0,  Iter    31:    Energy =   0.0278
Level     0,  Iter    32:    Energy =   0.0280
Level     0,  Iter    33:    Energy =   0.0282
Level     0,  Iter    34:    Energy =   0.0284
Level     0,  Iter    35:    Energy =   0.0286
Level     0,  Iter    36:    Energy =   0.0288
Level     0,  Iter    37:    Energy =   0.0290
Level     0,  Iter    38:    Energy =   0.0291
Level     0,  Iter    39:    Energy =   0.0293
Level     0,  Iter    40:    Energy =   0.0294
Level     0,  Iter    41:    Energy =   0.0295
Level     0,  Iter    42:    Energy =   0.0296
Level     0,  Iter    43:    Energy =   0.0297
Level     0,  Iter    44:    Energy =   0.0298
Level     0,  Iter    45:    Energy =   0.0298
Level     0,  Iter    46:    Energy =   0.0299
Level     0,  Iter    47:    Energy =   0.0299
Level     0,  Iter    48:    Energy =   0.0300
Level     0,  Iter    49:    Energy =   0.0301
Level     0,  Iter    50:    Energy =   0.0301
Level     0,  Iter    51:    Energy =   0.0302
Level     0,  Iter    52:    Energy =   0.0303
Level     0,  Iter    53:    Energy =   0.0304
Level     0,  Iter    54:    Energy =   0.0305
Level     0,  Iter    55:    Energy =   0.0306
Level     0,  Iter    56:    Energy =   0.0307
Level     0,  Iter    57:    Energy =   0.0308
Level     0,  Iter    58:    Energy =   0.0309
Level     0,  Iter    59:    Energy =   0.0310
END OF LEVEL     0    DetJac Range:   0.0596  to   1.9396 
  Avg. Gradient Time  : 0.0067s  32.73% 
  Avg. Gaussian Time  : 0.0100s  48.57% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0172
Level     1,  Iter     1:    Energy =   0.0185
Level     1,  Iter     2:    Energy =   0.0196
Level     1,  Iter     3:    Energy =   0.0205
Level     1,  Iter     4:    Energy =   0.0212
Level     1,  Iter     5:    Energy =   0.0219
Level     1,  Iter     6:    Energy =   0.0226
Level     1,  Iter     7:    Energy =   0.0232
Level     1,  Iter     8:    Energy =   0.0236
Level     1,  Iter     9:    Energy =   0.0241
Level     1,  Iter    10:    Energy =   0.0244
Level     1,  Iter    11:    Energy =   0.0247
Level     1,  Iter    12:    Energy =   0.0250
Level     1,  Iter    13:    Energy =   0.0252
Level     1,  Iter    14:    Energy =   0.0254
Level     1,  Iter    15:    Energy =   0.0255
Level     1,  Iter    16:    Energy =   0.0256
Level     1,  Iter    17:    Energy =   0.0258
Level     1,  Iter    18:    Energy =   0.0259
Level     1,  Iter    19:    Energy =   0.0260
Level     1,  Iter    20:    Energy =   0.0260
Level     1,  Iter    21:    Energy =   0.0261
Level     1,  Iter    22:    Energy =   0.0262
Level     1,  Iter    23:    Energy =   0.0262
Level     1,  Iter    24:    Energy =   0.0263
Level     1,  Iter    25:    Energy =   0.0263
Level     1,  Iter    26:    Energy =   0.0263
Level     1,  Iter    27:    Energy =   0.0264
Level     1,  Iter    28:    Energy =   0.0264
Level     1,  Iter    29:    Energy =   0.0264
Level     1,  Iter    30:    Energy =   0.0263
Level     1,  Iter    31:    Energy =   0.0263
Level     1,  Iter    32:    Energy =   0.0263
Level     1,  Iter    33:    Energy =   0.0263
Level     1,  Iter    34:    Energy =   0.0263
Level     1,  Iter    35:    Energy =   0.0262
Level     1,  Iter    36:    Energy =   0.0262
Level     1,  Iter    37:    Energy =   0.0262
Level     1,  Iter    38:    Energy =   0.0262
Level     1,  Iter    39:    Energy =   0.0262
Level     1,  Iter    40:    Energy =   0.0262
Level     1,  Iter    41:    Energy =   0.0262
Level     1,  Iter    42:    Energy =   0.0262
Level     1,  Iter    43:    Energy =   0.0262
Level     1,  Iter    44:    Energy =   0.0262
Level     1,  Iter    45:    Energy =   0.0261
Level     1,  Iter    46:    Energy =   0.0261
Level     1,  Iter    47:    Energy =   0.0261
Level     1,  Iter    48:    Energy =   0.0261
Level     1,  Iter    49:    Energy =   0.0261
Level     1,  Iter    50:    Energy =   0.0260
Level     1,  Iter    51:    Energy =   0.0260
Level     1,  Iter    52:    Energy =   0.0260
Level     1,  Iter    53:    Energy =   0.0260
Level     1,  Iter    54:    Energy =   0.0260
Level     1,  Iter    55:    Energy =   0.0260
Level     1,  Iter    56:    Energy =   0.0260
Level     1,  Iter    57:    Energy =   0.0260
Level     1,  Iter    58:    Energy =   0.0259
Level     1,  Iter    59:    Energy =   0.0259
END OF LEVEL     1    DetJac Range:   0.0441  to   2.5815 
  Avg. Gradient Time  : 0.0275s  33.31% 
  Avg. Gaussian Time  : 0.0436s  52.75% 
  Avg. Iteration Time : 0.0826s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0115
Level     2,  Iter     1:    Energy =   0.0120
Level     2,  Iter     2:    Energy =   0.0125
Level     2,  Iter     3:    Energy =   0.0129
Level     2,  Iter     4:    Energy =   0.0133
Level     2,  Iter     5:    Energy =   0.0136
Level     2,  Iter     6:    Energy =   0.0138
Level     2,  Iter     7:    Energy =   0.0141
Level     2,  Iter     8:    Energy =   0.0143
Level     2,  Iter     9:    Energy =   0.0145
Level     2,  Iter    10:    Energy =   0.0147
Level     2,  Iter    11:    Energy =   0.0148
Level     2,  Iter    12:    Energy =   0.0150
Level     2,  Iter    13:    Energy =   0.0151
Level     2,  Iter    14:    Energy =   0.0152
Level     2,  Iter    15:    Energy =   0.0154
Level     2,  Iter    16:    Energy =   0.0155
Level     2,  Iter    17:    Energy =   0.0156
Level     2,  Iter    18:    Energy =   0.0157
Level     2,  Iter    19:    Energy =   0.0157
END OF LEVEL     2    DetJac Range:   0.0237  to   2.7954 
  Avg. Gradient Time  : 0.1755s  31.32% 
  Avg. Gaussian Time  : 0.3073s  54.85% 
  Avg. Iteration Time : 0.5602s 

real	0m20.061s
user	0m34.876s
sys	0m2.280s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.294286 0.298571
+ echo 'CHUNK 0.294286 0.298571 1'
CHUNK 0.294286 0.298571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.294286 0.298571 1
====================================
         PROGRESS: 0.294286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.652
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 277.437   GNORM= 231.136
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -442.177     132.265       0.022
   2    5      -639.755     100.600       0.447
   3    7      -683.571      77.091       0.159
   4    8      -694.760      54.960       1.000
   5    9      -700.553      52.380       1.000
   6   10      -707.959      39.117       1.000
   7   11      -721.928      48.315       1.000
   8   12      -747.452      53.493       1.000
   9   13      -759.081     122.651       1.000
  10   14      -788.891      77.142       1.000
  11   16      -831.928      57.484       0.499
  12   18      -853.646      78.951       0.511
  13   20      -854.883      74.943       0.016
  14   21      -861.353      18.926       1.000
  15   22      -863.214      10.773       1.000
  16   23      -863.629      17.886       1.000
  17   24      -864.349      26.879       1.000
  18   25      -865.014      17.288       1.000
  19   26      -866.431      18.666       1.000
  20   27      -872.591      31.084       1.000
  21   29      -872.999      50.759       0.286
  22   30      -879.996      38.404       1.000
  23   32      -884.963      23.157       0.186
  24   34      -886.198      64.291       0.285
  25   38      -889.446      71.659       1.411
  26   39      -895.171      77.369       1.000
  27   41      -896.961      40.025       0.130
  28   43      -897.256      24.028       0.260
  29   44      -897.496     104.483       1.000
  30   45      -906.067      40.607       1.000
Final RAS Transform: 
0.985196 -0.0958175 0.392221 -1.28544 
-0.0191645 0.98261 0.0409328 5.40151 
-0.137904 -0.335939 0.817292 -7.12889 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -468.452   GNORM= 39.0235
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -471.373      36.947       0.002
   2    6      -471.949      14.828       0.120
   3   16      -472.553      63.388       2.407
   4   18      -473.143      18.338       0.095
   5   20      -473.519      29.382       0.104
   6   21      -473.627      17.058       1.000
   7   23      -474.344      18.064       5.000
   8   26      -476.724     151.265      21.000
   9   28      -477.022      71.228       5.000
  10   29      -479.893      57.916       1.000
  11   31      -480.642     142.297       0.009
  12   33      -483.107      43.016       0.393
  13   34      -486.315      41.744       1.000
  14   36      -488.102      86.217       0.333
  15   37      -488.675      46.628       1.000
  16   38      -500.730      71.077       1.000
  17   43      -501.601      49.360       0.013
  18   45      -502.241      31.694       0.203
  19   53      -505.685      68.844       1.000
  20   61      -508.799      43.864       0.291
Final RAS Transform: 
1.02088 -0.0489461 0.370991 -2.10581 
-0.0260863 0.910613 0.0460526 5.89601 
-0.161472 -0.371913 0.760951 -8.14677 
0 0 0 1 

Final RAS Transform: 
1.02088 -0.0489461 0.370991 -2.10581 
-0.0260863 0.910613 0.0460526 5.89601 
-0.161472 -0.371913 0.760951 -8.14677 
0 0 0 1 


real	0m5.901s
user	0m10.000s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.442791
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0193
Level     0,  Iter     1:    Energy =   0.0212
Level     0,  Iter     2:    Energy =   0.0229
Level     0,  Iter     3:    Energy =   0.0243
Level     0,  Iter     4:    Energy =   0.0256
Level     0,  Iter     5:    Energy =   0.0265
Level     0,  Iter     6:    Energy =   0.0273
Level     0,  Iter     7:    Energy =   0.0280
Level     0,  Iter     8:    Energy =   0.0287
Level     0,  Iter     9:    Energy =   0.0291
Level     0,  Iter    10:    Energy =   0.0294
Level     0,  Iter    11:    Energy =   0.0297
Level     0,  Iter    12:    Energy =   0.0300
Level     0,  Iter    13:    Energy =   0.0304
Level     0,  Iter    14:    Energy =   0.0307
Level     0,  Iter    15:    Energy =   0.0309
Level     0,  Iter    16:    Energy =   0.0311
Level     0,  Iter    17:    Energy =   0.0311
Level     0,  Iter    18:    Energy =   0.0312
Level     0,  Iter    19:    Energy =   0.0312
Level     0,  Iter    20:    Energy =   0.0312
Level     0,  Iter    21:    Energy =   0.0313
Level     0,  Iter    22:    Energy =   0.0313
Level     0,  Iter    23:    Energy =   0.0313
Level     0,  Iter    24:    Energy =   0.0314
Level     0,  Iter    25:    Energy =   0.0314
Level     0,  Iter    26:    Energy =   0.0314
Level     0,  Iter    27:    Energy =   0.0315
Level     0,  Iter    28:    Energy =   0.0316
Level     0,  Iter    29:    Energy =   0.0316
Level     0,  Iter    30:    Energy =   0.0317
Level     0,  Iter    31:    Energy =   0.0318
Level     0,  Iter    32:    Energy =   0.0319
Level     0,  Iter    33:    Energy =   0.0320
Level     0,  Iter    34:    Energy =   0.0320
Level     0,  Iter    35:    Energy =   0.0321
Level     0,  Iter    36:    Energy =   0.0322
Level     0,  Iter    37:    Energy =   0.0323
Level     0,  Iter    38:    Energy =   0.0324
Level     0,  Iter    39:    Energy =   0.0325
Level     0,  Iter    40:    Energy =   0.0326
Level     0,  Iter    41:    Energy =   0.0326
Level     0,  Iter    42:    Energy =   0.0327
Level     0,  Iter    43:    Energy =   0.0328
Level     0,  Iter    44:    Energy =   0.0328
Level     0,  Iter    45:    Energy =   0.0329
Level     0,  Iter    46:    Energy =   0.0329
Level     0,  Iter    47:    Energy =   0.0330
Level     0,  Iter    48:    Energy =   0.0330
Level     0,  Iter    49:    Energy =   0.0331
Level     0,  Iter    50:    Energy =   0.0332
Level     0,  Iter    51:    Energy =   0.0332
Level     0,  Iter    52:    Energy =   0.0332
Level     0,  Iter    53:    Energy =   0.0333
Level     0,  Iter    54:    Energy =   0.0333
Level     0,  Iter    55:    Energy =   0.0334
Level     0,  Iter    56:    Energy =   0.0334
Level     0,  Iter    57:    Energy =   0.0334
Level     0,  Iter    58:    Energy =   0.0335
Level     0,  Iter    59:    Energy =   0.0335
END OF LEVEL     0    DetJac Range:   0.0732  to   2.6181 
  Avg. Gradient Time  : 0.0067s  32.55% 
  Avg. Gaussian Time  : 0.0099s  48.49% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0221
Level     1,  Iter     1:    Energy =   0.0231
Level     1,  Iter     2:    Energy =   0.0238
Level     1,  Iter     3:    Energy =   0.0245
Level     1,  Iter     4:    Energy =   0.0251
Level     1,  Iter     5:    Energy =   0.0255
Level     1,  Iter     6:    Energy =   0.0259
Level     1,  Iter     7:    Energy =   0.0264
Level     1,  Iter     8:    Energy =   0.0268
Level     1,  Iter     9:    Energy =   0.0271
Level     1,  Iter    10:    Energy =   0.0274
Level     1,  Iter    11:    Energy =   0.0276
Level     1,  Iter    12:    Energy =   0.0279
Level     1,  Iter    13:    Energy =   0.0281
Level     1,  Iter    14:    Energy =   0.0283
Level     1,  Iter    15:    Energy =   0.0285
Level     1,  Iter    16:    Energy =   0.0287
Level     1,  Iter    17:    Energy =   0.0289
Level     1,  Iter    18:    Energy =   0.0291
Level     1,  Iter    19:    Energy =   0.0292
Level     1,  Iter    20:    Energy =   0.0294
Level     1,  Iter    21:    Energy =   0.0295
Level     1,  Iter    22:    Energy =   0.0297
Level     1,  Iter    23:    Energy =   0.0298
Level     1,  Iter    24:    Energy =   0.0300
Level     1,  Iter    25:    Energy =   0.0301
Level     1,  Iter    26:    Energy =   0.0303
Level     1,  Iter    27:    Energy =   0.0304
Level     1,  Iter    28:    Energy =   0.0305
Level     1,  Iter    29:    Energy =   0.0307
Level     1,  Iter    30:    Energy =   0.0308
Level     1,  Iter    31:    Energy =   0.0309
Level     1,  Iter    32:    Energy =   0.0310
Level     1,  Iter    33:    Energy =   0.0311
Level     1,  Iter    34:    Energy =   0.0311
Level     1,  Iter    35:    Energy =   0.0312
Level     1,  Iter    36:    Energy =   0.0313
Level     1,  Iter    37:    Energy =   0.0314
Level     1,  Iter    38:    Energy =   0.0315
Level     1,  Iter    39:    Energy =   0.0315
Level     1,  Iter    40:    Energy =   0.0316
Level     1,  Iter    41:    Energy =   0.0316
Level     1,  Iter    42:    Energy =   0.0317
Level     1,  Iter    43:    Energy =   0.0317
Level     1,  Iter    44:    Energy =   0.0318
Level     1,  Iter    45:    Energy =   0.0318
Level     1,  Iter    46:    Energy =   0.0319
Level     1,  Iter    47:    Energy =   0.0319
Level     1,  Iter    48:    Energy =   0.0320
Level     1,  Iter    49:    Energy =   0.0320
Level     1,  Iter    50:    Energy =   0.0321
Level     1,  Iter    51:    Energy =   0.0321
Level     1,  Iter    52:    Energy =   0.0321
Level     1,  Iter    53:    Energy =   0.0322
Level     1,  Iter    54:    Energy =   0.0322
Level     1,  Iter    55:    Energy =   0.0322
Level     1,  Iter    56:    Energy =   0.0323
Level     1,  Iter    57:    Energy =   0.0323
Level     1,  Iter    58:    Energy =   0.0324
Level     1,  Iter    59:    Energy =   0.0324
END OF LEVEL     1    DetJac Range:   0.0216  to   3.2448 
  Avg. Gradient Time  : 0.0278s  33.56% 
  Avg. Gaussian Time  : 0.0435s  52.46% 
  Avg. Iteration Time : 0.0829s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0149
Level     2,  Iter     1:    Energy =   0.0155
Level     2,  Iter     2:    Energy =   0.0160
Level     2,  Iter     3:    Energy =   0.0164
Level     2,  Iter     4:    Energy =   0.0167
Level     2,  Iter     5:    Energy =   0.0170
Level     2,  Iter     6:    Energy =   0.0172
Level     2,  Iter     7:    Energy =   0.0174
Level     2,  Iter     8:    Energy =   0.0176
Level     2,  Iter     9:    Energy =   0.0177
Level     2,  Iter    10:    Energy =   0.0178
Level     2,  Iter    11:    Energy =   0.0180
Level     2,  Iter    12:    Energy =   0.0181
Level     2,  Iter    13:    Energy =   0.0183
Level     2,  Iter    14:    Energy =   0.0184
Level     2,  Iter    15:    Energy =   0.0186
Level     2,  Iter    16:    Energy =   0.0187
Level     2,  Iter    17:    Energy =   0.0189
Level     2,  Iter    18:    Energy =   0.0190
Level     2,  Iter    19:    Energy =   0.0192
END OF LEVEL     2    DetJac Range:   0.0256  to   3.3714 
  Avg. Gradient Time  : 0.1756s  31.37% 
  Avg. Gaussian Time  : 0.3069s  54.82% 
  Avg. Iteration Time : 0.5598s 

real	0m20.061s
user	0m34.924s
sys	0m2.244s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298571 0.302857
+ echo 'CHUNK 0.298571 0.302857 1'
CHUNK 0.298571 0.302857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298571 0.302857 1
====================================
         PROGRESS: 0.298571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.641
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 224.23   GNORM= 242.064
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -510.325     104.741       0.021
   2    9      -578.861     136.557       1.021
   3   10      -662.640      65.744       1.000
   4   11      -672.462      54.781       1.000
   5   12      -686.073     120.181       1.000
   6   17      -709.421     259.753       1.083
   7   23      -709.711     120.600       0.000
   8   24      -736.110      27.808       1.000
   9   28      -740.408      35.186       1.428
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12029 -0.0982322 0.143186 -3.43334 
-0.0552555 1.08983 -0.104494 3.3147 
-0.0117304 -0.1402 1.02218 -3.1714 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -333.79   GNORM= 361.205
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -334.748     613.466       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12022 -0.0981311 0.143071 -3.42388 
-0.0552465 1.08983 -0.104469 3.31353 
-0.011832 -0.14004 1.02197 -3.15684 
0 0 0 1 

Final RAS Transform: 
1.12022 -0.0981311 0.143071 -3.42388 
-0.0552465 1.08983 -0.104469 3.31353 
-0.011832 -0.14004 1.02197 -3.15684 
0 0 0 1 


real	0m3.697s
user	0m5.816s
sys	0m0.432s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.467822
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0150
Level     0,  Iter     1:    Energy =   0.0173
Level     0,  Iter     2:    Energy =   0.0192
Level     0,  Iter     3:    Energy =   0.0208
Level     0,  Iter     4:    Energy =   0.0224
Level     0,  Iter     5:    Energy =   0.0237
Level     0,  Iter     6:    Energy =   0.0248
Level     0,  Iter     7:    Energy =   0.0261
Level     0,  Iter     8:    Energy =   0.0271
Level     0,  Iter     9:    Energy =   0.0281
Level     0,  Iter    10:    Energy =   0.0289
Level     0,  Iter    11:    Energy =   0.0296
Level     0,  Iter    12:    Energy =   0.0299
Level     0,  Iter    13:    Energy =   0.0303
Level     0,  Iter    14:    Energy =   0.0306
Level     0,  Iter    15:    Energy =   0.0309
Level     0,  Iter    16:    Energy =   0.0312
Level     0,  Iter    17:    Energy =   0.0314
Level     0,  Iter    18:    Energy =   0.0317
Level     0,  Iter    19:    Energy =   0.0319
Level     0,  Iter    20:    Energy =   0.0322
Level     0,  Iter    21:    Energy =   0.0324
Level     0,  Iter    22:    Energy =   0.0326
Level     0,  Iter    23:    Energy =   0.0327
Level     0,  Iter    24:    Energy =   0.0329
Level     0,  Iter    25:    Energy =   0.0330
Level     0,  Iter    26:    Energy =   0.0331
Level     0,  Iter    27:    Energy =   0.0332
Level     0,  Iter    28:    Energy =   0.0333
Level     0,  Iter    29:    Energy =   0.0335
Level     0,  Iter    30:    Energy =   0.0336
Level     0,  Iter    31:    Energy =   0.0337
Level     0,  Iter    32:    Energy =   0.0339
Level     0,  Iter    33:    Energy =   0.0340
Level     0,  Iter    34:    Energy =   0.0341
Level     0,  Iter    35:    Energy =   0.0342
Level     0,  Iter    36:    Energy =   0.0343
Level     0,  Iter    37:    Energy =   0.0344
Level     0,  Iter    38:    Energy =   0.0345
Level     0,  Iter    39:    Energy =   0.0346
Level     0,  Iter    40:    Energy =   0.0347
Level     0,  Iter    41:    Energy =   0.0348
Level     0,  Iter    42:    Energy =   0.0349
Level     0,  Iter    43:    Energy =   0.0350
Level     0,  Iter    44:    Energy =   0.0351
Level     0,  Iter    45:    Energy =   0.0352
Level     0,  Iter    46:    Energy =   0.0353
Level     0,  Iter    47:    Energy =   0.0354
Level     0,  Iter    48:    Energy =   0.0355
Level     0,  Iter    49:    Energy =   0.0356
Level     0,  Iter    50:    Energy =   0.0357
Level     0,  Iter    51:    Energy =   0.0358
Level     0,  Iter    52:    Energy =   0.0359
Level     0,  Iter    53:    Energy =   0.0360
Level     0,  Iter    54:    Energy =   0.0361
Level     0,  Iter    55:    Energy =   0.0362
Level     0,  Iter    56:    Energy =   0.0363
Level     0,  Iter    57:    Energy =   0.0363
Level     0,  Iter    58:    Energy =   0.0364
Level     0,  Iter    59:    Energy =   0.0365
END OF LEVEL     0    DetJac Range:   0.0407  to   1.7441 
  Avg. Gradient Time  : 0.0066s  32.76% 
  Avg. Gaussian Time  : 0.0097s  48.42% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0212
Level     1,  Iter     1:    Energy =   0.0225
Level     1,  Iter     2:    Energy =   0.0239
Level     1,  Iter     3:    Energy =   0.0251
Level     1,  Iter     4:    Energy =   0.0263
Level     1,  Iter     5:    Energy =   0.0272
Level     1,  Iter     6:    Energy =   0.0279
Level     1,  Iter     7:    Energy =   0.0284
Level     1,  Iter     8:    Energy =   0.0289
Level     1,  Iter     9:    Energy =   0.0292
Level     1,  Iter    10:    Energy =   0.0296
Level     1,  Iter    11:    Energy =   0.0298
Level     1,  Iter    12:    Energy =   0.0301
Level     1,  Iter    13:    Energy =   0.0303
Level     1,  Iter    14:    Energy =   0.0306
Level     1,  Iter    15:    Energy =   0.0308
Level     1,  Iter    16:    Energy =   0.0310
Level     1,  Iter    17:    Energy =   0.0312
Level     1,  Iter    18:    Energy =   0.0314
Level     1,  Iter    19:    Energy =   0.0316
Level     1,  Iter    20:    Energy =   0.0318
Level     1,  Iter    21:    Energy =   0.0319
Level     1,  Iter    22:    Energy =   0.0320
Level     1,  Iter    23:    Energy =   0.0322
Level     1,  Iter    24:    Energy =   0.0323
Level     1,  Iter    25:    Energy =   0.0324
Level     1,  Iter    26:    Energy =   0.0325
Level     1,  Iter    27:    Energy =   0.0326
Level     1,  Iter    28:    Energy =   0.0327
Level     1,  Iter    29:    Energy =   0.0327
Level     1,  Iter    30:    Energy =   0.0328
Level     1,  Iter    31:    Energy =   0.0328
Level     1,  Iter    32:    Energy =   0.0328
Level     1,  Iter    33:    Energy =   0.0328
Level     1,  Iter    34:    Energy =   0.0328
Level     1,  Iter    35:    Energy =   0.0328
Level     1,  Iter    36:    Energy =   0.0328
Level     1,  Iter    37:    Energy =   0.0327
Level     1,  Iter    38:    Energy =   0.0326
Level     1,  Iter    39:    Energy =   0.0326
Level     1,  Iter    40:    Energy =   0.0325
Level     1,  Iter    41:    Energy =   0.0324
Level     1,  Iter    42:    Energy =   0.0324
Level     1,  Iter    43:    Energy =   0.0323
Level     1,  Iter    44:    Energy =   0.0322
Level     1,  Iter    45:    Energy =   0.0322
Level     1,  Iter    46:    Energy =   0.0321
Level     1,  Iter    47:    Energy =   0.0320
Level     1,  Iter    48:    Energy =   0.0320
Level     1,  Iter    49:    Energy =   0.0319
Level     1,  Iter    50:    Energy =   0.0318
Level     1,  Iter    51:    Energy =   0.0317
Level     1,  Iter    52:    Energy =   0.0317
Level     1,  Iter    53:    Energy =   0.0316
Level     1,  Iter    54:    Energy =   0.0315
Level     1,  Iter    55:    Energy =   0.0315
Level     1,  Iter    56:    Energy =   0.0314
Level     1,  Iter    57:    Energy =   0.0314
Level     1,  Iter    58:    Energy =   0.0313
Level     1,  Iter    59:    Energy =   0.0313
END OF LEVEL     1    DetJac Range:   0.0125  to   2.5327 
  Avg. Gradient Time  : 0.0281s  33.65% 
  Avg. Gaussian Time  : 0.0437s  52.37% 
  Avg. Iteration Time : 0.0835s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0125
Level     2,  Iter     1:    Energy =   0.0131
Level     2,  Iter     2:    Energy =   0.0139
Level     2,  Iter     3:    Energy =   0.0147
Level     2,  Iter     4:    Energy =   0.0153
Level     2,  Iter     5:    Energy =   0.0158
Level     2,  Iter     6:    Energy =   0.0164
Level     2,  Iter     7:    Energy =   0.0168
Level     2,  Iter     8:    Energy =   0.0171
Level     2,  Iter     9:    Energy =   0.0174
Level     2,  Iter    10:    Energy =   0.0177
Level     2,  Iter    11:    Energy =   0.0179
Level     2,  Iter    12:    Energy =   0.0181
Level     2,  Iter    13:    Energy =   0.0182
Level     2,  Iter    14:    Energy =   0.0183
Level     2,  Iter    15:    Energy =   0.0184
Level     2,  Iter    16:    Energy =   0.0185
Level     2,  Iter    17:    Energy =   0.0186
Level     2,  Iter    18:    Energy =   0.0187
Level     2,  Iter    19:    Energy =   0.0188
END OF LEVEL     2    DetJac Range:   0.0222  to   2.5225 
  Avg. Gradient Time  : 0.1793s  31.69% 
  Avg. Gaussian Time  : 0.3087s  54.57% 
  Avg. Iteration Time : 0.5657s 

real	0m20.198s
user	0m35.108s
sys	0m2.324s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.302857 0.307143
+ echo 'CHUNK 0.302857 0.307143 1'
CHUNK 0.302857 0.307143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.302857 0.307143 1
====================================
         PROGRESS: 0.302857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.64
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 345.304   GNORM= 242.166
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -204.555     115.256       0.021
   2    4      -512.399     130.285       1.000
   3    7      -632.373      52.640       0.052
   4    8      -649.975      64.326       1.000
   5   12      -650.935     243.374       0.004
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10973 -0.111531 0.135012 -3.90676 
-0.0610776 1.08208 -0.0996148 3.40119 
0.00690554 -0.131255 1.04801 -2.05228 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -372.671   GNORM= 275.901
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10973 -0.111531 0.135012 -3.90676 
-0.0610776 1.08208 -0.0996148 3.40119 
0.00690554 -0.131255 1.04801 -2.05228 
0 0 0 1 

Final RAS Transform: 
1.10973 -0.111531 0.135012 -3.90676 
-0.0610776 1.08208 -0.0996148 3.40119 
0.00690554 -0.131255 1.04801 -2.05228 
0 0 0 1 


real	0m3.121s
user	0m4.796s
sys	0m0.368s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.479158
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0142
Level     0,  Iter     1:    Energy =   0.0166
Level     0,  Iter     2:    Energy =   0.0189
Level     0,  Iter     3:    Energy =   0.0208
Level     0,  Iter     4:    Energy =   0.0225
Level     0,  Iter     5:    Energy =   0.0242
Level     0,  Iter     6:    Energy =   0.0254
Level     0,  Iter     7:    Energy =   0.0263
Level     0,  Iter     8:    Energy =   0.0270
Level     0,  Iter     9:    Energy =   0.0278
Level     0,  Iter    10:    Energy =   0.0287
Level     0,  Iter    11:    Energy =   0.0297
Level     0,  Iter    12:    Energy =   0.0304
Level     0,  Iter    13:    Energy =   0.0311
Level     0,  Iter    14:    Energy =   0.0318
Level     0,  Iter    15:    Energy =   0.0323
Level     0,  Iter    16:    Energy =   0.0330
Level     0,  Iter    17:    Energy =   0.0335
Level     0,  Iter    18:    Energy =   0.0340
Level     0,  Iter    19:    Energy =   0.0345
Level     0,  Iter    20:    Energy =   0.0349
Level     0,  Iter    21:    Energy =   0.0353
Level     0,  Iter    22:    Energy =   0.0358
Level     0,  Iter    23:    Energy =   0.0363
Level     0,  Iter    24:    Energy =   0.0367
Level     0,  Iter    25:    Energy =   0.0371
Level     0,  Iter    26:    Energy =   0.0374
Level     0,  Iter    27:    Energy =   0.0378
Level     0,  Iter    28:    Energy =   0.0380
Level     0,  Iter    29:    Energy =   0.0382
Level     0,  Iter    30:    Energy =   0.0384
Level     0,  Iter    31:    Energy =   0.0386
Level     0,  Iter    32:    Energy =   0.0387
Level     0,  Iter    33:    Energy =   0.0389
Level     0,  Iter    34:    Energy =   0.0391
Level     0,  Iter    35:    Energy =   0.0394
Level     0,  Iter    36:    Energy =   0.0396
Level     0,  Iter    37:    Energy =   0.0398
Level     0,  Iter    38:    Energy =   0.0400
Level     0,  Iter    39:    Energy =   0.0401
Level     0,  Iter    40:    Energy =   0.0403
Level     0,  Iter    41:    Energy =   0.0404
Level     0,  Iter    42:    Energy =   0.0405
Level     0,  Iter    43:    Energy =   0.0407
Level     0,  Iter    44:    Energy =   0.0408
Level     0,  Iter    45:    Energy =   0.0410
Level     0,  Iter    46:    Energy =   0.0411
Level     0,  Iter    47:    Energy =   0.0412
Level     0,  Iter    48:    Energy =   0.0413
Level     0,  Iter    49:    Energy =   0.0415
Level     0,  Iter    50:    Energy =   0.0417
Level     0,  Iter    51:    Energy =   0.0419
Level     0,  Iter    52:    Energy =   0.0421
Level     0,  Iter    53:    Energy =   0.0423
Level     0,  Iter    54:    Energy =   0.0425
Level     0,  Iter    55:    Energy =   0.0427
Level     0,  Iter    56:    Energy =   0.0429
Level     0,  Iter    57:    Energy =   0.0430
Level     0,  Iter    58:    Energy =   0.0431
Level     0,  Iter    59:    Energy =   0.0433
END OF LEVEL     0    DetJac Range:   0.0265  to   2.4848 
  Avg. Gradient Time  : 0.0068s  32.65% 
  Avg. Gaussian Time  : 0.0100s  48.53% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0249
Level     1,  Iter     1:    Energy =   0.0260
Level     1,  Iter     2:    Energy =   0.0270
Level     1,  Iter     3:    Energy =   0.0280
Level     1,  Iter     4:    Energy =   0.0288
Level     1,  Iter     5:    Energy =   0.0295
Level     1,  Iter     6:    Energy =   0.0301
Level     1,  Iter     7:    Energy =   0.0307
Level     1,  Iter     8:    Energy =   0.0313
Level     1,  Iter     9:    Energy =   0.0317
Level     1,  Iter    10:    Energy =   0.0322
Level     1,  Iter    11:    Energy =   0.0328
Level     1,  Iter    12:    Energy =   0.0332
Level     1,  Iter    13:    Energy =   0.0336
Level     1,  Iter    14:    Energy =   0.0339
Level     1,  Iter    15:    Energy =   0.0342
Level     1,  Iter    16:    Energy =   0.0344
Level     1,  Iter    17:    Energy =   0.0346
Level     1,  Iter    18:    Energy =   0.0348
Level     1,  Iter    19:    Energy =   0.0349
Level     1,  Iter    20:    Energy =   0.0350
Level     1,  Iter    21:    Energy =   0.0351
Level     1,  Iter    22:    Energy =   0.0352
Level     1,  Iter    23:    Energy =   0.0353
Level     1,  Iter    24:    Energy =   0.0354
Level     1,  Iter    25:    Energy =   0.0354
Level     1,  Iter    26:    Energy =   0.0354
Level     1,  Iter    27:    Energy =   0.0354
Level     1,  Iter    28:    Energy =   0.0354
Level     1,  Iter    29:    Energy =   0.0353
Level     1,  Iter    30:    Energy =   0.0353
Level     1,  Iter    31:    Energy =   0.0352
Level     1,  Iter    32:    Energy =   0.0352
Level     1,  Iter    33:    Energy =   0.0352
Level     1,  Iter    34:    Energy =   0.0351
Level     1,  Iter    35:    Energy =   0.0351
Level     1,  Iter    36:    Energy =   0.0350
Level     1,  Iter    37:    Energy =   0.0349
Level     1,  Iter    38:    Energy =   0.0349
Level     1,  Iter    39:    Energy =   0.0348
Level     1,  Iter    40:    Energy =   0.0347
Level     1,  Iter    41:    Energy =   0.0346
Level     1,  Iter    42:    Energy =   0.0346
Level     1,  Iter    43:    Energy =   0.0345
Level     1,  Iter    44:    Energy =   0.0344
Level     1,  Iter    45:    Energy =   0.0343
Level     1,  Iter    46:    Energy =   0.0343
Level     1,  Iter    47:    Energy =   0.0342
Level     1,  Iter    48:    Energy =   0.0341
Level     1,  Iter    49:    Energy =   0.0341
Level     1,  Iter    50:    Energy =   0.0340
Level     1,  Iter    51:    Energy =   0.0339
Level     1,  Iter    52:    Energy =   0.0339
Level     1,  Iter    53:    Energy =   0.0338
Level     1,  Iter    54:    Energy =   0.0337
Level     1,  Iter    55:    Energy =   0.0337
Level     1,  Iter    56:    Energy =   0.0336
Level     1,  Iter    57:    Energy =   0.0336
Level     1,  Iter    58:    Energy =   0.0335
Level     1,  Iter    59:    Energy =   0.0335
END OF LEVEL     1    DetJac Range:   0.0206  to   2.2933 
  Avg. Gradient Time  : 0.0277s  33.33% 
  Avg. Gaussian Time  : 0.0438s  52.77% 
  Avg. Iteration Time : 0.0831s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0138
Level     2,  Iter     1:    Energy =   0.0147
Level     2,  Iter     2:    Energy =   0.0154
Level     2,  Iter     3:    Energy =   0.0160
Level     2,  Iter     4:    Energy =   0.0164
Level     2,  Iter     5:    Energy =   0.0167
Level     2,  Iter     6:    Energy =   0.0170
Level     2,  Iter     7:    Energy =   0.0172
Level     2,  Iter     8:    Energy =   0.0174
Level     2,  Iter     9:    Energy =   0.0176
Level     2,  Iter    10:    Energy =   0.0177
Level     2,  Iter    11:    Energy =   0.0178
Level     2,  Iter    12:    Energy =   0.0179
Level     2,  Iter    13:    Energy =   0.0180
Level     2,  Iter    14:    Energy =   0.0181
Level     2,  Iter    15:    Energy =   0.0181
Level     2,  Iter    16:    Energy =   0.0182
Level     2,  Iter    17:    Energy =   0.0182
Level     2,  Iter    18:    Energy =   0.0182
Level     2,  Iter    19:    Energy =   0.0183
END OF LEVEL     2    DetJac Range:   0.0213  to   2.3672 
  Avg. Gradient Time  : 0.1780s  31.57% 
  Avg. Gaussian Time  : 0.3078s  54.59% 
  Avg. Iteration Time : 0.5637s 

real	0m20.238s
user	0m35.144s
sys	0m2.264s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.307143 0.311429
+ echo 'CHUNK 0.307143 0.311429 1'
CHUNK 0.307143 0.311429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.307143 0.311429 1
====================================
         PROGRESS: 0.307143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 026
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 026 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=026
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 026 left 0
+ local tid=026
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.503
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 263.848   GNORM= 277.092
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2         9.709     234.645       0.004
   2    3      -308.961     169.590       1.000
   3    4      -532.251     134.136       1.000
   4    5      -607.148      53.664       1.000
   5    6      -620.516      40.683       1.000
   6    7      -650.281      48.286       1.000
   7    8      -698.704      75.599       1.000
   8    9      -706.931      63.794       1.000
   9   10      -718.453      48.622       1.000
  10   13      -731.715      55.096       0.287
  11   15      -732.306      30.510       0.055
  12   16      -732.555      34.848       1.000
  13   18      -734.644      26.104       5.000
  14   21      -735.450      16.497       0.116
  15   22      -736.369      17.205       1.000
  16   28      -736.698      63.369       0.151
  17   30      -737.901      30.901       0.178
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.1141 -0.067012 0.162015 -4.24991 
-0.0507784 1.11033 -0.0622993 3.47185 
-0.00998426 -0.229101 0.943531 -4.18354 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -303.472   GNORM= 168.877
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -339.242     186.861       0.006
   2    4      -340.384     127.535       0.234
   3   10      -364.548     150.030       5.430
   4   21      -364.577      98.726       0.000
   5   27      -383.038      59.213       6.079
   6   28      -390.747      31.649       1.000
   7   29      -395.657      24.031       1.000
   8   34      -401.517      27.578       0.294
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11347 -0.0647445 0.163176 -3.48396 
-0.0376141 1.09818 -0.0448369 1.55404 
-0.0150714 -0.232036 0.937043 -4.09031 
0 0 0 1 

Final RAS Transform: 
1.11347 -0.0647445 0.163176 -3.48396 
-0.0376141 1.09818 -0.0448369 1.55404 
-0.0150714 -0.232036 0.937043 -4.09031 
0 0 0 1 


real	0m5.267s
user	0m8.764s
sys	0m0.580s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.381371
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0155
Level     0,  Iter     1:    Energy =   0.0170
Level     0,  Iter     2:    Energy =   0.0192
Level     0,  Iter     3:    Energy =   0.0212
Level     0,  Iter     4:    Energy =   0.0232
Level     0,  Iter     5:    Energy =   0.0247
Level     0,  Iter     6:    Energy =   0.0258
Level     0,  Iter     7:    Energy =   0.0265
Level     0,  Iter     8:    Energy =   0.0270
Level     0,  Iter     9:    Energy =   0.0276
Level     0,  Iter    10:    Energy =   0.0281
Level     0,  Iter    11:    Energy =   0.0285
Level     0,  Iter    12:    Energy =   0.0289
Level     0,  Iter    13:    Energy =   0.0293
Level     0,  Iter    14:    Energy =   0.0296
Level     0,  Iter    15:    Energy =   0.0299
Level     0,  Iter    16:    Energy =   0.0302
Level     0,  Iter    17:    Energy =   0.0305
Level     0,  Iter    18:    Energy =   0.0308
Level     0,  Iter    19:    Energy =   0.0311
Level     0,  Iter    20:    Energy =   0.0314
Level     0,  Iter    21:    Energy =   0.0317
Level     0,  Iter    22:    Energy =   0.0320
Level     0,  Iter    23:    Energy =   0.0323
Level     0,  Iter    24:    Energy =   0.0325
Level     0,  Iter    25:    Energy =   0.0327
Level     0,  Iter    26:    Energy =   0.0329
Level     0,  Iter    27:    Energy =   0.0331
Level     0,  Iter    28:    Energy =   0.0333
Level     0,  Iter    29:    Energy =   0.0335
Level     0,  Iter    30:    Energy =   0.0336
Level     0,  Iter    31:    Energy =   0.0337
Level     0,  Iter    32:    Energy =   0.0339
Level     0,  Iter    33:    Energy =   0.0341
Level     0,  Iter    34:    Energy =   0.0343
Level     0,  Iter    35:    Energy =   0.0346
Level     0,  Iter    36:    Energy =   0.0348
Level     0,  Iter    37:    Energy =   0.0351
Level     0,  Iter    38:    Energy =   0.0354
Level     0,  Iter    39:    Energy =   0.0357
Level     0,  Iter    40:    Energy =   0.0359
Level     0,  Iter    41:    Energy =   0.0362
Level     0,  Iter    42:    Energy =   0.0364
Level     0,  Iter    43:    Energy =   0.0366
Level     0,  Iter    44:    Energy =   0.0369
Level     0,  Iter    45:    Energy =   0.0371
Level     0,  Iter    46:    Energy =   0.0373
Level     0,  Iter    47:    Energy =   0.0375
Level     0,  Iter    48:    Energy =   0.0377
Level     0,  Iter    49:    Energy =   0.0379
Level     0,  Iter    50:    Energy =   0.0381
Level     0,  Iter    51:    Energy =   0.0382
Level     0,  Iter    52:    Energy =   0.0384
Level     0,  Iter    53:    Energy =   0.0385
Level     0,  Iter    54:    Energy =   0.0387
Level     0,  Iter    55:    Energy =   0.0389
Level     0,  Iter    56:    Energy =   0.0391
Level     0,  Iter    57:    Energy =   0.0393
Level     0,  Iter    58:    Energy =   0.0395
Level     0,  Iter    59:    Energy =   0.0397
END OF LEVEL     0    DetJac Range:   0.0140  to   2.1808 
  Avg. Gradient Time  : 0.0067s  32.62% 
  Avg. Gaussian Time  : 0.0099s  48.32% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0226
Level     1,  Iter     1:    Energy =   0.0232
Level     1,  Iter     2:    Energy =   0.0238
Level     1,  Iter     3:    Energy =   0.0243
Level     1,  Iter     4:    Energy =   0.0247
Level     1,  Iter     5:    Energy =   0.0252
Level     1,  Iter     6:    Energy =   0.0256
Level     1,  Iter     7:    Energy =   0.0259
Level     1,  Iter     8:    Energy =   0.0262
Level     1,  Iter     9:    Energy =   0.0265
Level     1,  Iter    10:    Energy =   0.0267
Level     1,  Iter    11:    Energy =   0.0269
Level     1,  Iter    12:    Energy =   0.0271
Level     1,  Iter    13:    Energy =   0.0273
Level     1,  Iter    14:    Energy =   0.0275
Level     1,  Iter    15:    Energy =   0.0277
Level     1,  Iter    16:    Energy =   0.0279
Level     1,  Iter    17:    Energy =   0.0280
Level     1,  Iter    18:    Energy =   0.0283
Level     1,  Iter    19:    Energy =   0.0285
Level     1,  Iter    20:    Energy =   0.0287
Level     1,  Iter    21:    Energy =   0.0289
Level     1,  Iter    22:    Energy =   0.0291
Level     1,  Iter    23:    Energy =   0.0293
Level     1,  Iter    24:    Energy =   0.0294
Level     1,  Iter    25:    Energy =   0.0296
Level     1,  Iter    26:    Energy =   0.0297
Level     1,  Iter    27:    Energy =   0.0299
Level     1,  Iter    28:    Energy =   0.0300
Level     1,  Iter    29:    Energy =   0.0302
Level     1,  Iter    30:    Energy =   0.0303
Level     1,  Iter    31:    Energy =   0.0304
Level     1,  Iter    32:    Energy =   0.0305
Level     1,  Iter    33:    Energy =   0.0307
Level     1,  Iter    34:    Energy =   0.0308
Level     1,  Iter    35:    Energy =   0.0309
Level     1,  Iter    36:    Energy =   0.0310
Level     1,  Iter    37:    Energy =   0.0312
Level     1,  Iter    38:    Energy =   0.0313
Level     1,  Iter    39:    Energy =   0.0314
Level     1,  Iter    40:    Energy =   0.0316
Level     1,  Iter    41:    Energy =   0.0317
Level     1,  Iter    42:    Energy =   0.0318
Level     1,  Iter    43:    Energy =   0.0319
Level     1,  Iter    44:    Energy =   0.0320
Level     1,  Iter    45:    Energy =   0.0321
Level     1,  Iter    46:    Energy =   0.0322
Level     1,  Iter    47:    Energy =   0.0323
Level     1,  Iter    48:    Energy =   0.0323
Level     1,  Iter    49:    Energy =   0.0324
Level     1,  Iter    50:    Energy =   0.0325
Level     1,  Iter    51:    Energy =   0.0325
Level     1,  Iter    52:    Energy =   0.0326
Level     1,  Iter    53:    Energy =   0.0326
Level     1,  Iter    54:    Energy =   0.0327
Level     1,  Iter    55:    Energy =   0.0327
Level     1,  Iter    56:    Energy =   0.0327
Level     1,  Iter    57:    Energy =   0.0327
Level     1,  Iter    58:    Energy =   0.0328
Level     1,  Iter    59:    Energy =   0.0328
END OF LEVEL     1    DetJac Range:   0.0134  to   2.8580 
  Avg. Gradient Time  : 0.0275s  33.26% 
  Avg. Gaussian Time  : 0.0436s  52.80% 
  Avg. Iteration Time : 0.0827s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0137
Level     2,  Iter     1:    Energy =   0.0145
Level     2,  Iter     2:    Energy =   0.0151
Level     2,  Iter     3:    Energy =   0.0156
Level     2,  Iter     4:    Energy =   0.0161
Level     2,  Iter     5:    Energy =   0.0164
Level     2,  Iter     6:    Energy =   0.0168
Level     2,  Iter     7:    Energy =   0.0172
Level     2,  Iter     8:    Energy =   0.0177
Level     2,  Iter     9:    Energy =   0.0182
Level     2,  Iter    10:    Energy =   0.0186
Level     2,  Iter    11:    Energy =   0.0188
Level     2,  Iter    12:    Energy =   0.0187
Level     2,  Iter    13:    Energy =   0.0192
Level     2,  Iter    14:    Energy =   0.0192
Level     2,  Iter    15:    Energy =   0.0193
Level     2,  Iter    16:    Energy =   0.0197
Level     2,  Iter    17:    Energy =   0.0200
Level     2,  Iter    18:    Energy =   0.0203
Level     2,  Iter    19:    Energy =   0.0205
END OF LEVEL     2    DetJac Range:   0.0144  to   3.5280 
  Avg. Gradient Time  : 0.1763s  31.31% 
  Avg. Gaussian Time  : 0.3083s  54.74% 
  Avg. Iteration Time : 0.5632s 

real	0m20.162s
user	0m35.116s
sys	0m2.140s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.311429 0.315714
+ echo 'CHUNK 0.311429 0.315714 1'
CHUNK 0.311429 0.315714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.311429 0.315714 1
====================================
         PROGRESS: 0.311429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 027
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 027 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=027
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 027 left 0
+ local tid=027
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.528
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 155.811   GNORM= 235.081
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -38.037     203.152       0.004
   2    3      -139.253     182.315       1.000
   3    5      -243.891     198.949       0.192
   4    7      -592.116     116.503       0.244
   5   10      -648.217      92.319       0.680
   6   12      -649.860      70.977       0.210
   7   16      -680.691      88.050       1.359
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11243 -0.127367 0.122297 -3.84337 
-0.0758736 1.08767 -0.0986602 3.21349 
-0.000245182 -0.146224 1.05415 -2.78324 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -361.352   GNORM= 23.2196
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   13      -361.760      33.549       0.002
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11237 -0.127393 0.122194 -3.82706 
-0.0759268 1.08782 -0.0986067 3.21631 
-0.000137287 -0.146451 1.05435 -2.80632 
0 0 0 1 

Final RAS Transform: 
1.11237 -0.127393 0.122194 -3.82706 
-0.0759268 1.08782 -0.0986067 3.21631 
-0.000137287 -0.146451 1.05435 -2.80632 
0 0 0 1 


real	0m3.860s
user	0m6.144s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.387099
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0143
Level     0,  Iter     1:    Energy =   0.0164
Level     0,  Iter     2:    Energy =   0.0186
Level     0,  Iter     3:    Energy =   0.0207
Level     0,  Iter     4:    Energy =   0.0225
Level     0,  Iter     5:    Energy =   0.0243
Level     0,  Iter     6:    Energy =   0.0259
Level     0,  Iter     7:    Energy =   0.0272
Level     0,  Iter     8:    Energy =   0.0280
Level     0,  Iter     9:    Energy =   0.0288
Level     0,  Iter    10:    Energy =   0.0294
Level     0,  Iter    11:    Energy =   0.0299
Level     0,  Iter    12:    Energy =   0.0305
Level     0,  Iter    13:    Energy =   0.0309
Level     0,  Iter    14:    Energy =   0.0313
Level     0,  Iter    15:    Energy =   0.0317
Level     0,  Iter    16:    Energy =   0.0321
Level     0,  Iter    17:    Energy =   0.0325
Level     0,  Iter    18:    Energy =   0.0328
Level     0,  Iter    19:    Energy =   0.0331
Level     0,  Iter    20:    Energy =   0.0334
Level     0,  Iter    21:    Energy =   0.0335
Level     0,  Iter    22:    Energy =   0.0337
Level     0,  Iter    23:    Energy =   0.0340
Level     0,  Iter    24:    Energy =   0.0341
Level     0,  Iter    25:    Energy =   0.0344
Level     0,  Iter    26:    Energy =   0.0346
Level     0,  Iter    27:    Energy =   0.0348
Level     0,  Iter    28:    Energy =   0.0351
Level     0,  Iter    29:    Energy =   0.0353
Level     0,  Iter    30:    Energy =   0.0355
Level     0,  Iter    31:    Energy =   0.0357
Level     0,  Iter    32:    Energy =   0.0360
Level     0,  Iter    33:    Energy =   0.0361
Level     0,  Iter    34:    Energy =   0.0363
Level     0,  Iter    35:    Energy =   0.0365
Level     0,  Iter    36:    Energy =   0.0367
Level     0,  Iter    37:    Energy =   0.0369
Level     0,  Iter    38:    Energy =   0.0371
Level     0,  Iter    39:    Energy =   0.0372
Level     0,  Iter    40:    Energy =   0.0374
Level     0,  Iter    41:    Energy =   0.0376
Level     0,  Iter    42:    Energy =   0.0377
Level     0,  Iter    43:    Energy =   0.0379
Level     0,  Iter    44:    Energy =   0.0380
Level     0,  Iter    45:    Energy =   0.0382
Level     0,  Iter    46:    Energy =   0.0385
Level     0,  Iter    47:    Energy =   0.0389
Level     0,  Iter    48:    Energy =   0.0392
Level     0,  Iter    49:    Energy =   0.0395
Level     0,  Iter    50:    Energy =   0.0397
Level     0,  Iter    51:    Energy =   0.0400
Level     0,  Iter    52:    Energy =   0.0402
Level     0,  Iter    53:    Energy =   0.0404
Level     0,  Iter    54:    Energy =   0.0406
Level     0,  Iter    55:    Energy =   0.0407
Level     0,  Iter    56:    Energy =   0.0409
Level     0,  Iter    57:    Energy =   0.0410
Level     0,  Iter    58:    Energy =   0.0411
Level     0,  Iter    59:    Energy =   0.0413
END OF LEVEL     0    DetJac Range:   0.0169  to   2.5406 
  Avg. Gradient Time  : 0.0065s  32.74% 
  Avg. Gaussian Time  : 0.0096s  48.41% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0230
Level     1,  Iter     1:    Energy =   0.0240
Level     1,  Iter     2:    Energy =   0.0247
Level     1,  Iter     3:    Energy =   0.0253
Level     1,  Iter     4:    Energy =   0.0259
Level     1,  Iter     5:    Energy =   0.0266
Level     1,  Iter     6:    Energy =   0.0274
Level     1,  Iter     7:    Energy =   0.0281
Level     1,  Iter     8:    Energy =   0.0286
Level     1,  Iter     9:    Energy =   0.0292
Level     1,  Iter    10:    Energy =   0.0296
Level     1,  Iter    11:    Energy =   0.0300
Level     1,  Iter    12:    Energy =   0.0303
Level     1,  Iter    13:    Energy =   0.0307
Level     1,  Iter    14:    Energy =   0.0309
Level     1,  Iter    15:    Energy =   0.0311
Level     1,  Iter    16:    Energy =   0.0314
Level     1,  Iter    17:    Energy =   0.0315
Level     1,  Iter    18:    Energy =   0.0317
Level     1,  Iter    19:    Energy =   0.0318
Level     1,  Iter    20:    Energy =   0.0320
Level     1,  Iter    21:    Energy =   0.0321
Level     1,  Iter    22:    Energy =   0.0322
Level     1,  Iter    23:    Energy =   0.0324
Level     1,  Iter    24:    Energy =   0.0326
Level     1,  Iter    25:    Energy =   0.0328
Level     1,  Iter    26:    Energy =   0.0330
Level     1,  Iter    27:    Energy =   0.0331
Level     1,  Iter    28:    Energy =   0.0333
Level     1,  Iter    29:    Energy =   0.0334
Level     1,  Iter    30:    Energy =   0.0336
Level     1,  Iter    31:    Energy =   0.0336
Level     1,  Iter    32:    Energy =   0.0338
Level     1,  Iter    33:    Energy =   0.0339
Level     1,  Iter    34:    Energy =   0.0340
Level     1,  Iter    35:    Energy =   0.0342
Level     1,  Iter    36:    Energy =   0.0343
Level     1,  Iter    37:    Energy =   0.0345
Level     1,  Iter    38:    Energy =   0.0346
Level     1,  Iter    39:    Energy =   0.0347
Level     1,  Iter    40:    Energy =   0.0349
Level     1,  Iter    41:    Energy =   0.0350
Level     1,  Iter    42:    Energy =   0.0351
Level     1,  Iter    43:    Energy =   0.0352
Level     1,  Iter    44:    Energy =   0.0354
Level     1,  Iter    45:    Energy =   0.0355
Level     1,  Iter    46:    Energy =   0.0355
Level     1,  Iter    47:    Energy =   0.0356
Level     1,  Iter    48:    Energy =   0.0357
Level     1,  Iter    49:    Energy =   0.0357
Level     1,  Iter    50:    Energy =   0.0358
Level     1,  Iter    51:    Energy =   0.0358
Level     1,  Iter    52:    Energy =   0.0358
Level     1,  Iter    53:    Energy =   0.0359
Level     1,  Iter    54:    Energy =   0.0359
Level     1,  Iter    55:    Energy =   0.0360
Level     1,  Iter    56:    Energy =   0.0360
Level     1,  Iter    57:    Energy =   0.0360
Level     1,  Iter    58:    Energy =   0.0360
Level     1,  Iter    59:    Energy =   0.0360
END OF LEVEL     1    DetJac Range:   0.0170  to   2.4102 
  Avg. Gradient Time  : 0.0273s  33.20% 
  Avg. Gaussian Time  : 0.0435s  52.87% 
  Avg. Iteration Time : 0.0823s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0142
Level     2,  Iter     1:    Energy =   0.0147
Level     2,  Iter     2:    Energy =   0.0151
Level     2,  Iter     3:    Energy =   0.0155
Level     2,  Iter     4:    Energy =   0.0158
Level     2,  Iter     5:    Energy =   0.0161
Level     2,  Iter     6:    Energy =   0.0164
Level     2,  Iter     7:    Energy =   0.0166
Level     2,  Iter     8:    Energy =   0.0169
Level     2,  Iter     9:    Energy =   0.0171
Level     2,  Iter    10:    Energy =   0.0173
Level     2,  Iter    11:    Energy =   0.0175
Level     2,  Iter    12:    Energy =   0.0177
Level     2,  Iter    13:    Energy =   0.0179
Level     2,  Iter    14:    Energy =   0.0181
Level     2,  Iter    15:    Energy =   0.0182
Level     2,  Iter    16:    Energy =   0.0184
Level     2,  Iter    17:    Energy =   0.0185
Level     2,  Iter    18:    Energy =   0.0186
Level     2,  Iter    19:    Energy =   0.0187
END OF LEVEL     2    DetJac Range:   0.0122  to   2.3512 
  Avg. Gradient Time  : 0.1772s  31.44% 
  Avg. Gaussian Time  : 0.3080s  54.67% 
  Avg. Iteration Time : 0.5634s 

real	0m20.088s
user	0m34.808s
sys	0m2.400s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315714 0.32
+ echo 'CHUNK 0.315714 0.32 1'
CHUNK 0.315714 0.32 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315714 0.32 1
====================================
         PROGRESS: 0.315714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 028
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 028 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=028
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 028 left 0
+ local tid=028
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.576
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 222.194   GNORM= 112.116
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       119.098      99.643       0.009
   2    4        40.575      11.927       5.000
   3    5        -2.516       7.334       1.000
   4    8        -7.318       7.201       0.141
   5   12       -10.207       9.650       0.027
   6   16       -10.726       7.911       0.018
   7   17       -11.580       3.958       1.000
   8   18       -11.771       1.492       1.000
   9   19       -11.857       0.901       1.000
  10   20       -12.022       1.263       1.000
  11   22       -12.069       2.517       0.094
  12   23       -12.266       2.968       1.000
  13   24       -12.669       3.238       1.000
  14   25       -13.260       2.891       1.000
  15   26       -13.435       2.374       1.000
  16   29       -13.649       0.859       2.778
  17   30       -13.730       1.842       1.000
  18   31       -13.951       1.449       1.000
  19   33       -14.349       2.600       0.522
  20   34       -14.622       7.523       1.000
  21   35       -15.611       2.782       1.000
  22   37       -15.738       1.559       0.495
  23   38       -15.862       1.495       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03017 -0.00585389 0.0138438 -2.35862 
-0.100541 1.15296 -0.10409 4.71592 
0.0146325 -0.18842 1.04614 -4.23996 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -284.892   GNORM= 181.049
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03017 -0.00585382 0.0138435 -2.35861 
-0.100541 1.15296 -0.10409 4.71591 
0.0146315 -0.188418 1.04614 -4.23981 
0 0 0 1 

Final RAS Transform: 
1.03017 -0.00585382 0.0138435 -2.35861 
-0.100541 1.15296 -0.10409 4.71591 
0.0146315 -0.188418 1.04614 -4.23981 
0 0 0 1 


real	0m3.367s
user	0m5.188s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.441837
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0115
Level     0,  Iter     1:    Energy =   0.0131
Level     0,  Iter     2:    Energy =   0.0154
Level     0,  Iter     3:    Energy =   0.0176
Level     0,  Iter     4:    Energy =   0.0196
Level     0,  Iter     5:    Energy =   0.0214
Level     0,  Iter     6:    Energy =   0.0229
Level     0,  Iter     7:    Energy =   0.0244
Level     0,  Iter     8:    Energy =   0.0257
Level     0,  Iter     9:    Energy =   0.0269
Level     0,  Iter    10:    Energy =   0.0279
Level     0,  Iter    11:    Energy =   0.0287
Level     0,  Iter    12:    Energy =   0.0296
Level     0,  Iter    13:    Energy =   0.0304
Level     0,  Iter    14:    Energy =   0.0311
Level     0,  Iter    15:    Energy =   0.0316
Level     0,  Iter    16:    Energy =   0.0320
Level     0,  Iter    17:    Energy =   0.0321
Level     0,  Iter    18:    Energy =   0.0322
Level     0,  Iter    19:    Energy =   0.0324
Level     0,  Iter    20:    Energy =   0.0326
Level     0,  Iter    21:    Energy =   0.0327
Level     0,  Iter    22:    Energy =   0.0328
Level     0,  Iter    23:    Energy =   0.0330
Level     0,  Iter    24:    Energy =   0.0331
Level     0,  Iter    25:    Energy =   0.0331
Level     0,  Iter    26:    Energy =   0.0332
Level     0,  Iter    27:    Energy =   0.0332
Level     0,  Iter    28:    Energy =   0.0332
Level     0,  Iter    29:    Energy =   0.0331
Level     0,  Iter    30:    Energy =   0.0331
Level     0,  Iter    31:    Energy =   0.0331
Level     0,  Iter    32:    Energy =   0.0330
Level     0,  Iter    33:    Energy =   0.0330
Level     0,  Iter    34:    Energy =   0.0329
Level     0,  Iter    35:    Energy =   0.0329
Level     0,  Iter    36:    Energy =   0.0328
Level     0,  Iter    37:    Energy =   0.0328
Level     0,  Iter    38:    Energy =   0.0329
Level     0,  Iter    39:    Energy =   0.0329
Level     0,  Iter    40:    Energy =   0.0330
Level     0,  Iter    41:    Energy =   0.0330
Level     0,  Iter    42:    Energy =   0.0331
Level     0,  Iter    43:    Energy =   0.0332
Level     0,  Iter    44:    Energy =   0.0333
Level     0,  Iter    45:    Energy =   0.0333
Level     0,  Iter    46:    Energy =   0.0334
Level     0,  Iter    47:    Energy =   0.0335
Level     0,  Iter    48:    Energy =   0.0336
Level     0,  Iter    49:    Energy =   0.0337
Level     0,  Iter    50:    Energy =   0.0337
Level     0,  Iter    51:    Energy =   0.0338
Level     0,  Iter    52:    Energy =   0.0338
Level     0,  Iter    53:    Energy =   0.0339
Level     0,  Iter    54:    Energy =   0.0339
Level     0,  Iter    55:    Energy =   0.0340
Level     0,  Iter    56:    Energy =   0.0340
Level     0,  Iter    57:    Energy =   0.0340
Level     0,  Iter    58:    Energy =   0.0341
Level     0,  Iter    59:    Energy =   0.0341
END OF LEVEL     0    DetJac Range:   0.0430  to   2.1148 
  Avg. Gradient Time  : 0.0066s  32.73% 
  Avg. Gaussian Time  : 0.0097s  48.32% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0202
Level     1,  Iter     1:    Energy =   0.0210
Level     1,  Iter     2:    Energy =   0.0217
Level     1,  Iter     3:    Energy =   0.0223
Level     1,  Iter     4:    Energy =   0.0230
Level     1,  Iter     5:    Energy =   0.0237
Level     1,  Iter     6:    Energy =   0.0243
Level     1,  Iter     7:    Energy =   0.0248
Level     1,  Iter     8:    Energy =   0.0253
Level     1,  Iter     9:    Energy =   0.0257
Level     1,  Iter    10:    Energy =   0.0263
Level     1,  Iter    11:    Energy =   0.0267
Level     1,  Iter    12:    Energy =   0.0271
Level     1,  Iter    13:    Energy =   0.0275
Level     1,  Iter    14:    Energy =   0.0278
Level     1,  Iter    15:    Energy =   0.0280
Level     1,  Iter    16:    Energy =   0.0282
Level     1,  Iter    17:    Energy =   0.0285
Level     1,  Iter    18:    Energy =   0.0287
Level     1,  Iter    19:    Energy =   0.0289
Level     1,  Iter    20:    Energy =   0.0291
Level     1,  Iter    21:    Energy =   0.0291
Level     1,  Iter    22:    Energy =   0.0293
Level     1,  Iter    23:    Energy =   0.0293
Level     1,  Iter    24:    Energy =   0.0294
Level     1,  Iter    25:    Energy =   0.0294
Level     1,  Iter    26:    Energy =   0.0295
Level     1,  Iter    27:    Energy =   0.0296
Level     1,  Iter    28:    Energy =   0.0297
Level     1,  Iter    29:    Energy =   0.0298
Level     1,  Iter    30:    Energy =   0.0299
Level     1,  Iter    31:    Energy =   0.0300
Level     1,  Iter    32:    Energy =   0.0301
Level     1,  Iter    33:    Energy =   0.0301
Level     1,  Iter    34:    Energy =   0.0302
Level     1,  Iter    35:    Energy =   0.0302
Level     1,  Iter    36:    Energy =   0.0302
Level     1,  Iter    37:    Energy =   0.0302
Level     1,  Iter    38:    Energy =   0.0303
Level     1,  Iter    39:    Energy =   0.0303
Level     1,  Iter    40:    Energy =   0.0304
Level     1,  Iter    41:    Energy =   0.0304
Level     1,  Iter    42:    Energy =   0.0305
Level     1,  Iter    43:    Energy =   0.0305
Level     1,  Iter    44:    Energy =   0.0306
Level     1,  Iter    45:    Energy =   0.0306
Level     1,  Iter    46:    Energy =   0.0306
Level     1,  Iter    47:    Energy =   0.0307
Level     1,  Iter    48:    Energy =   0.0307
Level     1,  Iter    49:    Energy =   0.0307
Level     1,  Iter    50:    Energy =   0.0307
Level     1,  Iter    51:    Energy =   0.0307
Level     1,  Iter    52:    Energy =   0.0307
Level     1,  Iter    53:    Energy =   0.0307
Level     1,  Iter    54:    Energy =   0.0307
Level     1,  Iter    55:    Energy =   0.0307
Level     1,  Iter    56:    Energy =   0.0307
Level     1,  Iter    57:    Energy =   0.0308
Level     1,  Iter    58:    Energy =   0.0309
Level     1,  Iter    59:    Energy =   0.0310
END OF LEVEL     1    DetJac Range:   0.0095  to   2.7560 
  Avg. Gradient Time  : 0.0277s  33.41% 
  Avg. Gaussian Time  : 0.0436s  52.55% 
  Avg. Iteration Time : 0.0831s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0129
Level     2,  Iter     1:    Energy =   0.0137
Level     2,  Iter     2:    Energy =   0.0143
Level     2,  Iter     3:    Energy =   0.0149
Level     2,  Iter     4:    Energy =   0.0155
Level     2,  Iter     5:    Energy =   0.0160
Level     2,  Iter     6:    Energy =   0.0165
Level     2,  Iter     7:    Energy =   0.0168
Level     2,  Iter     8:    Energy =   0.0172
Level     2,  Iter     9:    Energy =   0.0176
Level     2,  Iter    10:    Energy =   0.0180
Level     2,  Iter    11:    Energy =   0.0183
Level     2,  Iter    12:    Energy =   0.0185
Level     2,  Iter    13:    Energy =   0.0187
Level     2,  Iter    14:    Energy =   0.0189
Level     2,  Iter    15:    Energy =   0.0191
Level     2,  Iter    16:    Energy =   0.0193
Level     2,  Iter    17:    Energy =   0.0194
Level     2,  Iter    18:    Energy =   0.0196
Level     2,  Iter    19:    Energy =   0.0197
END OF LEVEL     2    DetJac Range:   0.0032  to   2.9592 
  Avg. Gradient Time  : 0.1816s  31.69% 
  Avg. Gaussian Time  : 0.3124s  54.52% 
  Avg. Iteration Time : 0.5730s 

real	0m20.367s
user	0m35.612s
sys	0m2.096s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.32 0.324286
+ echo 'CHUNK 0.32 0.324286 1'
CHUNK 0.32 0.324286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.32 0.324286 1
====================================
         PROGRESS: 0.32               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 029
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 029 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=029
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 029 left 0
+ local tid=029
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.566
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 323.053   GNORM= 185.887
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -153.521     181.031       0.027
   2    6      -640.078     114.583       0.757
   3    8      -664.037     476.021       0.256
   4   15      -670.490     102.767       0.000
   5   21      -672.294      39.467       1.117
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11691 -0.117869 0.122403 -3.90294 
-0.0302752 1.08221 -0.0621934 2.4517 
0.0143794 -0.106041 1.03129 -2.51511 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -370.98   GNORM= 29.3186
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -377.535      22.823       0.019
   2    6      -380.642      39.593       1.000
   3   10      -381.398     342.395       0.013
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11392 -0.118556 0.117507 -3.7859 
-0.0323931 1.08438 -0.0649829 2.91587 
0.0110768 -0.106263 1.02855 -2.28844 
0 0 0 1 

Final RAS Transform: 
1.11392 -0.118556 0.117507 -3.7859 
-0.0323931 1.08438 -0.0649829 2.91587 
0.0110768 -0.106263 1.02855 -2.28844 
0 0 0 1 


real	0m3.855s
user	0m6.148s
sys	0m0.412s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.400414
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0142
Level     0,  Iter     1:    Energy =   0.0161
Level     0,  Iter     2:    Energy =   0.0185
Level     0,  Iter     3:    Energy =   0.0202
Level     0,  Iter     4:    Energy =   0.0216
Level     0,  Iter     5:    Energy =   0.0229
Level     0,  Iter     6:    Energy =   0.0241
Level     0,  Iter     7:    Energy =   0.0253
Level     0,  Iter     8:    Energy =   0.0262
Level     0,  Iter     9:    Energy =   0.0270
Level     0,  Iter    10:    Energy =   0.0277
Level     0,  Iter    11:    Energy =   0.0285
Level     0,  Iter    12:    Energy =   0.0292
Level     0,  Iter    13:    Energy =   0.0297
Level     0,  Iter    14:    Energy =   0.0301
Level     0,  Iter    15:    Energy =   0.0305
Level     0,  Iter    16:    Energy =   0.0309
Level     0,  Iter    17:    Energy =   0.0313
Level     0,  Iter    18:    Energy =   0.0317
Level     0,  Iter    19:    Energy =   0.0321
Level     0,  Iter    20:    Energy =   0.0325
Level     0,  Iter    21:    Energy =   0.0327
Level     0,  Iter    22:    Energy =   0.0331
Level     0,  Iter    23:    Energy =   0.0336
Level     0,  Iter    24:    Energy =   0.0340
Level     0,  Iter    25:    Energy =   0.0346
Level     0,  Iter    26:    Energy =   0.0349
Level     0,  Iter    27:    Energy =   0.0351
Level     0,  Iter    28:    Energy =   0.0354
Level     0,  Iter    29:    Energy =   0.0357
Level     0,  Iter    30:    Energy =   0.0360
Level     0,  Iter    31:    Energy =   0.0365
Level     0,  Iter    32:    Energy =   0.0370
Level     0,  Iter    33:    Energy =   0.0375
Level     0,  Iter    34:    Energy =   0.0379
Level     0,  Iter    35:    Energy =   0.0382
Level     0,  Iter    36:    Energy =   0.0385
Level     0,  Iter    37:    Energy =   0.0388
Level     0,  Iter    38:    Energy =   0.0390
Level     0,  Iter    39:    Energy =   0.0391
Level     0,  Iter    40:    Energy =   0.0392
Level     0,  Iter    41:    Energy =   0.0393
Level     0,  Iter    42:    Energy =   0.0394
Level     0,  Iter    43:    Energy =   0.0395
Level     0,  Iter    44:    Energy =   0.0395
Level     0,  Iter    45:    Energy =   0.0396
Level     0,  Iter    46:    Energy =   0.0397
Level     0,  Iter    47:    Energy =   0.0398
Level     0,  Iter    48:    Energy =   0.0398
Level     0,  Iter    49:    Energy =   0.0399
Level     0,  Iter    50:    Energy =   0.0400
Level     0,  Iter    51:    Energy =   0.0400
Level     0,  Iter    52:    Energy =   0.0401
Level     0,  Iter    53:    Energy =   0.0401
Level     0,  Iter    54:    Energy =   0.0401
Level     0,  Iter    55:    Energy =   0.0402
Level     0,  Iter    56:    Energy =   0.0402
Level     0,  Iter    57:    Energy =   0.0403
Level     0,  Iter    58:    Energy =   0.0404
Level     0,  Iter    59:    Energy =   0.0405
END OF LEVEL     0    DetJac Range:   0.0213  to   2.1011 
  Avg. Gradient Time  : 0.0067s  32.97% 
  Avg. Gaussian Time  : 0.0097s  48.02% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0243
Level     1,  Iter     1:    Energy =   0.0257
Level     1,  Iter     2:    Energy =   0.0267
Level     1,  Iter     3:    Energy =   0.0274
Level     1,  Iter     4:    Energy =   0.0281
Level     1,  Iter     5:    Energy =   0.0288
Level     1,  Iter     6:    Energy =   0.0293
Level     1,  Iter     7:    Energy =   0.0298
Level     1,  Iter     8:    Energy =   0.0303
Level     1,  Iter     9:    Energy =   0.0307
Level     1,  Iter    10:    Energy =   0.0311
Level     1,  Iter    11:    Energy =   0.0315
Level     1,  Iter    12:    Energy =   0.0318
Level     1,  Iter    13:    Energy =   0.0322
Level     1,  Iter    14:    Energy =   0.0325
Level     1,  Iter    15:    Energy =   0.0327
Level     1,  Iter    16:    Energy =   0.0330
Level     1,  Iter    17:    Energy =   0.0332
Level     1,  Iter    18:    Energy =   0.0333
Level     1,  Iter    19:    Energy =   0.0335
Level     1,  Iter    20:    Energy =   0.0337
Level     1,  Iter    21:    Energy =   0.0339
Level     1,  Iter    22:    Energy =   0.0340
Level     1,  Iter    23:    Energy =   0.0341
Level     1,  Iter    24:    Energy =   0.0342
Level     1,  Iter    25:    Energy =   0.0344
Level     1,  Iter    26:    Energy =   0.0345
Level     1,  Iter    27:    Energy =   0.0346
Level     1,  Iter    28:    Energy =   0.0347
Level     1,  Iter    29:    Energy =   0.0348
Level     1,  Iter    30:    Energy =   0.0349
Level     1,  Iter    31:    Energy =   0.0350
Level     1,  Iter    32:    Energy =   0.0351
Level     1,  Iter    33:    Energy =   0.0351
Level     1,  Iter    34:    Energy =   0.0352
Level     1,  Iter    35:    Energy =   0.0353
Level     1,  Iter    36:    Energy =   0.0354
Level     1,  Iter    37:    Energy =   0.0354
Level     1,  Iter    38:    Energy =   0.0355
Level     1,  Iter    39:    Energy =   0.0355
Level     1,  Iter    40:    Energy =   0.0356
Level     1,  Iter    41:    Energy =   0.0356
Level     1,  Iter    42:    Energy =   0.0356
Level     1,  Iter    43:    Energy =   0.0357
Level     1,  Iter    44:    Energy =   0.0357
Level     1,  Iter    45:    Energy =   0.0358
Level     1,  Iter    46:    Energy =   0.0358
Level     1,  Iter    47:    Energy =   0.0358
Level     1,  Iter    48:    Energy =   0.0359
Level     1,  Iter    49:    Energy =   0.0359
Level     1,  Iter    50:    Energy =   0.0359
Level     1,  Iter    51:    Energy =   0.0360
Level     1,  Iter    52:    Energy =   0.0360
Level     1,  Iter    53:    Energy =   0.0360
Level     1,  Iter    54:    Energy =   0.0360
Level     1,  Iter    55:    Energy =   0.0360
Level     1,  Iter    56:    Energy =   0.0361
Level     1,  Iter    57:    Energy =   0.0361
Level     1,  Iter    58:    Energy =   0.0361
Level     1,  Iter    59:    Energy =   0.0361
END OF LEVEL     1    DetJac Range:   0.0141  to   3.0636 
  Avg. Gradient Time  : 0.0281s  33.62% 
  Avg. Gaussian Time  : 0.0438s  52.45% 
  Avg. Iteration Time : 0.0835s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0154
Level     2,  Iter     1:    Energy =   0.0161
Level     2,  Iter     2:    Energy =   0.0166
Level     2,  Iter     3:    Energy =   0.0171
Level     2,  Iter     4:    Energy =   0.0176
Level     2,  Iter     5:    Energy =   0.0182
Level     2,  Iter     6:    Energy =   0.0187
Level     2,  Iter     7:    Energy =   0.0192
Level     2,  Iter     8:    Energy =   0.0196
Level     2,  Iter     9:    Energy =   0.0200
Level     2,  Iter    10:    Energy =   0.0201
Level     2,  Iter    11:    Energy =   0.0204
Level     2,  Iter    12:    Energy =   0.0207
Level     2,  Iter    13:    Energy =   0.0210
Level     2,  Iter    14:    Energy =   0.0213
Level     2,  Iter    15:    Energy =   0.0215
Level     2,  Iter    16:    Energy =   0.0216
Level     2,  Iter    17:    Energy =   0.0218
Level     2,  Iter    18:    Energy =   0.0219
Level     2,  Iter    19:    Energy =   0.0221
END OF LEVEL     2    DetJac Range:   0.0075  to   3.9460 
  Avg. Gradient Time  : 0.1855s  31.87% 
  Avg. Gaussian Time  : 0.3165s  54.37% 
  Avg. Iteration Time : 0.5821s 

real	0m20.603s
user	0m35.776s
sys	0m2.404s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.324286 0.328571
+ echo 'CHUNK 0.324286 0.328571 1'
CHUNK 0.324286 0.328571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.324286 0.328571 1
====================================
         PROGRESS: 0.324286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 030
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 030 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=030
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 030 left 0
+ local tid=030
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 200.031   GNORM= 245.883
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -467.622      80.159       0.020
   2    4      -617.053      86.811       1.000
   3    6      -661.012     119.500       0.200
   4    7      -732.678      73.533       1.000
   5    8      -779.211      76.463       1.000
   6   13      -812.129      54.951       0.044
   7   14      -816.430      66.932       1.000
   8   15      -818.312      39.536       1.000
   9   22      -827.171      31.243       0.959
  10   26      -831.710     467.524       0.269
  11   36      -833.149      55.054       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13517 -0.0911404 0.173327 -2.70488 
-0.137145 1.09431 -0.149242 3.74302 
0.0208868 -0.199484 1.01818 -3.90459 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -335.19   GNORM= 2548.82
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -337.787     109.634       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.1343 -0.0903131 0.172014 -2.60065 
-0.137086 1.09425 -0.149231 3.73697 
0.0206479 -0.199229 1.01789 -3.8778 
0 0 0 1 

Final RAS Transform: 
1.1343 -0.0903131 0.172014 -2.60065 
-0.137086 1.09425 -0.149231 3.73697 
0.0206479 -0.199229 1.01789 -3.8778 
0 0 0 1 


real	0m3.741s
user	0m5.720s
sys	0m0.580s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.435423
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0170
Level     0,  Iter     1:    Energy =   0.0191
Level     0,  Iter     2:    Energy =   0.0213
Level     0,  Iter     3:    Energy =   0.0232
Level     0,  Iter     4:    Energy =   0.0252
Level     0,  Iter     5:    Energy =   0.0269
Level     0,  Iter     6:    Energy =   0.0284
Level     0,  Iter     7:    Energy =   0.0295
Level     0,  Iter     8:    Energy =   0.0306
Level     0,  Iter     9:    Energy =   0.0314
Level     0,  Iter    10:    Energy =   0.0323
Level     0,  Iter    11:    Energy =   0.0330
Level     0,  Iter    12:    Energy =   0.0335
Level     0,  Iter    13:    Energy =   0.0340
Level     0,  Iter    14:    Energy =   0.0345
Level     0,  Iter    15:    Energy =   0.0349
Level     0,  Iter    16:    Energy =   0.0352
Level     0,  Iter    17:    Energy =   0.0356
Level     0,  Iter    18:    Energy =   0.0361
Level     0,  Iter    19:    Energy =   0.0363
Level     0,  Iter    20:    Energy =   0.0365
Level     0,  Iter    21:    Energy =   0.0367
Level     0,  Iter    22:    Energy =   0.0370
Level     0,  Iter    23:    Energy =   0.0372
Level     0,  Iter    24:    Energy =   0.0374
Level     0,  Iter    25:    Energy =   0.0375
Level     0,  Iter    26:    Energy =   0.0378
Level     0,  Iter    27:    Energy =   0.0379
Level     0,  Iter    28:    Energy =   0.0380
Level     0,  Iter    29:    Energy =   0.0381
Level     0,  Iter    30:    Energy =   0.0382
Level     0,  Iter    31:    Energy =   0.0382
Level     0,  Iter    32:    Energy =   0.0383
Level     0,  Iter    33:    Energy =   0.0383
Level     0,  Iter    34:    Energy =   0.0385
Level     0,  Iter    35:    Energy =   0.0384
Level     0,  Iter    36:    Energy =   0.0386
Level     0,  Iter    37:    Energy =   0.0385
Level     0,  Iter    38:    Energy =   0.0387
Level     0,  Iter    39:    Energy =   0.0387
Level     0,  Iter    40:    Energy =   0.0388
Level     0,  Iter    41:    Energy =   0.0388
Level     0,  Iter    42:    Energy =   0.0389
Level     0,  Iter    43:    Energy =   0.0389
Level     0,  Iter    44:    Energy =   0.0390
Level     0,  Iter    45:    Energy =   0.0391
Level     0,  Iter    46:    Energy =   0.0393
Level     0,  Iter    47:    Energy =   0.0392
Level     0,  Iter    48:    Energy =   0.0393
Level     0,  Iter    49:    Energy =   0.0392
Level     0,  Iter    50:    Energy =   0.0394
Level     0,  Iter    51:    Energy =   0.0392
Level     0,  Iter    52:    Energy =   0.0394
Level     0,  Iter    53:    Energy =   0.0393
Level     0,  Iter    54:    Energy =   0.0395
Level     0,  Iter    55:    Energy =   0.0394
Level     0,  Iter    56:    Energy =   0.0395
Level     0,  Iter    57:    Energy =   0.0395
Level     0,  Iter    58:    Energy =   0.0396
Level     0,  Iter    59:    Energy =   0.0396
END OF LEVEL     0    DetJac Range:   0.0605  to   2.5867 
  Avg. Gradient Time  : 0.0069s  33.18% 
  Avg. Gaussian Time  : 0.0100s  48.08% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0212
Level     1,  Iter     1:    Energy =   0.0223
Level     1,  Iter     2:    Energy =   0.0232
Level     1,  Iter     3:    Energy =   0.0239
Level     1,  Iter     4:    Energy =   0.0245
Level     1,  Iter     5:    Energy =   0.0249
Level     1,  Iter     6:    Energy =   0.0253
Level     1,  Iter     7:    Energy =   0.0257
Level     1,  Iter     8:    Energy =   0.0261
Level     1,  Iter     9:    Energy =   0.0264
Level     1,  Iter    10:    Energy =   0.0267
Level     1,  Iter    11:    Energy =   0.0270
Level     1,  Iter    12:    Energy =   0.0272
Level     1,  Iter    13:    Energy =   0.0274
Level     1,  Iter    14:    Energy =   0.0275
Level     1,  Iter    15:    Energy =   0.0277
Level     1,  Iter    16:    Energy =   0.0278
Level     1,  Iter    17:    Energy =   0.0280
Level     1,  Iter    18:    Energy =   0.0282
Level     1,  Iter    19:    Energy =   0.0283
Level     1,  Iter    20:    Energy =   0.0284
Level     1,  Iter    21:    Energy =   0.0285
Level     1,  Iter    22:    Energy =   0.0286
Level     1,  Iter    23:    Energy =   0.0287
Level     1,  Iter    24:    Energy =   0.0288
Level     1,  Iter    25:    Energy =   0.0289
Level     1,  Iter    26:    Energy =   0.0289
Level     1,  Iter    27:    Energy =   0.0290
Level     1,  Iter    28:    Energy =   0.0291
Level     1,  Iter    29:    Energy =   0.0292
Level     1,  Iter    30:    Energy =   0.0292
Level     1,  Iter    31:    Energy =   0.0293
Level     1,  Iter    32:    Energy =   0.0293
Level     1,  Iter    33:    Energy =   0.0294
Level     1,  Iter    34:    Energy =   0.0294
Level     1,  Iter    35:    Energy =   0.0295
Level     1,  Iter    36:    Energy =   0.0295
Level     1,  Iter    37:    Energy =   0.0295
Level     1,  Iter    38:    Energy =   0.0295
Level     1,  Iter    39:    Energy =   0.0295
Level     1,  Iter    40:    Energy =   0.0295
Level     1,  Iter    41:    Energy =   0.0296
Level     1,  Iter    42:    Energy =   0.0296
Level     1,  Iter    43:    Energy =   0.0296
Level     1,  Iter    44:    Energy =   0.0296
Level     1,  Iter    45:    Energy =   0.0296
Level     1,  Iter    46:    Energy =   0.0297
Level     1,  Iter    47:    Energy =   0.0297
Level     1,  Iter    48:    Energy =   0.0297
Level     1,  Iter    49:    Energy =   0.0297
Level     1,  Iter    50:    Energy =   0.0297
Level     1,  Iter    51:    Energy =   0.0297
Level     1,  Iter    52:    Energy =   0.0297
Level     1,  Iter    53:    Energy =   0.0298
Level     1,  Iter    54:    Energy =   0.0298
Level     1,  Iter    55:    Energy =   0.0298
Level     1,  Iter    56:    Energy =   0.0298
Level     1,  Iter    57:    Energy =   0.0298
Level     1,  Iter    58:    Energy =   0.0299
Level     1,  Iter    59:    Energy =   0.0299
END OF LEVEL     1    DetJac Range:   0.0133  to   2.9841 
  Avg. Gradient Time  : 0.0285s  33.81% 
  Avg. Gaussian Time  : 0.0442s  52.38% 
  Avg. Iteration Time : 0.0843s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0122
Level     2,  Iter     1:    Energy =   0.0128
Level     2,  Iter     2:    Energy =   0.0134
Level     2,  Iter     3:    Energy =   0.0139
Level     2,  Iter     4:    Energy =   0.0143
Level     2,  Iter     5:    Energy =   0.0148
Level     2,  Iter     6:    Energy =   0.0153
Level     2,  Iter     7:    Energy =   0.0157
Level     2,  Iter     8:    Energy =   0.0161
Level     2,  Iter     9:    Energy =   0.0164
Level     2,  Iter    10:    Energy =   0.0167
Level     2,  Iter    11:    Energy =   0.0170
Level     2,  Iter    12:    Energy =   0.0172
Level     2,  Iter    13:    Energy =   0.0175
Level     2,  Iter    14:    Energy =   0.0175
Level     2,  Iter    15:    Energy =   0.0175
Level     2,  Iter    16:    Energy =   0.0177
Level     2,  Iter    17:    Energy =   0.0178
Level     2,  Iter    18:    Energy =   0.0181
Level     2,  Iter    19:    Energy =   0.0183
END OF LEVEL     2    DetJac Range:   0.0125  to   3.1071 
  Avg. Gradient Time  : 0.1835s  31.55% 
  Avg. Gaussian Time  : 0.3175s  54.61% 
  Avg. Iteration Time : 0.5815s 

real	0m20.677s
user	0m35.948s
sys	0m2.360s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.328571 0.332857
+ echo 'CHUNK 0.328571 0.332857 1'
CHUNK 0.328571 0.332857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.328571 0.332857 1
====================================
         PROGRESS: 0.328571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 031
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 031 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=031
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 031 left 0
+ local tid=031
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.586
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 149.327   GNORM= 242.272
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -447.055     102.378       0.021
   2    4      -462.289     124.064       1.000
   3    7      -596.490     132.760       1.577
   4   10      -641.118     128.964       0.170
   5   13      -642.911     134.248       0.390
   6   14      -704.608      56.681       1.000
   7   16      -742.250      83.480       5.000
   8   20      -767.479      24.233       1.307
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11144 -0.0984212 0.159821 -3.52352 
-0.0877466 1.07566 -0.125546 3.93873 
-0.00384732 -0.213294 1.00131 -3.60575 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -348.755   GNORM= 128.01
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -348.914     125.726       0.001
   2    5      -351.815      65.826       1.000
   3    9      -365.174     154.525       4.938
   4   12      -365.468      65.806       0.133
   5   14      -371.184      43.871       0.068
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10846 -0.0969196 0.157196 -2.8915 
-0.0841982 1.07136 -0.120953 3.01698 
-0.00173087 -0.214924 1.00798 -4.66401 
0 0 0 1 

Final RAS Transform: 
1.10846 -0.0969196 0.157196 -2.8915 
-0.0841982 1.07136 -0.120953 3.01698 
-0.00173087 -0.214924 1.00798 -4.66401 
0 0 0 1 


real	0m4.229s
user	0m6.804s
sys	0m0.452s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.409233
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0149
Level     0,  Iter     1:    Energy =   0.0167
Level     0,  Iter     2:    Energy =   0.0188
Level     0,  Iter     3:    Energy =   0.0207
Level     0,  Iter     4:    Energy =   0.0222
Level     0,  Iter     5:    Energy =   0.0237
Level     0,  Iter     6:    Energy =   0.0247
Level     0,  Iter     7:    Energy =   0.0252
Level     0,  Iter     8:    Energy =   0.0256
Level     0,  Iter     9:    Energy =   0.0260
Level     0,  Iter    10:    Energy =   0.0263
Level     0,  Iter    11:    Energy =   0.0265
Level     0,  Iter    12:    Energy =   0.0267
Level     0,  Iter    13:    Energy =   0.0269
Level     0,  Iter    14:    Energy =   0.0271
Level     0,  Iter    15:    Energy =   0.0273
Level     0,  Iter    16:    Energy =   0.0274
Level     0,  Iter    17:    Energy =   0.0277
Level     0,  Iter    18:    Energy =   0.0278
Level     0,  Iter    19:    Energy =   0.0279
Level     0,  Iter    20:    Energy =   0.0281
Level     0,  Iter    21:    Energy =   0.0282
Level     0,  Iter    22:    Energy =   0.0283
Level     0,  Iter    23:    Energy =   0.0284
Level     0,  Iter    24:    Energy =   0.0284
Level     0,  Iter    25:    Energy =   0.0285
Level     0,  Iter    26:    Energy =   0.0287
Level     0,  Iter    27:    Energy =   0.0289
Level     0,  Iter    28:    Energy =   0.0291
Level     0,  Iter    29:    Energy =   0.0293
Level     0,  Iter    30:    Energy =   0.0295
Level     0,  Iter    31:    Energy =   0.0297
Level     0,  Iter    32:    Energy =   0.0299
Level     0,  Iter    33:    Energy =   0.0301
Level     0,  Iter    34:    Energy =   0.0303
Level     0,  Iter    35:    Energy =   0.0305
Level     0,  Iter    36:    Energy =   0.0306
Level     0,  Iter    37:    Energy =   0.0308
Level     0,  Iter    38:    Energy =   0.0309
Level     0,  Iter    39:    Energy =   0.0311
Level     0,  Iter    40:    Energy =   0.0312
Level     0,  Iter    41:    Energy =   0.0313
Level     0,  Iter    42:    Energy =   0.0315
Level     0,  Iter    43:    Energy =   0.0315
Level     0,  Iter    44:    Energy =   0.0316
Level     0,  Iter    45:    Energy =   0.0317
Level     0,  Iter    46:    Energy =   0.0318
Level     0,  Iter    47:    Energy =   0.0319
Level     0,  Iter    48:    Energy =   0.0319
Level     0,  Iter    49:    Energy =   0.0319
Level     0,  Iter    50:    Energy =   0.0320
Level     0,  Iter    51:    Energy =   0.0320
Level     0,  Iter    52:    Energy =   0.0320
Level     0,  Iter    53:    Energy =   0.0321
Level     0,  Iter    54:    Energy =   0.0321
Level     0,  Iter    55:    Energy =   0.0322
Level     0,  Iter    56:    Energy =   0.0322
Level     0,  Iter    57:    Energy =   0.0322
Level     0,  Iter    58:    Energy =   0.0322
Level     0,  Iter    59:    Energy =   0.0322
END OF LEVEL     0    DetJac Range:   0.0190  to   2.3926 
  Avg. Gradient Time  : 0.0068s  32.87% 
  Avg. Gaussian Time  : 0.0100s  48.36% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0173
Level     1,  Iter     1:    Energy =   0.0182
Level     1,  Iter     2:    Energy =   0.0191
Level     1,  Iter     3:    Energy =   0.0200
Level     1,  Iter     4:    Energy =   0.0208
Level     1,  Iter     5:    Energy =   0.0214
Level     1,  Iter     6:    Energy =   0.0220
Level     1,  Iter     7:    Energy =   0.0225
Level     1,  Iter     8:    Energy =   0.0229
Level     1,  Iter     9:    Energy =   0.0231
Level     1,  Iter    10:    Energy =   0.0233
Level     1,  Iter    11:    Energy =   0.0236
Level     1,  Iter    12:    Energy =   0.0237
Level     1,  Iter    13:    Energy =   0.0239
Level     1,  Iter    14:    Energy =   0.0242
Level     1,  Iter    15:    Energy =   0.0243
Level     1,  Iter    16:    Energy =   0.0245
Level     1,  Iter    17:    Energy =   0.0246
Level     1,  Iter    18:    Energy =   0.0248
Level     1,  Iter    19:    Energy =   0.0249
Level     1,  Iter    20:    Energy =   0.0250
Level     1,  Iter    21:    Energy =   0.0251
Level     1,  Iter    22:    Energy =   0.0252
Level     1,  Iter    23:    Energy =   0.0253
Level     1,  Iter    24:    Energy =   0.0254
Level     1,  Iter    25:    Energy =   0.0255
Level     1,  Iter    26:    Energy =   0.0256
Level     1,  Iter    27:    Energy =   0.0257
Level     1,  Iter    28:    Energy =   0.0258
Level     1,  Iter    29:    Energy =   0.0258
Level     1,  Iter    30:    Energy =   0.0259
Level     1,  Iter    31:    Energy =   0.0260
Level     1,  Iter    32:    Energy =   0.0260
Level     1,  Iter    33:    Energy =   0.0261
Level     1,  Iter    34:    Energy =   0.0261
Level     1,  Iter    35:    Energy =   0.0262
Level     1,  Iter    36:    Energy =   0.0263
Level     1,  Iter    37:    Energy =   0.0263
Level     1,  Iter    38:    Energy =   0.0264
Level     1,  Iter    39:    Energy =   0.0264
Level     1,  Iter    40:    Energy =   0.0265
Level     1,  Iter    41:    Energy =   0.0265
Level     1,  Iter    42:    Energy =   0.0266
Level     1,  Iter    43:    Energy =   0.0266
Level     1,  Iter    44:    Energy =   0.0267
Level     1,  Iter    45:    Energy =   0.0267
Level     1,  Iter    46:    Energy =   0.0268
Level     1,  Iter    47:    Energy =   0.0268
Level     1,  Iter    48:    Energy =   0.0268
Level     1,  Iter    49:    Energy =   0.0269
Level     1,  Iter    50:    Energy =   0.0269
Level     1,  Iter    51:    Energy =   0.0269
Level     1,  Iter    52:    Energy =   0.0270
Level     1,  Iter    53:    Energy =   0.0270
Level     1,  Iter    54:    Energy =   0.0271
Level     1,  Iter    55:    Energy =   0.0271
Level     1,  Iter    56:    Energy =   0.0271
Level     1,  Iter    57:    Energy =   0.0272
Level     1,  Iter    58:    Energy =   0.0272
Level     1,  Iter    59:    Energy =   0.0273
END OF LEVEL     1    DetJac Range:   0.0096  to   2.0448 
  Avg. Gradient Time  : 0.0278s  33.17% 
  Avg. Gaussian Time  : 0.0443s  52.84% 
  Avg. Iteration Time : 0.0839s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0107
Level     2,  Iter     1:    Energy =   0.0110
Level     2,  Iter     2:    Energy =   0.0113
Level     2,  Iter     3:    Energy =   0.0117
Level     2,  Iter     4:    Energy =   0.0119
Level     2,  Iter     5:    Energy =   0.0121
Level     2,  Iter     6:    Energy =   0.0123
Level     2,  Iter     7:    Energy =   0.0124
Level     2,  Iter     8:    Energy =   0.0126
Level     2,  Iter     9:    Energy =   0.0127
Level     2,  Iter    10:    Energy =   0.0129
Level     2,  Iter    11:    Energy =   0.0130
Level     2,  Iter    12:    Energy =   0.0132
Level     2,  Iter    13:    Energy =   0.0133
Level     2,  Iter    14:    Energy =   0.0135
Level     2,  Iter    15:    Energy =   0.0136
Level     2,  Iter    16:    Energy =   0.0137
Level     2,  Iter    17:    Energy =   0.0139
Level     2,  Iter    18:    Energy =   0.0140
Level     2,  Iter    19:    Energy =   0.0141
END OF LEVEL     2    DetJac Range:   0.0067  to   2.2603 
  Avg. Gradient Time  : 0.1864s  31.90% 
  Avg. Gaussian Time  : 0.3177s  54.38% 
  Avg. Iteration Time : 0.5842s 

real	0m20.680s
user	0m36.048s
sys	0m2.300s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332857 0.337143
+ echo 'CHUNK 0.332857 0.337143 1'
CHUNK 0.332857 0.337143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332857 0.337143 1
====================================
         PROGRESS: 0.332857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 032
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 032 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=032
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 032 left 0
+ local tid=032
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.551
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 165.15   GNORM= 210.927
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        -0.062     128.380       0.005
   2    3      -331.036     115.313       1.000
   3    5      -532.676     407.765       0.482
   4    6      -677.879     160.885       1.000
   5    9      -765.058     200.847       0.086
   6   12      -765.996      83.098       0.121
   7   15      -774.142      79.661       0.950
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12525 -0.121882 0.101819 -4.61936 
-0.0358033 1.09178 -0.0647126 2.67858 
0.00266567 -0.130401 1.03521 -2.69061 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -386.936   GNORM= 250.573
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -386.970      66.812       0.000
   2   11      -387.275     924.646       0.036
   3   19      -389.125      57.316       0.012
   4   25      -396.834     216.557       1.900
   5   39      -396.924     123.658       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12559 -0.12232 0.102123 -4.66509 
-0.0357617 1.09176 -0.0646087 2.67179 
0.00255657 -0.130277 1.03506 -2.67248 
0 0 0 1 

Final RAS Transform: 
1.12559 -0.12232 0.102123 -4.66509 
-0.0357617 1.09176 -0.0646087 2.67179 
0.00255657 -0.130277 1.03506 -2.67248 
0 0 0 1 


real	0m5.703s
user	0m9.540s
sys	0m0.600s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.395515
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0159
Level     0,  Iter     1:    Energy =   0.0173
Level     0,  Iter     2:    Energy =   0.0196
Level     0,  Iter     3:    Energy =   0.0218
Level     0,  Iter     4:    Energy =   0.0240
Level     0,  Iter     5:    Energy =   0.0255
Level     0,  Iter     6:    Energy =   0.0269
Level     0,  Iter     7:    Energy =   0.0279
Level     0,  Iter     8:    Energy =   0.0288
Level     0,  Iter     9:    Energy =   0.0295
Level     0,  Iter    10:    Energy =   0.0301
Level     0,  Iter    11:    Energy =   0.0305
Level     0,  Iter    12:    Energy =   0.0311
Level     0,  Iter    13:    Energy =   0.0316
Level     0,  Iter    14:    Energy =   0.0322
Level     0,  Iter    15:    Energy =   0.0327
Level     0,  Iter    16:    Energy =   0.0331
Level     0,  Iter    17:    Energy =   0.0334
Level     0,  Iter    18:    Energy =   0.0337
Level     0,  Iter    19:    Energy =   0.0339
Level     0,  Iter    20:    Energy =   0.0341
Level     0,  Iter    21:    Energy =   0.0343
Level     0,  Iter    22:    Energy =   0.0345
Level     0,  Iter    23:    Energy =   0.0346
Level     0,  Iter    24:    Energy =   0.0348
Level     0,  Iter    25:    Energy =   0.0348
Level     0,  Iter    26:    Energy =   0.0348
Level     0,  Iter    27:    Energy =   0.0349
Level     0,  Iter    28:    Energy =   0.0349
Level     0,  Iter    29:    Energy =   0.0350
Level     0,  Iter    30:    Energy =   0.0350
Level     0,  Iter    31:    Energy =   0.0351
Level     0,  Iter    32:    Energy =   0.0353
Level     0,  Iter    33:    Energy =   0.0354
Level     0,  Iter    34:    Energy =   0.0355
Level     0,  Iter    35:    Energy =   0.0356
Level     0,  Iter    36:    Energy =   0.0357
Level     0,  Iter    37:    Energy =   0.0358
Level     0,  Iter    38:    Energy =   0.0359
Level     0,  Iter    39:    Energy =   0.0359
Level     0,  Iter    40:    Energy =   0.0360
Level     0,  Iter    41:    Energy =   0.0361
Level     0,  Iter    42:    Energy =   0.0361
Level     0,  Iter    43:    Energy =   0.0361
Level     0,  Iter    44:    Energy =   0.0362
Level     0,  Iter    45:    Energy =   0.0362
Level     0,  Iter    46:    Energy =   0.0363
Level     0,  Iter    47:    Energy =   0.0364
Level     0,  Iter    48:    Energy =   0.0364
Level     0,  Iter    49:    Energy =   0.0365
Level     0,  Iter    50:    Energy =   0.0366
Level     0,  Iter    51:    Energy =   0.0367
Level     0,  Iter    52:    Energy =   0.0368
Level     0,  Iter    53:    Energy =   0.0369
Level     0,  Iter    54:    Energy =   0.0370
Level     0,  Iter    55:    Energy =   0.0370
Level     0,  Iter    56:    Energy =   0.0371
Level     0,  Iter    57:    Energy =   0.0371
Level     0,  Iter    58:    Energy =   0.0372
Level     0,  Iter    59:    Energy =   0.0372
END OF LEVEL     0    DetJac Range:   0.0463  to   2.4381 
  Avg. Gradient Time  : 0.0069s  32.79% 
  Avg. Gaussian Time  : 0.0101s  48.12% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0227
Level     1,  Iter     1:    Energy =   0.0240
Level     1,  Iter     2:    Energy =   0.0250
Level     1,  Iter     3:    Energy =   0.0259
Level     1,  Iter     4:    Energy =   0.0267
Level     1,  Iter     5:    Energy =   0.0274
Level     1,  Iter     6:    Energy =   0.0279
Level     1,  Iter     7:    Energy =   0.0283
Level     1,  Iter     8:    Energy =   0.0287
Level     1,  Iter     9:    Energy =   0.0289
Level     1,  Iter    10:    Energy =   0.0292
Level     1,  Iter    11:    Energy =   0.0294
Level     1,  Iter    12:    Energy =   0.0296
Level     1,  Iter    13:    Energy =   0.0297
Level     1,  Iter    14:    Energy =   0.0299
Level     1,  Iter    15:    Energy =   0.0300
Level     1,  Iter    16:    Energy =   0.0301
Level     1,  Iter    17:    Energy =   0.0303
Level     1,  Iter    18:    Energy =   0.0305
Level     1,  Iter    19:    Energy =   0.0306
Level     1,  Iter    20:    Energy =   0.0308
Level     1,  Iter    21:    Energy =   0.0309
Level     1,  Iter    22:    Energy =   0.0310
Level     1,  Iter    23:    Energy =   0.0312
Level     1,  Iter    24:    Energy =   0.0313
Level     1,  Iter    25:    Energy =   0.0314
Level     1,  Iter    26:    Energy =   0.0315
Level     1,  Iter    27:    Energy =   0.0316
Level     1,  Iter    28:    Energy =   0.0317
Level     1,  Iter    29:    Energy =   0.0318
Level     1,  Iter    30:    Energy =   0.0318
Level     1,  Iter    31:    Energy =   0.0319
Level     1,  Iter    32:    Energy =   0.0320
Level     1,  Iter    33:    Energy =   0.0320
Level     1,  Iter    34:    Energy =   0.0320
Level     1,  Iter    35:    Energy =   0.0321
Level     1,  Iter    36:    Energy =   0.0321
Level     1,  Iter    37:    Energy =   0.0321
Level     1,  Iter    38:    Energy =   0.0321
Level     1,  Iter    39:    Energy =   0.0322
Level     1,  Iter    40:    Energy =   0.0322
Level     1,  Iter    41:    Energy =   0.0322
Level     1,  Iter    42:    Energy =   0.0323
Level     1,  Iter    43:    Energy =   0.0323
Level     1,  Iter    44:    Energy =   0.0324
Level     1,  Iter    45:    Energy =   0.0325
Level     1,  Iter    46:    Energy =   0.0325
Level     1,  Iter    47:    Energy =   0.0326
Level     1,  Iter    48:    Energy =   0.0327
Level     1,  Iter    49:    Energy =   0.0327
Level     1,  Iter    50:    Energy =   0.0328
Level     1,  Iter    51:    Energy =   0.0329
Level     1,  Iter    52:    Energy =   0.0330
Level     1,  Iter    53:    Energy =   0.0330
Level     1,  Iter    54:    Energy =   0.0331
Level     1,  Iter    55:    Energy =   0.0332
Level     1,  Iter    56:    Energy =   0.0332
Level     1,  Iter    57:    Energy =   0.0333
Level     1,  Iter    58:    Energy =   0.0333
Level     1,  Iter    59:    Energy =   0.0334
END OF LEVEL     1    DetJac Range:   0.0159  to   2.7350 
  Avg. Gradient Time  : 0.0285s  33.49% 
  Avg. Gaussian Time  : 0.0448s  52.65% 
  Avg. Iteration Time : 0.0851s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0135
Level     2,  Iter     1:    Energy =   0.0141
Level     2,  Iter     2:    Energy =   0.0149
Level     2,  Iter     3:    Energy =   0.0155
Level     2,  Iter     4:    Energy =   0.0160
Level     2,  Iter     5:    Energy =   0.0166
Level     2,  Iter     6:    Energy =   0.0170
Level     2,  Iter     7:    Energy =   0.0174
Level     2,  Iter     8:    Energy =   0.0177
Level     2,  Iter     9:    Energy =   0.0178
Level     2,  Iter    10:    Energy =   0.0179
Level     2,  Iter    11:    Energy =   0.0180
Level     2,  Iter    12:    Energy =   0.0181
Level     2,  Iter    13:    Energy =   0.0182
Level     2,  Iter    14:    Energy =   0.0183
Level     2,  Iter    15:    Energy =   0.0185
Level     2,  Iter    16:    Energy =   0.0186
Level     2,  Iter    17:    Energy =   0.0187
Level     2,  Iter    18:    Energy =   0.0189
Level     2,  Iter    19:    Energy =   0.0190
END OF LEVEL     2    DetJac Range:   0.0241  to   3.2254 
  Avg. Gradient Time  : 0.1878s  31.74% 
  Avg. Gaussian Time  : 0.3226s  54.52% 
  Avg. Iteration Time : 0.5918s 

real	0m20.984s
user	0m36.504s
sys	0m2.404s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.337143 0.341429
+ echo 'CHUNK 0.337143 0.341429 1'
CHUNK 0.337143 0.341429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.337143 0.341429 1
====================================
         PROGRESS: 0.337143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 033
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 033 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=033
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 033 left 0
+ local tid=033
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.535
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 145.68   GNORM= 295.401
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -99.105     218.755       0.003
   2    3      -383.205      92.379       1.000
   3    4      -593.083      50.605       1.000
   4    5      -620.279      73.568       1.000
   5    7      -639.583     163.899       5.000
   6    9      -683.526     112.073       0.278
   7   10      -684.109      53.384       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11474 -0.067303 0.231444 -2.58427 
-0.0940097 1.05413 -0.0919856 3.42258 
-0.0585058 -0.261568 0.959114 -4.67313 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -307.165   GNORM= 2012.67
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -310.534    1663.209       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11475 -0.0673208 0.231471 -2.58615 
-0.0940132 1.05413 -0.0919938 3.42313 
-0.0585008 -0.261574 0.959125 -4.67389 
0 0 0 1 

Final RAS Transform: 
1.11475 -0.0673208 0.231471 -2.58615 
-0.0940132 1.05413 -0.0919938 3.42313 
-0.0585008 -0.261574 0.959125 -4.67389 
0 0 0 1 


real	0m3.676s
user	0m5.736s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.42364
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0144
Level     0,  Iter     1:    Energy =   0.0164
Level     0,  Iter     2:    Energy =   0.0182
Level     0,  Iter     3:    Energy =   0.0197
Level     0,  Iter     4:    Energy =   0.0214
Level     0,  Iter     5:    Energy =   0.0227
Level     0,  Iter     6:    Energy =   0.0238
Level     0,  Iter     7:    Energy =   0.0250
Level     0,  Iter     8:    Energy =   0.0258
Level     0,  Iter     9:    Energy =   0.0265
Level     0,  Iter    10:    Energy =   0.0271
Level     0,  Iter    11:    Energy =   0.0276
Level     0,  Iter    12:    Energy =   0.0279
Level     0,  Iter    13:    Energy =   0.0282
Level     0,  Iter    14:    Energy =   0.0284
Level     0,  Iter    15:    Energy =   0.0286
Level     0,  Iter    16:    Energy =   0.0287
Level     0,  Iter    17:    Energy =   0.0289
Level     0,  Iter    18:    Energy =   0.0290
Level     0,  Iter    19:    Energy =   0.0291
Level     0,  Iter    20:    Energy =   0.0292
Level     0,  Iter    21:    Energy =   0.0293
Level     0,  Iter    22:    Energy =   0.0294
Level     0,  Iter    23:    Energy =   0.0296
Level     0,  Iter    24:    Energy =   0.0298
Level     0,  Iter    25:    Energy =   0.0300
Level     0,  Iter    26:    Energy =   0.0302
Level     0,  Iter    27:    Energy =   0.0304
Level     0,  Iter    28:    Energy =   0.0306
Level     0,  Iter    29:    Energy =   0.0307
Level     0,  Iter    30:    Energy =   0.0309
Level     0,  Iter    31:    Energy =   0.0310
Level     0,  Iter    32:    Energy =   0.0311
Level     0,  Iter    33:    Energy =   0.0312
Level     0,  Iter    34:    Energy =   0.0314
Level     0,  Iter    35:    Energy =   0.0315
Level     0,  Iter    36:    Energy =   0.0318
Level     0,  Iter    37:    Energy =   0.0319
Level     0,  Iter    38:    Energy =   0.0321
Level     0,  Iter    39:    Energy =   0.0322
Level     0,  Iter    40:    Energy =   0.0324
Level     0,  Iter    41:    Energy =   0.0326
Level     0,  Iter    42:    Energy =   0.0330
Level     0,  Iter    43:    Energy =   0.0333
Level     0,  Iter    44:    Energy =   0.0337
Level     0,  Iter    45:    Energy =   0.0342
Level     0,  Iter    46:    Energy =   0.0346
Level     0,  Iter    47:    Energy =   0.0350
Level     0,  Iter    48:    Energy =   0.0354
Level     0,  Iter    49:    Energy =   0.0357
Level     0,  Iter    50:    Energy =   0.0359
Level     0,  Iter    51:    Energy =   0.0362
Level     0,  Iter    52:    Energy =   0.0363
Level     0,  Iter    53:    Energy =   0.0365
Level     0,  Iter    54:    Energy =   0.0367
Level     0,  Iter    55:    Energy =   0.0369
Level     0,  Iter    56:    Energy =   0.0371
Level     0,  Iter    57:    Energy =   0.0374
Level     0,  Iter    58:    Energy =   0.0376
Level     0,  Iter    59:    Energy =   0.0379
END OF LEVEL     0    DetJac Range:   0.0093  to   2.8658 
  Avg. Gradient Time  : 0.0070s  32.97% 
  Avg. Gaussian Time  : 0.0102s  48.14% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0216
Level     1,  Iter     1:    Energy =   0.0221
Level     1,  Iter     2:    Energy =   0.0226
Level     1,  Iter     3:    Energy =   0.0229
Level     1,  Iter     4:    Energy =   0.0233
Level     1,  Iter     5:    Energy =   0.0237
Level     1,  Iter     6:    Energy =   0.0240
Level     1,  Iter     7:    Energy =   0.0243
Level     1,  Iter     8:    Energy =   0.0246
Level     1,  Iter     9:    Energy =   0.0250
Level     1,  Iter    10:    Energy =   0.0254
Level     1,  Iter    11:    Energy =   0.0258
Level     1,  Iter    12:    Energy =   0.0262
Level     1,  Iter    13:    Energy =   0.0266
Level     1,  Iter    14:    Energy =   0.0270
Level     1,  Iter    15:    Energy =   0.0273
Level     1,  Iter    16:    Energy =   0.0276
Level     1,  Iter    17:    Energy =   0.0279
Level     1,  Iter    18:    Energy =   0.0282
Level     1,  Iter    19:    Energy =   0.0285
Level     1,  Iter    20:    Energy =   0.0288
Level     1,  Iter    21:    Energy =   0.0290
Level     1,  Iter    22:    Energy =   0.0293
Level     1,  Iter    23:    Energy =   0.0295
Level     1,  Iter    24:    Energy =   0.0298
Level     1,  Iter    25:    Energy =   0.0300
Level     1,  Iter    26:    Energy =   0.0302
Level     1,  Iter    27:    Energy =   0.0304
Level     1,  Iter    28:    Energy =   0.0306
Level     1,  Iter    29:    Energy =   0.0307
Level     1,  Iter    30:    Energy =   0.0308
Level     1,  Iter    31:    Energy =   0.0310
Level     1,  Iter    32:    Energy =   0.0311
Level     1,  Iter    33:    Energy =   0.0313
Level     1,  Iter    34:    Energy =   0.0314
Level     1,  Iter    35:    Energy =   0.0315
Level     1,  Iter    36:    Energy =   0.0316
Level     1,  Iter    37:    Energy =   0.0317
Level     1,  Iter    38:    Energy =   0.0319
Level     1,  Iter    39:    Energy =   0.0319
Level     1,  Iter    40:    Energy =   0.0321
Level     1,  Iter    41:    Energy =   0.0322
Level     1,  Iter    42:    Energy =   0.0322
Level     1,  Iter    43:    Energy =   0.0323
Level     1,  Iter    44:    Energy =   0.0324
Level     1,  Iter    45:    Energy =   0.0324
Level     1,  Iter    46:    Energy =   0.0325
Level     1,  Iter    47:    Energy =   0.0325
Level     1,  Iter    48:    Energy =   0.0326
Level     1,  Iter    49:    Energy =   0.0327
Level     1,  Iter    50:    Energy =   0.0327
Level     1,  Iter    51:    Energy =   0.0327
Level     1,  Iter    52:    Energy =   0.0328
Level     1,  Iter    53:    Energy =   0.0328
Level     1,  Iter    54:    Energy =   0.0328
Level     1,  Iter    55:    Energy =   0.0328
Level     1,  Iter    56:    Energy =   0.0329
Level     1,  Iter    57:    Energy =   0.0329
Level     1,  Iter    58:    Energy =   0.0329
Level     1,  Iter    59:    Energy =   0.0329
END OF LEVEL     1    DetJac Range:   0.0054  to   2.5250 
  Avg. Gradient Time  : 0.0283s  33.24% 
  Avg. Gaussian Time  : 0.0448s  52.67% 
  Avg. Iteration Time : 0.0850s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0136
Level     2,  Iter     1:    Energy =   0.0142
Level     2,  Iter     2:    Energy =   0.0147
Level     2,  Iter     3:    Energy =   0.0152
Level     2,  Iter     4:    Energy =   0.0157
Level     2,  Iter     5:    Energy =   0.0161
Level     2,  Iter     6:    Energy =   0.0165
Level     2,  Iter     7:    Energy =   0.0169
Level     2,  Iter     8:    Energy =   0.0173
Level     2,  Iter     9:    Energy =   0.0176
Level     2,  Iter    10:    Energy =   0.0178
Level     2,  Iter    11:    Energy =   0.0180
Level     2,  Iter    12:    Energy =   0.0182
Level     2,  Iter    13:    Energy =   0.0183
Level     2,  Iter    14:    Energy =   0.0185
Level     2,  Iter    15:    Energy =   0.0185
Level     2,  Iter    16:    Energy =   0.0186
Level     2,  Iter    17:    Energy =   0.0187
Level     2,  Iter    18:    Energy =   0.0188
Level     2,  Iter    19:    Energy =   0.0188
END OF LEVEL     2    DetJac Range:   0.0063  to   2.7810 
  Avg. Gradient Time  : 0.1844s  31.55% 
  Avg. Gaussian Time  : 0.3198s  54.71% 
  Avg. Iteration Time : 0.5846s 

real	0m20.856s
user	0m36.196s
sys	0m2.460s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.341429 0.345714
+ echo 'CHUNK 0.341429 0.345714 1'
CHUNK 0.341429 0.345714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.341429 0.345714 1
====================================
         PROGRESS: 0.341429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 034
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left 034 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=left
+ local tid=034
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 034 left 0
+ local tid=034
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.501
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 414.711   GNORM= 157.821
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -254.601      43.139       0.032
   2    4      -320.039      60.847       1.000
   3    7      -508.319     170.518       0.259
   4    9      -518.114     181.118       0.076
   5   11      -538.413     159.866       0.164
   6   14      -649.234      61.312       2.214
   7   15      -674.348      38.157       1.000
   8   16      -682.185      50.971       1.000
   9   20      -710.728     118.687       1.354
  10   21      -732.586      35.319       1.000
  11   22      -736.218      27.912       1.000
  12   23      -741.272      26.589       1.000
  13   24      -745.841      29.914       1.000
  14   25      -778.176      30.209       1.000
  15   28      -923.801      27.000       2.184
  16   31      -942.348      51.354       0.039
  17   32      -951.896      45.685       1.000
  18   34      -955.272      41.272       0.258
  19   35      -963.486      71.824       1.000
  20   36      -969.822      32.743       1.000
  21   38      -971.228      30.077       0.413
  22   40      -973.768      15.327       0.080
  23   41      -976.112      15.087       1.000
  24   42      -981.562      16.791       1.000
  25   43      -990.399      98.863       1.000
  26   44     -1001.092      30.913       1.000
  27   47     -1001.220     160.821       0.037
  28   50     -1003.948     158.468       0.041
  29   52     -1006.709     142.835       0.444
  30   53     -1013.684      72.908       1.000
  31   54     -1018.363      65.730       1.000
  32   55     -1021.017      83.574       1.000
  33   56     -1029.811      35.856       1.000
  34   57     -1032.150      26.989       1.000
  35   58     -1033.081      27.545       1.000
  36   59     -1034.788      32.772       1.000
  37   60     -1039.737      27.623       1.000
  38   61     -1044.196      56.354       1.000
Final RAS Transform: 
0.877152 0.0471429 0.364401 -8.80496 
0.261572 1.33631 0.188 6.63677 
-0.170796 -0.187074 0.492421 -14.3399 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -621.601   GNORM= 63.8925
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    8      -629.189      51.373       0.003
   2   10      -630.779      40.656       0.288
   3   16      -631.566      57.533       0.866
   4   17      -633.874     113.454       1.000
   5   25      -634.624      40.093       0.006
   6   29      -634.696      50.321       0.000
   7   42      -635.031      17.599       1.000
Final RAS Transform: 
0.876928 0.049117 0.366024 -8.8035 
0.260261 1.33745 0.187014 6.80098 
-0.172965 -0.185261 0.49055 -14.1603 
0 0 0 1 

Final RAS Transform: 
0.876928 0.049117 0.366024 -8.8035 
0.260261 1.33745 0.187014 6.80098 
-0.172965 -0.185261 0.49055 -14.1603 
0 0 0 1 


real	0m6.138s
user	0m10.260s
sys	0m0.724s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.126, moving = 0.354769
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0235
Level     0,  Iter     1:    Energy =   0.0252
Level     0,  Iter     2:    Energy =   0.0269
Level     0,  Iter     3:    Energy =   0.0289
Level     0,  Iter     4:    Energy =   0.0308
Level     0,  Iter     5:    Energy =   0.0327
Level     0,  Iter     6:    Energy =   0.0344
Level     0,  Iter     7:    Energy =   0.0356
Level     0,  Iter     8:    Energy =   0.0366
Level     0,  Iter     9:    Energy =   0.0375
Level     0,  Iter    10:    Energy =   0.0384
Level     0,  Iter    11:    Energy =   0.0390
Level     0,  Iter    12:    Energy =   0.0394
Level     0,  Iter    13:    Energy =   0.0398
Level     0,  Iter    14:    Energy =   0.0401
Level     0,  Iter    15:    Energy =   0.0405
Level     0,  Iter    16:    Energy =   0.0407
Level     0,  Iter    17:    Energy =   0.0410
Level     0,  Iter    18:    Energy =   0.0413
Level     0,  Iter    19:    Energy =   0.0416
Level     0,  Iter    20:    Energy =   0.0420
Level     0,  Iter    21:    Energy =   0.0424
Level     0,  Iter    22:    Energy =   0.0429
Level     0,  Iter    23:    Energy =   0.0434
Level     0,  Iter    24:    Energy =   0.0438
Level     0,  Iter    25:    Energy =   0.0442
Level     0,  Iter    26:    Energy =   0.0446
Level     0,  Iter    27:    Energy =   0.0449
Level     0,  Iter    28:    Energy =   0.0452
Level     0,  Iter    29:    Energy =   0.0454
Level     0,  Iter    30:    Energy =   0.0455
Level     0,  Iter    31:    Energy =   0.0456
Level     0,  Iter    32:    Energy =   0.0458
Level     0,  Iter    33:    Energy =   0.0458
Level     0,  Iter    34:    Energy =   0.0459
Level     0,  Iter    35:    Energy =   0.0460
Level     0,  Iter    36:    Energy =   0.0460
Level     0,  Iter    37:    Energy =   0.0460
Level     0,  Iter    38:    Energy =   0.0460
Level     0,  Iter    39:    Energy =   0.0460
Level     0,  Iter    40:    Energy =   0.0461
Level     0,  Iter    41:    Energy =   0.0461
Level     0,  Iter    42:    Energy =   0.0461
Level     0,  Iter    43:    Energy =   0.0461
Level     0,  Iter    44:    Energy =   0.0461
Level     0,  Iter    45:    Energy =   0.0461
Level     0,  Iter    46:    Energy =   0.0461
Level     0,  Iter    47:    Energy =   0.0462
Level     0,  Iter    48:    Energy =   0.0462
Level     0,  Iter    49:    Energy =   0.0462
Level     0,  Iter    50:    Energy =   0.0462
Level     0,  Iter    51:    Energy =   0.0463
Level     0,  Iter    52:    Energy =   0.0463
Level     0,  Iter    53:    Energy =   0.0463
Level     0,  Iter    54:    Energy =   0.0463
Level     0,  Iter    55:    Energy =   0.0463
Level     0,  Iter    56:    Energy =   0.0463
Level     0,  Iter    57:    Energy =   0.0463
Level     0,  Iter    58:    Energy =   0.0464
Level     0,  Iter    59:    Energy =   0.0465
END OF LEVEL     0    DetJac Range:   0.0492  to   2.5477 
  Avg. Gradient Time  : 0.0069s  33.08% 
  Avg. Gaussian Time  : 0.0101s  48.29% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0285
Level     1,  Iter     1:    Energy =   0.0292
Level     1,  Iter     2:    Energy =   0.0296
Level     1,  Iter     3:    Energy =   0.0300
Level     1,  Iter     4:    Energy =   0.0304
Level     1,  Iter     5:    Energy =   0.0309
Level     1,  Iter     6:    Energy =   0.0313
Level     1,  Iter     7:    Energy =   0.0320
Level     1,  Iter     8:    Energy =   0.0327
Level     1,  Iter     9:    Energy =   0.0333
Level     1,  Iter    10:    Energy =   0.0339
Level     1,  Iter    11:    Energy =   0.0344
Level     1,  Iter    12:    Energy =   0.0349
Level     1,  Iter    13:    Energy =   0.0354
Level     1,  Iter    14:    Energy =   0.0360
Level     1,  Iter    15:    Energy =   0.0364
Level     1,  Iter    16:    Energy =   0.0369
Level     1,  Iter    17:    Energy =   0.0373
Level     1,  Iter    18:    Energy =   0.0377
Level     1,  Iter    19:    Energy =   0.0380
Level     1,  Iter    20:    Energy =   0.0382
Level     1,  Iter    21:    Energy =   0.0385
Level     1,  Iter    22:    Energy =   0.0387
Level     1,  Iter    23:    Energy =   0.0389
Level     1,  Iter    24:    Energy =   0.0391
Level     1,  Iter    25:    Energy =   0.0393
Level     1,  Iter    26:    Energy =   0.0394
Level     1,  Iter    27:    Energy =   0.0395
Level     1,  Iter    28:    Energy =   0.0397
Level     1,  Iter    29:    Energy =   0.0397
Level     1,  Iter    30:    Energy =   0.0398
Level     1,  Iter    31:    Energy =   0.0399
Level     1,  Iter    32:    Energy =   0.0400
Level     1,  Iter    33:    Energy =   0.0401
Level     1,  Iter    34:    Energy =   0.0402
Level     1,  Iter    35:    Energy =   0.0403
Level     1,  Iter    36:    Energy =   0.0404
Level     1,  Iter    37:    Energy =   0.0405
Level     1,  Iter    38:    Energy =   0.0406
Level     1,  Iter    39:    Energy =   0.0406
Level     1,  Iter    40:    Energy =   0.0407
Level     1,  Iter    41:    Energy =   0.0408
Level     1,  Iter    42:    Energy =   0.0409
Level     1,  Iter    43:    Energy =   0.0409
Level     1,  Iter    44:    Energy =   0.0410
Level     1,  Iter    45:    Energy =   0.0410
Level     1,  Iter    46:    Energy =   0.0410
Level     1,  Iter    47:    Energy =   0.0411
Level     1,  Iter    48:    Energy =   0.0411
Level     1,  Iter    49:    Energy =   0.0411
Level     1,  Iter    50:    Energy =   0.0412
Level     1,  Iter    51:    Energy =   0.0412
Level     1,  Iter    52:    Energy =   0.0412
Level     1,  Iter    53:    Energy =   0.0412
Level     1,  Iter    54:    Energy =   0.0412
Level     1,  Iter    55:    Energy =   0.0413
Level     1,  Iter    56:    Energy =   0.0413
Level     1,  Iter    57:    Energy =   0.0413
Level     1,  Iter    58:    Energy =   0.0413
Level     1,  Iter    59:    Energy =   0.0414
END OF LEVEL     1    DetJac Range:   0.0184  to   2.6348 
  Avg. Gradient Time  : 0.0281s  33.24% 
  Avg. Gaussian Time  : 0.0446s  52.74% 
  Avg. Iteration Time : 0.0846s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0173
Level     2,  Iter     1:    Energy =   0.0179
Level     2,  Iter     2:    Energy =   0.0184
Level     2,  Iter     3:    Energy =   0.0189
Level     2,  Iter     4:    Energy =   0.0193
Level     2,  Iter     5:    Energy =   0.0198
Level     2,  Iter     6:    Energy =   0.0202
Level     2,  Iter     7:    Energy =   0.0205
Level     2,  Iter     8:    Energy =   0.0208
Level     2,  Iter     9:    Energy =   0.0210
Level     2,  Iter    10:    Energy =   0.0213
Level     2,  Iter    11:    Energy =   0.0215
Level     2,  Iter    12:    Energy =   0.0216
Level     2,  Iter    13:    Energy =   0.0218
Level     2,  Iter    14:    Energy =   0.0219
Level     2,  Iter    15:    Energy =   0.0221
Level     2,  Iter    16:    Energy =   0.0222
Level     2,  Iter    17:    Energy =   0.0222
Level     2,  Iter    18:    Energy =   0.0223
Level     2,  Iter    19:    Energy =   0.0223
END OF LEVEL     2    DetJac Range:   0.0255  to   2.9248 
  Avg. Gradient Time  : 0.1880s  32.07% 
  Avg. Gaussian Time  : 0.3179s  54.24% 
  Avg. Iteration Time : 0.5862s 

real	0m20.875s
user	0m36.424s
sys	0m2.276s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.345714 0.35
+ echo 'CHUNK 0.345714 0.35 1'
CHUNK 0.345714 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.345714 0.35 1
====================================
         PROGRESS: 0.345714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.57
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 368.862   GNORM= 215.166
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       164.160     186.599       0.005
   2    3      -362.843     126.512       1.000
   3    4      -556.740      96.699       1.000
   4    6      -589.050      52.321       0.365
   5    8      -607.528      82.285       0.426
   6   13      -677.607      38.371       1.262
   7   14      -704.351      31.660       1.000
   8   17      -902.396      69.450       3.256
   9   18      -994.924      75.330       1.000
  10   19     -1000.342      26.120       1.000
  11   28     -1009.409      54.379       1.456
  12   31     -1009.624     115.328       0.032
  13   37     -1010.200      29.541       0.000
  14   38     -1011.198      32.920       1.000
  15   41     -1021.848     118.112       1.811
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.781508 0.212805 -0.141475 3.89647 
0.187864 0.946951 0.0615113 8.58815 
-0.328845 -0.0688023 1.21976 -3.94818 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -467.652   GNORM= 76.6212
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -513.001      67.645       0.013
   2    3      -514.644      34.390       1.000
   3    4      -518.116      37.522       1.000
   4    8      -519.115     124.356       0.331
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.78537 0.217285 -0.145168 4.93957 
0.187521 0.947254 0.0720207 8.4433 
-0.33377 -0.079599 1.23104 -5.321 
0 0 0 1 

Final RAS Transform: 
0.78537 0.217285 -0.145168 4.93957 
0.187521 0.947254 0.0720207 8.4433 
-0.33377 -0.079599 1.23104 -5.321 
0 0 0 1 


real	0m4.070s
user	0m6.400s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.374492
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0247
Level     0,  Iter     1:    Energy =   0.0268
Level     0,  Iter     2:    Energy =   0.0285
Level     0,  Iter     3:    Energy =   0.0302
Level     0,  Iter     4:    Energy =   0.0315
Level     0,  Iter     5:    Energy =   0.0329
Level     0,  Iter     6:    Energy =   0.0337
Level     0,  Iter     7:    Energy =   0.0341
Level     0,  Iter     8:    Energy =   0.0343
Level     0,  Iter     9:    Energy =   0.0348
Level     0,  Iter    10:    Energy =   0.0354
Level     0,  Iter    11:    Energy =   0.0360
Level     0,  Iter    12:    Energy =   0.0363
Level     0,  Iter    13:    Energy =   0.0367
Level     0,  Iter    14:    Energy =   0.0369
Level     0,  Iter    15:    Energy =   0.0371
Level     0,  Iter    16:    Energy =   0.0375
Level     0,  Iter    17:    Energy =   0.0377
Level     0,  Iter    18:    Energy =   0.0382
Level     0,  Iter    19:    Energy =   0.0383
Level     0,  Iter    20:    Energy =   0.0387
Level     0,  Iter    21:    Energy =   0.0388
Level     0,  Iter    22:    Energy =   0.0389
Level     0,  Iter    23:    Energy =   0.0389
Level     0,  Iter    24:    Energy =   0.0391
Level     0,  Iter    25:    Energy =   0.0392
Level     0,  Iter    26:    Energy =   0.0392
Level     0,  Iter    27:    Energy =   0.0393
Level     0,  Iter    28:    Energy =   0.0393
Level     0,  Iter    29:    Energy =   0.0394
Level     0,  Iter    30:    Energy =   0.0394
Level     0,  Iter    31:    Energy =   0.0394
Level     0,  Iter    32:    Energy =   0.0394
Level     0,  Iter    33:    Energy =   0.0395
Level     0,  Iter    34:    Energy =   0.0394
Level     0,  Iter    35:    Energy =   0.0397
Level     0,  Iter    36:    Energy =   0.0395
Level     0,  Iter    37:    Energy =   0.0398
Level     0,  Iter    38:    Energy =   0.0398
Level     0,  Iter    39:    Energy =   0.0398
Level     0,  Iter    40:    Energy =   0.0399
Level     0,  Iter    41:    Energy =   0.0399
Level     0,  Iter    42:    Energy =   0.0399
Level     0,  Iter    43:    Energy =   0.0399
Level     0,  Iter    44:    Energy =   0.0399
Level     0,  Iter    45:    Energy =   0.0397
Level     0,  Iter    46:    Energy =   0.0398
Level     0,  Iter    47:    Energy =   0.0400
Level     0,  Iter    48:    Energy =   0.0399
Level     0,  Iter    49:    Energy =   0.0397
Level     0,  Iter    50:    Energy =   0.0399
Level     0,  Iter    51:    Energy =   0.0401
Level     0,  Iter    52:    Energy =   0.0399
Level     0,  Iter    53:    Energy =   0.0397
Level     0,  Iter    54:    Energy =   0.0398
Level     0,  Iter    55:    Energy =   0.0400
Level     0,  Iter    56:    Energy =   0.0400
Level     0,  Iter    57:    Energy =   0.0398
Level     0,  Iter    58:    Energy =   0.0400
Level     0,  Iter    59:    Energy =   0.0402
END OF LEVEL     0    DetJac Range:   0.1027  to   2.4342 
  Avg. Gradient Time  : 0.0069s  33.44% 
  Avg. Gaussian Time  : 0.0100s  48.55% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0235
Level     1,  Iter     1:    Energy =   0.0254
Level     1,  Iter     2:    Energy =   0.0268
Level     1,  Iter     3:    Energy =   0.0282
Level     1,  Iter     4:    Energy =   0.0293
Level     1,  Iter     5:    Energy =   0.0300
Level     1,  Iter     6:    Energy =   0.0306
Level     1,  Iter     7:    Energy =   0.0311
Level     1,  Iter     8:    Energy =   0.0316
Level     1,  Iter     9:    Energy =   0.0321
Level     1,  Iter    10:    Energy =   0.0326
Level     1,  Iter    11:    Energy =   0.0330
Level     1,  Iter    12:    Energy =   0.0334
Level     1,  Iter    13:    Energy =   0.0337
Level     1,  Iter    14:    Energy =   0.0338
Level     1,  Iter    15:    Energy =   0.0339
Level     1,  Iter    16:    Energy =   0.0343
Level     1,  Iter    17:    Energy =   0.0346
Level     1,  Iter    18:    Energy =   0.0349
Level     1,  Iter    19:    Energy =   0.0351
Level     1,  Iter    20:    Energy =   0.0354
Level     1,  Iter    21:    Energy =   0.0355
Level     1,  Iter    22:    Energy =   0.0357
Level     1,  Iter    23:    Energy =   0.0358
Level     1,  Iter    24:    Energy =   0.0360
Level     1,  Iter    25:    Energy =   0.0361
Level     1,  Iter    26:    Energy =   0.0362
Level     1,  Iter    27:    Energy =   0.0364
Level     1,  Iter    28:    Energy =   0.0365
Level     1,  Iter    29:    Energy =   0.0367
Level     1,  Iter    30:    Energy =   0.0368
Level     1,  Iter    31:    Energy =   0.0369
Level     1,  Iter    32:    Energy =   0.0370
Level     1,  Iter    33:    Energy =   0.0371
Level     1,  Iter    34:    Energy =   0.0372
Level     1,  Iter    35:    Energy =   0.0373
Level     1,  Iter    36:    Energy =   0.0373
Level     1,  Iter    37:    Energy =   0.0374
Level     1,  Iter    38:    Energy =   0.0375
Level     1,  Iter    39:    Energy =   0.0375
Level     1,  Iter    40:    Energy =   0.0376
Level     1,  Iter    41:    Energy =   0.0377
Level     1,  Iter    42:    Energy =   0.0377
Level     1,  Iter    43:    Energy =   0.0378
Level     1,  Iter    44:    Energy =   0.0379
Level     1,  Iter    45:    Energy =   0.0379
Level     1,  Iter    46:    Energy =   0.0380
Level     1,  Iter    47:    Energy =   0.0380
Level     1,  Iter    48:    Energy =   0.0381
Level     1,  Iter    49:    Energy =   0.0382
Level     1,  Iter    50:    Energy =   0.0382
Level     1,  Iter    51:    Energy =   0.0383
Level     1,  Iter    52:    Energy =   0.0383
Level     1,  Iter    53:    Energy =   0.0384
Level     1,  Iter    54:    Energy =   0.0384
Level     1,  Iter    55:    Energy =   0.0384
Level     1,  Iter    56:    Energy =   0.0384
Level     1,  Iter    57:    Energy =   0.0383
Level     1,  Iter    58:    Energy =   0.0384
Level     1,  Iter    59:    Energy =   0.0384
END OF LEVEL     1    DetJac Range:   0.0207  to   3.4923 
  Avg. Gradient Time  : 0.0292s  34.43% 
  Avg. Gaussian Time  : 0.0438s  51.69% 
  Avg. Iteration Time : 0.0847s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0174
Level     2,  Iter     1:    Energy =   0.0183
Level     2,  Iter     2:    Energy =   0.0191
Level     2,  Iter     3:    Energy =   0.0197
Level     2,  Iter     4:    Energy =   0.0202
Level     2,  Iter     5:    Energy =   0.0206
Level     2,  Iter     6:    Energy =   0.0210
Level     2,  Iter     7:    Energy =   0.0214
Level     2,  Iter     8:    Energy =   0.0216
Level     2,  Iter     9:    Energy =   0.0218
Level     2,  Iter    10:    Energy =   0.0222
Level     2,  Iter    11:    Energy =   0.0226
Level     2,  Iter    12:    Energy =   0.0229
Level     2,  Iter    13:    Energy =   0.0231
Level     2,  Iter    14:    Energy =   0.0233
Level     2,  Iter    15:    Energy =   0.0235
Level     2,  Iter    16:    Energy =   0.0238
Level     2,  Iter    17:    Energy =   0.0240
Level     2,  Iter    18:    Energy =   0.0243
Level     2,  Iter    19:    Energy =   0.0245
END OF LEVEL     2    DetJac Range:   0.0242  to   3.3018 
  Avg. Gradient Time  : 0.1931s  32.85% 
  Avg. Gaussian Time  : 0.3158s  53.73% 
  Avg. Iteration Time : 0.5878s 

real	0m20.916s
user	0m36.436s
sys	0m2.240s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.354286
+ echo 'CHUNK 0.35 0.354286 1'
CHUNK 0.35 0.354286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.354286 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.603
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 409.953   GNORM= 304.912
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       128.841     229.904       0.003
   2    3      -240.626     164.000       1.000
   3    4      -423.839     122.792       1.000
   4    5      -546.456      83.321       1.000
   5    9      -620.951     111.234       0.276
   6   10      -651.067     125.496       1.000
   7   15      -658.663      41.237       0.007
   8   16      -664.368      35.157       1.000
   9   17      -670.624      77.846       1.000
  10   18      -691.452      47.311       1.000
  11   19      -745.125      61.953       1.000
  12   20     -1074.938      58.032       1.000
  13   22     -1101.795    2433.946       0.169
  14   26     -1103.979     159.599       0.015
  15   33     -1103.998     128.396       0.000
  16   34     -1115.646      66.676       1.000
  17   37     -1141.131      99.379       2.085
  18   38     -1188.976      65.901       1.000
  19   40     -1200.746      44.609       0.418
  20   41     -1207.275      40.366       1.000
  21   42     -1210.839      24.556       1.000
  22   46     -1214.199      40.451       0.891
  23   47     -1216.978      58.267       1.000
  24   48     -1228.486      41.960       1.000
  25   49     -1237.003      48.352       1.000
  26   51     -1289.119      80.072       5.000
  27   53     -1300.390     103.060       0.075
  28   58     -1306.714     151.830       1.130
  29   60     -1337.387     142.721       0.369
Final RAS Transform: 
0.607941 0.395047 -0.088775 -0.328969 
0.217507 1.0132 0.474917 18.263 
-0.439302 -0.248393 0.682032 -4.45777 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -671.052   GNORM= 143.442
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -725.563      53.890       0.009
   2    9      -725.625      65.382       0.022
   3   10      -739.579      57.713       1.000
   4   17      -739.836      44.734       0.002
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.608926 0.39577 -0.0891197 -0.0680441 
0.220307 1.01574 0.470852 18.7164 
-0.4362 -0.245559 0.675837 -3.93727 
0 0 0 1 

Final RAS Transform: 
0.608926 0.39577 -0.0891197 -0.0680441 
0.220307 1.01574 0.470852 18.7164 
-0.4362 -0.245559 0.675837 -3.93727 
0 0 0 1 


real	0m4.686s
user	0m7.560s
sys	0m0.548s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.465564
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0342
Level     0,  Iter     1:    Energy =   0.0375
Level     0,  Iter     2:    Energy =   0.0404
Level     0,  Iter     3:    Energy =   0.0430
Level     0,  Iter     4:    Energy =   0.0454
Level     0,  Iter     5:    Energy =   0.0475
Level     0,  Iter     6:    Energy =   0.0490
Level     0,  Iter     7:    Energy =   0.0501
Level     0,  Iter     8:    Energy =   0.0507
Level     0,  Iter     9:    Energy =   0.0513
Level     0,  Iter    10:    Energy =   0.0519
Level     0,  Iter    11:    Energy =   0.0524
Level     0,  Iter    12:    Energy =   0.0528
Level     0,  Iter    13:    Energy =   0.0531
Level     0,  Iter    14:    Energy =   0.0533
Level     0,  Iter    15:    Energy =   0.0534
Level     0,  Iter    16:    Energy =   0.0535
Level     0,  Iter    17:    Energy =   0.0535
Level     0,  Iter    18:    Energy =   0.0536
Level     0,  Iter    19:    Energy =   0.0537
Level     0,  Iter    20:    Energy =   0.0538
Level     0,  Iter    21:    Energy =   0.0539
Level     0,  Iter    22:    Energy =   0.0541
Level     0,  Iter    23:    Energy =   0.0541
Level     0,  Iter    24:    Energy =   0.0543
Level     0,  Iter    25:    Energy =   0.0543
Level     0,  Iter    26:    Energy =   0.0545
Level     0,  Iter    27:    Energy =   0.0545
Level     0,  Iter    28:    Energy =   0.0547
Level     0,  Iter    29:    Energy =   0.0546
Level     0,  Iter    30:    Energy =   0.0548
Level     0,  Iter    31:    Energy =   0.0548
Level     0,  Iter    32:    Energy =   0.0548
Level     0,  Iter    33:    Energy =   0.0548
Level     0,  Iter    34:    Energy =   0.0549
Level     0,  Iter    35:    Energy =   0.0549
Level     0,  Iter    36:    Energy =   0.0550
Level     0,  Iter    37:    Energy =   0.0550
Level     0,  Iter    38:    Energy =   0.0551
Level     0,  Iter    39:    Energy =   0.0550
Level     0,  Iter    40:    Energy =   0.0552
Level     0,  Iter    41:    Energy =   0.0552
Level     0,  Iter    42:    Energy =   0.0553
Level     0,  Iter    43:    Energy =   0.0553
Level     0,  Iter    44:    Energy =   0.0554
Level     0,  Iter    45:    Energy =   0.0554
Level     0,  Iter    46:    Energy =   0.0555
Level     0,  Iter    47:    Energy =   0.0555
Level     0,  Iter    48:    Energy =   0.0556
Level     0,  Iter    49:    Energy =   0.0555
Level     0,  Iter    50:    Energy =   0.0557
Level     0,  Iter    51:    Energy =   0.0556
Level     0,  Iter    52:    Energy =   0.0557
Level     0,  Iter    53:    Energy =   0.0557
Level     0,  Iter    54:    Energy =   0.0557
Level     0,  Iter    55:    Energy =   0.0557
Level     0,  Iter    56:    Energy =   0.0558
Level     0,  Iter    57:    Energy =   0.0558
Level     0,  Iter    58:    Energy =   0.0558
Level     0,  Iter    59:    Energy =   0.0558
END OF LEVEL     0    DetJac Range:   0.0312  to   2.2880 
  Avg. Gradient Time  : 0.0071s  33.24% 
  Avg. Gaussian Time  : 0.0103s  48.55% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0311
Level     1,  Iter     1:    Energy =   0.0322
Level     1,  Iter     2:    Energy =   0.0331
Level     1,  Iter     3:    Energy =   0.0339
Level     1,  Iter     4:    Energy =   0.0347
Level     1,  Iter     5:    Energy =   0.0354
Level     1,  Iter     6:    Energy =   0.0362
Level     1,  Iter     7:    Energy =   0.0371
Level     1,  Iter     8:    Energy =   0.0378
Level     1,  Iter     9:    Energy =   0.0384
Level     1,  Iter    10:    Energy =   0.0389
Level     1,  Iter    11:    Energy =   0.0394
Level     1,  Iter    12:    Energy =   0.0399
Level     1,  Iter    13:    Energy =   0.0403
Level     1,  Iter    14:    Energy =   0.0407
Level     1,  Iter    15:    Energy =   0.0411
Level     1,  Iter    16:    Energy =   0.0415
Level     1,  Iter    17:    Energy =   0.0419
Level     1,  Iter    18:    Energy =   0.0422
Level     1,  Iter    19:    Energy =   0.0426
Level     1,  Iter    20:    Energy =   0.0430
Level     1,  Iter    21:    Energy =   0.0433
Level     1,  Iter    22:    Energy =   0.0436
Level     1,  Iter    23:    Energy =   0.0439
Level     1,  Iter    24:    Energy =   0.0441
Level     1,  Iter    25:    Energy =   0.0443
Level     1,  Iter    26:    Energy =   0.0445
Level     1,  Iter    27:    Energy =   0.0448
Level     1,  Iter    28:    Energy =   0.0450
Level     1,  Iter    29:    Energy =   0.0452
Level     1,  Iter    30:    Energy =   0.0454
Level     1,  Iter    31:    Energy =   0.0456
Level     1,  Iter    32:    Energy =   0.0458
Level     1,  Iter    33:    Energy =   0.0459
Level     1,  Iter    34:    Energy =   0.0461
Level     1,  Iter    35:    Energy =   0.0463
Level     1,  Iter    36:    Energy =   0.0464
Level     1,  Iter    37:    Energy =   0.0465
Level     1,  Iter    38:    Energy =   0.0467
Level     1,  Iter    39:    Energy =   0.0468
Level     1,  Iter    40:    Energy =   0.0469
Level     1,  Iter    41:    Energy =   0.0470
Level     1,  Iter    42:    Energy =   0.0472
Level     1,  Iter    43:    Energy =   0.0473
Level     1,  Iter    44:    Energy =   0.0474
Level     1,  Iter    45:    Energy =   0.0475
Level     1,  Iter    46:    Energy =   0.0475
Level     1,  Iter    47:    Energy =   0.0476
Level     1,  Iter    48:    Energy =   0.0477
Level     1,  Iter    49:    Energy =   0.0478
Level     1,  Iter    50:    Energy =   0.0479
Level     1,  Iter    51:    Energy =   0.0480
Level     1,  Iter    52:    Energy =   0.0481
Level     1,  Iter    53:    Energy =   0.0482
Level     1,  Iter    54:    Energy =   0.0483
Level     1,  Iter    55:    Energy =   0.0484
Level     1,  Iter    56:    Energy =   0.0485
Level     1,  Iter    57:    Energy =   0.0486
Level     1,  Iter    58:    Energy =   0.0487
Level     1,  Iter    59:    Energy =   0.0487
END OF LEVEL     1    DetJac Range:   0.0206  to   3.1043 
  Avg. Gradient Time  : 0.0297s  34.78% 
  Avg. Gaussian Time  : 0.0439s  51.45% 
  Avg. Iteration Time : 0.0854s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0231
Level     2,  Iter     1:    Energy =   0.0239
Level     2,  Iter     2:    Energy =   0.0246
Level     2,  Iter     3:    Energy =   0.0254
Level     2,  Iter     4:    Energy =   0.0259
Level     2,  Iter     5:    Energy =   0.0263
Level     2,  Iter     6:    Energy =   0.0267
Level     2,  Iter     7:    Energy =   0.0271
Level     2,  Iter     8:    Energy =   0.0276
Level     2,  Iter     9:    Energy =   0.0281
Level     2,  Iter    10:    Energy =   0.0280
Level     2,  Iter    11:    Energy =   0.0287
Level     2,  Iter    12:    Energy =   0.0293
Level     2,  Iter    13:    Energy =   0.0299
Level     2,  Iter    14:    Energy =   0.0305
Level     2,  Iter    15:    Energy =   0.0309
Level     2,  Iter    16:    Energy =   0.0314
Level     2,  Iter    17:    Energy =   0.0308
Level     2,  Iter    18:    Energy =   0.0312
Level     2,  Iter    19:    Energy =   0.0316
END OF LEVEL     2    DetJac Range:   0.0153  to   3.9275 
  Avg. Gradient Time  : 0.1909s  32.70% 
  Avg. Gaussian Time  : 0.3149s  53.93% 
  Avg. Iteration Time : 0.5839s 

real	0m20.936s
user	0m36.460s
sys	0m2.212s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.354286 0.358571
+ echo 'CHUNK 0.354286 0.358571 1'
CHUNK 0.354286 0.358571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.354286 0.358571 1
====================================
         PROGRESS: 0.354286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 366.138   GNORM= 227.648
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       200.751     123.725       0.004
   2    3        74.649     139.561       1.000
   3    5      -377.212     107.532       5.000
   4    7      -566.530      68.405       0.296
   5    9      -573.479     137.926       0.153
   6   10      -629.793      85.816       1.000
   7   11      -633.449      41.168       1.000
   8   12      -662.145      29.586       1.000
   9   14      -671.665      83.119       0.099
  10   16      -672.804      37.393       0.100
  11   19      -676.454      33.358       0.850
  12   21      -678.587      26.775       0.060
  13   23      -691.063      36.189       0.275
  14   26      -696.213      28.785       3.000
  15   29      -707.281      26.169       2.187
  16   30      -713.140      19.985       1.000
  17   32      -714.980      89.001       0.072
  18   33      -723.089      22.006       1.000
  19   34      -725.045     114.354       1.000
  20   38      -725.099      19.765       0.280
  21   40      -726.004      41.733       0.298
  22   41      -726.751      17.361       1.000
  23   45      -727.355      23.041       0.393
  24   49      -727.748      36.746       0.009
Final RAS Transform: 
0.957832 -0.0448528 0.092052 2.87777 
0.14308 1.09589 -0.213559 7.88458 
-0.100637 -0.248117 1.10298 -5.73012 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -307.601   GNORM= 989.882
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.959392 -0.0428251 0.0908111 3.15429 
0.13829 1.09174 -0.211624 7.42491 
-0.0965374 -0.243333 1.09846 -5.17275 
0 0 0 1 

Final RAS Transform: 
0.959392 -0.0428251 0.0908111 3.15429 
0.13829 1.09174 -0.211624 7.42491 
-0.0965374 -0.243333 1.09846 -5.17275 
0 0 0 1 


real	0m3.649s
user	0m5.544s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.415951
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0168
Level     0,  Iter     1:    Energy =   0.0186
Level     0,  Iter     2:    Energy =   0.0212
Level     0,  Iter     3:    Energy =   0.0230
Level     0,  Iter     4:    Energy =   0.0243
Level     0,  Iter     5:    Energy =   0.0253
Level     0,  Iter     6:    Energy =   0.0262
Level     0,  Iter     7:    Energy =   0.0269
Level     0,  Iter     8:    Energy =   0.0275
Level     0,  Iter     9:    Energy =   0.0279
Level     0,  Iter    10:    Energy =   0.0282
Level     0,  Iter    11:    Energy =   0.0285
Level     0,  Iter    12:    Energy =   0.0287
Level     0,  Iter    13:    Energy =   0.0290
Level     0,  Iter    14:    Energy =   0.0291
Level     0,  Iter    15:    Energy =   0.0294
Level     0,  Iter    16:    Energy =   0.0296
Level     0,  Iter    17:    Energy =   0.0298
Level     0,  Iter    18:    Energy =   0.0299
Level     0,  Iter    19:    Energy =   0.0300
Level     0,  Iter    20:    Energy =   0.0301
Level     0,  Iter    21:    Energy =   0.0301
Level     0,  Iter    22:    Energy =   0.0301
Level     0,  Iter    23:    Energy =   0.0302
Level     0,  Iter    24:    Energy =   0.0302
Level     0,  Iter    25:    Energy =   0.0302
Level     0,  Iter    26:    Energy =   0.0303
Level     0,  Iter    27:    Energy =   0.0303
Level     0,  Iter    28:    Energy =   0.0303
Level     0,  Iter    29:    Energy =   0.0303
Level     0,  Iter    30:    Energy =   0.0303
Level     0,  Iter    31:    Energy =   0.0304
Level     0,  Iter    32:    Energy =   0.0304
Level     0,  Iter    33:    Energy =   0.0304
Level     0,  Iter    34:    Energy =   0.0304
Level     0,  Iter    35:    Energy =   0.0304
Level     0,  Iter    36:    Energy =   0.0305
Level     0,  Iter    37:    Energy =   0.0305
Level     0,  Iter    38:    Energy =   0.0305
Level     0,  Iter    39:    Energy =   0.0306
Level     0,  Iter    40:    Energy =   0.0307
Level     0,  Iter    41:    Energy =   0.0307
Level     0,  Iter    42:    Energy =   0.0308
Level     0,  Iter    43:    Energy =   0.0309
Level     0,  Iter    44:    Energy =   0.0309
Level     0,  Iter    45:    Energy =   0.0310
Level     0,  Iter    46:    Energy =   0.0310
Level     0,  Iter    47:    Energy =   0.0311
Level     0,  Iter    48:    Energy =   0.0311
Level     0,  Iter    49:    Energy =   0.0311
Level     0,  Iter    50:    Energy =   0.0311
Level     0,  Iter    51:    Energy =   0.0311
Level     0,  Iter    52:    Energy =   0.0311
Level     0,  Iter    53:    Energy =   0.0311
Level     0,  Iter    54:    Energy =   0.0311
Level     0,  Iter    55:    Energy =   0.0311
Level     0,  Iter    56:    Energy =   0.0311
Level     0,  Iter    57:    Energy =   0.0311
Level     0,  Iter    58:    Energy =   0.0312
Level     0,  Iter    59:    Energy =   0.0312
END OF LEVEL     0    DetJac Range:   0.0474  to   1.8572 
  Avg. Gradient Time  : 0.0069s  33.31% 
  Avg. Gaussian Time  : 0.0099s  48.30% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0180
Level     1,  Iter     1:    Energy =   0.0191
Level     1,  Iter     2:    Energy =   0.0205
Level     1,  Iter     3:    Energy =   0.0223
Level     1,  Iter     4:    Energy =   0.0236
Level     1,  Iter     5:    Energy =   0.0248
Level     1,  Iter     6:    Energy =   0.0257
Level     1,  Iter     7:    Energy =   0.0266
Level     1,  Iter     8:    Energy =   0.0274
Level     1,  Iter     9:    Energy =   0.0280
Level     1,  Iter    10:    Energy =   0.0285
Level     1,  Iter    11:    Energy =   0.0290
Level     1,  Iter    12:    Energy =   0.0294
Level     1,  Iter    13:    Energy =   0.0298
Level     1,  Iter    14:    Energy =   0.0303
Level     1,  Iter    15:    Energy =   0.0306
Level     1,  Iter    16:    Energy =   0.0310
Level     1,  Iter    17:    Energy =   0.0312
Level     1,  Iter    18:    Energy =   0.0315
Level     1,  Iter    19:    Energy =   0.0316
Level     1,  Iter    20:    Energy =   0.0318
Level     1,  Iter    21:    Energy =   0.0319
Level     1,  Iter    22:    Energy =   0.0321
Level     1,  Iter    23:    Energy =   0.0322
Level     1,  Iter    24:    Energy =   0.0323
Level     1,  Iter    25:    Energy =   0.0324
Level     1,  Iter    26:    Energy =   0.0324
Level     1,  Iter    27:    Energy =   0.0325
Level     1,  Iter    28:    Energy =   0.0326
Level     1,  Iter    29:    Energy =   0.0327
Level     1,  Iter    30:    Energy =   0.0327
Level     1,  Iter    31:    Energy =   0.0328
Level     1,  Iter    32:    Energy =   0.0329
Level     1,  Iter    33:    Energy =   0.0329
Level     1,  Iter    34:    Energy =   0.0330
Level     1,  Iter    35:    Energy =   0.0331
Level     1,  Iter    36:    Energy =   0.0332
Level     1,  Iter    37:    Energy =   0.0333
Level     1,  Iter    38:    Energy =   0.0333
Level     1,  Iter    39:    Energy =   0.0334
Level     1,  Iter    40:    Energy =   0.0335
Level     1,  Iter    41:    Energy =   0.0336
Level     1,  Iter    42:    Energy =   0.0337
Level     1,  Iter    43:    Energy =   0.0338
Level     1,  Iter    44:    Energy =   0.0339
Level     1,  Iter    45:    Energy =   0.0339
Level     1,  Iter    46:    Energy =   0.0340
Level     1,  Iter    47:    Energy =   0.0341
Level     1,  Iter    48:    Energy =   0.0342
Level     1,  Iter    49:    Energy =   0.0342
Level     1,  Iter    50:    Energy =   0.0343
Level     1,  Iter    51:    Energy =   0.0343
Level     1,  Iter    52:    Energy =   0.0343
Level     1,  Iter    53:    Energy =   0.0344
Level     1,  Iter    54:    Energy =   0.0344
Level     1,  Iter    55:    Energy =   0.0344
Level     1,  Iter    56:    Energy =   0.0345
Level     1,  Iter    57:    Energy =   0.0345
Level     1,  Iter    58:    Energy =   0.0345
Level     1,  Iter    59:    Energy =   0.0346
END OF LEVEL     1    DetJac Range:   0.0176  to   2.9227 
  Avg. Gradient Time  : 0.0293s  34.41% 
  Avg. Gaussian Time  : 0.0440s  51.72% 
  Avg. Iteration Time : 0.0851s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0157
Level     2,  Iter     1:    Energy =   0.0167
Level     2,  Iter     2:    Energy =   0.0174
Level     2,  Iter     3:    Energy =   0.0180
Level     2,  Iter     4:    Energy =   0.0186
Level     2,  Iter     5:    Energy =   0.0192
Level     2,  Iter     6:    Energy =   0.0197
Level     2,  Iter     7:    Energy =   0.0202
Level     2,  Iter     8:    Energy =   0.0206
Level     2,  Iter     9:    Energy =   0.0211
Level     2,  Iter    10:    Energy =   0.0215
Level     2,  Iter    11:    Energy =   0.0217
Level     2,  Iter    12:    Energy =   0.0218
Level     2,  Iter    13:    Energy =   0.0220
Level     2,  Iter    14:    Energy =   0.0222
Level     2,  Iter    15:    Energy =   0.0223
Level     2,  Iter    16:    Energy =   0.0224
Level     2,  Iter    17:    Energy =   0.0225
Level     2,  Iter    18:    Energy =   0.0225
Level     2,  Iter    19:    Energy =   0.0225
END OF LEVEL     2    DetJac Range:   0.0096  to   3.3193 
  Avg. Gradient Time  : 0.1938s  33.08% 
  Avg. Gaussian Time  : 0.3140s  53.60% 
  Avg. Iteration Time : 0.5859s 

real	0m20.850s
user	0m36.260s
sys	0m2.308s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.358571 0.362857
+ echo 'CHUNK 0.358571 0.362857 1'
CHUNK 0.358571 0.362857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.358571 0.362857 1
====================================
         PROGRESS: 0.358571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.673
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 456.938   GNORM= 318.694
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       193.384     212.660       0.003
   2    3      -213.364     100.362       1.000
   3    4      -395.720     137.198       1.000
   4    5      -516.509     151.037       1.000
   5    6      -582.513     109.553       1.000
   6    9      -603.059      82.139       2.375
   7   15      -647.831     238.651       0.989
   8   18      -712.405      52.046       0.349
   9   22      -712.908     567.280       0.179
  10   33      -716.964     526.794       0.000
  11   38      -717.276     518.888       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00323 0.0258069 -0.050507 1.39588 
0.118171 1.06663 -0.182666 5.07516 
-0.122948 -0.126505 0.998964 -6.02537 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -313.246   GNORM= 5818.03
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00311 0.0256621 -0.0501708 1.37573 
0.118165 1.06674 -0.1827 5.083 
-0.122573 -0.125896 0.998124 -5.96424 
0 0 0 1 

Final RAS Transform: 
1.00311 0.0256621 -0.0501708 1.37573 
0.118165 1.06674 -0.1827 5.083 
-0.122573 -0.125896 0.998124 -5.96424 
0 0 0 1 


real	0m3.671s
user	0m5.584s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.480817
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0169
Level     0,  Iter     1:    Energy =   0.0190
Level     0,  Iter     2:    Energy =   0.0215
Level     0,  Iter     3:    Energy =   0.0240
Level     0,  Iter     4:    Energy =   0.0263
Level     0,  Iter     5:    Energy =   0.0283
Level     0,  Iter     6:    Energy =   0.0297
Level     0,  Iter     7:    Energy =   0.0309
Level     0,  Iter     8:    Energy =   0.0324
Level     0,  Iter     9:    Energy =   0.0340
Level     0,  Iter    10:    Energy =   0.0352
Level     0,  Iter    11:    Energy =   0.0361
Level     0,  Iter    12:    Energy =   0.0368
Level     0,  Iter    13:    Energy =   0.0375
Level     0,  Iter    14:    Energy =   0.0381
Level     0,  Iter    15:    Energy =   0.0386
Level     0,  Iter    16:    Energy =   0.0391
Level     0,  Iter    17:    Energy =   0.0394
Level     0,  Iter    18:    Energy =   0.0398
Level     0,  Iter    19:    Energy =   0.0401
Level     0,  Iter    20:    Energy =   0.0405
Level     0,  Iter    21:    Energy =   0.0409
Level     0,  Iter    22:    Energy =   0.0412
Level     0,  Iter    23:    Energy =   0.0415
Level     0,  Iter    24:    Energy =   0.0418
Level     0,  Iter    25:    Energy =   0.0421
Level     0,  Iter    26:    Energy =   0.0424
Level     0,  Iter    27:    Energy =   0.0428
Level     0,  Iter    28:    Energy =   0.0432
Level     0,  Iter    29:    Energy =   0.0436
Level     0,  Iter    30:    Energy =   0.0440
Level     0,  Iter    31:    Energy =   0.0444
Level     0,  Iter    32:    Energy =   0.0447
Level     0,  Iter    33:    Energy =   0.0450
Level     0,  Iter    34:    Energy =   0.0452
Level     0,  Iter    35:    Energy =   0.0455
Level     0,  Iter    36:    Energy =   0.0458
Level     0,  Iter    37:    Energy =   0.0460
Level     0,  Iter    38:    Energy =   0.0462
Level     0,  Iter    39:    Energy =   0.0464
Level     0,  Iter    40:    Energy =   0.0465
Level     0,  Iter    41:    Energy =   0.0467
Level     0,  Iter    42:    Energy =   0.0469
Level     0,  Iter    43:    Energy =   0.0470
Level     0,  Iter    44:    Energy =   0.0471
Level     0,  Iter    45:    Energy =   0.0471
Level     0,  Iter    46:    Energy =   0.0473
Level     0,  Iter    47:    Energy =   0.0474
Level     0,  Iter    48:    Energy =   0.0474
Level     0,  Iter    49:    Energy =   0.0474
Level     0,  Iter    50:    Energy =   0.0475
Level     0,  Iter    51:    Energy =   0.0476
Level     0,  Iter    52:    Energy =   0.0477
Level     0,  Iter    53:    Energy =   0.0478
Level     0,  Iter    54:    Energy =   0.0478
Level     0,  Iter    55:    Energy =   0.0479
Level     0,  Iter    56:    Energy =   0.0480
Level     0,  Iter    57:    Energy =   0.0480
Level     0,  Iter    58:    Energy =   0.0481
Level     0,  Iter    59:    Energy =   0.0482
END OF LEVEL     0    DetJac Range:   0.0870  to   2.1607 
  Avg. Gradient Time  : 0.0068s  33.35% 
  Avg. Gaussian Time  : 0.0100s  48.51% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0293
Level     1,  Iter     1:    Energy =   0.0304
Level     1,  Iter     2:    Energy =   0.0314
Level     1,  Iter     3:    Energy =   0.0324
Level     1,  Iter     4:    Energy =   0.0333
Level     1,  Iter     5:    Energy =   0.0344
Level     1,  Iter     6:    Energy =   0.0353
Level     1,  Iter     7:    Energy =   0.0363
Level     1,  Iter     8:    Energy =   0.0371
Level     1,  Iter     9:    Energy =   0.0378
Level     1,  Iter    10:    Energy =   0.0385
Level     1,  Iter    11:    Energy =   0.0392
Level     1,  Iter    12:    Energy =   0.0400
Level     1,  Iter    13:    Energy =   0.0409
Level     1,  Iter    14:    Energy =   0.0417
Level     1,  Iter    15:    Energy =   0.0425
Level     1,  Iter    16:    Energy =   0.0432
Level     1,  Iter    17:    Energy =   0.0438
Level     1,  Iter    18:    Energy =   0.0444
Level     1,  Iter    19:    Energy =   0.0449
Level     1,  Iter    20:    Energy =   0.0452
Level     1,  Iter    21:    Energy =   0.0455
Level     1,  Iter    22:    Energy =   0.0459
Level     1,  Iter    23:    Energy =   0.0462
Level     1,  Iter    24:    Energy =   0.0465
Level     1,  Iter    25:    Energy =   0.0467
Level     1,  Iter    26:    Energy =   0.0470
Level     1,  Iter    27:    Energy =   0.0472
Level     1,  Iter    28:    Energy =   0.0473
Level     1,  Iter    29:    Energy =   0.0475
Level     1,  Iter    30:    Energy =   0.0476
Level     1,  Iter    31:    Energy =   0.0478
Level     1,  Iter    32:    Energy =   0.0479
Level     1,  Iter    33:    Energy =   0.0480
Level     1,  Iter    34:    Energy =   0.0481
Level     1,  Iter    35:    Energy =   0.0482
Level     1,  Iter    36:    Energy =   0.0482
Level     1,  Iter    37:    Energy =   0.0483
Level     1,  Iter    38:    Energy =   0.0484
Level     1,  Iter    39:    Energy =   0.0485
Level     1,  Iter    40:    Energy =   0.0487
Level     1,  Iter    41:    Energy =   0.0488
Level     1,  Iter    42:    Energy =   0.0489
Level     1,  Iter    43:    Energy =   0.0490
Level     1,  Iter    44:    Energy =   0.0491
Level     1,  Iter    45:    Energy =   0.0492
Level     1,  Iter    46:    Energy =   0.0493
Level     1,  Iter    47:    Energy =   0.0494
Level     1,  Iter    48:    Energy =   0.0494
Level     1,  Iter    49:    Energy =   0.0495
Level     1,  Iter    50:    Energy =   0.0495
Level     1,  Iter    51:    Energy =   0.0495
Level     1,  Iter    52:    Energy =   0.0496
Level     1,  Iter    53:    Energy =   0.0496
Level     1,  Iter    54:    Energy =   0.0496
Level     1,  Iter    55:    Energy =   0.0496
Level     1,  Iter    56:    Energy =   0.0496
Level     1,  Iter    57:    Energy =   0.0497
Level     1,  Iter    58:    Energy =   0.0497
Level     1,  Iter    59:    Energy =   0.0497
END OF LEVEL     1    DetJac Range:   0.0117  to   2.9883 
  Avg. Gradient Time  : 0.0290s  34.47% 
  Avg. Gaussian Time  : 0.0435s  51.71% 
  Avg. Iteration Time : 0.0842s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0241
Level     2,  Iter     1:    Energy =   0.0250
Level     2,  Iter     2:    Energy =   0.0258
big value: -2580.975828
big value: 1070.887958
Level     2,  Iter     3:    Energy =   0.0265
Level     2,  Iter     4:    Energy =   0.0260
Level     2,  Iter     5:    Energy =   0.0266
Level     2,  Iter     6:    Energy =   0.0272
Level     2,  Iter     7:    Energy =   0.0278
Level     2,  Iter     8:    Energy =   0.0285
Level     2,  Iter     9:    Energy =   0.0289
Level     2,  Iter    10:    Energy =   0.0295
Level     2,  Iter    11:    Energy =   0.0300
Level     2,  Iter    12:    Energy =   0.0305
Level     2,  Iter    13:    Energy =   0.0308
Level     2,  Iter    14:    Energy =   0.0311
Level     2,  Iter    15:    Energy =   0.0313
Level     2,  Iter    16:    Energy =   0.0315
Level     2,  Iter    17:    Energy =   0.0316
Level     2,  Iter    18:    Energy =   0.0317
Level     2,  Iter    19:    Energy =   0.0318
END OF LEVEL     2    DetJac Range:   0.0109  to   2.8376 
  Avg. Gradient Time  : 0.1950s  33.24% 
  Avg. Gaussian Time  : 0.3139s  53.51% 
  Avg. Iteration Time : 0.5866s 

real	0m20.861s
user	0m36.268s
sys	0m2.320s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.362857 0.367143
+ echo 'CHUNK 0.362857 0.367143 1'
CHUNK 0.362857 0.367143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.362857 0.367143 1
====================================
         PROGRESS: 0.362857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.532
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 703.568   GNORM= 335.523
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       384.954     254.030       0.003
   2    3       158.109     146.736       1.000
   3    5      -330.946      87.751       5.000
   4    7      -365.387      78.278       0.273
   5    8      -404.626      61.074       1.000
   6   12      -448.035      35.725       0.906
   7   14      -490.416      30.898       5.000
   8   15      -555.736      34.348       1.000
   9   18      -622.341     112.703       0.905
  10   19      -727.287      39.150       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.773255 0.587572 0.0581931 0.069784 
0.465286 0.899408 0.041403 10.1721 
-0.618105 0.0974208 1.52728 -12.0969 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -343.539   GNORM= 120.843
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -373.164     197.291       0.041
   2   14      -387.877      81.105       0.096
   3   20      -393.255      58.397       1.018
   4   27      -437.768      40.935       5.041
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.771608 0.589181 0.0525894 0.302795 
0.470475 0.892725 0.042076 11.4626 
-0.609735 0.119074 1.50521 -8.35527 
0 0 0 1 

Final RAS Transform: 
0.771608 0.589181 0.0525894 0.302795 
0.470475 0.892725 0.042076 11.4626 
-0.609735 0.119074 1.50521 -8.35527 
0 0 0 1 


real	0m5.003s
user	0m8.156s
sys	0m0.572s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.330436
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0250
Level     0,  Iter     1:    Energy =   0.0278
Level     0,  Iter     2:    Energy =   0.0297
Level     0,  Iter     3:    Energy =   0.0312
Level     0,  Iter     4:    Energy =   0.0322
Level     0,  Iter     5:    Energy =   0.0328
Level     0,  Iter     6:    Energy =   0.0331
Level     0,  Iter     7:    Energy =   0.0333
Level     0,  Iter     8:    Energy =   0.0334
Level     0,  Iter     9:    Energy =   0.0335
Level     0,  Iter    10:    Energy =   0.0336
Level     0,  Iter    11:    Energy =   0.0336
Level     0,  Iter    12:    Energy =   0.0336
Level     0,  Iter    13:    Energy =   0.0336
Level     0,  Iter    14:    Energy =   0.0337
Level     0,  Iter    15:    Energy =   0.0337
Level     0,  Iter    16:    Energy =   0.0337
Level     0,  Iter    17:    Energy =   0.0337
Level     0,  Iter    18:    Energy =   0.0338
Level     0,  Iter    19:    Energy =   0.0338
Level     0,  Iter    20:    Energy =   0.0338
Level     0,  Iter    21:    Energy =   0.0339
Level     0,  Iter    22:    Energy =   0.0339
Level     0,  Iter    23:    Energy =   0.0340
Level     0,  Iter    24:    Energy =   0.0340
Level     0,  Iter    25:    Energy =   0.0341
Level     0,  Iter    26:    Energy =   0.0341
Level     0,  Iter    27:    Energy =   0.0342
Level     0,  Iter    28:    Energy =   0.0342
Level     0,  Iter    29:    Energy =   0.0342
Level     0,  Iter    30:    Energy =   0.0342
Level     0,  Iter    31:    Energy =   0.0342
Level     0,  Iter    32:    Energy =   0.0342
Level     0,  Iter    33:    Energy =   0.0342
Level     0,  Iter    34:    Energy =   0.0342
Level     0,  Iter    35:    Energy =   0.0342
Level     0,  Iter    36:    Energy =   0.0342
Level     0,  Iter    37:    Energy =   0.0342
Level     0,  Iter    38:    Energy =   0.0342
Level     0,  Iter    39:    Energy =   0.0342
Level     0,  Iter    40:    Energy =   0.0342
Level     0,  Iter    41:    Energy =   0.0343
Level     0,  Iter    42:    Energy =   0.0343
Level     0,  Iter    43:    Energy =   0.0344
Level     0,  Iter    44:    Energy =   0.0344
Level     0,  Iter    45:    Energy =   0.0345
Level     0,  Iter    46:    Energy =   0.0345
Level     0,  Iter    47:    Energy =   0.0345
Level     0,  Iter    48:    Energy =   0.0346
Level     0,  Iter    49:    Energy =   0.0346
Level     0,  Iter    50:    Energy =   0.0347
Level     0,  Iter    51:    Energy =   0.0347
Level     0,  Iter    52:    Energy =   0.0348
Level     0,  Iter    53:    Energy =   0.0348
Level     0,  Iter    54:    Energy =   0.0349
Level     0,  Iter    55:    Energy =   0.0349
Level     0,  Iter    56:    Energy =   0.0350
Level     0,  Iter    57:    Energy =   0.0350
Level     0,  Iter    58:    Energy =   0.0351
Level     0,  Iter    59:    Energy =   0.0351
END OF LEVEL     0    DetJac Range:   0.0409  to   2.1218 
  Avg. Gradient Time  : 0.0069s  33.32% 
  Avg. Gaussian Time  : 0.0102s  48.69% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0177
Level     1,  Iter     1:    Energy =   0.0186
Level     1,  Iter     2:    Energy =   0.0194
Level     1,  Iter     3:    Energy =   0.0201
Level     1,  Iter     4:    Energy =   0.0207
Level     1,  Iter     5:    Energy =   0.0212
Level     1,  Iter     6:    Energy =   0.0216
Level     1,  Iter     7:    Energy =   0.0220
Level     1,  Iter     8:    Energy =   0.0223
Level     1,  Iter     9:    Energy =   0.0226
Level     1,  Iter    10:    Energy =   0.0230
Level     1,  Iter    11:    Energy =   0.0233
Level     1,  Iter    12:    Energy =   0.0236
Level     1,  Iter    13:    Energy =   0.0238
Level     1,  Iter    14:    Energy =   0.0241
Level     1,  Iter    15:    Energy =   0.0239
Level     1,  Iter    16:    Energy =   0.0234
Level     1,  Iter    17:    Energy =   0.0237
Level     1,  Iter    18:    Energy =   0.0239
Level     1,  Iter    19:    Energy =   0.0241
Level     1,  Iter    20:    Energy =   0.0243
Level     1,  Iter    21:    Energy =   0.0245
Level     1,  Iter    22:    Energy =   0.0247
Level     1,  Iter    23:    Energy =   0.0248
Level     1,  Iter    24:    Energy =   0.0249
Level     1,  Iter    25:    Energy =   0.0250
Level     1,  Iter    26:    Energy =   0.0252
Level     1,  Iter    27:    Energy =   0.0252
Level     1,  Iter    28:    Energy =   0.0253
Level     1,  Iter    29:    Energy =   0.0254
Level     1,  Iter    30:    Energy =   0.0254
Level     1,  Iter    31:    Energy =   0.0254
Level     1,  Iter    32:    Energy =   0.0255
Level     1,  Iter    33:    Energy =   0.0255
Level     1,  Iter    34:    Energy =   0.0255
Level     1,  Iter    35:    Energy =   0.0255
Level     1,  Iter    36:    Energy =   0.0255
Level     1,  Iter    37:    Energy =   0.0255
Level     1,  Iter    38:    Energy =   0.0255
Level     1,  Iter    39:    Energy =   0.0255
Level     1,  Iter    40:    Energy =   0.0255
Level     1,  Iter    41:    Energy =   0.0255
Level     1,  Iter    42:    Energy =   0.0255
Level     1,  Iter    43:    Energy =   0.0255
Level     1,  Iter    44:    Energy =   0.0255
Level     1,  Iter    45:    Energy =   0.0255
Level     1,  Iter    46:    Energy =   0.0255
Level     1,  Iter    47:    Energy =   0.0255
Level     1,  Iter    48:    Energy =   0.0255
Level     1,  Iter    49:    Energy =   0.0255
Level     1,  Iter    50:    Energy =   0.0255
Level     1,  Iter    51:    Energy =   0.0255
Level     1,  Iter    52:    Energy =   0.0255
Level     1,  Iter    53:    Energy =   0.0255
Level     1,  Iter    54:    Energy =   0.0255
Level     1,  Iter    55:    Energy =   0.0255
Level     1,  Iter    56:    Energy =   0.0255
Level     1,  Iter    57:    Energy =   0.0256
Level     1,  Iter    58:    Energy =   0.0256
Level     1,  Iter    59:    Energy =   0.0256
END OF LEVEL     1    DetJac Range:   0.0153  to   1.9759 
  Avg. Gradient Time  : 0.0287s  34.78% 
  Avg. Gaussian Time  : 0.0423s  51.38% 
  Avg. Iteration Time : 0.0824s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0086
Level     2,  Iter     1:    Energy =   0.0091
big value: 552160.332561
big value: 3419516.492279
big value: 707395.734721
Level     2,  Iter     2:    Energy =   0.0094
Level     2,  Iter     3:    Energy =   0.0094
Level     2,  Iter     4:    Energy =   0.0098
Level     2,  Iter     5:    Energy =   0.0102
Level     2,  Iter     6:    Energy =   0.0106
Level     2,  Iter     7:    Energy =   0.0109
Level     2,  Iter     8:    Energy =   0.0112
Level     2,  Iter     9:    Energy =   0.0116
Level     2,  Iter    10:    Energy =   0.0118
Level     2,  Iter    11:    Energy =   0.0116
Level     2,  Iter    12:    Energy =   0.0115
Level     2,  Iter    13:    Energy =   0.0118
Level     2,  Iter    14:    Energy =   0.0117
Level     2,  Iter    15:    Energy =   0.0120
Level     2,  Iter    16:    Energy =   0.0122
Level     2,  Iter    17:    Energy =   0.0124
Level     2,  Iter    18:    Energy =   0.0125
Level     2,  Iter    19:    Energy =   0.0123
END OF LEVEL     2    DetJac Range:   0.0248  to   1.8159 
  Avg. Gradient Time  : 0.1863s  33.02% 
  Avg. Gaussian Time  : 0.3017s  53.48% 
  Avg. Iteration Time : 0.5642s 

real	0m20.209s
user	0m35.048s
sys	0m2.304s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367143 0.371429
+ echo 'CHUNK 0.367143 0.371429 1'
CHUNK 0.367143 0.371429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367143 0.371429 1
====================================
         PROGRESS: 0.367143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.62
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 319.982   GNORM= 278.73
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       105.850     151.091       0.004
   2    3       -80.926      95.661       1.000
   3    5      -570.768     121.194       5.000
   4    7      -651.376      71.828       0.221
   5    8      -748.394      63.824       1.000
   6   10      -783.160      61.601       0.130
   7   13      -822.958      65.409       0.751
   8   14      -849.408      66.001       1.000
   9   15     -1084.889      86.027       1.000
  10   16     -1180.079      24.360       1.000
  11   19     -1191.526      59.629       0.972
  12   21     -1218.879      86.449       0.158
  13   24     -1249.329      56.304       0.066
  14   25     -1260.164      35.634       1.000
  15   26     -1274.337      33.944       1.000
  16   29     -1305.023      88.558       1.687
  17   30     -1332.973      75.128       1.000
  18   31     -1346.210      62.009       1.000
  19   32     -1347.645      28.304       1.000
  20   33     -1357.044      41.525       1.000
  21   34     -1384.398      45.380       1.000
  22   36     -1410.849     109.246       0.059
  23   37     -1447.010      85.205       1.000
  24   38     -1496.095      70.830       1.000
  25   40     -1510.537     163.314       0.135
  26   41     -1514.058     139.742       1.000
  27   42     -1576.750      48.251       1.000
  28   43     -1593.961      42.373       1.000
  29   44     -1614.662      28.009       1.000
  30   45     -1642.190      47.941       1.000
  31   46     -1660.408      52.499       1.000
  32   47     -1665.822      24.330       1.000
  33   48     -1669.587      29.655       1.000
  34   49     -1683.858      62.312       1.000
  35   51     -1685.317      67.549       0.062
  36   52     -1705.724      42.113       1.000
  37   53     -1727.386      82.131       1.000
  38   54     -1743.706      34.530       1.000
  39   55     -1749.794      28.719       1.000
  40   56     -1753.057      18.321       1.000
  41   57     -1754.913      27.386       1.000
  42   58     -1757.060      19.060       1.000
  43   59     -1763.049      36.475       1.000
  44   60     -1771.679      24.978       1.000
Final RAS Transform: 
0.266828 1.05719 -0.0852136 -1.57463 
0.454471 0.658762 0.577944 18.5015 
-0.235733 -0.0221207 0.531897 -11.1523 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -973.491   GNORM= 131.166
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -978.695      47.735       0.003
   2    4      -983.396      34.886       1.000
   3    5      -990.094      24.309       1.000
   4    6      -994.481      31.238       1.000
   5    8     -1002.025      20.508       0.155
   6    9     -1003.004      57.719       1.000
   7   10     -1009.953      54.450       1.000
   8   11     -1017.591      29.817       1.000
   9   12     -1026.833      16.282       1.000
  10   13     -1033.436      34.874       1.000
  11   15     -1036.148      12.933       0.476
  12   18     -1036.932       7.754       1.056
  13   19     -1037.090      76.564       1.000
  14   24     -1037.310      33.106       0.008
  15   27     -1037.337      15.665       0.171
  16   28     -1039.289       9.341       1.000
  17   29     -1040.534      19.385       1.000
  18   30     -1043.545      26.296       1.000
  19   32     -1047.173      18.735       0.344
  20   33     -1049.599      17.426       1.000
  21   34     -1052.377      13.606       1.000
  22   36     -1052.565      14.249       0.413
  23   37     -1053.528      25.633       1.000
  24   39     -1053.622     241.406       0.200
  25   43     -1053.639      44.695       0.002
  26   50     -1053.683      31.407       0.000
  27   51     -1054.053      18.198       1.000
  28   53     -1054.278       8.965       0.246
  29   54     -1054.567       7.887       1.000
  30   57     -1054.608       7.646       0.015
  31   60     -1054.728      43.671       0.809
  32   61     -1054.761       5.331       1.000
Final RAS Transform: 
0.288546 1.03338 -0.0256489 0.30679 
0.429268 0.692026 0.594057 18.5506 
-0.301094 -0.0462427 0.588481 -8.90173 
0 0 0 1 

Final RAS Transform: 
0.288546 1.03338 -0.0256489 0.30679 
0.429268 0.692026 0.594057 18.5506 
-0.301094 -0.0462427 0.588481 -8.90173 
0 0 0 1 


real	0m5.994s
user	0m9.968s
sys	0m0.672s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.446314
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0416
Level     0,  Iter     1:    Energy =   0.0441
Level     0,  Iter     2:    Energy =   0.0465
Level     0,  Iter     3:    Energy =   0.0483
Level     0,  Iter     4:    Energy =   0.0500
Level     0,  Iter     5:    Energy =   0.0515
Level     0,  Iter     6:    Energy =   0.0525
Level     0,  Iter     7:    Energy =   0.0533
Level     0,  Iter     8:    Energy =   0.0539
Level     0,  Iter     9:    Energy =   0.0544
Level     0,  Iter    10:    Energy =   0.0549
Level     0,  Iter    11:    Energy =   0.0554
Level     0,  Iter    12:    Energy =   0.0558
Level     0,  Iter    13:    Energy =   0.0562
Level     0,  Iter    14:    Energy =   0.0565
Level     0,  Iter    15:    Energy =   0.0569
Level     0,  Iter    16:    Energy =   0.0572
Level     0,  Iter    17:    Energy =   0.0575
Level     0,  Iter    18:    Energy =   0.0578
Level     0,  Iter    19:    Energy =   0.0581
Level     0,  Iter    20:    Energy =   0.0583
Level     0,  Iter    21:    Energy =   0.0586
Level     0,  Iter    22:    Energy =   0.0588
Level     0,  Iter    23:    Energy =   0.0591
Level     0,  Iter    24:    Energy =   0.0594
Level     0,  Iter    25:    Energy =   0.0596
Level     0,  Iter    26:    Energy =   0.0598
Level     0,  Iter    27:    Energy =   0.0599
Level     0,  Iter    28:    Energy =   0.0602
Level     0,  Iter    29:    Energy =   0.0602
Level     0,  Iter    30:    Energy =   0.0603
Level     0,  Iter    31:    Energy =   0.0603
Level     0,  Iter    32:    Energy =   0.0605
Level     0,  Iter    33:    Energy =   0.0605
Level     0,  Iter    34:    Energy =   0.0606
Level     0,  Iter    35:    Energy =   0.0605
Level     0,  Iter    36:    Energy =   0.0606
Level     0,  Iter    37:    Energy =   0.0605
Level     0,  Iter    38:    Energy =   0.0605
Level     0,  Iter    39:    Energy =   0.0604
Level     0,  Iter    40:    Energy =   0.0605
Level     0,  Iter    41:    Energy =   0.0604
Level     0,  Iter    42:    Energy =   0.0605
Level     0,  Iter    43:    Energy =   0.0604
Level     0,  Iter    44:    Energy =   0.0605
Level     0,  Iter    45:    Energy =   0.0604
Level     0,  Iter    46:    Energy =   0.0605
Level     0,  Iter    47:    Energy =   0.0603
Level     0,  Iter    48:    Energy =   0.0605
Level     0,  Iter    49:    Energy =   0.0603
Level     0,  Iter    50:    Energy =   0.0604
Level     0,  Iter    51:    Energy =   0.0603
Level     0,  Iter    52:    Energy =   0.0604
Level     0,  Iter    53:    Energy =   0.0603
Level     0,  Iter    54:    Energy =   0.0604
Level     0,  Iter    55:    Energy =   0.0603
Level     0,  Iter    56:    Energy =   0.0605
Level     0,  Iter    57:    Energy =   0.0603
Level     0,  Iter    58:    Energy =   0.0605
Level     0,  Iter    59:    Energy =   0.0604
END OF LEVEL     0    DetJac Range:   0.0834  to   2.7549 
  Avg. Gradient Time  : 0.0066s  33.51% 
  Avg. Gaussian Time  : 0.0095s  48.28% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0396
Level     1,  Iter     1:    Energy =   0.0420
Level     1,  Iter     2:    Energy =   0.0442
Level     1,  Iter     3:    Energy =   0.0461
Level     1,  Iter     4:    Energy =   0.0479
Level     1,  Iter     5:    Energy =   0.0494
Level     1,  Iter     6:    Energy =   0.0508
Level     1,  Iter     7:    Energy =   0.0520
Level     1,  Iter     8:    Energy =   0.0531
Level     1,  Iter     9:    Energy =   0.0542
Level     1,  Iter    10:    Energy =   0.0548
Level     1,  Iter    11:    Energy =   0.0555
Level     1,  Iter    12:    Energy =   0.0560
Level     1,  Iter    13:    Energy =   0.0565
Level     1,  Iter    14:    Energy =   0.0568
Level     1,  Iter    15:    Energy =   0.0572
Level     1,  Iter    16:    Energy =   0.0575
Level     1,  Iter    17:    Energy =   0.0578
Level     1,  Iter    18:    Energy =   0.0581
Level     1,  Iter    19:    Energy =   0.0584
Level     1,  Iter    20:    Energy =   0.0584
Level     1,  Iter    21:    Energy =   0.0585
Level     1,  Iter    22:    Energy =   0.0585
Level     1,  Iter    23:    Energy =   0.0587
Level     1,  Iter    24:    Energy =   0.0586
Level     1,  Iter    25:    Energy =   0.0589
Level     1,  Iter    26:    Energy =   0.0588
Level     1,  Iter    27:    Energy =   0.0590
Level     1,  Iter    28:    Energy =   0.0589
Level     1,  Iter    29:    Energy =   0.0590
Level     1,  Iter    30:    Energy =   0.0590
Level     1,  Iter    31:    Energy =   0.0591
Level     1,  Iter    32:    Energy =   0.0591
Level     1,  Iter    33:    Energy =   0.0593
Level     1,  Iter    34:    Energy =   0.0592
Level     1,  Iter    35:    Energy =   0.0594
Level     1,  Iter    36:    Energy =   0.0593
Level     1,  Iter    37:    Energy =   0.0596
Level     1,  Iter    38:    Energy =   0.0594
Level     1,  Iter    39:    Energy =   0.0597
Level     1,  Iter    40:    Energy =   0.0595
Level     1,  Iter    41:    Energy =   0.0598
Level     1,  Iter    42:    Energy =   0.0596
Level     1,  Iter    43:    Energy =   0.0599
Level     1,  Iter    44:    Energy =   0.0597
Level     1,  Iter    45:    Energy =   0.0600
Level     1,  Iter    46:    Energy =   0.0598
Level     1,  Iter    47:    Energy =   0.0600
Level     1,  Iter    48:    Energy =   0.0598
Level     1,  Iter    49:    Energy =   0.0600
Level     1,  Iter    50:    Energy =   0.0598
Level     1,  Iter    51:    Energy =   0.0601
Level     1,  Iter    52:    Energy =   0.0599
Level     1,  Iter    53:    Energy =   0.0602
Level     1,  Iter    54:    Energy =   0.0600
Level     1,  Iter    55:    Energy =   0.0603
Level     1,  Iter    56:    Energy =   0.0601
Level     1,  Iter    57:    Energy =   0.0603
Level     1,  Iter    58:    Energy =   0.0602
Level     1,  Iter    59:    Energy =   0.0604
END OF LEVEL     1    DetJac Range:   0.0422  to   4.9612 
  Avg. Gradient Time  : 0.0285s  34.81% 
  Avg. Gaussian Time  : 0.0421s  51.38% 
  Avg. Iteration Time : 0.0819s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0278
Level     2,  Iter     1:    Energy =   0.0288
Level     2,  Iter     2:    Energy =   0.0296
Level     2,  Iter     3:    Energy =   0.0303
Level     2,  Iter     4:    Energy =   0.0309
Level     2,  Iter     5:    Energy =   0.0317
Level     2,  Iter     6:    Energy =   0.0325
Level     2,  Iter     7:    Energy =   0.0333
Level     2,  Iter     8:    Energy =   0.0339
Level     2,  Iter     9:    Energy =   0.0345
Level     2,  Iter    10:    Energy =   0.0349
Level     2,  Iter    11:    Energy =   0.0353
Level     2,  Iter    12:    Energy =   0.0358
Level     2,  Iter    13:    Energy =   0.0363
Level     2,  Iter    14:    Energy =   0.0367
Level     2,  Iter    15:    Energy =   0.0371
Level     2,  Iter    16:    Energy =   0.0375
Level     2,  Iter    17:    Energy =   0.0378
Level     2,  Iter    18:    Energy =   0.0380
Level     2,  Iter    19:    Energy =   0.0382
END OF LEVEL     2    DetJac Range:   0.0173  to   7.0440 
  Avg. Gradient Time  : 0.1858s  32.91% 
  Avg. Gaussian Time  : 0.3022s  53.53% 
  Avg. Iteration Time : 0.5645s 

real	0m20.221s
user	0m35.228s
sys	0m2.084s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.371429 0.375714
+ echo 'CHUNK 0.371429 0.375714 1'
CHUNK 0.371429 0.375714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.371429 0.375714 1
====================================
         PROGRESS: 0.371429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.709
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 400.866   GNORM= 326.405
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       119.988     225.073       0.003
   2    3      -247.042     100.249       1.000
   3    5      -557.703     137.534       5.000
   4    6      -799.356     124.206       1.000
   5    9      -802.707      44.107       0.154
   6   10      -810.033     233.762       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.981644 0.0338887 -0.0629082 1.39661 
0.100318 1.07087 -0.200148 5.07397 
-0.116134 -0.171214 1.07241 -5.00755 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -347.532   GNORM= 647.126
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -362.493     135.177       0.004
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.980627 0.0308475 -0.0587419 1.10804 
0.0979786 1.06481 -0.191054 4.48393 
-0.115297 -0.168953 1.06864 -4.75602 
0 0 0 1 

Final RAS Transform: 
0.980627 0.0308475 -0.0587419 1.10804 
0.0979786 1.06481 -0.191054 4.48393 
-0.115297 -0.168953 1.06864 -4.75602 
0 0 0 1 


real	0m3.424s
user	0m5.256s
sys	0m0.416s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.522419
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0198
Level     0,  Iter     1:    Energy =   0.0223
Level     0,  Iter     2:    Energy =   0.0249
Level     0,  Iter     3:    Energy =   0.0275
Level     0,  Iter     4:    Energy =   0.0294
Level     0,  Iter     5:    Energy =   0.0310
Level     0,  Iter     6:    Energy =   0.0324
Level     0,  Iter     7:    Energy =   0.0340
Level     0,  Iter     8:    Energy =   0.0349
Level     0,  Iter     9:    Energy =   0.0360
Level     0,  Iter    10:    Energy =   0.0373
Level     0,  Iter    11:    Energy =   0.0385
Level     0,  Iter    12:    Energy =   0.0396
Level     0,  Iter    13:    Energy =   0.0405
Level     0,  Iter    14:    Energy =   0.0413
Level     0,  Iter    15:    Energy =   0.0421
Level     0,  Iter    16:    Energy =   0.0428
Level     0,  Iter    17:    Energy =   0.0434
Level     0,  Iter    18:    Energy =   0.0440
Level     0,  Iter    19:    Energy =   0.0444
Level     0,  Iter    20:    Energy =   0.0447
Level     0,  Iter    21:    Energy =   0.0450
Level     0,  Iter    22:    Energy =   0.0452
Level     0,  Iter    23:    Energy =   0.0455
Level     0,  Iter    24:    Energy =   0.0458
Level     0,  Iter    25:    Energy =   0.0460
Level     0,  Iter    26:    Energy =   0.0463
Level     0,  Iter    27:    Energy =   0.0466
Level     0,  Iter    28:    Energy =   0.0468
Level     0,  Iter    29:    Energy =   0.0470
Level     0,  Iter    30:    Energy =   0.0472
Level     0,  Iter    31:    Energy =   0.0474
Level     0,  Iter    32:    Energy =   0.0476
Level     0,  Iter    33:    Energy =   0.0479
Level     0,  Iter    34:    Energy =   0.0481
Level     0,  Iter    35:    Energy =   0.0483
Level     0,  Iter    36:    Energy =   0.0485
Level     0,  Iter    37:    Energy =   0.0488
Level     0,  Iter    38:    Energy =   0.0489
Level     0,  Iter    39:    Energy =   0.0491
Level     0,  Iter    40:    Energy =   0.0492
Level     0,  Iter    41:    Energy =   0.0493
Level     0,  Iter    42:    Energy =   0.0494
Level     0,  Iter    43:    Energy =   0.0495
Level     0,  Iter    44:    Energy =   0.0495
Level     0,  Iter    45:    Energy =   0.0496
Level     0,  Iter    46:    Energy =   0.0497
Level     0,  Iter    47:    Energy =   0.0498
Level     0,  Iter    48:    Energy =   0.0499
Level     0,  Iter    49:    Energy =   0.0500
Level     0,  Iter    50:    Energy =   0.0500
Level     0,  Iter    51:    Energy =   0.0501
Level     0,  Iter    52:    Energy =   0.0501
Level     0,  Iter    53:    Energy =   0.0502
Level     0,  Iter    54:    Energy =   0.0502
Level     0,  Iter    55:    Energy =   0.0502
Level     0,  Iter    56:    Energy =   0.0503
Level     0,  Iter    57:    Energy =   0.0503
Level     0,  Iter    58:    Energy =   0.0504
Level     0,  Iter    59:    Energy =   0.0505
END OF LEVEL     0    DetJac Range:   0.0394  to   1.8320 
  Avg. Gradient Time  : 0.0066s  33.71% 
  Avg. Gaussian Time  : 0.0094s  48.08% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0299
Level     1,  Iter     1:    Energy =   0.0315
Level     1,  Iter     2:    Energy =   0.0330
Level     1,  Iter     3:    Energy =   0.0343
Level     1,  Iter     4:    Energy =   0.0354
Level     1,  Iter     5:    Energy =   0.0363
Level     1,  Iter     6:    Energy =   0.0370
Level     1,  Iter     7:    Energy =   0.0376
Level     1,  Iter     8:    Energy =   0.0381
Level     1,  Iter     9:    Energy =   0.0385
Level     1,  Iter    10:    Energy =   0.0389
Level     1,  Iter    11:    Energy =   0.0392
Level     1,  Iter    12:    Energy =   0.0394
Level     1,  Iter    13:    Energy =   0.0396
Level     1,  Iter    14:    Energy =   0.0399
Level     1,  Iter    15:    Energy =   0.0401
Level     1,  Iter    16:    Energy =   0.0403
Level     1,  Iter    17:    Energy =   0.0405
Level     1,  Iter    18:    Energy =   0.0407
Level     1,  Iter    19:    Energy =   0.0409
Level     1,  Iter    20:    Energy =   0.0411
Level     1,  Iter    21:    Energy =   0.0412
Level     1,  Iter    22:    Energy =   0.0414
Level     1,  Iter    23:    Energy =   0.0416
Level     1,  Iter    24:    Energy =   0.0418
Level     1,  Iter    25:    Energy =   0.0420
Level     1,  Iter    26:    Energy =   0.0421
Level     1,  Iter    27:    Energy =   0.0423
Level     1,  Iter    28:    Energy =   0.0424
Level     1,  Iter    29:    Energy =   0.0426
Level     1,  Iter    30:    Energy =   0.0427
Level     1,  Iter    31:    Energy =   0.0429
Level     1,  Iter    32:    Energy =   0.0431
Level     1,  Iter    33:    Energy =   0.0432
Level     1,  Iter    34:    Energy =   0.0433
Level     1,  Iter    35:    Energy =   0.0435
Level     1,  Iter    36:    Energy =   0.0436
Level     1,  Iter    37:    Energy =   0.0438
Level     1,  Iter    38:    Energy =   0.0439
Level     1,  Iter    39:    Energy =   0.0440
Level     1,  Iter    40:    Energy =   0.0441
Level     1,  Iter    41:    Energy =   0.0442
Level     1,  Iter    42:    Energy =   0.0443
Level     1,  Iter    43:    Energy =   0.0444
Level     1,  Iter    44:    Energy =   0.0444
Level     1,  Iter    45:    Energy =   0.0445
Level     1,  Iter    46:    Energy =   0.0445
Level     1,  Iter    47:    Energy =   0.0446
Level     1,  Iter    48:    Energy =   0.0446
Level     1,  Iter    49:    Energy =   0.0447
Level     1,  Iter    50:    Energy =   0.0447
Level     1,  Iter    51:    Energy =   0.0447
Level     1,  Iter    52:    Energy =   0.0447
Level     1,  Iter    53:    Energy =   0.0447
Level     1,  Iter    54:    Energy =   0.0447
Level     1,  Iter    55:    Energy =   0.0447
Level     1,  Iter    56:    Energy =   0.0447
Level     1,  Iter    57:    Energy =   0.0446
Level     1,  Iter    58:    Energy =   0.0446
Level     1,  Iter    59:    Energy =   0.0446
END OF LEVEL     1    DetJac Range:   0.0088  to   2.1504 
  Avg. Gradient Time  : 0.0276s  34.33% 
  Avg. Gaussian Time  : 0.0416s  51.71% 
  Avg. Iteration Time : 0.0804s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0209
Level     2,  Iter     1:    Energy =   0.0219
Level     2,  Iter     2:    Energy =   0.0228
Level     2,  Iter     3:    Energy =   0.0236
Level     2,  Iter     4:    Energy =   0.0243
Level     2,  Iter     5:    Energy =   0.0248
Level     2,  Iter     6:    Energy =   0.0253
Level     2,  Iter     7:    Energy =   0.0259
Level     2,  Iter     8:    Energy =   0.0265
Level     2,  Iter     9:    Energy =   0.0270
Level     2,  Iter    10:    Energy =   0.0276
Level     2,  Iter    11:    Energy =   0.0281
Level     2,  Iter    12:    Energy =   0.0287
Level     2,  Iter    13:    Energy =   0.0291
Level     2,  Iter    14:    Energy =   0.0296
Level     2,  Iter    15:    Energy =   0.0299
Level     2,  Iter    16:    Energy =   0.0303
Level     2,  Iter    17:    Energy =   0.0307
Level     2,  Iter    18:    Energy =   0.0310
Level     2,  Iter    19:    Energy =   0.0312
END OF LEVEL     2    DetJac Range:   0.0077  to   2.9088 
  Avg. Gradient Time  : 0.1868s  32.94% 
  Avg. Gaussian Time  : 0.3042s  53.65% 
  Avg. Iteration Time : 0.5670s 

real	0m20.150s
user	0m35.056s
sys	0m2.120s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.375714 0.38
+ echo 'CHUNK 0.375714 0.38 1'
CHUNK 0.375714 0.38 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.375714 0.38 1
====================================
         PROGRESS: 0.375714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 333.299   GNORM= 235.134
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       142.999     146.364       0.004
   2    3      -102.019     129.588       1.000
   3    4      -558.473     165.081       1.000
   4    5      -656.690     650.722       1.000
   5    7      -739.716      65.936       0.403
   6   11      -746.670      46.224       0.369
   7   12      -753.477      36.886       1.000
   8   14      -836.617      84.684       5.000
   9   15     -1009.223     164.700       1.000
  10   17     -1126.932     134.107       0.187
  11   19     -1175.385     360.436       0.222
  12   21     -1192.767      85.983       0.115
  13   22     -1267.079     112.621       1.000
  14   24     -1318.302     176.539       0.378
  15   25     -1343.621      38.549       1.000
  16   27     -1396.877      51.334       0.154
  17   28     -1415.151      47.139       1.000
  18   29     -1438.335      60.318       1.000
  19   30     -1451.494      51.500       1.000
  20   31     -1455.774      36.402       1.000
  21   32     -1461.553      30.288       1.000
  22   34     -1467.950      37.847       0.271
  23   36     -1470.534      35.929       0.443
  24   37     -1475.775      34.341       1.000
  25   38     -1477.997      19.944       1.000
  26   39     -1478.575      16.904       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.512004 0.358776 -0.233508 3.47902 
0.339559 0.77436 0.211743 12.4824 
-0.171901 -0.435654 0.877881 -2.34418 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -791.16   GNORM= 65.4598
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -800.768      22.016       0.004
   2    5      -801.944      20.982       0.511
   3   14      -808.676      12.972       2.450
   4   15      -810.851      18.937       1.000
   5   16      -815.258      21.001       1.000
   6   17      -817.349      37.039       1.000
   7   21      -818.503      43.175       0.470
   8   28      -819.779     190.388       1.008
   9   38      -819.938      31.389       0.000
  10   39      -820.740      74.310       1.000
  11   41      -821.112      12.805       0.453
  12   42      -821.441      18.649       1.000
  13   45      -821.781      16.070       0.028
  14   48      -823.139      12.203      21.000
  15   52      -824.655      10.804       0.889
  16   55      -825.026       9.859       0.129
  17   56      -825.413      32.469       1.000
  18   57      -825.710      50.123       1.000
  19   60      -825.767     117.203       0.077
Final RAS Transform: 
0.48925 0.344531 -0.239893 3.97479 
0.318811 0.794683 0.217093 12.4605 
-0.183692 -0.41526 0.864302 -2.06395 
0 0 0 1 

Final RAS Transform: 
0.48925 0.344531 -0.239893 3.97479 
0.318811 0.794683 0.217093 12.4605 
-0.183692 -0.41526 0.864302 -2.06395 
0 0 0 1 


real	0m5.969s
user	0m9.880s
sys	0m0.720s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.398817
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0370
Level     0,  Iter     1:    Energy =   0.0398
Level     0,  Iter     2:    Energy =   0.0422
Level     0,  Iter     3:    Energy =   0.0439
Level     0,  Iter     4:    Energy =   0.0450
Level     0,  Iter     5:    Energy =   0.0458
Level     0,  Iter     6:    Energy =   0.0465
Level     0,  Iter     7:    Energy =   0.0469
Level     0,  Iter     8:    Energy =   0.0472
Level     0,  Iter     9:    Energy =   0.0475
Level     0,  Iter    10:    Energy =   0.0477
Level     0,  Iter    11:    Energy =   0.0477
Level     0,  Iter    12:    Energy =   0.0477
Level     0,  Iter    13:    Energy =   0.0476
Level     0,  Iter    14:    Energy =   0.0476
Level     0,  Iter    15:    Energy =   0.0476
Level     0,  Iter    16:    Energy =   0.0476
Level     0,  Iter    17:    Energy =   0.0476
Level     0,  Iter    18:    Energy =   0.0477
Level     0,  Iter    19:    Energy =   0.0477
Level     0,  Iter    20:    Energy =   0.0477
Level     0,  Iter    21:    Energy =   0.0477
Level     0,  Iter    22:    Energy =   0.0477
Level     0,  Iter    23:    Energy =   0.0477
Level     0,  Iter    24:    Energy =   0.0477
Level     0,  Iter    25:    Energy =   0.0477
Level     0,  Iter    26:    Energy =   0.0477
Level     0,  Iter    27:    Energy =   0.0477
Level     0,  Iter    28:    Energy =   0.0478
Level     0,  Iter    29:    Energy =   0.0479
Level     0,  Iter    30:    Energy =   0.0480
Level     0,  Iter    31:    Energy =   0.0481
Level     0,  Iter    32:    Energy =   0.0481
Level     0,  Iter    33:    Energy =   0.0482
Level     0,  Iter    34:    Energy =   0.0482
Level     0,  Iter    35:    Energy =   0.0482
Level     0,  Iter    36:    Energy =   0.0483
Level     0,  Iter    37:    Energy =   0.0483
Level     0,  Iter    38:    Energy =   0.0483
Level     0,  Iter    39:    Energy =   0.0483
Level     0,  Iter    40:    Energy =   0.0484
Level     0,  Iter    41:    Energy =   0.0484
Level     0,  Iter    42:    Energy =   0.0484
Level     0,  Iter    43:    Energy =   0.0484
Level     0,  Iter    44:    Energy =   0.0484
Level     0,  Iter    45:    Energy =   0.0485
Level     0,  Iter    46:    Energy =   0.0485
Level     0,  Iter    47:    Energy =   0.0485
Level     0,  Iter    48:    Energy =   0.0485
Level     0,  Iter    49:    Energy =   0.0485
Level     0,  Iter    50:    Energy =   0.0485
Level     0,  Iter    51:    Energy =   0.0485
Level     0,  Iter    52:    Energy =   0.0485
Level     0,  Iter    53:    Energy =   0.0485
Level     0,  Iter    54:    Energy =   0.0485
Level     0,  Iter    55:    Energy =   0.0485
Level     0,  Iter    56:    Energy =   0.0486
Level     0,  Iter    57:    Energy =   0.0486
Level     0,  Iter    58:    Energy =   0.0486
Level     0,  Iter    59:    Energy =   0.0487
END OF LEVEL     0    DetJac Range:   0.0392  to   2.0203 
  Avg. Gradient Time  : 0.0066s  33.46% 
  Avg. Gaussian Time  : 0.0096s  48.33% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0299
Level     1,  Iter     1:    Energy =   0.0311
Level     1,  Iter     2:    Energy =   0.0321
Level     1,  Iter     3:    Energy =   0.0330
Level     1,  Iter     4:    Energy =   0.0338
Level     1,  Iter     5:    Energy =   0.0345
Level     1,  Iter     6:    Energy =   0.0351
Level     1,  Iter     7:    Energy =   0.0357
Level     1,  Iter     8:    Energy =   0.0362
Level     1,  Iter     9:    Energy =   0.0367
Level     1,  Iter    10:    Energy =   0.0373
Level     1,  Iter    11:    Energy =   0.0378
Level     1,  Iter    12:    Energy =   0.0383
Level     1,  Iter    13:    Energy =   0.0387
Level     1,  Iter    14:    Energy =   0.0391
Level     1,  Iter    15:    Energy =   0.0395
Level     1,  Iter    16:    Energy =   0.0398
Level     1,  Iter    17:    Energy =   0.0401
Level     1,  Iter    18:    Energy =   0.0404
Level     1,  Iter    19:    Energy =   0.0407
Level     1,  Iter    20:    Energy =   0.0410
Level     1,  Iter    21:    Energy =   0.0413
Level     1,  Iter    22:    Energy =   0.0415
Level     1,  Iter    23:    Energy =   0.0417
Level     1,  Iter    24:    Energy =   0.0419
Level     1,  Iter    25:    Energy =   0.0421
Level     1,  Iter    26:    Energy =   0.0422
Level     1,  Iter    27:    Energy =   0.0424
Level     1,  Iter    28:    Energy =   0.0425
Level     1,  Iter    29:    Energy =   0.0426
Level     1,  Iter    30:    Energy =   0.0427
Level     1,  Iter    31:    Energy =   0.0428
Level     1,  Iter    32:    Energy =   0.0429
Level     1,  Iter    33:    Energy =   0.0430
Level     1,  Iter    34:    Energy =   0.0431
Level     1,  Iter    35:    Energy =   0.0432
Level     1,  Iter    36:    Energy =   0.0432
Level     1,  Iter    37:    Energy =   0.0433
Level     1,  Iter    38:    Energy =   0.0434
Level     1,  Iter    39:    Energy =   0.0434
Level     1,  Iter    40:    Energy =   0.0435
Level     1,  Iter    41:    Energy =   0.0436
Level     1,  Iter    42:    Energy =   0.0436
Level     1,  Iter    43:    Energy =   0.0437
Level     1,  Iter    44:    Energy =   0.0438
Level     1,  Iter    45:    Energy =   0.0438
Level     1,  Iter    46:    Energy =   0.0439
Level     1,  Iter    47:    Energy =   0.0440
Level     1,  Iter    48:    Energy =   0.0441
Level     1,  Iter    49:    Energy =   0.0441
Level     1,  Iter    50:    Energy =   0.0442
Level     1,  Iter    51:    Energy =   0.0443
Level     1,  Iter    52:    Energy =   0.0443
Level     1,  Iter    53:    Energy =   0.0444
Level     1,  Iter    54:    Energy =   0.0444
Level     1,  Iter    55:    Energy =   0.0445
Level     1,  Iter    56:    Energy =   0.0446
Level     1,  Iter    57:    Energy =   0.0446
Level     1,  Iter    58:    Energy =   0.0447
Level     1,  Iter    59:    Energy =   0.0447
END OF LEVEL     1    DetJac Range:   0.0326  to   2.2781 
  Avg. Gradient Time  : 0.0276s  34.39% 
  Avg. Gaussian Time  : 0.0415s  51.69% 
  Avg. Iteration Time : 0.0802s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0207
Level     2,  Iter     1:    Energy =   0.0216
Level     2,  Iter     2:    Energy =   0.0223
Level     2,  Iter     3:    Energy =   0.0227
Level     2,  Iter     4:    Energy =   0.0231
Level     2,  Iter     5:    Energy =   0.0235
Level     2,  Iter     6:    Energy =   0.0239
Level     2,  Iter     7:    Energy =   0.0242
Level     2,  Iter     8:    Energy =   0.0246
Level     2,  Iter     9:    Energy =   0.0250
Level     2,  Iter    10:    Energy =   0.0254
Level     2,  Iter    11:    Energy =   0.0257
Level     2,  Iter    12:    Energy =   0.0261
Level     2,  Iter    13:    Energy =   0.0266
Level     2,  Iter    14:    Energy =   0.0268
Level     2,  Iter    15:    Energy =   0.0271
Level     2,  Iter    16:    Energy =   0.0273
Level     2,  Iter    17:    Energy =   0.0275
Level     2,  Iter    18:    Energy =   0.0277
Level     2,  Iter    19:    Energy =   0.0281
END OF LEVEL     2    DetJac Range:   0.0222  to   3.2074 
  Avg. Gradient Time  : 0.1834s  32.53% 
  Avg. Gaussian Time  : 0.3038s  53.88% 
  Avg. Iteration Time : 0.5639s 

real	0m20.034s
user	0m34.924s
sys	0m2.092s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.38 0.384286
+ echo 'CHUNK 0.38 0.384286 1'
CHUNK 0.38 0.384286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.38 0.384286 1
====================================
         PROGRESS: 0.38               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.611
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 486.009   GNORM= 293.95
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       225.677     220.141       0.003
   2    3      -305.788     144.313       1.000
   3    4      -421.928     131.769       1.000
   4    5      -583.299     120.267       1.000
   5    8      -650.571      51.800       0.078
   6   12      -662.270      40.840       1.001
   7   15      -685.203      41.461       1.849
   8   16      -705.912      92.836       1.000
   9   17      -797.017      48.388       1.000
  10   20      -979.972      77.713       2.824
  11   24      -985.078      91.811       0.004
  12   27     -1062.256     143.488       0.418
  13   30     -1112.821     152.827       0.041
  14   32     -1125.298      52.690       0.231
  15   33     -1136.185      64.096       1.000
  16   36     -1145.105      79.040       0.100
  17   37     -1148.360      43.157       1.000
  18   38     -1155.115      45.018       1.000
  19   40     -1166.182      43.164       0.334
  20   41     -1166.456      17.027       1.000
  21   42     -1167.168      38.038       1.000
  22   44     -1168.432      22.395       0.410
  23   45     -1170.781      26.159       1.000
Final RAS Transform: 
0.474607 0.216301 -0.34729 4.79258 
0.409679 0.758617 0.136749 12.8303 
-0.257017 -0.316567 0.92486 -5.70189 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -524.873   GNORM= 3091.11
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -525.306    2502.363       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.474628 0.216335 -0.347364 4.7981 
0.409708 0.758649 0.136644 12.8372 
-0.257038 -0.316606 0.924944 -5.7083 
0 0 0 1 

Final RAS Transform: 
0.474628 0.216335 -0.347364 4.7981 
0.409708 0.758649 0.136644 12.8372 
-0.257038 -0.316606 0.924944 -5.7083 
0 0 0 1 


real	0m3.857s
user	0m5.992s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.422436
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0279
Level     0,  Iter     1:    Energy =   0.0307
Level     0,  Iter     2:    Energy =   0.0329
Level     0,  Iter     3:    Energy =   0.0351
Level     0,  Iter     4:    Energy =   0.0365
Level     0,  Iter     5:    Energy =   0.0379
Level     0,  Iter     6:    Energy =   0.0393
Level     0,  Iter     7:    Energy =   0.0405
Level     0,  Iter     8:    Energy =   0.0414
Level     0,  Iter     9:    Energy =   0.0420
Level     0,  Iter    10:    Energy =   0.0425
Level     0,  Iter    11:    Energy =   0.0429
Level     0,  Iter    12:    Energy =   0.0432
Level     0,  Iter    13:    Energy =   0.0434
Level     0,  Iter    14:    Energy =   0.0436
Level     0,  Iter    15:    Energy =   0.0437
Level     0,  Iter    16:    Energy =   0.0438
Level     0,  Iter    17:    Energy =   0.0441
Level     0,  Iter    18:    Energy =   0.0443
Level     0,  Iter    19:    Energy =   0.0446
Level     0,  Iter    20:    Energy =   0.0448
Level     0,  Iter    21:    Energy =   0.0450
Level     0,  Iter    22:    Energy =   0.0452
Level     0,  Iter    23:    Energy =   0.0454
Level     0,  Iter    24:    Energy =   0.0456
Level     0,  Iter    25:    Energy =   0.0458
Level     0,  Iter    26:    Energy =   0.0461
Level     0,  Iter    27:    Energy =   0.0463
Level     0,  Iter    28:    Energy =   0.0465
Level     0,  Iter    29:    Energy =   0.0467
Level     0,  Iter    30:    Energy =   0.0469
Level     0,  Iter    31:    Energy =   0.0471
Level     0,  Iter    32:    Energy =   0.0473
Level     0,  Iter    33:    Energy =   0.0475
Level     0,  Iter    34:    Energy =   0.0477
Level     0,  Iter    35:    Energy =   0.0479
Level     0,  Iter    36:    Energy =   0.0481
Level     0,  Iter    37:    Energy =   0.0483
Level     0,  Iter    38:    Energy =   0.0484
Level     0,  Iter    39:    Energy =   0.0487
Level     0,  Iter    40:    Energy =   0.0489
Level     0,  Iter    41:    Energy =   0.0490
Level     0,  Iter    42:    Energy =   0.0491
Level     0,  Iter    43:    Energy =   0.0491
Level     0,  Iter    44:    Energy =   0.0493
Level     0,  Iter    45:    Energy =   0.0494
Level     0,  Iter    46:    Energy =   0.0495
Level     0,  Iter    47:    Energy =   0.0495
Level     0,  Iter    48:    Energy =   0.0497
Level     0,  Iter    49:    Energy =   0.0497
Level     0,  Iter    50:    Energy =   0.0499
Level     0,  Iter    51:    Energy =   0.0499
Level     0,  Iter    52:    Energy =   0.0500
Level     0,  Iter    53:    Energy =   0.0500
Level     0,  Iter    54:    Energy =   0.0502
Level     0,  Iter    55:    Energy =   0.0501
Level     0,  Iter    56:    Energy =   0.0503
Level     0,  Iter    57:    Energy =   0.0503
Level     0,  Iter    58:    Energy =   0.0504
Level     0,  Iter    59:    Energy =   0.0504
END OF LEVEL     0    DetJac Range:   0.1049  to   2.2947 
  Avg. Gradient Time  : 0.0068s  33.46% 
  Avg. Gaussian Time  : 0.0098s  48.29% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0284
Level     1,  Iter     1:    Energy =   0.0297
Level     1,  Iter     2:    Energy =   0.0311
Level     1,  Iter     3:    Energy =   0.0322
Level     1,  Iter     4:    Energy =   0.0334
Level     1,  Iter     5:    Energy =   0.0344
Level     1,  Iter     6:    Energy =   0.0352
Level     1,  Iter     7:    Energy =   0.0359
Level     1,  Iter     8:    Energy =   0.0367
Level     1,  Iter     9:    Energy =   0.0373
Level     1,  Iter    10:    Energy =   0.0379
Level     1,  Iter    11:    Energy =   0.0385
Level     1,  Iter    12:    Energy =   0.0390
Level     1,  Iter    13:    Energy =   0.0394
Level     1,  Iter    14:    Energy =   0.0398
Level     1,  Iter    15:    Energy =   0.0402
Level     1,  Iter    16:    Energy =   0.0406
Level     1,  Iter    17:    Energy =   0.0410
Level     1,  Iter    18:    Energy =   0.0413
Level     1,  Iter    19:    Energy =   0.0416
Level     1,  Iter    20:    Energy =   0.0419
Level     1,  Iter    21:    Energy =   0.0421
Level     1,  Iter    22:    Energy =   0.0423
Level     1,  Iter    23:    Energy =   0.0424
Level     1,  Iter    24:    Energy =   0.0425
Level     1,  Iter    25:    Energy =   0.0426
Level     1,  Iter    26:    Energy =   0.0427
Level     1,  Iter    27:    Energy =   0.0428
Level     1,  Iter    28:    Energy =   0.0428
Level     1,  Iter    29:    Energy =   0.0428
Level     1,  Iter    30:    Energy =   0.0428
Level     1,  Iter    31:    Energy =   0.0429
Level     1,  Iter    32:    Energy =   0.0429
Level     1,  Iter    33:    Energy =   0.0430
Level     1,  Iter    34:    Energy =   0.0430
Level     1,  Iter    35:    Energy =   0.0431
Level     1,  Iter    36:    Energy =   0.0431
Level     1,  Iter    37:    Energy =   0.0432
Level     1,  Iter    38:    Energy =   0.0432
Level     1,  Iter    39:    Energy =   0.0433
Level     1,  Iter    40:    Energy =   0.0433
Level     1,  Iter    41:    Energy =   0.0434
Level     1,  Iter    42:    Energy =   0.0434
Level     1,  Iter    43:    Energy =   0.0435
Level     1,  Iter    44:    Energy =   0.0435
Level     1,  Iter    45:    Energy =   0.0436
Level     1,  Iter    46:    Energy =   0.0437
Level     1,  Iter    47:    Energy =   0.0437
Level     1,  Iter    48:    Energy =   0.0438
Level     1,  Iter    49:    Energy =   0.0438
Level     1,  Iter    50:    Energy =   0.0439
Level     1,  Iter    51:    Energy =   0.0439
Level     1,  Iter    52:    Energy =   0.0440
Level     1,  Iter    53:    Energy =   0.0440
Level     1,  Iter    54:    Energy =   0.0440
Level     1,  Iter    55:    Energy =   0.0440
Level     1,  Iter    56:    Energy =   0.0441
Level     1,  Iter    57:    Energy =   0.0442
Level     1,  Iter    58:    Energy =   0.0442
Level     1,  Iter    59:    Energy =   0.0443
END OF LEVEL     1    DetJac Range:   0.0217  to   2.7718 
  Avg. Gradient Time  : 0.0280s  34.73% 
  Avg. Gaussian Time  : 0.0415s  51.43% 
  Avg. Iteration Time : 0.0807s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0211
Level     2,  Iter     1:    Energy =   0.0219
Level     2,  Iter     2:    Energy =   0.0227
Level     2,  Iter     3:    Energy =   0.0234
Level     2,  Iter     4:    Energy =   0.0241
Level     2,  Iter     5:    Energy =   0.0247
Level     2,  Iter     6:    Energy =   0.0252
Level     2,  Iter     7:    Energy =   0.0257
Level     2,  Iter     8:    Energy =   0.0261
Level     2,  Iter     9:    Energy =   0.0265
Level     2,  Iter    10:    Energy =   0.0268
Level     2,  Iter    11:    Energy =   0.0272
Level     2,  Iter    12:    Energy =   0.0275
Level     2,  Iter    13:    Energy =   0.0276
Level     2,  Iter    14:    Energy =   0.0278
Level     2,  Iter    15:    Energy =   0.0279
Level     2,  Iter    16:    Energy =   0.0280
Level     2,  Iter    17:    Energy =   0.0282
Level     2,  Iter    18:    Energy =   0.0284
Level     2,  Iter    19:    Energy =   0.0286
END OF LEVEL     2    DetJac Range:   0.0111  to   3.5190 
  Avg. Gradient Time  : 0.1849s  32.81% 
  Avg. Gaussian Time  : 0.3027s  53.72% 
  Avg. Iteration Time : 0.5635s 

real	0m20.108s
user	0m34.940s
sys	0m2.176s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384286 0.388571
+ echo 'CHUNK 0.384286 0.388571 1'
CHUNK 0.384286 0.388571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384286 0.388571 1
====================================
         PROGRESS: 0.384286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.578
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 389.397   GNORM= 319.304
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       117.395     209.224       0.003
   2    3      -221.452     204.893       1.000
   3    4      -482.186     126.030       1.000
   4    5      -583.740      87.739       1.000
   5    9      -666.665      65.699       1.442
   6   10      -692.886      60.774       1.000
   7   13      -698.908      68.327       0.183
   8   14      -728.528     166.651       1.000
   9   15      -768.694      35.092       1.000
  10   16      -804.107      63.135       1.000
  11   17      -850.719      70.597       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.946844 0.0537747 -0.0436276 2.25686 
0.1615 1.00986 0.0070972 7.49369 
-0.16439 -0.187603 0.96548 -5.13981 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -380.517   GNORM= 730.272
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.946844 0.0537747 -0.0436276 2.25686 
0.1615 1.00986 0.0070972 7.49369 
-0.16439 -0.187603 0.96548 -5.13981 
0 0 0 1 

Final RAS Transform: 
0.946844 0.0537747 -0.0436276 2.25686 
0.1615 1.00986 0.0070972 7.49369 
-0.16439 -0.187603 0.96548 -5.13981 
0 0 0 1 


real	0m3.265s
user	0m4.988s
sys	0m0.400s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.443815
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0202
Level     0,  Iter     1:    Energy =   0.0224
Level     0,  Iter     2:    Energy =   0.0259
Level     0,  Iter     3:    Energy =   0.0290
Level     0,  Iter     4:    Energy =   0.0315
Level     0,  Iter     5:    Energy =   0.0337
Level     0,  Iter     6:    Energy =   0.0355
Level     0,  Iter     7:    Energy =   0.0374
Level     0,  Iter     8:    Energy =   0.0393
Level     0,  Iter     9:    Energy =   0.0402
Level     0,  Iter    10:    Energy =   0.0415
Level     0,  Iter    11:    Energy =   0.0429
Level     0,  Iter    12:    Energy =   0.0439
Level     0,  Iter    13:    Energy =   0.0446
Level     0,  Iter    14:    Energy =   0.0452
Level     0,  Iter    15:    Energy =   0.0457
Level     0,  Iter    16:    Energy =   0.0460
Level     0,  Iter    17:    Energy =   0.0462
Level     0,  Iter    18:    Energy =   0.0464
Level     0,  Iter    19:    Energy =   0.0465
Level     0,  Iter    20:    Energy =   0.0466
Level     0,  Iter    21:    Energy =   0.0467
Level     0,  Iter    22:    Energy =   0.0469
Level     0,  Iter    23:    Energy =   0.0470
Level     0,  Iter    24:    Energy =   0.0471
Level     0,  Iter    25:    Energy =   0.0472
Level     0,  Iter    26:    Energy =   0.0474
Level     0,  Iter    27:    Energy =   0.0475
Level     0,  Iter    28:    Energy =   0.0477
Level     0,  Iter    29:    Energy =   0.0480
Level     0,  Iter    30:    Energy =   0.0483
Level     0,  Iter    31:    Energy =   0.0485
Level     0,  Iter    32:    Energy =   0.0487
Level     0,  Iter    33:    Energy =   0.0488
Level     0,  Iter    34:    Energy =   0.0488
Level     0,  Iter    35:    Energy =   0.0489
Level     0,  Iter    36:    Energy =   0.0490
Level     0,  Iter    37:    Energy =   0.0491
Level     0,  Iter    38:    Energy =   0.0492
Level     0,  Iter    39:    Energy =   0.0492
Level     0,  Iter    40:    Energy =   0.0493
Level     0,  Iter    41:    Energy =   0.0494
Level     0,  Iter    42:    Energy =   0.0495
Level     0,  Iter    43:    Energy =   0.0495
Level     0,  Iter    44:    Energy =   0.0496
Level     0,  Iter    45:    Energy =   0.0496
Level     0,  Iter    46:    Energy =   0.0497
Level     0,  Iter    47:    Energy =   0.0497
Level     0,  Iter    48:    Energy =   0.0497
Level     0,  Iter    49:    Energy =   0.0498
Level     0,  Iter    50:    Energy =   0.0498
Level     0,  Iter    51:    Energy =   0.0499
Level     0,  Iter    52:    Energy =   0.0499
Level     0,  Iter    53:    Energy =   0.0500
Level     0,  Iter    54:    Energy =   0.0500
Level     0,  Iter    55:    Energy =   0.0500
Level     0,  Iter    56:    Energy =   0.0501
Level     0,  Iter    57:    Energy =   0.0501
Level     0,  Iter    58:    Energy =   0.0501
Level     0,  Iter    59:    Energy =   0.0502
END OF LEVEL     0    DetJac Range:   0.0658  to   1.9848 
  Avg. Gradient Time  : 0.0066s  33.15% 
  Avg. Gaussian Time  : 0.0097s  48.82% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0313
Level     1,  Iter     1:    Energy =   0.0337
Level     1,  Iter     2:    Energy =   0.0360
Level     1,  Iter     3:    Energy =   0.0378
Level     1,  Iter     4:    Energy =   0.0393
Level     1,  Iter     5:    Energy =   0.0404
Level     1,  Iter     6:    Energy =   0.0413
Level     1,  Iter     7:    Energy =   0.0422
Level     1,  Iter     8:    Energy =   0.0430
Level     1,  Iter     9:    Energy =   0.0437
Level     1,  Iter    10:    Energy =   0.0445
Level     1,  Iter    11:    Energy =   0.0450
Level     1,  Iter    12:    Energy =   0.0454
Level     1,  Iter    13:    Energy =   0.0459
Level     1,  Iter    14:    Energy =   0.0466
Level     1,  Iter    15:    Energy =   0.0472
Level     1,  Iter    16:    Energy =   0.0477
Level     1,  Iter    17:    Energy =   0.0482
Level     1,  Iter    18:    Energy =   0.0486
Level     1,  Iter    19:    Energy =   0.0489
Level     1,  Iter    20:    Energy =   0.0492
Level     1,  Iter    21:    Energy =   0.0495
Level     1,  Iter    22:    Energy =   0.0498
Level     1,  Iter    23:    Energy =   0.0500
Level     1,  Iter    24:    Energy =   0.0503
Level     1,  Iter    25:    Energy =   0.0505
Level     1,  Iter    26:    Energy =   0.0507
Level     1,  Iter    27:    Energy =   0.0509
Level     1,  Iter    28:    Energy =   0.0511
Level     1,  Iter    29:    Energy =   0.0513
Level     1,  Iter    30:    Energy =   0.0515
Level     1,  Iter    31:    Energy =   0.0517
Level     1,  Iter    32:    Energy =   0.0518
Level     1,  Iter    33:    Energy =   0.0520
Level     1,  Iter    34:    Energy =   0.0521
Level     1,  Iter    35:    Energy =   0.0522
Level     1,  Iter    36:    Energy =   0.0523
Level     1,  Iter    37:    Energy =   0.0525
Level     1,  Iter    38:    Energy =   0.0526
Level     1,  Iter    39:    Energy =   0.0527
Level     1,  Iter    40:    Energy =   0.0528
Level     1,  Iter    41:    Energy =   0.0528
Level     1,  Iter    42:    Energy =   0.0528
Level     1,  Iter    43:    Energy =   0.0528
Level     1,  Iter    44:    Energy =   0.0528
Level     1,  Iter    45:    Energy =   0.0528
Level     1,  Iter    46:    Energy =   0.0528
Level     1,  Iter    47:    Energy =   0.0528
Level     1,  Iter    48:    Energy =   0.0529
Level     1,  Iter    49:    Energy =   0.0529
Level     1,  Iter    50:    Energy =   0.0529
Level     1,  Iter    51:    Energy =   0.0530
Level     1,  Iter    52:    Energy =   0.0531
Level     1,  Iter    53:    Energy =   0.0531
Level     1,  Iter    54:    Energy =   0.0532
Level     1,  Iter    55:    Energy =   0.0532
Level     1,  Iter    56:    Energy =   0.0533
Level     1,  Iter    57:    Energy =   0.0534
Level     1,  Iter    58:    Energy =   0.0534
Level     1,  Iter    59:    Energy =   0.0535
END OF LEVEL     1    DetJac Range:   0.0175  to   3.3432 
  Avg. Gradient Time  : 0.0281s  34.49% 
  Avg. Gaussian Time  : 0.0420s  51.66% 
  Avg. Iteration Time : 0.0814s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0238
Level     2,  Iter     1:    Energy =   0.0250
Level     2,  Iter     2:    Energy =   0.0259
Level     2,  Iter     3:    Energy =   0.0266
Level     2,  Iter     4:    Energy =   0.0271
Level     2,  Iter     5:    Energy =   0.0276
Level     2,  Iter     6:    Energy =   0.0280
Level     2,  Iter     7:    Energy =   0.0284
Level     2,  Iter     8:    Energy =   0.0287
Level     2,  Iter     9:    Energy =   0.0291
Level     2,  Iter    10:    Energy =   0.0295
Level     2,  Iter    11:    Energy =   0.0300
Level     2,  Iter    12:    Energy =   0.0303
Level     2,  Iter    13:    Energy =   0.0307
Level     2,  Iter    14:    Energy =   0.0310
Level     2,  Iter    15:    Energy =   0.0312
Level     2,  Iter    16:    Energy =   0.0314
Level     2,  Iter    17:    Energy =   0.0316
Level     2,  Iter    18:    Energy =   0.0318
Level     2,  Iter    19:    Energy =   0.0319
END OF LEVEL     2    DetJac Range:   0.0101  to   3.4714 
  Avg. Gradient Time  : 0.1872s  33.03% 
  Avg. Gaussian Time  : 0.3034s  53.52% 
  Avg. Iteration Time : 0.5668s 

real	0m20.190s
user	0m35.208s
sys	0m2.108s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.388571 0.392857
+ echo 'CHUNK 0.388571 0.392857 1'
CHUNK 0.388571 0.392857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.388571 0.392857 1
====================================
         PROGRESS: 0.388571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.608
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 279.074   GNORM= 327.498
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        25.326     178.011       0.003
   2    3      -170.315     134.888       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.994627 -0.0055619 -0.00322451 0.0593885 
0.0287171 1.0442 -0.0794964 1.94317 
-0.0430745 -0.0680809 1.02526 -2.81618 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -351.709   GNORM= 58.7115
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -371.142      48.421       0.017
   2    5      -395.264      37.523       1.705
   3    6      -405.449      76.672       1.000
   4    8      -409.325      42.558       0.403
   5    9      -412.099      31.518       1.000
   6   10      -413.848      36.202       1.000
   7   11      -427.420      43.786       1.000
   8   13      -444.881     492.260       0.346
   9   19      -445.225      95.271       0.001
  10   20      -450.512     152.982       1.000
  11   22      -450.793      45.470       0.004
  12   23      -454.452      66.826       1.000
  13   26      -455.147      59.435       1.339
  14   27      -460.948      32.308       1.000
  15   42      -468.442      92.973       1.008
Final RAS Transform: 
0.972188 -0.0351457 0.0790829 4.1677 
0.027111 0.967483 -0.00817931 8.72024 
-0.0701084 -0.0497817 0.890799 -8.43254 
0 0 0 1 

Final RAS Transform: 
0.972188 -0.0351457 0.0790829 4.1677 
0.027111 0.967483 -0.00817931 8.72024 
-0.0701084 -0.0497817 0.890799 -8.43254 
0 0 0 1 


real	0m5.586s
user	0m9.424s
sys	0m0.504s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.397257
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0200
Level     0,  Iter     1:    Energy =   0.0222
Level     0,  Iter     2:    Energy =   0.0251
Level     0,  Iter     3:    Energy =   0.0272
Level     0,  Iter     4:    Energy =   0.0287
Level     0,  Iter     5:    Energy =   0.0300
Level     0,  Iter     6:    Energy =   0.0312
Level     0,  Iter     7:    Energy =   0.0323
Level     0,  Iter     8:    Energy =   0.0333
Level     0,  Iter     9:    Energy =   0.0341
Level     0,  Iter    10:    Energy =   0.0348
Level     0,  Iter    11:    Energy =   0.0355
Level     0,  Iter    12:    Energy =   0.0360
Level     0,  Iter    13:    Energy =   0.0365
Level     0,  Iter    14:    Energy =   0.0371
Level     0,  Iter    15:    Energy =   0.0375
Level     0,  Iter    16:    Energy =   0.0379
Level     0,  Iter    17:    Energy =   0.0384
Level     0,  Iter    18:    Energy =   0.0388
Level     0,  Iter    19:    Energy =   0.0390
Level     0,  Iter    20:    Energy =   0.0392
Level     0,  Iter    21:    Energy =   0.0394
Level     0,  Iter    22:    Energy =   0.0395
Level     0,  Iter    23:    Energy =   0.0396
Level     0,  Iter    24:    Energy =   0.0397
Level     0,  Iter    25:    Energy =   0.0398
Level     0,  Iter    26:    Energy =   0.0399
Level     0,  Iter    27:    Energy =   0.0400
Level     0,  Iter    28:    Energy =   0.0401
Level     0,  Iter    29:    Energy =   0.0402
Level     0,  Iter    30:    Energy =   0.0403
Level     0,  Iter    31:    Energy =   0.0404
Level     0,  Iter    32:    Energy =   0.0405
Level     0,  Iter    33:    Energy =   0.0405
Level     0,  Iter    34:    Energy =   0.0406
Level     0,  Iter    35:    Energy =   0.0407
Level     0,  Iter    36:    Energy =   0.0407
Level     0,  Iter    37:    Energy =   0.0407
Level     0,  Iter    38:    Energy =   0.0407
Level     0,  Iter    39:    Energy =   0.0408
Level     0,  Iter    40:    Energy =   0.0408
Level     0,  Iter    41:    Energy =   0.0408
Level     0,  Iter    42:    Energy =   0.0408
Level     0,  Iter    43:    Energy =   0.0408
Level     0,  Iter    44:    Energy =   0.0408
Level     0,  Iter    45:    Energy =   0.0408
Level     0,  Iter    46:    Energy =   0.0409
Level     0,  Iter    47:    Energy =   0.0409
Level     0,  Iter    48:    Energy =   0.0409
Level     0,  Iter    49:    Energy =   0.0410
Level     0,  Iter    50:    Energy =   0.0410
Level     0,  Iter    51:    Energy =   0.0410
Level     0,  Iter    52:    Energy =   0.0410
Level     0,  Iter    53:    Energy =   0.0411
Level     0,  Iter    54:    Energy =   0.0411
Level     0,  Iter    55:    Energy =   0.0411
Level     0,  Iter    56:    Energy =   0.0411
Level     0,  Iter    57:    Energy =   0.0412
Level     0,  Iter    58:    Energy =   0.0412
Level     0,  Iter    59:    Energy =   0.0412
END OF LEVEL     0    DetJac Range:   0.0490  to   2.3541 
  Avg. Gradient Time  : 0.0066s  33.50% 
  Avg. Gaussian Time  : 0.0095s  48.22% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0291
Level     1,  Iter     1:    Energy =   0.0309
Level     1,  Iter     2:    Energy =   0.0324
Level     1,  Iter     3:    Energy =   0.0340
Level     1,  Iter     4:    Energy =   0.0357
Level     1,  Iter     5:    Energy =   0.0370
Level     1,  Iter     6:    Energy =   0.0380
Level     1,  Iter     7:    Energy =   0.0387
Level     1,  Iter     8:    Energy =   0.0394
Level     1,  Iter     9:    Energy =   0.0400
Level     1,  Iter    10:    Energy =   0.0404
Level     1,  Iter    11:    Energy =   0.0409
Level     1,  Iter    12:    Energy =   0.0412
Level     1,  Iter    13:    Energy =   0.0415
Level     1,  Iter    14:    Energy =   0.0417
Level     1,  Iter    15:    Energy =   0.0420
Level     1,  Iter    16:    Energy =   0.0422
Level     1,  Iter    17:    Energy =   0.0423
Level     1,  Iter    18:    Energy =   0.0425
Level     1,  Iter    19:    Energy =   0.0426
Level     1,  Iter    20:    Energy =   0.0427
Level     1,  Iter    21:    Energy =   0.0429
Level     1,  Iter    22:    Energy =   0.0430
Level     1,  Iter    23:    Energy =   0.0431
Level     1,  Iter    24:    Energy =   0.0432
Level     1,  Iter    25:    Energy =   0.0433
Level     1,  Iter    26:    Energy =   0.0434
Level     1,  Iter    27:    Energy =   0.0435
Level     1,  Iter    28:    Energy =   0.0436
Level     1,  Iter    29:    Energy =   0.0437
Level     1,  Iter    30:    Energy =   0.0438
Level     1,  Iter    31:    Energy =   0.0439
Level     1,  Iter    32:    Energy =   0.0440
Level     1,  Iter    33:    Energy =   0.0441
Level     1,  Iter    34:    Energy =   0.0442
Level     1,  Iter    35:    Energy =   0.0443
Level     1,  Iter    36:    Energy =   0.0443
Level     1,  Iter    37:    Energy =   0.0444
Level     1,  Iter    38:    Energy =   0.0445
Level     1,  Iter    39:    Energy =   0.0446
Level     1,  Iter    40:    Energy =   0.0447
Level     1,  Iter    41:    Energy =   0.0448
Level     1,  Iter    42:    Energy =   0.0449
Level     1,  Iter    43:    Energy =   0.0449
Level     1,  Iter    44:    Energy =   0.0450
Level     1,  Iter    45:    Energy =   0.0451
Level     1,  Iter    46:    Energy =   0.0452
Level     1,  Iter    47:    Energy =   0.0452
Level     1,  Iter    48:    Energy =   0.0453
Level     1,  Iter    49:    Energy =   0.0454
Level     1,  Iter    50:    Energy =   0.0454
Level     1,  Iter    51:    Energy =   0.0455
Level     1,  Iter    52:    Energy =   0.0456
Level     1,  Iter    53:    Energy =   0.0456
Level     1,  Iter    54:    Energy =   0.0457
Level     1,  Iter    55:    Energy =   0.0457
Level     1,  Iter    56:    Energy =   0.0458
Level     1,  Iter    57:    Energy =   0.0459
Level     1,  Iter    58:    Energy =   0.0459
Level     1,  Iter    59:    Energy =   0.0460
END OF LEVEL     1    DetJac Range:   0.0358  to   2.2279 
  Avg. Gradient Time  : 0.0281s  34.40% 
  Avg. Gaussian Time  : 0.0424s  51.81% 
  Avg. Iteration Time : 0.0818s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0210
Level     2,  Iter     1:    Energy =   0.0219
Level     2,  Iter     2:    Energy =   0.0228
Level     2,  Iter     3:    Energy =   0.0236
Level     2,  Iter     4:    Energy =   0.0242
Level     2,  Iter     5:    Energy =   0.0248
Level     2,  Iter     6:    Energy =   0.0252
Level     2,  Iter     7:    Energy =   0.0256
Level     2,  Iter     8:    Energy =   0.0260
Level     2,  Iter     9:    Energy =   0.0264
Level     2,  Iter    10:    Energy =   0.0267
Level     2,  Iter    11:    Energy =   0.0270
Level     2,  Iter    12:    Energy =   0.0272
Level     2,  Iter    13:    Energy =   0.0275
Level     2,  Iter    14:    Energy =   0.0277
Level     2,  Iter    15:    Energy =   0.0280
Level     2,  Iter    16:    Energy =   0.0282
Level     2,  Iter    17:    Energy =   0.0284
Level     2,  Iter    18:    Energy =   0.0287
Level     2,  Iter    19:    Energy =   0.0289
END OF LEVEL     2    DetJac Range:   0.0148  to   2.5730 
  Avg. Gradient Time  : 0.1843s  32.74% 
  Avg. Gaussian Time  : 0.3033s  53.87% 
  Avg. Iteration Time : 0.5630s 

real	0m20.123s
user	0m34.928s
sys	0m2.244s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.392857 0.397143
+ echo 'CHUNK 0.392857 0.397143 1'
CHUNK 0.392857 0.397143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.392857 0.397143 1
====================================
         PROGRESS: 0.392857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.636
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 349.815   GNORM= 262.495
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       132.303     208.953       0.004
   2    3      -355.746     164.441       1.000
   3    6      -653.739      53.905       1.671
   4    7      -708.500      42.131       1.000
   5    8      -720.100      49.893       1.000
   6   10      -815.334      80.533       5.000
   7   11      -913.005     106.466       1.000
   8   12      -962.247      81.599       1.000
   9   16     -1005.449     104.658       0.274
  10   21     -1005.957      67.582       0.016
  11   22     -1013.652      40.528       1.000
  12   27     -1039.760      58.323       6.557
  13   28     -1064.624      42.269       1.000
  14   29     -1086.612      34.150       1.000
  15   33     -1108.294      40.320       0.342
  16   41     -1119.412      67.613       0.154
  17   46     -1121.662      58.123       0.016
  18   48     -1135.395      41.673       5.000
  19   49     -1138.298      29.407       1.000
  20   50     -1145.399      17.329       1.000
  21   51     -1146.063      49.603       1.000
  22   52     -1150.876      33.210       1.000
  23   53     -1155.322      24.817       1.000
  24   54     -1157.356      21.103       1.000
  25   55     -1162.925      18.223       1.000
  26   57     -1170.158      13.305       0.269
  27   59     -1171.503      18.886       0.210
Final RAS Transform: 
0.627804 0.130072 -0.241126 3.06445 
0.250887 1.0396 0.167821 9.54773 
-0.117805 -0.373825 0.906735 -3.86971 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -534.726   GNORM= 909.282
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -534.853      57.638       0.000
   2    7      -534.910      21.552       0.110
   3   11      -535.446     370.967       1.114
   4   13      -537.981     154.735       5.000
   5   14      -545.101      32.082       1.000
   6   16      -547.900      36.881       0.162
   7   17      -556.933      46.799       1.000
   8   20      -559.592      32.117       0.815
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.617988 0.136696 -0.253308 3.8632 
0.239144 1.03661 0.180552 9.31536 
-0.123301 -0.378982 0.915913 -3.15086 
0 0 0 1 

Final RAS Transform: 
0.617988 0.136696 -0.253308 3.8632 
0.239144 1.03661 0.180552 9.31536 
-0.123301 -0.378982 0.915913 -3.15086 
0 0 0 1 


real	0m4.753s
user	0m7.616s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.406003
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0279
Level     0,  Iter     1:    Energy =   0.0304
Level     0,  Iter     2:    Energy =   0.0330
Level     0,  Iter     3:    Energy =   0.0350
Level     0,  Iter     4:    Energy =   0.0366
Level     0,  Iter     5:    Energy =   0.0379
Level     0,  Iter     6:    Energy =   0.0392
Level     0,  Iter     7:    Energy =   0.0401
Level     0,  Iter     8:    Energy =   0.0409
Level     0,  Iter     9:    Energy =   0.0417
Level     0,  Iter    10:    Energy =   0.0423
Level     0,  Iter    11:    Energy =   0.0427
Level     0,  Iter    12:    Energy =   0.0431
Level     0,  Iter    13:    Energy =   0.0434
Level     0,  Iter    14:    Energy =   0.0436
Level     0,  Iter    15:    Energy =   0.0437
Level     0,  Iter    16:    Energy =   0.0439
Level     0,  Iter    17:    Energy =   0.0440
Level     0,  Iter    18:    Energy =   0.0442
Level     0,  Iter    19:    Energy =   0.0444
Level     0,  Iter    20:    Energy =   0.0445
Level     0,  Iter    21:    Energy =   0.0446
Level     0,  Iter    22:    Energy =   0.0447
Level     0,  Iter    23:    Energy =   0.0448
Level     0,  Iter    24:    Energy =   0.0449
Level     0,  Iter    25:    Energy =   0.0450
Level     0,  Iter    26:    Energy =   0.0451
Level     0,  Iter    27:    Energy =   0.0452
Level     0,  Iter    28:    Energy =   0.0453
Level     0,  Iter    29:    Energy =   0.0454
Level     0,  Iter    30:    Energy =   0.0455
Level     0,  Iter    31:    Energy =   0.0457
Level     0,  Iter    32:    Energy =   0.0458
Level     0,  Iter    33:    Energy =   0.0460
Level     0,  Iter    34:    Energy =   0.0461
Level     0,  Iter    35:    Energy =   0.0462
Level     0,  Iter    36:    Energy =   0.0463
Level     0,  Iter    37:    Energy =   0.0463
Level     0,  Iter    38:    Energy =   0.0463
Level     0,  Iter    39:    Energy =   0.0463
Level     0,  Iter    40:    Energy =   0.0464
Level     0,  Iter    41:    Energy =   0.0464
Level     0,  Iter    42:    Energy =   0.0464
Level     0,  Iter    43:    Energy =   0.0465
Level     0,  Iter    44:    Energy =   0.0465
Level     0,  Iter    45:    Energy =   0.0465
Level     0,  Iter    46:    Energy =   0.0465
Level     0,  Iter    47:    Energy =   0.0464
Level     0,  Iter    48:    Energy =   0.0464
Level     0,  Iter    49:    Energy =   0.0464
Level     0,  Iter    50:    Energy =   0.0465
Level     0,  Iter    51:    Energy =   0.0465
Level     0,  Iter    52:    Energy =   0.0465
Level     0,  Iter    53:    Energy =   0.0465
Level     0,  Iter    54:    Energy =   0.0465
Level     0,  Iter    55:    Energy =   0.0465
Level     0,  Iter    56:    Energy =   0.0465
Level     0,  Iter    57:    Energy =   0.0465
Level     0,  Iter    58:    Energy =   0.0464
Level     0,  Iter    59:    Energy =   0.0464
END OF LEVEL     0    DetJac Range:   0.1389  to   1.9564 
  Avg. Gradient Time  : 0.0068s  33.67% 
  Avg. Gaussian Time  : 0.0097s  48.23% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0261
Level     1,  Iter     1:    Energy =   0.0277
Level     1,  Iter     2:    Energy =   0.0295
Level     1,  Iter     3:    Energy =   0.0308
Level     1,  Iter     4:    Energy =   0.0318
Level     1,  Iter     5:    Energy =   0.0323
Level     1,  Iter     6:    Energy =   0.0328
Level     1,  Iter     7:    Energy =   0.0331
Level     1,  Iter     8:    Energy =   0.0335
Level     1,  Iter     9:    Energy =   0.0340
Level     1,  Iter    10:    Energy =   0.0346
Level     1,  Iter    11:    Energy =   0.0355
Level     1,  Iter    12:    Energy =   0.0362
Level     1,  Iter    13:    Energy =   0.0369
Level     1,  Iter    14:    Energy =   0.0374
Level     1,  Iter    15:    Energy =   0.0380
Level     1,  Iter    16:    Energy =   0.0385
Level     1,  Iter    17:    Energy =   0.0390
Level     1,  Iter    18:    Energy =   0.0394
Level     1,  Iter    19:    Energy =   0.0398
Level     1,  Iter    20:    Energy =   0.0402
Level     1,  Iter    21:    Energy =   0.0406
Level     1,  Iter    22:    Energy =   0.0409
Level     1,  Iter    23:    Energy =   0.0412
Level     1,  Iter    24:    Energy =   0.0416
Level     1,  Iter    25:    Energy =   0.0418
Level     1,  Iter    26:    Energy =   0.0422
Level     1,  Iter    27:    Energy =   0.0425
Level     1,  Iter    28:    Energy =   0.0428
Level     1,  Iter    29:    Energy =   0.0431
Level     1,  Iter    30:    Energy =   0.0434
Level     1,  Iter    31:    Energy =   0.0436
Level     1,  Iter    32:    Energy =   0.0438
Level     1,  Iter    33:    Energy =   0.0440
Level     1,  Iter    34:    Energy =   0.0441
Level     1,  Iter    35:    Energy =   0.0442
Level     1,  Iter    36:    Energy =   0.0443
Level     1,  Iter    37:    Energy =   0.0444
Level     1,  Iter    38:    Energy =   0.0444
Level     1,  Iter    39:    Energy =   0.0445
Level     1,  Iter    40:    Energy =   0.0446
Level     1,  Iter    41:    Energy =   0.0447
Level     1,  Iter    42:    Energy =   0.0448
Level     1,  Iter    43:    Energy =   0.0448
Level     1,  Iter    44:    Energy =   0.0449
Level     1,  Iter    45:    Energy =   0.0449
Level     1,  Iter    46:    Energy =   0.0450
Level     1,  Iter    47:    Energy =   0.0451
Level     1,  Iter    48:    Energy =   0.0451
Level     1,  Iter    49:    Energy =   0.0452
Level     1,  Iter    50:    Energy =   0.0452
Level     1,  Iter    51:    Energy =   0.0452
Level     1,  Iter    52:    Energy =   0.0453
Level     1,  Iter    53:    Energy =   0.0453
Level     1,  Iter    54:    Energy =   0.0453
Level     1,  Iter    55:    Energy =   0.0453
Level     1,  Iter    56:    Energy =   0.0453
Level     1,  Iter    57:    Energy =   0.0453
Level     1,  Iter    58:    Energy =   0.0453
Level     1,  Iter    59:    Energy =   0.0453
END OF LEVEL     1    DetJac Range:   0.0360  to   4.1949 
  Avg. Gradient Time  : 0.0285s  34.89% 
  Avg. Gaussian Time  : 0.0419s  51.33% 
  Avg. Iteration Time : 0.0816s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0207
Level     2,  Iter     1:    Energy =   0.0217
Level     2,  Iter     2:    Energy =   0.0225
Level     2,  Iter     3:    Energy =   0.0231
Level     2,  Iter     4:    Energy =   0.0236
Level     2,  Iter     5:    Energy =   0.0242
Level     2,  Iter     6:    Energy =   0.0249
Level     2,  Iter     7:    Energy =   0.0257
Level     2,  Iter     8:    Energy =   0.0264
Level     2,  Iter     9:    Energy =   0.0269
Level     2,  Iter    10:    Energy =   0.0273
Level     2,  Iter    11:    Energy =   0.0277
Level     2,  Iter    12:    Energy =   0.0281
Level     2,  Iter    13:    Energy =   0.0283
Level     2,  Iter    14:    Energy =   0.0286
Level     2,  Iter    15:    Energy =   0.0288
Level     2,  Iter    16:    Energy =   0.0290
Level     2,  Iter    17:    Energy =   0.0291
Level     2,  Iter    18:    Energy =   0.0294
Level     2,  Iter    19:    Energy =   0.0296
END OF LEVEL     2    DetJac Range:   0.0296  to   4.4352 
  Avg. Gradient Time  : 0.1864s  33.01% 
  Avg. Gaussian Time  : 0.3023s  53.55% 
  Avg. Iteration Time : 0.5646s 

real	0m20.153s
user	0m35.188s
sys	0m2.040s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.397143 0.401429
+ echo 'CHUNK 0.397143 0.401429 1'
CHUNK 0.397143 0.401429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.397143 0.401429 1
====================================
         PROGRESS: 0.397143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 579.424   GNORM= 298.788
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       326.627     194.910       0.003
   2    3       -42.974     173.115       1.000
   3    4      -380.989     123.784       1.000
   4    6      -407.679     271.930       0.312
   5    8      -414.573      80.231       0.129
   6   12      -472.338      43.927       3.737
   7   14      -487.840      55.030       5.000
   8   15      -607.194      54.258       1.000
   9   16      -624.548      54.500       1.000
  10   17      -696.524      98.219       1.000
  11   18      -845.980      63.241       1.000
  12   19      -923.899      58.139       1.000
  13   22     -1002.792     105.981       0.092
  14   26     -1084.997     106.806       1.502
  15   27     -1109.221     267.201       1.000
  16   32     -1110.424     197.573       0.001
  17   37     -1111.150     154.938       0.109
  18   41     -1111.153     136.571       0.037
  19   60     -1118.261     120.016       1.000
Final RAS Transform: 
0.646846 0.227515 -0.258214 0.631854 
0.218243 0.665705 -0.0599487 15.2316 
-0.469236 -0.0748203 0.984219 -2.44058 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -506.755   GNORM= 279.013
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    8      -507.272     110.783       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.646838 0.227506 -0.258193 0.6305 
0.218242 0.665721 -0.059945 15.2319 
-0.469237 -0.0748171 0.984211 -2.44044 
0 0 0 1 

Final RAS Transform: 
0.646838 0.227506 -0.258193 0.6305 
0.218242 0.665721 -0.059945 15.2319 
-0.469237 -0.0748171 0.984211 -2.44044 
0 0 0 1 


real	0m3.988s
user	0m6.292s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.361664
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0270
Level     0,  Iter     1:    Energy =   0.0305
Level     0,  Iter     2:    Energy =   0.0341
Level     0,  Iter     3:    Energy =   0.0371
Level     0,  Iter     4:    Energy =   0.0393
Level     0,  Iter     5:    Energy =   0.0408
Level     0,  Iter     6:    Energy =   0.0420
Level     0,  Iter     7:    Energy =   0.0431
Level     0,  Iter     8:    Energy =   0.0436
Level     0,  Iter     9:    Energy =   0.0440
Level     0,  Iter    10:    Energy =   0.0442
Level     0,  Iter    11:    Energy =   0.0443
Level     0,  Iter    12:    Energy =   0.0445
Level     0,  Iter    13:    Energy =   0.0447
Level     0,  Iter    14:    Energy =   0.0450
Level     0,  Iter    15:    Energy =   0.0451
Level     0,  Iter    16:    Energy =   0.0453
Level     0,  Iter    17:    Energy =   0.0453
Level     0,  Iter    18:    Energy =   0.0453
Level     0,  Iter    19:    Energy =   0.0453
Level     0,  Iter    20:    Energy =   0.0454
Level     0,  Iter    21:    Energy =   0.0454
Level     0,  Iter    22:    Energy =   0.0454
Level     0,  Iter    23:    Energy =   0.0454
Level     0,  Iter    24:    Energy =   0.0454
Level     0,  Iter    25:    Energy =   0.0454
Level     0,  Iter    26:    Energy =   0.0455
Level     0,  Iter    27:    Energy =   0.0455
Level     0,  Iter    28:    Energy =   0.0456
Level     0,  Iter    29:    Energy =   0.0457
Level     0,  Iter    30:    Energy =   0.0457
Level     0,  Iter    31:    Energy =   0.0458
Level     0,  Iter    32:    Energy =   0.0459
Level     0,  Iter    33:    Energy =   0.0459
Level     0,  Iter    34:    Energy =   0.0460
Level     0,  Iter    35:    Energy =   0.0461
Level     0,  Iter    36:    Energy =   0.0461
Level     0,  Iter    37:    Energy =   0.0462
Level     0,  Iter    38:    Energy =   0.0463
Level     0,  Iter    39:    Energy =   0.0463
Level     0,  Iter    40:    Energy =   0.0463
Level     0,  Iter    41:    Energy =   0.0463
Level     0,  Iter    42:    Energy =   0.0463
Level     0,  Iter    43:    Energy =   0.0463
Level     0,  Iter    44:    Energy =   0.0463
Level     0,  Iter    45:    Energy =   0.0464
Level     0,  Iter    46:    Energy =   0.0465
Level     0,  Iter    47:    Energy =   0.0466
Level     0,  Iter    48:    Energy =   0.0467
Level     0,  Iter    49:    Energy =   0.0469
Level     0,  Iter    50:    Energy =   0.0470
Level     0,  Iter    51:    Energy =   0.0470
Level     0,  Iter    52:    Energy =   0.0471
Level     0,  Iter    53:    Energy =   0.0472
Level     0,  Iter    54:    Energy =   0.0472
Level     0,  Iter    55:    Energy =   0.0472
Level     0,  Iter    56:    Energy =   0.0472
Level     0,  Iter    57:    Energy =   0.0472
Level     0,  Iter    58:    Energy =   0.0472
Level     0,  Iter    59:    Energy =   0.0472
END OF LEVEL     0    DetJac Range:   0.0915  to   2.1573 
  Avg. Gradient Time  : 0.0067s  33.16% 
  Avg. Gaussian Time  : 0.0098s  48.48% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0240
Level     1,  Iter     1:    Energy =   0.0255
Level     1,  Iter     2:    Energy =   0.0269
Level     1,  Iter     3:    Energy =   0.0281
Level     1,  Iter     4:    Energy =   0.0291
Level     1,  Iter     5:    Energy =   0.0299
Level     1,  Iter     6:    Energy =   0.0306
Level     1,  Iter     7:    Energy =   0.0313
Level     1,  Iter     8:    Energy =   0.0319
Level     1,  Iter     9:    Energy =   0.0325
Level     1,  Iter    10:    Energy =   0.0330
Level     1,  Iter    11:    Energy =   0.0335
Level     1,  Iter    12:    Energy =   0.0340
Level     1,  Iter    13:    Energy =   0.0344
Level     1,  Iter    14:    Energy =   0.0346
Level     1,  Iter    15:    Energy =   0.0349
Level     1,  Iter    16:    Energy =   0.0351
Level     1,  Iter    17:    Energy =   0.0354
Level     1,  Iter    18:    Energy =   0.0357
Level     1,  Iter    19:    Energy =   0.0360
Level     1,  Iter    20:    Energy =   0.0363
Level     1,  Iter    21:    Energy =   0.0366
Level     1,  Iter    22:    Energy =   0.0369
Level     1,  Iter    23:    Energy =   0.0371
Level     1,  Iter    24:    Energy =   0.0373
Level     1,  Iter    25:    Energy =   0.0376
Level     1,  Iter    26:    Energy =   0.0378
Level     1,  Iter    27:    Energy =   0.0380
Level     1,  Iter    28:    Energy =   0.0381
Level     1,  Iter    29:    Energy =   0.0383
Level     1,  Iter    30:    Energy =   0.0384
Level     1,  Iter    31:    Energy =   0.0386
Level     1,  Iter    32:    Energy =   0.0388
Level     1,  Iter    33:    Energy =   0.0389
Level     1,  Iter    34:    Energy =   0.0391
Level     1,  Iter    35:    Energy =   0.0392
Level     1,  Iter    36:    Energy =   0.0394
Level     1,  Iter    37:    Energy =   0.0395
Level     1,  Iter    38:    Energy =   0.0397
Level     1,  Iter    39:    Energy =   0.0398
Level     1,  Iter    40:    Energy =   0.0399
Level     1,  Iter    41:    Energy =   0.0400
Level     1,  Iter    42:    Energy =   0.0400
Level     1,  Iter    43:    Energy =   0.0401
Level     1,  Iter    44:    Energy =   0.0401
Level     1,  Iter    45:    Energy =   0.0402
Level     1,  Iter    46:    Energy =   0.0403
Level     1,  Iter    47:    Energy =   0.0404
Level     1,  Iter    48:    Energy =   0.0405
Level     1,  Iter    49:    Energy =   0.0406
Level     1,  Iter    50:    Energy =   0.0406
Level     1,  Iter    51:    Energy =   0.0407
Level     1,  Iter    52:    Energy =   0.0408
Level     1,  Iter    53:    Energy =   0.0408
Level     1,  Iter    54:    Energy =   0.0409
Level     1,  Iter    55:    Energy =   0.0409
Level     1,  Iter    56:    Energy =   0.0410
Level     1,  Iter    57:    Energy =   0.0410
Level     1,  Iter    58:    Energy =   0.0411
Level     1,  Iter    59:    Energy =   0.0411
END OF LEVEL     1    DetJac Range:   0.0187  to   3.2666 
  Avg. Gradient Time  : 0.0279s  34.51% 
  Avg. Gaussian Time  : 0.0417s  51.60% 
  Avg. Iteration Time : 0.0808s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0185
Level     2,  Iter     1:    Energy =   0.0194
Level     2,  Iter     2:    Energy =   0.0201
Level     2,  Iter     3:    Energy =   0.0207
Level     2,  Iter     4:    Energy =   0.0214
Level     2,  Iter     5:    Energy =   0.0219
Level     2,  Iter     6:    Energy =   0.0222
Level     2,  Iter     7:    Energy =   0.0227
big value: -73830.056510
big value: -32155.736069
big value: -49908.090719
Level     2,  Iter     8:    Energy =   0.0231
Level     2,  Iter     9:    Energy =   0.0226
Level     2,  Iter    10:    Energy =   0.0230
Level     2,  Iter    11:    Energy =   0.0234
Level     2,  Iter    12:    Energy =   0.0238
Level     2,  Iter    13:    Energy =   0.0241
Level     2,  Iter    14:    Energy =   0.0243
Level     2,  Iter    15:    Energy =   0.0246
big value: 5255.027558
big value: -71551.941279
big value: -79812.721022
Level     2,  Iter    16:    Energy =   0.0243
Level     2,  Iter    17:    Energy =   0.0236
Level     2,  Iter    18:    Energy =   0.0240
Level     2,  Iter    19:    Energy =   0.0237
END OF LEVEL     2    DetJac Range:   0.0223  to   3.0647 
  Avg. Gradient Time  : 0.1902s  33.28% 
  Avg. Gaussian Time  : 0.3047s  53.32% 
  Avg. Iteration Time : 0.5714s 

real	0m20.235s
user	0m35.068s
sys	0m2.336s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401429 0.405714
+ echo 'CHUNK 0.401429 0.405714 1'
CHUNK 0.401429 0.405714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401429 0.405714 1
====================================
         PROGRESS: 0.401429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.515
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 323.644   GNORM= 243.624
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       117.854     185.405       0.004
   2    3      -356.580      72.063       1.000
   3    4      -421.343      66.444       1.000
   4    5      -466.561      44.598       1.000
   5    7      -595.909      60.581       5.000
   6    9      -638.751      55.872       0.212
   7   10      -667.050      44.938       1.000
   8   11      -709.305      34.534       1.000
   9   12      -784.744      73.724       1.000
  10   13      -804.979      52.581       1.000
  11   14      -879.216      43.538       1.000
  12   17      -889.668      87.070       0.026
  13   19      -897.797      76.184       0.214
  14   20      -902.292      53.872       1.000
  15   21      -908.196      22.838       1.000
  16   22      -910.970      24.436       1.000
  17   23      -912.922      32.692       1.000
  18   24      -915.053      36.132       1.000
  19   25      -918.013      31.248       1.000
  20   26      -922.617      31.015       1.000
  21   28      -924.050      14.678       0.115
  22   30      -925.375      12.599       0.275
  23   31      -926.295      35.994       1.000
  24   32      -927.434      13.300       1.000
  25   33      -927.571       8.317       1.000
  26   35      -927.691       8.953       0.355
  27   36      -927.832       4.818       1.000
  28   37      -927.852       6.334       1.000
  29   38      -927.990       8.777       1.000
  30   39      -928.306      15.266       1.000
  31   40      -928.562      19.036       1.000
  32   41      -928.590      10.973       1.000
  33   42      -928.778       4.763       1.000
  34   43      -928.898       3.474       1.000
  35   47      -929.007      15.758       1.370
  36   48      -929.151      15.130       1.000
  37   49      -929.423       5.680       1.000
  38   51      -929.426      13.719       0.336
  39   52      -929.595       6.567       1.000
  40   53      -929.762       5.228       1.000
  41   54      -930.047       9.091       1.000
  42   56      -930.192      12.002       0.224
  43   58      -930.269      12.944       0.183
  44   59      -930.400      11.678       1.000
  45   60      -930.581       5.874       1.000
  46   61      -930.589       6.201       1.000
Final RAS Transform: 
0.702822 0.225585 -0.217967 4.78191 
0.00782869 1.03806 0.0311575 7.8047 
-0.316632 -0.259253 0.739587 -2.00533 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -428.019   GNORM= 74.653
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -430.302      44.673       0.013
   2    3      -443.860      47.863       1.000
   3    6      -448.372      43.324       2.008
   4    7      -461.176      26.481       1.000
   5    8      -471.691      20.237       1.000
   6   13      -489.984      41.137       0.497
   7   14      -492.252      25.139       1.000
   8   16      -495.158      38.067       5.000
   9   20      -495.183      34.297       0.363
  10   21      -505.328      22.589       1.000
  11   26      -506.217      44.791       1.213
  12   27      -513.439      33.249       1.000
  13   28      -513.684      38.633       1.000
  14   38      -513.869      33.251       0.000
  15   39      -516.085      34.021       1.000
  16   42      -528.995      46.929       1.935
  17   46      -539.554     262.516       1.573
  18   61      -539.824      43.967       0.007
Final RAS Transform: 
0.76155 0.224731 -0.113668 6.23888 
0.0759634 0.983186 0.150603 10.1877 
-0.268295 -0.257009 0.848882 -2.17316 
0 0 0 1 

Final RAS Transform: 
0.76155 0.224731 -0.113668 6.23888 
0.0759634 0.983186 0.150603 10.1877 
-0.268295 -0.257009 0.848882 -2.17316 
0 0 0 1 


real	0m6.050s
user	0m10.128s
sys	0m0.596s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.346953
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0220
Level     0,  Iter     1:    Energy =   0.0236
Level     0,  Iter     2:    Energy =   0.0263
Level     0,  Iter     3:    Energy =   0.0286
Level     0,  Iter     4:    Energy =   0.0308
Level     0,  Iter     5:    Energy =   0.0326
Level     0,  Iter     6:    Energy =   0.0343
Level     0,  Iter     7:    Energy =   0.0356
Level     0,  Iter     8:    Energy =   0.0365
Level     0,  Iter     9:    Energy =   0.0372
Level     0,  Iter    10:    Energy =   0.0377
Level     0,  Iter    11:    Energy =   0.0381
Level     0,  Iter    12:    Energy =   0.0384
Level     0,  Iter    13:    Energy =   0.0385
Level     0,  Iter    14:    Energy =   0.0387
Level     0,  Iter    15:    Energy =   0.0389
Level     0,  Iter    16:    Energy =   0.0391
Level     0,  Iter    17:    Energy =   0.0392
Level     0,  Iter    18:    Energy =   0.0394
Level     0,  Iter    19:    Energy =   0.0396
Level     0,  Iter    20:    Energy =   0.0398
Level     0,  Iter    21:    Energy =   0.0401
Level     0,  Iter    22:    Energy =   0.0402
Level     0,  Iter    23:    Energy =   0.0403
Level     0,  Iter    24:    Energy =   0.0404
Level     0,  Iter    25:    Energy =   0.0405
Level     0,  Iter    26:    Energy =   0.0405
Level     0,  Iter    27:    Energy =   0.0406
Level     0,  Iter    28:    Energy =   0.0406
Level     0,  Iter    29:    Energy =   0.0407
Level     0,  Iter    30:    Energy =   0.0408
Level     0,  Iter    31:    Energy =   0.0409
Level     0,  Iter    32:    Energy =   0.0410
Level     0,  Iter    33:    Energy =   0.0410
Level     0,  Iter    34:    Energy =   0.0410
Level     0,  Iter    35:    Energy =   0.0411
Level     0,  Iter    36:    Energy =   0.0411
Level     0,  Iter    37:    Energy =   0.0411
Level     0,  Iter    38:    Energy =   0.0412
Level     0,  Iter    39:    Energy =   0.0412
Level     0,  Iter    40:    Energy =   0.0412
Level     0,  Iter    41:    Energy =   0.0412
Level     0,  Iter    42:    Energy =   0.0412
Level     0,  Iter    43:    Energy =   0.0412
Level     0,  Iter    44:    Energy =   0.0413
Level     0,  Iter    45:    Energy =   0.0413
Level     0,  Iter    46:    Energy =   0.0414
Level     0,  Iter    47:    Energy =   0.0414
Level     0,  Iter    48:    Energy =   0.0414
Level     0,  Iter    49:    Energy =   0.0415
Level     0,  Iter    50:    Energy =   0.0415
Level     0,  Iter    51:    Energy =   0.0415
Level     0,  Iter    52:    Energy =   0.0416
Level     0,  Iter    53:    Energy =   0.0416
Level     0,  Iter    54:    Energy =   0.0417
Level     0,  Iter    55:    Energy =   0.0417
Level     0,  Iter    56:    Energy =   0.0418
Level     0,  Iter    57:    Energy =   0.0418
Level     0,  Iter    58:    Energy =   0.0419
Level     0,  Iter    59:    Energy =   0.0419
END OF LEVEL     0    DetJac Range:   0.0355  to   2.6791 
  Avg. Gradient Time  : 0.0068s  33.43% 
  Avg. Gaussian Time  : 0.0098s  48.30% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0271
Level     1,  Iter     1:    Energy =   0.0284
Level     1,  Iter     2:    Energy =   0.0295
Level     1,  Iter     3:    Energy =   0.0305
Level     1,  Iter     4:    Energy =   0.0314
Level     1,  Iter     5:    Energy =   0.0322
Level     1,  Iter     6:    Energy =   0.0329
Level     1,  Iter     7:    Energy =   0.0336
Level     1,  Iter     8:    Energy =   0.0342
Level     1,  Iter     9:    Energy =   0.0347
Level     1,  Iter    10:    Energy =   0.0352
Level     1,  Iter    11:    Energy =   0.0357
Level     1,  Iter    12:    Energy =   0.0361
Level     1,  Iter    13:    Energy =   0.0364
Level     1,  Iter    14:    Energy =   0.0367
Level     1,  Iter    15:    Energy =   0.0370
Level     1,  Iter    16:    Energy =   0.0372
Level     1,  Iter    17:    Energy =   0.0375
Level     1,  Iter    18:    Energy =   0.0376
Level     1,  Iter    19:    Energy =   0.0378
Level     1,  Iter    20:    Energy =   0.0380
Level     1,  Iter    21:    Energy =   0.0381
Level     1,  Iter    22:    Energy =   0.0383
Level     1,  Iter    23:    Energy =   0.0384
Level     1,  Iter    24:    Energy =   0.0385
Level     1,  Iter    25:    Energy =   0.0386
Level     1,  Iter    26:    Energy =   0.0387
Level     1,  Iter    27:    Energy =   0.0388
Level     1,  Iter    28:    Energy =   0.0388
Level     1,  Iter    29:    Energy =   0.0389
Level     1,  Iter    30:    Energy =   0.0389
Level     1,  Iter    31:    Energy =   0.0389
Level     1,  Iter    32:    Energy =   0.0389
Level     1,  Iter    33:    Energy =   0.0388
Level     1,  Iter    34:    Energy =   0.0388
Level     1,  Iter    35:    Energy =   0.0387
Level     1,  Iter    36:    Energy =   0.0387
Level     1,  Iter    37:    Energy =   0.0387
Level     1,  Iter    38:    Energy =   0.0386
Level     1,  Iter    39:    Energy =   0.0386
Level     1,  Iter    40:    Energy =   0.0386
Level     1,  Iter    41:    Energy =   0.0385
Level     1,  Iter    42:    Energy =   0.0385
Level     1,  Iter    43:    Energy =   0.0384
Level     1,  Iter    44:    Energy =   0.0384
Level     1,  Iter    45:    Energy =   0.0384
Level     1,  Iter    46:    Energy =   0.0383
Level     1,  Iter    47:    Energy =   0.0384
Level     1,  Iter    48:    Energy =   0.0384
Level     1,  Iter    49:    Energy =   0.0384
Level     1,  Iter    50:    Energy =   0.0384
Level     1,  Iter    51:    Energy =   0.0384
Level     1,  Iter    52:    Energy =   0.0385
Level     1,  Iter    53:    Energy =   0.0385
Level     1,  Iter    54:    Energy =   0.0385
Level     1,  Iter    55:    Energy =   0.0385
Level     1,  Iter    56:    Energy =   0.0385
Level     1,  Iter    57:    Energy =   0.0386
Level     1,  Iter    58:    Energy =   0.0386
Level     1,  Iter    59:    Energy =   0.0386
END OF LEVEL     1    DetJac Range:   0.0247  to   3.1342 
  Avg. Gradient Time  : 0.0279s  34.32% 
  Avg. Gaussian Time  : 0.0420s  51.72% 
  Avg. Iteration Time : 0.0812s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0175
Level     2,  Iter     1:    Energy =   0.0182
Level     2,  Iter     2:    Energy =   0.0190
Level     2,  Iter     3:    Energy =   0.0198
Level     2,  Iter     4:    Energy =   0.0206
Level     2,  Iter     5:    Energy =   0.0213
Level     2,  Iter     6:    Energy =   0.0219
Level     2,  Iter     7:    Energy =   0.0224
Level     2,  Iter     8:    Energy =   0.0229
Level     2,  Iter     9:    Energy =   0.0233
Level     2,  Iter    10:    Energy =   0.0238
Level     2,  Iter    11:    Energy =   0.0241
Level     2,  Iter    12:    Energy =   0.0245
Level     2,  Iter    13:    Energy =   0.0249
Level     2,  Iter    14:    Energy =   0.0253
Level     2,  Iter    15:    Energy =   0.0256
Level     2,  Iter    16:    Energy =   0.0259
Level     2,  Iter    17:    Energy =   0.0262
Level     2,  Iter    18:    Energy =   0.0264
Level     2,  Iter    19:    Energy =   0.0267
END OF LEVEL     2    DetJac Range:   0.0140  to   5.2477 
  Avg. Gradient Time  : 0.1869s  32.91% 
  Avg. Gaussian Time  : 0.3049s  53.71% 
  Avg. Iteration Time : 0.5677s 

real	0m20.218s
user	0m35.268s
sys	0m2.072s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.405714 0.41
+ echo 'CHUNK 0.405714 0.41 1'
CHUNK 0.405714 0.41 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.405714 0.41 1
====================================
         PROGRESS: 0.405714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.61
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 340.205   GNORM= 278.56
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       106.810     178.347       0.004
   2    3      -155.145     116.775       1.000
   3    5      -424.603      38.275       5.000
   4    9      -587.652     138.600       2.162
   5   13      -666.455     116.549       0.817
   6   14      -712.881      46.713       1.000
   7   15      -765.624      74.408       1.000
   8   22      -773.553     108.452       0.032
   9   23      -820.638     117.864       1.000
  10   25      -872.206      59.987       0.143
  11   26      -894.384      76.267       1.000
  12   27      -913.003      28.259       1.000
  13   28      -926.290     114.316       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.834221 0.0678094 0.0844306 0.809278 
0.326593 0.913943 -0.0333388 9.48499 
-0.237135 -0.0343687 1.13896 -2.84125 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -397.872   GNORM= 57.5944
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -402.556     313.156       0.017
   2    6      -407.656      35.360       0.803
   3    7      -407.670      48.671       1.000
   4   25      -407.949      43.132       0.401
   5   26      -409.912      71.258       1.000
   6   32      -412.602      39.049       1.016
   7   33      -413.545      72.750       1.000
   8   37      -415.852     166.203       1.614
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.834891 0.0661278 0.0853152 0.323224 
0.326011 0.908575 -0.0268162 9.23003 
-0.232016 -0.0331124 1.13891 -2.35148 
0 0 0 1 

Final RAS Transform: 
0.834891 0.0661278 0.0853152 0.323224 
0.326011 0.908575 -0.0268162 9.23003 
-0.232016 -0.0331124 1.13891 -2.35148 
0 0 0 1 


real	0m5.586s
user	0m9.264s
sys	0m0.616s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.428764
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0209
Level     0,  Iter     1:    Energy =   0.0233
Level     0,  Iter     2:    Energy =   0.0260
Level     0,  Iter     3:    Energy =   0.0283
Level     0,  Iter     4:    Energy =   0.0306
Level     0,  Iter     5:    Energy =   0.0320
Level     0,  Iter     6:    Energy =   0.0333
Level     0,  Iter     7:    Energy =   0.0345
Level     0,  Iter     8:    Energy =   0.0358
Level     0,  Iter     9:    Energy =   0.0370
Level     0,  Iter    10:    Energy =   0.0384
Level     0,  Iter    11:    Energy =   0.0390
Level     0,  Iter    12:    Energy =   0.0401
Level     0,  Iter    13:    Energy =   0.0409
Level     0,  Iter    14:    Energy =   0.0415
Level     0,  Iter    15:    Energy =   0.0421
Level     0,  Iter    16:    Energy =   0.0429
Level     0,  Iter    17:    Energy =   0.0437
Level     0,  Iter    18:    Energy =   0.0446
Level     0,  Iter    19:    Energy =   0.0458
Level     0,  Iter    20:    Energy =   0.0466
Level     0,  Iter    21:    Energy =   0.0472
Level     0,  Iter    22:    Energy =   0.0477
Level     0,  Iter    23:    Energy =   0.0482
Level     0,  Iter    24:    Energy =   0.0485
Level     0,  Iter    25:    Energy =   0.0487
Level     0,  Iter    26:    Energy =   0.0490
Level     0,  Iter    27:    Energy =   0.0492
Level     0,  Iter    28:    Energy =   0.0494
Level     0,  Iter    29:    Energy =   0.0496
Level     0,  Iter    30:    Energy =   0.0497
Level     0,  Iter    31:    Energy =   0.0499
Level     0,  Iter    32:    Energy =   0.0500
Level     0,  Iter    33:    Energy =   0.0502
Level     0,  Iter    34:    Energy =   0.0504
Level     0,  Iter    35:    Energy =   0.0506
Level     0,  Iter    36:    Energy =   0.0507
Level     0,  Iter    37:    Energy =   0.0509
Level     0,  Iter    38:    Energy =   0.0510
Level     0,  Iter    39:    Energy =   0.0512
Level     0,  Iter    40:    Energy =   0.0514
Level     0,  Iter    41:    Energy =   0.0513
Level     0,  Iter    42:    Energy =   0.0513
Level     0,  Iter    43:    Energy =   0.0515
Level     0,  Iter    44:    Energy =   0.0513
Level     0,  Iter    45:    Energy =   0.0516
Level     0,  Iter    46:    Energy =   0.0518
Level     0,  Iter    47:    Energy =   0.0518
Level     0,  Iter    48:    Energy =   0.0519
Level     0,  Iter    49:    Energy =   0.0519
Level     0,  Iter    50:    Energy =   0.0522
Level     0,  Iter    51:    Energy =   0.0522
Level     0,  Iter    52:    Energy =   0.0522
Level     0,  Iter    53:    Energy =   0.0524
Level     0,  Iter    54:    Energy =   0.0525
Level     0,  Iter    55:    Energy =   0.0526
Level     0,  Iter    56:    Energy =   0.0527
Level     0,  Iter    57:    Energy =   0.0529
Level     0,  Iter    58:    Energy =   0.0530
Level     0,  Iter    59:    Energy =   0.0531
END OF LEVEL     0    DetJac Range:   0.0675  to   2.3498 
  Avg. Gradient Time  : 0.0069s  33.61% 
  Avg. Gaussian Time  : 0.0098s  48.25% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0309
Level     1,  Iter     1:    Energy =   0.0329
Level     1,  Iter     2:    Energy =   0.0346
Level     1,  Iter     3:    Energy =   0.0363
Level     1,  Iter     4:    Energy =   0.0371
Level     1,  Iter     5:    Energy =   0.0382
Level     1,  Iter     6:    Energy =   0.0392
Level     1,  Iter     7:    Energy =   0.0399
Level     1,  Iter     8:    Energy =   0.0404
Level     1,  Iter     9:    Energy =   0.0409
Level     1,  Iter    10:    Energy =   0.0414
Level     1,  Iter    11:    Energy =   0.0418
Level     1,  Iter    12:    Energy =   0.0421
Level     1,  Iter    13:    Energy =   0.0424
Level     1,  Iter    14:    Energy =   0.0427
Level     1,  Iter    15:    Energy =   0.0429
Level     1,  Iter    16:    Energy =   0.0431
Level     1,  Iter    17:    Energy =   0.0433
Level     1,  Iter    18:    Energy =   0.0434
Level     1,  Iter    19:    Energy =   0.0437
Level     1,  Iter    20:    Energy =   0.0438
Level     1,  Iter    21:    Energy =   0.0439
Level     1,  Iter    22:    Energy =   0.0440
Level     1,  Iter    23:    Energy =   0.0440
Level     1,  Iter    24:    Energy =   0.0441
Level     1,  Iter    25:    Energy =   0.0441
Level     1,  Iter    26:    Energy =   0.0442
Level     1,  Iter    27:    Energy =   0.0442
Level     1,  Iter    28:    Energy =   0.0444
Level     1,  Iter    29:    Energy =   0.0445
Level     1,  Iter    30:    Energy =   0.0446
Level     1,  Iter    31:    Energy =   0.0446
Level     1,  Iter    32:    Energy =   0.0446
Level     1,  Iter    33:    Energy =   0.0446
Level     1,  Iter    34:    Energy =   0.0446
Level     1,  Iter    35:    Energy =   0.0446
Level     1,  Iter    36:    Energy =   0.0446
Level     1,  Iter    37:    Energy =   0.0446
Level     1,  Iter    38:    Energy =   0.0446
Level     1,  Iter    39:    Energy =   0.0446
Level     1,  Iter    40:    Energy =   0.0446
Level     1,  Iter    41:    Energy =   0.0445
Level     1,  Iter    42:    Energy =   0.0444
Level     1,  Iter    43:    Energy =   0.0444
Level     1,  Iter    44:    Energy =   0.0445
Level     1,  Iter    45:    Energy =   0.0445
Level     1,  Iter    46:    Energy =   0.0445
Level     1,  Iter    47:    Energy =   0.0445
Level     1,  Iter    48:    Energy =   0.0446
Level     1,  Iter    49:    Energy =   0.0446
Level     1,  Iter    50:    Energy =   0.0446
Level     1,  Iter    51:    Energy =   0.0446
Level     1,  Iter    52:    Energy =   0.0445
Level     1,  Iter    53:    Energy =   0.0445
Level     1,  Iter    54:    Energy =   0.0445
Level     1,  Iter    55:    Energy =   0.0446
Level     1,  Iter    56:    Energy =   0.0447
Level     1,  Iter    57:    Energy =   0.0448
Level     1,  Iter    58:    Energy =   0.0448
Level     1,  Iter    59:    Energy =   0.0448
END OF LEVEL     1    DetJac Range:   0.0583  to   2.9375 
  Avg. Gradient Time  : 0.0278s  34.27% 
  Avg. Gaussian Time  : 0.0421s  51.89% 
  Avg. Iteration Time : 0.0811s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0206
Level     2,  Iter     1:    Energy =   0.0215
Level     2,  Iter     2:    Energy =   0.0225
Level     2,  Iter     3:    Energy =   0.0232
Level     2,  Iter     4:    Energy =   0.0239
Level     2,  Iter     5:    Energy =   0.0244
Level     2,  Iter     6:    Energy =   0.0249
Level     2,  Iter     7:    Energy =   0.0254
Level     2,  Iter     8:    Energy =   0.0258
Level     2,  Iter     9:    Energy =   0.0262
Level     2,  Iter    10:    Energy =   0.0266
Level     2,  Iter    11:    Energy =   0.0269
Level     2,  Iter    12:    Energy =   0.0272
Level     2,  Iter    13:    Energy =   0.0274
Level     2,  Iter    14:    Energy =   0.0275
Level     2,  Iter    15:    Energy =   0.0277
Level     2,  Iter    16:    Energy =   0.0279
Level     2,  Iter    17:    Energy =   0.0280
Level     2,  Iter    18:    Energy =   0.0281
Level     2,  Iter    19:    Energy =   0.0282
END OF LEVEL     2    DetJac Range:   0.0350  to   3.0804 
  Avg. Gradient Time  : 0.1852s  32.77% 
  Avg. Gaussian Time  : 0.3044s  53.86% 
  Avg. Iteration Time : 0.5652s 

real	0m20.217s
user	0m35.140s
sys	0m2.160s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.41 0.414286
+ echo 'CHUNK 0.41 0.414286 1'
CHUNK 0.41 0.414286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.41 0.414286 1
====================================
         PROGRESS: 0.41               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.56
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 292.745   GNORM= 283.414
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        71.079     155.596       0.004
   2    3      -145.252     162.181       1.000
   3    5      -554.857     149.488       0.463
   4    8      -577.195      91.722       0.108
   5    9      -610.338      53.338       1.000
   6   10      -637.022      36.996       1.000
   7   14      -693.263     118.867       1.424
   8   15      -734.408      48.696       1.000
   9   16      -845.057     101.696       1.000
  10   18      -872.981      94.861       0.281
  11   19      -880.068      83.194       1.000
  12   22      -893.225      74.112       2.107
  13   23      -919.962      65.920       1.000
  14   27      -929.564      62.950       0.051
  15   28      -944.675      45.395       1.000
  16   29      -960.851      43.665       1.000
  17   30      -981.853      67.825       1.000
  18   31      -993.605      54.728       1.000
  19   33     -1007.847      43.702       0.267
  20   35     -1009.216      39.442       0.168
  21   37     -1016.891      34.367       0.433
  22   38     -1024.450      29.213       1.000
  23   39     -1032.832      35.945       1.000
  24   40     -1037.245      35.197       1.000
  25   41     -1041.591      17.754       1.000
  26   42     -1045.295      21.142       1.000
  27   44     -1049.463      26.724       0.221
  28   45     -1050.541      13.235       1.000
  29   48     -1068.226      44.444       2.888
  30   52     -1068.411      40.272       0.007
  31   53     -1070.743      40.863       1.000
  32   55     -1072.893      26.987       0.270
  33   56     -1074.608      30.158       1.000
  34   58     -1091.088      71.027       5.000
  35   59     -1099.277      26.319       1.000
  36   60     -1104.410      34.157       1.000
  37   61     -1117.380     111.308       1.000
Final RAS Transform: 
0.890216 -0.0404152 -0.129008 1.36075 
0.376327 0.877343 0.206734 11.5209 
-0.349839 -0.0377771 0.800247 -7.57881 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -490.889   GNORM= 51.6037
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -498.516      37.416       0.003
   2    4      -504.920      65.386       1.000
   3    5      -507.994      11.960       1.000
   4    7      -509.313      19.100       5.000
   5   12      -517.572      66.786       4.433
   6   17      -524.678      52.819       0.033
   7   18      -529.218      52.942       1.000
   8   21      -535.439      11.771       0.779
   9   22      -537.476      77.407       1.000
  10   29      -540.503      41.384       0.004
  11   32      -540.739      52.953       0.308
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.889284 -0.0803443 -0.138171 1.56186 
0.368547 0.845614 0.208103 11.2636 
-0.337756 -0.0925489 0.78919 -6.48228 
0 0 0 1 

Final RAS Transform: 
0.889284 -0.0803443 -0.138171 1.56186 
0.368547 0.845614 0.208103 11.2636 
-0.337756 -0.0925489 0.78919 -6.48228 
0 0 0 1 


real	0m5.480s
user	0m9.048s
sys	0m0.612s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.381302
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0267
Level     0,  Iter     1:    Energy =   0.0288
Level     0,  Iter     2:    Energy =   0.0309
Level     0,  Iter     3:    Energy =   0.0330
Level     0,  Iter     4:    Energy =   0.0346
Level     0,  Iter     5:    Energy =   0.0361
Level     0,  Iter     6:    Energy =   0.0378
Level     0,  Iter     7:    Energy =   0.0391
Level     0,  Iter     8:    Energy =   0.0401
Level     0,  Iter     9:    Energy =   0.0408
Level     0,  Iter    10:    Energy =   0.0416
Level     0,  Iter    11:    Energy =   0.0423
Level     0,  Iter    12:    Energy =   0.0429
Level     0,  Iter    13:    Energy =   0.0434
Level     0,  Iter    14:    Energy =   0.0439
Level     0,  Iter    15:    Energy =   0.0441
Level     0,  Iter    16:    Energy =   0.0443
Level     0,  Iter    17:    Energy =   0.0445
Level     0,  Iter    18:    Energy =   0.0447
Level     0,  Iter    19:    Energy =   0.0448
Level     0,  Iter    20:    Energy =   0.0449
Level     0,  Iter    21:    Energy =   0.0449
Level     0,  Iter    22:    Energy =   0.0450
Level     0,  Iter    23:    Energy =   0.0451
Level     0,  Iter    24:    Energy =   0.0452
Level     0,  Iter    25:    Energy =   0.0453
Level     0,  Iter    26:    Energy =   0.0455
Level     0,  Iter    27:    Energy =   0.0457
Level     0,  Iter    28:    Energy =   0.0459
Level     0,  Iter    29:    Energy =   0.0460
Level     0,  Iter    30:    Energy =   0.0462
Level     0,  Iter    31:    Energy =   0.0463
Level     0,  Iter    32:    Energy =   0.0463
Level     0,  Iter    33:    Energy =   0.0463
Level     0,  Iter    34:    Energy =   0.0464
Level     0,  Iter    35:    Energy =   0.0464
Level     0,  Iter    36:    Energy =   0.0465
Level     0,  Iter    37:    Energy =   0.0465
Level     0,  Iter    38:    Energy =   0.0465
Level     0,  Iter    39:    Energy =   0.0465
Level     0,  Iter    40:    Energy =   0.0466
Level     0,  Iter    41:    Energy =   0.0466
Level     0,  Iter    42:    Energy =   0.0466
Level     0,  Iter    43:    Energy =   0.0467
Level     0,  Iter    44:    Energy =   0.0468
Level     0,  Iter    45:    Energy =   0.0469
Level     0,  Iter    46:    Energy =   0.0472
Level     0,  Iter    47:    Energy =   0.0474
Level     0,  Iter    48:    Energy =   0.0476
Level     0,  Iter    49:    Energy =   0.0478
Level     0,  Iter    50:    Energy =   0.0480
Level     0,  Iter    51:    Energy =   0.0482
Level     0,  Iter    52:    Energy =   0.0485
Level     0,  Iter    53:    Energy =   0.0489
Level     0,  Iter    54:    Energy =   0.0493
Level     0,  Iter    55:    Energy =   0.0496
Level     0,  Iter    56:    Energy =   0.0499
Level     0,  Iter    57:    Energy =   0.0502
Level     0,  Iter    58:    Energy =   0.0506
Level     0,  Iter    59:    Energy =   0.0509
END OF LEVEL     0    DetJac Range:   0.0967  to   2.3776 
  Avg. Gradient Time  : 0.0066s  33.36% 
  Avg. Gaussian Time  : 0.0096s  48.49% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0308
Level     1,  Iter     1:    Energy =   0.0332
Level     1,  Iter     2:    Energy =   0.0356
Level     1,  Iter     3:    Energy =   0.0372
Level     1,  Iter     4:    Energy =   0.0385
Level     1,  Iter     5:    Energy =   0.0395
Level     1,  Iter     6:    Energy =   0.0403
Level     1,  Iter     7:    Energy =   0.0409
Level     1,  Iter     8:    Energy =   0.0415
Level     1,  Iter     9:    Energy =   0.0420
Level     1,  Iter    10:    Energy =   0.0424
Level     1,  Iter    11:    Energy =   0.0427
Level     1,  Iter    12:    Energy =   0.0431
Level     1,  Iter    13:    Energy =   0.0434
Level     1,  Iter    14:    Energy =   0.0437
Level     1,  Iter    15:    Energy =   0.0439
Level     1,  Iter    16:    Energy =   0.0442
Level     1,  Iter    17:    Energy =   0.0444
Level     1,  Iter    18:    Energy =   0.0446
Level     1,  Iter    19:    Energy =   0.0448
Level     1,  Iter    20:    Energy =   0.0450
Level     1,  Iter    21:    Energy =   0.0452
Level     1,  Iter    22:    Energy =   0.0454
Level     1,  Iter    23:    Energy =   0.0455
Level     1,  Iter    24:    Energy =   0.0457
Level     1,  Iter    25:    Energy =   0.0459
Level     1,  Iter    26:    Energy =   0.0460
Level     1,  Iter    27:    Energy =   0.0461
Level     1,  Iter    28:    Energy =   0.0463
Level     1,  Iter    29:    Energy =   0.0464
Level     1,  Iter    30:    Energy =   0.0465
Level     1,  Iter    31:    Energy =   0.0467
Level     1,  Iter    32:    Energy =   0.0468
Level     1,  Iter    33:    Energy =   0.0470
Level     1,  Iter    34:    Energy =   0.0471
Level     1,  Iter    35:    Energy =   0.0473
Level     1,  Iter    36:    Energy =   0.0474
Level     1,  Iter    37:    Energy =   0.0475
Level     1,  Iter    38:    Energy =   0.0477
Level     1,  Iter    39:    Energy =   0.0479
Level     1,  Iter    40:    Energy =   0.0480
Level     1,  Iter    41:    Energy =   0.0481
Level     1,  Iter    42:    Energy =   0.0482
Level     1,  Iter    43:    Energy =   0.0483
Level     1,  Iter    44:    Energy =   0.0481
Level     1,  Iter    45:    Energy =   0.0482
Level     1,  Iter    46:    Energy =   0.0483
Level     1,  Iter    47:    Energy =   0.0483
Level     1,  Iter    48:    Energy =   0.0484
Level     1,  Iter    49:    Energy =   0.0485
Level     1,  Iter    50:    Energy =   0.0486
Level     1,  Iter    51:    Energy =   0.0486
Level     1,  Iter    52:    Energy =   0.0487
Level     1,  Iter    53:    Energy =   0.0487
Level     1,  Iter    54:    Energy =   0.0488
Level     1,  Iter    55:    Energy =   0.0488
Level     1,  Iter    56:    Energy =   0.0488
Level     1,  Iter    57:    Energy =   0.0488
Level     1,  Iter    58:    Energy =   0.0488
Level     1,  Iter    59:    Energy =   0.0488
END OF LEVEL     1    DetJac Range:   0.0163  to   2.8396 
  Avg. Gradient Time  : 0.0285s  34.74% 
  Avg. Gaussian Time  : 0.0422s  51.50% 
  Avg. Iteration Time : 0.0819s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0230
Level     2,  Iter     1:    Energy =   0.0230
Level     2,  Iter     2:    Energy =   0.0234
Level     2,  Iter     3:    Energy =   0.0247
Level     2,  Iter     4:    Energy =   0.0258
Level     2,  Iter     5:    Energy =   0.0269
Level     2,  Iter     6:    Energy =   0.0264
Level     2,  Iter     7:    Energy =   0.0273
Level     2,  Iter     8:    Energy =   0.0281
Level     2,  Iter     9:    Energy =   0.0288
Level     2,  Iter    10:    Energy =   0.0288
Level     2,  Iter    11:    Energy =   0.0292
big value: -1700.282205
Level     2,  Iter    12:    Energy =   0.0298
Level     2,  Iter    13:    Energy =   0.0291
Level     2,  Iter    14:    Energy =   0.0297
Level     2,  Iter    15:    Energy =   0.0301
Level     2,  Iter    16:    Energy =   0.0298
Level     2,  Iter    17:    Energy =   0.0302
Level     2,  Iter    18:    Energy =   0.0305
big value: 2642.629677
big value: 2629.823117
Level     2,  Iter    19:    Energy =   0.0300
END OF LEVEL     2    DetJac Range:   0.0219  to   2.8474 
  Avg. Gradient Time  : 0.1865s  32.89% 
  Avg. Gaussian Time  : 0.3047s  53.74% 
  Avg. Iteration Time : 0.5669s 

real	0m20.278s
user	0m35.296s
sys	0m2.128s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.414286 0.418571
+ echo 'CHUNK 0.414286 0.418571 1'
CHUNK 0.414286 0.418571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.414286 0.418571 1
====================================
         PROGRESS: 0.414286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 533.132   GNORM= 266.466
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       291.835     195.487       0.004
   2    3      -131.924     205.807       1.000
   3    4      -361.601     115.739       1.000
   4    7      -514.085      42.975       2.367
   5   13      -515.578     103.881       0.364
   6   14      -564.179      96.530       1.000
   7   18      -651.706     105.454       0.083
   8   21      -802.676     296.843       2.053
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00302 0.0159136 -0.00981705 2.35245 
0.128764 1.07213 0.0651386 7.72655 
-0.193978 -0.145732 0.906333 -6.39847 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -394.875   GNORM= 334.783
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -395.348      50.209       0.000
   2    6      -395.789     112.316       1.000
   3    7      -396.519     150.091       1.000
   4    9      -396.940     137.596       5.000
   5   10      -398.313      96.887       1.000
   6   11      -402.489      70.696       1.000
   7   17      -403.435      59.031       1.042
   8   19      -406.618      69.442       5.000
   9   23      -408.320      62.777       0.446
  10   28      -411.059      49.623       0.242
  11   32      -412.202      39.012       1.438
  12   33      -413.986      16.891       1.000
  13   38      -414.151     139.600       0.028
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00023 0.013084 -0.00921716 2.12856 
0.133093 1.06804 0.0630657 7.35945 
-0.190796 -0.149369 0.905459 -6.35945 
0 0 0 1 

Final RAS Transform: 
1.00023 0.013084 -0.00921716 2.12856 
0.133093 1.06804 0.0630657 7.35945 
-0.190796 -0.149369 0.905459 -6.35945 
0 0 0 1 


real	0m5.588s
user	0m9.332s
sys	0m0.572s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.408445
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0193
Level     0,  Iter     1:    Energy =   0.0210
Level     0,  Iter     2:    Energy =   0.0239
Level     0,  Iter     3:    Energy =   0.0261
Level     0,  Iter     4:    Energy =   0.0277
Level     0,  Iter     5:    Energy =   0.0291
Level     0,  Iter     6:    Energy =   0.0303
Level     0,  Iter     7:    Energy =   0.0313
Level     0,  Iter     8:    Energy =   0.0322
Level     0,  Iter     9:    Energy =   0.0330
Level     0,  Iter    10:    Energy =   0.0338
Level     0,  Iter    11:    Energy =   0.0344
Level     0,  Iter    12:    Energy =   0.0350
Level     0,  Iter    13:    Energy =   0.0355
Level     0,  Iter    14:    Energy =   0.0359
Level     0,  Iter    15:    Energy =   0.0362
Level     0,  Iter    16:    Energy =   0.0366
Level     0,  Iter    17:    Energy =   0.0368
Level     0,  Iter    18:    Energy =   0.0371
Level     0,  Iter    19:    Energy =   0.0373
Level     0,  Iter    20:    Energy =   0.0374
Level     0,  Iter    21:    Energy =   0.0376
Level     0,  Iter    22:    Energy =   0.0377
Level     0,  Iter    23:    Energy =   0.0378
Level     0,  Iter    24:    Energy =   0.0379
Level     0,  Iter    25:    Energy =   0.0380
Level     0,  Iter    26:    Energy =   0.0381
Level     0,  Iter    27:    Energy =   0.0382
Level     0,  Iter    28:    Energy =   0.0383
Level     0,  Iter    29:    Energy =   0.0384
Level     0,  Iter    30:    Energy =   0.0385
Level     0,  Iter    31:    Energy =   0.0386
Level     0,  Iter    32:    Energy =   0.0386
Level     0,  Iter    33:    Energy =   0.0387
Level     0,  Iter    34:    Energy =   0.0387
Level     0,  Iter    35:    Energy =   0.0387
Level     0,  Iter    36:    Energy =   0.0387
Level     0,  Iter    37:    Energy =   0.0387
Level     0,  Iter    38:    Energy =   0.0387
Level     0,  Iter    39:    Energy =   0.0387
Level     0,  Iter    40:    Energy =   0.0387
Level     0,  Iter    41:    Energy =   0.0387
Level     0,  Iter    42:    Energy =   0.0387
Level     0,  Iter    43:    Energy =   0.0387
Level     0,  Iter    44:    Energy =   0.0388
Level     0,  Iter    45:    Energy =   0.0388
Level     0,  Iter    46:    Energy =   0.0388
Level     0,  Iter    47:    Energy =   0.0388
Level     0,  Iter    48:    Energy =   0.0388
Level     0,  Iter    49:    Energy =   0.0388
Level     0,  Iter    50:    Energy =   0.0388
Level     0,  Iter    51:    Energy =   0.0388
Level     0,  Iter    52:    Energy =   0.0388
Level     0,  Iter    53:    Energy =   0.0388
Level     0,  Iter    54:    Energy =   0.0388
Level     0,  Iter    55:    Energy =   0.0388
Level     0,  Iter    56:    Energy =   0.0388
Level     0,  Iter    57:    Energy =   0.0388
Level     0,  Iter    58:    Energy =   0.0388
Level     0,  Iter    59:    Energy =   0.0388
END OF LEVEL     0    DetJac Range:   0.0451  to   1.8068 
  Avg. Gradient Time  : 0.0067s  33.24% 
  Avg. Gaussian Time  : 0.0098s  48.76% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0241
Level     1,  Iter     1:    Energy =   0.0256
Level     1,  Iter     2:    Energy =   0.0268
Level     1,  Iter     3:    Energy =   0.0277
Level     1,  Iter     4:    Energy =   0.0283
Level     1,  Iter     5:    Energy =   0.0287
Level     1,  Iter     6:    Energy =   0.0291
Level     1,  Iter     7:    Energy =   0.0294
Level     1,  Iter     8:    Energy =   0.0297
Level     1,  Iter     9:    Energy =   0.0299
Level     1,  Iter    10:    Energy =   0.0303
Level     1,  Iter    11:    Energy =   0.0308
Level     1,  Iter    12:    Energy =   0.0313
Level     1,  Iter    13:    Energy =   0.0318
Level     1,  Iter    14:    Energy =   0.0323
Level     1,  Iter    15:    Energy =   0.0327
Level     1,  Iter    16:    Energy =   0.0331
Level     1,  Iter    17:    Energy =   0.0334
Level     1,  Iter    18:    Energy =   0.0337
Level     1,  Iter    19:    Energy =   0.0339
Level     1,  Iter    20:    Energy =   0.0342
Level     1,  Iter    21:    Energy =   0.0344
Level     1,  Iter    22:    Energy =   0.0346
Level     1,  Iter    23:    Energy =   0.0348
Level     1,  Iter    24:    Energy =   0.0350
Level     1,  Iter    25:    Energy =   0.0351
Level     1,  Iter    26:    Energy =   0.0353
Level     1,  Iter    27:    Energy =   0.0354
Level     1,  Iter    28:    Energy =   0.0356
Level     1,  Iter    29:    Energy =   0.0357
Level     1,  Iter    30:    Energy =   0.0358
Level     1,  Iter    31:    Energy =   0.0359
Level     1,  Iter    32:    Energy =   0.0361
Level     1,  Iter    33:    Energy =   0.0362
Level     1,  Iter    34:    Energy =   0.0363
Level     1,  Iter    35:    Energy =   0.0364
Level     1,  Iter    36:    Energy =   0.0365
Level     1,  Iter    37:    Energy =   0.0366
Level     1,  Iter    38:    Energy =   0.0367
Level     1,  Iter    39:    Energy =   0.0368
Level     1,  Iter    40:    Energy =   0.0369
Level     1,  Iter    41:    Energy =   0.0370
Level     1,  Iter    42:    Energy =   0.0370
Level     1,  Iter    43:    Energy =   0.0371
Level     1,  Iter    44:    Energy =   0.0372
Level     1,  Iter    45:    Energy =   0.0373
Level     1,  Iter    46:    Energy =   0.0374
Level     1,  Iter    47:    Energy =   0.0375
Level     1,  Iter    48:    Energy =   0.0375
Level     1,  Iter    49:    Energy =   0.0376
Level     1,  Iter    50:    Energy =   0.0377
Level     1,  Iter    51:    Energy =   0.0377
Level     1,  Iter    52:    Energy =   0.0378
Level     1,  Iter    53:    Energy =   0.0379
Level     1,  Iter    54:    Energy =   0.0379
Level     1,  Iter    55:    Energy =   0.0380
Level     1,  Iter    56:    Energy =   0.0381
Level     1,  Iter    57:    Energy =   0.0381
Level     1,  Iter    58:    Energy =   0.0382
Level     1,  Iter    59:    Energy =   0.0382
END OF LEVEL     1    DetJac Range:   0.0162  to   2.8344 
  Avg. Gradient Time  : 0.0282s  34.44% 
  Avg. Gaussian Time  : 0.0422s  51.61% 
  Avg. Iteration Time : 0.0818s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0172
Level     2,  Iter     1:    Energy =   0.0176
Level     2,  Iter     2:    Energy =   0.0176
big value: 2236.076983
Level     2,  Iter     3:    Energy =   0.0176
big value: 1007.239809
big value: -1210.835790
big value: 3338.522964
Level     2,  Iter     4:    Energy =   0.0174
Level     2,  Iter     5:    Energy =   0.0173
Level     2,  Iter     6:    Energy =   0.0180
Level     2,  Iter     7:    Energy =   0.0180
Level     2,  Iter     8:    Energy =   0.0181
Level     2,  Iter     9:    Energy =   0.0187
Level     2,  Iter    10:    Energy =   0.0189
Level     2,  Iter    11:    Energy =   0.0192
Level     2,  Iter    12:    Energy =   0.0191
big value: 2494.189999
big value: -1239.069856
Level     2,  Iter    13:    Energy =   0.0188
Level     2,  Iter    14:    Energy =   0.0185
big value: -20665.468699
big value: -62515.085585
big value: 79330.112450
Level     2,  Iter    15:    Energy =   0.0185
big value: -1656.635919
big value: -3959.378474
big value: -3783.296225
Level     2,  Iter    16:    Energy =   0.0183
big value: 2249.753235
big value: -3009.467126
Level     2,  Iter    17:    Energy =   0.0180
big value: 11650.733141
big value: 20222.439793
big value: 30272.531738
Level     2,  Iter    18:    Energy =   0.0177
Level     2,  Iter    19:    Energy =   0.0175
END OF LEVEL     2    DetJac Range:   0.0213  to   2.3434 
  Avg. Gradient Time  : 0.1845s  32.88% 
  Avg. Gaussian Time  : 0.3016s  53.74% 
  Avg. Iteration Time : 0.5611s 

real	0m20.044s
user	0m35.016s
sys	0m2.080s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.418571 0.422857
+ echo 'CHUNK 0.418571 0.422857 1'
CHUNK 0.418571 0.422857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.418571 0.422857 1
====================================
         PROGRESS: 0.418571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.701
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 395.612   GNORM= 296.161
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       118.312     248.991       0.003
   2    3      -251.656     226.827       1.000
   3    4      -504.747     249.609       1.000
   4    6      -614.514      76.737       0.152
   5    7      -646.628      54.725       1.000
   6    8      -680.782      86.390       1.000
   7   12      -689.915      93.013       0.014
   8   14      -707.904     146.621       0.227
   9   15      -742.294     112.522       1.000
  10   16      -836.752      51.288       1.000
  11   17      -888.691      90.756       1.000
  12   18      -928.870     182.095       1.000
  13   21      -955.233     146.405       2.129
  14   22     -1036.902      50.907       1.000
  15   23     -1058.002      31.018       1.000
  16   24     -1068.709      92.786       1.000
  17   25     -1090.049      53.613       1.000
  18   27     -1160.379     393.288       5.000
  19   32     -1160.462     123.922       0.005
  20   33     -1195.026      86.735       1.000
  21   35     -1221.679      80.829       0.319
  22   36     -1241.041      80.019       1.000
  23   38     -1249.713     202.744       0.030
  24   42     -1249.817     123.748       0.008
  25   43     -1259.642     113.369       1.000
  26   45     -1278.278      91.613       0.057
  27   46     -1300.486      62.550       1.000
  28   48     -1309.925      44.871       0.288
  29   49     -1321.686      21.181       1.000
  30   50     -1328.844      16.508       1.000
  31   51     -1333.924      51.613       1.000
  32   52     -1338.670      14.953       1.000
  33   53     -1338.932      22.760       1.000
  34   54     -1339.692      12.509       1.000
  35   55     -1346.179      23.435       1.000
  36   57     -1348.528      44.694       0.185
  37   60     -1349.654     236.653       1.138
Final RAS Transform: 
0.505848 0.251704 -0.12449 4.16278 
0.391379 0.96674 0.274612 13.5769 
-0.272496 -0.121662 0.875325 -7.43479 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -566.798   GNORM= 1503.48
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -604.543     172.916       0.001
   2    4      -671.797     100.997       5.000
   3    7      -690.999      99.598       1.445
   4    8      -720.044      51.872       1.000
   5    9      -723.594      51.667       1.000
   6   10      -732.597      99.803       1.000
   7   17      -733.278      40.258       0.118
   8   20      -740.489     651.681      13.182
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.508347 0.259986 -0.134667 5.4573 
0.392301 0.971566 0.272527 14.3498 
-0.265499 -0.108573 0.85223 -5.95932 
0 0 0 1 

Final RAS Transform: 
0.508347 0.259986 -0.134667 5.4573 
0.392301 0.971566 0.272527 14.3498 
-0.265499 -0.108573 0.85223 -5.95932 
0 0 0 1 


real	0m4.743s
user	0m7.652s
sys	0m0.572s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.523208
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0326
Level     0,  Iter     1:    Energy =   0.0365
Level     0,  Iter     2:    Energy =   0.0408
Level     0,  Iter     3:    Energy =   0.0445
Level     0,  Iter     4:    Energy =   0.0473
Level     0,  Iter     5:    Energy =   0.0496
Level     0,  Iter     6:    Energy =   0.0517
Level     0,  Iter     7:    Energy =   0.0531
Level     0,  Iter     8:    Energy =   0.0542
Level     0,  Iter     9:    Energy =   0.0554
Level     0,  Iter    10:    Energy =   0.0565
Level     0,  Iter    11:    Energy =   0.0572
Level     0,  Iter    12:    Energy =   0.0579
Level     0,  Iter    13:    Energy =   0.0584
Level     0,  Iter    14:    Energy =   0.0589
Level     0,  Iter    15:    Energy =   0.0593
Level     0,  Iter    16:    Energy =   0.0596
Level     0,  Iter    17:    Energy =   0.0599
Level     0,  Iter    18:    Energy =   0.0601
Level     0,  Iter    19:    Energy =   0.0603
Level     0,  Iter    20:    Energy =   0.0605
Level     0,  Iter    21:    Energy =   0.0606
Level     0,  Iter    22:    Energy =   0.0608
Level     0,  Iter    23:    Energy =   0.0609
Level     0,  Iter    24:    Energy =   0.0611
Level     0,  Iter    25:    Energy =   0.0613
Level     0,  Iter    26:    Energy =   0.0615
Level     0,  Iter    27:    Energy =   0.0617
Level     0,  Iter    28:    Energy =   0.0619
Level     0,  Iter    29:    Energy =   0.0621
Level     0,  Iter    30:    Energy =   0.0622
Level     0,  Iter    31:    Energy =   0.0624
Level     0,  Iter    32:    Energy =   0.0626
Level     0,  Iter    33:    Energy =   0.0627
Level     0,  Iter    34:    Energy =   0.0628
Level     0,  Iter    35:    Energy =   0.0629
Level     0,  Iter    36:    Energy =   0.0631
Level     0,  Iter    37:    Energy =   0.0632
Level     0,  Iter    38:    Energy =   0.0634
Level     0,  Iter    39:    Energy =   0.0635
Level     0,  Iter    40:    Energy =   0.0636
Level     0,  Iter    41:    Energy =   0.0638
Level     0,  Iter    42:    Energy =   0.0639
Level     0,  Iter    43:    Energy =   0.0640
Level     0,  Iter    44:    Energy =   0.0641
Level     0,  Iter    45:    Energy =   0.0643
Level     0,  Iter    46:    Energy =   0.0643
Level     0,  Iter    47:    Energy =   0.0644
Level     0,  Iter    48:    Energy =   0.0646
Level     0,  Iter    49:    Energy =   0.0647
Level     0,  Iter    50:    Energy =   0.0647
Level     0,  Iter    51:    Energy =   0.0648
Level     0,  Iter    52:    Energy =   0.0648
Level     0,  Iter    53:    Energy =   0.0649
Level     0,  Iter    54:    Energy =   0.0649
Level     0,  Iter    55:    Energy =   0.0651
Level     0,  Iter    56:    Energy =   0.0651
Level     0,  Iter    57:    Energy =   0.0652
Level     0,  Iter    58:    Energy =   0.0652
Level     0,  Iter    59:    Energy =   0.0653
END OF LEVEL     0    DetJac Range:   0.0484  to   2.2672 
  Avg. Gradient Time  : 0.0067s  33.29% 
  Avg. Gaussian Time  : 0.0099s  48.71% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0410
Level     1,  Iter     1:    Energy =   0.0436
Level     1,  Iter     2:    Energy =   0.0455
Level     1,  Iter     3:    Energy =   0.0468
Level     1,  Iter     4:    Energy =   0.0479
Level     1,  Iter     5:    Energy =   0.0488
Level     1,  Iter     6:    Energy =   0.0495
Level     1,  Iter     7:    Energy =   0.0504
Level     1,  Iter     8:    Energy =   0.0511
Level     1,  Iter     9:    Energy =   0.0518
Level     1,  Iter    10:    Energy =   0.0525
Level     1,  Iter    11:    Energy =   0.0530
Level     1,  Iter    12:    Energy =   0.0534
Level     1,  Iter    13:    Energy =   0.0538
Level     1,  Iter    14:    Energy =   0.0541
Level     1,  Iter    15:    Energy =   0.0544
Level     1,  Iter    16:    Energy =   0.0547
Level     1,  Iter    17:    Energy =   0.0549
Level     1,  Iter    18:    Energy =   0.0551
Level     1,  Iter    19:    Energy =   0.0553
Level     1,  Iter    20:    Energy =   0.0555
Level     1,  Iter    21:    Energy =   0.0557
Level     1,  Iter    22:    Energy =   0.0559
Level     1,  Iter    23:    Energy =   0.0560
Level     1,  Iter    24:    Energy =   0.0560
Level     1,  Iter    25:    Energy =   0.0561
Level     1,  Iter    26:    Energy =   0.0562
Level     1,  Iter    27:    Energy =   0.0562
Level     1,  Iter    28:    Energy =   0.0562
Level     1,  Iter    29:    Energy =   0.0562
Level     1,  Iter    30:    Energy =   0.0562
Level     1,  Iter    31:    Energy =   0.0561
Level     1,  Iter    32:    Energy =   0.0561
Level     1,  Iter    33:    Energy =   0.0561
Level     1,  Iter    34:    Energy =   0.0561
Level     1,  Iter    35:    Energy =   0.0561
Level     1,  Iter    36:    Energy =   0.0561
Level     1,  Iter    37:    Energy =   0.0561
Level     1,  Iter    38:    Energy =   0.0561
Level     1,  Iter    39:    Energy =   0.0561
Level     1,  Iter    40:    Energy =   0.0561
Level     1,  Iter    41:    Energy =   0.0561
Level     1,  Iter    42:    Energy =   0.0560
Level     1,  Iter    43:    Energy =   0.0560
Level     1,  Iter    44:    Energy =   0.0560
Level     1,  Iter    45:    Energy =   0.0560
Level     1,  Iter    46:    Energy =   0.0560
Level     1,  Iter    47:    Energy =   0.0560
Level     1,  Iter    48:    Energy =   0.0560
Level     1,  Iter    49:    Energy =   0.0559
Level     1,  Iter    50:    Energy =   0.0559
Level     1,  Iter    51:    Energy =   0.0559
Level     1,  Iter    52:    Energy =   0.0559
Level     1,  Iter    53:    Energy =   0.0559
Level     1,  Iter    54:    Energy =   0.0560
Level     1,  Iter    55:    Energy =   0.0560
Level     1,  Iter    56:    Energy =   0.0560
Level     1,  Iter    57:    Energy =   0.0561
Level     1,  Iter    58:    Energy =   0.0561
Level     1,  Iter    59:    Energy =   0.0561
END OF LEVEL     1    DetJac Range:   0.0235  to   3.4044 
  Avg. Gradient Time  : 0.0281s  34.29% 
  Avg. Gaussian Time  : 0.0424s  51.83% 
  Avg. Iteration Time : 0.0819s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0252
Level     2,  Iter     1:    Energy =   0.0265
Level     2,  Iter     2:    Energy =   0.0278
Level     2,  Iter     3:    Energy =   0.0288
Level     2,  Iter     4:    Energy =   0.0297
Level     2,  Iter     5:    Energy =   0.0305
Level     2,  Iter     6:    Energy =   0.0312
Level     2,  Iter     7:    Energy =   0.0318
Level     2,  Iter     8:    Energy =   0.0323
Level     2,  Iter     9:    Energy =   0.0328
Level     2,  Iter    10:    Energy =   0.0332
Level     2,  Iter    11:    Energy =   0.0336
Level     2,  Iter    12:    Energy =   0.0339
Level     2,  Iter    13:    Energy =   0.0342
Level     2,  Iter    14:    Energy =   0.0345
Level     2,  Iter    15:    Energy =   0.0347
Level     2,  Iter    16:    Energy =   0.0349
Level     2,  Iter    17:    Energy =   0.0351
Level     2,  Iter    18:    Energy =   0.0352
Level     2,  Iter    19:    Energy =   0.0354
END OF LEVEL     2    DetJac Range:   0.0075  to   4.4600 
  Avg. Gradient Time  : 0.1823s  32.59% 
  Avg. Gaussian Time  : 0.3015s  53.91% 
  Avg. Iteration Time : 0.5593s 

real	0m20.084s
user	0m34.988s
sys	0m2.132s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.422857 0.427143
+ echo 'CHUNK 0.422857 0.427143 1'
CHUNK 0.422857 0.427143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.422857 0.427143 1
====================================
         PROGRESS: 0.422857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.632
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 353.16   GNORM= 303.36
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       137.477     136.967       0.003
   2    3        27.557     103.594       1.000
   3    4      -210.534     159.040       1.000
   4    6      -331.254      66.584       0.282
   5    7      -375.310      56.147       1.000
   6    8      -452.690      38.367       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.901739 0.383128 -0.347888 9.60339 
-0.000786567 0.892823 -0.197539 0.657344 
-0.107136 -0.239754 1.16545 -4.43841 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -216.508   GNORM= 1247.75
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -248.162    1489.444       0.001
   2    3      -256.759      74.545       1.000
   3    4      -257.218      44.410       1.000
   4   20      -261.230     128.006       0.842
   5   25      -264.613      54.629       0.766
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.905193 0.370273 -0.352681 9.11907 
-0.00140688 0.889974 -0.193286 0.345954 
-0.108931 -0.235975 1.17591 -4.58802 
0 0 0 1 

Final RAS Transform: 
0.905193 0.370273 -0.352681 9.11907 
-0.00140688 0.889974 -0.193286 0.345954 
-0.108931 -0.235975 1.17591 -4.58802 
0 0 0 1 


real	0m4.635s
user	0m7.588s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.355173
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0161
Level     0,  Iter     1:    Energy =   0.0174
Level     0,  Iter     2:    Energy =   0.0186
Level     0,  Iter     3:    Energy =   0.0198
Level     0,  Iter     4:    Energy =   0.0211
Level     0,  Iter     5:    Energy =   0.0227
Level     0,  Iter     6:    Energy =   0.0240
Level     0,  Iter     7:    Energy =   0.0249
Level     0,  Iter     8:    Energy =   0.0259
Level     0,  Iter     9:    Energy =   0.0267
Level     0,  Iter    10:    Energy =   0.0275
Level     0,  Iter    11:    Energy =   0.0283
Level     0,  Iter    12:    Energy =   0.0289
Level     0,  Iter    13:    Energy =   0.0295
Level     0,  Iter    14:    Energy =   0.0300
Level     0,  Iter    15:    Energy =   0.0302
Level     0,  Iter    16:    Energy =   0.0305
Level     0,  Iter    17:    Energy =   0.0307
Level     0,  Iter    18:    Energy =   0.0309
Level     0,  Iter    19:    Energy =   0.0312
Level     0,  Iter    20:    Energy =   0.0314
Level     0,  Iter    21:    Energy =   0.0318
Level     0,  Iter    22:    Energy =   0.0322
Level     0,  Iter    23:    Energy =   0.0324
Level     0,  Iter    24:    Energy =   0.0326
Level     0,  Iter    25:    Energy =   0.0328
Level     0,  Iter    26:    Energy =   0.0330
Level     0,  Iter    27:    Energy =   0.0331
Level     0,  Iter    28:    Energy =   0.0333
Level     0,  Iter    29:    Energy =   0.0333
Level     0,  Iter    30:    Energy =   0.0335
Level     0,  Iter    31:    Energy =   0.0336
Level     0,  Iter    32:    Energy =   0.0338
Level     0,  Iter    33:    Energy =   0.0340
Level     0,  Iter    34:    Energy =   0.0343
Level     0,  Iter    35:    Energy =   0.0344
Level     0,  Iter    36:    Energy =   0.0347
Level     0,  Iter    37:    Energy =   0.0348
Level     0,  Iter    38:    Energy =   0.0350
Level     0,  Iter    39:    Energy =   0.0351
Level     0,  Iter    40:    Energy =   0.0353
Level     0,  Iter    41:    Energy =   0.0353
Level     0,  Iter    42:    Energy =   0.0355
Level     0,  Iter    43:    Energy =   0.0355
Level     0,  Iter    44:    Energy =   0.0356
Level     0,  Iter    45:    Energy =   0.0357
Level     0,  Iter    46:    Energy =   0.0358
Level     0,  Iter    47:    Energy =   0.0358
Level     0,  Iter    48:    Energy =   0.0360
Level     0,  Iter    49:    Energy =   0.0359
Level     0,  Iter    50:    Energy =   0.0360
Level     0,  Iter    51:    Energy =   0.0361
Level     0,  Iter    52:    Energy =   0.0362
Level     0,  Iter    53:    Energy =   0.0363
Level     0,  Iter    54:    Energy =   0.0364
Level     0,  Iter    55:    Energy =   0.0365
Level     0,  Iter    56:    Energy =   0.0367
Level     0,  Iter    57:    Energy =   0.0368
Level     0,  Iter    58:    Energy =   0.0370
Level     0,  Iter    59:    Energy =   0.0371
END OF LEVEL     0    DetJac Range:   0.0447  to   2.0087 
  Avg. Gradient Time  : 0.0067s  33.39% 
  Avg. Gaussian Time  : 0.0097s  48.24% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0197
Level     1,  Iter     1:    Energy =   0.0204
Level     1,  Iter     2:    Energy =   0.0209
Level     1,  Iter     3:    Energy =   0.0215
Level     1,  Iter     4:    Energy =   0.0222
Level     1,  Iter     5:    Energy =   0.0229
Level     1,  Iter     6:    Energy =   0.0234
Level     1,  Iter     7:    Energy =   0.0238
Level     1,  Iter     8:    Energy =   0.0243
Level     1,  Iter     9:    Energy =   0.0246
Level     1,  Iter    10:    Energy =   0.0249
Level     1,  Iter    11:    Energy =   0.0253
Level     1,  Iter    12:    Energy =   0.0257
Level     1,  Iter    13:    Energy =   0.0260
Level     1,  Iter    14:    Energy =   0.0263
Level     1,  Iter    15:    Energy =   0.0265
Level     1,  Iter    16:    Energy =   0.0267
Level     1,  Iter    17:    Energy =   0.0268
Level     1,  Iter    18:    Energy =   0.0269
Level     1,  Iter    19:    Energy =   0.0270
Level     1,  Iter    20:    Energy =   0.0271
Level     1,  Iter    21:    Energy =   0.0272
Level     1,  Iter    22:    Energy =   0.0272
Level     1,  Iter    23:    Energy =   0.0273
Level     1,  Iter    24:    Energy =   0.0273
Level     1,  Iter    25:    Energy =   0.0274
Level     1,  Iter    26:    Energy =   0.0274
Level     1,  Iter    27:    Energy =   0.0274
Level     1,  Iter    28:    Energy =   0.0274
Level     1,  Iter    29:    Energy =   0.0274
Level     1,  Iter    30:    Energy =   0.0274
Level     1,  Iter    31:    Energy =   0.0274
Level     1,  Iter    32:    Energy =   0.0274
Level     1,  Iter    33:    Energy =   0.0274
Level     1,  Iter    34:    Energy =   0.0274
Level     1,  Iter    35:    Energy =   0.0274
Level     1,  Iter    36:    Energy =   0.0274
Level     1,  Iter    37:    Energy =   0.0275
Level     1,  Iter    38:    Energy =   0.0275
Level     1,  Iter    39:    Energy =   0.0275
Level     1,  Iter    40:    Energy =   0.0275
Level     1,  Iter    41:    Energy =   0.0275
Level     1,  Iter    42:    Energy =   0.0275
Level     1,  Iter    43:    Energy =   0.0275
Level     1,  Iter    44:    Energy =   0.0275
Level     1,  Iter    45:    Energy =   0.0276
Level     1,  Iter    46:    Energy =   0.0276
Level     1,  Iter    47:    Energy =   0.0276
Level     1,  Iter    48:    Energy =   0.0276
Level     1,  Iter    49:    Energy =   0.0276
Level     1,  Iter    50:    Energy =   0.0276
Level     1,  Iter    51:    Energy =   0.0276
Level     1,  Iter    52:    Energy =   0.0276
Level     1,  Iter    53:    Energy =   0.0277
Level     1,  Iter    54:    Energy =   0.0277
Level     1,  Iter    55:    Energy =   0.0277
Level     1,  Iter    56:    Energy =   0.0277
Level     1,  Iter    57:    Energy =   0.0277
Level     1,  Iter    58:    Energy =   0.0277
Level     1,  Iter    59:    Energy =   0.0277
END OF LEVEL     1    DetJac Range:   0.0245  to   1.9858 
  Avg. Gradient Time  : 0.0284s  34.54% 
  Avg. Gaussian Time  : 0.0425s  51.57% 
  Avg. Iteration Time : 0.0823s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0116
Level     2,  Iter     1:    Energy =   0.0122
Level     2,  Iter     2:    Energy =   0.0127
Level     2,  Iter     3:    Energy =   0.0132
Level     2,  Iter     4:    Energy =   0.0136
Level     2,  Iter     5:    Energy =   0.0140
Level     2,  Iter     6:    Energy =   0.0143
Level     2,  Iter     7:    Energy =   0.0145
Level     2,  Iter     8:    Energy =   0.0148
Level     2,  Iter     9:    Energy =   0.0150
Level     2,  Iter    10:    Energy =   0.0152
Level     2,  Iter    11:    Energy =   0.0154
Level     2,  Iter    12:    Energy =   0.0157
Level     2,  Iter    13:    Energy =   0.0160
Level     2,  Iter    14:    Energy =   0.0163
Level     2,  Iter    15:    Energy =   0.0165
Level     2,  Iter    16:    Energy =   0.0167
Level     2,  Iter    17:    Energy =   0.0168
Level     2,  Iter    18:    Energy =   0.0169
Level     2,  Iter    19:    Energy =   0.0171
END OF LEVEL     2    DetJac Range:   0.0220  to   2.1547 
  Avg. Gradient Time  : 0.1847s  32.83% 
  Avg. Gaussian Time  : 0.3025s  53.77% 
  Avg. Iteration Time : 0.5626s 

real	0m20.105s
user	0m35.056s
sys	0m2.124s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.427143 0.431429
+ echo 'CHUNK 0.427143 0.431429 1'
CHUNK 0.427143 0.431429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.427143 0.431429 1
====================================
         PROGRESS: 0.427143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 359.099   GNORM= 283.573
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        95.984     230.065       0.004
   2    3      -433.680      67.992       1.000
   3    4      -474.090     218.378       1.000
   4    6      -510.160      77.935       0.208
   5    8      -519.673      85.037       0.109
   6   15      -520.084      64.431       0.012
   7   19      -535.421     811.780       6.632
   8   21      -649.379      79.123       0.333
   9   23      -685.918      62.551       5.000
  10   25      -760.058     177.620       0.490
  11   29      -766.692    1279.962       0.013
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.912745 -0.0151994 0.0552971 -2.27876 
0.229773 0.944463 0.0323698 8.31422 
-0.346728 -0.219644 0.829446 -3.27776 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -354.921   GNORM= 72.5079
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -368.007     430.039       0.014
   2    5      -368.196     378.777       0.044
   3    9      -368.441      33.958       0.001
   4   13      -368.546      34.512       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.913973 -0.0134911 0.0597339 -2.42579 
0.227276 0.936565 0.0440405 7.76717 
-0.341028 -0.224598 0.818241 -3.09193 
0 0 0 1 

Final RAS Transform: 
0.913973 -0.0134911 0.0597339 -2.42579 
0.227276 0.936565 0.0440405 7.76717 
-0.341028 -0.224598 0.818241 -3.09193 
0 0 0 1 


real	0m4.221s
user	0m6.720s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.536506
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0192
Level     0,  Iter     1:    Energy =   0.0216
Level     0,  Iter     2:    Energy =   0.0246
Level     0,  Iter     3:    Energy =   0.0268
Level     0,  Iter     4:    Energy =   0.0286
Level     0,  Iter     5:    Energy =   0.0302
Level     0,  Iter     6:    Energy =   0.0317
Level     0,  Iter     7:    Energy =   0.0330
Level     0,  Iter     8:    Energy =   0.0339
Level     0,  Iter     9:    Energy =   0.0346
Level     0,  Iter    10:    Energy =   0.0352
Level     0,  Iter    11:    Energy =   0.0357
Level     0,  Iter    12:    Energy =   0.0361
Level     0,  Iter    13:    Energy =   0.0366
Level     0,  Iter    14:    Energy =   0.0371
Level     0,  Iter    15:    Energy =   0.0375
Level     0,  Iter    16:    Energy =   0.0378
Level     0,  Iter    17:    Energy =   0.0381
Level     0,  Iter    18:    Energy =   0.0384
Level     0,  Iter    19:    Energy =   0.0387
Level     0,  Iter    20:    Energy =   0.0390
Level     0,  Iter    21:    Energy =   0.0392
Level     0,  Iter    22:    Energy =   0.0392
Level     0,  Iter    23:    Energy =   0.0394
Level     0,  Iter    24:    Energy =   0.0395
Level     0,  Iter    25:    Energy =   0.0396
Level     0,  Iter    26:    Energy =   0.0396
Level     0,  Iter    27:    Energy =   0.0398
Level     0,  Iter    28:    Energy =   0.0398
Level     0,  Iter    29:    Energy =   0.0400
Level     0,  Iter    30:    Energy =   0.0401
Level     0,  Iter    31:    Energy =   0.0402
Level     0,  Iter    32:    Energy =   0.0403
Level     0,  Iter    33:    Energy =   0.0404
Level     0,  Iter    34:    Energy =   0.0405
Level     0,  Iter    35:    Energy =   0.0405
Level     0,  Iter    36:    Energy =   0.0406
Level     0,  Iter    37:    Energy =   0.0406
Level     0,  Iter    38:    Energy =   0.0406
Level     0,  Iter    39:    Energy =   0.0406
Level     0,  Iter    40:    Energy =   0.0406
Level     0,  Iter    41:    Energy =   0.0406
Level     0,  Iter    42:    Energy =   0.0407
Level     0,  Iter    43:    Energy =   0.0407
Level     0,  Iter    44:    Energy =   0.0408
Level     0,  Iter    45:    Energy =   0.0408
Level     0,  Iter    46:    Energy =   0.0409
Level     0,  Iter    47:    Energy =   0.0409
Level     0,  Iter    48:    Energy =   0.0409
Level     0,  Iter    49:    Energy =   0.0409
Level     0,  Iter    50:    Energy =   0.0409
Level     0,  Iter    51:    Energy =   0.0410
Level     0,  Iter    52:    Energy =   0.0410
Level     0,  Iter    53:    Energy =   0.0410
Level     0,  Iter    54:    Energy =   0.0410
Level     0,  Iter    55:    Energy =   0.0410
Level     0,  Iter    56:    Energy =   0.0411
Level     0,  Iter    57:    Energy =   0.0411
Level     0,  Iter    58:    Energy =   0.0411
Level     0,  Iter    59:    Energy =   0.0411
END OF LEVEL     0    DetJac Range:   0.0696  to   2.5469 
  Avg. Gradient Time  : 0.0067s  33.45% 
  Avg. Gaussian Time  : 0.0097s  48.29% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0249
Level     1,  Iter     1:    Energy =   0.0266
Level     1,  Iter     2:    Energy =   0.0280
Level     1,  Iter     3:    Energy =   0.0293
Level     1,  Iter     4:    Energy =   0.0303
Level     1,  Iter     5:    Energy =   0.0312
Level     1,  Iter     6:    Energy =   0.0320
Level     1,  Iter     7:    Energy =   0.0325
Level     1,  Iter     8:    Energy =   0.0331
Level     1,  Iter     9:    Energy =   0.0337
Level     1,  Iter    10:    Energy =   0.0342
Level     1,  Iter    11:    Energy =   0.0346
Level     1,  Iter    12:    Energy =   0.0349
Level     1,  Iter    13:    Energy =   0.0352
Level     1,  Iter    14:    Energy =   0.0354
Level     1,  Iter    15:    Energy =   0.0356
Level     1,  Iter    16:    Energy =   0.0359
Level     1,  Iter    17:    Energy =   0.0361
Level     1,  Iter    18:    Energy =   0.0362
Level     1,  Iter    19:    Energy =   0.0364
Level     1,  Iter    20:    Energy =   0.0366
Level     1,  Iter    21:    Energy =   0.0368
Level     1,  Iter    22:    Energy =   0.0369
Level     1,  Iter    23:    Energy =   0.0370
Level     1,  Iter    24:    Energy =   0.0372
Level     1,  Iter    25:    Energy =   0.0373
Level     1,  Iter    26:    Energy =   0.0374
Level     1,  Iter    27:    Energy =   0.0375
Level     1,  Iter    28:    Energy =   0.0376
Level     1,  Iter    29:    Energy =   0.0378
Level     1,  Iter    30:    Energy =   0.0379
Level     1,  Iter    31:    Energy =   0.0380
Level     1,  Iter    32:    Energy =   0.0381
Level     1,  Iter    33:    Energy =   0.0382
Level     1,  Iter    34:    Energy =   0.0383
Level     1,  Iter    35:    Energy =   0.0384
Level     1,  Iter    36:    Energy =   0.0385
Level     1,  Iter    37:    Energy =   0.0387
Level     1,  Iter    38:    Energy =   0.0388
Level     1,  Iter    39:    Energy =   0.0389
Level     1,  Iter    40:    Energy =   0.0391
Level     1,  Iter    41:    Energy =   0.0393
Level     1,  Iter    42:    Energy =   0.0394
Level     1,  Iter    43:    Energy =   0.0396
Level     1,  Iter    44:    Energy =   0.0397
Level     1,  Iter    45:    Energy =   0.0399
Level     1,  Iter    46:    Energy =   0.0400
Level     1,  Iter    47:    Energy =   0.0401
Level     1,  Iter    48:    Energy =   0.0402
Level     1,  Iter    49:    Energy =   0.0404
Level     1,  Iter    50:    Energy =   0.0405
Level     1,  Iter    51:    Energy =   0.0406
Level     1,  Iter    52:    Energy =   0.0406
Level     1,  Iter    53:    Energy =   0.0407
Level     1,  Iter    54:    Energy =   0.0408
Level     1,  Iter    55:    Energy =   0.0409
Level     1,  Iter    56:    Energy =   0.0409
Level     1,  Iter    57:    Energy =   0.0410
Level     1,  Iter    58:    Energy =   0.0410
Level     1,  Iter    59:    Energy =   0.0411
END OF LEVEL     1    DetJac Range:   0.0301  to   3.2131 
  Avg. Gradient Time  : 0.0285s  34.41% 
  Avg. Gaussian Time  : 0.0428s  51.65% 
  Avg. Iteration Time : 0.0829s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0191
Level     2,  Iter     1:    Energy =   0.0197
Level     2,  Iter     2:    Energy =   0.0203
Level     2,  Iter     3:    Energy =   0.0210
Level     2,  Iter     4:    Energy =   0.0218
Level     2,  Iter     5:    Energy =   0.0224
Level     2,  Iter     6:    Energy =   0.0230
Level     2,  Iter     7:    Energy =   0.0235
Level     2,  Iter     8:    Energy =   0.0239
Level     2,  Iter     9:    Energy =   0.0242
Level     2,  Iter    10:    Energy =   0.0245
Level     2,  Iter    11:    Energy =   0.0247
Level     2,  Iter    12:    Energy =   0.0248
Level     2,  Iter    13:    Energy =   0.0250
Level     2,  Iter    14:    Energy =   0.0251
Level     2,  Iter    15:    Energy =   0.0252
Level     2,  Iter    16:    Energy =   0.0253
Level     2,  Iter    17:    Energy =   0.0253
Level     2,  Iter    18:    Energy =   0.0254
Level     2,  Iter    19:    Energy =   0.0254
END OF LEVEL     2    DetJac Range:   0.0316  to   2.4278 
  Avg. Gradient Time  : 0.1864s  33.17% 
  Avg. Gaussian Time  : 0.3004s  53.45% 
  Avg. Iteration Time : 0.5620s 

real	0m20.183s
user	0m34.968s
sys	0m2.312s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.431429 0.435714
+ echo 'CHUNK 0.431429 0.435714 1'
CHUNK 0.431429 0.435714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.431429 0.435714 1
====================================
         PROGRESS: 0.431429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.538
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 462.018   GNORM= 331.875
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       165.970     250.727       0.003
   2    3      -456.812      85.346       1.000
   3    4      -566.954      52.817       1.000
   4    7      -776.472      53.335       1.019
   5   10      -799.667      42.925       0.045
   6   11      -835.195      63.257       1.000
   7   12      -889.591     129.258       1.000
   8   14     -1001.330      95.675       0.385
   9   16     -1026.606      89.467       0.258
  10   29     -1076.945      91.153       0.999
  11   30     -1132.696      77.314       1.000
  12   31     -1244.468      61.924       1.000
  13   35     -1259.360     134.324       0.105
  14   38     -1271.129      45.603       0.051
  15   39     -1279.300      35.338       1.000
  16   40     -1289.418      80.566       1.000
  17   41     -1299.376     125.402       1.000
  18   42     -1367.843     131.545       1.000
  19   43     -1386.370      90.649       1.000
  20   44     -1411.397     106.582       1.000
  21   45     -1436.595     129.700       1.000
  22   46     -1477.373      81.211       1.000
  23   48     -1481.552      51.122       0.362
  24   49     -1491.729      27.679       1.000
  25   50     -1503.347      33.930       1.000
  26   51     -1518.355      56.017       1.000
  27   52     -1537.315      71.215       1.000
  28   53     -1547.740      45.424       1.000
  29   54     -1562.215      27.835       1.000
  30   55     -1570.496      26.424       1.000
  31   56     -1593.216      58.268       1.000
  32   57     -1632.953      64.864       1.000
  33   59     -1646.311      71.420       0.228
  34   60     -1676.564      76.075       1.000
Final RAS Transform: 
0.359314 0.652307 0.021042 0.470506 
0.272788 1.00585 0.119651 12.4606 
-0.107824 -0.0057798 0.690321 -13.4791 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -781.547   GNORM= 67.7752
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -795.774      11.145       0.007
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.342481 0.643309 0.00967126 0.0206502 
0.279892 1.02225 0.116118 13.0363 
-0.115541 -0.000940215 0.679298 -13.2961 
0 0 0 1 

Final RAS Transform: 
0.342481 0.643309 0.00967126 0.0206502 
0.279892 1.02225 0.116118 13.0363 
-0.115541 -0.000940215 0.679298 -13.2961 
0 0 0 1 


real	0m3.741s
user	0m5.776s
sys	0m0.512s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.28193
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0424
Level     0,  Iter     1:    Energy =   0.0454
Level     0,  Iter     2:    Energy =   0.0479
Level     0,  Iter     3:    Energy =   0.0499
Level     0,  Iter     4:    Energy =   0.0513
Level     0,  Iter     5:    Energy =   0.0520
Level     0,  Iter     6:    Energy =   0.0527
Level     0,  Iter     7:    Energy =   0.0531
Level     0,  Iter     8:    Energy =   0.0533
Level     0,  Iter     9:    Energy =   0.0534
Level     0,  Iter    10:    Energy =   0.0536
Level     0,  Iter    11:    Energy =   0.0538
Level     0,  Iter    12:    Energy =   0.0540
Level     0,  Iter    13:    Energy =   0.0542
Level     0,  Iter    14:    Energy =   0.0544
Level     0,  Iter    15:    Energy =   0.0546
Level     0,  Iter    16:    Energy =   0.0548
Level     0,  Iter    17:    Energy =   0.0550
Level     0,  Iter    18:    Energy =   0.0553
Level     0,  Iter    19:    Energy =   0.0555
Level     0,  Iter    20:    Energy =   0.0557
Level     0,  Iter    21:    Energy =   0.0558
Level     0,  Iter    22:    Energy =   0.0560
Level     0,  Iter    23:    Energy =   0.0562
Level     0,  Iter    24:    Energy =   0.0563
Level     0,  Iter    25:    Energy =   0.0565
Level     0,  Iter    26:    Energy =   0.0566
Level     0,  Iter    27:    Energy =   0.0568
Level     0,  Iter    28:    Energy =   0.0569
Level     0,  Iter    29:    Energy =   0.0570
Level     0,  Iter    30:    Energy =   0.0571
Level     0,  Iter    31:    Energy =   0.0573
Level     0,  Iter    32:    Energy =   0.0574
Level     0,  Iter    33:    Energy =   0.0574
Level     0,  Iter    34:    Energy =   0.0576
Level     0,  Iter    35:    Energy =   0.0577
Level     0,  Iter    36:    Energy =   0.0578
Level     0,  Iter    37:    Energy =   0.0580
Level     0,  Iter    38:    Energy =   0.0581
Level     0,  Iter    39:    Energy =   0.0584
Level     0,  Iter    40:    Energy =   0.0585
Level     0,  Iter    41:    Energy =   0.0588
Level     0,  Iter    42:    Energy =   0.0589
Level     0,  Iter    43:    Energy =   0.0592
Level     0,  Iter    44:    Energy =   0.0593
Level     0,  Iter    45:    Energy =   0.0595
Level     0,  Iter    46:    Energy =   0.0596
Level     0,  Iter    47:    Energy =   0.0597
Level     0,  Iter    48:    Energy =   0.0599
Level     0,  Iter    49:    Energy =   0.0600
Level     0,  Iter    50:    Energy =   0.0601
Level     0,  Iter    51:    Energy =   0.0602
Level     0,  Iter    52:    Energy =   0.0603
Level     0,  Iter    53:    Energy =   0.0605
Level     0,  Iter    54:    Energy =   0.0606
Level     0,  Iter    55:    Energy =   0.0608
Level     0,  Iter    56:    Energy =   0.0608
Level     0,  Iter    57:    Energy =   0.0610
Level     0,  Iter    58:    Energy =   0.0610
Level     0,  Iter    59:    Energy =   0.0612
END OF LEVEL     0    DetJac Range:   0.0400  to   2.8876 
  Avg. Gradient Time  : 0.0067s  33.51% 
  Avg. Gaussian Time  : 0.0096s  48.12% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0332
Level     1,  Iter     1:    Energy =   0.0348
Level     1,  Iter     2:    Energy =   0.0360
Level     1,  Iter     3:    Energy =   0.0368
Level     1,  Iter     4:    Energy =   0.0373
Level     1,  Iter     5:    Energy =   0.0378
Level     1,  Iter     6:    Energy =   0.0382
Level     1,  Iter     7:    Energy =   0.0386
Level     1,  Iter     8:    Energy =   0.0389
Level     1,  Iter     9:    Energy =   0.0392
Level     1,  Iter    10:    Energy =   0.0394
Level     1,  Iter    11:    Energy =   0.0396
Level     1,  Iter    12:    Energy =   0.0398
Level     1,  Iter    13:    Energy =   0.0400
Level     1,  Iter    14:    Energy =   0.0401
Level     1,  Iter    15:    Energy =   0.0403
Level     1,  Iter    16:    Energy =   0.0404
Level     1,  Iter    17:    Energy =   0.0405
Level     1,  Iter    18:    Energy =   0.0406
Level     1,  Iter    19:    Energy =   0.0407
Level     1,  Iter    20:    Energy =   0.0408
Level     1,  Iter    21:    Energy =   0.0408
Level     1,  Iter    22:    Energy =   0.0409
Level     1,  Iter    23:    Energy =   0.0410
Level     1,  Iter    24:    Energy =   0.0411
Level     1,  Iter    25:    Energy =   0.0411
Level     1,  Iter    26:    Energy =   0.0412
Level     1,  Iter    27:    Energy =   0.0412
Level     1,  Iter    28:    Energy =   0.0412
Level     1,  Iter    29:    Energy =   0.0412
Level     1,  Iter    30:    Energy =   0.0412
Level     1,  Iter    31:    Energy =   0.0412
Level     1,  Iter    32:    Energy =   0.0412
Level     1,  Iter    33:    Energy =   0.0413
Level     1,  Iter    34:    Energy =   0.0413
Level     1,  Iter    35:    Energy =   0.0413
Level     1,  Iter    36:    Energy =   0.0414
Level     1,  Iter    37:    Energy =   0.0414
Level     1,  Iter    38:    Energy =   0.0414
Level     1,  Iter    39:    Energy =   0.0414
Level     1,  Iter    40:    Energy =   0.0414
Level     1,  Iter    41:    Energy =   0.0414
Level     1,  Iter    42:    Energy =   0.0414
Level     1,  Iter    43:    Energy =   0.0414
Level     1,  Iter    44:    Energy =   0.0414
Level     1,  Iter    45:    Energy =   0.0414
Level     1,  Iter    46:    Energy =   0.0414
Level     1,  Iter    47:    Energy =   0.0414
Level     1,  Iter    48:    Energy =   0.0414
Level     1,  Iter    49:    Energy =   0.0414
Level     1,  Iter    50:    Energy =   0.0415
Level     1,  Iter    51:    Energy =   0.0415
Level     1,  Iter    52:    Energy =   0.0415
Level     1,  Iter    53:    Energy =   0.0415
Level     1,  Iter    54:    Energy =   0.0414
Level     1,  Iter    55:    Energy =   0.0414
Level     1,  Iter    56:    Energy =   0.0414
Level     1,  Iter    57:    Energy =   0.0414
Level     1,  Iter    58:    Energy =   0.0414
Level     1,  Iter    59:    Energy =   0.0414
END OF LEVEL     1    DetJac Range:   0.0315  to   2.5818 
  Avg. Gradient Time  : 0.0289s  34.76% 
  Avg. Gaussian Time  : 0.0427s  51.44% 
  Avg. Iteration Time : 0.0830s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0171
Level     2,  Iter     1:    Energy =   0.0179
Level     2,  Iter     2:    Energy =   0.0186
Level     2,  Iter     3:    Energy =   0.0193
Level     2,  Iter     4:    Energy =   0.0198
Level     2,  Iter     5:    Energy =   0.0203
Level     2,  Iter     6:    Energy =   0.0207
Level     2,  Iter     7:    Energy =   0.0211
Level     2,  Iter     8:    Energy =   0.0215
Level     2,  Iter     9:    Energy =   0.0219
Level     2,  Iter    10:    Energy =   0.0222
Level     2,  Iter    11:    Energy =   0.0225
Level     2,  Iter    12:    Energy =   0.0228
Level     2,  Iter    13:    Energy =   0.0230
Level     2,  Iter    14:    Energy =   0.0233
Level     2,  Iter    15:    Energy =   0.0235
Level     2,  Iter    16:    Energy =   0.0238
Level     2,  Iter    17:    Energy =   0.0240
Level     2,  Iter    18:    Energy =   0.0242
Level     2,  Iter    19:    Energy =   0.0243
END OF LEVEL     2    DetJac Range:   0.0388  to   3.1542 
  Avg. Gradient Time  : 0.1849s  32.89% 
  Avg. Gaussian Time  : 0.3017s  53.68% 
  Avg. Iteration Time : 0.5621s 

real	0m20.163s
user	0m35.120s
sys	0m2.160s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=55 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=55 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.435714 0.44
+ echo 'CHUNK 0.435714 0.44 1'
CHUNK 0.435714 0.44 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.435714 0.44 1
====================================
         PROGRESS: 0.435714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.589
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 432.117   GNORM= 319.019
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       154.315     208.811       0.003
   2    3      -194.992     187.653       1.000
   3    4      -534.634     136.306       1.000
   4    5      -606.555      80.020       1.000
   5   11      -617.318      34.360       0.457
   6   13      -619.547      39.321       0.227
   7   15      -636.346      89.961       0.322
   8   16      -658.618     721.649       1.000
   9   19      -754.800     162.985       0.049
  10   20      -790.915      68.207       1.000
  11   22      -885.456      56.364       5.000
  12   23      -905.236      45.178       1.000
  13   25      -920.348      53.450       5.000
  14   27      -924.363      42.616       0.202
  15   28      -951.010      60.220       1.000
  16   30      -988.480      50.172       0.518
  17   34      -990.463      89.585       0.007
  18   35     -1001.598      41.851       1.000
  19   36     -1003.641      44.605       1.000
  20   38     -1022.245      36.747       5.000
  21   39     -1028.344      10.781       1.000
  22   40     -1029.906       8.110       1.000
  23   43     -1032.607      15.727       1.148
  24   47     -1032.823      17.927       0.001
  25   48     -1033.492      24.966       1.000
  26   49     -1035.915      21.084       1.000
  27   51     -1038.893      36.253       0.260
  28   52     -1042.181      18.173       1.000
  29   53     -1047.123      22.627       1.000
  30   56     -1075.598      48.511       1.689
  31   57     -1079.127      29.002       1.000
  32   58     -1082.844      62.343       1.000
  33   59     -1094.784      40.647       1.000
  34   60     -1100.828      44.169       1.000
  35   61     -1107.918      38.394       1.000
Final RAS Transform: 
0.922386 0.120205 0.0963178 -2.88432 
0.373346 1.16762 0.321507 8.92035 
-0.298223 -0.399379 0.587027 -4.29523 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -467.213   GNORM= 45.6631
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -499.702      36.556       0.022
   2    4      -505.307      25.094       0.328
   3    5      -511.423      12.961       1.000
   4    6      -513.014      30.598       1.000
   5    8      -513.660      27.815       0.452
   6    9      -526.337      22.501       1.000
   7   10      -540.693      29.870       1.000
   8   11      -546.891      34.046       1.000
   9   12      -562.323      22.192       1.000
  10   14      -588.318      89.251       0.449
  11   16      -590.920      87.087       0.048
  12   17      -606.896      33.736       1.000
  13   18      -613.200      17.470       1.000
  14   19      -617.448      23.479       1.000
  15   20      -620.305      33.829       1.000
  16   23      -627.885      15.457       2.412
  17   24      -630.706      31.557       1.000
  18   26      -631.617      21.890       0.445
  19   27      -633.228       9.721       1.000
  20   28      -634.122      17.904       1.000
  21   29      -637.185      31.164       1.000
  22   31      -641.520      46.359       0.091
  23   32      -645.604      32.037       1.000
  24   33      -649.344      14.385       1.000
  25   34      -650.454       9.794       1.000
  26   35      -651.599      13.793       1.000
  27   38      -651.778      13.393       0.073
  28   39      -652.726      18.707       1.000
  29   41      -653.398      14.173       0.190
  30   42      -654.231      12.566       1.000
  31   44      -655.167      17.042       0.197
  32   45      -656.145       9.928       1.000
  33   46      -658.531      24.864       1.000
  34   48      -658.714      20.776       0.243
  35   52      -660.078      35.324       1.435
  36   53      -660.373      13.687       1.000
  37   54      -661.258      11.541       1.000
  38   55      -664.898      16.921       1.000
  39   59      -667.289      14.752       0.504
  40   60      -667.778      15.847       1.000
Final RAS Transform: 
0.905367 0.0841633 0.301082 4.40662 
0.325649 1.16293 0.491688 12.0642 
-0.482464 -0.347833 0.509976 -2.6382 
0 0 0 1 

Final RAS Transform: 
0.905367 0.0841633 0.301082 4.40662 
0.325649 1.16293 0.491688 12.0642 
-0.482464 -0.347833 0.509976 -2.6382 
0 0 0 1 


real	0m5.993s
user	0m10.068s
sys	0m0.580s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.448376
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0254
Level     0,  Iter     1:    Energy =   0.0282
Level     0,  Iter     2:    Energy =   0.0307
Level     0,  Iter     3:    Energy =   0.0327
Level     0,  Iter     4:    Energy =   0.0346
Level     0,  Iter     5:    Energy =   0.0363
Level     0,  Iter     6:    Energy =   0.0377
Level     0,  Iter     7:    Energy =   0.0388
Level     0,  Iter     8:    Energy =   0.0397
Level     0,  Iter     9:    Energy =   0.0406
Level     0,  Iter    10:    Energy =   0.0415
Level     0,  Iter    11:    Energy =   0.0423
Level     0,  Iter    12:    Energy =   0.0432
Level     0,  Iter    13:    Energy =   0.0438
Level     0,  Iter    14:    Energy =   0.0444
Level     0,  Iter    15:    Energy =   0.0449
Level     0,  Iter    16:    Energy =   0.0453
Level     0,  Iter    17:    Energy =   0.0458
Level     0,  Iter    18:    Energy =   0.0460
Level     0,  Iter    19:    Energy =   0.0462
Level     0,  Iter    20:    Energy =   0.0463
Level     0,  Iter    21:    Energy =   0.0466
Level     0,  Iter    22:    Energy =   0.0467
Level     0,  Iter    23:    Energy =   0.0470
Level     0,  Iter    24:    Energy =   0.0472
Level     0,  Iter    25:    Energy =   0.0474
Level     0,  Iter    26:    Energy =   0.0475
Level     0,  Iter    27:    Energy =   0.0476
Level     0,  Iter    28:    Energy =   0.0476
Level     0,  Iter    29:    Energy =   0.0477
Level     0,  Iter    30:    Energy =   0.0477
Level     0,  Iter    31:    Energy =   0.0478
Level     0,  Iter    32:    Energy =   0.0477
Level     0,  Iter    33:    Energy =   0.0476
Level     0,  Iter    34:    Energy =   0.0476
Level     0,  Iter    35:    Energy =   0.0475
Level     0,  Iter    36:    Energy =   0.0476
Level     0,  Iter    37:    Energy =   0.0476
Level     0,  Iter    38:    Energy =   0.0477
Level     0,  Iter    39:    Energy =   0.0476
Level     0,  Iter    40:    Energy =   0.0476
Level     0,  Iter    41:    Energy =   0.0476
Level     0,  Iter    42:    Energy =   0.0476
Level     0,  Iter    43:    Energy =   0.0476
Level     0,  Iter    44:    Energy =   0.0477
Level     0,  Iter    45:    Energy =   0.0477
Level     0,  Iter    46:    Energy =   0.0476
Level     0,  Iter    47:    Energy =   0.0475
Level     0,  Iter    48:    Energy =   0.0474
Level     0,  Iter    49:    Energy =   0.0473
Level     0,  Iter    50:    Energy =   0.0472
Level     0,  Iter    51:    Energy =   0.0470
Level     0,  Iter    52:    Energy =   0.0470
Level     0,  Iter    53:    Energy =   0.0469
Level     0,  Iter    54:    Energy =   0.0469
Level     0,  Iter    55:    Energy =   0.0469
Level     0,  Iter    56:    Energy =   0.0470
Level     0,  Iter    57:    Energy =   0.0471
Level     0,  Iter    58:    Energy =   0.0472
Level     0,  Iter    59:    Energy =   0.0473
END OF LEVEL     0    DetJac Range:   0.0339  to   2.7589 
  Avg. Gradient Time  : 0.0066s  33.32% 
  Avg. Gaussian Time  : 0.0096s  48.42% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0309
Level     1,  Iter     1:    Energy =   0.0325
Level     1,  Iter     2:    Energy =   0.0342
Level     1,  Iter     3:    Energy =   0.0359
Level     1,  Iter     4:    Energy =   0.0373
Level     1,  Iter     5:    Energy =   0.0385
Level     1,  Iter     6:    Energy =   0.0396
Level     1,  Iter     7:    Energy =   0.0405
Level     1,  Iter     8:    Energy =   0.0411
Level     1,  Iter     9:    Energy =   0.0416
Level     1,  Iter    10:    Energy =   0.0420
Level     1,  Iter    11:    Energy =   0.0423
Level     1,  Iter    12:    Energy =   0.0425
Level     1,  Iter    13:    Energy =   0.0427
Level     1,  Iter    14:    Energy =   0.0429
Level     1,  Iter    15:    Energy =   0.0431
Level     1,  Iter    16:    Energy =   0.0432
Level     1,  Iter    17:    Energy =   0.0433
Level     1,  Iter    18:    Energy =   0.0434
Level     1,  Iter    19:    Energy =   0.0436
Level     1,  Iter    20:    Energy =   0.0437
Level     1,  Iter    21:    Energy =   0.0437
Level     1,  Iter    22:    Energy =   0.0438
Level     1,  Iter    23:    Energy =   0.0439
Level     1,  Iter    24:    Energy =   0.0439
Level     1,  Iter    25:    Energy =   0.0440
Level     1,  Iter    26:    Energy =   0.0440
Level     1,  Iter    27:    Energy =   0.0441
Level     1,  Iter    28:    Energy =   0.0441
Level     1,  Iter    29:    Energy =   0.0442
Level     1,  Iter    30:    Energy =   0.0442
Level     1,  Iter    31:    Energy =   0.0443
Level     1,  Iter    32:    Energy =   0.0444
Level     1,  Iter    33:    Energy =   0.0445
Level     1,  Iter    34:    Energy =   0.0445
Level     1,  Iter    35:    Energy =   0.0446
Level     1,  Iter    36:    Energy =   0.0446
Level     1,  Iter    37:    Energy =   0.0447
Level     1,  Iter    38:    Energy =   0.0447
Level     1,  Iter    39:    Energy =   0.0448
Level     1,  Iter    40:    Energy =   0.0448
Level     1,  Iter    41:    Energy =   0.0448
Level     1,  Iter    42:    Energy =   0.0449
Level     1,  Iter    43:    Energy =   0.0449
Level     1,  Iter    44:    Energy =   0.0450
Level     1,  Iter    45:    Energy =   0.0450
Level     1,  Iter    46:    Energy =   0.0451
Level     1,  Iter    47:    Energy =   0.0451
Level     1,  Iter    48:    Energy =   0.0451
Level     1,  Iter    49:    Energy =   0.0452
Level     1,  Iter    50:    Energy =   0.0452
Level     1,  Iter    51:    Energy =   0.0453
Level     1,  Iter    52:    Energy =   0.0453
Level     1,  Iter    53:    Energy =   0.0454
Level     1,  Iter    54:    Energy =   0.0455
Level     1,  Iter    55:    Energy =   0.0455
Level     1,  Iter    56:    Energy =   0.0456
Level     1,  Iter    57:    Energy =   0.0457
Level     1,  Iter    58:    Energy =   0.0457
Level     1,  Iter    59:    Energy =   0.0458
END OF LEVEL     1    DetJac Range:   0.0205  to   3.6903 
  Avg. Gradient Time  : 0.0288s  34.77% 
  Avg. Gaussian Time  : 0.0426s  51.42% 
  Avg. Iteration Time : 0.0829s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0212
big value: -1705.934638
big value: 3578.396338
Level     2,  Iter     1:    Energy =   0.0223
Level     2,  Iter     2:    Energy =   0.0221
Level     2,  Iter     3:    Energy =   0.0230
Level     2,  Iter     4:    Energy =   0.0227
big value: -2802.906282
big value: 1415.139540
big value: 2236.683102
Level     2,  Iter     5:    Energy =   0.0233
Level     2,  Iter     6:    Energy =   0.0229
Level     2,  Iter     7:    Energy =   0.0238
Level     2,  Iter     8:    Energy =   0.0246
Level     2,  Iter     9:    Energy =   0.0253
Level     2,  Iter    10:    Energy =   0.0261
Level     2,  Iter    11:    Energy =   0.0266
Level     2,  Iter    12:    Energy =   0.0264
Level     2,  Iter    13:    Energy =   0.0268
Level     2,  Iter    14:    Energy =   0.0271
Level     2,  Iter    15:    Energy =   0.0274
Level     2,  Iter    16:    Energy =   0.0269
Level     2,  Iter    17:    Energy =   0.0272
Level     2,  Iter    18:    Energy =   0.0275
Level     2,  Iter    19:    Energy =   0.0270
END OF LEVEL     2    DetJac Range:   0.0186  to   3.8425 
  Avg. Gradient Time  : 0.1847s  32.83% 
  Avg. Gaussian Time  : 0.3022s  53.72% 
  Avg. Iteration Time : 0.5626s 

real	0m20.225s
user	0m35.296s
sys	0m2.028s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=56 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=56 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.44 0.444286
+ echo 'CHUNK 0.44 0.444286 1'
CHUNK 0.44 0.444286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.44 0.444286 1
====================================
         PROGRESS: 0.44               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.651
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 469.259   GNORM= 303.756
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       222.685     187.232       0.003
   2    3       -34.909     130.412       1.000
   3    6      -394.266      96.840       1.438
   4    8      -446.466     135.850       0.330
   5   11      -460.216      71.709       2.104
   6   12      -570.695      86.880       1.000
   7   14      -611.377      44.349       0.329
   8   15      -638.519      47.845       1.000
   9   16      -672.023     152.479       1.000
  10   19      -898.011     101.598       2.296
  11   20     -1003.145      42.566       1.000
  12   21     -1065.905      74.232       1.000
  13   24     -1117.304      64.851       0.106
  14   27     -1117.628      65.655       0.000
  15   30     -1231.259     761.928       3.091
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.217699 0.466008 -0.181197 6.20606 
0.53613 0.76458 0.46294 15.6661 
-0.393129 -0.568481 0.727792 -2.02622 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -632.023   GNORM= 979.999
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    9      -633.717     554.710       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.2177 0.466009 -0.181198 6.20615 
0.536131 0.764581 0.462938 15.6663 
-0.393129 -0.568481 0.72779 -2.02614 
0 0 0 1 

Final RAS Transform: 
0.2177 0.466009 -0.181198 6.20615 
0.536131 0.764581 0.462938 15.6663 
-0.393129 -0.568481 0.72779 -2.02614 
0 0 0 1 


real	0m3.910s
user	0m6.088s
sys	0m0.512s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.509802
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0309
Level     0,  Iter     1:    Energy =   0.0337
Level     0,  Iter     2:    Energy =   0.0363
Level     0,  Iter     3:    Energy =   0.0390
Level     0,  Iter     4:    Energy =   0.0417
Level     0,  Iter     5:    Energy =   0.0433
Level     0,  Iter     6:    Energy =   0.0446
Level     0,  Iter     7:    Energy =   0.0458
Level     0,  Iter     8:    Energy =   0.0472
Level     0,  Iter     9:    Energy =   0.0489
Level     0,  Iter    10:    Energy =   0.0502
Level     0,  Iter    11:    Energy =   0.0512
Level     0,  Iter    12:    Energy =   0.0522
Level     0,  Iter    13:    Energy =   0.0532
Level     0,  Iter    14:    Energy =   0.0542
Level     0,  Iter    15:    Energy =   0.0550
Level     0,  Iter    16:    Energy =   0.0554
Level     0,  Iter    17:    Energy =   0.0556
Level     0,  Iter    18:    Energy =   0.0557
Level     0,  Iter    19:    Energy =   0.0560
Level     0,  Iter    20:    Energy =   0.0561
Level     0,  Iter    21:    Energy =   0.0563
Level     0,  Iter    22:    Energy =   0.0563
Level     0,  Iter    23:    Energy =   0.0562
Level     0,  Iter    24:    Energy =   0.0560
Level     0,  Iter    25:    Energy =   0.0559
Level     0,  Iter    26:    Energy =   0.0557
Level     0,  Iter    27:    Energy =   0.0554
Level     0,  Iter    28:    Energy =   0.0554
Level     0,  Iter    29:    Energy =   0.0553
Level     0,  Iter    30:    Energy =   0.0554
Level     0,  Iter    31:    Energy =   0.0555
Level     0,  Iter    32:    Energy =   0.0556
Level     0,  Iter    33:    Energy =   0.0556
Level     0,  Iter    34:    Energy =   0.0557
Level     0,  Iter    35:    Energy =   0.0558
Level     0,  Iter    36:    Energy =   0.0558
Level     0,  Iter    37:    Energy =   0.0558
Level     0,  Iter    38:    Energy =   0.0559
Level     0,  Iter    39:    Energy =   0.0560
Level     0,  Iter    40:    Energy =   0.0561
Level     0,  Iter    41:    Energy =   0.0562
Level     0,  Iter    42:    Energy =   0.0562
Level     0,  Iter    43:    Energy =   0.0564
Level     0,  Iter    44:    Energy =   0.0564
Level     0,  Iter    45:    Energy =   0.0565
Level     0,  Iter    46:    Energy =   0.0566
Level     0,  Iter    47:    Energy =   0.0567
Level     0,  Iter    48:    Energy =   0.0567
Level     0,  Iter    49:    Energy =   0.0568
Level     0,  Iter    50:    Energy =   0.0568
Level     0,  Iter    51:    Energy =   0.0568
Level     0,  Iter    52:    Energy =   0.0568
Level     0,  Iter    53:    Energy =   0.0569
Level     0,  Iter    54:    Energy =   0.0569
Level     0,  Iter    55:    Energy =   0.0569
Level     0,  Iter    56:    Energy =   0.0569
Level     0,  Iter    57:    Energy =   0.0570
Level     0,  Iter    58:    Energy =   0.0570
Level     0,  Iter    59:    Energy =   0.0570
END OF LEVEL     0    DetJac Range:   0.0423  to   2.1557 
  Avg. Gradient Time  : 0.0067s  33.54% 
  Avg. Gaussian Time  : 0.0097s  48.44% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0333
Level     1,  Iter     1:    Energy =   0.0345
Level     1,  Iter     2:    Energy =   0.0356
Level     1,  Iter     3:    Energy =   0.0365
Level     1,  Iter     4:    Energy =   0.0373
Level     1,  Iter     5:    Energy =   0.0379
Level     1,  Iter     6:    Energy =   0.0384
Level     1,  Iter     7:    Energy =   0.0388
Level     1,  Iter     8:    Energy =   0.0392
Level     1,  Iter     9:    Energy =   0.0395
Level     1,  Iter    10:    Energy =   0.0397
Level     1,  Iter    11:    Energy =   0.0400
Level     1,  Iter    12:    Energy =   0.0403
Level     1,  Iter    13:    Energy =   0.0405
Level     1,  Iter    14:    Energy =   0.0408
Level     1,  Iter    15:    Energy =   0.0412
Level     1,  Iter    16:    Energy =   0.0415
Level     1,  Iter    17:    Energy =   0.0418
Level     1,  Iter    18:    Energy =   0.0421
Level     1,  Iter    19:    Energy =   0.0424
Level     1,  Iter    20:    Energy =   0.0427
Level     1,  Iter    21:    Energy =   0.0431
Level     1,  Iter    22:    Energy =   0.0434
Level     1,  Iter    23:    Energy =   0.0437
Level     1,  Iter    24:    Energy =   0.0440
Level     1,  Iter    25:    Energy =   0.0442
Level     1,  Iter    26:    Energy =   0.0444
Level     1,  Iter    27:    Energy =   0.0446
Level     1,  Iter    28:    Energy =   0.0449
Level     1,  Iter    29:    Energy =   0.0451
Level     1,  Iter    30:    Energy =   0.0453
Level     1,  Iter    31:    Energy =   0.0456
Level     1,  Iter    32:    Energy =   0.0459
Level     1,  Iter    33:    Energy =   0.0463
Level     1,  Iter    34:    Energy =   0.0467
Level     1,  Iter    35:    Energy =   0.0470
Level     1,  Iter    36:    Energy =   0.0473
Level     1,  Iter    37:    Energy =   0.0476
Level     1,  Iter    38:    Energy =   0.0477
Level     1,  Iter    39:    Energy =   0.0478
Level     1,  Iter    40:    Energy =   0.0479
Level     1,  Iter    41:    Energy =   0.0480
Level     1,  Iter    42:    Energy =   0.0482
Level     1,  Iter    43:    Energy =   0.0484
Level     1,  Iter    44:    Energy =   0.0485
Level     1,  Iter    45:    Energy =   0.0486
Level     1,  Iter    46:    Energy =   0.0487
Level     1,  Iter    47:    Energy =   0.0487
Level     1,  Iter    48:    Energy =   0.0488
Level     1,  Iter    49:    Energy =   0.0489
Level     1,  Iter    50:    Energy =   0.0490
Level     1,  Iter    51:    Energy =   0.0492
Level     1,  Iter    52:    Energy =   0.0493
Level     1,  Iter    53:    Energy =   0.0494
Level     1,  Iter    54:    Energy =   0.0496
Level     1,  Iter    55:    Energy =   0.0497
Level     1,  Iter    56:    Energy =   0.0498
Level     1,  Iter    57:    Energy =   0.0498
Level     1,  Iter    58:    Energy =   0.0499
Level     1,  Iter    59:    Energy =   0.0500
END OF LEVEL     1    DetJac Range:   0.0130  to   3.0481 
  Avg. Gradient Time  : 0.0281s  34.42% 
  Avg. Gaussian Time  : 0.0422s  51.69% 
  Avg. Iteration Time : 0.0817s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0235
Level     2,  Iter     1:    Energy =   0.0242
Level     2,  Iter     2:    Energy =   0.0248
Level     2,  Iter     3:    Energy =   0.0254
Level     2,  Iter     4:    Energy =   0.0260
Level     2,  Iter     5:    Energy =   0.0265
Level     2,  Iter     6:    Energy =   0.0269
Level     2,  Iter     7:    Energy =   0.0273
Level     2,  Iter     8:    Energy =   0.0277
Level     2,  Iter     9:    Energy =   0.0280
Level     2,  Iter    10:    Energy =   0.0282
Level     2,  Iter    11:    Energy =   0.0285
Level     2,  Iter    12:    Energy =   0.0287
Level     2,  Iter    13:    Energy =   0.0289
Level     2,  Iter    14:    Energy =   0.0291
Level     2,  Iter    15:    Energy =   0.0293
Level     2,  Iter    16:    Energy =   0.0294
Level     2,  Iter    17:    Energy =   0.0296
Level     2,  Iter    18:    Energy =   0.0297
Level     2,  Iter    19:    Energy =   0.0298
END OF LEVEL     2    DetJac Range:   0.0087  to   2.5859 
  Avg. Gradient Time  : 0.1837s  32.76% 
  Avg. Gaussian Time  : 0.3014s  53.76% 
  Avg. Iteration Time : 0.5606s 

real	0m20.095s
user	0m34.944s
sys	0m2.196s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=57 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=57 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.444286 0.448571
+ echo 'CHUNK 0.444286 0.448571 1'
CHUNK 0.444286 0.448571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.444286 0.448571 1
====================================
         PROGRESS: 0.444286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.631
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 642.821   GNORM= 300.098
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       383.484     179.700       0.003
   2    3        79.066     168.294       1.000
   3    4      -202.257     141.101       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.98086 0.0461044 -0.0182993 0.602419 
0.0451274 1.11027 -0.147561 3.98618 
-0.117678 -0.176593 1.08004 -6.43309 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -121.382   GNORM= 572.584
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   11      -121.623      87.485       0.000
   2   12      -121.822    1198.754       1.000
   3   20      -127.573     321.777       4.985
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.981009 0.0462478 -0.018448 0.624874 
0.0452996 1.11045 -0.147854 4.02411 
-0.117594 -0.176557 1.07994 -6.42178 
0 0 0 1 

Final RAS Transform: 
0.981009 0.0462478 -0.018448 0.624874 
0.0452996 1.11045 -0.147854 4.02411 
-0.117594 -0.176557 1.07994 -6.42178 
0 0 0 1 


real	0m4.242s
user	0m6.808s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.452639
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0123
Level     0,  Iter     1:    Energy =   0.0156
Level     0,  Iter     2:    Energy =   0.0183
Level     0,  Iter     3:    Energy =   0.0208
Level     0,  Iter     4:    Energy =   0.0228
Level     0,  Iter     5:    Energy =   0.0245
Level     0,  Iter     6:    Energy =   0.0260
Level     0,  Iter     7:    Energy =   0.0273
Level     0,  Iter     8:    Energy =   0.0285
Level     0,  Iter     9:    Energy =   0.0296
Level     0,  Iter    10:    Energy =   0.0306
Level     0,  Iter    11:    Energy =   0.0314
Level     0,  Iter    12:    Energy =   0.0319
Level     0,  Iter    13:    Energy =   0.0325
Level     0,  Iter    14:    Energy =   0.0331
Level     0,  Iter    15:    Energy =   0.0337
Level     0,  Iter    16:    Energy =   0.0344
Level     0,  Iter    17:    Energy =   0.0353
Level     0,  Iter    18:    Energy =   0.0360
Level     0,  Iter    19:    Energy =   0.0368
Level     0,  Iter    20:    Energy =   0.0374
Level     0,  Iter    21:    Energy =   0.0379
Level     0,  Iter    22:    Energy =   0.0385
Level     0,  Iter    23:    Energy =   0.0392
Level     0,  Iter    24:    Energy =   0.0397
Level     0,  Iter    25:    Energy =   0.0401
Level     0,  Iter    26:    Energy =   0.0405
Level     0,  Iter    27:    Energy =   0.0410
Level     0,  Iter    28:    Energy =   0.0414
Level     0,  Iter    29:    Energy =   0.0420
Level     0,  Iter    30:    Energy =   0.0423
Level     0,  Iter    31:    Energy =   0.0425
Level     0,  Iter    32:    Energy =   0.0426
Level     0,  Iter    33:    Energy =   0.0427
Level     0,  Iter    34:    Energy =   0.0428
Level     0,  Iter    35:    Energy =   0.0429
Level     0,  Iter    36:    Energy =   0.0432
Level     0,  Iter    37:    Energy =   0.0435
Level     0,  Iter    38:    Energy =   0.0439
Level     0,  Iter    39:    Energy =   0.0443
Level     0,  Iter    40:    Energy =   0.0447
Level     0,  Iter    41:    Energy =   0.0451
Level     0,  Iter    42:    Energy =   0.0455
Level     0,  Iter    43:    Energy =   0.0459
Level     0,  Iter    44:    Energy =   0.0463
Level     0,  Iter    45:    Energy =   0.0467
Level     0,  Iter    46:    Energy =   0.0472
Level     0,  Iter    47:    Energy =   0.0475
Level     0,  Iter    48:    Energy =   0.0478
Level     0,  Iter    49:    Energy =   0.0480
Level     0,  Iter    50:    Energy =   0.0481
Level     0,  Iter    51:    Energy =   0.0483
Level     0,  Iter    52:    Energy =   0.0484
Level     0,  Iter    53:    Energy =   0.0486
Level     0,  Iter    54:    Energy =   0.0487
Level     0,  Iter    55:    Energy =   0.0489
Level     0,  Iter    56:    Energy =   0.0490
Level     0,  Iter    57:    Energy =   0.0490
Level     0,  Iter    58:    Energy =   0.0492
Level     0,  Iter    59:    Energy =   0.0492
END OF LEVEL     0    DetJac Range:   0.0175  to   2.2011 
  Avg. Gradient Time  : 0.0067s  33.54% 
  Avg. Gaussian Time  : 0.0096s  48.28% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0299
Level     1,  Iter     1:    Energy =   0.0320
Level     1,  Iter     2:    Energy =   0.0338
Level     1,  Iter     3:    Energy =   0.0354
Level     1,  Iter     4:    Energy =   0.0368
Level     1,  Iter     5:    Energy =   0.0381
Level     1,  Iter     6:    Energy =   0.0391
Level     1,  Iter     7:    Energy =   0.0400
Level     1,  Iter     8:    Energy =   0.0408
Level     1,  Iter     9:    Energy =   0.0416
Level     1,  Iter    10:    Energy =   0.0422
Level     1,  Iter    11:    Energy =   0.0428
Level     1,  Iter    12:    Energy =   0.0433
Level     1,  Iter    13:    Energy =   0.0437
Level     1,  Iter    14:    Energy =   0.0440
Level     1,  Iter    15:    Energy =   0.0443
Level     1,  Iter    16:    Energy =   0.0445
Level     1,  Iter    17:    Energy =   0.0447
Level     1,  Iter    18:    Energy =   0.0450
Level     1,  Iter    19:    Energy =   0.0452
Level     1,  Iter    20:    Energy =   0.0454
Level     1,  Iter    21:    Energy =   0.0456
Level     1,  Iter    22:    Energy =   0.0458
Level     1,  Iter    23:    Energy =   0.0459
Level     1,  Iter    24:    Energy =   0.0461
Level     1,  Iter    25:    Energy =   0.0462
Level     1,  Iter    26:    Energy =   0.0464
Level     1,  Iter    27:    Energy =   0.0465
Level     1,  Iter    28:    Energy =   0.0467
Level     1,  Iter    29:    Energy =   0.0468
Level     1,  Iter    30:    Energy =   0.0469
Level     1,  Iter    31:    Energy =   0.0471
Level     1,  Iter    32:    Energy =   0.0472
Level     1,  Iter    33:    Energy =   0.0472
Level     1,  Iter    34:    Energy =   0.0473
Level     1,  Iter    35:    Energy =   0.0474
Level     1,  Iter    36:    Energy =   0.0474
Level     1,  Iter    37:    Energy =   0.0475
Level     1,  Iter    38:    Energy =   0.0475
Level     1,  Iter    39:    Energy =   0.0475
Level     1,  Iter    40:    Energy =   0.0475
Level     1,  Iter    41:    Energy =   0.0475
Level     1,  Iter    42:    Energy =   0.0476
Level     1,  Iter    43:    Energy =   0.0476
Level     1,  Iter    44:    Energy =   0.0476
Level     1,  Iter    45:    Energy =   0.0476
Level     1,  Iter    46:    Energy =   0.0476
Level     1,  Iter    47:    Energy =   0.0476
Level     1,  Iter    48:    Energy =   0.0475
Level     1,  Iter    49:    Energy =   0.0475
Level     1,  Iter    50:    Energy =   0.0475
Level     1,  Iter    51:    Energy =   0.0475
Level     1,  Iter    52:    Energy =   0.0476
Level     1,  Iter    53:    Energy =   0.0476
Level     1,  Iter    54:    Energy =   0.0475
Level     1,  Iter    55:    Energy =   0.0475
Level     1,  Iter    56:    Energy =   0.0476
Level     1,  Iter    57:    Energy =   0.0476
Level     1,  Iter    58:    Energy =   0.0476
Level     1,  Iter    59:    Energy =   0.0476
END OF LEVEL     1    DetJac Range:   0.0118  to   2.6785 
  Avg. Gradient Time  : 0.0284s  34.61% 
  Avg. Gaussian Time  : 0.0424s  51.54% 
  Avg. Iteration Time : 0.0822s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0217
Level     2,  Iter     1:    Energy =   0.0225
Level     2,  Iter     2:    Energy =   0.0232
Level     2,  Iter     3:    Energy =   0.0239
Level     2,  Iter     4:    Energy =   0.0244
Level     2,  Iter     5:    Energy =   0.0249
Level     2,  Iter     6:    Energy =   0.0254
Level     2,  Iter     7:    Energy =   0.0256
Level     2,  Iter     8:    Energy =   0.0259
Level     2,  Iter     9:    Energy =   0.0262
Level     2,  Iter    10:    Energy =   0.0264
Level     2,  Iter    11:    Energy =   0.0266
Level     2,  Iter    12:    Energy =   0.0268
Level     2,  Iter    13:    Energy =   0.0269
Level     2,  Iter    14:    Energy =   0.0271
Level     2,  Iter    15:    Energy =   0.0272
Level     2,  Iter    16:    Energy =   0.0272
Level     2,  Iter    17:    Energy =   0.0273
Level     2,  Iter    18:    Energy =   0.0273
Level     2,  Iter    19:    Energy =   0.0269
END OF LEVEL     2    DetJac Range:   0.0115  to   2.4492 
  Avg. Gradient Time  : 0.1861s  32.97% 
  Avg. Gaussian Time  : 0.3026s  53.62% 
  Avg. Iteration Time : 0.5644s 

real	0m20.174s
user	0m35.200s
sys	0m2.076s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=58 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=58 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.448571 0.452857
+ echo 'CHUNK 0.448571 0.452857 1'
CHUNK 0.448571 0.452857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.448571 0.452857 1
====================================
         PROGRESS: 0.448571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.671
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 703.569   GNORM= 351.242
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       370.710     242.457       0.003
   2    3       112.307     280.355       1.000
   3    6        -1.555      57.525      21.000
   4    7       -64.861      26.079       1.000
   5   10      -423.899      92.453       1.761
   6   19      -426.359     148.333       0.012
   7   21      -427.408      43.479       0.479
   8   24      -448.688      39.291       0.923
   9   28      -489.248      67.253       1.479
  10   30      -594.089     164.895       0.377
  11   33      -675.656     124.123       0.067
  12   37      -733.891     131.081       1.304
  13   40      -831.677      83.636       1.003
  14   42      -834.109      50.338       0.339
  15   43      -852.691     129.044       1.000
  16   46      -855.342     159.743       0.831
  17   51      -856.061      93.825       0.031
Final RAS Transform: 
0.84438 0.160352 -0.268385 1.66225 
0.0651996 1.08253 -0.17116 8.12514 
-0.361179 -0.0965925 0.995972 -4.43925 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -458.618   GNORM= 566.049
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -459.028     167.367       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.844395 0.160367 -0.268418 1.6646 
0.0651853 1.08252 -0.17114 8.12312 
-0.361183 -0.0965864 0.995952 -4.43838 
0 0 0 1 

Final RAS Transform: 
0.844395 0.160367 -0.268418 1.6646 
0.0651853 1.08252 -0.17114 8.12312 
-0.361183 -0.0965864 0.995952 -4.43838 
0 0 0 1 


real	0m3.777s
user	0m5.884s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.468896
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0216
Level     0,  Iter     1:    Energy =   0.0235
Level     0,  Iter     2:    Energy =   0.0269
Level     0,  Iter     3:    Energy =   0.0296
Level     0,  Iter     4:    Energy =   0.0317
Level     0,  Iter     5:    Energy =   0.0332
Level     0,  Iter     6:    Energy =   0.0345
Level     0,  Iter     7:    Energy =   0.0357
Level     0,  Iter     8:    Energy =   0.0365
Level     0,  Iter     9:    Energy =   0.0372
Level     0,  Iter    10:    Energy =   0.0379
Level     0,  Iter    11:    Energy =   0.0386
Level     0,  Iter    12:    Energy =   0.0394
Level     0,  Iter    13:    Energy =   0.0402
Level     0,  Iter    14:    Energy =   0.0411
Level     0,  Iter    15:    Energy =   0.0416
Level     0,  Iter    16:    Energy =   0.0420
Level     0,  Iter    17:    Energy =   0.0424
Level     0,  Iter    18:    Energy =   0.0426
Level     0,  Iter    19:    Energy =   0.0428
Level     0,  Iter    20:    Energy =   0.0430
Level     0,  Iter    21:    Energy =   0.0431
Level     0,  Iter    22:    Energy =   0.0432
Level     0,  Iter    23:    Energy =   0.0433
Level     0,  Iter    24:    Energy =   0.0434
Level     0,  Iter    25:    Energy =   0.0435
Level     0,  Iter    26:    Energy =   0.0437
Level     0,  Iter    27:    Energy =   0.0438
Level     0,  Iter    28:    Energy =   0.0440
Level     0,  Iter    29:    Energy =   0.0441
Level     0,  Iter    30:    Energy =   0.0443
Level     0,  Iter    31:    Energy =   0.0445
Level     0,  Iter    32:    Energy =   0.0446
Level     0,  Iter    33:    Energy =   0.0447
Level     0,  Iter    34:    Energy =   0.0448
Level     0,  Iter    35:    Energy =   0.0449
Level     0,  Iter    36:    Energy =   0.0451
Level     0,  Iter    37:    Energy =   0.0452
Level     0,  Iter    38:    Energy =   0.0453
Level     0,  Iter    39:    Energy =   0.0455
Level     0,  Iter    40:    Energy =   0.0456
Level     0,  Iter    41:    Energy =   0.0457
Level     0,  Iter    42:    Energy =   0.0459
Level     0,  Iter    43:    Energy =   0.0460
Level     0,  Iter    44:    Energy =   0.0461
Level     0,  Iter    45:    Energy =   0.0463
Level     0,  Iter    46:    Energy =   0.0465
Level     0,  Iter    47:    Energy =   0.0466
Level     0,  Iter    48:    Energy =   0.0468
Level     0,  Iter    49:    Energy =   0.0470
Level     0,  Iter    50:    Energy =   0.0471
Level     0,  Iter    51:    Energy =   0.0473
Level     0,  Iter    52:    Energy =   0.0475
Level     0,  Iter    53:    Energy =   0.0476
Level     0,  Iter    54:    Energy =   0.0478
Level     0,  Iter    55:    Energy =   0.0479
Level     0,  Iter    56:    Energy =   0.0481
Level     0,  Iter    57:    Energy =   0.0483
Level     0,  Iter    58:    Energy =   0.0485
Level     0,  Iter    59:    Energy =   0.0487
END OF LEVEL     0    DetJac Range:   0.0612  to   1.8680 
  Avg. Gradient Time  : 0.0066s  33.22% 
  Avg. Gaussian Time  : 0.0096s  48.63% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0271
Level     1,  Iter     1:    Energy =   0.0288
Level     1,  Iter     2:    Energy =   0.0303
Level     1,  Iter     3:    Energy =   0.0314
Level     1,  Iter     4:    Energy =   0.0324
Level     1,  Iter     5:    Energy =   0.0332
Level     1,  Iter     6:    Energy =   0.0340
Level     1,  Iter     7:    Energy =   0.0348
Level     1,  Iter     8:    Energy =   0.0355
Level     1,  Iter     9:    Energy =   0.0362
Level     1,  Iter    10:    Energy =   0.0369
Level     1,  Iter    11:    Energy =   0.0375
Level     1,  Iter    12:    Energy =   0.0381
Level     1,  Iter    13:    Energy =   0.0386
Level     1,  Iter    14:    Energy =   0.0392
Level     1,  Iter    15:    Energy =   0.0397
Level     1,  Iter    16:    Energy =   0.0403
Level     1,  Iter    17:    Energy =   0.0408
Level     1,  Iter    18:    Energy =   0.0413
Level     1,  Iter    19:    Energy =   0.0416
Level     1,  Iter    20:    Energy =   0.0420
Level     1,  Iter    21:    Energy =   0.0422
Level     1,  Iter    22:    Energy =   0.0425
Level     1,  Iter    23:    Energy =   0.0427
Level     1,  Iter    24:    Energy =   0.0430
Level     1,  Iter    25:    Energy =   0.0432
Level     1,  Iter    26:    Energy =   0.0433
Level     1,  Iter    27:    Energy =   0.0435
Level     1,  Iter    28:    Energy =   0.0437
Level     1,  Iter    29:    Energy =   0.0438
Level     1,  Iter    30:    Energy =   0.0440
Level     1,  Iter    31:    Energy =   0.0441
Level     1,  Iter    32:    Energy =   0.0442
Level     1,  Iter    33:    Energy =   0.0443
Level     1,  Iter    34:    Energy =   0.0444
Level     1,  Iter    35:    Energy =   0.0445
Level     1,  Iter    36:    Energy =   0.0446
Level     1,  Iter    37:    Energy =   0.0446
Level     1,  Iter    38:    Energy =   0.0446
Level     1,  Iter    39:    Energy =   0.0447
Level     1,  Iter    40:    Energy =   0.0447
Level     1,  Iter    41:    Energy =   0.0448
Level     1,  Iter    42:    Energy =   0.0448
Level     1,  Iter    43:    Energy =   0.0449
Level     1,  Iter    44:    Energy =   0.0449
Level     1,  Iter    45:    Energy =   0.0450
Level     1,  Iter    46:    Energy =   0.0450
Level     1,  Iter    47:    Energy =   0.0451
Level     1,  Iter    48:    Energy =   0.0451
Level     1,  Iter    49:    Energy =   0.0452
Level     1,  Iter    50:    Energy =   0.0452
Level     1,  Iter    51:    Energy =   0.0453
Level     1,  Iter    52:    Energy =   0.0453
Level     1,  Iter    53:    Energy =   0.0454
Level     1,  Iter    54:    Energy =   0.0454
Level     1,  Iter    55:    Energy =   0.0454
Level     1,  Iter    56:    Energy =   0.0455
Level     1,  Iter    57:    Energy =   0.0455
Level     1,  Iter    58:    Energy =   0.0456
Level     1,  Iter    59:    Energy =   0.0456
END OF LEVEL     1    DetJac Range:   0.0256  to   2.4435 
  Avg. Gradient Time  : 0.0279s  34.32% 
  Avg. Gaussian Time  : 0.0420s  51.74% 
  Avg. Iteration Time : 0.0813s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0194
Level     2,  Iter     1:    Energy =   0.0200
Level     2,  Iter     2:    Energy =   0.0208
Level     2,  Iter     3:    Energy =   0.0215
Level     2,  Iter     4:    Energy =   0.0220
Level     2,  Iter     5:    Energy =   0.0226
Level     2,  Iter     6:    Energy =   0.0230
Level     2,  Iter     7:    Energy =   0.0234
Level     2,  Iter     8:    Energy =   0.0238
Level     2,  Iter     9:    Energy =   0.0241
Level     2,  Iter    10:    Energy =   0.0244
Level     2,  Iter    11:    Energy =   0.0246
Level     2,  Iter    12:    Energy =   0.0248
Level     2,  Iter    13:    Energy =   0.0250
Level     2,  Iter    14:    Energy =   0.0251
Level     2,  Iter    15:    Energy =   0.0252
Level     2,  Iter    16:    Energy =   0.0253
Level     2,  Iter    17:    Energy =   0.0254
Level     2,  Iter    18:    Energy =   0.0254
Level     2,  Iter    19:    Energy =   0.0255
END OF LEVEL     2    DetJac Range:   0.0241  to   2.6492 
  Avg. Gradient Time  : 0.1849s  32.81% 
  Avg. Gaussian Time  : 0.3028s  53.74% 
  Avg. Iteration Time : 0.5635s 

real	0m20.027s
user	0m34.892s
sys	0m2.152s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=59 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=59 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.452857 0.457143
+ echo 'CHUNK 0.452857 0.457143 1'
CHUNK 0.452857 0.457143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.452857 0.457143 1
====================================
         PROGRESS: 0.452857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.664
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 497.88   GNORM= 306.841
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       240.241     211.525       0.003
   2    3       -91.800     204.905       1.000
   3    4      -256.916     347.032       1.000
   4    6      -516.386     126.774       0.275
   5    7      -570.580     141.870       1.000
   6   12      -672.431      38.928       1.147
   7   14      -693.610      64.555       0.428
   8   20      -761.356      49.920       0.087
   9   22      -766.514     105.225       0.507
  10   25      -770.454      47.352       2.025
  11   26      -804.391      46.182       1.000
  12   28      -826.919      66.854       0.402
  13   29      -845.066     104.506       1.000
  14   30      -883.955      79.989       1.000
  15   32      -916.175      16.855       0.332
  16   35      -946.984      43.623       1.371
  17   37      -950.184      84.115       0.176
  18   40      -956.650      56.332       0.075
  19   42      -956.701      57.805       0.035
  20   44      -964.723      49.306       0.529
  21   45      -978.851      46.122       1.000
  22   48      -978.903      63.807       0.007
  23   50      -979.875      18.921       0.199
  24   54      -987.657      27.536       0.898
  25   56      -993.708      39.198       0.203
  26   57     -1006.511      42.076       1.000
  27   58     -1016.643      41.146       1.000
  28   60     -1021.953      52.041       0.091
Final RAS Transform: 
0.597103 0.54691 -0.529796 4.01806 
0.2427 0.907676 -0.150902 -0.787967 
-0.126739 -0.261197 0.789098 -14.5241 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -504.426   GNORM= 288.348
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.597103 0.54691 -0.529796 4.01806 
0.2427 0.907676 -0.150902 -0.787967 
-0.126739 -0.261197 0.789098 -14.5241 
0 0 0 1 

Final RAS Transform: 
0.597103 0.54691 -0.529796 4.01806 
0.2427 0.907676 -0.150902 -0.787967 
-0.126739 -0.261197 0.789098 -14.5241 
0 0 0 1 


real	0m3.587s
user	0m5.356s
sys	0m0.564s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.413374
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0254
Level     0,  Iter     1:    Energy =   0.0272
Level     0,  Iter     2:    Energy =   0.0292
Level     0,  Iter     3:    Energy =   0.0308
Level     0,  Iter     4:    Energy =   0.0321
Level     0,  Iter     5:    Energy =   0.0334
Level     0,  Iter     6:    Energy =   0.0347
Level     0,  Iter     7:    Energy =   0.0359
Level     0,  Iter     8:    Energy =   0.0369
Level     0,  Iter     9:    Energy =   0.0379
Level     0,  Iter    10:    Energy =   0.0387
Level     0,  Iter    11:    Energy =   0.0394
Level     0,  Iter    12:    Energy =   0.0401
Level     0,  Iter    13:    Energy =   0.0407
Level     0,  Iter    14:    Energy =   0.0413
Level     0,  Iter    15:    Energy =   0.0419
Level     0,  Iter    16:    Energy =   0.0424
Level     0,  Iter    17:    Energy =   0.0430
Level     0,  Iter    18:    Energy =   0.0435
Level     0,  Iter    19:    Energy =   0.0440
Level     0,  Iter    20:    Energy =   0.0444
Level     0,  Iter    21:    Energy =   0.0450
Level     0,  Iter    22:    Energy =   0.0455
Level     0,  Iter    23:    Energy =   0.0459
Level     0,  Iter    24:    Energy =   0.0464
Level     0,  Iter    25:    Energy =   0.0470
Level     0,  Iter    26:    Energy =   0.0475
Level     0,  Iter    27:    Energy =   0.0480
Level     0,  Iter    28:    Energy =   0.0483
Level     0,  Iter    29:    Energy =   0.0486
Level     0,  Iter    30:    Energy =   0.0487
Level     0,  Iter    31:    Energy =   0.0490
Level     0,  Iter    32:    Energy =   0.0491
Level     0,  Iter    33:    Energy =   0.0492
Level     0,  Iter    34:    Energy =   0.0493
Level     0,  Iter    35:    Energy =   0.0495
Level     0,  Iter    36:    Energy =   0.0495
Level     0,  Iter    37:    Energy =   0.0495
Level     0,  Iter    38:    Energy =   0.0496
Level     0,  Iter    39:    Energy =   0.0496
Level     0,  Iter    40:    Energy =   0.0496
Level     0,  Iter    41:    Energy =   0.0496
Level     0,  Iter    42:    Energy =   0.0496
Level     0,  Iter    43:    Energy =   0.0496
Level     0,  Iter    44:    Energy =   0.0496
Level     0,  Iter    45:    Energy =   0.0497
Level     0,  Iter    46:    Energy =   0.0497
Level     0,  Iter    47:    Energy =   0.0497
Level     0,  Iter    48:    Energy =   0.0497
Level     0,  Iter    49:    Energy =   0.0498
Level     0,  Iter    50:    Energy =   0.0498
Level     0,  Iter    51:    Energy =   0.0499
Level     0,  Iter    52:    Energy =   0.0499
Level     0,  Iter    53:    Energy =   0.0499
Level     0,  Iter    54:    Energy =   0.0499
Level     0,  Iter    55:    Energy =   0.0499
Level     0,  Iter    56:    Energy =   0.0500
Level     0,  Iter    57:    Energy =   0.0501
Level     0,  Iter    58:    Energy =   0.0502
Level     0,  Iter    59:    Energy =   0.0502
END OF LEVEL     0    DetJac Range:   0.0708  to   2.0383 
  Avg. Gradient Time  : 0.0065s  33.57% 
  Avg. Gaussian Time  : 0.0094s  48.38% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0307
Level     1,  Iter     1:    Energy =   0.0316
Level     1,  Iter     2:    Energy =   0.0323
Level     1,  Iter     3:    Energy =   0.0328
Level     1,  Iter     4:    Energy =   0.0334
Level     1,  Iter     5:    Energy =   0.0339
Level     1,  Iter     6:    Energy =   0.0345
Level     1,  Iter     7:    Energy =   0.0353
Level     1,  Iter     8:    Energy =   0.0361
Level     1,  Iter     9:    Energy =   0.0368
Level     1,  Iter    10:    Energy =   0.0374
Level     1,  Iter    11:    Energy =   0.0378
Level     1,  Iter    12:    Energy =   0.0383
Level     1,  Iter    13:    Energy =   0.0389
Level     1,  Iter    14:    Energy =   0.0394
Level     1,  Iter    15:    Energy =   0.0398
Level     1,  Iter    16:    Energy =   0.0402
Level     1,  Iter    17:    Energy =   0.0405
Level     1,  Iter    18:    Energy =   0.0408
Level     1,  Iter    19:    Energy =   0.0411
Level     1,  Iter    20:    Energy =   0.0413
Level     1,  Iter    21:    Energy =   0.0416
Level     1,  Iter    22:    Energy =   0.0419
Level     1,  Iter    23:    Energy =   0.0421
Level     1,  Iter    24:    Energy =   0.0423
Level     1,  Iter    25:    Energy =   0.0424
Level     1,  Iter    26:    Energy =   0.0425
Level     1,  Iter    27:    Energy =   0.0426
Level     1,  Iter    28:    Energy =   0.0426
Level     1,  Iter    29:    Energy =   0.0426
Level     1,  Iter    30:    Energy =   0.0426
Level     1,  Iter    31:    Energy =   0.0426
Level     1,  Iter    32:    Energy =   0.0426
Level     1,  Iter    33:    Energy =   0.0427
Level     1,  Iter    34:    Energy =   0.0427
Level     1,  Iter    35:    Energy =   0.0427
Level     1,  Iter    36:    Energy =   0.0428
Level     1,  Iter    37:    Energy =   0.0429
Level     1,  Iter    38:    Energy =   0.0429
Level     1,  Iter    39:    Energy =   0.0429
Level     1,  Iter    40:    Energy =   0.0429
Level     1,  Iter    41:    Energy =   0.0430
Level     1,  Iter    42:    Energy =   0.0430
Level     1,  Iter    43:    Energy =   0.0430
Level     1,  Iter    44:    Energy =   0.0431
Level     1,  Iter    45:    Energy =   0.0431
Level     1,  Iter    46:    Energy =   0.0431
Level     1,  Iter    47:    Energy =   0.0432
Level     1,  Iter    48:    Energy =   0.0432
Level     1,  Iter    49:    Energy =   0.0432
Level     1,  Iter    50:    Energy =   0.0432
Level     1,  Iter    51:    Energy =   0.0432
Level     1,  Iter    52:    Energy =   0.0432
Level     1,  Iter    53:    Energy =   0.0432
Level     1,  Iter    54:    Energy =   0.0433
Level     1,  Iter    55:    Energy =   0.0432
Level     1,  Iter    56:    Energy =   0.0433
Level     1,  Iter    57:    Energy =   0.0433
Level     1,  Iter    58:    Energy =   0.0433
Level     1,  Iter    59:    Energy =   0.0433
END OF LEVEL     1    DetJac Range:   0.0331  to   2.5470 
  Avg. Gradient Time  : 0.0280s  34.47% 
  Avg. Gaussian Time  : 0.0418s  51.55% 
  Avg. Iteration Time : 0.0812s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0187
Level     2,  Iter     1:    Energy =   0.0195
Level     2,  Iter     2:    Energy =   0.0200
Level     2,  Iter     3:    Energy =   0.0207
Level     2,  Iter     4:    Energy =   0.0212
Level     2,  Iter     5:    Energy =   0.0218
Level     2,  Iter     6:    Energy =   0.0223
Level     2,  Iter     7:    Energy =   0.0228
Level     2,  Iter     8:    Energy =   0.0231
Level     2,  Iter     9:    Energy =   0.0235
Level     2,  Iter    10:    Energy =   0.0237
Level     2,  Iter    11:    Energy =   0.0240
Level     2,  Iter    12:    Energy =   0.0242
Level     2,  Iter    13:    Energy =   0.0244
Level     2,  Iter    14:    Energy =   0.0246
Level     2,  Iter    15:    Energy =   0.0248
Level     2,  Iter    16:    Energy =   0.0249
Level     2,  Iter    17:    Energy =   0.0250
Level     2,  Iter    18:    Energy =   0.0252
Level     2,  Iter    19:    Energy =   0.0253
END OF LEVEL     2    DetJac Range:   0.0244  to   2.4802 
  Avg. Gradient Time  : 0.1870s  33.01% 
  Avg. Gaussian Time  : 0.3030s  53.48% 
  Avg. Iteration Time : 0.5665s 

real	0m20.123s
user	0m35.032s
sys	0m2.152s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=60 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=60 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.457143 0.461429
+ echo 'CHUNK 0.457143 0.461429 1'
CHUNK 0.457143 0.461429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.457143 0.461429 1
====================================
         PROGRESS: 0.457143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 026
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 026 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=026
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 026 right 0
+ local tid=026
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.516
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 328.903   GNORM= 288.161
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       122.312     142.422       0.003
   2    3       -19.869     110.161       1.000
   3    5      -150.479      77.345       5.000
   4    6      -338.762      64.136       1.000
   5    7      -668.082      50.140       1.000
   6    9      -673.281      49.297       0.060
   7   10      -700.167      45.589       1.000
   8   14      -972.712      66.737       7.379
   9   15     -1134.276      22.203       1.000
  10   19     -1152.911      47.749       1.429
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.502854 0.440365 -0.0223429 5.02502 
0.391436 0.842079 0.234926 12.2264 
-0.550855 -0.164604 1.11085 -0.391739 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -472.261   GNORM= 62.0566
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.502854 0.440365 -0.0223429 5.02502 
0.391436 0.842079 0.234926 12.2264 
-0.550855 -0.164604 1.11085 -0.391738 
0 0 0 1 

Final RAS Transform: 
0.502854 0.440365 -0.0223429 5.02502 
0.391436 0.842079 0.234926 12.2264 
-0.550855 -0.164604 1.11085 -0.391738 
0 0 0 1 


real	0m3.304s
user	0m5.040s
sys	0m0.424s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.421965
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0285
Level     0,  Iter     1:    Energy =   0.0312
Level     0,  Iter     2:    Energy =   0.0344
Level     0,  Iter     3:    Energy =   0.0372
Level     0,  Iter     4:    Energy =   0.0397
Level     0,  Iter     5:    Energy =   0.0414
Level     0,  Iter     6:    Energy =   0.0426
Level     0,  Iter     7:    Energy =   0.0436
Level     0,  Iter     8:    Energy =   0.0443
Level     0,  Iter     9:    Energy =   0.0448
Level     0,  Iter    10:    Energy =   0.0453
Level     0,  Iter    11:    Energy =   0.0458
Level     0,  Iter    12:    Energy =   0.0462
Level     0,  Iter    13:    Energy =   0.0467
Level     0,  Iter    14:    Energy =   0.0472
Level     0,  Iter    15:    Energy =   0.0478
Level     0,  Iter    16:    Energy =   0.0484
Level     0,  Iter    17:    Energy =   0.0490
Level     0,  Iter    18:    Energy =   0.0497
Level     0,  Iter    19:    Energy =   0.0502
Level     0,  Iter    20:    Energy =   0.0508
Level     0,  Iter    21:    Energy =   0.0514
Level     0,  Iter    22:    Energy =   0.0519
Level     0,  Iter    23:    Energy =   0.0525
Level     0,  Iter    24:    Energy =   0.0530
Level     0,  Iter    25:    Energy =   0.0534
Level     0,  Iter    26:    Energy =   0.0538
Level     0,  Iter    27:    Energy =   0.0541
Level     0,  Iter    28:    Energy =   0.0544
Level     0,  Iter    29:    Energy =   0.0546
Level     0,  Iter    30:    Energy =   0.0548
Level     0,  Iter    31:    Energy =   0.0550
Level     0,  Iter    32:    Energy =   0.0551
Level     0,  Iter    33:    Energy =   0.0553
Level     0,  Iter    34:    Energy =   0.0554
Level     0,  Iter    35:    Energy =   0.0556
Level     0,  Iter    36:    Energy =   0.0557
Level     0,  Iter    37:    Energy =   0.0558
Level     0,  Iter    38:    Energy =   0.0558
Level     0,  Iter    39:    Energy =   0.0560
Level     0,  Iter    40:    Energy =   0.0559
Level     0,  Iter    41:    Energy =   0.0562
Level     0,  Iter    42:    Energy =   0.0562
Level     0,  Iter    43:    Energy =   0.0565
Level     0,  Iter    44:    Energy =   0.0565
Level     0,  Iter    45:    Energy =   0.0568
Level     0,  Iter    46:    Energy =   0.0568
Level     0,  Iter    47:    Energy =   0.0571
Level     0,  Iter    48:    Energy =   0.0571
Level     0,  Iter    49:    Energy =   0.0573
Level     0,  Iter    50:    Energy =   0.0575
Level     0,  Iter    51:    Energy =   0.0576
Level     0,  Iter    52:    Energy =   0.0576
Level     0,  Iter    53:    Energy =   0.0579
Level     0,  Iter    54:    Energy =   0.0580
Level     0,  Iter    55:    Energy =   0.0582
Level     0,  Iter    56:    Energy =   0.0585
Level     0,  Iter    57:    Energy =   0.0585
Level     0,  Iter    58:    Energy =   0.0588
Level     0,  Iter    59:    Energy =   0.0589
END OF LEVEL     0    DetJac Range:   0.1243  to   2.7381 
  Avg. Gradient Time  : 0.0067s  33.35% 
  Avg. Gaussian Time  : 0.0097s  48.34% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0319
Level     1,  Iter     1:    Energy =   0.0338
Level     1,  Iter     2:    Energy =   0.0357
Level     1,  Iter     3:    Energy =   0.0370
Level     1,  Iter     4:    Energy =   0.0380
Level     1,  Iter     5:    Energy =   0.0387
Level     1,  Iter     6:    Energy =   0.0393
Level     1,  Iter     7:    Energy =   0.0396
Level     1,  Iter     8:    Energy =   0.0399
Level     1,  Iter     9:    Energy =   0.0401
Level     1,  Iter    10:    Energy =   0.0402
Level     1,  Iter    11:    Energy =   0.0402
Level     1,  Iter    12:    Energy =   0.0401
Level     1,  Iter    13:    Energy =   0.0401
Level     1,  Iter    14:    Energy =   0.0401
Level     1,  Iter    15:    Energy =   0.0403
Level     1,  Iter    16:    Energy =   0.0408
Level     1,  Iter    17:    Energy =   0.0413
Level     1,  Iter    18:    Energy =   0.0419
Level     1,  Iter    19:    Energy =   0.0424
Level     1,  Iter    20:    Energy =   0.0431
Level     1,  Iter    21:    Energy =   0.0436
Level     1,  Iter    22:    Energy =   0.0440
Level     1,  Iter    23:    Energy =   0.0444
Level     1,  Iter    24:    Energy =   0.0447
Level     1,  Iter    25:    Energy =   0.0450
Level     1,  Iter    26:    Energy =   0.0452
Level     1,  Iter    27:    Energy =   0.0454
Level     1,  Iter    28:    Energy =   0.0455
Level     1,  Iter    29:    Energy =   0.0457
Level     1,  Iter    30:    Energy =   0.0458
Level     1,  Iter    31:    Energy =   0.0459
Level     1,  Iter    32:    Energy =   0.0460
Level     1,  Iter    33:    Energy =   0.0461
Level     1,  Iter    34:    Energy =   0.0462
Level     1,  Iter    35:    Energy =   0.0463
Level     1,  Iter    36:    Energy =   0.0463
Level     1,  Iter    37:    Energy =   0.0464
Level     1,  Iter    38:    Energy =   0.0465
Level     1,  Iter    39:    Energy =   0.0465
Level     1,  Iter    40:    Energy =   0.0466
Level     1,  Iter    41:    Energy =   0.0466
Level     1,  Iter    42:    Energy =   0.0467
Level     1,  Iter    43:    Energy =   0.0468
Level     1,  Iter    44:    Energy =   0.0468
Level     1,  Iter    45:    Energy =   0.0468
Level     1,  Iter    46:    Energy =   0.0469
Level     1,  Iter    47:    Energy =   0.0469
Level     1,  Iter    48:    Energy =   0.0470
Level     1,  Iter    49:    Energy =   0.0470
Level     1,  Iter    50:    Energy =   0.0471
Level     1,  Iter    51:    Energy =   0.0471
Level     1,  Iter    52:    Energy =   0.0471
Level     1,  Iter    53:    Energy =   0.0471
Level     1,  Iter    54:    Energy =   0.0471
Level     1,  Iter    55:    Energy =   0.0471
Level     1,  Iter    56:    Energy =   0.0471
Level     1,  Iter    57:    Energy =   0.0471
Level     1,  Iter    58:    Energy =   0.0471
Level     1,  Iter    59:    Energy =   0.0471
END OF LEVEL     1    DetJac Range:   0.0314  to   3.1521 
  Avg. Gradient Time  : 0.0277s  34.59% 
  Avg. Gaussian Time  : 0.0413s  51.52% 
  Avg. Iteration Time : 0.0801s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
big value: 1308.247265
big value: 1252.789300
Level     2,  Iter     0:    Energy =   0.0229
Level     2,  Iter     1:    Energy =   0.0227
Level     2,  Iter     2:    Energy =   0.0235
Level     2,  Iter     3:    Energy =   0.0241
Level     2,  Iter     4:    Energy =   0.0246
Level     2,  Iter     5:    Energy =   0.0243
Level     2,  Iter     6:    Energy =   0.0245
Level     2,  Iter     7:    Energy =   0.0245
Level     2,  Iter     8:    Energy =   0.0249
Level     2,  Iter     9:    Energy =   0.0253
Level     2,  Iter    10:    Energy =   0.0255
Level     2,  Iter    11:    Energy =   0.0257
Level     2,  Iter    12:    Energy =   0.0255
Level     2,  Iter    13:    Energy =   0.0257
Level     2,  Iter    14:    Energy =   0.0259
Level     2,  Iter    15:    Energy =   0.0257
Level     2,  Iter    16:    Energy =   0.0260
Level     2,  Iter    17:    Energy =   0.0262
big value: -2709.507572
big value: -2239.483788
Level     2,  Iter    18:    Energy =   0.0265
Level     2,  Iter    19:    Energy =   0.0259
END OF LEVEL     2    DetJac Range:   0.0340  to   2.7668 
  Avg. Gradient Time  : 0.1872s  33.09% 
  Avg. Gaussian Time  : 0.3027s  53.51% 
  Avg. Iteration Time : 0.5657s 

real	0m20.100s
user	0m35.196s
sys	0m1.912s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=61 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=61 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.461429 0.465714
+ echo 'CHUNK 0.461429 0.465714 1'
CHUNK 0.461429 0.465714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.461429 0.465714 1
====================================
         PROGRESS: 0.461429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 027
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 027 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=027
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 027 right 0
+ local tid=027
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 377.053   GNORM= 359.496
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        58.384     254.510       0.003
   2    3      -162.610      85.693       1.000
   3    4      -224.261      71.077       1.000
   4    6      -272.285      28.490       0.239
   5    8      -288.401      60.990       5.000
   6    9      -317.182      44.599       1.000
   7   12      -334.432      54.293       0.074
   8   14      -401.021      25.610       5.000
   9   15      -452.393      88.348       1.000
  10   16      -516.828     113.960       1.000
  11   17      -543.805      86.698       1.000
  12   19      -558.553      46.129       0.233
  13   20      -577.094      42.700       1.000
  14   21      -606.536      56.204       1.000
  15   22      -633.245      46.764       1.000
  16   23      -676.774      85.776       1.000
  17   24      -686.856      65.424       1.000
  18   25      -719.076      61.786       1.000
  19   27      -729.095      19.992       0.207
  20   28      -738.073      30.703       1.000
  21   29      -767.823      29.369       1.000
  22   32      -774.741      57.565       2.327
  23   33      -789.025      45.382       1.000
  24   35      -795.408      34.269       0.226
  25   36      -806.162      19.664       1.000
  26   38      -816.961      15.675       0.504
  27   40      -820.863      28.217       0.478
  28   41      -825.477      22.256       1.000
  29   42      -826.389      18.175       1.000
  30   44      -828.656      15.735       0.521
  31   45      -829.777       6.378       1.000
  32   48      -831.968      20.156       2.390
  33   50      -833.453      35.962       0.500
  34   51      -838.439      21.651       1.000
  35   52      -847.554      13.028       1.000
  36   54      -849.258      31.531       0.322
  37   56      -849.693      28.955       0.063
  38   57      -855.556      15.773       1.000
  39   59      -856.514      15.255       0.100
  40   60      -857.642      27.414       1.000
Final RAS Transform: 
0.901267 -0.188352 0.00283837 6.4228 
0.25455 0.72949 0.213893 14.1473 
-0.677231 -0.396776 0.701473 5.35014 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -447.573   GNORM= 17852.6
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   10      -447.636    9132.954       0.000
   2   11      -448.648    1118.503       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.901267 -0.188352 0.00283838 6.4228 
0.25455 0.72949 0.213893 14.1473 
-0.677232 -0.396777 0.701474 5.35004 
0 0 0 1 

Final RAS Transform: 
0.901267 -0.188352 0.00283838 6.4228 
0.25455 0.72949 0.213893 14.1473 
-0.677232 -0.396777 0.701474 5.35004 
0 0 0 1 


real	0m4.209s
user	0m6.592s
sys	0m0.576s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.429573
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0222
Level     0,  Iter     1:    Energy =   0.0241
Level     0,  Iter     2:    Energy =   0.0261
Level     0,  Iter     3:    Energy =   0.0281
Level     0,  Iter     4:    Energy =   0.0298
Level     0,  Iter     5:    Energy =   0.0312
Level     0,  Iter     6:    Energy =   0.0324
Level     0,  Iter     7:    Energy =   0.0332
Level     0,  Iter     8:    Energy =   0.0339
Level     0,  Iter     9:    Energy =   0.0344
Level     0,  Iter    10:    Energy =   0.0349
Level     0,  Iter    11:    Energy =   0.0354
Level     0,  Iter    12:    Energy =   0.0359
Level     0,  Iter    13:    Energy =   0.0362
Level     0,  Iter    14:    Energy =   0.0366
Level     0,  Iter    15:    Energy =   0.0369
Level     0,  Iter    16:    Energy =   0.0371
Level     0,  Iter    17:    Energy =   0.0374
Level     0,  Iter    18:    Energy =   0.0375
Level     0,  Iter    19:    Energy =   0.0377
Level     0,  Iter    20:    Energy =   0.0379
Level     0,  Iter    21:    Energy =   0.0380
Level     0,  Iter    22:    Energy =   0.0381
Level     0,  Iter    23:    Energy =   0.0382
Level     0,  Iter    24:    Energy =   0.0383
Level     0,  Iter    25:    Energy =   0.0384
Level     0,  Iter    26:    Energy =   0.0385
Level     0,  Iter    27:    Energy =   0.0386
Level     0,  Iter    28:    Energy =   0.0387
Level     0,  Iter    29:    Energy =   0.0388
Level     0,  Iter    30:    Energy =   0.0389
Level     0,  Iter    31:    Energy =   0.0391
Level     0,  Iter    32:    Energy =   0.0392
Level     0,  Iter    33:    Energy =   0.0393
Level     0,  Iter    34:    Energy =   0.0395
Level     0,  Iter    35:    Energy =   0.0396
Level     0,  Iter    36:    Energy =   0.0397
Level     0,  Iter    37:    Energy =   0.0398
Level     0,  Iter    38:    Energy =   0.0399
Level     0,  Iter    39:    Energy =   0.0400
Level     0,  Iter    40:    Energy =   0.0401
Level     0,  Iter    41:    Energy =   0.0402
Level     0,  Iter    42:    Energy =   0.0403
Level     0,  Iter    43:    Energy =   0.0404
Level     0,  Iter    44:    Energy =   0.0405
Level     0,  Iter    45:    Energy =   0.0405
Level     0,  Iter    46:    Energy =   0.0406
Level     0,  Iter    47:    Energy =   0.0406
Level     0,  Iter    48:    Energy =   0.0407
Level     0,  Iter    49:    Energy =   0.0407
Level     0,  Iter    50:    Energy =   0.0408
Level     0,  Iter    51:    Energy =   0.0408
Level     0,  Iter    52:    Energy =   0.0409
Level     0,  Iter    53:    Energy =   0.0409
Level     0,  Iter    54:    Energy =   0.0409
Level     0,  Iter    55:    Energy =   0.0409
Level     0,  Iter    56:    Energy =   0.0409
Level     0,  Iter    57:    Energy =   0.0409
Level     0,  Iter    58:    Energy =   0.0409
Level     0,  Iter    59:    Energy =   0.0409
END OF LEVEL     0    DetJac Range:   0.1116  to   2.4728 
  Avg. Gradient Time  : 0.0067s  33.27% 
  Avg. Gaussian Time  : 0.0097s  48.42% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0217
Level     1,  Iter     1:    Energy =   0.0226
Level     1,  Iter     2:    Energy =   0.0235
Level     1,  Iter     3:    Energy =   0.0243
Level     1,  Iter     4:    Energy =   0.0251
Level     1,  Iter     5:    Energy =   0.0259
Level     1,  Iter     6:    Energy =   0.0265
Level     1,  Iter     7:    Energy =   0.0272
Level     1,  Iter     8:    Energy =   0.0278
Level     1,  Iter     9:    Energy =   0.0283
Level     1,  Iter    10:    Energy =   0.0288
Level     1,  Iter    11:    Energy =   0.0294
Level     1,  Iter    12:    Energy =   0.0299
Level     1,  Iter    13:    Energy =   0.0304
Level     1,  Iter    14:    Energy =   0.0309
Level     1,  Iter    15:    Energy =   0.0312
Level     1,  Iter    16:    Energy =   0.0316
Level     1,  Iter    17:    Energy =   0.0319
Level     1,  Iter    18:    Energy =   0.0321
Level     1,  Iter    19:    Energy =   0.0324
Level     1,  Iter    20:    Energy =   0.0326
Level     1,  Iter    21:    Energy =   0.0328
Level     1,  Iter    22:    Energy =   0.0330
Level     1,  Iter    23:    Energy =   0.0331
Level     1,  Iter    24:    Energy =   0.0333
Level     1,  Iter    25:    Energy =   0.0335
Level     1,  Iter    26:    Energy =   0.0337
Level     1,  Iter    27:    Energy =   0.0338
Level     1,  Iter    28:    Energy =   0.0340
Level     1,  Iter    29:    Energy =   0.0341
Level     1,  Iter    30:    Energy =   0.0342
Level     1,  Iter    31:    Energy =   0.0343
Level     1,  Iter    32:    Energy =   0.0344
Level     1,  Iter    33:    Energy =   0.0345
Level     1,  Iter    34:    Energy =   0.0346
Level     1,  Iter    35:    Energy =   0.0347
Level     1,  Iter    36:    Energy =   0.0348
Level     1,  Iter    37:    Energy =   0.0349
Level     1,  Iter    38:    Energy =   0.0349
Level     1,  Iter    39:    Energy =   0.0350
Level     1,  Iter    40:    Energy =   0.0351
Level     1,  Iter    41:    Energy =   0.0351
Level     1,  Iter    42:    Energy =   0.0352
Level     1,  Iter    43:    Energy =   0.0353
Level     1,  Iter    44:    Energy =   0.0353
Level     1,  Iter    45:    Energy =   0.0354
Level     1,  Iter    46:    Energy =   0.0355
Level     1,  Iter    47:    Energy =   0.0355
Level     1,  Iter    48:    Energy =   0.0356
Level     1,  Iter    49:    Energy =   0.0356
Level     1,  Iter    50:    Energy =   0.0357
Level     1,  Iter    51:    Energy =   0.0357
Level     1,  Iter    52:    Energy =   0.0358
Level     1,  Iter    53:    Energy =   0.0358
Level     1,  Iter    54:    Energy =   0.0358
Level     1,  Iter    55:    Energy =   0.0359
Level     1,  Iter    56:    Energy =   0.0359
Level     1,  Iter    57:    Energy =   0.0359
Level     1,  Iter    58:    Energy =   0.0360
Level     1,  Iter    59:    Energy =   0.0360
END OF LEVEL     1    DetJac Range:   0.0202  to   2.4714 
  Avg. Gradient Time  : 0.0281s  34.79% 
  Avg. Gaussian Time  : 0.0415s  51.42% 
  Avg. Iteration Time : 0.0807s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0168
big value: 13617.071141
big value: 2693.398057
big value: 8843.344607
Level     2,  Iter     1:    Energy =   0.0167
Level     2,  Iter     2:    Energy =   0.0166
Level     2,  Iter     3:    Energy =   0.0166
big value: 2532.846511
Level     2,  Iter     4:    Energy =   0.0165
big value: 27984.849212
big value: -23045.037160
big value: -2175.617729
Level     2,  Iter     5:    Energy =   0.0163
big value: 1349.603105
Level     2,  Iter     6:    Energy =   0.0161
Level     2,  Iter     7:    Energy =   0.0159
big value: 1220.867683
big value: -1509.928962
big value: -1257.995693
Level     2,  Iter     8:    Energy =   0.0164
big value: 1775.665036
big value: -1132.049214
big value: 1238.678926
Level     2,  Iter     9:    Energy =   0.0162
Level     2,  Iter    10:    Energy =   0.0160
Level     2,  Iter    11:    Energy =   0.0160
Level     2,  Iter    12:    Energy =   0.0164
Level     2,  Iter    13:    Energy =   0.0162
Level     2,  Iter    14:    Energy =   0.0165
big value: 8428.467483
big value: -14542.513432
big value: -7831.540726
Level     2,  Iter    15:    Energy =   0.0164
Level     2,  Iter    16:    Energy =   0.0162
big value: -4801.958544
big value: -2551.087656
Level     2,  Iter    17:    Energy =   0.0161
Level     2,  Iter    18:    Energy =   0.0159
Level     2,  Iter    19:    Energy =   0.0163
END OF LEVEL     2    DetJac Range:   0.0477  to   2.2553 
  Avg. Gradient Time  : 0.1826s  32.68% 
  Avg. Gaussian Time  : 0.3005s  53.77% 
  Avg. Iteration Time : 0.5588s 

real	0m19.957s
user	0m34.644s
sys	0m2.236s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=62 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=62 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.465714 0.47
+ echo 'CHUNK 0.465714 0.47 1'
CHUNK 0.465714 0.47 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.465714 0.47 1
====================================
         PROGRESS: 0.465714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 028
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 028 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=028
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 028 right 0
+ local tid=028
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.59
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 493.963   GNORM= 331.64
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       185.643     262.644       0.003
   2    3      -269.521     163.889       1.000
   3    4      -576.630     119.822       1.000
   4    5      -642.171      75.256       1.000
   5    9      -729.072      50.484       0.996
   6   10      -753.477      37.504       1.000
   7   11      -808.863      54.435       1.000
   8   12     -1047.624      71.238       1.000
   9   14     -1099.970      70.357       0.267
  10   17     -1135.365     171.825       2.283
  11   20     -1146.130     137.558       0.037
  12   21     -1207.340      74.240       1.000
  13   22     -1243.805      38.217       1.000
  14   23     -1248.795      19.503       1.000
  15   26     -1256.508      29.362       1.787
  16   27     -1261.924      45.543       1.000
  17   32     -1262.166      48.652       0.407
  18   33     -1275.777      55.106       1.000
  19   36     -1288.733      41.149       0.187
  20   39     -1322.361      86.524       2.091
  21   40     -1340.980      59.395       1.000
  22   44     -1342.375      44.510       0.331
  23   46     -1344.518      44.748       0.535
Final RAS Transform: 
0.530009 0.37921 -0.190301 -2.1749 
0.452934 0.925055 0.363866 15.1061 
-0.348457 -0.0337942 1.15959 -6.89477 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -578.462   GNORM= 470.428
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -633.134     686.880       0.002
   2    9      -634.334     597.813       0.004
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.529218 0.379693 -0.186537 -2.27136 
0.451316 0.926876 0.365265 15.1941 
-0.346841 -0.0389888 1.17477 -7.37031 
0 0 0 1 

Final RAS Transform: 
0.529218 0.379693 -0.186537 -2.27136 
0.451316 0.926876 0.365265 15.1941 
-0.346841 -0.0389888 1.17477 -7.37031 
0 0 0 1 


real	0m4.042s
user	0m6.252s
sys	0m0.584s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.300237
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0333
Level     0,  Iter     1:    Energy =   0.0355
Level     0,  Iter     2:    Energy =   0.0382
Level     0,  Iter     3:    Energy =   0.0408
Level     0,  Iter     4:    Energy =   0.0434
Level     0,  Iter     5:    Energy =   0.0454
Level     0,  Iter     6:    Energy =   0.0468
Level     0,  Iter     7:    Energy =   0.0480
Level     0,  Iter     8:    Energy =   0.0489
Level     0,  Iter     9:    Energy =   0.0499
Level     0,  Iter    10:    Energy =   0.0507
Level     0,  Iter    11:    Energy =   0.0515
Level     0,  Iter    12:    Energy =   0.0522
Level     0,  Iter    13:    Energy =   0.0529
Level     0,  Iter    14:    Energy =   0.0532
Level     0,  Iter    15:    Energy =   0.0535
Level     0,  Iter    16:    Energy =   0.0537
Level     0,  Iter    17:    Energy =   0.0539
Level     0,  Iter    18:    Energy =   0.0540
Level     0,  Iter    19:    Energy =   0.0543
Level     0,  Iter    20:    Energy =   0.0545
Level     0,  Iter    21:    Energy =   0.0548
Level     0,  Iter    22:    Energy =   0.0549
Level     0,  Iter    23:    Energy =   0.0553
Level     0,  Iter    24:    Energy =   0.0552
Level     0,  Iter    25:    Energy =   0.0555
Level     0,  Iter    26:    Energy =   0.0558
Level     0,  Iter    27:    Energy =   0.0561
Level     0,  Iter    28:    Energy =   0.0564
Level     0,  Iter    29:    Energy =   0.0566
Level     0,  Iter    30:    Energy =   0.0570
Level     0,  Iter    31:    Energy =   0.0572
Level     0,  Iter    32:    Energy =   0.0576
Level     0,  Iter    33:    Energy =   0.0579
Level     0,  Iter    34:    Energy =   0.0582
Level     0,  Iter    35:    Energy =   0.0583
Level     0,  Iter    36:    Energy =   0.0586
Level     0,  Iter    37:    Energy =   0.0587
Level     0,  Iter    38:    Energy =   0.0588
Level     0,  Iter    39:    Energy =   0.0589
Level     0,  Iter    40:    Energy =   0.0592
Level     0,  Iter    41:    Energy =   0.0593
Level     0,  Iter    42:    Energy =   0.0593
Level     0,  Iter    43:    Energy =   0.0593
Level     0,  Iter    44:    Energy =   0.0595
Level     0,  Iter    45:    Energy =   0.0595
Level     0,  Iter    46:    Energy =   0.0596
Level     0,  Iter    47:    Energy =   0.0595
Level     0,  Iter    48:    Energy =   0.0598
Level     0,  Iter    49:    Energy =   0.0598
Level     0,  Iter    50:    Energy =   0.0598
Level     0,  Iter    51:    Energy =   0.0598
Level     0,  Iter    52:    Energy =   0.0600
Level     0,  Iter    53:    Energy =   0.0600
Level     0,  Iter    54:    Energy =   0.0599
Level     0,  Iter    55:    Energy =   0.0599
Level     0,  Iter    56:    Energy =   0.0601
Level     0,  Iter    57:    Energy =   0.0602
Level     0,  Iter    58:    Energy =   0.0601
Level     0,  Iter    59:    Energy =   0.0600
END OF LEVEL     0    DetJac Range:   0.0548  to   2.8249 
  Avg. Gradient Time  : 0.0066s  33.24% 
  Avg. Gaussian Time  : 0.0096s  48.34% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0340
Level     1,  Iter     1:    Energy =   0.0353
Level     1,  Iter     2:    Energy =   0.0363
Level     1,  Iter     3:    Energy =   0.0372
Level     1,  Iter     4:    Energy =   0.0379
Level     1,  Iter     5:    Energy =   0.0385
Level     1,  Iter     6:    Energy =   0.0391
Level     1,  Iter     7:    Energy =   0.0396
Level     1,  Iter     8:    Energy =   0.0400
Level     1,  Iter     9:    Energy =   0.0404
Level     1,  Iter    10:    Energy =   0.0408
Level     1,  Iter    11:    Energy =   0.0411
Level     1,  Iter    12:    Energy =   0.0414
Level     1,  Iter    13:    Energy =   0.0417
Level     1,  Iter    14:    Energy =   0.0419
Level     1,  Iter    15:    Energy =   0.0421
Level     1,  Iter    16:    Energy =   0.0422
Level     1,  Iter    17:    Energy =   0.0424
Level     1,  Iter    18:    Energy =   0.0425
Level     1,  Iter    19:    Energy =   0.0426
Level     1,  Iter    20:    Energy =   0.0427
Level     1,  Iter    21:    Energy =   0.0428
Level     1,  Iter    22:    Energy =   0.0429
Level     1,  Iter    23:    Energy =   0.0430
Level     1,  Iter    24:    Energy =   0.0430
Level     1,  Iter    25:    Energy =   0.0431
Level     1,  Iter    26:    Energy =   0.0432
Level     1,  Iter    27:    Energy =   0.0433
Level     1,  Iter    28:    Energy =   0.0433
Level     1,  Iter    29:    Energy =   0.0433
Level     1,  Iter    30:    Energy =   0.0433
Level     1,  Iter    31:    Energy =   0.0433
Level     1,  Iter    32:    Energy =   0.0433
Level     1,  Iter    33:    Energy =   0.0433
Level     1,  Iter    34:    Energy =   0.0432
Level     1,  Iter    35:    Energy =   0.0432
Level     1,  Iter    36:    Energy =   0.0433
Level     1,  Iter    37:    Energy =   0.0433
Level     1,  Iter    38:    Energy =   0.0433
Level     1,  Iter    39:    Energy =   0.0433
Level     1,  Iter    40:    Energy =   0.0433
Level     1,  Iter    41:    Energy =   0.0433
Level     1,  Iter    42:    Energy =   0.0433
Level     1,  Iter    43:    Energy =   0.0433
Level     1,  Iter    44:    Energy =   0.0433
Level     1,  Iter    45:    Energy =   0.0433
Level     1,  Iter    46:    Energy =   0.0433
Level     1,  Iter    47:    Energy =   0.0433
Level     1,  Iter    48:    Energy =   0.0433
Level     1,  Iter    49:    Energy =   0.0433
Level     1,  Iter    50:    Energy =   0.0433
Level     1,  Iter    51:    Energy =   0.0433
Level     1,  Iter    52:    Energy =   0.0433
Level     1,  Iter    53:    Energy =   0.0433
Level     1,  Iter    54:    Energy =   0.0433
Level     1,  Iter    55:    Energy =   0.0433
Level     1,  Iter    56:    Energy =   0.0433
Level     1,  Iter    57:    Energy =   0.0433
Level     1,  Iter    58:    Energy =   0.0433
Level     1,  Iter    59:    Energy =   0.0433
END OF LEVEL     1    DetJac Range:   0.0100  to   2.5084 
  Avg. Gradient Time  : 0.0279s  34.47% 
  Avg. Gaussian Time  : 0.0418s  51.62% 
  Avg. Iteration Time : 0.0810s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0195
Level     2,  Iter     1:    Energy =   0.0203
Level     2,  Iter     2:    Energy =   0.0210
Level     2,  Iter     3:    Energy =   0.0215
Level     2,  Iter     4:    Energy =   0.0220
Level     2,  Iter     5:    Energy =   0.0224
Level     2,  Iter     6:    Energy =   0.0228
Level     2,  Iter     7:    Energy =   0.0231
Level     2,  Iter     8:    Energy =   0.0234
Level     2,  Iter     9:    Energy =   0.0237
Level     2,  Iter    10:    Energy =   0.0239
Level     2,  Iter    11:    Energy =   0.0241
Level     2,  Iter    12:    Energy =   0.0243
Level     2,  Iter    13:    Energy =   0.0245
Level     2,  Iter    14:    Energy =   0.0246
Level     2,  Iter    15:    Energy =   0.0248
Level     2,  Iter    16:    Energy =   0.0249
Level     2,  Iter    17:    Energy =   0.0251
Level     2,  Iter    18:    Energy =   0.0252
Level     2,  Iter    19:    Energy =   0.0253
END OF LEVEL     2    DetJac Range:   0.0122  to   2.3117 
  Avg. Gradient Time  : 0.1836s  32.81% 
  Avg. Gaussian Time  : 0.3010s  53.79% 
  Avg. Iteration Time : 0.5596s 

real	0m19.932s
user	0m34.776s
sys	0m2.096s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=63 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=63 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.47 0.474286
+ echo 'CHUNK 0.47 0.474286 1'
CHUNK 0.47 0.474286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.47 0.474286 1
====================================
         PROGRESS: 0.47               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 029
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 029 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=029
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 029 right 0
+ local tid=029
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 507.338   GNORM= 313.278
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       227.308     223.779       0.003
   2    3      -197.432     147.591       1.000
   3    5      -427.759      96.446       5.000
   4    8      -560.365      79.541       0.712
   5    9      -616.791      59.320       1.000
   6   11      -716.405      90.804       5.000
   7   12      -743.085      95.178       1.000
   8   15      -798.248      73.568       0.170
   9   16      -904.254     256.428       1.000
  10   20      -936.717     145.301       0.007
  11   25     -1035.824     165.094       1.148
  12   29     -1036.569     114.173       0.009
  13   33     -1054.041     108.733       1.080
  14   34     -1075.259     166.642       1.000
  15   36     -1086.562     119.858       5.000
  16   39     -1108.058     104.605       0.800
  17   40     -1111.726     459.361       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.670961 0.291487 -0.231093 7.1397 
0.112342 0.9167 -0.0114983 11.1112 
-0.455551 -0.180203 0.781301 -5.72202 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -485.773   GNORM= 188.016
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -522.813     104.223       0.005
   2    4      -522.911      74.108       0.000
   3    5      -558.746     251.862       1.000
   4   11      -604.405      95.479       0.553
   5   12      -610.017     260.184       1.000
   6   16      -610.481      77.918       0.054
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.666403 0.288378 -0.234331 6.73853 
0.108708 0.91684 -0.0117542 10.3169 
-0.450533 -0.166111 0.761359 -3.61492 
0 0 0 1 

Final RAS Transform: 
0.666403 0.288378 -0.234331 6.73853 
0.108708 0.91684 -0.0117542 10.3169 
-0.450533 -0.166111 0.761359 -3.61492 
0 0 0 1 


real	0m4.528s
user	0m7.256s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.373886
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0300
Level     0,  Iter     1:    Energy =   0.0330
Level     0,  Iter     2:    Energy =   0.0356
Level     0,  Iter     3:    Energy =   0.0376
Level     0,  Iter     4:    Energy =   0.0392
Level     0,  Iter     5:    Energy =   0.0408
Level     0,  Iter     6:    Energy =   0.0424
Level     0,  Iter     7:    Energy =   0.0436
Level     0,  Iter     8:    Energy =   0.0446
Level     0,  Iter     9:    Energy =   0.0455
Level     0,  Iter    10:    Energy =   0.0464
Level     0,  Iter    11:    Energy =   0.0474
Level     0,  Iter    12:    Energy =   0.0480
Level     0,  Iter    13:    Energy =   0.0487
Level     0,  Iter    14:    Energy =   0.0492
Level     0,  Iter    15:    Energy =   0.0496
Level     0,  Iter    16:    Energy =   0.0501
Level     0,  Iter    17:    Energy =   0.0505
Level     0,  Iter    18:    Energy =   0.0509
Level     0,  Iter    19:    Energy =   0.0513
Level     0,  Iter    20:    Energy =   0.0517
Level     0,  Iter    21:    Energy =   0.0520
Level     0,  Iter    22:    Energy =   0.0523
Level     0,  Iter    23:    Energy =   0.0526
Level     0,  Iter    24:    Energy =   0.0529
Level     0,  Iter    25:    Energy =   0.0531
Level     0,  Iter    26:    Energy =   0.0534
Level     0,  Iter    27:    Energy =   0.0535
Level     0,  Iter    28:    Energy =   0.0536
Level     0,  Iter    29:    Energy =   0.0538
Level     0,  Iter    30:    Energy =   0.0539
Level     0,  Iter    31:    Energy =   0.0542
Level     0,  Iter    32:    Energy =   0.0542
Level     0,  Iter    33:    Energy =   0.0542
Level     0,  Iter    34:    Energy =   0.0544
Level     0,  Iter    35:    Energy =   0.0545
Level     0,  Iter    36:    Energy =   0.0546
Level     0,  Iter    37:    Energy =   0.0547
Level     0,  Iter    38:    Energy =   0.0548
Level     0,  Iter    39:    Energy =   0.0550
Level     0,  Iter    40:    Energy =   0.0550
Level     0,  Iter    41:    Energy =   0.0551
Level     0,  Iter    42:    Energy =   0.0552
Level     0,  Iter    43:    Energy =   0.0553
Level     0,  Iter    44:    Energy =   0.0554
Level     0,  Iter    45:    Energy =   0.0555
Level     0,  Iter    46:    Energy =   0.0555
Level     0,  Iter    47:    Energy =   0.0556
Level     0,  Iter    48:    Energy =   0.0557
Level     0,  Iter    49:    Energy =   0.0558
Level     0,  Iter    50:    Energy =   0.0557
Level     0,  Iter    51:    Energy =   0.0558
Level     0,  Iter    52:    Energy =   0.0558
Level     0,  Iter    53:    Energy =   0.0558
Level     0,  Iter    54:    Energy =   0.0559
Level     0,  Iter    55:    Energy =   0.0559
Level     0,  Iter    56:    Energy =   0.0558
Level     0,  Iter    57:    Energy =   0.0559
Level     0,  Iter    58:    Energy =   0.0558
Level     0,  Iter    59:    Energy =   0.0558
END OF LEVEL     0    DetJac Range:   0.0800  to   2.3498 
  Avg. Gradient Time  : 0.0067s  33.89% 
  Avg. Gaussian Time  : 0.0095s  48.01% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0304
Level     1,  Iter     1:    Energy =   0.0315
Level     1,  Iter     2:    Energy =   0.0324
Level     1,  Iter     3:    Energy =   0.0334
Level     1,  Iter     4:    Energy =   0.0343
Level     1,  Iter     5:    Energy =   0.0350
Level     1,  Iter     6:    Energy =   0.0355
Level     1,  Iter     7:    Energy =   0.0360
Level     1,  Iter     8:    Energy =   0.0365
Level     1,  Iter     9:    Energy =   0.0370
Level     1,  Iter    10:    Energy =   0.0375
Level     1,  Iter    11:    Energy =   0.0379
Level     1,  Iter    12:    Energy =   0.0382
Level     1,  Iter    13:    Energy =   0.0385
Level     1,  Iter    14:    Energy =   0.0387
Level     1,  Iter    15:    Energy =   0.0389
Level     1,  Iter    16:    Energy =   0.0391
Level     1,  Iter    17:    Energy =   0.0392
Level     1,  Iter    18:    Energy =   0.0393
Level     1,  Iter    19:    Energy =   0.0395
Level     1,  Iter    20:    Energy =   0.0396
Level     1,  Iter    21:    Energy =   0.0397
Level     1,  Iter    22:    Energy =   0.0398
Level     1,  Iter    23:    Energy =   0.0398
Level     1,  Iter    24:    Energy =   0.0399
Level     1,  Iter    25:    Energy =   0.0399
Level     1,  Iter    26:    Energy =   0.0400
Level     1,  Iter    27:    Energy =   0.0400
Level     1,  Iter    28:    Energy =   0.0401
Level     1,  Iter    29:    Energy =   0.0401
Level     1,  Iter    30:    Energy =   0.0402
Level     1,  Iter    31:    Energy =   0.0402
Level     1,  Iter    32:    Energy =   0.0402
Level     1,  Iter    33:    Energy =   0.0402
Level     1,  Iter    34:    Energy =   0.0402
Level     1,  Iter    35:    Energy =   0.0402
Level     1,  Iter    36:    Energy =   0.0402
Level     1,  Iter    37:    Energy =   0.0402
Level     1,  Iter    38:    Energy =   0.0402
Level     1,  Iter    39:    Energy =   0.0402
Level     1,  Iter    40:    Energy =   0.0402
Level     1,  Iter    41:    Energy =   0.0402
Level     1,  Iter    42:    Energy =   0.0402
Level     1,  Iter    43:    Energy =   0.0402
Level     1,  Iter    44:    Energy =   0.0402
Level     1,  Iter    45:    Energy =   0.0402
Level     1,  Iter    46:    Energy =   0.0402
Level     1,  Iter    47:    Energy =   0.0402
Level     1,  Iter    48:    Energy =   0.0402
Level     1,  Iter    49:    Energy =   0.0402
Level     1,  Iter    50:    Energy =   0.0402
Level     1,  Iter    51:    Energy =   0.0402
Level     1,  Iter    52:    Energy =   0.0402
Level     1,  Iter    53:    Energy =   0.0402
Level     1,  Iter    54:    Energy =   0.0402
Level     1,  Iter    55:    Energy =   0.0402
Level     1,  Iter    56:    Energy =   0.0402
Level     1,  Iter    57:    Energy =   0.0402
Level     1,  Iter    58:    Energy =   0.0402
Level     1,  Iter    59:    Energy =   0.0402
END OF LEVEL     1    DetJac Range:   0.0587  to   2.3466 
  Avg. Gradient Time  : 0.0282s  34.84% 
  Avg. Gaussian Time  : 0.0416s  51.34% 
  Avg. Iteration Time : 0.0810s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0174
Level     2,  Iter     1:    Energy =   0.0182
Level     2,  Iter     2:    Energy =   0.0189
Level     2,  Iter     3:    Energy =   0.0196
Level     2,  Iter     4:    Energy =   0.0203
Level     2,  Iter     5:    Energy =   0.0210
Level     2,  Iter     6:    Energy =   0.0216
Level     2,  Iter     7:    Energy =   0.0221
Level     2,  Iter     8:    Energy =   0.0226
Level     2,  Iter     9:    Energy =   0.0230
Level     2,  Iter    10:    Energy =   0.0233
Level     2,  Iter    11:    Energy =   0.0235
Level     2,  Iter    12:    Energy =   0.0238
Level     2,  Iter    13:    Energy =   0.0240
Level     2,  Iter    14:    Energy =   0.0241
Level     2,  Iter    15:    Energy =   0.0243
Level     2,  Iter    16:    Energy =   0.0245
Level     2,  Iter    17:    Energy =   0.0246
Level     2,  Iter    18:    Energy =   0.0248
Level     2,  Iter    19:    Energy =   0.0249
END OF LEVEL     2    DetJac Range:   0.0418  to   2.8782 
  Avg. Gradient Time  : 0.1814s  32.60% 
  Avg. Gaussian Time  : 0.3002s  53.96% 
  Avg. Iteration Time : 0.5564s 

real	0m19.954s
user	0m34.668s
sys	0m2.160s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=64 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=64 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.474286 0.478571
+ echo 'CHUNK 0.474286 0.478571 1'
CHUNK 0.474286 0.478571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.474286 0.478571 1
====================================
         PROGRESS: 0.474286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 030
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 030 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=030
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 030 right 0
+ local tid=030
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.625
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 349.85   GNORM= 261.431
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       107.322     210.896       0.004
   2    5      -402.524     122.849       1.408
   3    6      -499.044     122.547       1.000
   4   10      -501.006      89.917       0.000
   5   11      -583.520      41.729       1.000
   6   13      -640.957     216.501       5.000
   7   14      -663.500      39.926       1.000
   8   17      -676.083      60.569       0.024
   9   18      -721.459    1218.106       1.000
  10   23      -738.009      87.644       0.048
  11   26      -738.444      90.352       0.005
  12   27      -740.100     217.320       1.000
  13   31      -740.243     147.242       0.000
  14   33      -766.746      73.121       5.000
  15   34      -787.797      56.646       1.000
  16   37      -826.003      74.276       2.303
  17   39      -840.613      50.075       0.056
  18   42      -845.045     106.611       0.339
  19   43      -895.263      35.727       1.000
  20   45      -916.301      59.328       5.000
  21   47      -927.908      46.888       0.172
  22   49      -947.502      64.459       0.533
  23   53      -948.797      48.739       0.208
  24   56      -965.196     108.016       0.768
  25   60      -965.220      81.720       0.011
Final RAS Transform: 
0.544938 0.4449 -0.603855 2.16445 
0.397965 0.475101 -0.108885 9.44422 
-0.460506 -0.197956 1.13323 -5.81843 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -527.382   GNORM= 58368.4
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    9      -530.185  181678.147       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.544938 0.4449 -0.603855 2.16445 
0.397964 0.4751 -0.108884 9.44414 
-0.460501 -0.197951 1.13322 -5.81756 
0 0 0 1 

Final RAS Transform: 
0.544938 0.4449 -0.603855 2.16445 
0.397964 0.4751 -0.108884 9.44414 
-0.460501 -0.197951 1.13322 -5.81756 
0 0 0 1 


real	0m4.057s
user	0m6.368s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.469764
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0240
Level     0,  Iter     1:    Energy =   0.0255
Level     0,  Iter     2:    Energy =   0.0270
Level     0,  Iter     3:    Energy =   0.0284
Level     0,  Iter     4:    Energy =   0.0298
Level     0,  Iter     5:    Energy =   0.0312
Level     0,  Iter     6:    Energy =   0.0325
Level     0,  Iter     7:    Energy =   0.0337
Level     0,  Iter     8:    Energy =   0.0347
Level     0,  Iter     9:    Energy =   0.0355
Level     0,  Iter    10:    Energy =   0.0360
Level     0,  Iter    11:    Energy =   0.0366
Level     0,  Iter    12:    Energy =   0.0371
Level     0,  Iter    13:    Energy =   0.0376
Level     0,  Iter    14:    Energy =   0.0380
Level     0,  Iter    15:    Energy =   0.0383
Level     0,  Iter    16:    Energy =   0.0386
Level     0,  Iter    17:    Energy =   0.0389
Level     0,  Iter    18:    Energy =   0.0391
Level     0,  Iter    19:    Energy =   0.0392
Level     0,  Iter    20:    Energy =   0.0393
Level     0,  Iter    21:    Energy =   0.0394
Level     0,  Iter    22:    Energy =   0.0396
Level     0,  Iter    23:    Energy =   0.0398
Level     0,  Iter    24:    Energy =   0.0400
Level     0,  Iter    25:    Energy =   0.0401
Level     0,  Iter    26:    Energy =   0.0403
Level     0,  Iter    27:    Energy =   0.0405
Level     0,  Iter    28:    Energy =   0.0407
Level     0,  Iter    29:    Energy =   0.0409
Level     0,  Iter    30:    Energy =   0.0410
Level     0,  Iter    31:    Energy =   0.0412
Level     0,  Iter    32:    Energy =   0.0414
Level     0,  Iter    33:    Energy =   0.0416
Level     0,  Iter    34:    Energy =   0.0418
Level     0,  Iter    35:    Energy =   0.0420
Level     0,  Iter    36:    Energy =   0.0421
Level     0,  Iter    37:    Energy =   0.0423
Level     0,  Iter    38:    Energy =   0.0424
Level     0,  Iter    39:    Energy =   0.0425
Level     0,  Iter    40:    Energy =   0.0426
Level     0,  Iter    41:    Energy =   0.0427
Level     0,  Iter    42:    Energy =   0.0428
Level     0,  Iter    43:    Energy =   0.0428
Level     0,  Iter    44:    Energy =   0.0429
Level     0,  Iter    45:    Energy =   0.0429
Level     0,  Iter    46:    Energy =   0.0430
Level     0,  Iter    47:    Energy =   0.0431
Level     0,  Iter    48:    Energy =   0.0431
Level     0,  Iter    49:    Energy =   0.0432
Level     0,  Iter    50:    Energy =   0.0432
Level     0,  Iter    51:    Energy =   0.0432
Level     0,  Iter    52:    Energy =   0.0432
Level     0,  Iter    53:    Energy =   0.0433
Level     0,  Iter    54:    Energy =   0.0433
Level     0,  Iter    55:    Energy =   0.0434
Level     0,  Iter    56:    Energy =   0.0434
Level     0,  Iter    57:    Energy =   0.0435
Level     0,  Iter    58:    Energy =   0.0435
Level     0,  Iter    59:    Energy =   0.0435
END OF LEVEL     0    DetJac Range:   0.0347  to   2.1788 
  Avg. Gradient Time  : 0.0066s  33.54% 
  Avg. Gaussian Time  : 0.0095s  48.22% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0236
Level     1,  Iter     1:    Energy =   0.0244
Level     1,  Iter     2:    Energy =   0.0250
Level     1,  Iter     3:    Energy =   0.0254
Level     1,  Iter     4:    Energy =   0.0257
Level     1,  Iter     5:    Energy =   0.0261
Level     1,  Iter     6:    Energy =   0.0266
Level     1,  Iter     7:    Energy =   0.0270
Level     1,  Iter     8:    Energy =   0.0274
Level     1,  Iter     9:    Energy =   0.0278
Level     1,  Iter    10:    Energy =   0.0282
Level     1,  Iter    11:    Energy =   0.0286
Level     1,  Iter    12:    Energy =   0.0291
Level     1,  Iter    13:    Energy =   0.0296
Level     1,  Iter    14:    Energy =   0.0301
Level     1,  Iter    15:    Energy =   0.0304
Level     1,  Iter    16:    Energy =   0.0307
Level     1,  Iter    17:    Energy =   0.0311
Level     1,  Iter    18:    Energy =   0.0313
Level     1,  Iter    19:    Energy =   0.0316
Level     1,  Iter    20:    Energy =   0.0318
Level     1,  Iter    21:    Energy =   0.0319
Level     1,  Iter    22:    Energy =   0.0321
Level     1,  Iter    23:    Energy =   0.0322
Level     1,  Iter    24:    Energy =   0.0324
Level     1,  Iter    25:    Energy =   0.0325
Level     1,  Iter    26:    Energy =   0.0326
Level     1,  Iter    27:    Energy =   0.0327
Level     1,  Iter    28:    Energy =   0.0329
Level     1,  Iter    29:    Energy =   0.0330
Level     1,  Iter    30:    Energy =   0.0331
Level     1,  Iter    31:    Energy =   0.0332
Level     1,  Iter    32:    Energy =   0.0332
Level     1,  Iter    33:    Energy =   0.0333
Level     1,  Iter    34:    Energy =   0.0334
Level     1,  Iter    35:    Energy =   0.0334
Level     1,  Iter    36:    Energy =   0.0335
Level     1,  Iter    37:    Energy =   0.0335
Level     1,  Iter    38:    Energy =   0.0336
Level     1,  Iter    39:    Energy =   0.0336
Level     1,  Iter    40:    Energy =   0.0337
Level     1,  Iter    41:    Energy =   0.0337
Level     1,  Iter    42:    Energy =   0.0338
Level     1,  Iter    43:    Energy =   0.0338
Level     1,  Iter    44:    Energy =   0.0339
Level     1,  Iter    45:    Energy =   0.0339
Level     1,  Iter    46:    Energy =   0.0339
Level     1,  Iter    47:    Energy =   0.0339
Level     1,  Iter    48:    Energy =   0.0339
Level     1,  Iter    49:    Energy =   0.0339
Level     1,  Iter    50:    Energy =   0.0339
Level     1,  Iter    51:    Energy =   0.0339
Level     1,  Iter    52:    Energy =   0.0338
Level     1,  Iter    53:    Energy =   0.0338
Level     1,  Iter    54:    Energy =   0.0338
Level     1,  Iter    55:    Energy =   0.0338
Level     1,  Iter    56:    Energy =   0.0338
Level     1,  Iter    57:    Energy =   0.0338
Level     1,  Iter    58:    Energy =   0.0338
Level     1,  Iter    59:    Energy =   0.0338
END OF LEVEL     1    DetJac Range:   0.0331  to   2.4544 
  Avg. Gradient Time  : 0.0283s  34.98% 
  Avg. Gaussian Time  : 0.0414s  51.21% 
  Avg. Iteration Time : 0.0808s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0134
Level     2,  Iter     1:    Energy =   0.0138
Level     2,  Iter     2:    Energy =   0.0142
Level     2,  Iter     3:    Energy =   0.0145
Level     2,  Iter     4:    Energy =   0.0147
Level     2,  Iter     5:    Energy =   0.0150
Level     2,  Iter     6:    Energy =   0.0153
Level     2,  Iter     7:    Energy =   0.0156
Level     2,  Iter     8:    Energy =   0.0158
Level     2,  Iter     9:    Energy =   0.0162
Level     2,  Iter    10:    Energy =   0.0165
Level     2,  Iter    11:    Energy =   0.0169
Level     2,  Iter    12:    Energy =   0.0172
Level     2,  Iter    13:    Energy =   0.0175
Level     2,  Iter    14:    Energy =   0.0177
Level     2,  Iter    15:    Energy =   0.0179
Level     2,  Iter    16:    Energy =   0.0181
Level     2,  Iter    17:    Energy =   0.0183
Level     2,  Iter    18:    Energy =   0.0184
Level     2,  Iter    19:    Energy =   0.0185
END OF LEVEL     2    DetJac Range:   0.0195  to   2.7881 
  Avg. Gradient Time  : 0.1824s  32.63% 
  Avg. Gaussian Time  : 0.3010s  53.84% 
  Avg. Iteration Time : 0.5591s 

real	0m19.975s
user	0m34.888s
sys	0m2.020s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=65 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=65 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.478571 0.482857
+ echo 'CHUNK 0.478571 0.482857 1'
CHUNK 0.478571 0.482857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.478571 0.482857 1
====================================
         PROGRESS: 0.478571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 031
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 031 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=031
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 031 right 0
+ local tid=031
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.604
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 420.682   GNORM= 347.528
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       130.749     214.221       0.003
   2    3      -105.427     186.743       1.000
   3    4      -312.990     215.971       1.000
   4    6      -529.112     213.872       0.347
   5    8      -616.106     103.997       0.534
   6    9      -693.740      54.284       1.000
   7   11      -709.596      44.105       0.466
   8   14      -744.672     118.913       1.813
   9   17      -779.823     346.960       2.307
  10   20      -785.711      89.596       0.060
  11   21      -821.888      47.626       1.000
  12   22      -911.106      58.967       1.000
  13   24     -1128.953     138.209       0.407
  14   25     -1180.579      65.051       1.000
  15   26     -1193.350      58.292       1.000
  16   27     -1236.111      34.568       1.000
  17   29     -1245.901      44.558       0.413
  18   30     -1262.052      73.756       1.000
  19   32     -1267.546      82.507       0.279
  20   33     -1276.347      35.030       1.000
  21   36     -1284.456      44.543       2.811
  22   37     -1293.260      46.626       1.000
  23   38     -1303.976      43.472       1.000
  24   39     -1313.139      55.280       1.000
  25   40     -1321.567      59.725       1.000
  26   42     -1335.685      46.060       0.430
  27   43     -1341.039      96.899       1.000
  28   44     -1345.137      70.442       1.000
  29   45     -1361.029      27.009       1.000
  30   46     -1365.468      27.319       1.000
  31   47     -1370.230      69.865       1.000
  32   48     -1373.086      50.367       1.000
  33   49     -1376.446      24.898       1.000
  34   50     -1380.689      20.301       1.000
  35   52     -1383.952      26.189       0.187
  36   54     -1384.781      44.700       0.230
  37   55     -1386.285      30.962       1.000
  38   56     -1388.204      17.678       1.000
  39   57     -1388.845      13.780       1.000
  40   58     -1391.393      19.649       1.000
  41   59     -1392.037      30.635       1.000
  42   60     -1394.569      18.389       1.000
Final RAS Transform: 
0.487201 0.336255 -0.00342663 8.17374 
0.198415 1.06493 0.0578206 9.53771 
-0.17 -0.274085 0.618829 -8.26198 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -683.098   GNORM= 54.7704
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -706.566      49.719       0.018
   2    3      -714.617      19.338       1.000
   3    4      -716.314      16.411       1.000
   4    5      -720.159      30.255       1.000
   5    6      -732.683      42.123       1.000
   6    7      -767.850      75.012       1.000
   7    8      -775.650      42.137       1.000
   8    9      -783.843      49.767       1.000
   9   11      -791.385      27.065       0.383
  10   12      -795.540      22.038       1.000
  11   13      -797.869      17.607       1.000
  12   14      -802.763      41.896       1.000
  13   15      -823.234      26.131       1.000
  14   16      -832.178      48.301       1.000
  15   17      -839.812      17.598       1.000
  16   19      -841.417      16.275       0.396
  17   20      -842.193      13.372       1.000
  18   22      -842.771      12.286       0.285
  19   23      -843.245      11.219       1.000
  20   24      -843.765      17.796       1.000
  21   25      -844.867      14.262       1.000
  22   27      -845.452       9.062       0.426
  23   28      -845.714       7.897       1.000
  24   29      -845.817      23.650       1.000
  25   30      -846.917      14.669       1.000
  26   32      -847.255       8.988       0.475
  27   33      -847.401       7.765       1.000
  28   34      -847.632       4.736       1.000
  29   37      -850.756       6.275       0.745
  30   39      -851.564       9.059       0.192
  31   41      -851.887      15.401       0.325
  32   42      -852.514      10.389       1.000
  33   43      -853.489       8.431       1.000
  34   44      -854.700      15.903       1.000
  35   45      -855.737      30.850       1.000
  36   46      -857.558      12.745       1.000
  37   47      -858.331      13.835       1.000
  38   48      -859.008       8.400       1.000
  39   50      -859.215       5.617       0.102
  40   52      -859.247       3.944       0.337
  41   53      -859.306       2.568       1.000
  42   54      -859.377       7.434       1.000
  43   55      -859.497       8.604       1.000
  44   56      -859.572       4.092       1.000
  45   57      -859.633       6.703       1.000
  46   59      -859.721       3.932       0.497
  47   61      -859.769       5.024       0.455
Final RAS Transform: 
0.449449 0.430544 0.0937845 9.77449 
0.136867 1.14082 0.125562 11.215 
-0.0968359 -0.136934 0.629102 -11.8299 
0 0 0 1 

Final RAS Transform: 
0.449449 0.430544 0.0937845 9.77449 
0.136867 1.14082 0.125562 11.215 
-0.0968359 -0.136934 0.629102 -11.8299 
0 0 0 1 


real	0m6.083s
user	0m10.216s
sys	0m0.612s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.437223
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0333
Level     0,  Iter     1:    Energy =   0.0351
Level     0,  Iter     2:    Energy =   0.0372
Level     0,  Iter     3:    Energy =   0.0388
Level     0,  Iter     4:    Energy =   0.0402
Level     0,  Iter     5:    Energy =   0.0414
Level     0,  Iter     6:    Energy =   0.0424
Level     0,  Iter     7:    Energy =   0.0433
Level     0,  Iter     8:    Energy =   0.0442
Level     0,  Iter     9:    Energy =   0.0448
Level     0,  Iter    10:    Energy =   0.0454
Level     0,  Iter    11:    Energy =   0.0457
Level     0,  Iter    12:    Energy =   0.0461
Level     0,  Iter    13:    Energy =   0.0463
Level     0,  Iter    14:    Energy =   0.0465
Level     0,  Iter    15:    Energy =   0.0467
Level     0,  Iter    16:    Energy =   0.0469
Level     0,  Iter    17:    Energy =   0.0470
Level     0,  Iter    18:    Energy =   0.0472
Level     0,  Iter    19:    Energy =   0.0473
Level     0,  Iter    20:    Energy =   0.0474
Level     0,  Iter    21:    Energy =   0.0475
Level     0,  Iter    22:    Energy =   0.0476
Level     0,  Iter    23:    Energy =   0.0476
Level     0,  Iter    24:    Energy =   0.0477
Level     0,  Iter    25:    Energy =   0.0477
Level     0,  Iter    26:    Energy =   0.0478
Level     0,  Iter    27:    Energy =   0.0479
Level     0,  Iter    28:    Energy =   0.0480
Level     0,  Iter    29:    Energy =   0.0479
Level     0,  Iter    30:    Energy =   0.0480
Level     0,  Iter    31:    Energy =   0.0480
Level     0,  Iter    32:    Energy =   0.0480
Level     0,  Iter    33:    Energy =   0.0480
Level     0,  Iter    34:    Energy =   0.0481
Level     0,  Iter    35:    Energy =   0.0481
Level     0,  Iter    36:    Energy =   0.0481
Level     0,  Iter    37:    Energy =   0.0481
Level     0,  Iter    38:    Energy =   0.0482
Level     0,  Iter    39:    Energy =   0.0481
Level     0,  Iter    40:    Energy =   0.0482
Level     0,  Iter    41:    Energy =   0.0482
Level     0,  Iter    42:    Energy =   0.0483
Level     0,  Iter    43:    Energy =   0.0483
Level     0,  Iter    44:    Energy =   0.0484
Level     0,  Iter    45:    Energy =   0.0483
Level     0,  Iter    46:    Energy =   0.0484
Level     0,  Iter    47:    Energy =   0.0483
Level     0,  Iter    48:    Energy =   0.0484
Level     0,  Iter    49:    Energy =   0.0484
Level     0,  Iter    50:    Energy =   0.0484
Level     0,  Iter    51:    Energy =   0.0484
Level     0,  Iter    52:    Energy =   0.0484
Level     0,  Iter    53:    Energy =   0.0484
Level     0,  Iter    54:    Energy =   0.0484
Level     0,  Iter    55:    Energy =   0.0484
Level     0,  Iter    56:    Energy =   0.0485
Level     0,  Iter    57:    Energy =   0.0484
Level     0,  Iter    58:    Energy =   0.0485
Level     0,  Iter    59:    Energy =   0.0485
END OF LEVEL     0    DetJac Range:   0.1612  to   2.3070 
  Avg. Gradient Time  : 0.0066s  33.27% 
  Avg. Gaussian Time  : 0.0096s  48.51% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0291
Level     1,  Iter     1:    Energy =   0.0309
Level     1,  Iter     2:    Energy =   0.0327
Level     1,  Iter     3:    Energy =   0.0344
Level     1,  Iter     4:    Energy =   0.0357
Level     1,  Iter     5:    Energy =   0.0366
Level     1,  Iter     6:    Energy =   0.0372
Level     1,  Iter     7:    Energy =   0.0377
Level     1,  Iter     8:    Energy =   0.0382
Level     1,  Iter     9:    Energy =   0.0386
Level     1,  Iter    10:    Energy =   0.0391
Level     1,  Iter    11:    Energy =   0.0395
Level     1,  Iter    12:    Energy =   0.0401
Level     1,  Iter    13:    Energy =   0.0408
Level     1,  Iter    14:    Energy =   0.0414
Level     1,  Iter    15:    Energy =   0.0420
Level     1,  Iter    16:    Energy =   0.0426
Level     1,  Iter    17:    Energy =   0.0432
Level     1,  Iter    18:    Energy =   0.0438
Level     1,  Iter    19:    Energy =   0.0444
Level     1,  Iter    20:    Energy =   0.0450
Level     1,  Iter    21:    Energy =   0.0455
Level     1,  Iter    22:    Energy =   0.0460
Level     1,  Iter    23:    Energy =   0.0463
Level     1,  Iter    24:    Energy =   0.0466
Level     1,  Iter    25:    Energy =   0.0465
Level     1,  Iter    26:    Energy =   0.0468
Level     1,  Iter    27:    Energy =   0.0470
Level     1,  Iter    28:    Energy =   0.0473
Level     1,  Iter    29:    Energy =   0.0470
Level     1,  Iter    30:    Energy =   0.0475
Level     1,  Iter    31:    Energy =   0.0479
Level     1,  Iter    32:    Energy =   0.0482
Level     1,  Iter    33:    Energy =   0.0480
Level     1,  Iter    34:    Energy =   0.0483
Level     1,  Iter    35:    Energy =   0.0482
Level     1,  Iter    36:    Energy =   0.0485
Level     1,  Iter    37:    Energy =   0.0482
Level     1,  Iter    38:    Energy =   0.0485
Level     1,  Iter    39:    Energy =   0.0486
Level     1,  Iter    40:    Energy =   0.0488
Level     1,  Iter    41:    Energy =   0.0485
Level     1,  Iter    42:    Energy =   0.0488
Level     1,  Iter    43:    Energy =   0.0489
Level     1,  Iter    44:    Energy =   0.0490
Level     1,  Iter    45:    Energy =   0.0487
Level     1,  Iter    46:    Energy =   0.0490
Level     1,  Iter    47:    Energy =   0.0492
Level     1,  Iter    48:    Energy =   0.0494
Level     1,  Iter    49:    Energy =   0.0490
Level     1,  Iter    50:    Energy =   0.0493
Level     1,  Iter    51:    Energy =   0.0496
Level     1,  Iter    52:    Energy =   0.0499
Level     1,  Iter    53:    Energy =   0.0501
Level     1,  Iter    54:    Energy =   0.0496
Level     1,  Iter    55:    Energy =   0.0499
Level     1,  Iter    56:    Energy =   0.0502
Level     1,  Iter    57:    Energy =   0.0505
Level     1,  Iter    58:    Energy =   0.0506
Level     1,  Iter    59:    Energy =   0.0502
END OF LEVEL     1    DetJac Range:   0.0618  to   4.3854 
  Avg. Gradient Time  : 0.0280s  34.62% 
  Avg. Gaussian Time  : 0.0416s  51.47% 
  Avg. Iteration Time : 0.0809s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0238
Level     2,  Iter     1:    Energy =   0.0246
Level     2,  Iter     2:    Energy =   0.0256
Level     2,  Iter     3:    Energy =   0.0265
Level     2,  Iter     4:    Energy =   0.0273
Level     2,  Iter     5:    Energy =   0.0279
Level     2,  Iter     6:    Energy =   0.0283
Level     2,  Iter     7:    Energy =   0.0288
Level     2,  Iter     8:    Energy =   0.0292
Level     2,  Iter     9:    Energy =   0.0296
Level     2,  Iter    10:    Energy =   0.0300
Level     2,  Iter    11:    Energy =   0.0305
Level     2,  Iter    12:    Energy =   0.0309
Level     2,  Iter    13:    Energy =   0.0314
Level     2,  Iter    14:    Energy =   0.0318
Level     2,  Iter    15:    Energy =   0.0321
Level     2,  Iter    16:    Energy =   0.0325
Level     2,  Iter    17:    Energy =   0.0328
Level     2,  Iter    18:    Energy =   0.0331
Level     2,  Iter    19:    Energy =   0.0334
END OF LEVEL     2    DetJac Range:   0.0441  to   5.2238 
  Avg. Gradient Time  : 0.1817s  32.61% 
  Avg. Gaussian Time  : 0.3003s  53.90% 
  Avg. Iteration Time : 0.5571s 

real	0m19.965s
user	0m34.704s
sys	0m2.168s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=66 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=66 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.482857 0.487143
+ echo 'CHUNK 0.482857 0.487143 1'
CHUNK 0.482857 0.487143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.482857 0.487143 1
====================================
         PROGRESS: 0.482857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 032
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 032 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=032
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 032 right 0
+ local tid=032
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.572
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 475.535   GNORM= 319.223
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       194.864     226.901       0.003
   2    3      -153.234     201.235       1.000
   3    4      -225.760     118.036       1.000
   4    5      -248.932      84.821       1.000
   5    9      -258.502      94.712       1.371
   6   10      -374.401      47.020       1.000
   7   11      -598.577      70.322       1.000
   8   14      -668.420     170.875       0.574
   9   16      -729.701      59.276       0.218
  10   22      -754.318      35.432       0.939
  11   24      -755.573      28.011       0.156
  12   25      -758.984      65.182       1.000
  13   26      -777.732      38.558       1.000
  14   30      -821.344      73.354       0.815
  15   35      -822.374      84.603       0.000
  16   46      -840.893      61.908       1.068
  17   49      -843.247      52.894       0.001
  18   53      -883.852    1395.562       0.896
  19   54      -935.814      34.691       1.000
  20   57     -1045.706      82.868       0.050
  21   59     -1057.992     291.842       0.032
Final RAS Transform: 
0.568455 0.552925 0.143935 1.80129 
0.408069 0.618796 -0.232574 11.9667 
-0.0384745 -0.176139 1.26326 -6.59058 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -486.709   GNORM= 24459.2
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -498.466    3761.341       0.000
   2    5      -502.320     515.222       0.627
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.568622 0.553173 0.143046 1.85159 
0.40734 0.617749 -0.229894 11.8105 
-0.0406464 -0.182954 1.27377 -7.51038 
0 0 0 1 

Final RAS Transform: 
0.568622 0.553173 0.143046 1.85159 
0.40734 0.617749 -0.229894 11.8105 
-0.0406464 -0.182954 1.27377 -7.51038 
0 0 0 1 


real	0m3.821s
user	0m5.912s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.408913
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0269
Level     0,  Iter     1:    Energy =   0.0291
Level     0,  Iter     2:    Energy =   0.0307
Level     0,  Iter     3:    Energy =   0.0315
Level     0,  Iter     4:    Energy =   0.0325
Level     0,  Iter     5:    Energy =   0.0334
Level     0,  Iter     6:    Energy =   0.0342
Level     0,  Iter     7:    Energy =   0.0350
Level     0,  Iter     8:    Energy =   0.0356
Level     0,  Iter     9:    Energy =   0.0360
Level     0,  Iter    10:    Energy =   0.0364
Level     0,  Iter    11:    Energy =   0.0367
Level     0,  Iter    12:    Energy =   0.0369
Level     0,  Iter    13:    Energy =   0.0371
Level     0,  Iter    14:    Energy =   0.0372
Level     0,  Iter    15:    Energy =   0.0372
Level     0,  Iter    16:    Energy =   0.0374
Level     0,  Iter    17:    Energy =   0.0374
Level     0,  Iter    18:    Energy =   0.0375
Level     0,  Iter    19:    Energy =   0.0376
Level     0,  Iter    20:    Energy =   0.0376
Level     0,  Iter    21:    Energy =   0.0377
Level     0,  Iter    22:    Energy =   0.0377
Level     0,  Iter    23:    Energy =   0.0378
Level     0,  Iter    24:    Energy =   0.0378
Level     0,  Iter    25:    Energy =   0.0378
Level     0,  Iter    26:    Energy =   0.0378
Level     0,  Iter    27:    Energy =   0.0378
Level     0,  Iter    28:    Energy =   0.0379
Level     0,  Iter    29:    Energy =   0.0379
Level     0,  Iter    30:    Energy =   0.0381
Level     0,  Iter    31:    Energy =   0.0382
Level     0,  Iter    32:    Energy =   0.0382
Level     0,  Iter    33:    Energy =   0.0383
Level     0,  Iter    34:    Energy =   0.0384
Level     0,  Iter    35:    Energy =   0.0385
Level     0,  Iter    36:    Energy =   0.0385
Level     0,  Iter    37:    Energy =   0.0386
Level     0,  Iter    38:    Energy =   0.0387
Level     0,  Iter    39:    Energy =   0.0388
Level     0,  Iter    40:    Energy =   0.0390
Level     0,  Iter    41:    Energy =   0.0390
Level     0,  Iter    42:    Energy =   0.0391
Level     0,  Iter    43:    Energy =   0.0392
Level     0,  Iter    44:    Energy =   0.0394
Level     0,  Iter    45:    Energy =   0.0395
Level     0,  Iter    46:    Energy =   0.0395
Level     0,  Iter    47:    Energy =   0.0395
Level     0,  Iter    48:    Energy =   0.0396
Level     0,  Iter    49:    Energy =   0.0395
Level     0,  Iter    50:    Energy =   0.0396
Level     0,  Iter    51:    Energy =   0.0397
Level     0,  Iter    52:    Energy =   0.0397
Level     0,  Iter    53:    Energy =   0.0397
Level     0,  Iter    54:    Energy =   0.0398
Level     0,  Iter    55:    Energy =   0.0398
Level     0,  Iter    56:    Energy =   0.0397
Level     0,  Iter    57:    Energy =   0.0397
Level     0,  Iter    58:    Energy =   0.0396
Level     0,  Iter    59:    Energy =   0.0396
END OF LEVEL     0    DetJac Range:   0.0189  to   2.3651 
  Avg. Gradient Time  : 0.0066s  33.57% 
  Avg. Gaussian Time  : 0.0096s  48.25% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0212
Level     1,  Iter     1:    Energy =   0.0218
Level     1,  Iter     2:    Energy =   0.0223
Level     1,  Iter     3:    Energy =   0.0228
Level     1,  Iter     4:    Energy =   0.0232
Level     1,  Iter     5:    Energy =   0.0236
Level     1,  Iter     6:    Energy =   0.0240
Level     1,  Iter     7:    Energy =   0.0243
Level     1,  Iter     8:    Energy =   0.0246
Level     1,  Iter     9:    Energy =   0.0249
Level     1,  Iter    10:    Energy =   0.0253
Level     1,  Iter    11:    Energy =   0.0256
Level     1,  Iter    12:    Energy =   0.0259
Level     1,  Iter    13:    Energy =   0.0262
Level     1,  Iter    14:    Energy =   0.0264
Level     1,  Iter    15:    Energy =   0.0267
Level     1,  Iter    16:    Energy =   0.0270
Level     1,  Iter    17:    Energy =   0.0272
Level     1,  Iter    18:    Energy =   0.0275
Level     1,  Iter    19:    Energy =   0.0278
Level     1,  Iter    20:    Energy =   0.0280
Level     1,  Iter    21:    Energy =   0.0283
Level     1,  Iter    22:    Energy =   0.0285
Level     1,  Iter    23:    Energy =   0.0288
Level     1,  Iter    24:    Energy =   0.0290
Level     1,  Iter    25:    Energy =   0.0292
Level     1,  Iter    26:    Energy =   0.0294
Level     1,  Iter    27:    Energy =   0.0295
Level     1,  Iter    28:    Energy =   0.0297
Level     1,  Iter    29:    Energy =   0.0299
Level     1,  Iter    30:    Energy =   0.0300
Level     1,  Iter    31:    Energy =   0.0301
Level     1,  Iter    32:    Energy =   0.0303
Level     1,  Iter    33:    Energy =   0.0304
Level     1,  Iter    34:    Energy =   0.0305
Level     1,  Iter    35:    Energy =   0.0306
Level     1,  Iter    36:    Energy =   0.0307
Level     1,  Iter    37:    Energy =   0.0308
Level     1,  Iter    38:    Energy =   0.0309
Level     1,  Iter    39:    Energy =   0.0310
Level     1,  Iter    40:    Energy =   0.0310
Level     1,  Iter    41:    Energy =   0.0311
Level     1,  Iter    42:    Energy =   0.0312
Level     1,  Iter    43:    Energy =   0.0312
Level     1,  Iter    44:    Energy =   0.0313
Level     1,  Iter    45:    Energy =   0.0313
Level     1,  Iter    46:    Energy =   0.0314
Level     1,  Iter    47:    Energy =   0.0314
Level     1,  Iter    48:    Energy =   0.0315
Level     1,  Iter    49:    Energy =   0.0315
Level     1,  Iter    50:    Energy =   0.0315
Level     1,  Iter    51:    Energy =   0.0316
Level     1,  Iter    52:    Energy =   0.0316
Level     1,  Iter    53:    Energy =   0.0316
Level     1,  Iter    54:    Energy =   0.0316
Level     1,  Iter    55:    Energy =   0.0316
Level     1,  Iter    56:    Energy =   0.0317
Level     1,  Iter    57:    Energy =   0.0317
Level     1,  Iter    58:    Energy =   0.0317
Level     1,  Iter    59:    Energy =   0.0317
END OF LEVEL     1    DetJac Range:   0.0115  to   2.2603 
  Avg. Gradient Time  : 0.0279s  34.34% 
  Avg. Gaussian Time  : 0.0420s  51.76% 
  Avg. Iteration Time : 0.0811s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0142
Level     2,  Iter     1:    Energy =   0.0145
Level     2,  Iter     2:    Energy =   0.0147
Level     2,  Iter     3:    Energy =   0.0150
Level     2,  Iter     4:    Energy =   0.0149
big value: -1341.350536
big value: -2108.636323
big value: 1233.596680
Level     2,  Iter     5:    Energy =   0.0152
Level     2,  Iter     6:    Energy =   0.0150
Level     2,  Iter     7:    Energy =   0.0148
Level     2,  Iter     8:    Energy =   0.0148
Level     2,  Iter     9:    Energy =   0.0151
Level     2,  Iter    10:    Energy =   0.0150
Level     2,  Iter    11:    Energy =   0.0153
Level     2,  Iter    12:    Energy =   0.0156
Level     2,  Iter    13:    Energy =   0.0153
big value: -19256.249773
big value: -27666.148990
big value: 13851.446861
Level     2,  Iter    14:    Energy =   0.0153
Level     2,  Iter    15:    Energy =   0.0150
Level     2,  Iter    16:    Energy =   0.0148
big value: -2197.634641
big value: 2510.857250
Level     2,  Iter    17:    Energy =   0.0152
big value: 1812.957106
big value: 6188.868773
big value: -5200.288416
Level     2,  Iter    18:    Energy =   0.0149
Level     2,  Iter    19:    Energy =   0.0147
END OF LEVEL     2    DetJac Range:   0.0187  to   2.1152 
  Avg. Gradient Time  : 0.1815s  32.59% 
  Avg. Gaussian Time  : 0.3004s  53.97% 
  Avg. Iteration Time : 0.5567s 

real	0m19.884s
user	0m34.704s
sys	0m2.080s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=67 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=67 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.487143 0.491429
+ echo 'CHUNK 0.487143 0.491429 1'
CHUNK 0.487143 0.491429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.487143 0.491429 1
====================================
         PROGRESS: 0.487143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 033
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 033 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=033
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 033 right 0
+ local tid=033
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.541
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 364.977   GNORM= 302.717
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       113.288     215.891       0.003
   2    3      -337.674     173.809       1.000
   3    4      -604.759     387.736       1.000
   4    5      -726.773      63.160       1.000
   5    9      -747.607      72.589       0.891
   6   10      -781.035      35.632       1.000
   7   12      -789.343      36.965       0.288
   8   13      -814.486      51.414       1.000
   9   20      -883.367     225.561       1.011
  10   21     -1035.259     171.907       1.000
  11   22     -1092.554     172.952       1.000
  12   23     -1115.957     128.623       1.000
  13   26     -1185.850     146.148       1.832
  14   27     -1258.658      76.452       1.000
  15   28     -1275.434      48.266       1.000
  16   29     -1296.277      32.978       1.000
  17   30     -1314.851      55.071       1.000
  18   31     -1363.422      58.310       1.000
  19   33     -1368.530      78.293       0.125
  20   34     -1381.664      36.626       1.000
  21   35     -1395.828      43.742       1.000
  22   36     -1415.336      33.890       1.000
  23   37     -1436.727      39.847       1.000
  24   39     -1445.964      25.109       0.361
  25   40     -1450.255      19.421       1.000
  26   41     -1455.951      33.095       1.000
  27   43     -1470.074      40.147       5.000
  28   45     -1473.145      39.455       0.408
  29   46     -1475.311      29.236       1.000
  30   48     -1477.146      18.105       0.418
  31   49     -1478.643      24.669       1.000
  32   50     -1481.470      16.326       1.000
  33   52     -1482.646      92.996       0.100
  34   54     -1483.564      34.310       0.410
  35   55     -1483.827      43.447       1.000
  36   56     -1484.276      26.058       1.000
Final RAS Transform: 
0.43814 0.301393 -0.0927235 7.66792 
0.284885 1.01996 0.161474 9.57158 
-0.0416011 -0.25111 0.889467 -8.47903 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -751.938   GNORM= 99.4476
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -765.186      62.250       0.006
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.43956 0.302471 -0.0945236 7.9562 
0.285641 1.02039 0.16088 9.70502 
-0.0399962 -0.248651 0.885238 -8.12311 
0 0 0 1 

Final RAS Transform: 
0.43956 0.302471 -0.0945236 7.9562 
0.285641 1.02039 0.16088 9.70502 
-0.0399962 -0.248651 0.885238 -8.12311 
0 0 0 1 


real	0m3.742s
user	0m5.712s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.373151
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0362
Level     0,  Iter     1:    Energy =   0.0393
Level     0,  Iter     2:    Energy =   0.0417
Level     0,  Iter     3:    Energy =   0.0434
Level     0,  Iter     4:    Energy =   0.0450
Level     0,  Iter     5:    Energy =   0.0463
Level     0,  Iter     6:    Energy =   0.0472
Level     0,  Iter     7:    Energy =   0.0478
Level     0,  Iter     8:    Energy =   0.0484
Level     0,  Iter     9:    Energy =   0.0490
Level     0,  Iter    10:    Energy =   0.0496
Level     0,  Iter    11:    Energy =   0.0501
Level     0,  Iter    12:    Energy =   0.0505
Level     0,  Iter    13:    Energy =   0.0510
Level     0,  Iter    14:    Energy =   0.0515
Level     0,  Iter    15:    Energy =   0.0520
Level     0,  Iter    16:    Energy =   0.0526
Level     0,  Iter    17:    Energy =   0.0530
Level     0,  Iter    18:    Energy =   0.0533
Level     0,  Iter    19:    Energy =   0.0536
Level     0,  Iter    20:    Energy =   0.0539
Level     0,  Iter    21:    Energy =   0.0541
Level     0,  Iter    22:    Energy =   0.0545
Level     0,  Iter    23:    Energy =   0.0547
Level     0,  Iter    24:    Energy =   0.0548
Level     0,  Iter    25:    Energy =   0.0550
Level     0,  Iter    26:    Energy =   0.0550
Level     0,  Iter    27:    Energy =   0.0552
Level     0,  Iter    28:    Energy =   0.0552
Level     0,  Iter    29:    Energy =   0.0554
Level     0,  Iter    30:    Energy =   0.0554
Level     0,  Iter    31:    Energy =   0.0556
Level     0,  Iter    32:    Energy =   0.0556
Level     0,  Iter    33:    Energy =   0.0557
Level     0,  Iter    34:    Energy =   0.0557
Level     0,  Iter    35:    Energy =   0.0560
Level     0,  Iter    36:    Energy =   0.0560
Level     0,  Iter    37:    Energy =   0.0563
Level     0,  Iter    38:    Energy =   0.0563
Level     0,  Iter    39:    Energy =   0.0565
Level     0,  Iter    40:    Energy =   0.0564
Level     0,  Iter    41:    Energy =   0.0566
Level     0,  Iter    42:    Energy =   0.0565
Level     0,  Iter    43:    Energy =   0.0566
Level     0,  Iter    44:    Energy =   0.0565
Level     0,  Iter    45:    Energy =   0.0566
Level     0,  Iter    46:    Energy =   0.0565
Level     0,  Iter    47:    Energy =   0.0566
Level     0,  Iter    48:    Energy =   0.0565
Level     0,  Iter    49:    Energy =   0.0566
Level     0,  Iter    50:    Energy =   0.0565
Level     0,  Iter    51:    Energy =   0.0566
Level     0,  Iter    52:    Energy =   0.0565
Level     0,  Iter    53:    Energy =   0.0566
Level     0,  Iter    54:    Energy =   0.0565
Level     0,  Iter    55:    Energy =   0.0566
Level     0,  Iter    56:    Energy =   0.0565
Level     0,  Iter    57:    Energy =   0.0566
Level     0,  Iter    58:    Energy =   0.0565
Level     0,  Iter    59:    Energy =   0.0566
END OF LEVEL     0    DetJac Range:   0.0687  to   2.5627 
  Avg. Gradient Time  : 0.0067s  33.83% 
  Avg. Gaussian Time  : 0.0095s  48.04% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0349
Level     1,  Iter     1:    Energy =   0.0371
Level     1,  Iter     2:    Energy =   0.0387
Level     1,  Iter     3:    Energy =   0.0403
Level     1,  Iter     4:    Energy =   0.0416
Level     1,  Iter     5:    Energy =   0.0427
Level     1,  Iter     6:    Energy =   0.0435
Level     1,  Iter     7:    Energy =   0.0443
Level     1,  Iter     8:    Energy =   0.0449
Level     1,  Iter     9:    Energy =   0.0455
Level     1,  Iter    10:    Energy =   0.0460
Level     1,  Iter    11:    Energy =   0.0463
Level     1,  Iter    12:    Energy =   0.0467
Level     1,  Iter    13:    Energy =   0.0470
Level     1,  Iter    14:    Energy =   0.0473
Level     1,  Iter    15:    Energy =   0.0475
Level     1,  Iter    16:    Energy =   0.0478
Level     1,  Iter    17:    Energy =   0.0481
Level     1,  Iter    18:    Energy =   0.0483
Level     1,  Iter    19:    Energy =   0.0484
Level     1,  Iter    20:    Energy =   0.0484
Level     1,  Iter    21:    Energy =   0.0484
Level     1,  Iter    22:    Energy =   0.0485
Level     1,  Iter    23:    Energy =   0.0486
Level     1,  Iter    24:    Energy =   0.0486
Level     1,  Iter    25:    Energy =   0.0487
Level     1,  Iter    26:    Energy =   0.0488
Level     1,  Iter    27:    Energy =   0.0489
Level     1,  Iter    28:    Energy =   0.0490
Level     1,  Iter    29:    Energy =   0.0491
Level     1,  Iter    30:    Energy =   0.0492
Level     1,  Iter    31:    Energy =   0.0493
Level     1,  Iter    32:    Energy =   0.0495
Level     1,  Iter    33:    Energy =   0.0496
Level     1,  Iter    34:    Energy =   0.0498
Level     1,  Iter    35:    Energy =   0.0499
Level     1,  Iter    36:    Energy =   0.0501
Level     1,  Iter    37:    Energy =   0.0503
Level     1,  Iter    38:    Energy =   0.0504
Level     1,  Iter    39:    Energy =   0.0505
Level     1,  Iter    40:    Energy =   0.0506
Level     1,  Iter    41:    Energy =   0.0507
Level     1,  Iter    42:    Energy =   0.0508
Level     1,  Iter    43:    Energy =   0.0509
Level     1,  Iter    44:    Energy =   0.0510
Level     1,  Iter    45:    Energy =   0.0510
Level     1,  Iter    46:    Energy =   0.0511
Level     1,  Iter    47:    Energy =   0.0512
Level     1,  Iter    48:    Energy =   0.0512
Level     1,  Iter    49:    Energy =   0.0513
Level     1,  Iter    50:    Energy =   0.0513
Level     1,  Iter    51:    Energy =   0.0514
Level     1,  Iter    52:    Energy =   0.0514
Level     1,  Iter    53:    Energy =   0.0514
Level     1,  Iter    54:    Energy =   0.0515
Level     1,  Iter    55:    Energy =   0.0515
Level     1,  Iter    56:    Energy =   0.0515
Level     1,  Iter    57:    Energy =   0.0516
Level     1,  Iter    58:    Energy =   0.0516
Level     1,  Iter    59:    Energy =   0.0517
END OF LEVEL     1    DetJac Range:   0.0370  to   2.8713 
  Avg. Gradient Time  : 0.0280s  34.32% 
  Avg. Gaussian Time  : 0.0422s  51.71% 
  Avg. Iteration Time : 0.0816s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0246
Level     2,  Iter     1:    Energy =   0.0256
Level     2,  Iter     2:    Energy =   0.0265
Level     2,  Iter     3:    Energy =   0.0274
Level     2,  Iter     4:    Energy =   0.0282
Level     2,  Iter     5:    Energy =   0.0288
Level     2,  Iter     6:    Energy =   0.0293
Level     2,  Iter     7:    Energy =   0.0298
Level     2,  Iter     8:    Energy =   0.0302
Level     2,  Iter     9:    Energy =   0.0307
Level     2,  Iter    10:    Energy =   0.0311
Level     2,  Iter    11:    Energy =   0.0314
Level     2,  Iter    12:    Energy =   0.0318
Level     2,  Iter    13:    Energy =   0.0321
Level     2,  Iter    14:    Energy =   0.0325
Level     2,  Iter    15:    Energy =   0.0328
Level     2,  Iter    16:    Energy =   0.0330
Level     2,  Iter    17:    Energy =   0.0333
Level     2,  Iter    18:    Energy =   0.0336
Level     2,  Iter    19:    Energy =   0.0338
END OF LEVEL     2    DetJac Range:   0.0196  to   3.4069 
  Avg. Gradient Time  : 0.1819s  32.57% 
  Avg. Gaussian Time  : 0.3010s  53.90% 
  Avg. Iteration Time : 0.5585s 

real	0m20.016s
user	0m34.924s
sys	0m2.040s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=68 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=68 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.491429 0.495714
+ echo 'CHUNK 0.491429 0.495714 1'
CHUNK 0.491429 0.495714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.491429 0.495714 1
====================================
         PROGRESS: 0.491429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 034
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right 034 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local side=right
+ local tid=034
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 034 right 0
+ local tid=034
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 409.295   GNORM= 300.41
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       123.740     236.473       0.003
   2    4      -146.946     192.840       0.439
   3    5      -401.364     153.708       1.000
   4    6      -531.203      54.308       1.000
   5    7      -566.535      42.867       1.000
   6    8      -642.561      39.074       1.000
   7   11      -701.412      93.112       1.358
   8   17      -708.686      91.598       0.017
   9   18      -781.372      99.657       1.000
  10   20      -817.819      56.931       0.318
  11   21      -841.729     284.815       1.000
  12   25      -950.029      67.653       1.160
  13   26      -982.153      74.740       1.000
  14   27     -1044.385     128.675       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.708825 0.265024 -0.155045 6.14606 
0.21816 1.02193 0.078007 8.13499 
-0.595918 -0.0589541 0.881214 -3.89859 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -472.787   GNORM= 3655.88
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -481.671    1491.866       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.707817 0.263484 -0.151753 5.95379 
0.215661 1.0181 0.0867785 7.61356 
-0.593879 -0.056017 0.874001 -3.45222 
0 0 0 1 

Final RAS Transform: 
0.707817 0.263484 -0.151753 5.95379 
0.215661 1.0181 0.0867785 7.61356 
-0.593879 -0.056017 0.874001 -3.45222 
0 0 0 1 


real	0m3.493s
user	0m5.336s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.273, moving = 0.327643
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0257
Level     0,  Iter     1:    Energy =   0.0280
Level     0,  Iter     2:    Energy =   0.0315
Level     0,  Iter     3:    Energy =   0.0347
Level     0,  Iter     4:    Energy =   0.0376
Level     0,  Iter     5:    Energy =   0.0407
Level     0,  Iter     6:    Energy =   0.0427
Level     0,  Iter     7:    Energy =   0.0443
Level     0,  Iter     8:    Energy =   0.0457
Level     0,  Iter     9:    Energy =   0.0466
Level     0,  Iter    10:    Energy =   0.0476
Level     0,  Iter    11:    Energy =   0.0484
Level     0,  Iter    12:    Energy =   0.0491
Level     0,  Iter    13:    Energy =   0.0497
Level     0,  Iter    14:    Energy =   0.0502
Level     0,  Iter    15:    Energy =   0.0506
Level     0,  Iter    16:    Energy =   0.0509
Level     0,  Iter    17:    Energy =   0.0513
Level     0,  Iter    18:    Energy =   0.0516
Level     0,  Iter    19:    Energy =   0.0519
Level     0,  Iter    20:    Energy =   0.0522
Level     0,  Iter    21:    Energy =   0.0525
Level     0,  Iter    22:    Energy =   0.0527
Level     0,  Iter    23:    Energy =   0.0529
Level     0,  Iter    24:    Energy =   0.0531
Level     0,  Iter    25:    Energy =   0.0531
Level     0,  Iter    26:    Energy =   0.0532
Level     0,  Iter    27:    Energy =   0.0534
Level     0,  Iter    28:    Energy =   0.0535
Level     0,  Iter    29:    Energy =   0.0537
Level     0,  Iter    30:    Energy =   0.0538
Level     0,  Iter    31:    Energy =   0.0540
Level     0,  Iter    32:    Energy =   0.0541
Level     0,  Iter    33:    Energy =   0.0542
Level     0,  Iter    34:    Energy =   0.0544
Level     0,  Iter    35:    Energy =   0.0545
Level     0,  Iter    36:    Energy =   0.0546
Level     0,  Iter    37:    Energy =   0.0546
Level     0,  Iter    38:    Energy =   0.0547
Level     0,  Iter    39:    Energy =   0.0548
Level     0,  Iter    40:    Energy =   0.0549
Level     0,  Iter    41:    Energy =   0.0549
Level     0,  Iter    42:    Energy =   0.0550
Level     0,  Iter    43:    Energy =   0.0551
Level     0,  Iter    44:    Energy =   0.0552
Level     0,  Iter    45:    Energy =   0.0552
Level     0,  Iter    46:    Energy =   0.0553
Level     0,  Iter    47:    Energy =   0.0553
Level     0,  Iter    48:    Energy =   0.0554
Level     0,  Iter    49:    Energy =   0.0553
Level     0,  Iter    50:    Energy =   0.0553
Level     0,  Iter    51:    Energy =   0.0552
Level     0,  Iter    52:    Energy =   0.0553
Level     0,  Iter    53:    Energy =   0.0552
Level     0,  Iter    54:    Energy =   0.0552
Level     0,  Iter    55:    Energy =   0.0553
Level     0,  Iter    56:    Energy =   0.0553
Level     0,  Iter    57:    Energy =   0.0553
Level     0,  Iter    58:    Energy =   0.0554
Level     0,  Iter    59:    Energy =   0.0554
END OF LEVEL     0    DetJac Range:   0.0400  to   1.9260 
  Avg. Gradient Time  : 0.0066s  33.50% 
  Avg. Gaussian Time  : 0.0094s  48.18% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0343
Level     1,  Iter     1:    Energy =   0.0359
Level     1,  Iter     2:    Energy =   0.0376
Level     1,  Iter     3:    Energy =   0.0393
Level     1,  Iter     4:    Energy =   0.0405
Level     1,  Iter     5:    Energy =   0.0415
Level     1,  Iter     6:    Energy =   0.0425
Level     1,  Iter     7:    Energy =   0.0433
Level     1,  Iter     8:    Energy =   0.0439
Level     1,  Iter     9:    Energy =   0.0446
Level     1,  Iter    10:    Energy =   0.0452
Level     1,  Iter    11:    Energy =   0.0456
Level     1,  Iter    12:    Energy =   0.0460
Level     1,  Iter    13:    Energy =   0.0463
Level     1,  Iter    14:    Energy =   0.0464
Level     1,  Iter    15:    Energy =   0.0466
Level     1,  Iter    16:    Energy =   0.0468
Level     1,  Iter    17:    Energy =   0.0469
Level     1,  Iter    18:    Energy =   0.0470
Level     1,  Iter    19:    Energy =   0.0471
Level     1,  Iter    20:    Energy =   0.0472
Level     1,  Iter    21:    Energy =   0.0473
Level     1,  Iter    22:    Energy =   0.0473
Level     1,  Iter    23:    Energy =   0.0474
Level     1,  Iter    24:    Energy =   0.0475
Level     1,  Iter    25:    Energy =   0.0475
Level     1,  Iter    26:    Energy =   0.0476
Level     1,  Iter    27:    Energy =   0.0476
Level     1,  Iter    28:    Energy =   0.0476
Level     1,  Iter    29:    Energy =   0.0476
Level     1,  Iter    30:    Energy =   0.0477
Level     1,  Iter    31:    Energy =   0.0477
Level     1,  Iter    32:    Energy =   0.0477
Level     1,  Iter    33:    Energy =   0.0477
Level     1,  Iter    34:    Energy =   0.0477
Level     1,  Iter    35:    Energy =   0.0477
Level     1,  Iter    36:    Energy =   0.0478
Level     1,  Iter    37:    Energy =   0.0478
Level     1,  Iter    38:    Energy =   0.0478
Level     1,  Iter    39:    Energy =   0.0479
Level     1,  Iter    40:    Energy =   0.0479
Level     1,  Iter    41:    Energy =   0.0479
Level     1,  Iter    42:    Energy =   0.0479
Level     1,  Iter    43:    Energy =   0.0479
Level     1,  Iter    44:    Energy =   0.0479
Level     1,  Iter    45:    Energy =   0.0480
Level     1,  Iter    46:    Energy =   0.0480
Level     1,  Iter    47:    Energy =   0.0480
Level     1,  Iter    48:    Energy =   0.0480
Level     1,  Iter    49:    Energy =   0.0480
Level     1,  Iter    50:    Energy =   0.0480
Level     1,  Iter    51:    Energy =   0.0480
Level     1,  Iter    52:    Energy =   0.0481
Level     1,  Iter    53:    Energy =   0.0481
Level     1,  Iter    54:    Energy =   0.0481
Level     1,  Iter    55:    Energy =   0.0481
Level     1,  Iter    56:    Energy =   0.0481
Level     1,  Iter    57:    Energy =   0.0481
Level     1,  Iter    58:    Energy =   0.0481
Level     1,  Iter    59:    Energy =   0.0482
END OF LEVEL     1    DetJac Range:   0.0088  to   2.7357 
  Avg. Gradient Time  : 0.0282s  34.47% 
  Avg. Gaussian Time  : 0.0421s  51.58% 
  Avg. Iteration Time : 0.0817s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
big value: -2856.650348
big value: -52158.449428
big value: -59744.339812
Level     2,  Iter     0:    Energy =   0.0220
Level     2,  Iter     1:    Energy =   0.0218
Level     2,  Iter     2:    Energy =   0.0223
Level     2,  Iter     3:    Energy =   0.0227
Level     2,  Iter     4:    Energy =   0.0231
Level     2,  Iter     5:    Energy =   0.0235
Level     2,  Iter     6:    Energy =   0.0240
Level     2,  Iter     7:    Energy =   0.0243
Level     2,  Iter     8:    Energy =   0.0247
Level     2,  Iter     9:    Energy =   0.0251
Level     2,  Iter    10:    Energy =   0.0254
Level     2,  Iter    11:    Energy =   0.0256
Level     2,  Iter    12:    Energy =   0.0259
Level     2,  Iter    13:    Energy =   0.0260
Level     2,  Iter    14:    Energy =   0.0262
Level     2,  Iter    15:    Energy =   0.0263
Level     2,  Iter    16:    Energy =   0.0265
Level     2,  Iter    17:    Energy =   0.0267
Level     2,  Iter    18:    Energy =   0.0269
Level     2,  Iter    19:    Energy =   0.0271
END OF LEVEL     2    DetJac Range:   0.0078  to   2.3968 
  Avg. Gradient Time  : 0.1844s  32.87% 
  Avg. Gaussian Time  : 0.3017s  53.77% 
  Avg. Iteration Time : 0.5611s 

real	0m20.095s
user	0m35.000s
sys	0m2.096s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=69 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=69 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.495714 0.5
+ echo 'CHUNK 0.495714 0.5 1'
CHUNK 0.495714 0.5 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.495714 0.5 1
====================================
         PROGRESS: 0.495714               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 2 successful
------------------------------------------------
[0m
****************************************
Starting stage 3: Initial joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 3: Initial joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x1 -rs 3x3x1 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
    26	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
    27	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
    28	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
    29	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
    30	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
    31	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
    32	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
    33	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
    34	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 1]
Patch Radius: [3, 3, 1]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 48
Output Requested Region: [6, 13, 6], [96, 91, 26] (227136 pixels)
Computing mask based on input segmentations
  Skipping 122787 out of 227136 voxels.
..........................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_heur_left.nii.gz
119:110:32
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 13
Tlabel  0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 411188
tc: 7692
mean intensity : sample #  653.793:15586
center location: (41.4434,57.1371,25.4584) feature #:2037
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 235
tc: 7692
center location: (36.1767,77.5123,28.8972) feature #:2037
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 7692
Tlabel  3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 255
tc: 7692
center location: (30.509,80.5596,28.4818) feature #:2037
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 7692
Tlabel  5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_005.nii.gz
ExceptionObject caught !

itk::ImageFileReaderException (0x23e72c0)
Location: "void itk::ImageFileReader<TOutputImage, ConvertPixelTraits>::GenerateOutputInformation() [with TOutputImage = itk::Image<float, 3u>, ConvertPixelTraits = itk::DefaultConvertPixelTraits<float>]" 
File: /mnt/build/pauly/itk320/InsightToolkit-3.20.0/Code/IO/itkImageFileReader.txx
Line: 146
Description:  Could not create IO object for file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_005.nii.gz
The file doesn't exist. 
Filename = /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_left_005.nii.gz



+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x1 -rs 3x3x1 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
    26	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz
    27	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz
    28	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz
    29	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz
    30	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz
    31	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz
    32	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz
    33	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz
    34	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 1]
Patch Radius: [3, 3, 1]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 48
Output Requested Region: [6, 9, 0], [61, 98, 35] (209230 pixels)
Computing mask based on input segmentations
  Skipping 113937 out of 209230 voxels.
....................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/lfseg_heur_right.nii.gz
73:113:35
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 13
Tlabel  0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 281934
tc: 6781
mean intensity : sample #  813.683:15469
center location: (41.6899,61.4328,27.1561) feature #:2037
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 448
tc: 6781
center location: (43.0576,77.917,26.9428) feature #:2037
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 99
tc: 6781
center location: (32.1847,77.1207,30.7979) feature #:2037
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 519
tc: 6781
center location: (41.3115,76.6375,27.9773) feature #:2037
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 80
tc: 6781
center location: (38.1845,81.4477,30.1553) feature #:2037
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_005.nii.gz
ExceptionObject caught !

itk::ImageFileReaderException (0x1696eb0)
Location: "void itk::ImageFileReader<TOutputImage, ConvertPixelTraits>::GenerateOutputInformation() [with TOutputImage = itk::Image<float, 3u>, ConvertPixelTraits = itk::DefaultConvertPixelTraits<float>]" 
File: /mnt/build/pauly/itk320/InsightToolkit-3.20.0/Code/IO/itkImageFileReader.txx
Line: 146
Description:  Could not create IO object for file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_005.nii.gz
The file doesn't exist. 
Filename = /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/original/multiatlas/fusion/posterior_right_005.nii.gz



[0;31m
**************** !! ERROR !! *******************
Validity check at end of stage 3 detected 
missing files. 
(multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
 and 3 other files).
************************************************
[0m


 ASHS completed for 26001 at 12:17:02, it took 0 days 0 hours 50 minutes and 22 seconds to complete 

Beginning ASHS for:  26001
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/n4_t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 66: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2: No such file or directory
ASHS started at 12:17:02
ashs_main execution log
  timestamp:   Wed Oct 14 12:17:02 BST 2020
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 26001 -a /home/ccn30/ENCRYPT/atlases/magdeburgatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/n4_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=26001
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/n4_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
Atlas    : /home/ccn30/ENCRYPT/atlases/magdeburgatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/n4_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/mp2rage/n4mag0000_PSIR_skulled_std.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/n4_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26001/20200220_U-ID48178/Series_037_Highresolution_TSE_PAT2_100/n4_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz -resample 100x100x252% -region 10x10x0% 80x80x100% -type short -o /tmp/ashs.uxhOnDgC/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.uxhOnDgC/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 48
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1627.76   GNORM= 60.8679
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1682.333      47.740       0.016
   2    3     -1717.765      47.561       1.000
   3    4     -1765.936      24.340       1.000
   4    6     -1771.523       5.831       0.470
   5    7     -1772.303       4.276       1.000
   6    8     -1772.900       2.464       1.000
   7   10     -1772.958       0.587       0.422
   8   11     -1772.962       0.613       1.000
   9   12     -1772.965       0.603       1.000
  10   13     -1772.967       0.299       1.000
  11   14     -1772.969       0.443       1.000
  12   16     -1772.969       0.252       0.228
  13   17     -1772.970       0.097       1.000
  14   18     -1772.970       0.101       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.998868 0.0127119 -0.0458346 1.37441 
-0.0140104 0.999506 -0.0281227 0.943926 
0.0454545 0.028733 0.998553 0.683149 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1739.66   GNORM= 76.381
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1790.231      25.907       0.013
   2    4     -1794.088      12.659       0.523
   3    5     -1795.398      10.283       1.000
   4    6     -1799.240      11.592       1.000
   5    7     -1801.083       3.597       1.000
   6    8     -1801.118       3.613       1.000
   7    9     -1801.165       0.837       1.000
   8   10     -1801.170       0.586       1.000
   9   11     -1801.172       0.653       1.000
  10   12     -1801.180       0.476       1.000
  11   13     -1801.180       0.359       1.000
  12   14     -1801.181       0.180       1.000
  13   15     -1801.181       0.150       1.000
  14   16     -1801.182       0.220       1.000
  15   17     -1801.182       0.171       1.000
  16   19     -1801.182       0.076       0.231
  17   20     -1801.182       0.065       1.000
  18   21     -1801.182       0.041       1.000
  19   23     -1801.182       0.063       0.066
  20   24     -1801.182       0.014       1.000
  21   25     -1801.182       0.008       1.000
  22   27     -1801.182       0.009       0.152
  23   29     -1801.182       0.007       0.345
  24   30     -1801.182       0.006       1.000
  25   31     -1801.182       0.006       1.000
  26   33     -1801.182       0.011       0.220
  27   35     -1801.182       0.009       0.219
  28   36     -1801.182       0.006       1.000
  29   37     -1801.182       0.004       1.000
  30   39     -1801.182       0.006       0.237
  31   40     -1801.182       0.004       1.000
  32   41     -1801.182       0.004       1.000
  33   44     -1801.182       0.007       0.060
  34   46     -1801.182       0.004       0.223
  35   47     -1801.182       0.004       1.000
  36   48     -1801.182       0.006       1.000
  37   49     -1801.182       0.004       1.000
  38   51     -1801.182       0.005       0.493
  39   53     -1801.182       0.004       0.409
  40   56     -1801.182       0.004       1.788
  41   58     -1801.182       0.007       0.526
  42   60     -1801.182       0.005       0.255
  43   61     -1801.182       0.007       1.000
  44   62     -1801.182       0.004       1.000
  45   64     -1801.182       0.004       0.498
  46   67     -1801.182       0.003       0.016
  47   69     -1801.182       0.005       0.317
  48   70     -1801.182       0.004       1.000
  49   71     -1801.182       0.005       1.000
  50   72     -1801.182       0.003       1.000
  51   73     -1801.182       0.004       1.000
  52   76     -1801.182       0.003       0.211
  53   77     -1801.182       0.007       1.000
  54   79     -1801.182       0.003       0.226
  55   81     -1801.182       0.002       0.259
  56   82     -1801.182       0.003       1.000
  57   83     -1801.182       0.002       1.000
  58   85     -1801.182       0.003       0.422
Final RAS Transform: 
0.999069 0.0097009 -0.0420441 1.30906 
-0.0105055 0.999765 -0.0189597 0.553952 
0.0418503 0.0193838 0.998936 -0.312822 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1332.17   GNORM= 153.157
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1371.395      20.787       0.003
   2    4     -1372.229       9.372       1.000
   3    5     -1372.596       9.683       1.000
   4    6     -1373.588      16.820       1.000
   5    7     -1375.921      26.829       1.000
   6    8     -1378.828      27.899       1.000
   7   10     -1379.276      26.236       0.179
   8   11     -1380.384      11.728       1.000
Final RAS Transform: 
0.999162 0.007758 -0.0401952 1.23683 
-0.00829814 0.999877 -0.0132888 0.270697 
0.0400872 0.0136112 0.999103 -0.666249 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.233
Rigid search -> Initial best: -406.518 0 0 0 -5.40947 8.15359 46.1392
New best: -460.601 -0.0782742 0.0199108 -0.0191854 -5.5412 2.93654 43.8634
New best: -462.643 -0.0071864 0.000753032 0.00290413 3.48964 9.48446 43.5712
New best: -516.487 0.00673294 0.00997331 0.0855249 0.228214 6.30662 39.1119
New best: -572.341 0.0215754 -0.0110612 -0.00451291 -3.47063 3.26008 51.9674
New best: -582.207 0.00885534 0.0163178 -0.0264802 -6.25009 -0.255132 53.3539
New best: -637.299 0.00395457 0.154734 -0.0127856 5.71299 0.860778 51.2611
New best: -637.336 -0.000665311 -0.000125106 -0.000128873 0.51816 0.924166 48.2984
New best: -640.368 0.0234833 0.0352536 0.00933535 -1.10901 2.08793 44.6415
New best: -702.396 -0.0695452 0.0781099 -0.00469067 3.15456 2.58645 56.4511
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -702.396   GNORM= 30.4072
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -729.871      28.119       0.033
   2    3      -797.551      34.589       1.000
   3    4      -875.302      18.273       1.000
   4    6      -894.171       8.516       0.450
   5    7      -900.905       6.033       1.000
   6    9      -903.968       7.415       0.523
   7   10      -905.853       8.082       1.000
   8   12      -923.837       7.953       0.501
   9   14      -924.640       8.614       0.170
  10   15      -928.117       6.744       1.000
  11   17      -929.712       8.171       0.303
  12   19      -930.491       6.529       0.327
  13   20      -930.788       4.033       1.000
  14   21      -930.912       4.916       1.000
  15   22      -930.998       1.621       1.000
  16   23      -931.002       1.866       1.000
  17   24      -931.043       1.251       1.000
  18   26      -931.055       0.565       0.097
  19   27      -931.057       0.735       1.000
  20   28      -931.061       0.555       1.000
  21   30      -931.062       0.387       0.458
  22   31      -931.063       0.237       1.000
  23   33      -931.063       0.105       0.225
  24   36      -931.063       0.148       1.579
  25   37      -931.063       0.249       1.000
  26   40      -931.064       0.290       0.846
  27   42      -931.064       0.243       0.226
  28   44      -931.064       0.237       0.260
  29   45      -931.064       0.206       1.000
  30   48      -931.064       0.156       0.081
  31   49      -931.064       0.142       1.000
  32   51      -931.064       0.130       0.451
  33   52      -931.064       0.187       1.000
  34   54      -931.064       0.171       0.354
  35   55      -931.064       0.142       1.000
  36   56      -931.064       0.108       1.000
  37   58      -931.064       0.189       0.362
  38   59      -931.064       0.234       1.000
  39   61      -931.064       0.130       0.398
  40   62      -931.064       0.177       1.000
  41   63      -931.064       0.168       1.000
  42   66      -931.064       0.114       2.141
  43   70      -931.064       0.169       0.079
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.992512 0.00268704 0.12212 6.32363 
-0.03832 0.956137 0.290402 -2.3464 
-0.115983 -0.292907 0.94908 67.6001 
0 0 0 1 

Final RAS Transform: 
0.992512 0.00268704 0.12212 6.32363 
-0.03832 0.956137 0.290402 -2.3464 
-0.115983 -0.292907 0.94908 67.6001 
0 0 0 1 

Final RAS Transform: 
0.992512 0.00268704 0.12212 6.32363 
-0.03832 0.956137 0.290402 -2.3464 
-0.115983 -0.292907 0.94908 67.6001 
0 0 0 1 

Final RAS Transform: 
0.992512 0.00268704 0.12212 6.32363 
-0.03832 0.956137 0.290402 -2.3464 
-0.115983 -0.292907 0.94908 67.6001 
0 0 0 1 


real	1m0.484s
user	1m27.844s
sys	0m7.340s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.233
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -931.065   GNORM= 40.7164
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -965.326      29.613       0.025
   2    3     -1021.857      25.501       1.000
   3    4     -1029.836      19.193       1.000
   4    5     -1035.091       8.339       1.000
   5    6     -1037.065       7.040       1.000
   6    7     -1040.516       8.072       1.000
   7    9     -1042.291       9.155       0.445
   8   10     -1043.997       9.951       1.000
   9   11     -1044.043      22.724       1.000
  10   12     -1049.537      20.187       1.000
  11   13     -1054.464       8.805       1.000
  12   14     -1056.455       8.531       1.000
  13   15     -1057.408       7.881       1.000
  14   16     -1059.010       5.682       1.000
  15   18     -1062.809       7.648       0.114
  16   21     -1063.420       9.674       0.026
  17   22     -1063.863       6.199       1.000
  18   23     -1064.292       4.249       1.000
  19   24     -1064.675       3.801       1.000
  20   25     -1065.022       2.623       1.000
  21   26     -1065.086       2.161       1.000
  22   28     -1065.208       1.894       0.250
  23   29     -1065.266       1.997       1.000
  24   32     -1065.272       2.861       0.031
  25   35     -1065.466       3.911       2.103
  26   36     -1065.565       2.440       1.000
  27   37     -1065.613       2.572       1.000
  28   38     -1065.662       2.544       1.000
  29   40     -1065.713       3.096       0.276
  30   42     -1065.715       1.813       0.169
  31   43     -1065.729       1.474       1.000
  32   44     -1065.745       0.728       1.000
  33   45     -1065.751       0.771       1.000
  34   47     -1065.752       0.720       0.186
  35   48     -1065.755       0.477       1.000
  36   50     -1065.756       0.248       0.445
  37   51     -1065.756       0.360       1.000
  38   52     -1065.756       0.207       1.000
  39   53     -1065.756       0.112       1.000
  40   54     -1065.756       0.217       1.000
  41   56     -1065.756       0.094       0.116
  42   60     -1065.756       0.114       0.017
  43   61     -1065.756       0.232       1.000
  44   62     -1065.756       0.276       1.000
  45   63     -1065.756       0.146       1.000
  46   65     -1065.756       0.133       5.000
  47   66     -1065.756       0.161       1.000
  48   67     -1065.756       0.227       1.000
  49   70     -1065.756       0.363       0.051
  50   72     -1065.756       0.169       0.228
  51   74     -1065.756       0.170       0.217
  52   76     -1065.756       0.318       0.292
  53   77     -1065.756       0.282       1.000
  54   79     -1065.756       0.119       0.260
  55   80     -1065.756       0.113       1.000
  56   82     -1065.756       0.130       0.338
  57   84     -1065.756       0.135       0.105
  58   86     -1065.756       0.226       0.263
  59   89     -1065.756       0.429       0.049
  60   90     -1065.756       0.074       1.000
  61   91     -1065.756       0.113       1.000
  62   92     -1065.756       0.074       1.000
  63   94     -1065.756       0.221       5.000
  64   95     -1065.756       0.235       1.000
  65   97     -1065.756       0.228       0.349
  66   98     -1065.756       0.213       1.000
  67  100     -1065.757       0.116       0.129
  68  101     -1065.757       0.091       1.000
  69  102     -1065.757       0.086       1.000
  70  104     -1065.757       0.205       0.417
  71  106     -1065.757       0.205       0.126
  72  107     -1065.757       0.091       1.000
  73  108     -1065.757       0.110       1.000
  74  110     -1065.757       0.091       5.000
  75  113     -1065.757       0.092       0.042
  76  115     -1065.757       0.274       0.232
  77  116     -1065.757       0.282       1.000
  78  117     -1065.757       0.094       1.000
  79  118     -1065.757       0.094       1.000
  80  120     -1065.757       0.184       0.118
  81  121     -1065.757       0.153       1.000
  82  126     -1065.757       0.274       0.335
  83  131     -1065.757       0.274       0.053
  84  135     -1065.757       0.095       0.003
  85  140     -1065.757       0.098       0.110
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.04489 0.0118772 0.115655 3.46378 
0.0521671 0.915862 0.342512 -3.97935 
-0.0025226 -0.216151 1.01643 63.2942 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -492.716   GNORM= 17.7033
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -509.609      14.065       0.056
   2    4      -526.106       6.038       0.392
   3    5      -528.393       4.693       1.000
   4    7      -529.222       5.745       0.423
   5    8      -530.392       5.981       1.000
   6   10      -531.389       3.671       0.434
   7   11      -531.816       2.844       1.000
   8   12      -532.097       4.267       1.000
   9   13      -532.932       1.959       1.000
  10   14      -533.531       1.825       1.000
  11   15      -533.821       3.878       1.000
  12   18      -537.247       3.044       3.304
  13   20      -538.169       2.748       0.270
  14   21      -538.551       3.182       1.000
  15   23      -538.644       1.849       0.191
  16   27      -538.644       2.346       0.003
  17   29      -538.656       1.996       0.156
  18   30      -538.661       2.091       1.000
  19   31      -538.743       1.410       1.000
  20   33      -538.764       0.993       0.294
  21   34      -538.771       0.856       1.000
  22   36      -538.774       1.282       0.321
  23   37      -538.777       0.681       1.000
  24   38      -538.778       1.350       1.000
  25   39      -538.779       0.769       1.000
  26   41      -538.780       0.707       0.401
  27   43      -538.780       1.228       0.258
  28   44      -538.781       0.650       1.000
  29   46      -538.783       1.341       0.385
  30   48      -538.784       1.341       0.257
  31   49      -538.786       0.561       1.000
  32   51      -538.787       1.291       0.375
  33   52      -538.789       1.303       1.000
  34   54      -538.790       1.016       0.349
  35   57      -538.791       1.281       0.037
  36   58      -538.792       0.838       1.000
  37   60      -538.792       0.945       0.355
  38   62      -538.792       0.777       0.229
  39   64      -538.792       0.688       0.196
  40   65      -538.792       0.951       1.000
  41   66      -538.792       0.500       1.000
  42   67      -538.792       0.374       1.000
  43   68      -538.792       0.168       1.000
  44   69      -538.792       0.179       1.000
  45   70      -538.792       0.155       1.000
  46   71      -538.793       0.280       1.000
  47   72      -538.793       0.280       1.000
  48   73      -538.793       0.560       1.000
  49   74      -538.793       0.261       1.000
  50   75      -538.793       0.307       1.000
  51   77      -538.793       0.350       0.117
Final RAS Transform: 
1.01072 0.0204246 0.12778 4.11935 
0.112953 0.89092 0.339132 -2.41014 
0.00792878 -0.227255 1.01428 63.2496 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -201.033   GNORM= 8.93836
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -204.951       4.041       0.112
   2    4      -209.098       2.277       5.000
   3    5      -209.138       4.017       1.000
   4    6      -210.162       2.147       1.000
   5    7      -211.028       2.521       1.000
   6    8      -211.550       1.815       1.000
   7   10      -211.736       3.203       0.299
   8   11      -212.195       2.033       1.000
   9   12      -212.344       2.078       1.000
  10   13      -212.558       2.611       1.000
  11   14      -213.001       1.815       1.000
  12   15      -213.585       3.090       1.000
  13   16      -214.080       1.753       1.000
  14   17      -214.865       2.644       1.000
  15   19      -215.011       3.480       0.212
  16   23      -215.011       1.853       0.009
  17   24      -215.148       1.912       1.000
  18   27      -215.152       2.028       0.048
  19   28      -215.250       1.851       1.000
  20   29      -215.353       2.427       1.000
  21   30      -215.428       1.461       1.000
  22   31      -215.540       1.214       1.000
  23   32      -215.650       1.515       1.000
  24   33      -215.696       2.922       1.000
  25   39      -215.696       1.574       0.000
  26   40      -215.727       0.819       1.000
  27   41      -215.745       0.669       1.000
Final RAS Transform: 
1.00747 0.0179204 0.13193 4.74974 
0.125262 0.857239 0.368423 -2.0673 
0.0324682 -0.229144 0.98808 64.1447 
0 0 0 1 

Final RAS Transform: 
1.00747 0.0179204 0.13193 4.74974 
0.125262 0.857239 0.368423 -2.0673 
0.0324682 -0.229144 0.98808 64.1447 
0 0 0 1 


real	2m45.493s
user	4m57.280s
sys	0m7.116s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 48
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 50.282
LEVEL 1 of 4
  Smoothing sigmas: [8.29941, 8.21751, 8.31298], [3.38822, 3.35478, 3.39376]
Level     0,  Iter     0:    Energy =   0.0070
Level     0,  Iter     1:    Energy =   0.0100
Level     0,  Iter     2:    Energy =   0.0129
Level     0,  Iter     3:    Energy =   0.0157
Level     0,  Iter     4:    Energy =   0.0190
Level     0,  Iter     5:    Energy =   0.0218
Level     0,  Iter     6:    Energy =   0.0243
Level     0,  Iter     7:    Energy =   0.0271
Level     0,  Iter     8:    Energy =   0.0295
Level     0,  Iter     9:    Energy =   0.0314
Level     0,  Iter    10:    Energy =   0.0331
Level     0,  Iter    11:    Energy =   0.0349
Level     0,  Iter    12:    Energy =   0.0363
Level     0,  Iter    13:    Energy =   0.0374
Level     0,  Iter    14:    Energy =   0.0386
Level     0,  Iter    15:    Energy =   0.0394
Level     0,  Iter    16:    Energy =   0.0405
Level     0,  Iter    17:    Energy =   0.0411
Level     0,  Iter    18:    Energy =   0.0418
Level     0,  Iter    19:    Energy =   0.0418
Level     0,  Iter    20:    Energy =   0.0425
Level     0,  Iter    21:    Energy =   0.0428
Level     0,  Iter    22:    Energy =   0.0432
Level     0,  Iter    23:    Energy =   0.0435
Level     0,  Iter    24:    Energy =   0.0443
Level     0,  Iter    25:    Energy =   0.0444
Level     0,  Iter    26:    Energy =   0.0451
Level     0,  Iter    27:    Energy =   0.0451
Level     0,  Iter    28:    Energy =   0.0458
Level     0,  Iter    29:    Energy =   0.0458
Level     0,  Iter    30:    Energy =   0.0466
Level     0,  Iter    31:    Energy =   0.0465
Level     0,  Iter    32:    Energy =   0.0471
Level     0,  Iter    33:    Energy =   0.0470
Level     0,  Iter    34:    Energy =   0.0475
Level     0,  Iter    35:    Energy =   0.0474
Level     0,  Iter    36:    Energy =   0.0479
Level     0,  Iter    37:    Energy =   0.0479
Level     0,  Iter    38:    Energy =   0.0482
Level     0,  Iter    39:    Energy =   0.0483
Level     0,  Iter    40:    Energy =   0.0486
Level     0,  Iter    41:    Energy =   0.0486
Level     0,  Iter    42:    Energy =   0.0489
Level     0,  Iter    43:    Energy =   0.0490
Level     0,  Iter    44:    Energy =   0.0491
Level     0,  Iter    45:    Energy =   0.0492
Level     0,  Iter    46:    Energy =   0.0493
Level     0,  Iter    47:    Energy =   0.0495
Level     0,  Iter    48:    Energy =   0.0496
Level     0,  Iter    49:    Energy =   0.0497
Level     0,  Iter    50:    Energy =   0.0499
Level     0,  Iter    51:    Energy =   0.0502
Level     0,  Iter    52:    Energy =   0.0501
Level     0,  Iter    53:    Energy =   0.0504
Level     0,  Iter    54:    Energy =   0.0503
Level     0,  Iter    55:    Energy =   0.0507
Level     0,  Iter    56:    Energy =   0.0506
Level     0,  Iter    57:    Energy =   0.0508
Level     0,  Iter    58:    Energy =   0.0508
Level     0,  Iter    59:    Energy =   0.0509
END OF LEVEL     0    DetJac Range:   0.0986  to   1.8945 
  Avg. Gradient Time  : 0.0169s  36.03% 
  Avg. Gaussian Time  : 0.0223s  47.71% 
  Avg. Iteration Time : 0.0468s 
LEVEL 2 of 4
  Smoothing sigmas: [4.1497, 4.10875, 4.15649], [1.69411, 1.67739, 1.69688]
Level     1,  Iter     0:    Energy =   0.0209
Level     1,  Iter     1:    Energy =   0.0227
Level     1,  Iter     2:    Energy =   0.0243
Level     1,  Iter     3:    Energy =   0.0257
Level     1,  Iter     4:    Energy =   0.0268
Level     1,  Iter     5:    Energy =   0.0278
Level     1,  Iter     6:    Energy =   0.0288
Level     1,  Iter     7:    Energy =   0.0299
Level     1,  Iter     8:    Energy =   0.0310
Level     1,  Iter     9:    Energy =   0.0319
Level     1,  Iter    10:    Energy =   0.0328
Level     1,  Iter    11:    Energy =   0.0335
Level     1,  Iter    12:    Energy =   0.0344
Level     1,  Iter    13:    Energy =   0.0352
Level     1,  Iter    14:    Energy =   0.0360
Level     1,  Iter    15:    Energy =   0.0367
Level     1,  Iter    16:    Energy =   0.0373
Level     1,  Iter    17:    Energy =   0.0379
Level     1,  Iter    18:    Energy =   0.0383
Level     1,  Iter    19:    Energy =   0.0386
Level     1,  Iter    20:    Energy =   0.0390
Level     1,  Iter    21:    Energy =   0.0393
Level     1,  Iter    22:    Energy =   0.0396
Level     1,  Iter    23:    Energy =   0.0399
Level     1,  Iter    24:    Energy =   0.0401
Level     1,  Iter    25:    Energy =   0.0403
Level     1,  Iter    26:    Energy =   0.0405
Level     1,  Iter    27:    Energy =   0.0406
Level     1,  Iter    28:    Energy =   0.0408
Level     1,  Iter    29:    Energy =   0.0410
Level     1,  Iter    30:    Energy =   0.0411
Level     1,  Iter    31:    Energy =   0.0414
Level     1,  Iter    32:    Energy =   0.0416
Level     1,  Iter    33:    Energy =   0.0418
Level     1,  Iter    34:    Energy =   0.0419
Level     1,  Iter    35:    Energy =   0.0420
Level     1,  Iter    36:    Energy =   0.0422
Level     1,  Iter    37:    Energy =   0.0423
Level     1,  Iter    38:    Energy =   0.0425
Level     1,  Iter    39:    Energy =   0.0427
Level     1,  Iter    40:    Energy =   0.0429
Level     1,  Iter    41:    Energy =   0.0431
Level     1,  Iter    42:    Energy =   0.0433
Level     1,  Iter    43:    Energy =   0.0434
Level     1,  Iter    44:    Energy =   0.0436
Level     1,  Iter    45:    Energy =   0.0437
Level     1,  Iter    46:    Energy =   0.0437
Level     1,  Iter    47:    Energy =   0.0438
Level     1,  Iter    48:    Energy =   0.0440
Level     1,  Iter    49:    Energy =   0.0441
Level     1,  Iter    50:    Energy =   0.0442
Level     1,  Iter    51:    Energy =   0.0442
Level     1,  Iter    52:    Energy =   0.0444
Level     1,  Iter    53:    Energy =   0.0444
Level     1,  Iter    54:    Energy =   0.0446
Level     1,  Iter    55:    Energy =   0.0445
Level     1,  Iter    56:    Energy =   0.0447
Level     1,  Iter    57:    Energy =   0.0447
Level     1,  Iter    58:    Energy =   0.0449
Level     1,  Iter    59:    Energy =   0.0448
END OF LEVEL     1    DetJac Range:   0.0335  to   3.4831 
  Avg. Gradient Time  : 0.0936s  38.67% 
  Avg. Gaussian Time  : 0.1184s  48.93% 
  Avg. Iteration Time : 0.2420s 
LEVEL 3 of 4
  Smoothing sigmas: [2.07485, 2.06798, 2.07824], [0.847055, 0.84425, 0.84844]
Level     2,  Iter     0:    Energy =   0.0229
Level     2,  Iter     1:    Energy =   0.0247
Level     2,  Iter     2:    Energy =   0.0261
Level     2,  Iter     3:    Energy =   0.0275
Level     2,  Iter     4:    Energy =   0.0286
Level     2,  Iter     5:    Energy =   0.0297
Level     2,  Iter     6:    Energy =   0.0305
Level     2,  Iter     7:    Energy =   0.0311
Level     2,  Iter     8:    Energy =   0.0317
Level     2,  Iter     9:    Energy =   0.0322
Level     2,  Iter    10:    Energy =   0.0326
Level     2,  Iter    11:    Energy =   0.0329
Level     2,  Iter    12:    Energy =   0.0333
Level     2,  Iter    13:    Energy =   0.0338
Level     2,  Iter    14:    Energy =   0.0342
Level     2,  Iter    15:    Energy =   0.0346
Level     2,  Iter    16:    Energy =   0.0349
Level     2,  Iter    17:    Energy =   0.0352
Level     2,  Iter    18:    Energy =   0.0355
Level     2,  Iter    19:    Energy =   0.0358
END OF LEVEL     2    DetJac Range:   0.0351  to   4.1120 
  Avg. Gradient Time  : 0.6648s  36.64% 
  Avg. Gaussian Time  : 0.9633s  53.08% 
  Avg. Iteration Time : 1.8146s 
LEVEL 4 of 4
  Smoothing sigmas: [1.03743, 1.03743, 1.03912], [0.423527, 0.423527, 0.42422]

real	4m15.457s
user	7m14.940s
sys	0m18.632s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 /home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01664
Thresholding #1
  Mapping range [0.01664, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.uxhOnDgC/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.uxhOnDgC/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01558
Thresholding #1
  Mapping range [0.01558, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.uxhOnDgC/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.uxhOnDgC/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.uxhOnDgC/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.uxhOnDgC/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.uxhOnDgC/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.uxhOnDgC/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.uxhOnDgC/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.uxhOnDgC/sag_tse_%02d.png
++ ls /tmp/ashs.uxhOnDgC/cor_mprage_00.png /tmp/ashs.uxhOnDgC/cor_mprage_01.png /tmp/ashs.uxhOnDgC/cor_mprage_02.png /tmp/ashs.uxhOnDgC/cor_mprage_03.png /tmp/ashs.uxhOnDgC/cor_mprage_04.png /tmp/ashs.uxhOnDgC/cor_temp_00.png /tmp/ashs.uxhOnDgC/cor_temp_01.png /tmp/ashs.uxhOnDgC/cor_temp_02.png /tmp/ashs.uxhOnDgC/cor_temp_03.png /tmp/ashs.uxhOnDgC/cor_temp_04.png /tmp/ashs.uxhOnDgC/cor_tse_00.png /tmp/ashs.uxhOnDgC/cor_tse_01.png /tmp/ashs.uxhOnDgC/cor_tse_02.png /tmp/ashs.uxhOnDgC/cor_tse_03.png /tmp/ashs.uxhOnDgC/cor_tse_04.png /tmp/ashs.uxhOnDgC/sag_mprage_00.png /tmp/ashs.uxhOnDgC/sag_mprage_01.png /tmp/ashs.uxhOnDgC/sag_temp_00.png /tmp/ashs.uxhOnDgC/sag_temp_01.png /tmp/ashs.uxhOnDgC/sag_tse_00.png /tmp/ashs.uxhOnDgC/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_mprage_00.png /tmp/ashs.uxhOnDgC/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_mprage_01.png /tmp/ashs.uxhOnDgC/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_mprage_02.png /tmp/ashs.uxhOnDgC/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_mprage_03.png /tmp/ashs.uxhOnDgC/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_mprage_04.png /tmp/ashs.uxhOnDgC/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_temp_00.png /tmp/ashs.uxhOnDgC/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_temp_01.png /tmp/ashs.uxhOnDgC/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_temp_02.png /tmp/ashs.uxhOnDgC/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_temp_03.png /tmp/ashs.uxhOnDgC/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_temp_04.png /tmp/ashs.uxhOnDgC/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_tse_00.png /tmp/ashs.uxhOnDgC/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_tse_01.png /tmp/ashs.uxhOnDgC/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_tse_02.png /tmp/ashs.uxhOnDgC/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_tse_03.png /tmp/ashs.uxhOnDgC/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_tse_04.png /tmp/ashs.uxhOnDgC/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_mprage_00.png /tmp/ashs.uxhOnDgC/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_mprage_01.png /tmp/ashs.uxhOnDgC/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_temp_00.png /tmp/ashs.uxhOnDgC/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_temp_01.png /tmp/ashs.uxhOnDgC/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_tse_00.png /tmp/ashs.uxhOnDgC/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_tse_01.png /tmp/ashs.uxhOnDgC/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.uxhOnDgC/cor_temp_00.png /tmp/ashs.uxhOnDgC/cor_temp_01.png /tmp/ashs.uxhOnDgC/cor_temp_02.png /tmp/ashs.uxhOnDgC/cor_temp_03.png /tmp/ashs.uxhOnDgC/cor_temp_04.png /tmp/ashs.uxhOnDgC/sag_temp_00.png /tmp/ashs.uxhOnDgC/sag_temp_01.png /tmp/ashs.uxhOnDgC/cor_mprage_00.png /tmp/ashs.uxhOnDgC/cor_mprage_01.png /tmp/ashs.uxhOnDgC/cor_mprage_02.png /tmp/ashs.uxhOnDgC/cor_mprage_03.png /tmp/ashs.uxhOnDgC/cor_mprage_04.png /tmp/ashs.uxhOnDgC/sag_mprage_00.png /tmp/ashs.uxhOnDgC/sag_mprage_01.png /tmp/ashs.uxhOnDgC/cor_tse_00.png /tmp/ashs.uxhOnDgC/cor_tse_01.png /tmp/ashs.uxhOnDgC/cor_tse_02.png /tmp/ashs.uxhOnDgC/cor_tse_03.png /tmp/ashs.uxhOnDgC/cor_tse_04.png /tmp/ashs.uxhOnDgC/sag_tse_00.png /tmp/ashs.uxhOnDgC/sag_tse_01.png /tmp/ashs.uxhOnDgC/qa.png
+ convert /tmp/ashs.uxhOnDgC/qa.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/qa
+ montage -label 26001:left /tmp/ashs.uxhOnDgC/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.uxhOnDgC/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.uxhOnDgC/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.uxhOnDgC/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.uxhOnDgC/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.uxhOnDgC/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.uxhOnDgC/sag_tse_%02d.png
++ ls /tmp/ashs.uxhOnDgC/cor_mprage_00.png /tmp/ashs.uxhOnDgC/cor_mprage_01.png /tmp/ashs.uxhOnDgC/cor_mprage_02.png /tmp/ashs.uxhOnDgC/cor_mprage_03.png /tmp/ashs.uxhOnDgC/cor_mprage_04.png /tmp/ashs.uxhOnDgC/cor_temp_00.png /tmp/ashs.uxhOnDgC/cor_temp_01.png /tmp/ashs.uxhOnDgC/cor_temp_02.png /tmp/ashs.uxhOnDgC/cor_temp_03.png /tmp/ashs.uxhOnDgC/cor_temp_04.png /tmp/ashs.uxhOnDgC/cor_tse_00.png /tmp/ashs.uxhOnDgC/cor_tse_01.png /tmp/ashs.uxhOnDgC/cor_tse_02.png /tmp/ashs.uxhOnDgC/cor_tse_03.png /tmp/ashs.uxhOnDgC/cor_tse_04.png /tmp/ashs.uxhOnDgC/sag_mprage_00.png /tmp/ashs.uxhOnDgC/sag_mprage_01.png /tmp/ashs.uxhOnDgC/sag_temp_00.png /tmp/ashs.uxhOnDgC/sag_temp_01.png /tmp/ashs.uxhOnDgC/sag_tse_00.png /tmp/ashs.uxhOnDgC/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_mprage_00.png /tmp/ashs.uxhOnDgC/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_mprage_01.png /tmp/ashs.uxhOnDgC/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_mprage_02.png /tmp/ashs.uxhOnDgC/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_mprage_03.png /tmp/ashs.uxhOnDgC/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_mprage_04.png /tmp/ashs.uxhOnDgC/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_temp_00.png /tmp/ashs.uxhOnDgC/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_temp_01.png /tmp/ashs.uxhOnDgC/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_temp_02.png /tmp/ashs.uxhOnDgC/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_temp_03.png /tmp/ashs.uxhOnDgC/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_temp_04.png /tmp/ashs.uxhOnDgC/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_tse_00.png /tmp/ashs.uxhOnDgC/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_tse_01.png /tmp/ashs.uxhOnDgC/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_tse_02.png /tmp/ashs.uxhOnDgC/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_tse_03.png /tmp/ashs.uxhOnDgC/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/cor_tse_04.png /tmp/ashs.uxhOnDgC/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_mprage_00.png /tmp/ashs.uxhOnDgC/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_mprage_01.png /tmp/ashs.uxhOnDgC/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_temp_00.png /tmp/ashs.uxhOnDgC/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_temp_01.png /tmp/ashs.uxhOnDgC/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_tse_00.png /tmp/ashs.uxhOnDgC/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.uxhOnDgC/sag_tse_01.png /tmp/ashs.uxhOnDgC/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.uxhOnDgC/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.uxhOnDgC/cor_temp_00.png /tmp/ashs.uxhOnDgC/cor_temp_01.png /tmp/ashs.uxhOnDgC/cor_temp_02.png /tmp/ashs.uxhOnDgC/cor_temp_03.png /tmp/ashs.uxhOnDgC/cor_temp_04.png /tmp/ashs.uxhOnDgC/sag_temp_00.png /tmp/ashs.uxhOnDgC/sag_temp_01.png /tmp/ashs.uxhOnDgC/cor_mprage_00.png /tmp/ashs.uxhOnDgC/cor_mprage_01.png /tmp/ashs.uxhOnDgC/cor_mprage_02.png /tmp/ashs.uxhOnDgC/cor_mprage_03.png /tmp/ashs.uxhOnDgC/cor_mprage_04.png /tmp/ashs.uxhOnDgC/sag_mprage_00.png /tmp/ashs.uxhOnDgC/sag_mprage_01.png /tmp/ashs.uxhOnDgC/cor_tse_00.png /tmp/ashs.uxhOnDgC/cor_tse_01.png /tmp/ashs.uxhOnDgC/cor_tse_02.png /tmp/ashs.uxhOnDgC/cor_tse_03.png /tmp/ashs.uxhOnDgC/cor_tse_04.png /tmp/ashs.uxhOnDgC/sag_tse_00.png /tmp/ashs.uxhOnDgC/sag_tse_01.png /tmp/ashs.uxhOnDgC/qa.png
+ convert /tmp/ashs.uxhOnDgC/qa.png -bordercolor Black -border 1x1 /tmp/ashs.uxhOnDgC/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/qa
+ montage -label 26001:right /tmp/ashs.uxhOnDgC/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.544
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 284.027   GNORM= 251.378
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        37.430     210.351       0.004
   2    3      -237.542     222.435       1.000
   3    4      -401.182     174.689       1.000
   4    7      -551.357     197.832       2.313
   5    8      -642.558      87.278       1.000
   6    9      -712.425      58.296       1.000
   7   12      -731.064      61.294       1.526
   8   17      -731.791      62.660       0.004
   9   18      -738.519      78.332       1.000
  10   19      -748.105      39.388       1.000
  11   20      -750.523     181.157       1.000
  12   23      -750.936      72.297       0.027
  13   25      -759.106      24.704       5.000
  14   26      -763.282      32.333       1.000
  15   29      -783.819      50.278       2.085
  16   30      -798.991      29.603       1.000
  17   33      -799.931      27.487       0.144
  18   36      -803.968      32.412       1.778
  19   37      -805.689      38.475       1.000
  20   38      -814.351      33.778       1.000
  21   39      -818.800      51.972       1.000
  22   43      -821.627      47.519       0.955
  23   45      -823.338      25.292       0.416
  24   46      -826.705      36.743       1.000
  25   47      -831.560      39.762       1.000
  26   49      -843.091     100.688       0.461
  27   50      -852.886      74.477       1.000
  28   51      -856.521      65.083       1.000
  29   52      -858.419      47.575       1.000
  30   53      -861.560      23.001       1.000
  31   56      -862.900      31.607       1.972
  32   57      -865.005      36.793       1.000
  33   58      -866.706      24.252       1.000
  34   60      -866.960      39.139       0.453
  35   61      -867.245      18.347       1.000
Final RAS Transform: 
1.00982 0.0344566 0.104649 -11.9963 
-0.136698 1.21301 0.131921 4.2554 
-0.163345 -0.353693 0.873119 -8.25503 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -485.045   GNORM= 30.4148
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01002 0.0341168 0.104809 -12.0361 
-0.136886 1.21338 0.131744 4.28004 
-0.163498 -0.353494 0.872975 -8.23548 
0 0 0 1 

Final RAS Transform: 
1.01002 0.0341168 0.104809 -12.0361 
-0.136886 1.21338 0.131744 4.28004 
-0.163498 -0.353494 0.872975 -8.23548 
0 0 0 1 


real	0m3.776s
user	0m5.708s
sys	0m0.564s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.358319
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0182
Level     0,  Iter     1:    Energy =   0.0199
Level     0,  Iter     2:    Energy =   0.0223
Level     0,  Iter     3:    Energy =   0.0243
Level     0,  Iter     4:    Energy =   0.0257
Level     0,  Iter     5:    Energy =   0.0267
Level     0,  Iter     6:    Energy =   0.0276
Level     0,  Iter     7:    Energy =   0.0285
Level     0,  Iter     8:    Energy =   0.0296
Level     0,  Iter     9:    Energy =   0.0306
Level     0,  Iter    10:    Energy =   0.0316
Level     0,  Iter    11:    Energy =   0.0326
Level     0,  Iter    12:    Energy =   0.0334
Level     0,  Iter    13:    Energy =   0.0341
Level     0,  Iter    14:    Energy =   0.0345
Level     0,  Iter    15:    Energy =   0.0348
Level     0,  Iter    16:    Energy =   0.0350
Level     0,  Iter    17:    Energy =   0.0352
Level     0,  Iter    18:    Energy =   0.0353
Level     0,  Iter    19:    Energy =   0.0354
Level     0,  Iter    20:    Energy =   0.0354
Level     0,  Iter    21:    Energy =   0.0354
Level     0,  Iter    22:    Energy =   0.0355
Level     0,  Iter    23:    Energy =   0.0355
Level     0,  Iter    24:    Energy =   0.0357
Level     0,  Iter    25:    Energy =   0.0357
Level     0,  Iter    26:    Energy =   0.0357
Level     0,  Iter    27:    Energy =   0.0357
Level     0,  Iter    28:    Energy =   0.0356
Level     0,  Iter    29:    Energy =   0.0356
Level     0,  Iter    30:    Energy =   0.0356
Level     0,  Iter    31:    Energy =   0.0356
Level     0,  Iter    32:    Energy =   0.0357
Level     0,  Iter    33:    Energy =   0.0359
Level     0,  Iter    34:    Energy =   0.0360
Level     0,  Iter    35:    Energy =   0.0360
Level     0,  Iter    36:    Energy =   0.0361
Level     0,  Iter    37:    Energy =   0.0361
Level     0,  Iter    38:    Energy =   0.0361
Level     0,  Iter    39:    Energy =   0.0362
Level     0,  Iter    40:    Energy =   0.0362
Level     0,  Iter    41:    Energy =   0.0361
Level     0,  Iter    42:    Energy =   0.0360
Level     0,  Iter    43:    Energy =   0.0359
Level     0,  Iter    44:    Energy =   0.0358
Level     0,  Iter    45:    Energy =   0.0357
Level     0,  Iter    46:    Energy =   0.0357
Level     0,  Iter    47:    Energy =   0.0356
Level     0,  Iter    48:    Energy =   0.0355
Level     0,  Iter    49:    Energy =   0.0354
Level     0,  Iter    50:    Energy =   0.0353
Level     0,  Iter    51:    Energy =   0.0352
Level     0,  Iter    52:    Energy =   0.0351
Level     0,  Iter    53:    Energy =   0.0351
Level     0,  Iter    54:    Energy =   0.0350
Level     0,  Iter    55:    Energy =   0.0349
Level     0,  Iter    56:    Energy =   0.0349
Level     0,  Iter    57:    Energy =   0.0348
Level     0,  Iter    58:    Energy =   0.0348
Level     0,  Iter    59:    Energy =   0.0348
END OF LEVEL     0    DetJac Range:   0.0378  to   3.7105 
  Avg. Gradient Time  : 0.0069s  33.13% 
  Avg. Gaussian Time  : 0.0100s  48.17% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0211
Level     1,  Iter     1:    Energy =   0.0219
Level     1,  Iter     2:    Energy =   0.0226
Level     1,  Iter     3:    Energy =   0.0232
Level     1,  Iter     4:    Energy =   0.0240
Level     1,  Iter     5:    Energy =   0.0248
Level     1,  Iter     6:    Energy =   0.0256
Level     1,  Iter     7:    Energy =   0.0262
Level     1,  Iter     8:    Energy =   0.0268
Level     1,  Iter     9:    Energy =   0.0274
Level     1,  Iter    10:    Energy =   0.0278
Level     1,  Iter    11:    Energy =   0.0283
Level     1,  Iter    12:    Energy =   0.0286
Level     1,  Iter    13:    Energy =   0.0289
Level     1,  Iter    14:    Energy =   0.0292
Level     1,  Iter    15:    Energy =   0.0295
Level     1,  Iter    16:    Energy =   0.0297
Level     1,  Iter    17:    Energy =   0.0299
Level     1,  Iter    18:    Energy =   0.0301
Level     1,  Iter    19:    Energy =   0.0303
Level     1,  Iter    20:    Energy =   0.0304
Level     1,  Iter    21:    Energy =   0.0306
Level     1,  Iter    22:    Energy =   0.0307
Level     1,  Iter    23:    Energy =   0.0308
Level     1,  Iter    24:    Energy =   0.0309
Level     1,  Iter    25:    Energy =   0.0310
Level     1,  Iter    26:    Energy =   0.0310
Level     1,  Iter    27:    Energy =   0.0311
Level     1,  Iter    28:    Energy =   0.0312
Level     1,  Iter    29:    Energy =   0.0313
Level     1,  Iter    30:    Energy =   0.0313
Level     1,  Iter    31:    Energy =   0.0314
Level     1,  Iter    32:    Energy =   0.0315
Level     1,  Iter    33:    Energy =   0.0315
Level     1,  Iter    34:    Energy =   0.0316
Level     1,  Iter    35:    Energy =   0.0316
Level     1,  Iter    36:    Energy =   0.0317
Level     1,  Iter    37:    Energy =   0.0317
Level     1,  Iter    38:    Energy =   0.0317
Level     1,  Iter    39:    Energy =   0.0317
Level     1,  Iter    40:    Energy =   0.0318
Level     1,  Iter    41:    Energy =   0.0318
Level     1,  Iter    42:    Energy =   0.0319
Level     1,  Iter    43:    Energy =   0.0319
Level     1,  Iter    44:    Energy =   0.0319
Level     1,  Iter    45:    Energy =   0.0319
Level     1,  Iter    46:    Energy =   0.0320
Level     1,  Iter    47:    Energy =   0.0320
Level     1,  Iter    48:    Energy =   0.0320
Level     1,  Iter    49:    Energy =   0.0320
Level     1,  Iter    50:    Energy =   0.0320
Level     1,  Iter    51:    Energy =   0.0320
Level     1,  Iter    52:    Energy =   0.0320
Level     1,  Iter    53:    Energy =   0.0320
Level     1,  Iter    54:    Energy =   0.0321
Level     1,  Iter    55:    Energy =   0.0320
Level     1,  Iter    56:    Energy =   0.0320
Level     1,  Iter    57:    Energy =   0.0320
Level     1,  Iter    58:    Energy =   0.0320
Level     1,  Iter    59:    Energy =   0.0320
END OF LEVEL     1    DetJac Range:   0.0154  to   4.5221 
  Avg. Gradient Time  : 0.0282s  33.66% 
  Avg. Gaussian Time  : 0.0439s  52.40% 
  Avg. Iteration Time : 0.0838s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0145
Level     2,  Iter     1:    Energy =   0.0150
Level     2,  Iter     2:    Energy =   0.0154
Level     2,  Iter     3:    Energy =   0.0157
Level     2,  Iter     4:    Energy =   0.0160
Level     2,  Iter     5:    Energy =   0.0163
Level     2,  Iter     6:    Energy =   0.0165
Level     2,  Iter     7:    Energy =   0.0167
Level     2,  Iter     8:    Energy =   0.0169
Level     2,  Iter     9:    Energy =   0.0173
Level     2,  Iter    10:    Energy =   0.0177
Level     2,  Iter    11:    Energy =   0.0180
Level     2,  Iter    12:    Energy =   0.0184
Level     2,  Iter    13:    Energy =   0.0186
Level     2,  Iter    14:    Energy =   0.0189
Level     2,  Iter    15:    Energy =   0.0190
Level     2,  Iter    16:    Energy =   0.0193
Level     2,  Iter    17:    Energy =   0.0194
Level     2,  Iter    18:    Energy =   0.0196
Level     2,  Iter    19:    Energy =   0.0196
END OF LEVEL     2    DetJac Range:   0.0202  to   4.1885 
  Avg. Gradient Time  : 0.1878s  32.00% 
  Avg. Gaussian Time  : 0.3178s  54.14% 
  Avg. Iteration Time : 0.5870s 

real	0m20.812s
user	0m36.128s
sys	0m2.364s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.204286
+ echo 'CHUNK 0.2 0.204286 1'
CHUNK 0.2 0.204286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.204286 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.587
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 249.674   GNORM= 144.167
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -290.632      62.489       0.035
   2    4      -477.364      79.117       1.000
   3    6      -547.846      93.947       0.168
   4    9      -583.295      63.859       0.066
   5   13      -599.384      53.411       1.075
   6   14      -615.320     573.414       1.000
   7   20      -623.017     120.459       0.001
   8   24      -627.411     129.200       0.130
   9   25      -663.495      95.721       1.000
  10   27      -674.711      48.540       0.246
  11   38      -677.263      55.743       0.995
  12   40      -678.918      44.912       0.124
  13   42      -683.527      34.184       0.450
  14   43      -685.599      41.892       1.000
Final RAS Transform: 
1.12278 -0.084421 0.136219 -4.2831 
-0.0624062 1.07622 -0.0835546 3.03856 
0.00100897 -0.173599 1.01667 -2.90712 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -307.098   GNORM= 1780.6
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -307.856     173.937       0.000
   2    4      -308.248     431.564       1.000
   3   10      -309.185      38.649       0.007
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12479 -0.0868153 0.138305 -4.51606 
-0.0619275 1.07578 -0.0824687 2.97435 
0.00076654 -0.173171 1.01631 -2.88128 
0 0 0 1 

Final RAS Transform: 
1.12479 -0.0868153 0.138305 -4.51606 
-0.0619275 1.07578 -0.0824687 2.97435 
0.00076654 -0.173171 1.01631 -2.88128 
0 0 0 1 


real	0m4.015s
user	0m6.404s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.427727
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0140
Level     0,  Iter     1:    Energy =   0.0153
Level     0,  Iter     2:    Energy =   0.0175
Level     0,  Iter     3:    Energy =   0.0195
Level     0,  Iter     4:    Energy =   0.0213
Level     0,  Iter     5:    Energy =   0.0227
Level     0,  Iter     6:    Energy =   0.0240
Level     0,  Iter     7:    Energy =   0.0251
Level     0,  Iter     8:    Energy =   0.0256
Level     0,  Iter     9:    Energy =   0.0260
Level     0,  Iter    10:    Energy =   0.0265
Level     0,  Iter    11:    Energy =   0.0269
Level     0,  Iter    12:    Energy =   0.0271
Level     0,  Iter    13:    Energy =   0.0273
Level     0,  Iter    14:    Energy =   0.0274
Level     0,  Iter    15:    Energy =   0.0274
Level     0,  Iter    16:    Energy =   0.0274
Level     0,  Iter    17:    Energy =   0.0273
Level     0,  Iter    18:    Energy =   0.0273
Level     0,  Iter    19:    Energy =   0.0274
Level     0,  Iter    20:    Energy =   0.0274
Level     0,  Iter    21:    Energy =   0.0275
Level     0,  Iter    22:    Energy =   0.0275
Level     0,  Iter    23:    Energy =   0.0275
Level     0,  Iter    24:    Energy =   0.0275
Level     0,  Iter    25:    Energy =   0.0275
Level     0,  Iter    26:    Energy =   0.0276
Level     0,  Iter    27:    Energy =   0.0276
Level     0,  Iter    28:    Energy =   0.0277
Level     0,  Iter    29:    Energy =   0.0277
Level     0,  Iter    30:    Energy =   0.0277
Level     0,  Iter    31:    Energy =   0.0277
Level     0,  Iter    32:    Energy =   0.0277
Level     0,  Iter    33:    Energy =   0.0277
Level     0,  Iter    34:    Energy =   0.0277
Level     0,  Iter    35:    Energy =   0.0278
Level     0,  Iter    36:    Energy =   0.0278
Level     0,  Iter    37:    Energy =   0.0279
Level     0,  Iter    38:    Energy =   0.0279
Level     0,  Iter    39:    Energy =   0.0279
Level     0,  Iter    40:    Energy =   0.0279
Level     0,  Iter    41:    Energy =   0.0279
Level     0,  Iter    42:    Energy =   0.0279
Level     0,  Iter    43:    Energy =   0.0280
Level     0,  Iter    44:    Energy =   0.0279
Level     0,  Iter    45:    Energy =   0.0280
Level     0,  Iter    46:    Energy =   0.0280
Level     0,  Iter    47:    Energy =   0.0280
Level     0,  Iter    48:    Energy =   0.0280
Level     0,  Iter    49:    Energy =   0.0281
Level     0,  Iter    50:    Energy =   0.0282
Level     0,  Iter    51:    Energy =   0.0282
Level     0,  Iter    52:    Energy =   0.0282
Level     0,  Iter    53:    Energy =   0.0282
Level     0,  Iter    54:    Energy =   0.0283
Level     0,  Iter    55:    Energy =   0.0283
Level     0,  Iter    56:    Energy =   0.0284
Level     0,  Iter    57:    Energy =   0.0284
Level     0,  Iter    58:    Energy =   0.0284
Level     0,  Iter    59:    Energy =   0.0285
END OF LEVEL     0    DetJac Range:   0.0219  to   2.0087 
  Avg. Gradient Time  : 0.0069s  32.96% 
  Avg. Gaussian Time  : 0.0101s  48.21% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0178
Level     1,  Iter     1:    Energy =   0.0188
Level     1,  Iter     2:    Energy =   0.0196
Level     1,  Iter     3:    Energy =   0.0202
Level     1,  Iter     4:    Energy =   0.0207
Level     1,  Iter     5:    Energy =   0.0212
Level     1,  Iter     6:    Energy =   0.0216
Level     1,  Iter     7:    Energy =   0.0219
Level     1,  Iter     8:    Energy =   0.0223
Level     1,  Iter     9:    Energy =   0.0226
Level     1,  Iter    10:    Energy =   0.0229
Level     1,  Iter    11:    Energy =   0.0232
Level     1,  Iter    12:    Energy =   0.0235
Level     1,  Iter    13:    Energy =   0.0237
Level     1,  Iter    14:    Energy =   0.0240
Level     1,  Iter    15:    Energy =   0.0242
Level     1,  Iter    16:    Energy =   0.0243
Level     1,  Iter    17:    Energy =   0.0245
Level     1,  Iter    18:    Energy =   0.0247
Level     1,  Iter    19:    Energy =   0.0248
Level     1,  Iter    20:    Energy =   0.0249
Level     1,  Iter    21:    Energy =   0.0251
Level     1,  Iter    22:    Energy =   0.0252
Level     1,  Iter    23:    Energy =   0.0252
Level     1,  Iter    24:    Energy =   0.0253
Level     1,  Iter    25:    Energy =   0.0254
Level     1,  Iter    26:    Energy =   0.0255
Level     1,  Iter    27:    Energy =   0.0255
Level     1,  Iter    28:    Energy =   0.0256
Level     1,  Iter    29:    Energy =   0.0256
Level     1,  Iter    30:    Energy =   0.0257
Level     1,  Iter    31:    Energy =   0.0258
Level     1,  Iter    32:    Energy =   0.0258
Level     1,  Iter    33:    Energy =   0.0259
Level     1,  Iter    34:    Energy =   0.0259
Level     1,  Iter    35:    Energy =   0.0260
Level     1,  Iter    36:    Energy =   0.0260
Level     1,  Iter    37:    Energy =   0.0261
Level     1,  Iter    38:    Energy =   0.0261
Level     1,  Iter    39:    Energy =   0.0262
Level     1,  Iter    40:    Energy =   0.0262
Level     1,  Iter    41:    Energy =   0.0263
Level     1,  Iter    42:    Energy =   0.0263
Level     1,  Iter    43:    Energy =   0.0264
Level     1,  Iter    44:    Energy =   0.0264
Level     1,  Iter    45:    Energy =   0.0265
Level     1,  Iter    46:    Energy =   0.0265
Level     1,  Iter    47:    Energy =   0.0265
Level     1,  Iter    48:    Energy =   0.0266
Level     1,  Iter    49:    Energy =   0.0266
Level     1,  Iter    50:    Energy =   0.0266
Level     1,  Iter    51:    Energy =   0.0266
Level     1,  Iter    52:    Energy =   0.0267
Level     1,  Iter    53:    Energy =   0.0267
Level     1,  Iter    54:    Energy =   0.0267
Level     1,  Iter    55:    Energy =   0.0267
Level     1,  Iter    56:    Energy =   0.0267
Level     1,  Iter    57:    Energy =   0.0268
Level     1,  Iter    58:    Energy =   0.0268
Level     1,  Iter    59:    Energy =   0.0268
END OF LEVEL     1    DetJac Range:   0.0143  to   2.7286 
  Avg. Gradient Time  : 0.0290s  33.61% 
  Avg. Gaussian Time  : 0.0453s  52.47% 
  Avg. Iteration Time : 0.0863s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0114
Level     2,  Iter     1:    Energy =   0.0118
Level     2,  Iter     2:    Energy =   0.0125
Level     2,  Iter     3:    Energy =   0.0130
Level     2,  Iter     4:    Energy =   0.0135
Level     2,  Iter     5:    Energy =   0.0140
Level     2,  Iter     6:    Energy =   0.0144
Level     2,  Iter     7:    Energy =   0.0148
Level     2,  Iter     8:    Energy =   0.0152
Level     2,  Iter     9:    Energy =   0.0155
Level     2,  Iter    10:    Energy =   0.0157
Level     2,  Iter    11:    Energy =   0.0160
Level     2,  Iter    12:    Energy =   0.0162
Level     2,  Iter    13:    Energy =   0.0164
Level     2,  Iter    14:    Energy =   0.0166
Level     2,  Iter    15:    Energy =   0.0168
Level     2,  Iter    16:    Energy =   0.0170
Level     2,  Iter    17:    Energy =   0.0172
Level     2,  Iter    18:    Energy =   0.0173
Level     2,  Iter    19:    Energy =   0.0175
END OF LEVEL     2    DetJac Range:   0.0118  to   2.7248 
  Avg. Gradient Time  : 0.1823s  31.76% 
  Avg. Gaussian Time  : 0.3129s  54.50% 
  Avg. Iteration Time : 0.5741s 

real	0m20.610s
user	0m35.832s
sys	0m2.392s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.204286 0.208571
+ echo 'CHUNK 0.204286 0.208571 1'
CHUNK 0.204286 0.208571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.204286 0.208571 1
====================================
         PROGRESS: 0.204286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.573
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 333.263   GNORM= 266.743
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       107.931     237.632       0.004
   2    3       -85.016     171.561       1.000
   3    4      -268.658     101.797       1.000
   4    7      -592.093      82.889       1.477
   5   10      -600.396      44.804       0.035
   6   11      -605.962      36.113       1.000
   7   12      -623.832      69.231       1.000
   8   14      -633.017     115.047       0.308
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13168 -0.098576 0.10316 -4.13402 
-0.105285 1.18432 -0.197221 5.68067 
0.0470752 -0.172465 1.03867 -3.78447 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -297.34   GNORM= 73.9929
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -299.927      91.730       0.014
   2    3      -302.451      44.239       1.000
   3    5      -302.478     120.205       0.190
   4    7      -303.503      35.034       0.095
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13319 -0.0998931 0.103717 -4.22039 
-0.102367 1.17767 -0.192319 5.15858 
0.0470446 -0.172125 1.03701 -3.64737 
0 0 0 1 

Final RAS Transform: 
1.13319 -0.0998931 0.103717 -4.22039 
-0.102367 1.17767 -0.192319 5.15858 
0.0470446 -0.172125 1.03701 -3.64737 
0 0 0 1 


real	0m3.727s
user	0m5.860s
sys	0m0.416s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.409914
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0128
Level     0,  Iter     1:    Energy =   0.0140
Level     0,  Iter     2:    Energy =   0.0158
Level     0,  Iter     3:    Energy =   0.0172
Level     0,  Iter     4:    Energy =   0.0187
Level     0,  Iter     5:    Energy =   0.0200
Level     0,  Iter     6:    Energy =   0.0210
Level     0,  Iter     7:    Energy =   0.0218
Level     0,  Iter     8:    Energy =   0.0224
Level     0,  Iter     9:    Energy =   0.0232
Level     0,  Iter    10:    Energy =   0.0238
Level     0,  Iter    11:    Energy =   0.0243
Level     0,  Iter    12:    Energy =   0.0246
Level     0,  Iter    13:    Energy =   0.0250
Level     0,  Iter    14:    Energy =   0.0252
Level     0,  Iter    15:    Energy =   0.0255
Level     0,  Iter    16:    Energy =   0.0258
Level     0,  Iter    17:    Energy =   0.0260
Level     0,  Iter    18:    Energy =   0.0262
Level     0,  Iter    19:    Energy =   0.0264
Level     0,  Iter    20:    Energy =   0.0267
Level     0,  Iter    21:    Energy =   0.0269
Level     0,  Iter    22:    Energy =   0.0271
Level     0,  Iter    23:    Energy =   0.0272
Level     0,  Iter    24:    Energy =   0.0274
Level     0,  Iter    25:    Energy =   0.0275
Level     0,  Iter    26:    Energy =   0.0277
Level     0,  Iter    27:    Energy =   0.0279
Level     0,  Iter    28:    Energy =   0.0281
Level     0,  Iter    29:    Energy =   0.0283
Level     0,  Iter    30:    Energy =   0.0284
Level     0,  Iter    31:    Energy =   0.0284
Level     0,  Iter    32:    Energy =   0.0284
Level     0,  Iter    33:    Energy =   0.0284
Level     0,  Iter    34:    Energy =   0.0284
Level     0,  Iter    35:    Energy =   0.0285
Level     0,  Iter    36:    Energy =   0.0286
Level     0,  Iter    37:    Energy =   0.0286
Level     0,  Iter    38:    Energy =   0.0287
Level     0,  Iter    39:    Energy =   0.0288
Level     0,  Iter    40:    Energy =   0.0288
Level     0,  Iter    41:    Energy =   0.0290
Level     0,  Iter    42:    Energy =   0.0292
Level     0,  Iter    43:    Energy =   0.0293
Level     0,  Iter    44:    Energy =   0.0293
Level     0,  Iter    45:    Energy =   0.0293
Level     0,  Iter    46:    Energy =   0.0293
Level     0,  Iter    47:    Energy =   0.0293
Level     0,  Iter    48:    Energy =   0.0293
Level     0,  Iter    49:    Energy =   0.0293
Level     0,  Iter    50:    Energy =   0.0293
Level     0,  Iter    51:    Energy =   0.0293
Level     0,  Iter    52:    Energy =   0.0293
Level     0,  Iter    53:    Energy =   0.0292
Level     0,  Iter    54:    Energy =   0.0293
Level     0,  Iter    55:    Energy =   0.0293
Level     0,  Iter    56:    Energy =   0.0293
Level     0,  Iter    57:    Energy =   0.0293
Level     0,  Iter    58:    Energy =   0.0293
Level     0,  Iter    59:    Energy =   0.0293
END OF LEVEL     0    DetJac Range:   0.0697  to   2.4211 
  Avg. Gradient Time  : 0.0070s  32.98% 
  Avg. Gaussian Time  : 0.0102s  48.38% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0147
Level     1,  Iter     1:    Energy =   0.0156
Level     1,  Iter     2:    Energy =   0.0163
Level     1,  Iter     3:    Energy =   0.0169
Level     1,  Iter     4:    Energy =   0.0174
Level     1,  Iter     5:    Energy =   0.0179
Level     1,  Iter     6:    Energy =   0.0184
Level     1,  Iter     7:    Energy =   0.0188
Level     1,  Iter     8:    Energy =   0.0193
Level     1,  Iter     9:    Energy =   0.0196
Level     1,  Iter    10:    Energy =   0.0199
Level     1,  Iter    11:    Energy =   0.0203
Level     1,  Iter    12:    Energy =   0.0205
Level     1,  Iter    13:    Energy =   0.0206
Level     1,  Iter    14:    Energy =   0.0206
Level     1,  Iter    15:    Energy =   0.0206
Level     1,  Iter    16:    Energy =   0.0207
Level     1,  Iter    17:    Energy =   0.0207
Level     1,  Iter    18:    Energy =   0.0208
Level     1,  Iter    19:    Energy =   0.0209
Level     1,  Iter    20:    Energy =   0.0210
Level     1,  Iter    21:    Energy =   0.0211
Level     1,  Iter    22:    Energy =   0.0211
Level     1,  Iter    23:    Energy =   0.0212
Level     1,  Iter    24:    Energy =   0.0213
Level     1,  Iter    25:    Energy =   0.0213
Level     1,  Iter    26:    Energy =   0.0213
Level     1,  Iter    27:    Energy =   0.0213
Level     1,  Iter    28:    Energy =   0.0214
Level     1,  Iter    29:    Energy =   0.0216
Level     1,  Iter    30:    Energy =   0.0216
Level     1,  Iter    31:    Energy =   0.0218
Level     1,  Iter    32:    Energy =   0.0218
Level     1,  Iter    33:    Energy =   0.0219
Level     1,  Iter    34:    Energy =   0.0220
Level     1,  Iter    35:    Energy =   0.0221
Level     1,  Iter    36:    Energy =   0.0221
Level     1,  Iter    37:    Energy =   0.0222
Level     1,  Iter    38:    Energy =   0.0222
Level     1,  Iter    39:    Energy =   0.0223
Level     1,  Iter    40:    Energy =   0.0224
Level     1,  Iter    41:    Energy =   0.0224
Level     1,  Iter    42:    Energy =   0.0225
Level     1,  Iter    43:    Energy =   0.0225
Level     1,  Iter    44:    Energy =   0.0226
Level     1,  Iter    45:    Energy =   0.0226
Level     1,  Iter    46:    Energy =   0.0226
Level     1,  Iter    47:    Energy =   0.0226
Level     1,  Iter    48:    Energy =   0.0225
Level     1,  Iter    49:    Energy =   0.0225
Level     1,  Iter    50:    Energy =   0.0225
Level     1,  Iter    51:    Energy =   0.0224
Level     1,  Iter    52:    Energy =   0.0225
Level     1,  Iter    53:    Energy =   0.0225
Level     1,  Iter    54:    Energy =   0.0225
Level     1,  Iter    55:    Energy =   0.0225
Level     1,  Iter    56:    Energy =   0.0225
Level     1,  Iter    57:    Energy =   0.0225
Level     1,  Iter    58:    Energy =   0.0225
Level     1,  Iter    59:    Energy =   0.0225
END OF LEVEL     1    DetJac Range:   0.0182  to   2.6256 
  Avg. Gradient Time  : 0.0289s  33.33% 
  Avg. Gaussian Time  : 0.0457s  52.76% 
  Avg. Iteration Time : 0.0867s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0094
Level     2,  Iter     1:    Energy =   0.0099
Level     2,  Iter     2:    Energy =   0.0104
Level     2,  Iter     3:    Energy =   0.0108
Level     2,  Iter     4:    Energy =   0.0112
Level     2,  Iter     5:    Energy =   0.0116
Level     2,  Iter     6:    Energy =   0.0119
Level     2,  Iter     7:    Energy =   0.0122
Level     2,  Iter     8:    Energy =   0.0124
Level     2,  Iter     9:    Energy =   0.0127
Level     2,  Iter    10:    Energy =   0.0129
Level     2,  Iter    11:    Energy =   0.0130
Level     2,  Iter    12:    Energy =   0.0132
Level     2,  Iter    13:    Energy =   0.0134
Level     2,  Iter    14:    Energy =   0.0135
Level     2,  Iter    15:    Energy =   0.0137
Level     2,  Iter    16:    Energy =   0.0137
Level     2,  Iter    17:    Energy =   0.0138
Level     2,  Iter    18:    Energy =   0.0139
Level     2,  Iter    19:    Energy =   0.0140
END OF LEVEL     2    DetJac Range:   0.0426  to   2.6887 
  Avg. Gradient Time  : 0.1843s  31.86% 
  Avg. Gaussian Time  : 0.3148s  54.41% 
  Avg. Iteration Time : 0.5785s 

real	0m20.787s
user	0m36.116s
sys	0m2.420s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.208571 0.212857
+ echo 'CHUNK 0.208571 0.212857 1'
CHUNK 0.208571 0.212857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.208571 0.212857 1
====================================
         PROGRESS: 0.208571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 326.38   GNORM= 232.822
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -201.569     241.684       0.021
   2    9      -214.669     145.410       0.564
   3   12      -500.066      90.865       0.724
   4   15      -647.345      83.499       0.670
   5   16      -662.654     118.706       1.000
   6   17      -698.573      28.143       1.000
   7   20      -699.002      33.607       0.677
   8   21      -705.100      27.217       1.000
   9   22      -731.717      47.690       1.000
  10   24      -748.392      60.883       0.261
  11   25      -759.302      34.709       1.000
  12   26      -773.276      71.077       1.000
  13   27      -773.800      76.421       1.000
  14   29      -775.111      29.472       0.316
  15   30      -775.112      24.728       1.000
  16   35      -776.286      22.674       0.000
  17   39      -777.111      28.620       0.407
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10702 -0.0660755 0.145067 -4.67712 
-0.0157888 1.11122 -0.095211 2.955 
-0.0647461 -0.246724 0.916455 -4.77592 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -342.091   GNORM= 185.747
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -343.318     135.114       0.000
   2    5      -357.798      72.551       5.000
   3    8      -386.125      51.098       3.190
   4   10      -390.329      31.122       0.420
   5   22      -393.317     103.948       0.998
   6   33      -394.304      31.980       0.013
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10777 -0.0645937 0.142456 -4.28773 
-0.0132001 1.10811 -0.0884501 2.50209 
-0.0598209 -0.251612 0.927328 -5.65296 
0 0 0 1 

Final RAS Transform: 
1.10777 -0.0645937 0.142456 -4.28773 
-0.0132001 1.10811 -0.0884501 2.50209 
-0.0598209 -0.251612 0.927328 -5.65296 
0 0 0 1 


real	0m5.637s
user	0m9.336s
sys	0m0.668s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.480991
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0152
Level     0,  Iter     1:    Energy =   0.0165
Level     0,  Iter     2:    Energy =   0.0186
Level     0,  Iter     3:    Energy =   0.0206
Level     0,  Iter     4:    Energy =   0.0225
Level     0,  Iter     5:    Energy =   0.0239
Level     0,  Iter     6:    Energy =   0.0250
Level     0,  Iter     7:    Energy =   0.0256
Level     0,  Iter     8:    Energy =   0.0263
Level     0,  Iter     9:    Energy =   0.0268
Level     0,  Iter    10:    Energy =   0.0272
Level     0,  Iter    11:    Energy =   0.0276
Level     0,  Iter    12:    Energy =   0.0280
Level     0,  Iter    13:    Energy =   0.0284
Level     0,  Iter    14:    Energy =   0.0287
Level     0,  Iter    15:    Energy =   0.0292
Level     0,  Iter    16:    Energy =   0.0298
Level     0,  Iter    17:    Energy =   0.0303
Level     0,  Iter    18:    Energy =   0.0309
Level     0,  Iter    19:    Energy =   0.0315
Level     0,  Iter    20:    Energy =   0.0321
Level     0,  Iter    21:    Energy =   0.0327
Level     0,  Iter    22:    Energy =   0.0332
Level     0,  Iter    23:    Energy =   0.0337
Level     0,  Iter    24:    Energy =   0.0341
Level     0,  Iter    25:    Energy =   0.0345
Level     0,  Iter    26:    Energy =   0.0349
Level     0,  Iter    27:    Energy =   0.0352
Level     0,  Iter    28:    Energy =   0.0356
Level     0,  Iter    29:    Energy =   0.0359
Level     0,  Iter    30:    Energy =   0.0361
Level     0,  Iter    31:    Energy =   0.0364
Level     0,  Iter    32:    Energy =   0.0365
Level     0,  Iter    33:    Energy =   0.0367
Level     0,  Iter    34:    Energy =   0.0368
Level     0,  Iter    35:    Energy =   0.0369
Level     0,  Iter    36:    Energy =   0.0370
Level     0,  Iter    37:    Energy =   0.0372
Level     0,  Iter    38:    Energy =   0.0373
Level     0,  Iter    39:    Energy =   0.0374
Level     0,  Iter    40:    Energy =   0.0375
Level     0,  Iter    41:    Energy =   0.0376
Level     0,  Iter    42:    Energy =   0.0377
Level     0,  Iter    43:    Energy =   0.0378
Level     0,  Iter    44:    Energy =   0.0379
Level     0,  Iter    45:    Energy =   0.0379
Level     0,  Iter    46:    Energy =   0.0380
Level     0,  Iter    47:    Energy =   0.0381
Level     0,  Iter    48:    Energy =   0.0382
Level     0,  Iter    49:    Energy =   0.0383
Level     0,  Iter    50:    Energy =   0.0384
Level     0,  Iter    51:    Energy =   0.0386
Level     0,  Iter    52:    Energy =   0.0387
Level     0,  Iter    53:    Energy =   0.0388
Level     0,  Iter    54:    Energy =   0.0389
Level     0,  Iter    55:    Energy =   0.0390
Level     0,  Iter    56:    Energy =   0.0391
Level     0,  Iter    57:    Energy =   0.0392
Level     0,  Iter    58:    Energy =   0.0392
Level     0,  Iter    59:    Energy =   0.0393
END OF LEVEL     0    DetJac Range:   0.0289  to   2.5470 
  Avg. Gradient Time  : 0.0071s  32.85% 
  Avg. Gaussian Time  : 0.0105s  48.29% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0220
Level     1,  Iter     1:    Energy =   0.0230
Level     1,  Iter     2:    Energy =   0.0238
Level     1,  Iter     3:    Energy =   0.0244
Level     1,  Iter     4:    Energy =   0.0248
Level     1,  Iter     5:    Energy =   0.0252
Level     1,  Iter     6:    Energy =   0.0255
Level     1,  Iter     7:    Energy =   0.0258
Level     1,  Iter     8:    Energy =   0.0260
Level     1,  Iter     9:    Energy =   0.0262
Level     1,  Iter    10:    Energy =   0.0264
Level     1,  Iter    11:    Energy =   0.0266
Level     1,  Iter    12:    Energy =   0.0269
Level     1,  Iter    13:    Energy =   0.0272
Level     1,  Iter    14:    Energy =   0.0275
Level     1,  Iter    15:    Energy =   0.0279
Level     1,  Iter    16:    Energy =   0.0283
Level     1,  Iter    17:    Energy =   0.0286
Level     1,  Iter    18:    Energy =   0.0289
Level     1,  Iter    19:    Energy =   0.0291
Level     1,  Iter    20:    Energy =   0.0293
Level     1,  Iter    21:    Energy =   0.0295
Level     1,  Iter    22:    Energy =   0.0296
Level     1,  Iter    23:    Energy =   0.0297
Level     1,  Iter    24:    Energy =   0.0299
Level     1,  Iter    25:    Energy =   0.0300
Level     1,  Iter    26:    Energy =   0.0301
Level     1,  Iter    27:    Energy =   0.0302
Level     1,  Iter    28:    Energy =   0.0303
Level     1,  Iter    29:    Energy =   0.0303
Level     1,  Iter    30:    Energy =   0.0304
Level     1,  Iter    31:    Energy =   0.0305
Level     1,  Iter    32:    Energy =   0.0305
Level     1,  Iter    33:    Energy =   0.0306
Level     1,  Iter    34:    Energy =   0.0306
Level     1,  Iter    35:    Energy =   0.0306
Level     1,  Iter    36:    Energy =   0.0306
Level     1,  Iter    37:    Energy =   0.0306
Level     1,  Iter    38:    Energy =   0.0305
Level     1,  Iter    39:    Energy =   0.0305
Level     1,  Iter    40:    Energy =   0.0305
Level     1,  Iter    41:    Energy =   0.0305
Level     1,  Iter    42:    Energy =   0.0305
Level     1,  Iter    43:    Energy =   0.0304
Level     1,  Iter    44:    Energy =   0.0304
Level     1,  Iter    45:    Energy =   0.0304
Level     1,  Iter    46:    Energy =   0.0304
Level     1,  Iter    47:    Energy =   0.0304
Level     1,  Iter    48:    Energy =   0.0304
Level     1,  Iter    49:    Energy =   0.0303
Level     1,  Iter    50:    Energy =   0.0303
Level     1,  Iter    51:    Energy =   0.0303
Level     1,  Iter    52:    Energy =   0.0303
Level     1,  Iter    53:    Energy =   0.0303
Level     1,  Iter    54:    Energy =   0.0303
Level     1,  Iter    55:    Energy =   0.0303
Level     1,  Iter    56:    Energy =   0.0303
Level     1,  Iter    57:    Energy =   0.0302
Level     1,  Iter    58:    Energy =   0.0302
Level     1,  Iter    59:    Energy =   0.0302
END OF LEVEL     1    DetJac Range:   0.0245  to   2.9255 
  Avg. Gradient Time  : 0.0288s  33.61% 
  Avg. Gaussian Time  : 0.0449s  52.50% 
  Avg. Iteration Time : 0.0856s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0114
Level     2,  Iter     1:    Energy =   0.0121
Level     2,  Iter     2:    Energy =   0.0127
Level     2,  Iter     3:    Energy =   0.0133
Level     2,  Iter     4:    Energy =   0.0138
Level     2,  Iter     5:    Energy =   0.0143
Level     2,  Iter     6:    Energy =   0.0148
Level     2,  Iter     7:    Energy =   0.0151
Level     2,  Iter     8:    Energy =   0.0154
Level     2,  Iter     9:    Energy =   0.0156
Level     2,  Iter    10:    Energy =   0.0159
Level     2,  Iter    11:    Energy =   0.0161
Level     2,  Iter    12:    Energy =   0.0163
Level     2,  Iter    13:    Energy =   0.0165
Level     2,  Iter    14:    Energy =   0.0167
Level     2,  Iter    15:    Energy =   0.0169
Level     2,  Iter    16:    Energy =   0.0170
Level     2,  Iter    17:    Energy =   0.0172
Level     2,  Iter    18:    Energy =   0.0174
Level     2,  Iter    19:    Energy =   0.0176
END OF LEVEL     2    DetJac Range:   0.0099  to   4.2302 
  Avg. Gradient Time  : 0.1866s  31.71% 
  Avg. Gaussian Time  : 0.3199s  54.38% 
  Avg. Iteration Time : 0.5883s 

real	0m20.978s
user	0m36.568s
sys	0m2.308s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.212857 0.217143
+ echo 'CHUNK 0.212857 0.217143 1'
CHUNK 0.212857 0.217143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.212857 0.217143 1
====================================
         PROGRESS: 0.212857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.512
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 283.602   GNORM= 121.279
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       210.715      72.470       0.008
   2    3        64.584      82.007       1.000
   3    4       -24.918      30.745       1.000
   4   10      -564.581      65.771       2.705
   5   15      -565.818      68.302       0.000
   6   16      -569.005      85.057       1.000
   7   18      -570.612     186.974       0.122
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.1167 0.118291 0.220595 -6.31095 
-0.0875967 1.20018 -0.131582 4.35615 
-0.00782318 -0.259476 0.911762 -6.34701 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -175.318   GNORM= 817.009
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -176.235     205.648       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.1167 0.118293 0.220593 -6.3108 
-0.0875829 1.20016 -0.131559 4.3543 
-0.0078466 -0.259445 0.911724 -6.34398 
0 0 0 1 

Final RAS Transform: 
1.1167 0.118293 0.220593 -6.3108 
-0.0875829 1.20016 -0.131559 4.3543 
-0.0078466 -0.259445 0.911724 -6.34398 
0 0 0 1 


real	0m3.796s
user	0m5.996s
sys	0m0.436s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.384585
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0111
Level     0,  Iter     1:    Energy =   0.0122
Level     0,  Iter     2:    Energy =   0.0139
Level     0,  Iter     3:    Energy =   0.0155
Level     0,  Iter     4:    Energy =   0.0167
Level     0,  Iter     5:    Energy =   0.0177
Level     0,  Iter     6:    Energy =   0.0185
Level     0,  Iter     7:    Energy =   0.0192
Level     0,  Iter     8:    Energy =   0.0198
Level     0,  Iter     9:    Energy =   0.0205
Level     0,  Iter    10:    Energy =   0.0209
Level     0,  Iter    11:    Energy =   0.0214
Level     0,  Iter    12:    Energy =   0.0219
Level     0,  Iter    13:    Energy =   0.0224
Level     0,  Iter    14:    Energy =   0.0230
Level     0,  Iter    15:    Energy =   0.0237
Level     0,  Iter    16:    Energy =   0.0241
Level     0,  Iter    17:    Energy =   0.0248
Level     0,  Iter    18:    Energy =   0.0250
Level     0,  Iter    19:    Energy =   0.0253
Level     0,  Iter    20:    Energy =   0.0255
Level     0,  Iter    21:    Energy =   0.0259
Level     0,  Iter    22:    Energy =   0.0259
Level     0,  Iter    23:    Energy =   0.0261
Level     0,  Iter    24:    Energy =   0.0263
Level     0,  Iter    25:    Energy =   0.0264
Level     0,  Iter    26:    Energy =   0.0266
Level     0,  Iter    27:    Energy =   0.0266
Level     0,  Iter    28:    Energy =   0.0266
Level     0,  Iter    29:    Energy =   0.0268
Level     0,  Iter    30:    Energy =   0.0270
Level     0,  Iter    31:    Energy =   0.0272
Level     0,  Iter    32:    Energy =   0.0274
Level     0,  Iter    33:    Energy =   0.0276
Level     0,  Iter    34:    Energy =   0.0276
Level     0,  Iter    35:    Energy =   0.0277
Level     0,  Iter    36:    Energy =   0.0277
Level     0,  Iter    37:    Energy =   0.0278
Level     0,  Iter    38:    Energy =   0.0279
Level     0,  Iter    39:    Energy =   0.0281
Level     0,  Iter    40:    Energy =   0.0282
Level     0,  Iter    41:    Energy =   0.0284
Level     0,  Iter    42:    Energy =   0.0286
Level     0,  Iter    43:    Energy =   0.0289
Level     0,  Iter    44:    Energy =   0.0291
Level     0,  Iter    45:    Energy =   0.0293
Level     0,  Iter    46:    Energy =   0.0295
Level     0,  Iter    47:    Energy =   0.0296
Level     0,  Iter    48:    Energy =   0.0297
Level     0,  Iter    49:    Energy =   0.0299
Level     0,  Iter    50:    Energy =   0.0300
Level     0,  Iter    51:    Energy =   0.0302
Level     0,  Iter    52:    Energy =   0.0303
Level     0,  Iter    53:    Energy =   0.0305
Level     0,  Iter    54:    Energy =   0.0306
Level     0,  Iter    55:    Energy =   0.0307
Level     0,  Iter    56:    Energy =   0.0309
Level     0,  Iter    57:    Energy =   0.0310
Level     0,  Iter    58:    Energy =   0.0310
Level     0,  Iter    59:    Energy =   0.0312
END OF LEVEL     0    DetJac Range:   0.0175  to   2.3454 
  Avg. Gradient Time  : 0.0071s  33.01% 
  Avg. Gaussian Time  : 0.0104s  48.46% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0178
Level     1,  Iter     1:    Energy =   0.0186
Level     1,  Iter     2:    Energy =   0.0192
Level     1,  Iter     3:    Energy =   0.0198
Level     1,  Iter     4:    Energy =   0.0203
Level     1,  Iter     5:    Energy =   0.0207
Level     1,  Iter     6:    Energy =   0.0211
Level     1,  Iter     7:    Energy =   0.0214
Level     1,  Iter     8:    Energy =   0.0217
Level     1,  Iter     9:    Energy =   0.0220
Level     1,  Iter    10:    Energy =   0.0222
Level     1,  Iter    11:    Energy =   0.0224
Level     1,  Iter    12:    Energy =   0.0226
Level     1,  Iter    13:    Energy =   0.0227
Level     1,  Iter    14:    Energy =   0.0229
Level     1,  Iter    15:    Energy =   0.0230
Level     1,  Iter    16:    Energy =   0.0231
Level     1,  Iter    17:    Energy =   0.0232
Level     1,  Iter    18:    Energy =   0.0233
Level     1,  Iter    19:    Energy =   0.0234
Level     1,  Iter    20:    Energy =   0.0235
Level     1,  Iter    21:    Energy =   0.0235
Level     1,  Iter    22:    Energy =   0.0236
Level     1,  Iter    23:    Energy =   0.0236
Level     1,  Iter    24:    Energy =   0.0237
Level     1,  Iter    25:    Energy =   0.0237
Level     1,  Iter    26:    Energy =   0.0238
Level     1,  Iter    27:    Energy =   0.0238
Level     1,  Iter    28:    Energy =   0.0239
Level     1,  Iter    29:    Energy =   0.0239
Level     1,  Iter    30:    Energy =   0.0239
Level     1,  Iter    31:    Energy =   0.0240
Level     1,  Iter    32:    Energy =   0.0240
Level     1,  Iter    33:    Energy =   0.0240
Level     1,  Iter    34:    Energy =   0.0240
Level     1,  Iter    35:    Energy =   0.0240
Level     1,  Iter    36:    Energy =   0.0241
Level     1,  Iter    37:    Energy =   0.0241
Level     1,  Iter    38:    Energy =   0.0241
Level     1,  Iter    39:    Energy =   0.0241
Level     1,  Iter    40:    Energy =   0.0241
Level     1,  Iter    41:    Energy =   0.0241
Level     1,  Iter    42:    Energy =   0.0242
Level     1,  Iter    43:    Energy =   0.0242
Level     1,  Iter    44:    Energy =   0.0242
Level     1,  Iter    45:    Energy =   0.0242
Level     1,  Iter    46:    Energy =   0.0242
Level     1,  Iter    47:    Energy =   0.0242
Level     1,  Iter    48:    Energy =   0.0242
Level     1,  Iter    49:    Energy =   0.0243
Level     1,  Iter    50:    Energy =   0.0243
Level     1,  Iter    51:    Energy =   0.0243
Level     1,  Iter    52:    Energy =   0.0243
Level     1,  Iter    53:    Energy =   0.0243
Level     1,  Iter    54:    Energy =   0.0243
Level     1,  Iter    55:    Energy =   0.0244
Level     1,  Iter    56:    Energy =   0.0244
Level     1,  Iter    57:    Energy =   0.0244
Level     1,  Iter    58:    Energy =   0.0244
Level     1,  Iter    59:    Energy =   0.0245
END OF LEVEL     1    DetJac Range:   0.0116  to   2.3206 
  Avg. Gradient Time  : 0.0285s  33.50% 
  Avg. Gaussian Time  : 0.0447s  52.52% 
  Avg. Iteration Time : 0.0851s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0102
Level     2,  Iter     1:    Energy =   0.0108
Level     2,  Iter     2:    Energy =   0.0112
Level     2,  Iter     3:    Energy =   0.0117
Level     2,  Iter     4:    Energy =   0.0120
Level     2,  Iter     5:    Energy =   0.0124
Level     2,  Iter     6:    Energy =   0.0126
Level     2,  Iter     7:    Energy =   0.0128
Level     2,  Iter     8:    Energy =   0.0130
Level     2,  Iter     9:    Energy =   0.0131
Level     2,  Iter    10:    Energy =   0.0133
Level     2,  Iter    11:    Energy =   0.0134
Level     2,  Iter    12:    Energy =   0.0135
Level     2,  Iter    13:    Energy =   0.0136
Level     2,  Iter    14:    Energy =   0.0137
Level     2,  Iter    15:    Energy =   0.0138
Level     2,  Iter    16:    Energy =   0.0139
Level     2,  Iter    17:    Energy =   0.0140
Level     2,  Iter    18:    Energy =   0.0141
Level     2,  Iter    19:    Energy =   0.0142
END OF LEVEL     2    DetJac Range:   0.0117  to   2.3510 
  Avg. Gradient Time  : 0.1941s  31.83% 
  Avg. Gaussian Time  : 0.3324s  54.52% 
  Avg. Iteration Time : 0.6096s 

real	0m21.418s
user	0m37.308s
sys	0m2.388s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217143 0.221429
+ echo 'CHUNK 0.217143 0.221429 1'
CHUNK 0.217143 0.221429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217143 0.221429 1
====================================
         PROGRESS: 0.217143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.565
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 279.374   GNORM= 232.77
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -432.323      77.208       0.021
   2    4      -570.703     128.575       1.000
   3    9      -573.100     114.293       0.001
   4   10      -592.478     116.500       1.000
   5   11      -633.341      44.840       1.000
   6   12      -641.582      42.891       1.000
   7   16      -678.379      57.220       1.276
   8   18      -705.090      24.698       5.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.1306 -0.0256416 0.218531 -4.23784 
-0.0805532 1.1508 -0.203499 3.77485 
0.0668308 -0.230142 0.894118 -4.85635 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -272.484   GNORM= 4870.55
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -273.333     173.167       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13064 -0.0257091 0.218661 -4.24346 
-0.0808449 1.15117 -0.20379 3.80801 
0.0673804 -0.23088 0.894929 -4.92375 
0 0 0 1 

Final RAS Transform: 
1.13064 -0.0257091 0.218661 -4.24346 
-0.0808449 1.15117 -0.20379 3.80801 
0.0673804 -0.23088 0.894929 -4.92375 
0 0 0 1 


real	0m3.690s
user	0m5.820s
sys	0m0.432s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.385444
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0134
Level     0,  Iter     1:    Energy =   0.0147
Level     0,  Iter     2:    Energy =   0.0167
Level     0,  Iter     3:    Energy =   0.0181
Level     0,  Iter     4:    Energy =   0.0193
Level     0,  Iter     5:    Energy =   0.0206
Level     0,  Iter     6:    Energy =   0.0218
Level     0,  Iter     7:    Energy =   0.0226
Level     0,  Iter     8:    Energy =   0.0233
Level     0,  Iter     9:    Energy =   0.0242
Level     0,  Iter    10:    Energy =   0.0250
Level     0,  Iter    11:    Energy =   0.0257
Level     0,  Iter    12:    Energy =   0.0259
Level     0,  Iter    13:    Energy =   0.0261
Level     0,  Iter    14:    Energy =   0.0260
Level     0,  Iter    15:    Energy =   0.0260
Level     0,  Iter    16:    Energy =   0.0260
Level     0,  Iter    17:    Energy =   0.0262
Level     0,  Iter    18:    Energy =   0.0262
Level     0,  Iter    19:    Energy =   0.0265
Level     0,  Iter    20:    Energy =   0.0265
Level     0,  Iter    21:    Energy =   0.0268
Level     0,  Iter    22:    Energy =   0.0270
Level     0,  Iter    23:    Energy =   0.0270
Level     0,  Iter    24:    Energy =   0.0270
Level     0,  Iter    25:    Energy =   0.0271
Level     0,  Iter    26:    Energy =   0.0271
Level     0,  Iter    27:    Energy =   0.0271
Level     0,  Iter    28:    Energy =   0.0273
Level     0,  Iter    29:    Energy =   0.0274
Level     0,  Iter    30:    Energy =   0.0276
Level     0,  Iter    31:    Energy =   0.0277
Level     0,  Iter    32:    Energy =   0.0279
Level     0,  Iter    33:    Energy =   0.0281
Level     0,  Iter    34:    Energy =   0.0283
Level     0,  Iter    35:    Energy =   0.0285
Level     0,  Iter    36:    Energy =   0.0287
Level     0,  Iter    37:    Energy =   0.0288
Level     0,  Iter    38:    Energy =   0.0290
Level     0,  Iter    39:    Energy =   0.0291
Level     0,  Iter    40:    Energy =   0.0292
Level     0,  Iter    41:    Energy =   0.0293
Level     0,  Iter    42:    Energy =   0.0295
Level     0,  Iter    43:    Energy =   0.0296
Level     0,  Iter    44:    Energy =   0.0297
Level     0,  Iter    45:    Energy =   0.0298
Level     0,  Iter    46:    Energy =   0.0299
Level     0,  Iter    47:    Energy =   0.0299
Level     0,  Iter    48:    Energy =   0.0300
Level     0,  Iter    49:    Energy =   0.0300
Level     0,  Iter    50:    Energy =   0.0301
Level     0,  Iter    51:    Energy =   0.0301
Level     0,  Iter    52:    Energy =   0.0301
Level     0,  Iter    53:    Energy =   0.0301
Level     0,  Iter    54:    Energy =   0.0302
Level     0,  Iter    55:    Energy =   0.0302
Level     0,  Iter    56:    Energy =   0.0302
Level     0,  Iter    57:    Energy =   0.0302
Level     0,  Iter    58:    Energy =   0.0302
Level     0,  Iter    59:    Energy =   0.0302
END OF LEVEL     0    DetJac Range:   0.0702  to   1.9114 
  Avg. Gradient Time  : 0.0075s  33.21% 
  Avg. Gaussian Time  : 0.0109s  48.11% 
  Avg. Iteration Time : 0.0227s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0147
Level     1,  Iter     1:    Energy =   0.0155
Level     1,  Iter     2:    Energy =   0.0161
Level     1,  Iter     3:    Energy =   0.0168
Level     1,  Iter     4:    Energy =   0.0174
Level     1,  Iter     5:    Energy =   0.0179
Level     1,  Iter     6:    Energy =   0.0184
Level     1,  Iter     7:    Energy =   0.0188
Level     1,  Iter     8:    Energy =   0.0192
Level     1,  Iter     9:    Energy =   0.0196
Level     1,  Iter    10:    Energy =   0.0199
Level     1,  Iter    11:    Energy =   0.0202
Level     1,  Iter    12:    Energy =   0.0204
Level     1,  Iter    13:    Energy =   0.0205
Level     1,  Iter    14:    Energy =   0.0207
Level     1,  Iter    15:    Energy =   0.0208
Level     1,  Iter    16:    Energy =   0.0209
Level     1,  Iter    17:    Energy =   0.0210
Level     1,  Iter    18:    Energy =   0.0210
Level     1,  Iter    19:    Energy =   0.0211
Level     1,  Iter    20:    Energy =   0.0212
Level     1,  Iter    21:    Energy =   0.0213
Level     1,  Iter    22:    Energy =   0.0213
Level     1,  Iter    23:    Energy =   0.0213
Level     1,  Iter    24:    Energy =   0.0213
Level     1,  Iter    25:    Energy =   0.0213
Level     1,  Iter    26:    Energy =   0.0213
Level     1,  Iter    27:    Energy =   0.0213
Level     1,  Iter    28:    Energy =   0.0213
Level     1,  Iter    29:    Energy =   0.0213
Level     1,  Iter    30:    Energy =   0.0213
Level     1,  Iter    31:    Energy =   0.0214
Level     1,  Iter    32:    Energy =   0.0213
Level     1,  Iter    33:    Energy =   0.0213
Level     1,  Iter    34:    Energy =   0.0213
Level     1,  Iter    35:    Energy =   0.0213
Level     1,  Iter    36:    Energy =   0.0212
Level     1,  Iter    37:    Energy =   0.0212
Level     1,  Iter    38:    Energy =   0.0212
Level     1,  Iter    39:    Energy =   0.0211
Level     1,  Iter    40:    Energy =   0.0211
Level     1,  Iter    41:    Energy =   0.0210
Level     1,  Iter    42:    Energy =   0.0210
Level     1,  Iter    43:    Energy =   0.0210
Level     1,  Iter    44:    Energy =   0.0209
Level     1,  Iter    45:    Energy =   0.0209
Level     1,  Iter    46:    Energy =   0.0209
Level     1,  Iter    47:    Energy =   0.0209
Level     1,  Iter    48:    Energy =   0.0209
Level     1,  Iter    49:    Energy =   0.0208
Level     1,  Iter    50:    Energy =   0.0208
Level     1,  Iter    51:    Energy =   0.0208
Level     1,  Iter    52:    Energy =   0.0208
Level     1,  Iter    53:    Energy =   0.0208
Level     1,  Iter    54:    Energy =   0.0209
Level     1,  Iter    55:    Energy =   0.0209
Level     1,  Iter    56:    Energy =   0.0209
Level     1,  Iter    57:    Energy =   0.0209
Level     1,  Iter    58:    Energy =   0.0209
Level     1,  Iter    59:    Energy =   0.0209
END OF LEVEL     1    DetJac Range:   0.0497  to   1.9751 
  Avg. Gradient Time  : 0.0295s  33.51% 
  Avg. Gaussian Time  : 0.0463s  52.57% 
  Avg. Iteration Time : 0.0880s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0087
Level     2,  Iter     1:    Energy =   0.0090
Level     2,  Iter     2:    Energy =   0.0093
Level     2,  Iter     3:    Energy =   0.0095
Level     2,  Iter     4:    Energy =   0.0096
Level     2,  Iter     5:    Energy =   0.0098
Level     2,  Iter     6:    Energy =   0.0099
Level     2,  Iter     7:    Energy =   0.0101
Level     2,  Iter     8:    Energy =   0.0102
Level     2,  Iter     9:    Energy =   0.0104
Level     2,  Iter    10:    Energy =   0.0105
Level     2,  Iter    11:    Energy =   0.0106
Level     2,  Iter    12:    Energy =   0.0107
Level     2,  Iter    13:    Energy =   0.0108
Level     2,  Iter    14:    Energy =   0.0109
Level     2,  Iter    15:    Energy =   0.0110
Level     2,  Iter    16:    Energy =   0.0111
Level     2,  Iter    17:    Energy =   0.0111
Level     2,  Iter    18:    Energy =   0.0111
Level     2,  Iter    19:    Energy =   0.0112
END OF LEVEL     2    DetJac Range:   0.0553  to   1.8724 
  Avg. Gradient Time  : 0.1940s  31.70% 
  Avg. Gaussian Time  : 0.3337s  54.53% 
  Avg. Iteration Time : 0.6120s 

real	0m21.708s
user	0m37.848s
sys	0m2.472s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.221429 0.225714
+ echo 'CHUNK 0.221429 0.225714 1'
CHUNK 0.221429 0.225714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.221429 0.225714 1
====================================
         PROGRESS: 0.221429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.648
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 358.681   GNORM= 257.772
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -265.675     125.869       0.019
   2    5      -437.225      62.005       0.255
   3    6      -535.127     104.857       1.000
   4    8      -560.751     210.180       0.526
   5   10      -579.709      60.175       0.505
   6   13      -618.510      54.336       1.808
   7   16      -622.545      32.875       0.408
   8   19      -623.060      43.726       0.111
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12726 -0.0749291 0.177001 -2.94891 
-0.0943558 1.11075 -0.141453 3.72589 
0.0150517 -0.1535 1.0397 -4.02455 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -314.363   GNORM= 785.393
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -319.103      85.953       0.000
   2    5      -319.410      66.894       0.398
   3    9      -319.427      51.467       0.046
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12836 -0.075965 0.179189 -3.09283 
-0.0946983 1.11121 -0.141621 3.75268 
0.0169168 -0.155864 1.04237 -4.25234 
0 0 0 1 

Final RAS Transform: 
1.12836 -0.075965 0.179189 -3.09283 
-0.0946983 1.11121 -0.141621 3.75268 
0.0169168 -0.155864 1.04237 -4.25234 
0 0 0 1 


real	0m3.977s
user	0m6.256s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.468792
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0128
Level     0,  Iter     1:    Energy =   0.0142
Level     0,  Iter     2:    Energy =   0.0160
Level     0,  Iter     3:    Energy =   0.0174
Level     0,  Iter     4:    Energy =   0.0187
Level     0,  Iter     5:    Energy =   0.0197
Level     0,  Iter     6:    Energy =   0.0206
Level     0,  Iter     7:    Energy =   0.0214
Level     0,  Iter     8:    Energy =   0.0222
Level     0,  Iter     9:    Energy =   0.0229
Level     0,  Iter    10:    Energy =   0.0234
Level     0,  Iter    11:    Energy =   0.0240
Level     0,  Iter    12:    Energy =   0.0244
Level     0,  Iter    13:    Energy =   0.0248
Level     0,  Iter    14:    Energy =   0.0251
Level     0,  Iter    15:    Energy =   0.0253
Level     0,  Iter    16:    Energy =   0.0255
Level     0,  Iter    17:    Energy =   0.0257
Level     0,  Iter    18:    Energy =   0.0258
Level     0,  Iter    19:    Energy =   0.0260
Level     0,  Iter    20:    Energy =   0.0262
Level     0,  Iter    21:    Energy =   0.0264
Level     0,  Iter    22:    Energy =   0.0266
Level     0,  Iter    23:    Energy =   0.0268
Level     0,  Iter    24:    Energy =   0.0269
Level     0,  Iter    25:    Energy =   0.0271
Level     0,  Iter    26:    Energy =   0.0272
Level     0,  Iter    27:    Energy =   0.0274
Level     0,  Iter    28:    Energy =   0.0275
Level     0,  Iter    29:    Energy =   0.0277
Level     0,  Iter    30:    Energy =   0.0278
Level     0,  Iter    31:    Energy =   0.0279
Level     0,  Iter    32:    Energy =   0.0281
Level     0,  Iter    33:    Energy =   0.0282
Level     0,  Iter    34:    Energy =   0.0284
Level     0,  Iter    35:    Energy =   0.0285
Level     0,  Iter    36:    Energy =   0.0286
Level     0,  Iter    37:    Energy =   0.0287
Level     0,  Iter    38:    Energy =   0.0290
Level     0,  Iter    39:    Energy =   0.0294
Level     0,  Iter    40:    Energy =   0.0296
Level     0,  Iter    41:    Energy =   0.0298
Level     0,  Iter    42:    Energy =   0.0300
Level     0,  Iter    43:    Energy =   0.0301
Level     0,  Iter    44:    Energy =   0.0302
Level     0,  Iter    45:    Energy =   0.0303
Level     0,  Iter    46:    Energy =   0.0305
Level     0,  Iter    47:    Energy =   0.0305
Level     0,  Iter    48:    Energy =   0.0306
Level     0,  Iter    49:    Energy =   0.0306
Level     0,  Iter    50:    Energy =   0.0307
Level     0,  Iter    51:    Energy =   0.0307
Level     0,  Iter    52:    Energy =   0.0308
Level     0,  Iter    53:    Energy =   0.0308
Level     0,  Iter    54:    Energy =   0.0309
Level     0,  Iter    55:    Energy =   0.0309
Level     0,  Iter    56:    Energy =   0.0310
Level     0,  Iter    57:    Energy =   0.0310
Level     0,  Iter    58:    Energy =   0.0311
Level     0,  Iter    59:    Energy =   0.0311
END OF LEVEL     0    DetJac Range:   0.0222  to   2.1627 
  Avg. Gradient Time  : 0.0074s  32.84% 
  Avg. Gaussian Time  : 0.0109s  48.22% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0198
Level     1,  Iter     1:    Energy =   0.0205
Level     1,  Iter     2:    Energy =   0.0211
Level     1,  Iter     3:    Energy =   0.0217
Level     1,  Iter     4:    Energy =   0.0222
Level     1,  Iter     5:    Energy =   0.0227
Level     1,  Iter     6:    Energy =   0.0232
Level     1,  Iter     7:    Energy =   0.0237
Level     1,  Iter     8:    Energy =   0.0241
Level     1,  Iter     9:    Energy =   0.0244
Level     1,  Iter    10:    Energy =   0.0246
Level     1,  Iter    11:    Energy =   0.0249
Level     1,  Iter    12:    Energy =   0.0252
Level     1,  Iter    13:    Energy =   0.0255
Level     1,  Iter    14:    Energy =   0.0258
Level     1,  Iter    15:    Energy =   0.0261
Level     1,  Iter    16:    Energy =   0.0262
Level     1,  Iter    17:    Energy =   0.0264
Level     1,  Iter    18:    Energy =   0.0266
Level     1,  Iter    19:    Energy =   0.0268
Level     1,  Iter    20:    Energy =   0.0270
Level     1,  Iter    21:    Energy =   0.0272
Level     1,  Iter    22:    Energy =   0.0274
Level     1,  Iter    23:    Energy =   0.0275
Level     1,  Iter    24:    Energy =   0.0276
Level     1,  Iter    25:    Energy =   0.0276
Level     1,  Iter    26:    Energy =   0.0276
Level     1,  Iter    27:    Energy =   0.0276
Level     1,  Iter    28:    Energy =   0.0276
Level     1,  Iter    29:    Energy =   0.0277
Level     1,  Iter    30:    Energy =   0.0277
Level     1,  Iter    31:    Energy =   0.0278
Level     1,  Iter    32:    Energy =   0.0278
Level     1,  Iter    33:    Energy =   0.0279
Level     1,  Iter    34:    Energy =   0.0279
Level     1,  Iter    35:    Energy =   0.0280
Level     1,  Iter    36:    Energy =   0.0281
Level     1,  Iter    37:    Energy =   0.0281
Level     1,  Iter    38:    Energy =   0.0282
Level     1,  Iter    39:    Energy =   0.0282
Level     1,  Iter    40:    Energy =   0.0283
Level     1,  Iter    41:    Energy =   0.0283
Level     1,  Iter    42:    Energy =   0.0284
Level     1,  Iter    43:    Energy =   0.0285
Level     1,  Iter    44:    Energy =   0.0285
Level     1,  Iter    45:    Energy =   0.0286
Level     1,  Iter    46:    Energy =   0.0286
Level     1,  Iter    47:    Energy =   0.0287
Level     1,  Iter    48:    Energy =   0.0288
Level     1,  Iter    49:    Energy =   0.0288
Level     1,  Iter    50:    Energy =   0.0289
Level     1,  Iter    51:    Energy =   0.0289
Level     1,  Iter    52:    Energy =   0.0290
Level     1,  Iter    53:    Energy =   0.0291
Level     1,  Iter    54:    Energy =   0.0292
Level     1,  Iter    55:    Energy =   0.0292
Level     1,  Iter    56:    Energy =   0.0293
Level     1,  Iter    57:    Energy =   0.0293
Level     1,  Iter    58:    Energy =   0.0294
Level     1,  Iter    59:    Energy =   0.0294
END OF LEVEL     1    DetJac Range:   0.0127  to   2.7745 
  Avg. Gradient Time  : 0.0308s  34.05% 
  Avg. Gaussian Time  : 0.0470s  52.03% 
  Avg. Iteration Time : 0.0903s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0115
Level     2,  Iter     1:    Energy =   0.0121
Level     2,  Iter     2:    Energy =   0.0127
Level     2,  Iter     3:    Energy =   0.0134
Level     2,  Iter     4:    Energy =   0.0139
Level     2,  Iter     5:    Energy =   0.0143
Level     2,  Iter     6:    Energy =   0.0147
Level     2,  Iter     7:    Energy =   0.0150
Level     2,  Iter     8:    Energy =   0.0150
Level     2,  Iter     9:    Energy =   0.0152
Level     2,  Iter    10:    Energy =   0.0155
Level     2,  Iter    11:    Energy =   0.0157
Level     2,  Iter    12:    Energy =   0.0160
Level     2,  Iter    13:    Energy =   0.0162
Level     2,  Iter    14:    Energy =   0.0165
Level     2,  Iter    15:    Energy =   0.0167
Level     2,  Iter    16:    Energy =   0.0170
Level     2,  Iter    17:    Energy =   0.0172
Level     2,  Iter    18:    Energy =   0.0174
Level     2,  Iter    19:    Energy =   0.0176
END OF LEVEL     2    DetJac Range:   0.0135  to   3.4247 
  Avg. Gradient Time  : 0.1966s  31.94% 
  Avg. Gaussian Time  : 0.3354s  54.47% 
  Avg. Iteration Time : 0.6157s 

real	0m21.887s
user	0m38.204s
sys	0m2.448s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.225714 0.23
+ echo 'CHUNK 0.225714 0.23 1'
CHUNK 0.225714 0.23 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.225714 0.23 1
====================================
         PROGRESS: 0.225714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.485
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 269.242   GNORM= 252.743
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2         1.034     225.320       0.004
   2    3       -69.788      80.730       1.000
   3    4      -252.816      19.395       1.000
   4    5      -277.635      26.181       1.000
   5    6      -359.496      63.730       1.000
   6    7      -473.342     117.826       1.000
   7   10      -492.238      92.225       0.048
   8   13      -572.527      57.837       1.425
   9   17      -581.668      33.684       0.197
  10   18      -594.801     109.893       1.000
  11   20      -603.466      48.635       0.203
  12   22      -631.452      41.000       5.000
  13   24      -690.806      41.023       0.467
  14   26      -693.901      42.077       0.182
  15   27      -705.180      28.254       1.000
  16   28      -719.139      32.533       1.000
  17   30      -740.904      32.434       0.159
  18   31      -748.257      33.943       1.000
  19   35      -753.459      27.420       1.519
  20   36      -762.242      19.043       1.000
  21   37      -764.980      35.841       1.000
  22   38      -766.226      75.847       1.000
  23   40      -776.302      84.496       0.339
  24   48      -776.322      35.417       0.005
  25   49      -782.998      18.773       1.000
  26   50      -784.967      22.620       1.000
  27   51      -787.635      18.750       1.000
  28   52      -790.166      23.490       1.000
  29   53      -793.036      35.686       1.000
  30   54      -798.289      21.016       1.000
  31   55      -801.082      20.942       1.000
  32   56      -802.971      35.168       1.000
  33   57      -803.412      22.206       1.000
  34   58      -805.972       5.761       1.000
  35   60      -807.068      70.390       5.000
Final RAS Transform: 
0.806602 -0.46427 0.990433 -5.55294 
-0.106484 0.941271 -0.0364067 1.25321 
0.039365 0.145724 0.897879 4.27952 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -352.137   GNORM= 43.3161
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -379.239      43.216       0.023
   2    3      -386.340      12.918       1.000
   3    4      -387.597      13.707       1.000
   4   10      -387.928      10.725       1.001
   5   16      -387.996       4.929       1.029
   6   18      -388.773       9.230       5.000
   7   19      -390.635      23.375       1.000
   8   23      -395.704     164.964       0.889
   9   30      -395.717      37.028       0.001
  10   31      -396.123      63.941       1.000
  11   37      -396.544      42.905       0.476
  12   38      -397.202      78.447       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.822771 -0.485056 0.933245 -4.61515 
-0.115434 0.938421 -0.00953775 1.56646 
0.0141017 0.200306 0.904478 2.36673 
0 0 0 1 

Final RAS Transform: 
0.822771 -0.485056 0.933245 -4.61515 
-0.115434 0.938421 -0.00953775 1.56646 
0.0141017 0.200306 0.904478 2.36673 
0 0 0 1 


real	0m5.936s
user	0m9.700s
sys	0m0.812s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.386715
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0176
Level     0,  Iter     1:    Energy =   0.0190
Level     0,  Iter     2:    Energy =   0.0201
Level     0,  Iter     3:    Energy =   0.0212
Level     0,  Iter     4:    Energy =   0.0221
Level     0,  Iter     5:    Energy =   0.0228
Level     0,  Iter     6:    Energy =   0.0233
Level     0,  Iter     7:    Energy =   0.0239
Level     0,  Iter     8:    Energy =   0.0247
Level     0,  Iter     9:    Energy =   0.0254
Level     0,  Iter    10:    Energy =   0.0259
Level     0,  Iter    11:    Energy =   0.0261
Level     0,  Iter    12:    Energy =   0.0265
Level     0,  Iter    13:    Energy =   0.0266
Level     0,  Iter    14:    Energy =   0.0268
Level     0,  Iter    15:    Energy =   0.0269
Level     0,  Iter    16:    Energy =   0.0273
Level     0,  Iter    17:    Energy =   0.0274
Level     0,  Iter    18:    Energy =   0.0275
Level     0,  Iter    19:    Energy =   0.0276
Level     0,  Iter    20:    Energy =   0.0280
Level     0,  Iter    21:    Energy =   0.0280
Level     0,  Iter    22:    Energy =   0.0283
Level     0,  Iter    23:    Energy =   0.0284
Level     0,  Iter    24:    Energy =   0.0289
Level     0,  Iter    25:    Energy =   0.0291
Level     0,  Iter    26:    Energy =   0.0295
Level     0,  Iter    27:    Energy =   0.0295
Level     0,  Iter    28:    Energy =   0.0299
Level     0,  Iter    29:    Energy =   0.0302
Level     0,  Iter    30:    Energy =   0.0306
Level     0,  Iter    31:    Energy =   0.0306
Level     0,  Iter    32:    Energy =   0.0307
Level     0,  Iter    33:    Energy =   0.0306
Level     0,  Iter    34:    Energy =   0.0310
Level     0,  Iter    35:    Energy =   0.0310
Level     0,  Iter    36:    Energy =   0.0308
Level     0,  Iter    37:    Energy =   0.0308
Level     0,  Iter    38:    Energy =   0.0312
Level     0,  Iter    39:    Energy =   0.0310
Level     0,  Iter    40:    Energy =   0.0309
Level     0,  Iter    41:    Energy =   0.0308
Level     0,  Iter    42:    Energy =   0.0313
Level     0,  Iter    43:    Energy =   0.0312
Level     0,  Iter    44:    Energy =   0.0310
Level     0,  Iter    45:    Energy =   0.0310
Level     0,  Iter    46:    Energy =   0.0315
Level     0,  Iter    47:    Energy =   0.0314
Level     0,  Iter    48:    Energy =   0.0313
Level     0,  Iter    49:    Energy =   0.0313
Level     0,  Iter    50:    Energy =   0.0316
Level     0,  Iter    51:    Energy =   0.0315
Level     0,  Iter    52:    Energy =   0.0314
Level     0,  Iter    53:    Energy =   0.0313
Level     0,  Iter    54:    Energy =   0.0317
Level     0,  Iter    55:    Energy =   0.0316
Level     0,  Iter    56:    Energy =   0.0317
Level     0,  Iter    57:    Energy =   0.0316
Level     0,  Iter    58:    Energy =   0.0319
Level     0,  Iter    59:    Energy =   0.0318
END OF LEVEL     0    DetJac Range:   0.1524  to   2.0458 
  Avg. Gradient Time  : 0.0067s  33.07% 
  Avg. Gaussian Time  : 0.0098s  48.30% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0162
Level     1,  Iter     1:    Energy =   0.0169
Level     1,  Iter     2:    Energy =   0.0175
Level     1,  Iter     3:    Energy =   0.0181
Level     1,  Iter     4:    Energy =   0.0185
Level     1,  Iter     5:    Energy =   0.0189
Level     1,  Iter     6:    Energy =   0.0192
Level     1,  Iter     7:    Energy =   0.0195
Level     1,  Iter     8:    Energy =   0.0198
Level     1,  Iter     9:    Energy =   0.0201
Level     1,  Iter    10:    Energy =   0.0203
Level     1,  Iter    11:    Energy =   0.0205
Level     1,  Iter    12:    Energy =   0.0207
Level     1,  Iter    13:    Energy =   0.0208
Level     1,  Iter    14:    Energy =   0.0209
Level     1,  Iter    15:    Energy =   0.0210
Level     1,  Iter    16:    Energy =   0.0211
Level     1,  Iter    17:    Energy =   0.0212
Level     1,  Iter    18:    Energy =   0.0214
Level     1,  Iter    19:    Energy =   0.0215
Level     1,  Iter    20:    Energy =   0.0216
Level     1,  Iter    21:    Energy =   0.0217
Level     1,  Iter    22:    Energy =   0.0218
Level     1,  Iter    23:    Energy =   0.0219
Level     1,  Iter    24:    Energy =   0.0221
Level     1,  Iter    25:    Energy =   0.0222
Level     1,  Iter    26:    Energy =   0.0223
Level     1,  Iter    27:    Energy =   0.0224
Level     1,  Iter    28:    Energy =   0.0223
Level     1,  Iter    29:    Energy =   0.0224
Level     1,  Iter    30:    Energy =   0.0224
Level     1,  Iter    31:    Energy =   0.0225
Level     1,  Iter    32:    Energy =   0.0226
Level     1,  Iter    33:    Energy =   0.0227
Level     1,  Iter    34:    Energy =   0.0225
Level     1,  Iter    35:    Energy =   0.0227
Level     1,  Iter    36:    Energy =   0.0227
Level     1,  Iter    37:    Energy =   0.0228
Level     1,  Iter    38:    Energy =   0.0227
Level     1,  Iter    39:    Energy =   0.0228
Level     1,  Iter    40:    Energy =   0.0228
Level     1,  Iter    41:    Energy =   0.0229
Level     1,  Iter    42:    Energy =   0.0228
Level     1,  Iter    43:    Energy =   0.0229
Level     1,  Iter    44:    Energy =   0.0230
Level     1,  Iter    45:    Energy =   0.0231
Level     1,  Iter    46:    Energy =   0.0230
Level     1,  Iter    47:    Energy =   0.0231
Level     1,  Iter    48:    Energy =   0.0231
Level     1,  Iter    49:    Energy =   0.0232
Level     1,  Iter    50:    Energy =   0.0231
Level     1,  Iter    51:    Energy =   0.0232
Level     1,  Iter    52:    Energy =   0.0232
Level     1,  Iter    53:    Energy =   0.0233
Level     1,  Iter    54:    Energy =   0.0232
Level     1,  Iter    55:    Energy =   0.0233
Level     1,  Iter    56:    Energy =   0.0233
Level     1,  Iter    57:    Energy =   0.0234
Level     1,  Iter    58:    Energy =   0.0233
Level     1,  Iter    59:    Energy =   0.0234
END OF LEVEL     1    DetJac Range:   0.0736  to   2.4743 
  Avg. Gradient Time  : 0.0286s  33.54% 
  Avg. Gaussian Time  : 0.0448s  52.53% 
  Avg. Iteration Time : 0.0853s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0090
Level     2,  Iter     1:    Energy =   0.0096
Level     2,  Iter     2:    Energy =   0.0103
Level     2,  Iter     3:    Energy =   0.0108
Level     2,  Iter     4:    Energy =   0.0111
Level     2,  Iter     5:    Energy =   0.0115
Level     2,  Iter     6:    Energy =   0.0118
Level     2,  Iter     7:    Energy =   0.0120
Level     2,  Iter     8:    Energy =   0.0122
Level     2,  Iter     9:    Energy =   0.0124
Level     2,  Iter    10:    Energy =   0.0126
Level     2,  Iter    11:    Energy =   0.0128
Level     2,  Iter    12:    Energy =   0.0130
Level     2,  Iter    13:    Energy =   0.0131
Level     2,  Iter    14:    Energy =   0.0133
Level     2,  Iter    15:    Energy =   0.0134
Level     2,  Iter    16:    Energy =   0.0136
Level     2,  Iter    17:    Energy =   0.0137
Level     2,  Iter    18:    Energy =   0.0138
Level     2,  Iter    19:    Energy =   0.0139
END OF LEVEL     2    DetJac Range:   0.0530  to   2.6120 
  Avg. Gradient Time  : 0.1781s  31.49% 
  Avg. Gaussian Time  : 0.3087s  54.59% 
  Avg. Iteration Time : 0.5655s 

real	0m20.345s
user	0m35.360s
sys	0m2.328s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.23 0.234286
+ echo 'CHUNK 0.23 0.234286 1'
CHUNK 0.23 0.234286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.23 0.234286 1
====================================
         PROGRESS: 0.23               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.618
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 259.347   GNORM= 223.834
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -371.430      93.575       0.022
   2    4      -376.721     154.468       1.000
   3    5      -491.983     115.924       1.000
   4   10      -616.284      87.106       1.067
   5   11      -654.243     143.514       1.000
   6   17      -656.959     342.751       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11831 -0.107041 0.153121 -3.74363 
-0.0651712 1.08505 -0.110905 3.1381 
0.020503 -0.130378 1.02274 -2.86145 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -250.571   GNORM= 19.408
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11926 -0.107991 0.152945 -3.82424 
-0.0652866 1.08498 -0.111589 3.1617 
0.01982 -0.12993 1.02201 -2.8271 
0 0 0 1 

Final RAS Transform: 
1.11926 -0.107991 0.152945 -3.82424 
-0.0652866 1.08498 -0.111589 3.1617 
0.01982 -0.12993 1.02201 -2.8271 
0 0 0 1 


real	0m3.320s
user	0m5.156s
sys	0m0.364s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.448903
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0131
Level     0,  Iter     1:    Energy =   0.0149
Level     0,  Iter     2:    Energy =   0.0169
Level     0,  Iter     3:    Energy =   0.0191
Level     0,  Iter     4:    Energy =   0.0208
Level     0,  Iter     5:    Energy =   0.0224
Level     0,  Iter     6:    Energy =   0.0237
Level     0,  Iter     7:    Energy =   0.0246
Level     0,  Iter     8:    Energy =   0.0253
Level     0,  Iter     9:    Energy =   0.0261
Level     0,  Iter    10:    Energy =   0.0269
Level     0,  Iter    11:    Energy =   0.0276
Level     0,  Iter    12:    Energy =   0.0281
Level     0,  Iter    13:    Energy =   0.0285
Level     0,  Iter    14:    Energy =   0.0289
Level     0,  Iter    15:    Energy =   0.0292
Level     0,  Iter    16:    Energy =   0.0295
Level     0,  Iter    17:    Energy =   0.0296
Level     0,  Iter    18:    Energy =   0.0298
Level     0,  Iter    19:    Energy =   0.0297
Level     0,  Iter    20:    Energy =   0.0297
Level     0,  Iter    21:    Energy =   0.0296
Level     0,  Iter    22:    Energy =   0.0296
Level     0,  Iter    23:    Energy =   0.0296
Level     0,  Iter    24:    Energy =   0.0296
Level     0,  Iter    25:    Energy =   0.0295
Level     0,  Iter    26:    Energy =   0.0294
Level     0,  Iter    27:    Energy =   0.0294
Level     0,  Iter    28:    Energy =   0.0293
Level     0,  Iter    29:    Energy =   0.0293
Level     0,  Iter    30:    Energy =   0.0293
Level     0,  Iter    31:    Energy =   0.0293
Level     0,  Iter    32:    Energy =   0.0293
Level     0,  Iter    33:    Energy =   0.0294
Level     0,  Iter    34:    Energy =   0.0294
Level     0,  Iter    35:    Energy =   0.0294
Level     0,  Iter    36:    Energy =   0.0295
Level     0,  Iter    37:    Energy =   0.0295
Level     0,  Iter    38:    Energy =   0.0296
Level     0,  Iter    39:    Energy =   0.0297
Level     0,  Iter    40:    Energy =   0.0298
Level     0,  Iter    41:    Energy =   0.0298
Level     0,  Iter    42:    Energy =   0.0299
Level     0,  Iter    43:    Energy =   0.0299
Level     0,  Iter    44:    Energy =   0.0300
Level     0,  Iter    45:    Energy =   0.0300
Level     0,  Iter    46:    Energy =   0.0301
Level     0,  Iter    47:    Energy =   0.0301
Level     0,  Iter    48:    Energy =   0.0301
Level     0,  Iter    49:    Energy =   0.0301
Level     0,  Iter    50:    Energy =   0.0301
Level     0,  Iter    51:    Energy =   0.0301
Level     0,  Iter    52:    Energy =   0.0302
Level     0,  Iter    53:    Energy =   0.0302
Level     0,  Iter    54:    Energy =   0.0302
Level     0,  Iter    55:    Energy =   0.0302
Level     0,  Iter    56:    Energy =   0.0302
Level     0,  Iter    57:    Energy =   0.0302
Level     0,  Iter    58:    Energy =   0.0302
Level     0,  Iter    59:    Energy =   0.0303
END OF LEVEL     0    DetJac Range:   0.0223  to   2.0160 
  Avg. Gradient Time  : 0.0069s  32.92% 
  Avg. Gaussian Time  : 0.0101s  47.99% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0148
Level     1,  Iter     1:    Energy =   0.0158
Level     1,  Iter     2:    Energy =   0.0165
Level     1,  Iter     3:    Energy =   0.0171
Level     1,  Iter     4:    Energy =   0.0175
Level     1,  Iter     5:    Energy =   0.0180
Level     1,  Iter     6:    Energy =   0.0183
Level     1,  Iter     7:    Energy =   0.0186
Level     1,  Iter     8:    Energy =   0.0189
Level     1,  Iter     9:    Energy =   0.0191
Level     1,  Iter    10:    Energy =   0.0193
Level     1,  Iter    11:    Energy =   0.0195
Level     1,  Iter    12:    Energy =   0.0197
Level     1,  Iter    13:    Energy =   0.0199
Level     1,  Iter    14:    Energy =   0.0200
Level     1,  Iter    15:    Energy =   0.0201
Level     1,  Iter    16:    Energy =   0.0202
Level     1,  Iter    17:    Energy =   0.0203
Level     1,  Iter    18:    Energy =   0.0204
Level     1,  Iter    19:    Energy =   0.0205
Level     1,  Iter    20:    Energy =   0.0206
Level     1,  Iter    21:    Energy =   0.0207
Level     1,  Iter    22:    Energy =   0.0208
Level     1,  Iter    23:    Energy =   0.0209
Level     1,  Iter    24:    Energy =   0.0210
Level     1,  Iter    25:    Energy =   0.0212
Level     1,  Iter    26:    Energy =   0.0213
Level     1,  Iter    27:    Energy =   0.0213
Level     1,  Iter    28:    Energy =   0.0214
Level     1,  Iter    29:    Energy =   0.0215
Level     1,  Iter    30:    Energy =   0.0216
Level     1,  Iter    31:    Energy =   0.0217
Level     1,  Iter    32:    Energy =   0.0218
Level     1,  Iter    33:    Energy =   0.0219
Level     1,  Iter    34:    Energy =   0.0220
Level     1,  Iter    35:    Energy =   0.0220
Level     1,  Iter    36:    Energy =   0.0221
Level     1,  Iter    37:    Energy =   0.0222
Level     1,  Iter    38:    Energy =   0.0222
Level     1,  Iter    39:    Energy =   0.0223
Level     1,  Iter    40:    Energy =   0.0223
Level     1,  Iter    41:    Energy =   0.0224
Level     1,  Iter    42:    Energy =   0.0224
Level     1,  Iter    43:    Energy =   0.0224
Level     1,  Iter    44:    Energy =   0.0224
Level     1,  Iter    45:    Energy =   0.0225
Level     1,  Iter    46:    Energy =   0.0225
Level     1,  Iter    47:    Energy =   0.0225
Level     1,  Iter    48:    Energy =   0.0225
Level     1,  Iter    49:    Energy =   0.0225
Level     1,  Iter    50:    Energy =   0.0225
Level     1,  Iter    51:    Energy =   0.0226
Level     1,  Iter    52:    Energy =   0.0226
Level     1,  Iter    53:    Energy =   0.0226
Level     1,  Iter    54:    Energy =   0.0226
Level     1,  Iter    55:    Energy =   0.0225
Level     1,  Iter    56:    Energy =   0.0225
Level     1,  Iter    57:    Energy =   0.0225
Level     1,  Iter    58:    Energy =   0.0225
Level     1,  Iter    59:    Energy =   0.0225
END OF LEVEL     1    DetJac Range:   0.0077  to   2.7193 
  Avg. Gradient Time  : 0.0275s  33.52% 
  Avg. Gaussian Time  : 0.0431s  52.56% 
  Avg. Iteration Time : 0.0821s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0093
Level     2,  Iter     1:    Energy =   0.0098
Level     2,  Iter     2:    Energy =   0.0105
Level     2,  Iter     3:    Energy =   0.0109
Level     2,  Iter     4:    Energy =   0.0113
Level     2,  Iter     5:    Energy =   0.0116
Level     2,  Iter     6:    Energy =   0.0119
Level     2,  Iter     7:    Energy =   0.0122
Level     2,  Iter     8:    Energy =   0.0126
Level     2,  Iter     9:    Energy =   0.0130
Level     2,  Iter    10:    Energy =   0.0133
Level     2,  Iter    11:    Energy =   0.0136
Level     2,  Iter    12:    Energy =   0.0138
Level     2,  Iter    13:    Energy =   0.0139
Level     2,  Iter    14:    Energy =   0.0140
Level     2,  Iter    15:    Energy =   0.0142
Level     2,  Iter    16:    Energy =   0.0144
Level     2,  Iter    17:    Energy =   0.0146
Level     2,  Iter    18:    Energy =   0.0148
Level     2,  Iter    19:    Energy =   0.0151
END OF LEVEL     2    DetJac Range:   0.0133  to   3.5985 
  Avg. Gradient Time  : 0.1821s  31.92% 
  Avg. Gaussian Time  : 0.3099s  54.34% 
  Avg. Iteration Time : 0.5703s 

real	0m20.316s
user	0m35.392s
sys	0m2.144s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234286 0.238571
+ echo 'CHUNK 0.234286 0.238571 1'
CHUNK 0.234286 0.238571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234286 0.238571 1
====================================
         PROGRESS: 0.234286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.584
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 266.914   GNORM= 220.201
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        67.237     169.108       0.005
   2    3      -285.326     160.919       1.000
   3    5      -444.719     108.522       0.244
   4    8      -471.504     142.774       0.292
   5    9      -534.713      37.217       1.000
   6   11      -567.401     121.998       5.000
   7   14      -574.692     122.739       2.259
   8   16      -582.896      86.118       0.335
   9   19      -616.424      69.040       1.150
  10   21      -621.630      19.871       0.112
  11   24      -633.974      47.219       1.732
  12   26      -634.512      73.284       0.188
  13   27      -640.046      29.696       1.000
  14   29      -655.618      80.728       5.000
  15   32      -655.791      46.339       0.035
  16   33      -663.246      75.028       1.000
  17   34      -674.612      22.930       1.000
  18   35      -682.374      61.084       1.000
  19   40      -683.524      70.925       0.042
  20   44      -691.582      63.829       8.252
  21   45      -701.986      36.184       1.000
  22   46      -706.813      53.008       1.000
  23   47      -720.923      40.794       1.000
  24   49      -723.288     121.885       0.078
Final RAS Transform: 
1.06826 -0.161499 0.169395 -3.91015 
0.0719171 1.26137 0.00942718 5.99091 
-0.0985043 -0.232734 0.899822 -6.43061 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -300.14   GNORM= 1567.14
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -326.806     264.020       0.001
   2    9      -332.722      37.552       0.977
   3   10      -333.943      39.837       1.000
   4   11      -334.565      20.612       1.000
   5   12      -336.849      65.001       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.06671 -0.158453 0.166957 -3.70438 
0.0751451 1.25467 0.00505996 5.44896 
-0.0927676 -0.239766 0.897915 -7.02276 
0 0 0 1 

Final RAS Transform: 
1.06671 -0.158453 0.166957 -3.70438 
0.0751451 1.25467 0.00505996 5.44896 
-0.0927676 -0.239766 0.897915 -7.02276 
0 0 0 1 


real	0m4.230s
user	0m6.728s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.43067
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0148
Level     0,  Iter     1:    Energy =   0.0171
Level     0,  Iter     2:    Energy =   0.0188
Level     0,  Iter     3:    Energy =   0.0204
Level     0,  Iter     4:    Energy =   0.0219
Level     0,  Iter     5:    Energy =   0.0230
Level     0,  Iter     6:    Energy =   0.0238
Level     0,  Iter     7:    Energy =   0.0244
Level     0,  Iter     8:    Energy =   0.0251
Level     0,  Iter     9:    Energy =   0.0258
Level     0,  Iter    10:    Energy =   0.0264
Level     0,  Iter    11:    Energy =   0.0270
Level     0,  Iter    12:    Energy =   0.0274
Level     0,  Iter    13:    Energy =   0.0278
Level     0,  Iter    14:    Energy =   0.0279
Level     0,  Iter    15:    Energy =   0.0281
Level     0,  Iter    16:    Energy =   0.0283
Level     0,  Iter    17:    Energy =   0.0285
Level     0,  Iter    18:    Energy =   0.0286
Level     0,  Iter    19:    Energy =   0.0288
Level     0,  Iter    20:    Energy =   0.0289
Level     0,  Iter    21:    Energy =   0.0291
Level     0,  Iter    22:    Energy =   0.0293
Level     0,  Iter    23:    Energy =   0.0294
Level     0,  Iter    24:    Energy =   0.0295
Level     0,  Iter    25:    Energy =   0.0297
Level     0,  Iter    26:    Energy =   0.0298
Level     0,  Iter    27:    Energy =   0.0299
Level     0,  Iter    28:    Energy =   0.0301
Level     0,  Iter    29:    Energy =   0.0303
Level     0,  Iter    30:    Energy =   0.0305
Level     0,  Iter    31:    Energy =   0.0306
Level     0,  Iter    32:    Energy =   0.0308
Level     0,  Iter    33:    Energy =   0.0309
Level     0,  Iter    34:    Energy =   0.0311
Level     0,  Iter    35:    Energy =   0.0312
Level     0,  Iter    36:    Energy =   0.0314
Level     0,  Iter    37:    Energy =   0.0315
Level     0,  Iter    38:    Energy =   0.0316
Level     0,  Iter    39:    Energy =   0.0318
Level     0,  Iter    40:    Energy =   0.0321
Level     0,  Iter    41:    Energy =   0.0324
Level     0,  Iter    42:    Energy =   0.0328
Level     0,  Iter    43:    Energy =   0.0333
Level     0,  Iter    44:    Energy =   0.0337
Level     0,  Iter    45:    Energy =   0.0340
Level     0,  Iter    46:    Energy =   0.0343
Level     0,  Iter    47:    Energy =   0.0345
Level     0,  Iter    48:    Energy =   0.0348
Level     0,  Iter    49:    Energy =   0.0349
Level     0,  Iter    50:    Energy =   0.0351
Level     0,  Iter    51:    Energy =   0.0352
Level     0,  Iter    52:    Energy =   0.0353
Level     0,  Iter    53:    Energy =   0.0354
Level     0,  Iter    54:    Energy =   0.0356
Level     0,  Iter    55:    Energy =   0.0357
Level     0,  Iter    56:    Energy =   0.0358
Level     0,  Iter    57:    Energy =   0.0359
Level     0,  Iter    58:    Energy =   0.0360
Level     0,  Iter    59:    Energy =   0.0361
END OF LEVEL     0    DetJac Range:   0.0157  to   2.4975 
  Avg. Gradient Time  : 0.0068s  32.72% 
  Avg. Gaussian Time  : 0.0100s  48.36% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0205
Level     1,  Iter     1:    Energy =   0.0215
Level     1,  Iter     2:    Energy =   0.0223
Level     1,  Iter     3:    Energy =   0.0229
Level     1,  Iter     4:    Energy =   0.0233
Level     1,  Iter     5:    Energy =   0.0237
Level     1,  Iter     6:    Energy =   0.0241
Level     1,  Iter     7:    Energy =   0.0244
Level     1,  Iter     8:    Energy =   0.0246
Level     1,  Iter     9:    Energy =   0.0248
Level     1,  Iter    10:    Energy =   0.0250
Level     1,  Iter    11:    Energy =   0.0252
Level     1,  Iter    12:    Energy =   0.0253
Level     1,  Iter    13:    Energy =   0.0254
Level     1,  Iter    14:    Energy =   0.0256
Level     1,  Iter    15:    Energy =   0.0256
Level     1,  Iter    16:    Energy =   0.0257
Level     1,  Iter    17:    Energy =   0.0258
Level     1,  Iter    18:    Energy =   0.0259
Level     1,  Iter    19:    Energy =   0.0259
Level     1,  Iter    20:    Energy =   0.0260
Level     1,  Iter    21:    Energy =   0.0260
Level     1,  Iter    22:    Energy =   0.0261
Level     1,  Iter    23:    Energy =   0.0261
Level     1,  Iter    24:    Energy =   0.0262
Level     1,  Iter    25:    Energy =   0.0262
Level     1,  Iter    26:    Energy =   0.0262
Level     1,  Iter    27:    Energy =   0.0263
Level     1,  Iter    28:    Energy =   0.0263
Level     1,  Iter    29:    Energy =   0.0263
Level     1,  Iter    30:    Energy =   0.0264
Level     1,  Iter    31:    Energy =   0.0264
Level     1,  Iter    32:    Energy =   0.0265
Level     1,  Iter    33:    Energy =   0.0265
Level     1,  Iter    34:    Energy =   0.0265
Level     1,  Iter    35:    Energy =   0.0265
Level     1,  Iter    36:    Energy =   0.0266
Level     1,  Iter    37:    Energy =   0.0266
Level     1,  Iter    38:    Energy =   0.0266
Level     1,  Iter    39:    Energy =   0.0266
Level     1,  Iter    40:    Energy =   0.0266
Level     1,  Iter    41:    Energy =   0.0266
Level     1,  Iter    42:    Energy =   0.0266
Level     1,  Iter    43:    Energy =   0.0266
Level     1,  Iter    44:    Energy =   0.0266
Level     1,  Iter    45:    Energy =   0.0266
Level     1,  Iter    46:    Energy =   0.0266
Level     1,  Iter    47:    Energy =   0.0266
Level     1,  Iter    48:    Energy =   0.0266
Level     1,  Iter    49:    Energy =   0.0266
Level     1,  Iter    50:    Energy =   0.0266
Level     1,  Iter    51:    Energy =   0.0266
Level     1,  Iter    52:    Energy =   0.0266
Level     1,  Iter    53:    Energy =   0.0265
Level     1,  Iter    54:    Energy =   0.0265
Level     1,  Iter    55:    Energy =   0.0265
Level     1,  Iter    56:    Energy =   0.0265
Level     1,  Iter    57:    Energy =   0.0265
Level     1,  Iter    58:    Energy =   0.0264
Level     1,  Iter    59:    Energy =   0.0264
END OF LEVEL     1    DetJac Range:   0.0104  to   1.9612 
  Avg. Gradient Time  : 0.0272s  33.52% 
  Avg. Gaussian Time  : 0.0427s  52.55% 
  Avg. Iteration Time : 0.0813s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0109
Level     2,  Iter     1:    Energy =   0.0115
Level     2,  Iter     2:    Energy =   0.0120
Level     2,  Iter     3:    Energy =   0.0126
Level     2,  Iter     4:    Energy =   0.0130
Level     2,  Iter     5:    Energy =   0.0134
Level     2,  Iter     6:    Energy =   0.0137
Level     2,  Iter     7:    Energy =   0.0139
Level     2,  Iter     8:    Energy =   0.0142
Level     2,  Iter     9:    Energy =   0.0143
Level     2,  Iter    10:    Energy =   0.0145
Level     2,  Iter    11:    Energy =   0.0146
Level     2,  Iter    12:    Energy =   0.0147
Level     2,  Iter    13:    Energy =   0.0149
Level     2,  Iter    14:    Energy =   0.0150
Level     2,  Iter    15:    Energy =   0.0152
Level     2,  Iter    16:    Energy =   0.0153
Level     2,  Iter    17:    Energy =   0.0155
Level     2,  Iter    18:    Energy =   0.0158
Level     2,  Iter    19:    Energy =   0.0161
END OF LEVEL     2    DetJac Range:   0.0137  to   2.2924 
  Avg. Gradient Time  : 0.1845s  32.07% 
  Avg. Gaussian Time  : 0.3120s  54.22% 
  Avg. Iteration Time : 0.5754s 

real	0m20.299s
user	0m35.276s
sys	0m2.316s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.238571 0.242857
+ echo 'CHUNK 0.238571 0.242857 1'
CHUNK 0.238571 0.242857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.238571 0.242857 1
====================================
         PROGRESS: 0.238571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.6
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 330.702   GNORM= 303.985
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -298.071     107.651       0.016
   2    4      -484.525     162.164       1.000
   3    5      -564.216     147.566       1.000
   4    6      -631.071     101.475       1.000
   5   11      -660.332      83.360       1.011
   6   22      -660.823     121.655       0.052
   7   25      -686.599      69.803       1.360
   8   28      -696.773      61.865       0.665
   9   29      -697.175     294.526       1.000
  10   33      -698.158      95.572       0.008
  11   37      -704.467      53.433       1.079
  12   40      -727.249     256.283       1.776
  13   43      -734.999      26.069       0.006
  14   47      -735.153     114.775       0.000
  15   49      -737.701      85.670       5.000
  16   51      -741.504      50.684       0.013
Final RAS Transform: 
1.10568 -0.122182 0.145534 -3.67696 
-0.065977 1.09841 -0.124352 3.8218 
0.0331419 -0.166609 1.01997 -3.73376 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -307.702   GNORM= 2026.49
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10568 -0.122182 0.145534 -3.67696 
-0.065977 1.09841 -0.124352 3.8218 
0.0331419 -0.166609 1.01997 -3.73376 
0 0 0 1 

Final RAS Transform: 
1.10568 -0.122182 0.145534 -3.67696 
-0.065977 1.09841 -0.124352 3.8218 
0.0331419 -0.166609 1.01997 -3.73376 
0 0 0 1 


real	0m3.507s
user	0m5.336s
sys	0m0.512s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.438172
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0145
Level     0,  Iter     1:    Energy =   0.0165
Level     0,  Iter     2:    Energy =   0.0190
Level     0,  Iter     3:    Energy =   0.0213
Level     0,  Iter     4:    Energy =   0.0233
Level     0,  Iter     5:    Energy =   0.0254
Level     0,  Iter     6:    Energy =   0.0266
Level     0,  Iter     7:    Energy =   0.0276
Level     0,  Iter     8:    Energy =   0.0283
Level     0,  Iter     9:    Energy =   0.0290
Level     0,  Iter    10:    Energy =   0.0296
Level     0,  Iter    11:    Energy =   0.0302
Level     0,  Iter    12:    Energy =   0.0309
Level     0,  Iter    13:    Energy =   0.0314
Level     0,  Iter    14:    Energy =   0.0318
Level     0,  Iter    15:    Energy =   0.0322
Level     0,  Iter    16:    Energy =   0.0326
Level     0,  Iter    17:    Energy =   0.0330
Level     0,  Iter    18:    Energy =   0.0333
Level     0,  Iter    19:    Energy =   0.0338
Level     0,  Iter    20:    Energy =   0.0340
Level     0,  Iter    21:    Energy =   0.0344
Level     0,  Iter    22:    Energy =   0.0347
Level     0,  Iter    23:    Energy =   0.0350
Level     0,  Iter    24:    Energy =   0.0353
Level     0,  Iter    25:    Energy =   0.0355
Level     0,  Iter    26:    Energy =   0.0356
Level     0,  Iter    27:    Energy =   0.0357
Level     0,  Iter    28:    Energy =   0.0358
Level     0,  Iter    29:    Energy =   0.0358
Level     0,  Iter    30:    Energy =   0.0358
Level     0,  Iter    31:    Energy =   0.0358
Level     0,  Iter    32:    Energy =   0.0359
Level     0,  Iter    33:    Energy =   0.0359
Level     0,  Iter    34:    Energy =   0.0360
Level     0,  Iter    35:    Energy =   0.0360
Level     0,  Iter    36:    Energy =   0.0360
Level     0,  Iter    37:    Energy =   0.0360
Level     0,  Iter    38:    Energy =   0.0360
Level     0,  Iter    39:    Energy =   0.0361
Level     0,  Iter    40:    Energy =   0.0360
Level     0,  Iter    41:    Energy =   0.0360
Level     0,  Iter    42:    Energy =   0.0360
Level     0,  Iter    43:    Energy =   0.0360
Level     0,  Iter    44:    Energy =   0.0360
Level     0,  Iter    45:    Energy =   0.0360
Level     0,  Iter    46:    Energy =   0.0360
Level     0,  Iter    47:    Energy =   0.0360
Level     0,  Iter    48:    Energy =   0.0360
Level     0,  Iter    49:    Energy =   0.0361
Level     0,  Iter    50:    Energy =   0.0361
Level     0,  Iter    51:    Energy =   0.0361
Level     0,  Iter    52:    Energy =   0.0361
Level     0,  Iter    53:    Energy =   0.0362
Level     0,  Iter    54:    Energy =   0.0362
Level     0,  Iter    55:    Energy =   0.0362
Level     0,  Iter    56:    Energy =   0.0362
Level     0,  Iter    57:    Energy =   0.0363
Level     0,  Iter    58:    Energy =   0.0363
Level     0,  Iter    59:    Energy =   0.0363
END OF LEVEL     0    DetJac Range:   0.1102  to   2.4613 
  Avg. Gradient Time  : 0.0064s  32.96% 
  Avg. Gaussian Time  : 0.0093s  48.08% 
  Avg. Iteration Time : 0.0194s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0197
Level     1,  Iter     1:    Energy =   0.0208
Level     1,  Iter     2:    Energy =   0.0217
Level     1,  Iter     3:    Energy =   0.0226
Level     1,  Iter     4:    Energy =   0.0232
Level     1,  Iter     5:    Energy =   0.0236
Level     1,  Iter     6:    Energy =   0.0241
Level     1,  Iter     7:    Energy =   0.0244
Level     1,  Iter     8:    Energy =   0.0248
Level     1,  Iter     9:    Energy =   0.0251
Level     1,  Iter    10:    Energy =   0.0254
Level     1,  Iter    11:    Energy =   0.0256
Level     1,  Iter    12:    Energy =   0.0259
Level     1,  Iter    13:    Energy =   0.0261
Level     1,  Iter    14:    Energy =   0.0262
Level     1,  Iter    15:    Energy =   0.0264
Level     1,  Iter    16:    Energy =   0.0266
Level     1,  Iter    17:    Energy =   0.0268
Level     1,  Iter    18:    Energy =   0.0269
Level     1,  Iter    19:    Energy =   0.0270
Level     1,  Iter    20:    Energy =   0.0271
Level     1,  Iter    21:    Energy =   0.0272
Level     1,  Iter    22:    Energy =   0.0273
Level     1,  Iter    23:    Energy =   0.0274
Level     1,  Iter    24:    Energy =   0.0275
Level     1,  Iter    25:    Energy =   0.0276
Level     1,  Iter    26:    Energy =   0.0276
Level     1,  Iter    27:    Energy =   0.0277
Level     1,  Iter    28:    Energy =   0.0278
Level     1,  Iter    29:    Energy =   0.0278
Level     1,  Iter    30:    Energy =   0.0279
Level     1,  Iter    31:    Energy =   0.0280
Level     1,  Iter    32:    Energy =   0.0280
Level     1,  Iter    33:    Energy =   0.0281
Level     1,  Iter    34:    Energy =   0.0281
Level     1,  Iter    35:    Energy =   0.0282
Level     1,  Iter    36:    Energy =   0.0282
Level     1,  Iter    37:    Energy =   0.0283
Level     1,  Iter    38:    Energy =   0.0283
Level     1,  Iter    39:    Energy =   0.0284
Level     1,  Iter    40:    Energy =   0.0284
Level     1,  Iter    41:    Energy =   0.0285
Level     1,  Iter    42:    Energy =   0.0286
Level     1,  Iter    43:    Energy =   0.0286
Level     1,  Iter    44:    Energy =   0.0287
Level     1,  Iter    45:    Energy =   0.0287
Level     1,  Iter    46:    Energy =   0.0288
Level     1,  Iter    47:    Energy =   0.0289
Level     1,  Iter    48:    Energy =   0.0290
Level     1,  Iter    49:    Energy =   0.0291
Level     1,  Iter    50:    Energy =   0.0291
Level     1,  Iter    51:    Energy =   0.0292
Level     1,  Iter    52:    Energy =   0.0293
Level     1,  Iter    53:    Energy =   0.0293
Level     1,  Iter    54:    Energy =   0.0294
Level     1,  Iter    55:    Energy =   0.0295
Level     1,  Iter    56:    Energy =   0.0295
Level     1,  Iter    57:    Energy =   0.0296
Level     1,  Iter    58:    Energy =   0.0297
Level     1,  Iter    59:    Energy =   0.0297
END OF LEVEL     1    DetJac Range:   0.0586  to   2.6790 
  Avg. Gradient Time  : 0.0285s  33.61% 
  Avg. Gaussian Time  : 0.0445s  52.46% 
  Avg. Iteration Time : 0.0849s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0120
Level     2,  Iter     1:    Energy =   0.0125
Level     2,  Iter     2:    Energy =   0.0130
Level     2,  Iter     3:    Energy =   0.0134
Level     2,  Iter     4:    Energy =   0.0137
Level     2,  Iter     5:    Energy =   0.0140
Level     2,  Iter     6:    Energy =   0.0142
Level     2,  Iter     7:    Energy =   0.0145
Level     2,  Iter     8:    Energy =   0.0146
Level     2,  Iter     9:    Energy =   0.0149
Level     2,  Iter    10:    Energy =   0.0150
Level     2,  Iter    11:    Energy =   0.0152
Level     2,  Iter    12:    Energy =   0.0154
Level     2,  Iter    13:    Energy =   0.0155
Level     2,  Iter    14:    Energy =   0.0157
Level     2,  Iter    15:    Energy =   0.0158
Level     2,  Iter    16:    Energy =   0.0159
Level     2,  Iter    17:    Energy =   0.0159
Level     2,  Iter    18:    Energy =   0.0160
Level     2,  Iter    19:    Energy =   0.0160
END OF LEVEL     2    DetJac Range:   0.0540  to   2.7145 
  Avg. Gradient Time  : 0.1837s  32.03% 
  Avg. Gaussian Time  : 0.3112s  54.25% 
  Avg. Iteration Time : 0.5736s 

real	0m20.420s
user	0m35.428s
sys	0m2.364s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.242857 0.247143
+ echo 'CHUNK 0.242857 0.247143 1'
CHUNK 0.242857 0.247143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.242857 0.247143 1
====================================
         PROGRESS: 0.242857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.612
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 376.027   GNORM= 240.231
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -282.502     219.463       0.021
   2    7      -390.052     119.951       1.316
   3    8      -612.373     127.454       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10584 -0.108364 0.130218 -3.50523 
-0.0506955 1.08196 -0.0839817 2.91134 
0.0358722 -0.111056 1.04066 -2.72271 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -353.343   GNORM= 55.0104
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -377.229      24.291       0.018
   2    4      -377.816      11.804       0.350
   3   11      -378.842    8575.484       1.043
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10951 -0.113609 0.135474 -3.97092 
-0.0527068 1.08447 -0.0866671 3.2888 
0.0340327 -0.110237 1.03611 -2.46203 
0 0 0 1 

Final RAS Transform: 
1.10951 -0.113609 0.135474 -3.97092 
-0.0527068 1.08447 -0.0866671 3.2888 
0.0340327 -0.110237 1.03611 -2.46203 
0 0 0 1 


real	0m3.701s
user	0m5.900s
sys	0m0.400s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.406017
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0133
Level     0,  Iter     1:    Energy =   0.0153
Level     0,  Iter     2:    Energy =   0.0178
Level     0,  Iter     3:    Energy =   0.0200
Level     0,  Iter     4:    Energy =   0.0219
Level     0,  Iter     5:    Energy =   0.0236
Level     0,  Iter     6:    Energy =   0.0252
Level     0,  Iter     7:    Energy =   0.0265
Level     0,  Iter     8:    Energy =   0.0273
Level     0,  Iter     9:    Energy =   0.0280
Level     0,  Iter    10:    Energy =   0.0284
Level     0,  Iter    11:    Energy =   0.0289
Level     0,  Iter    12:    Energy =   0.0294
Level     0,  Iter    13:    Energy =   0.0299
Level     0,  Iter    14:    Energy =   0.0304
Level     0,  Iter    15:    Energy =   0.0306
Level     0,  Iter    16:    Energy =   0.0308
Level     0,  Iter    17:    Energy =   0.0310
Level     0,  Iter    18:    Energy =   0.0312
Level     0,  Iter    19:    Energy =   0.0313
Level     0,  Iter    20:    Energy =   0.0314
Level     0,  Iter    21:    Energy =   0.0315
Level     0,  Iter    22:    Energy =   0.0316
Level     0,  Iter    23:    Energy =   0.0316
Level     0,  Iter    24:    Energy =   0.0317
Level     0,  Iter    25:    Energy =   0.0317
Level     0,  Iter    26:    Energy =   0.0318
Level     0,  Iter    27:    Energy =   0.0318
Level     0,  Iter    28:    Energy =   0.0320
Level     0,  Iter    29:    Energy =   0.0320
Level     0,  Iter    30:    Energy =   0.0321
Level     0,  Iter    31:    Energy =   0.0322
Level     0,  Iter    32:    Energy =   0.0322
Level     0,  Iter    33:    Energy =   0.0323
Level     0,  Iter    34:    Energy =   0.0324
Level     0,  Iter    35:    Energy =   0.0324
Level     0,  Iter    36:    Energy =   0.0325
Level     0,  Iter    37:    Energy =   0.0325
Level     0,  Iter    38:    Energy =   0.0325
Level     0,  Iter    39:    Energy =   0.0326
Level     0,  Iter    40:    Energy =   0.0326
Level     0,  Iter    41:    Energy =   0.0327
Level     0,  Iter    42:    Energy =   0.0327
Level     0,  Iter    43:    Energy =   0.0328
Level     0,  Iter    44:    Energy =   0.0328
Level     0,  Iter    45:    Energy =   0.0329
Level     0,  Iter    46:    Energy =   0.0328
Level     0,  Iter    47:    Energy =   0.0329
Level     0,  Iter    48:    Energy =   0.0329
Level     0,  Iter    49:    Energy =   0.0330
Level     0,  Iter    50:    Energy =   0.0330
Level     0,  Iter    51:    Energy =   0.0330
Level     0,  Iter    52:    Energy =   0.0331
Level     0,  Iter    53:    Energy =   0.0332
Level     0,  Iter    54:    Energy =   0.0332
Level     0,  Iter    55:    Energy =   0.0332
Level     0,  Iter    56:    Energy =   0.0333
Level     0,  Iter    57:    Energy =   0.0333
Level     0,  Iter    58:    Energy =   0.0334
Level     0,  Iter    59:    Energy =   0.0334
END OF LEVEL     0    DetJac Range:   0.0314  to   2.1824 
  Avg. Gradient Time  : 0.0066s  32.48% 
  Avg. Gaussian Time  : 0.0098s  48.20% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0193
Level     1,  Iter     1:    Energy =   0.0205
Level     1,  Iter     2:    Energy =   0.0214
Level     1,  Iter     3:    Energy =   0.0223
Level     1,  Iter     4:    Energy =   0.0230
Level     1,  Iter     5:    Energy =   0.0236
Level     1,  Iter     6:    Energy =   0.0239
Level     1,  Iter     7:    Energy =   0.0244
Level     1,  Iter     8:    Energy =   0.0248
Level     1,  Iter     9:    Energy =   0.0252
Level     1,  Iter    10:    Energy =   0.0255
Level     1,  Iter    11:    Energy =   0.0259
Level     1,  Iter    12:    Energy =   0.0264
Level     1,  Iter    13:    Energy =   0.0269
Level     1,  Iter    14:    Energy =   0.0273
Level     1,  Iter    15:    Energy =   0.0277
Level     1,  Iter    16:    Energy =   0.0280
Level     1,  Iter    17:    Energy =   0.0283
Level     1,  Iter    18:    Energy =   0.0286
Level     1,  Iter    19:    Energy =   0.0289
Level     1,  Iter    20:    Energy =   0.0291
Level     1,  Iter    21:    Energy =   0.0294
Level     1,  Iter    22:    Energy =   0.0296
Level     1,  Iter    23:    Energy =   0.0298
Level     1,  Iter    24:    Energy =   0.0300
Level     1,  Iter    25:    Energy =   0.0302
Level     1,  Iter    26:    Energy =   0.0304
Level     1,  Iter    27:    Energy =   0.0305
Level     1,  Iter    28:    Energy =   0.0307
Level     1,  Iter    29:    Energy =   0.0308
Level     1,  Iter    30:    Energy =   0.0310
Level     1,  Iter    31:    Energy =   0.0311
Level     1,  Iter    32:    Energy =   0.0312
Level     1,  Iter    33:    Energy =   0.0313
Level     1,  Iter    34:    Energy =   0.0314
Level     1,  Iter    35:    Energy =   0.0315
Level     1,  Iter    36:    Energy =   0.0316
Level     1,  Iter    37:    Energy =   0.0316
Level     1,  Iter    38:    Energy =   0.0317
Level     1,  Iter    39:    Energy =   0.0317
Level     1,  Iter    40:    Energy =   0.0318
Level     1,  Iter    41:    Energy =   0.0318
Level     1,  Iter    42:    Energy =   0.0319
Level     1,  Iter    43:    Energy =   0.0319
Level     1,  Iter    44:    Energy =   0.0320
Level     1,  Iter    45:    Energy =   0.0320
Level     1,  Iter    46:    Energy =   0.0321
Level     1,  Iter    47:    Energy =   0.0321
Level     1,  Iter    48:    Energy =   0.0321
Level     1,  Iter    49:    Energy =   0.0321
Level     1,  Iter    50:    Energy =   0.0321
Level     1,  Iter    51:    Energy =   0.0321
Level     1,  Iter    52:    Energy =   0.0322
Level     1,  Iter    53:    Energy =   0.0322
Level     1,  Iter    54:    Energy =   0.0322
Level     1,  Iter    55:    Energy =   0.0322
Level     1,  Iter    56:    Energy =   0.0322
Level     1,  Iter    57:    Energy =   0.0322
Level     1,  Iter    58:    Energy =   0.0322
Level     1,  Iter    59:    Energy =   0.0322
END OF LEVEL     1    DetJac Range:   0.0186  to   2.6855 
  Avg. Gradient Time  : 0.0287s  33.53% 
  Avg. Gaussian Time  : 0.0450s  52.58% 
  Avg. Iteration Time : 0.0856s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0134
Level     2,  Iter     1:    Energy =   0.0138
Level     2,  Iter     2:    Energy =   0.0141
Level     2,  Iter     3:    Energy =   0.0144
Level     2,  Iter     4:    Energy =   0.0147
Level     2,  Iter     5:    Energy =   0.0149
Level     2,  Iter     6:    Energy =   0.0151
Level     2,  Iter     7:    Energy =   0.0153
Level     2,  Iter     8:    Energy =   0.0156
Level     2,  Iter     9:    Energy =   0.0158
Level     2,  Iter    10:    Energy =   0.0161
Level     2,  Iter    11:    Energy =   0.0163
Level     2,  Iter    12:    Energy =   0.0165
Level     2,  Iter    13:    Energy =   0.0168
Level     2,  Iter    14:    Energy =   0.0170
Level     2,  Iter    15:    Energy =   0.0172
Level     2,  Iter    16:    Energy =   0.0174
Level     2,  Iter    17:    Energy =   0.0176
Level     2,  Iter    18:    Energy =   0.0178
Level     2,  Iter    19:    Energy =   0.0180
END OF LEVEL     2    DetJac Range:   0.0173  to   2.6387 
  Avg. Gradient Time  : 0.1794s  31.72% 
  Avg. Gaussian Time  : 0.3083s  54.50% 
  Avg. Iteration Time : 0.5657s 

real	0m20.349s
user	0m35.476s
sys	0m2.232s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.247143 0.251429
+ echo 'CHUNK 0.247143 0.251429 1'
CHUNK 0.247143 0.251429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.247143 0.251429 1
====================================
         PROGRESS: 0.247143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ awk '{print ($1 == 0.0)}'
++ echo 0
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 321.131   GNORM= 262.238
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -324.193     113.578       0.019
   2    6      -527.369     115.064       0.701
   3   10      -647.854     106.142       0.990
   4   11      -666.711      88.858       1.000
   5   13      -670.945      82.819       0.035
   6   18      -710.154     108.630       0.180
   7   22      -775.713      55.568       3.875
   8   25      -784.708      40.822       0.466
   9   28      -785.764      48.160       0.668
  10   29      -792.352      42.322       1.000
  11   31      -795.377      46.267       0.396
  12   32      -804.873      91.944       1.000
  13   34      -811.910      43.431       0.225
  14   35      -815.218     681.442       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12769 -0.104754 0.0900433 -5.12656 
-0.0333946 1.12641 -0.13188 4.19569 
0.0143566 -0.215004 0.96212 -4.1877 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -324.657   GNORM= 392.559
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12769 -0.104755 0.090044 -5.12663 
-0.0333898 1.1264 -0.131868 4.19486 
0.0143536 -0.214999 0.962113 -4.18721 
0 0 0 1 

Final RAS Transform: 
1.12769 -0.104755 0.090044 -5.12663 
-0.0333898 1.1264 -0.131868 4.19486 
0.0143536 -0.214999 0.962113 -4.18721 
0 0 0 1 


real	0m3.435s
user	0m5.236s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.427812
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0163
Level     0,  Iter     1:    Energy =   0.0183
Level     0,  Iter     2:    Energy =   0.0213
Level     0,  Iter     3:    Energy =   0.0231
Level     0,  Iter     4:    Energy =   0.0259
Level     0,  Iter     5:    Energy =   0.0279
Level     0,  Iter     6:    Energy =   0.0297
Level     0,  Iter     7:    Energy =   0.0311
Level     0,  Iter     8:    Energy =   0.0320
Level     0,  Iter     9:    Energy =   0.0326
Level     0,  Iter    10:    Energy =   0.0333
Level     0,  Iter    11:    Energy =   0.0340
Level     0,  Iter    12:    Energy =   0.0346
Level     0,  Iter    13:    Energy =   0.0349
Level     0,  Iter    14:    Energy =   0.0353
Level     0,  Iter    15:    Energy =   0.0356
Level     0,  Iter    16:    Energy =   0.0358
Level     0,  Iter    17:    Energy =   0.0362
Level     0,  Iter    18:    Energy =   0.0365
Level     0,  Iter    19:    Energy =   0.0368
Level     0,  Iter    20:    Energy =   0.0372
Level     0,  Iter    21:    Energy =   0.0373
Level     0,  Iter    22:    Energy =   0.0374
Level     0,  Iter    23:    Energy =   0.0375
Level     0,  Iter    24:    Energy =   0.0374
Level     0,  Iter    25:    Energy =   0.0374
Level     0,  Iter    26:    Energy =   0.0374
Level     0,  Iter    27:    Energy =   0.0373
Level     0,  Iter    28:    Energy =   0.0372
Level     0,  Iter    29:    Energy =   0.0372
Level     0,  Iter    30:    Energy =   0.0372
Level     0,  Iter    31:    Energy =   0.0371
Level     0,  Iter    32:    Energy =   0.0372
Level     0,  Iter    33:    Energy =   0.0371
Level     0,  Iter    34:    Energy =   0.0372
Level     0,  Iter    35:    Energy =   0.0373
Level     0,  Iter    36:    Energy =   0.0373
Level     0,  Iter    37:    Energy =   0.0374
Level     0,  Iter    38:    Energy =   0.0374
Level     0,  Iter    39:    Energy =   0.0375
Level     0,  Iter    40:    Energy =   0.0376
Level     0,  Iter    41:    Energy =   0.0377
Level     0,  Iter    42:    Energy =   0.0379
Level     0,  Iter    43:    Energy =   0.0380
Level     0,  Iter    44:    Energy =   0.0382
Level     0,  Iter    45:    Energy =   0.0383
Level     0,  Iter    46:    Energy =   0.0385
Level     0,  Iter    47:    Energy =   0.0385
Level     0,  Iter    48:    Energy =   0.0386
Level     0,  Iter    49:    Energy =   0.0385
Level     0,  Iter    50:    Energy =   0.0386
Level     0,  Iter    51:    Energy =   0.0386
Level     0,  Iter    52:    Energy =   0.0387
Level     0,  Iter    53:    Energy =   0.0386
Level     0,  Iter    54:    Energy =   0.0387
Level     0,  Iter    55:    Energy =   0.0386
Level     0,  Iter    56:    Energy =   0.0387
Level     0,  Iter    57:    Energy =   0.0386
Level     0,  Iter    58:    Energy =   0.0387
Level     0,  Iter    59:    Energy =   0.0386
END OF LEVEL     0    DetJac Range:   0.0783  to   2.9776 
  Avg. Gradient Time  : 0.0068s  32.73% 
  Avg. Gaussian Time  : 0.0101s  48.44% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0190
Level     1,  Iter     1:    Energy =   0.0202
Level     1,  Iter     2:    Energy =   0.0213
Level     1,  Iter     3:    Energy =   0.0222
Level     1,  Iter     4:    Energy =   0.0231
Level     1,  Iter     5:    Energy =   0.0240
Level     1,  Iter     6:    Energy =   0.0248
Level     1,  Iter     7:    Energy =   0.0255
Level     1,  Iter     8:    Energy =   0.0262
Level     1,  Iter     9:    Energy =   0.0268
Level     1,  Iter    10:    Energy =   0.0272
Level     1,  Iter    11:    Energy =   0.0277
Level     1,  Iter    12:    Energy =   0.0281
Level     1,  Iter    13:    Energy =   0.0285
Level     1,  Iter    14:    Energy =   0.0288
Level     1,  Iter    15:    Energy =   0.0291
Level     1,  Iter    16:    Energy =   0.0293
Level     1,  Iter    17:    Energy =   0.0296
Level     1,  Iter    18:    Energy =   0.0297
Level     1,  Iter    19:    Energy =   0.0298
Level     1,  Iter    20:    Energy =   0.0299
Level     1,  Iter    21:    Energy =   0.0300
Level     1,  Iter    22:    Energy =   0.0301
Level     1,  Iter    23:    Energy =   0.0302
Level     1,  Iter    24:    Energy =   0.0303
Level     1,  Iter    25:    Energy =   0.0304
Level     1,  Iter    26:    Energy =   0.0305
Level     1,  Iter    27:    Energy =   0.0305
Level     1,  Iter    28:    Energy =   0.0306
Level     1,  Iter    29:    Energy =   0.0306
Level     1,  Iter    30:    Energy =   0.0307
Level     1,  Iter    31:    Energy =   0.0307
Level     1,  Iter    32:    Energy =   0.0308
Level     1,  Iter    33:    Energy =   0.0308
Level     1,  Iter    34:    Energy =   0.0309
Level     1,  Iter    35:    Energy =   0.0310
Level     1,  Iter    36:    Energy =   0.0311
Level     1,  Iter    37:    Energy =   0.0312
Level     1,  Iter    38:    Energy =   0.0313
Level     1,  Iter    39:    Energy =   0.0313
Level     1,  Iter    40:    Energy =   0.0314
Level     1,  Iter    41:    Energy =   0.0314
Level     1,  Iter    42:    Energy =   0.0315
Level     1,  Iter    43:    Energy =   0.0316
Level     1,  Iter    44:    Energy =   0.0316
Level     1,  Iter    45:    Energy =   0.0317
Level     1,  Iter    46:    Energy =   0.0317
Level     1,  Iter    47:    Energy =   0.0318
Level     1,  Iter    48:    Energy =   0.0318
Level     1,  Iter    49:    Energy =   0.0319
Level     1,  Iter    50:    Energy =   0.0319
Level     1,  Iter    51:    Energy =   0.0320
Level     1,  Iter    52:    Energy =   0.0320
Level     1,  Iter    53:    Energy =   0.0321
Level     1,  Iter    54:    Energy =   0.0321
Level     1,  Iter    55:    Energy =   0.0321
Level     1,  Iter    56:    Energy =   0.0322
Level     1,  Iter    57:    Energy =   0.0322
Level     1,  Iter    58:    Energy =   0.0323
Level     1,  Iter    59:    Energy =   0.0323
END OF LEVEL     1    DetJac Range:   0.0338  to   3.4972 
  Avg. Gradient Time  : 0.0280s  33.45% 
  Avg. Gaussian Time  : 0.0440s  52.57% 
  Avg. Iteration Time : 0.0837s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0131
Level     2,  Iter     1:    Energy =   0.0137
Level     2,  Iter     2:    Energy =   0.0142
Level     2,  Iter     3:    Energy =   0.0146
Level     2,  Iter     4:    Energy =   0.0149
Level     2,  Iter     5:    Energy =   0.0152
Level     2,  Iter     6:    Energy =   0.0154
Level     2,  Iter     7:    Energy =   0.0156
Level     2,  Iter     8:    Energy =   0.0158
Level     2,  Iter     9:    Energy =   0.0159
Level     2,  Iter    10:    Energy =   0.0160
Level     2,  Iter    11:    Energy =   0.0161
Level     2,  Iter    12:    Energy =   0.0162
Level     2,  Iter    13:    Energy =   0.0163
Level     2,  Iter    14:    Energy =   0.0164
Level     2,  Iter    15:    Energy =   0.0164
Level     2,  Iter    16:    Energy =   0.0165
Level     2,  Iter    17:    Energy =   0.0165
Level     2,  Iter    18:    Energy =   0.0166
Level     2,  Iter    19:    Energy =   0.0166
END OF LEVEL     2    DetJac Range:   0.0476  to   3.1264 
  Avg. Gradient Time  : 0.1769s  31.68% 
  Avg. Gaussian Time  : 0.3042s  54.48% 
  Avg. Iteration Time : 0.5584s 

real	0m20.154s
user	0m35.084s
sys	0m2.188s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
++ echo 1
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251429 0.255714
+ echo 'CHUNK 0.251429 0.255714 1'
CHUNK 0.251429 0.255714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251429 0.255714 1
====================================
         PROGRESS: 0.251429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.451
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 131.545   GNORM= 285.451
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -137.481     212.372       0.004
   2    3      -283.107      89.403       1.000
   3    4      -346.782      83.602       1.000
   4    6      -434.773     123.014       0.364
   5    7      -506.588      93.063       1.000
   6   10      -509.042     151.305       0.236
   7   14      -690.949     106.984       2.384
   8   16      -745.136      59.096       0.412
   9   17      -768.238      41.860       1.000
  10   20      -769.150    1058.389       0.019
  11   28      -776.877      44.553       0.000
  12   29      -783.460      30.272       1.000
  13   30      -791.282      49.969       1.000
  14   31      -804.705      53.268       1.000
  15   32      -835.652      58.973       1.000
  16   36      -848.073     104.139       0.378
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.993793 -0.0328383 0.0820887 -3.95976 
-0.0959363 1.01257 -0.152074 8.87536 
0.185497 -0.124109 0.814236 -5.8978 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -414.853   GNORM= 42.7467
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -434.289      30.411       0.023
   2    6      -440.589      16.495       0.892
   3    9      -449.665      25.593       1.796
   4   10      -451.343      14.810       1.000
   5   11      -453.895     100.978       1.000
   6   14      -454.312      12.001       0.014
   7   17      -454.453      14.166       0.002
   8   18      -454.890      13.311       1.000
   9   21      -455.419      18.962       1.294
  10   22      -456.737      29.568       1.000
  11   25      -463.557      28.321       2.531
  12   28      -464.716      24.482       0.444
  13   30      -465.764      41.795       0.489
  14   32      -466.210      40.581       0.082
  15   36      -467.750      43.000       0.278
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.949762 -0.025844 0.0992227 -5.18396 
-0.106763 0.986435 -0.185783 9.01398 
0.158121 -0.0781641 0.862031 -5.00817 
0 0 0 1 

Final RAS Transform: 
0.949762 -0.025844 0.0992227 -5.18396 
-0.106763 0.986435 -0.185783 9.01398 
0.158121 -0.0781641 0.862031 -5.00817 
0 0 0 1 


real	0m5.604s
user	0m9.296s
sys	0m0.628s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.328607
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0182
Level     0,  Iter     1:    Energy =   0.0207
Level     0,  Iter     2:    Energy =   0.0231
Level     0,  Iter     3:    Energy =   0.0250
Level     0,  Iter     4:    Energy =   0.0268
Level     0,  Iter     5:    Energy =   0.0286
Level     0,  Iter     6:    Energy =   0.0299
Level     0,  Iter     7:    Energy =   0.0310
Level     0,  Iter     8:    Energy =   0.0319
Level     0,  Iter     9:    Energy =   0.0325
Level     0,  Iter    10:    Energy =   0.0330
Level     0,  Iter    11:    Energy =   0.0335
Level     0,  Iter    12:    Energy =   0.0340
Level     0,  Iter    13:    Energy =   0.0344
Level     0,  Iter    14:    Energy =   0.0347
Level     0,  Iter    15:    Energy =   0.0350
Level     0,  Iter    16:    Energy =   0.0353
Level     0,  Iter    17:    Energy =   0.0355
Level     0,  Iter    18:    Energy =   0.0358
Level     0,  Iter    19:    Energy =   0.0361
Level     0,  Iter    20:    Energy =   0.0364
Level     0,  Iter    21:    Energy =   0.0366
Level     0,  Iter    22:    Energy =   0.0368
Level     0,  Iter    23:    Energy =   0.0370
Level     0,  Iter    24:    Energy =   0.0370
Level     0,  Iter    25:    Energy =   0.0371
Level     0,  Iter    26:    Energy =   0.0371
Level     0,  Iter    27:    Energy =   0.0370
Level     0,  Iter    28:    Energy =   0.0369
Level     0,  Iter    29:    Energy =   0.0369
Level     0,  Iter    30:    Energy =   0.0369
Level     0,  Iter    31:    Energy =   0.0369
Level     0,  Iter    32:    Energy =   0.0369
Level     0,  Iter    33:    Energy =   0.0369
Level     0,  Iter    34:    Energy =   0.0368
Level     0,  Iter    35:    Energy =   0.0368
Level     0,  Iter    36:    Energy =   0.0368
Level     0,  Iter    37:    Energy =   0.0367
Level     0,  Iter    38:    Energy =   0.0367
Level     0,  Iter    39:    Energy =   0.0367
Level     0,  Iter    40:    Energy =   0.0367
Level     0,  Iter    41:    Energy =   0.0367
Level     0,  Iter    42:    Energy =   0.0367
Level     0,  Iter    43:    Energy =   0.0367
Level     0,  Iter    44:    Energy =   0.0367
Level     0,  Iter    45:    Energy =   0.0367
Level     0,  Iter    46:    Energy =   0.0368
Level     0,  Iter    47:    Energy =   0.0368
Level     0,  Iter    48:    Energy =   0.0368
Level     0,  Iter    49:    Energy =   0.0369
Level     0,  Iter    50:    Energy =   0.0369
Level     0,  Iter    51:    Energy =   0.0369
Level     0,  Iter    52:    Energy =   0.0369
Level     0,  Iter    53:    Energy =   0.0369
Level     0,  Iter    54:    Energy =   0.0370
Level     0,  Iter    55:    Energy =   0.0370
Level     0,  Iter    56:    Energy =   0.0370
Level     0,  Iter    57:    Energy =   0.0370
Level     0,  Iter    58:    Energy =   0.0371
Level     0,  Iter    59:    Energy =   0.0371
END OF LEVEL     0    DetJac Range:   0.0386  to   1.6241 
  Avg. Gradient Time  : 0.0066s  32.74% 
  Avg. Gaussian Time  : 0.0098s  48.35% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0210
Level     1,  Iter     1:    Energy =   0.0220
Level     1,  Iter     2:    Energy =   0.0233
Level     1,  Iter     3:    Energy =   0.0244
Level     1,  Iter     4:    Energy =   0.0252
Level     1,  Iter     5:    Energy =   0.0260
Level     1,  Iter     6:    Energy =   0.0266
Level     1,  Iter     7:    Energy =   0.0272
Level     1,  Iter     8:    Energy =   0.0277
Level     1,  Iter     9:    Energy =   0.0281
Level     1,  Iter    10:    Energy =   0.0285
Level     1,  Iter    11:    Energy =   0.0289
Level     1,  Iter    12:    Energy =   0.0292
Level     1,  Iter    13:    Energy =   0.0294
Level     1,  Iter    14:    Energy =   0.0296
Level     1,  Iter    15:    Energy =   0.0299
Level     1,  Iter    16:    Energy =   0.0301
Level     1,  Iter    17:    Energy =   0.0303
Level     1,  Iter    18:    Energy =   0.0305
Level     1,  Iter    19:    Energy =   0.0307
Level     1,  Iter    20:    Energy =   0.0308
Level     1,  Iter    21:    Energy =   0.0310
Level     1,  Iter    22:    Energy =   0.0312
Level     1,  Iter    23:    Energy =   0.0314
Level     1,  Iter    24:    Energy =   0.0315
Level     1,  Iter    25:    Energy =   0.0317
Level     1,  Iter    26:    Energy =   0.0319
Level     1,  Iter    27:    Energy =   0.0321
Level     1,  Iter    28:    Energy =   0.0322
Level     1,  Iter    29:    Energy =   0.0323
Level     1,  Iter    30:    Energy =   0.0324
Level     1,  Iter    31:    Energy =   0.0325
Level     1,  Iter    32:    Energy =   0.0327
Level     1,  Iter    33:    Energy =   0.0328
Level     1,  Iter    34:    Energy =   0.0329
Level     1,  Iter    35:    Energy =   0.0330
Level     1,  Iter    36:    Energy =   0.0332
Level     1,  Iter    37:    Energy =   0.0333
Level     1,  Iter    38:    Energy =   0.0334
Level     1,  Iter    39:    Energy =   0.0335
Level     1,  Iter    40:    Energy =   0.0336
Level     1,  Iter    41:    Energy =   0.0337
Level     1,  Iter    42:    Energy =   0.0338
Level     1,  Iter    43:    Energy =   0.0339
Level     1,  Iter    44:    Energy =   0.0340
Level     1,  Iter    45:    Energy =   0.0341
Level     1,  Iter    46:    Energy =   0.0342
Level     1,  Iter    47:    Energy =   0.0342
Level     1,  Iter    48:    Energy =   0.0342
Level     1,  Iter    49:    Energy =   0.0343
Level     1,  Iter    50:    Energy =   0.0343
Level     1,  Iter    51:    Energy =   0.0344
Level     1,  Iter    52:    Energy =   0.0344
Level     1,  Iter    53:    Energy =   0.0344
Level     1,  Iter    54:    Energy =   0.0345
Level     1,  Iter    55:    Energy =   0.0345
Level     1,  Iter    56:    Energy =   0.0346
Level     1,  Iter    57:    Energy =   0.0347
Level     1,  Iter    58:    Energy =   0.0347
Level     1,  Iter    59:    Energy =   0.0348
END OF LEVEL     1    DetJac Range:   0.0101  to   2.3124 
  Avg. Gradient Time  : 0.0273s  33.42% 
  Avg. Gaussian Time  : 0.0430s  52.65% 
  Avg. Iteration Time : 0.0817s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0153
Level     2,  Iter     1:    Energy =   0.0159
Level     2,  Iter     2:    Energy =   0.0163
Level     2,  Iter     3:    Energy =   0.0167
Level     2,  Iter     4:    Energy =   0.0170
Level     2,  Iter     5:    Energy =   0.0173
Level     2,  Iter     6:    Energy =   0.0175
Level     2,  Iter     7:    Energy =   0.0177
Level     2,  Iter     8:    Energy =   0.0179
Level     2,  Iter     9:    Energy =   0.0180
Level     2,  Iter    10:    Energy =   0.0182
Level     2,  Iter    11:    Energy =   0.0183
Level     2,  Iter    12:    Energy =   0.0184
Level     2,  Iter    13:    Energy =   0.0184
Level     2,  Iter    14:    Energy =   0.0185
Level     2,  Iter    15:    Energy =   0.0185
Level     2,  Iter    16:    Energy =   0.0186
Level     2,  Iter    17:    Energy =   0.0187
Level     2,  Iter    18:    Energy =   0.0187
Level     2,  Iter    19:    Energy =   0.0188
END OF LEVEL     2    DetJac Range:   0.0106  to   2.3041 
  Avg. Gradient Time  : 0.1777s  31.72% 
  Avg. Gaussian Time  : 0.3049s  54.43% 
  Avg. Iteration Time : 0.5601s 

real	0m20.034s
user	0m34.732s
sys	0m2.336s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.255714 0.26
+ echo 'CHUNK 0.255714 0.26 1'
CHUNK 0.255714 0.26 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.255714 0.26 1
====================================
         PROGRESS: 0.255714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.596
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 225.569   GNORM= 275.538
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -42.515     247.694       0.004
   2    3      -273.683      83.222       1.000
   3    5      -487.902     114.648       5.000
   4    6      -689.979      87.802       1.000
   5    8      -715.711      23.532       0.215
   6    9      -719.644      45.376       1.000
   7   16      -719.860      83.395       0.287
   8   18      -816.343     157.463       5.000
   9   19      -855.571      37.877       1.000
  10   23      -869.078      57.027       1.800
  11   24      -885.324      52.160       1.000
  12   25      -890.148      20.740       1.000
  13   27      -891.248      22.237       0.121
  14   28      -891.375      45.549       1.000
  15   29      -892.922      17.915       1.000
  16   30      -893.036      35.583       1.000
  17   31      -893.884      21.056       1.000
  18   32      -894.629      19.883       1.000
  19   34      -896.632      44.979       5.000
  20   37      -932.846     136.718      21.000
  21   40      -947.844      58.641       0.680
  22   42      -954.584      65.070       0.159
  23   43      -957.792      65.797       1.000
  24   45      -965.579      58.567       0.485
  25   46      -971.145      41.801       1.000
  26   47      -976.731      37.862       1.000
  27   49      -984.927      51.972       0.337
  28   50      -990.346      28.380       1.000
  29   52      -992.732      33.291       0.358
  30   53      -994.299      27.820       1.000
Final RAS Transform: 
0.963954 0.0819629 0.45662 -4.55298 
-0.212218 0.998688 -0.0112699 9.1356 
0.148715 -0.0316014 0.603718 -12.668 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -452.285   GNORM= 85.7423
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -472.897      43.818       0.012
   2    3      -486.731      31.392       1.000
   3    4      -488.890      33.205       1.000
   4    6      -488.936      22.638       0.096
   5    7      -491.098      25.663       1.000
   6   10      -491.311      29.521       0.016
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.961363 0.0820931 0.450521 -4.1616 
-0.217256 1.01058 -0.0194144 10.2289 
0.146904 -0.0318356 0.600361 -12.7325 
0 0 0 1 

Final RAS Transform: 
0.961363 0.0820931 0.450521 -4.1616 
-0.217256 1.01058 -0.0194144 10.2289 
0.146904 -0.0318356 0.600361 -12.7325 
0 0 0 1 


real	0m4.095s
user	0m6.484s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.367708
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0205
Level     0,  Iter     1:    Energy =   0.0220
Level     0,  Iter     2:    Energy =   0.0237
Level     0,  Iter     3:    Energy =   0.0252
Level     0,  Iter     4:    Energy =   0.0264
Level     0,  Iter     5:    Energy =   0.0273
Level     0,  Iter     6:    Energy =   0.0285
Level     0,  Iter     7:    Energy =   0.0296
Level     0,  Iter     8:    Energy =   0.0302
Level     0,  Iter     9:    Energy =   0.0309
Level     0,  Iter    10:    Energy =   0.0312
Level     0,  Iter    11:    Energy =   0.0317
Level     0,  Iter    12:    Energy =   0.0320
Level     0,  Iter    13:    Energy =   0.0325
Level     0,  Iter    14:    Energy =   0.0325
Level     0,  Iter    15:    Energy =   0.0335
Level     0,  Iter    16:    Energy =   0.0335
Level     0,  Iter    17:    Energy =   0.0342
Level     0,  Iter    18:    Energy =   0.0341
Level     0,  Iter    19:    Energy =   0.0348
Level     0,  Iter    20:    Energy =   0.0347
Level     0,  Iter    21:    Energy =   0.0353
Level     0,  Iter    22:    Energy =   0.0353
Level     0,  Iter    23:    Energy =   0.0359
Level     0,  Iter    24:    Energy =   0.0360
Level     0,  Iter    25:    Energy =   0.0361
Level     0,  Iter    26:    Energy =   0.0360
Level     0,  Iter    27:    Energy =   0.0365
Level     0,  Iter    28:    Energy =   0.0363
Level     0,  Iter    29:    Energy =   0.0368
Level     0,  Iter    30:    Energy =   0.0367
Level     0,  Iter    31:    Energy =   0.0371
Level     0,  Iter    32:    Energy =   0.0370
Level     0,  Iter    33:    Energy =   0.0374
Level     0,  Iter    34:    Energy =   0.0378
Level     0,  Iter    35:    Energy =   0.0380
Level     0,  Iter    36:    Energy =   0.0380
Level     0,  Iter    37:    Energy =   0.0382
Level     0,  Iter    38:    Energy =   0.0381
Level     0,  Iter    39:    Energy =   0.0383
Level     0,  Iter    40:    Energy =   0.0382
Level     0,  Iter    41:    Energy =   0.0384
Level     0,  Iter    42:    Energy =   0.0383
Level     0,  Iter    43:    Energy =   0.0385
Level     0,  Iter    44:    Energy =   0.0384
Level     0,  Iter    45:    Energy =   0.0386
Level     0,  Iter    46:    Energy =   0.0388
Level     0,  Iter    47:    Energy =   0.0390
Level     0,  Iter    48:    Energy =   0.0390
Level     0,  Iter    49:    Energy =   0.0392
Level     0,  Iter    50:    Energy =   0.0393
Level     0,  Iter    51:    Energy =   0.0395
Level     0,  Iter    52:    Energy =   0.0395
Level     0,  Iter    53:    Energy =   0.0397
Level     0,  Iter    54:    Energy =   0.0398
Level     0,  Iter    55:    Energy =   0.0399
Level     0,  Iter    56:    Energy =   0.0400
Level     0,  Iter    57:    Energy =   0.0401
Level     0,  Iter    58:    Energy =   0.0401
Level     0,  Iter    59:    Energy =   0.0403
END OF LEVEL     0    DetJac Range:   0.1634  to   1.8509 
  Avg. Gradient Time  : 0.0065s  33.06% 
  Avg. Gaussian Time  : 0.0095s  47.96% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0202
Level     1,  Iter     1:    Energy =   0.0214
Level     1,  Iter     2:    Energy =   0.0225
Level     1,  Iter     3:    Energy =   0.0234
Level     1,  Iter     4:    Energy =   0.0241
Level     1,  Iter     5:    Energy =   0.0248
Level     1,  Iter     6:    Energy =   0.0256
Level     1,  Iter     7:    Energy =   0.0262
Level     1,  Iter     8:    Energy =   0.0266
Level     1,  Iter     9:    Energy =   0.0270
Level     1,  Iter    10:    Energy =   0.0274
Level     1,  Iter    11:    Energy =   0.0276
Level     1,  Iter    12:    Energy =   0.0278
Level     1,  Iter    13:    Energy =   0.0279
Level     1,  Iter    14:    Energy =   0.0280
Level     1,  Iter    15:    Energy =   0.0281
Level     1,  Iter    16:    Energy =   0.0282
Level     1,  Iter    17:    Energy =   0.0283
Level     1,  Iter    18:    Energy =   0.0283
Level     1,  Iter    19:    Energy =   0.0283
Level     1,  Iter    20:    Energy =   0.0284
Level     1,  Iter    21:    Energy =   0.0284
Level     1,  Iter    22:    Energy =   0.0284
Level     1,  Iter    23:    Energy =   0.0284
Level     1,  Iter    24:    Energy =   0.0284
Level     1,  Iter    25:    Energy =   0.0284
Level     1,  Iter    26:    Energy =   0.0284
Level     1,  Iter    27:    Energy =   0.0284
Level     1,  Iter    28:    Energy =   0.0284
Level     1,  Iter    29:    Energy =   0.0284
Level     1,  Iter    30:    Energy =   0.0284
Level     1,  Iter    31:    Energy =   0.0284
Level     1,  Iter    32:    Energy =   0.0284
Level     1,  Iter    33:    Energy =   0.0284
Level     1,  Iter    34:    Energy =   0.0284
Level     1,  Iter    35:    Energy =   0.0284
Level     1,  Iter    36:    Energy =   0.0284
Level     1,  Iter    37:    Energy =   0.0284
Level     1,  Iter    38:    Energy =   0.0284
Level     1,  Iter    39:    Energy =   0.0284
Level     1,  Iter    40:    Energy =   0.0284
Level     1,  Iter    41:    Energy =   0.0284
Level     1,  Iter    42:    Energy =   0.0284
Level     1,  Iter    43:    Energy =   0.0284
Level     1,  Iter    44:    Energy =   0.0284
Level     1,  Iter    45:    Energy =   0.0284
Level     1,  Iter    46:    Energy =   0.0284
Level     1,  Iter    47:    Energy =   0.0284
Level     1,  Iter    48:    Energy =   0.0284
Level     1,  Iter    49:    Energy =   0.0284
Level     1,  Iter    50:    Energy =   0.0284
Level     1,  Iter    51:    Energy =   0.0284
Level     1,  Iter    52:    Energy =   0.0284
Level     1,  Iter    53:    Energy =   0.0284
Level     1,  Iter    54:    Energy =   0.0284
Level     1,  Iter    55:    Energy =   0.0284
Level     1,  Iter    56:    Energy =   0.0284
Level     1,  Iter    57:    Energy =   0.0284
Level     1,  Iter    58:    Energy =   0.0284
Level     1,  Iter    59:    Energy =   0.0284
END OF LEVEL     1    DetJac Range:   0.0586  to   2.3212 
  Avg. Gradient Time  : 0.0270s  33.23% 
  Avg. Gaussian Time  : 0.0430s  52.84% 
  Avg. Iteration Time : 0.0813s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0115
Level     2,  Iter     1:    Energy =   0.0121
Level     2,  Iter     2:    Energy =   0.0125
Level     2,  Iter     3:    Energy =   0.0128
Level     2,  Iter     4:    Energy =   0.0130
Level     2,  Iter     5:    Energy =   0.0132
Level     2,  Iter     6:    Energy =   0.0134
Level     2,  Iter     7:    Energy =   0.0137
Level     2,  Iter     8:    Energy =   0.0139
Level     2,  Iter     9:    Energy =   0.0141
Level     2,  Iter    10:    Energy =   0.0143
Level     2,  Iter    11:    Energy =   0.0145
Level     2,  Iter    12:    Energy =   0.0147
Level     2,  Iter    13:    Energy =   0.0149
Level     2,  Iter    14:    Energy =   0.0150
Level     2,  Iter    15:    Energy =   0.0152
Level     2,  Iter    16:    Energy =   0.0154
Level     2,  Iter    17:    Energy =   0.0155
Level     2,  Iter    18:    Energy =   0.0156
Level     2,  Iter    19:    Energy =   0.0157
END OF LEVEL     2    DetJac Range:   0.0405  to   2.4182 
  Avg. Gradient Time  : 0.1898s  31.94% 
  Avg. Gaussian Time  : 0.3230s  54.34% 
  Avg. Iteration Time : 0.5944s 

real	0m20.642s
user	0m36.144s
sys	0m2.136s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.26 0.264286
+ echo 'CHUNK 0.26 0.264286 1'
CHUNK 0.26 0.264286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.26 0.264286 1
====================================
         PROGRESS: 0.26               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 334.474   GNORM= 269.311
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -357.285     152.783       0.019
   2    4      -565.459     116.309       1.000
   3    7      -644.510     120.910       0.677
   4    9      -663.800      87.859       0.284
   5   10      -701.380      80.988       1.000
   6   14      -708.194      65.715       0.014
   7   16      -709.877      56.743       0.385
   8   18      -714.914      58.581       5.000
   9   21      -738.925      45.878       2.463
  10   22      -740.997      54.830       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.1204 -0.0980888 0.150237 -3.53543 
-0.0931907 1.10063 -0.138836 4.10628 
0.0449334 -0.123609 1.03611 -3.28057 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -321.536   GNORM= 435.138
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11929 -0.0968725 0.148562 -3.39751 
-0.0920175 1.09977 -0.13692 3.96984 
0.0443495 -0.122868 1.03519 -3.20244 
0 0 0 1 

Final RAS Transform: 
1.11929 -0.0968725 0.148562 -3.39751 
-0.0920175 1.09977 -0.13692 3.96984 
0.0443495 -0.122868 1.03519 -3.20244 
0 0 0 1 


real	0m3.500s
user	0m5.312s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.369635
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0143
Level     0,  Iter     1:    Energy =   0.0159
Level     0,  Iter     2:    Energy =   0.0178
Level     0,  Iter     3:    Energy =   0.0196
Level     0,  Iter     4:    Energy =   0.0213
Level     0,  Iter     5:    Energy =   0.0229
Level     0,  Iter     6:    Energy =   0.0241
Level     0,  Iter     7:    Energy =   0.0249
Level     0,  Iter     8:    Energy =   0.0256
Level     0,  Iter     9:    Energy =   0.0264
Level     0,  Iter    10:    Energy =   0.0272
Level     0,  Iter    11:    Energy =   0.0280
Level     0,  Iter    12:    Energy =   0.0286
Level     0,  Iter    13:    Energy =   0.0291
Level     0,  Iter    14:    Energy =   0.0294
Level     0,  Iter    15:    Energy =   0.0298
Level     0,  Iter    16:    Energy =   0.0301
Level     0,  Iter    17:    Energy =   0.0306
Level     0,  Iter    18:    Energy =   0.0309
Level     0,  Iter    19:    Energy =   0.0311
Level     0,  Iter    20:    Energy =   0.0312
Level     0,  Iter    21:    Energy =   0.0314
Level     0,  Iter    22:    Energy =   0.0315
Level     0,  Iter    23:    Energy =   0.0316
Level     0,  Iter    24:    Energy =   0.0318
Level     0,  Iter    25:    Energy =   0.0319
Level     0,  Iter    26:    Energy =   0.0320
Level     0,  Iter    27:    Energy =   0.0321
Level     0,  Iter    28:    Energy =   0.0322
Level     0,  Iter    29:    Energy =   0.0323
Level     0,  Iter    30:    Energy =   0.0324
Level     0,  Iter    31:    Energy =   0.0325
Level     0,  Iter    32:    Energy =   0.0325
Level     0,  Iter    33:    Energy =   0.0326
Level     0,  Iter    34:    Energy =   0.0327
Level     0,  Iter    35:    Energy =   0.0327
Level     0,  Iter    36:    Energy =   0.0328
Level     0,  Iter    37:    Energy =   0.0329
Level     0,  Iter    38:    Energy =   0.0330
Level     0,  Iter    39:    Energy =   0.0331
Level     0,  Iter    40:    Energy =   0.0331
Level     0,  Iter    41:    Energy =   0.0332
Level     0,  Iter    42:    Energy =   0.0333
Level     0,  Iter    43:    Energy =   0.0333
Level     0,  Iter    44:    Energy =   0.0334
Level     0,  Iter    45:    Energy =   0.0334
Level     0,  Iter    46:    Energy =   0.0335
Level     0,  Iter    47:    Energy =   0.0335
Level     0,  Iter    48:    Energy =   0.0335
Level     0,  Iter    49:    Energy =   0.0335
Level     0,  Iter    50:    Energy =   0.0335
Level     0,  Iter    51:    Energy =   0.0335
Level     0,  Iter    52:    Energy =   0.0335
Level     0,  Iter    53:    Energy =   0.0335
Level     0,  Iter    54:    Energy =   0.0335
Level     0,  Iter    55:    Energy =   0.0334
Level     0,  Iter    56:    Energy =   0.0335
Level     0,  Iter    57:    Energy =   0.0335
Level     0,  Iter    58:    Energy =   0.0336
Level     0,  Iter    59:    Energy =   0.0336
END OF LEVEL     0    DetJac Range:   0.0796  to   1.9152 
  Avg. Gradient Time  : 0.0068s  33.07% 
  Avg. Gaussian Time  : 0.0099s  47.91% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0181
Level     1,  Iter     1:    Energy =   0.0191
Level     1,  Iter     2:    Energy =   0.0200
Level     1,  Iter     3:    Energy =   0.0209
Level     1,  Iter     4:    Energy =   0.0216
Level     1,  Iter     5:    Energy =   0.0222
Level     1,  Iter     6:    Energy =   0.0227
Level     1,  Iter     7:    Energy =   0.0231
Level     1,  Iter     8:    Energy =   0.0234
Level     1,  Iter     9:    Energy =   0.0236
Level     1,  Iter    10:    Energy =   0.0237
Level     1,  Iter    11:    Energy =   0.0239
Level     1,  Iter    12:    Energy =   0.0240
Level     1,  Iter    13:    Energy =   0.0240
Level     1,  Iter    14:    Energy =   0.0242
Level     1,  Iter    15:    Energy =   0.0243
Level     1,  Iter    16:    Energy =   0.0244
Level     1,  Iter    17:    Energy =   0.0245
Level     1,  Iter    18:    Energy =   0.0245
Level     1,  Iter    19:    Energy =   0.0245
Level     1,  Iter    20:    Energy =   0.0245
Level     1,  Iter    21:    Energy =   0.0245
Level     1,  Iter    22:    Energy =   0.0244
Level     1,  Iter    23:    Energy =   0.0244
Level     1,  Iter    24:    Energy =   0.0243
Level     1,  Iter    25:    Energy =   0.0243
Level     1,  Iter    26:    Energy =   0.0242
Level     1,  Iter    27:    Energy =   0.0242
Level     1,  Iter    28:    Energy =   0.0241
Level     1,  Iter    29:    Energy =   0.0241
Level     1,  Iter    30:    Energy =   0.0240
Level     1,  Iter    31:    Energy =   0.0239
Level     1,  Iter    32:    Energy =   0.0239
Level     1,  Iter    33:    Energy =   0.0238
Level     1,  Iter    34:    Energy =   0.0238
Level     1,  Iter    35:    Energy =   0.0237
Level     1,  Iter    36:    Energy =   0.0236
Level     1,  Iter    37:    Energy =   0.0236
Level     1,  Iter    38:    Energy =   0.0235
Level     1,  Iter    39:    Energy =   0.0235
Level     1,  Iter    40:    Energy =   0.0234
Level     1,  Iter    41:    Energy =   0.0234
Level     1,  Iter    42:    Energy =   0.0234
Level     1,  Iter    43:    Energy =   0.0233
Level     1,  Iter    44:    Energy =   0.0233
Level     1,  Iter    45:    Energy =   0.0233
Level     1,  Iter    46:    Energy =   0.0232
Level     1,  Iter    47:    Energy =   0.0232
Level     1,  Iter    48:    Energy =   0.0232
Level     1,  Iter    49:    Energy =   0.0232
Level     1,  Iter    50:    Energy =   0.0231
Level     1,  Iter    51:    Energy =   0.0231
Level     1,  Iter    52:    Energy =   0.0231
Level     1,  Iter    53:    Energy =   0.0231
Level     1,  Iter    54:    Energy =   0.0230
Level     1,  Iter    55:    Energy =   0.0230
Level     1,  Iter    56:    Energy =   0.0230
Level     1,  Iter    57:    Energy =   0.0230
Level     1,  Iter    58:    Energy =   0.0230
Level     1,  Iter    59:    Energy =   0.0230
END OF LEVEL     1    DetJac Range:   0.0652  to   2.0163 
  Avg. Gradient Time  : 0.0286s  33.64% 
  Avg. Gaussian Time  : 0.0445s  52.43% 
  Avg. Iteration Time : 0.0849s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0093
Level     2,  Iter     1:    Energy =   0.0096
Level     2,  Iter     2:    Energy =   0.0100
Level     2,  Iter     3:    Energy =   0.0103
Level     2,  Iter     4:    Energy =   0.0106
Level     2,  Iter     5:    Energy =   0.0108
Level     2,  Iter     6:    Energy =   0.0111
Level     2,  Iter     7:    Energy =   0.0114
Level     2,  Iter     8:    Energy =   0.0117
Level     2,  Iter     9:    Energy =   0.0119
Level     2,  Iter    10:    Energy =   0.0121
Level     2,  Iter    11:    Energy =   0.0123
Level     2,  Iter    12:    Energy =   0.0125
Level     2,  Iter    13:    Energy =   0.0127
Level     2,  Iter    14:    Energy =   0.0129
Level     2,  Iter    15:    Energy =   0.0131
Level     2,  Iter    16:    Energy =   0.0132
Level     2,  Iter    17:    Energy =   0.0133
Level     2,  Iter    18:    Energy =   0.0134
Level     2,  Iter    19:    Energy =   0.0135
END OF LEVEL     2    DetJac Range:   0.0424  to   2.2896 
  Avg. Gradient Time  : 0.1929s  32.05% 
  Avg. Gaussian Time  : 0.3270s  54.32% 
  Avg. Iteration Time : 0.6020s 

real	0m21.129s
user	0m36.800s
sys	0m2.368s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.264286 0.268571
+ echo 'CHUNK 0.264286 0.268571 1'
CHUNK 0.264286 0.268571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.264286 0.268571 1
====================================
         PROGRESS: 0.264286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.599
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 308.277   GNORM= 199.588
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -410.287      50.986       0.025
   2    4      -430.468      92.883       1.000
   3    5      -463.636      51.395       1.000
   4   15      -568.751      61.621       1.412
   5   18      -589.724      33.300       0.011
   6   20      -592.545      22.408       0.351
   7   23      -593.249      30.857       2.240
   8   25      -595.477      39.293       0.043
   9   27      -597.188      21.735       0.261
  10   30      -600.089      48.300       2.328
  11   32      -607.896      27.314       0.465
  12   33      -625.334      50.417       1.000
  13   35      -629.017      59.432       0.165
  14   36      -638.932      40.296       1.000
  15   40      -647.330      69.481       1.636
  16   41      -659.830      77.565       1.000
  17   42      -671.045      38.979       1.000
  18   43      -683.016      85.312       1.000
  19   44      -698.584      49.379       1.000
  20   47      -708.882      16.468       2.215
  21   48      -712.616     271.339       1.000
Final RAS Transform: 
0.991272 -0.064956 0.39985 -1.36275 
-0.0171553 1.22478 -0.0736386 -1.84665 
-0.171806 -0.231792 0.794096 -9.63174 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -339.29   GNORM= 70.589
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -363.829      65.028       0.020
   2    9      -364.785      38.513       0.001
   3   11      -365.338      46.555       0.510
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.995237 -0.0661804 0.405007 -1.80451 
-0.0163405 1.2243 -0.0709174 -1.92637 
-0.174754 -0.226087 0.788872 -8.98973 
0 0 0 1 

Final RAS Transform: 
0.995237 -0.0661804 0.405007 -1.80451 
-0.0163405 1.2243 -0.0709174 -1.92637 
-0.174754 -0.226087 0.788872 -8.98973 
0 0 0 1 


real	0m4.257s
user	0m6.732s
sys	0m0.568s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.459376
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0151
Level     0,  Iter     1:    Energy =   0.0165
Level     0,  Iter     2:    Energy =   0.0181
Level     0,  Iter     3:    Energy =   0.0196
Level     0,  Iter     4:    Energy =   0.0211
Level     0,  Iter     5:    Energy =   0.0227
Level     0,  Iter     6:    Energy =   0.0240
Level     0,  Iter     7:    Energy =   0.0250
Level     0,  Iter     8:    Energy =   0.0259
Level     0,  Iter     9:    Energy =   0.0265
Level     0,  Iter    10:    Energy =   0.0270
Level     0,  Iter    11:    Energy =   0.0274
Level     0,  Iter    12:    Energy =   0.0276
Level     0,  Iter    13:    Energy =   0.0279
Level     0,  Iter    14:    Energy =   0.0282
Level     0,  Iter    15:    Energy =   0.0284
Level     0,  Iter    16:    Energy =   0.0286
Level     0,  Iter    17:    Energy =   0.0288
Level     0,  Iter    18:    Energy =   0.0290
Level     0,  Iter    19:    Energy =   0.0292
Level     0,  Iter    20:    Energy =   0.0294
Level     0,  Iter    21:    Energy =   0.0296
Level     0,  Iter    22:    Energy =   0.0298
Level     0,  Iter    23:    Energy =   0.0299
Level     0,  Iter    24:    Energy =   0.0301
Level     0,  Iter    25:    Energy =   0.0303
Level     0,  Iter    26:    Energy =   0.0304
Level     0,  Iter    27:    Energy =   0.0306
Level     0,  Iter    28:    Energy =   0.0307
Level     0,  Iter    29:    Energy =   0.0310
Level     0,  Iter    30:    Energy =   0.0312
Level     0,  Iter    31:    Energy =   0.0313
Level     0,  Iter    32:    Energy =   0.0314
Level     0,  Iter    33:    Energy =   0.0315
Level     0,  Iter    34:    Energy =   0.0316
Level     0,  Iter    35:    Energy =   0.0318
Level     0,  Iter    36:    Energy =   0.0319
Level     0,  Iter    37:    Energy =   0.0320
Level     0,  Iter    38:    Energy =   0.0321
Level     0,  Iter    39:    Energy =   0.0322
Level     0,  Iter    40:    Energy =   0.0322
Level     0,  Iter    41:    Energy =   0.0323
Level     0,  Iter    42:    Energy =   0.0324
Level     0,  Iter    43:    Energy =   0.0325
Level     0,  Iter    44:    Energy =   0.0326
Level     0,  Iter    45:    Energy =   0.0326
Level     0,  Iter    46:    Energy =   0.0327
Level     0,  Iter    47:    Energy =   0.0327
Level     0,  Iter    48:    Energy =   0.0328
Level     0,  Iter    49:    Energy =   0.0328
Level     0,  Iter    50:    Energy =   0.0329
Level     0,  Iter    51:    Energy =   0.0330
Level     0,  Iter    52:    Energy =   0.0330
Level     0,  Iter    53:    Energy =   0.0331
Level     0,  Iter    54:    Energy =   0.0332
Level     0,  Iter    55:    Energy =   0.0332
Level     0,  Iter    56:    Energy =   0.0332
Level     0,  Iter    57:    Energy =   0.0333
Level     0,  Iter    58:    Energy =   0.0333
Level     0,  Iter    59:    Energy =   0.0334
END OF LEVEL     0    DetJac Range:   0.0139  to   2.3588 
  Avg. Gradient Time  : 0.0070s  33.10% 
  Avg. Gaussian Time  : 0.0102s  47.95% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0193
Level     1,  Iter     1:    Energy =   0.0199
Level     1,  Iter     2:    Energy =   0.0203
Level     1,  Iter     3:    Energy =   0.0207
Level     1,  Iter     4:    Energy =   0.0211
Level     1,  Iter     5:    Energy =   0.0213
Level     1,  Iter     6:    Energy =   0.0216
Level     1,  Iter     7:    Energy =   0.0218
Level     1,  Iter     8:    Energy =   0.0220
Level     1,  Iter     9:    Energy =   0.0222
Level     1,  Iter    10:    Energy =   0.0224
Level     1,  Iter    11:    Energy =   0.0226
Level     1,  Iter    12:    Energy =   0.0228
Level     1,  Iter    13:    Energy =   0.0230
Level     1,  Iter    14:    Energy =   0.0232
Level     1,  Iter    15:    Energy =   0.0234
Level     1,  Iter    16:    Energy =   0.0235
Level     1,  Iter    17:    Energy =   0.0237
Level     1,  Iter    18:    Energy =   0.0239
Level     1,  Iter    19:    Energy =   0.0241
Level     1,  Iter    20:    Energy =   0.0244
Level     1,  Iter    21:    Energy =   0.0247
Level     1,  Iter    22:    Energy =   0.0249
Level     1,  Iter    23:    Energy =   0.0252
Level     1,  Iter    24:    Energy =   0.0254
Level     1,  Iter    25:    Energy =   0.0255
Level     1,  Iter    26:    Energy =   0.0257
Level     1,  Iter    27:    Energy =   0.0258
Level     1,  Iter    28:    Energy =   0.0259
Level     1,  Iter    29:    Energy =   0.0261
Level     1,  Iter    30:    Energy =   0.0262
Level     1,  Iter    31:    Energy =   0.0263
Level     1,  Iter    32:    Energy =   0.0263
Level     1,  Iter    33:    Energy =   0.0264
Level     1,  Iter    34:    Energy =   0.0265
Level     1,  Iter    35:    Energy =   0.0266
Level     1,  Iter    36:    Energy =   0.0267
Level     1,  Iter    37:    Energy =   0.0267
Level     1,  Iter    38:    Energy =   0.0268
Level     1,  Iter    39:    Energy =   0.0269
Level     1,  Iter    40:    Energy =   0.0269
Level     1,  Iter    41:    Energy =   0.0270
Level     1,  Iter    42:    Energy =   0.0270
Level     1,  Iter    43:    Energy =   0.0271
Level     1,  Iter    44:    Energy =   0.0271
Level     1,  Iter    45:    Energy =   0.0271
Level     1,  Iter    46:    Energy =   0.0272
Level     1,  Iter    47:    Energy =   0.0272
Level     1,  Iter    48:    Energy =   0.0272
Level     1,  Iter    49:    Energy =   0.0273
Level     1,  Iter    50:    Energy =   0.0273
Level     1,  Iter    51:    Energy =   0.0273
Level     1,  Iter    52:    Energy =   0.0274
Level     1,  Iter    53:    Energy =   0.0274
Level     1,  Iter    54:    Energy =   0.0274
Level     1,  Iter    55:    Energy =   0.0274
Level     1,  Iter    56:    Energy =   0.0275
Level     1,  Iter    57:    Energy =   0.0275
Level     1,  Iter    58:    Energy =   0.0275
Level     1,  Iter    59:    Energy =   0.0275
END OF LEVEL     1    DetJac Range:   0.0089  to   2.1845 
  Avg. Gradient Time  : 0.0289s  33.56% 
  Avg. Gaussian Time  : 0.0453s  52.50% 
  Avg. Iteration Time : 0.0862s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0113
Level     2,  Iter     1:    Energy =   0.0118
Level     2,  Iter     2:    Energy =   0.0121
Level     2,  Iter     3:    Energy =   0.0125
Level     2,  Iter     4:    Energy =   0.0128
Level     2,  Iter     5:    Energy =   0.0131
Level     2,  Iter     6:    Energy =   0.0134
Level     2,  Iter     7:    Energy =   0.0137
Level     2,  Iter     8:    Energy =   0.0141
Level     2,  Iter     9:    Energy =   0.0145
Level     2,  Iter    10:    Energy =   0.0150
Level     2,  Iter    11:    Energy =   0.0154
Level     2,  Iter    12:    Energy =   0.0158
Level     2,  Iter    13:    Energy =   0.0161
Level     2,  Iter    14:    Energy =   0.0164
Level     2,  Iter    15:    Energy =   0.0167
Level     2,  Iter    16:    Energy =   0.0170
Level     2,  Iter    17:    Energy =   0.0172
Level     2,  Iter    18:    Energy =   0.0174
Level     2,  Iter    19:    Energy =   0.0177
END OF LEVEL     2    DetJac Range:   0.0090  to   3.8029 
  Avg. Gradient Time  : 0.1902s  32.06% 
  Avg. Gaussian Time  : 0.3218s  54.26% 
  Avg. Iteration Time : 0.5932s 

real	0m21.087s
user	0m36.708s
sys	0m2.408s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.268571 0.272857
+ echo 'CHUNK 0.268571 0.272857 1'
CHUNK 0.268571 0.272857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.268571 0.272857 1
====================================
         PROGRESS: 0.268571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.686
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 278.007   GNORM= 230.445
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -123.237     224.772       0.022
   2    4      -548.964     112.677       1.000
   3    6      -754.312     373.710       0.267
   4   12      -759.559      82.782       0.002
   5   13      -781.679      56.413       1.000
   6   14      -789.096      18.101       1.000
   7   16      -792.628      38.479       5.000
   8   17      -799.750      61.803       1.000
   9   18      -810.382      68.720       1.000
  10   20      -825.622     167.578       0.098
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.17454 -0.0176608 0.208634 -2.35955 
-0.134983 1.09251 -0.128623 3.7808 
0.0969841 -0.121782 0.985613 -4.62041 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -345.954   GNORM= 388.857
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -353.650      48.984       0.003
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.16885 -0.0114282 0.200928 -1.65747 
-0.135379 1.09356 -0.1285 3.83173 
0.0980186 -0.123226 0.988354 -4.8222 
0 0 0 1 

Final RAS Transform: 
1.16885 -0.0114282 0.200928 -1.65747 
-0.135379 1.09356 -0.1285 3.83173 
0.0980186 -0.123226 0.988354 -4.8222 
0 0 0 1 


real	0m3.465s
user	0m5.308s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.487194
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0167
Level     0,  Iter     1:    Energy =   0.0188
Level     0,  Iter     2:    Energy =   0.0214
Level     0,  Iter     3:    Energy =   0.0240
Level     0,  Iter     4:    Energy =   0.0261
Level     0,  Iter     5:    Energy =   0.0283
Level     0,  Iter     6:    Energy =   0.0302
Level     0,  Iter     7:    Energy =   0.0315
Level     0,  Iter     8:    Energy =   0.0325
Level     0,  Iter     9:    Energy =   0.0333
Level     0,  Iter    10:    Energy =   0.0341
Level     0,  Iter    11:    Energy =   0.0348
Level     0,  Iter    12:    Energy =   0.0355
Level     0,  Iter    13:    Energy =   0.0361
Level     0,  Iter    14:    Energy =   0.0361
Level     0,  Iter    15:    Energy =   0.0365
Level     0,  Iter    16:    Energy =   0.0368
Level     0,  Iter    17:    Energy =   0.0373
Level     0,  Iter    18:    Energy =   0.0376
Level     0,  Iter    19:    Energy =   0.0380
Level     0,  Iter    20:    Energy =   0.0383
Level     0,  Iter    21:    Energy =   0.0385
Level     0,  Iter    22:    Energy =   0.0388
Level     0,  Iter    23:    Energy =   0.0390
Level     0,  Iter    24:    Energy =   0.0391
Level     0,  Iter    25:    Energy =   0.0391
Level     0,  Iter    26:    Energy =   0.0392
Level     0,  Iter    27:    Energy =   0.0393
Level     0,  Iter    28:    Energy =   0.0394
Level     0,  Iter    29:    Energy =   0.0396
Level     0,  Iter    30:    Energy =   0.0397
Level     0,  Iter    31:    Energy =   0.0398
Level     0,  Iter    32:    Energy =   0.0398
Level     0,  Iter    33:    Energy =   0.0400
Level     0,  Iter    34:    Energy =   0.0400
Level     0,  Iter    35:    Energy =   0.0402
Level     0,  Iter    36:    Energy =   0.0403
Level     0,  Iter    37:    Energy =   0.0405
Level     0,  Iter    38:    Energy =   0.0405
Level     0,  Iter    39:    Energy =   0.0407
Level     0,  Iter    40:    Energy =   0.0408
Level     0,  Iter    41:    Energy =   0.0409
Level     0,  Iter    42:    Energy =   0.0409
Level     0,  Iter    43:    Energy =   0.0410
Level     0,  Iter    44:    Energy =   0.0411
Level     0,  Iter    45:    Energy =   0.0412
Level     0,  Iter    46:    Energy =   0.0413
Level     0,  Iter    47:    Energy =   0.0414
Level     0,  Iter    48:    Energy =   0.0415
Level     0,  Iter    49:    Energy =   0.0417
Level     0,  Iter    50:    Energy =   0.0418
Level     0,  Iter    51:    Energy =   0.0419
Level     0,  Iter    52:    Energy =   0.0420
Level     0,  Iter    53:    Energy =   0.0421
Level     0,  Iter    54:    Energy =   0.0421
Level     0,  Iter    55:    Energy =   0.0422
Level     0,  Iter    56:    Energy =   0.0422
Level     0,  Iter    57:    Energy =   0.0423
Level     0,  Iter    58:    Energy =   0.0424
Level     0,  Iter    59:    Energy =   0.0424
END OF LEVEL     0    DetJac Range:   0.1096  to   4.2173 
  Avg. Gradient Time  : 0.0069s  32.98% 
  Avg. Gaussian Time  : 0.0101s  48.05% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0231
Level     1,  Iter     1:    Energy =   0.0245
Level     1,  Iter     2:    Energy =   0.0256
Level     1,  Iter     3:    Energy =   0.0265
Level     1,  Iter     4:    Energy =   0.0273
Level     1,  Iter     5:    Energy =   0.0279
Level     1,  Iter     6:    Energy =   0.0285
Level     1,  Iter     7:    Energy =   0.0289
Level     1,  Iter     8:    Energy =   0.0293
Level     1,  Iter     9:    Energy =   0.0296
Level     1,  Iter    10:    Energy =   0.0300
Level     1,  Iter    11:    Energy =   0.0302
Level     1,  Iter    12:    Energy =   0.0305
Level     1,  Iter    13:    Energy =   0.0307
Level     1,  Iter    14:    Energy =   0.0310
Level     1,  Iter    15:    Energy =   0.0312
Level     1,  Iter    16:    Energy =   0.0314
Level     1,  Iter    17:    Energy =   0.0316
Level     1,  Iter    18:    Energy =   0.0318
Level     1,  Iter    19:    Energy =   0.0319
Level     1,  Iter    20:    Energy =   0.0321
Level     1,  Iter    21:    Energy =   0.0322
Level     1,  Iter    22:    Energy =   0.0323
Level     1,  Iter    23:    Energy =   0.0324
Level     1,  Iter    24:    Energy =   0.0325
Level     1,  Iter    25:    Energy =   0.0326
Level     1,  Iter    26:    Energy =   0.0327
Level     1,  Iter    27:    Energy =   0.0328
Level     1,  Iter    28:    Energy =   0.0329
Level     1,  Iter    29:    Energy =   0.0330
Level     1,  Iter    30:    Energy =   0.0331
Level     1,  Iter    31:    Energy =   0.0332
Level     1,  Iter    32:    Energy =   0.0333
Level     1,  Iter    33:    Energy =   0.0334
Level     1,  Iter    34:    Energy =   0.0335
Level     1,  Iter    35:    Energy =   0.0336
Level     1,  Iter    36:    Energy =   0.0337
Level     1,  Iter    37:    Energy =   0.0338
Level     1,  Iter    38:    Energy =   0.0339
Level     1,  Iter    39:    Energy =   0.0339
Level     1,  Iter    40:    Energy =   0.0340
Level     1,  Iter    41:    Energy =   0.0341
Level     1,  Iter    42:    Energy =   0.0341
Level     1,  Iter    43:    Energy =   0.0341
Level     1,  Iter    44:    Energy =   0.0341
Level     1,  Iter    45:    Energy =   0.0341
Level     1,  Iter    46:    Energy =   0.0342
Level     1,  Iter    47:    Energy =   0.0342
Level     1,  Iter    48:    Energy =   0.0342
Level     1,  Iter    49:    Energy =   0.0342
Level     1,  Iter    50:    Energy =   0.0341
Level     1,  Iter    51:    Energy =   0.0341
Level     1,  Iter    52:    Energy =   0.0341
Level     1,  Iter    53:    Energy =   0.0341
Level     1,  Iter    54:    Energy =   0.0341
Level     1,  Iter    55:    Energy =   0.0341
Level     1,  Iter    56:    Energy =   0.0341
Level     1,  Iter    57:    Energy =   0.0341
Level     1,  Iter    58:    Energy =   0.0341
Level     1,  Iter    59:    Energy =   0.0341
END OF LEVEL     1    DetJac Range:   0.0606  to   6.0205 
  Avg. Gradient Time  : 0.0285s  33.33% 
  Avg. Gaussian Time  : 0.0451s  52.75% 
  Avg. Iteration Time : 0.0855s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0138
Level     2,  Iter     1:    Energy =   0.0143
Level     2,  Iter     2:    Energy =   0.0147
Level     2,  Iter     3:    Energy =   0.0151
Level     2,  Iter     4:    Energy =   0.0155
Level     2,  Iter     5:    Energy =   0.0160
Level     2,  Iter     6:    Energy =   0.0165
Level     2,  Iter     7:    Energy =   0.0168
Level     2,  Iter     8:    Energy =   0.0172
Level     2,  Iter     9:    Energy =   0.0174
Level     2,  Iter    10:    Energy =   0.0177
Level     2,  Iter    11:    Energy =   0.0179
Level     2,  Iter    12:    Energy =   0.0181
Level     2,  Iter    13:    Energy =   0.0182
Level     2,  Iter    14:    Energy =   0.0184
Level     2,  Iter    15:    Energy =   0.0186
Level     2,  Iter    16:    Energy =   0.0187
Level     2,  Iter    17:    Energy =   0.0188
Level     2,  Iter    18:    Energy =   0.0189
Level     2,  Iter    19:    Energy =   0.0191
END OF LEVEL     2    DetJac Range:   0.0429  to   5.0424 
  Avg. Gradient Time  : 0.1864s  31.70% 
  Avg. Gaussian Time  : 0.3208s  54.56% 
  Avg. Iteration Time : 0.5879s 

real	0m20.920s
user	0m36.512s
sys	0m2.280s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.272857 0.277143
+ echo 'CHUNK 0.272857 0.277143 1'
CHUNK 0.272857 0.277143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.272857 0.277143 1
====================================
         PROGRESS: 0.272857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 145.242   GNORM= 259.179
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -115.650     236.993       0.004
   2    3      -251.582      90.897       1.000
   3    4      -340.414      70.477       1.000
   4    5      -451.821      52.921       1.000
   5    8      -493.871      39.817       1.368
   6    9      -504.565      33.261       1.000
   7   10      -524.192      55.849       1.000
   8   12      -538.534     101.593       0.184
   9   13      -569.310      66.551       1.000
  10   14      -640.804      36.952       1.000
  11   15      -673.485      29.264       1.000
  12   17      -692.270      29.352       0.179
  13   18      -711.218      30.466       1.000
  14   19      -712.764      71.017       1.000
  15   20      -751.994      68.765       1.000
  16   22      -791.591      80.163       0.224
  17   23      -824.796      26.289       1.000
  18   24      -832.054      22.325       1.000
  19   25      -837.205      14.112       1.000
  20   28      -839.389      16.291       1.916
  21   29      -847.571      10.982       1.000
  22   30      -850.064      18.092       1.000
  23   32      -852.337      17.534       0.157
  24   34      -853.453      11.092       0.484
  25   35      -854.096       6.896       1.000
  26   39      -861.316      42.882       9.621
  27   40      -867.598      32.204       1.000
  28   41      -873.432      23.628       1.000
  29   43      -876.099      15.960       0.524
  30   44      -881.540      34.131       1.000
  31   45      -884.459      10.778       1.000
  32   47      -886.459      17.594       0.448
  33   48      -888.585      16.661       1.000
  34   50      -889.324      13.349       0.080
  35   52      -889.626       6.999       0.145
  36   53      -889.987       9.476       1.000
  37   54      -890.571       9.341       1.000
  38   55      -891.321       5.919       1.000
  39   57      -891.603       8.813       0.201
  40   58      -891.835      21.861       1.000
  41   59      -892.038      20.890       1.000
Final RAS Transform: 
1.25224 -0.710371 0.357325 5.59236 
-0.172312 0.819907 -0.0109857 4.10984 
-0.0745933 -0.523821 0.876737 13.7667 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -439.469   GNORM= 31.2959
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -445.877      49.155       0.012
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.25216 -0.710759 0.357448 5.59927 
-0.171681 0.818671 -0.00955454 3.91733 
-0.0736699 -0.525862 0.878114 13.5242 
0 0 0 1 

Final RAS Transform: 
1.25216 -0.710759 0.357448 5.59927 
-0.171681 0.818671 -0.00955454 3.91733 
-0.0736699 -0.525862 0.878114 13.5242 
0 0 0 1 


real	0m3.797s
user	0m5.796s
sys	0m0.568s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.417371
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0199
Level     0,  Iter     1:    Energy =   0.0218
Level     0,  Iter     2:    Energy =   0.0233
Level     0,  Iter     3:    Energy =   0.0253
Level     0,  Iter     4:    Energy =   0.0266
Level     0,  Iter     5:    Energy =   0.0273
Level     0,  Iter     6:    Energy =   0.0281
Level     0,  Iter     7:    Energy =   0.0291
Level     0,  Iter     8:    Energy =   0.0305
Level     0,  Iter     9:    Energy =   0.0315
Level     0,  Iter    10:    Energy =   0.0322
Level     0,  Iter    11:    Energy =   0.0327
Level     0,  Iter    12:    Energy =   0.0327
Level     0,  Iter    13:    Energy =   0.0330
Level     0,  Iter    14:    Energy =   0.0331
Level     0,  Iter    15:    Energy =   0.0335
Level     0,  Iter    16:    Energy =   0.0336
Level     0,  Iter    17:    Energy =   0.0340
Level     0,  Iter    18:    Energy =   0.0340
Level     0,  Iter    19:    Energy =   0.0346
Level     0,  Iter    20:    Energy =   0.0352
Level     0,  Iter    21:    Energy =   0.0355
Level     0,  Iter    22:    Energy =   0.0355
Level     0,  Iter    23:    Energy =   0.0362
Level     0,  Iter    24:    Energy =   0.0368
Level     0,  Iter    25:    Energy =   0.0374
Level     0,  Iter    26:    Energy =   0.0381
Level     0,  Iter    27:    Energy =   0.0386
Level     0,  Iter    28:    Energy =   0.0386
Level     0,  Iter    29:    Energy =   0.0390
Level     0,  Iter    30:    Energy =   0.0390
Level     0,  Iter    31:    Energy =   0.0394
Level     0,  Iter    32:    Energy =   0.0394
Level     0,  Iter    33:    Energy =   0.0398
Level     0,  Iter    34:    Energy =   0.0398
Level     0,  Iter    35:    Energy =   0.0404
Level     0,  Iter    36:    Energy =   0.0410
Level     0,  Iter    37:    Energy =   0.0414
Level     0,  Iter    38:    Energy =   0.0414
Level     0,  Iter    39:    Energy =   0.0418
Level     0,  Iter    40:    Energy =   0.0419
Level     0,  Iter    41:    Energy =   0.0421
Level     0,  Iter    42:    Energy =   0.0418
Level     0,  Iter    43:    Energy =   0.0421
Level     0,  Iter    44:    Energy =   0.0422
Level     0,  Iter    45:    Energy =   0.0422
Level     0,  Iter    46:    Energy =   0.0421
Level     0,  Iter    47:    Energy =   0.0421
Level     0,  Iter    48:    Energy =   0.0422
Level     0,  Iter    49:    Energy =   0.0422
Level     0,  Iter    50:    Energy =   0.0423
Level     0,  Iter    51:    Energy =   0.0425
Level     0,  Iter    52:    Energy =   0.0427
Level     0,  Iter    53:    Energy =   0.0431
Level     0,  Iter    54:    Energy =   0.0433
Level     0,  Iter    55:    Energy =   0.0435
Level     0,  Iter    56:    Energy =   0.0436
Level     0,  Iter    57:    Energy =   0.0436
Level     0,  Iter    58:    Energy =   0.0437
Level     0,  Iter    59:    Energy =   0.0438
END OF LEVEL     0    DetJac Range:   0.0950  to   2.1159 
  Avg. Gradient Time  : 0.0071s  32.82% 
  Avg. Gaussian Time  : 0.0105s  48.57% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0241
Level     1,  Iter     1:    Energy =   0.0254
Level     1,  Iter     2:    Energy =   0.0266
Level     1,  Iter     3:    Energy =   0.0277
Level     1,  Iter     4:    Energy =   0.0287
Level     1,  Iter     5:    Energy =   0.0294
Level     1,  Iter     6:    Energy =   0.0300
Level     1,  Iter     7:    Energy =   0.0305
Level     1,  Iter     8:    Energy =   0.0309
Level     1,  Iter     9:    Energy =   0.0312
Level     1,  Iter    10:    Energy =   0.0315
Level     1,  Iter    11:    Energy =   0.0318
Level     1,  Iter    12:    Energy =   0.0321
Level     1,  Iter    13:    Energy =   0.0323
Level     1,  Iter    14:    Energy =   0.0324
Level     1,  Iter    15:    Energy =   0.0326
Level     1,  Iter    16:    Energy =   0.0328
Level     1,  Iter    17:    Energy =   0.0329
Level     1,  Iter    18:    Energy =   0.0330
Level     1,  Iter    19:    Energy =   0.0331
Level     1,  Iter    20:    Energy =   0.0332
Level     1,  Iter    21:    Energy =   0.0333
Level     1,  Iter    22:    Energy =   0.0334
Level     1,  Iter    23:    Energy =   0.0335
Level     1,  Iter    24:    Energy =   0.0336
Level     1,  Iter    25:    Energy =   0.0337
Level     1,  Iter    26:    Energy =   0.0338
Level     1,  Iter    27:    Energy =   0.0338
Level     1,  Iter    28:    Energy =   0.0339
Level     1,  Iter    29:    Energy =   0.0340
Level     1,  Iter    30:    Energy =   0.0340
Level     1,  Iter    31:    Energy =   0.0341
Level     1,  Iter    32:    Energy =   0.0341
Level     1,  Iter    33:    Energy =   0.0341
Level     1,  Iter    34:    Energy =   0.0342
Level     1,  Iter    35:    Energy =   0.0342
Level     1,  Iter    36:    Energy =   0.0343
Level     1,  Iter    37:    Energy =   0.0343
Level     1,  Iter    38:    Energy =   0.0344
Level     1,  Iter    39:    Energy =   0.0344
Level     1,  Iter    40:    Energy =   0.0345
Level     1,  Iter    41:    Energy =   0.0345
Level     1,  Iter    42:    Energy =   0.0345
Level     1,  Iter    43:    Energy =   0.0346
Level     1,  Iter    44:    Energy =   0.0346
Level     1,  Iter    45:    Energy =   0.0346
Level     1,  Iter    46:    Energy =   0.0347
Level     1,  Iter    47:    Energy =   0.0347
Level     1,  Iter    48:    Energy =   0.0347
Level     1,  Iter    49:    Energy =   0.0347
Level     1,  Iter    50:    Energy =   0.0348
Level     1,  Iter    51:    Energy =   0.0348
Level     1,  Iter    52:    Energy =   0.0348
Level     1,  Iter    53:    Energy =   0.0348
Level     1,  Iter    54:    Energy =   0.0348
Level     1,  Iter    55:    Energy =   0.0348
Level     1,  Iter    56:    Energy =   0.0349
Level     1,  Iter    57:    Energy =   0.0349
Level     1,  Iter    58:    Energy =   0.0349
Level     1,  Iter    59:    Energy =   0.0349
END OF LEVEL     1    DetJac Range:   0.0833  to   2.9487 
  Avg. Gradient Time  : 0.0292s  33.66% 
  Avg. Gaussian Time  : 0.0455s  52.40% 
  Avg. Iteration Time : 0.0868s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0151
Level     2,  Iter     1:    Energy =   0.0157
Level     2,  Iter     2:    Energy =   0.0161
Level     2,  Iter     3:    Energy =   0.0166
Level     2,  Iter     4:    Energy =   0.0171
Level     2,  Iter     5:    Energy =   0.0175
Level     2,  Iter     6:    Energy =   0.0179
Level     2,  Iter     7:    Energy =   0.0183
Level     2,  Iter     8:    Energy =   0.0186
Level     2,  Iter     9:    Energy =   0.0189
Level     2,  Iter    10:    Energy =   0.0191
Level     2,  Iter    11:    Energy =   0.0194
Level     2,  Iter    12:    Energy =   0.0196
Level     2,  Iter    13:    Energy =   0.0198
Level     2,  Iter    14:    Energy =   0.0200
Level     2,  Iter    15:    Energy =   0.0201
Level     2,  Iter    16:    Energy =   0.0203
Level     2,  Iter    17:    Energy =   0.0204
Level     2,  Iter    18:    Energy =   0.0205
Level     2,  Iter    19:    Energy =   0.0207
END OF LEVEL     2    DetJac Range:   0.0315  to   4.5290 
  Avg. Gradient Time  : 0.1840s  31.73% 
  Avg. Gaussian Time  : 0.3161s  54.50% 
  Avg. Iteration Time : 0.5800s 

real	0m20.892s
user	0m36.292s
sys	0m2.400s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.277143 0.281429
+ echo 'CHUNK 0.277143 0.281429 1'
CHUNK 0.277143 0.281429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.277143 0.281429 1
====================================
         PROGRESS: 0.277143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.687
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 156.268   GNORM= 222.625
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -28.379     179.997       0.004
   2    3      -445.025     110.048       1.000
   3    5      -615.801     138.112       0.349
   4    8      -620.933     133.365       0.047
   5   11      -695.705      91.457       2.284
   6   14      -713.732      90.804       0.669
   7   18      -736.802      48.320       0.145
   8   19      -753.019      47.918       1.000
   9   27      -753.299     108.868       0.122
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10192 -0.13133 0.139605 -4.03871 
-0.0811175 1.11752 -0.127444 4.07276 
0.0144008 -0.156165 1.01445 -3.40128 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -304.734   GNORM= 74.3715
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -312.464     702.696       0.013
   2    3      -316.605     100.327       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.09852 -0.128333 0.157723 -4.29542 
-0.0866827 1.12646 -0.130399 4.83407 
0.0116121 -0.149773 1.01801 -3.26131 
0 0 0 1 

Final RAS Transform: 
1.09852 -0.128333 0.157723 -4.29542 
-0.0866827 1.12646 -0.130399 4.83407 
0.0116121 -0.149773 1.01801 -3.26131 
0 0 0 1 


real	0m3.642s
user	0m5.676s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.491859
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0148
Level     0,  Iter     1:    Energy =   0.0162
Level     0,  Iter     2:    Energy =   0.0188
Level     0,  Iter     3:    Energy =   0.0210
Level     0,  Iter     4:    Energy =   0.0229
Level     0,  Iter     5:    Energy =   0.0243
Level     0,  Iter     6:    Energy =   0.0256
Level     0,  Iter     7:    Energy =   0.0266
Level     0,  Iter     8:    Energy =   0.0275
Level     0,  Iter     9:    Energy =   0.0285
Level     0,  Iter    10:    Energy =   0.0295
Level     0,  Iter    11:    Energy =   0.0303
Level     0,  Iter    12:    Energy =   0.0310
Level     0,  Iter    13:    Energy =   0.0315
Level     0,  Iter    14:    Energy =   0.0315
Level     0,  Iter    15:    Energy =   0.0318
Level     0,  Iter    16:    Energy =   0.0321
Level     0,  Iter    17:    Energy =   0.0324
Level     0,  Iter    18:    Energy =   0.0325
Level     0,  Iter    19:    Energy =   0.0326
Level     0,  Iter    20:    Energy =   0.0326
Level     0,  Iter    21:    Energy =   0.0327
Level     0,  Iter    22:    Energy =   0.0328
Level     0,  Iter    23:    Energy =   0.0329
Level     0,  Iter    24:    Energy =   0.0330
Level     0,  Iter    25:    Energy =   0.0331
Level     0,  Iter    26:    Energy =   0.0331
Level     0,  Iter    27:    Energy =   0.0333
Level     0,  Iter    28:    Energy =   0.0333
Level     0,  Iter    29:    Energy =   0.0335
Level     0,  Iter    30:    Energy =   0.0334
Level     0,  Iter    31:    Energy =   0.0336
Level     0,  Iter    32:    Energy =   0.0336
Level     0,  Iter    33:    Energy =   0.0338
Level     0,  Iter    34:    Energy =   0.0337
Level     0,  Iter    35:    Energy =   0.0340
Level     0,  Iter    36:    Energy =   0.0340
Level     0,  Iter    37:    Energy =   0.0343
Level     0,  Iter    38:    Energy =   0.0342
Level     0,  Iter    39:    Energy =   0.0344
Level     0,  Iter    40:    Energy =   0.0343
Level     0,  Iter    41:    Energy =   0.0346
Level     0,  Iter    42:    Energy =   0.0345
Level     0,  Iter    43:    Energy =   0.0349
Level     0,  Iter    44:    Energy =   0.0348
Level     0,  Iter    45:    Energy =   0.0351
Level     0,  Iter    46:    Energy =   0.0349
Level     0,  Iter    47:    Energy =   0.0352
Level     0,  Iter    48:    Energy =   0.0351
Level     0,  Iter    49:    Energy =   0.0354
Level     0,  Iter    50:    Energy =   0.0352
Level     0,  Iter    51:    Energy =   0.0356
Level     0,  Iter    52:    Energy =   0.0354
Level     0,  Iter    53:    Energy =   0.0357
Level     0,  Iter    54:    Energy =   0.0355
Level     0,  Iter    55:    Energy =   0.0357
Level     0,  Iter    56:    Energy =   0.0355
Level     0,  Iter    57:    Energy =   0.0358
Level     0,  Iter    58:    Energy =   0.0357
Level     0,  Iter    59:    Energy =   0.0359
END OF LEVEL     0    DetJac Range:   0.1807  to   2.3847 
  Avg. Gradient Time  : 0.0068s  32.58% 
  Avg. Gaussian Time  : 0.0100s  48.25% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0202
Level     1,  Iter     1:    Energy =   0.0208
Level     1,  Iter     2:    Energy =   0.0221
Level     1,  Iter     3:    Energy =   0.0231
Level     1,  Iter     4:    Energy =   0.0239
Level     1,  Iter     5:    Energy =   0.0245
Level     1,  Iter     6:    Energy =   0.0252
Level     1,  Iter     7:    Energy =   0.0258
Level     1,  Iter     8:    Energy =   0.0263
Level     1,  Iter     9:    Energy =   0.0268
Level     1,  Iter    10:    Energy =   0.0272
Level     1,  Iter    11:    Energy =   0.0275
Level     1,  Iter    12:    Energy =   0.0279
Level     1,  Iter    13:    Energy =   0.0282
Level     1,  Iter    14:    Energy =   0.0284
Level     1,  Iter    15:    Energy =   0.0286
Level     1,  Iter    16:    Energy =   0.0288
Level     1,  Iter    17:    Energy =   0.0291
Level     1,  Iter    18:    Energy =   0.0293
Level     1,  Iter    19:    Energy =   0.0295
Level     1,  Iter    20:    Energy =   0.0297
Level     1,  Iter    21:    Energy =   0.0299
Level     1,  Iter    22:    Energy =   0.0301
Level     1,  Iter    23:    Energy =   0.0302
Level     1,  Iter    24:    Energy =   0.0304
Level     1,  Iter    25:    Energy =   0.0305
Level     1,  Iter    26:    Energy =   0.0306
Level     1,  Iter    27:    Energy =   0.0307
Level     1,  Iter    28:    Energy =   0.0307
Level     1,  Iter    29:    Energy =   0.0308
Level     1,  Iter    30:    Energy =   0.0309
Level     1,  Iter    31:    Energy =   0.0309
Level     1,  Iter    32:    Energy =   0.0309
Level     1,  Iter    33:    Energy =   0.0309
Level     1,  Iter    34:    Energy =   0.0310
Level     1,  Iter    35:    Energy =   0.0310
Level     1,  Iter    36:    Energy =   0.0311
Level     1,  Iter    37:    Energy =   0.0311
Level     1,  Iter    38:    Energy =   0.0312
Level     1,  Iter    39:    Energy =   0.0312
Level     1,  Iter    40:    Energy =   0.0313
Level     1,  Iter    41:    Energy =   0.0313
Level     1,  Iter    42:    Energy =   0.0314
Level     1,  Iter    43:    Energy =   0.0314
Level     1,  Iter    44:    Energy =   0.0315
Level     1,  Iter    45:    Energy =   0.0315
Level     1,  Iter    46:    Energy =   0.0316
Level     1,  Iter    47:    Energy =   0.0316
Level     1,  Iter    48:    Energy =   0.0316
Level     1,  Iter    49:    Energy =   0.0317
Level     1,  Iter    50:    Energy =   0.0317
Level     1,  Iter    51:    Energy =   0.0318
Level     1,  Iter    52:    Energy =   0.0318
Level     1,  Iter    53:    Energy =   0.0318
Level     1,  Iter    54:    Energy =   0.0318
Level     1,  Iter    55:    Energy =   0.0318
Level     1,  Iter    56:    Energy =   0.0318
Level     1,  Iter    57:    Energy =   0.0319
Level     1,  Iter    58:    Energy =   0.0319
Level     1,  Iter    59:    Energy =   0.0320
END OF LEVEL     1    DetJac Range:   0.0314  to   3.1547 
  Avg. Gradient Time  : 0.0281s  33.48% 
  Avg. Gaussian Time  : 0.0440s  52.51% 
  Avg. Iteration Time : 0.0839s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0127
Level     2,  Iter     1:    Energy =   0.0132
Level     2,  Iter     2:    Energy =   0.0138
Level     2,  Iter     3:    Energy =   0.0143
Level     2,  Iter     4:    Energy =   0.0147
Level     2,  Iter     5:    Energy =   0.0151
Level     2,  Iter     6:    Energy =   0.0155
Level     2,  Iter     7:    Energy =   0.0158
Level     2,  Iter     8:    Energy =   0.0161
Level     2,  Iter     9:    Energy =   0.0164
Level     2,  Iter    10:    Energy =   0.0166
Level     2,  Iter    11:    Energy =   0.0169
Level     2,  Iter    12:    Energy =   0.0172
Level     2,  Iter    13:    Energy =   0.0172
Level     2,  Iter    14:    Energy =   0.0174
Level     2,  Iter    15:    Energy =   0.0176
Level     2,  Iter    16:    Energy =   0.0178
Level     2,  Iter    17:    Energy =   0.0180
Level     2,  Iter    18:    Energy =   0.0181
Level     2,  Iter    19:    Energy =   0.0183
END OF LEVEL     2    DetJac Range:   0.0220  to   4.2292 
  Avg. Gradient Time  : 0.1884s  31.90% 
  Avg. Gaussian Time  : 0.3211s  54.38% 
  Avg. Iteration Time : 0.5905s 

real	0m20.889s
user	0m36.480s
sys	0m2.208s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.281429 0.285714
+ echo 'CHUNK 0.281429 0.285714 1'
CHUNK 0.281429 0.285714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.281429 0.285714 1
====================================
         PROGRESS: 0.281429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.49
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 208.715   GNORM= 263.128
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -22.348     180.647       0.004
   2    3      -168.460     163.749       1.000
   3    4      -399.089      75.073       1.000
   4    5      -568.367      78.160       1.000
   5    6      -646.131      98.230       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11946 -0.0457921 0.100969 -2.9176 
-0.111962 1.11371 -0.161909 4.62661 
0.04585 -0.194501 1.0102 -3.81986 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -293.599   GNORM= 1.50815e+06
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11946 -0.0457921 0.100969 -2.9176 
-0.111962 1.11371 -0.161909 4.62661 
0.04585 -0.194501 1.0102 -3.81986 
0 0 0 1 

Final RAS Transform: 
1.11946 -0.0457921 0.100969 -2.9176 
-0.111962 1.11371 -0.161909 4.62661 
0.04585 -0.194501 1.0102 -3.81986 
0 0 0 1 


real	0m3.258s
user	0m5.060s
sys	0m0.372s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.356343
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0133
Level     0,  Iter     1:    Energy =   0.0154
Level     0,  Iter     2:    Energy =   0.0170
Level     0,  Iter     3:    Energy =   0.0185
Level     0,  Iter     4:    Energy =   0.0198
Level     0,  Iter     5:    Energy =   0.0213
Level     0,  Iter     6:    Energy =   0.0225
Level     0,  Iter     7:    Energy =   0.0234
Level     0,  Iter     8:    Energy =   0.0240
Level     0,  Iter     9:    Energy =   0.0244
Level     0,  Iter    10:    Energy =   0.0246
Level     0,  Iter    11:    Energy =   0.0249
Level     0,  Iter    12:    Energy =   0.0251
Level     0,  Iter    13:    Energy =   0.0252
Level     0,  Iter    14:    Energy =   0.0254
Level     0,  Iter    15:    Energy =   0.0255
Level     0,  Iter    16:    Energy =   0.0257
Level     0,  Iter    17:    Energy =   0.0258
Level     0,  Iter    18:    Energy =   0.0260
Level     0,  Iter    19:    Energy =   0.0261
Level     0,  Iter    20:    Energy =   0.0263
Level     0,  Iter    21:    Energy =   0.0264
Level     0,  Iter    22:    Energy =   0.0265
Level     0,  Iter    23:    Energy =   0.0265
Level     0,  Iter    24:    Energy =   0.0266
Level     0,  Iter    25:    Energy =   0.0266
Level     0,  Iter    26:    Energy =   0.0266
Level     0,  Iter    27:    Energy =   0.0267
Level     0,  Iter    28:    Energy =   0.0267
Level     0,  Iter    29:    Energy =   0.0268
Level     0,  Iter    30:    Energy =   0.0269
Level     0,  Iter    31:    Energy =   0.0269
Level     0,  Iter    32:    Energy =   0.0269
Level     0,  Iter    33:    Energy =   0.0269
Level     0,  Iter    34:    Energy =   0.0270
Level     0,  Iter    35:    Energy =   0.0270
Level     0,  Iter    36:    Energy =   0.0271
Level     0,  Iter    37:    Energy =   0.0271
Level     0,  Iter    38:    Energy =   0.0272
Level     0,  Iter    39:    Energy =   0.0272
Level     0,  Iter    40:    Energy =   0.0273
Level     0,  Iter    41:    Energy =   0.0273
Level     0,  Iter    42:    Energy =   0.0273
Level     0,  Iter    43:    Energy =   0.0274
Level     0,  Iter    44:    Energy =   0.0274
Level     0,  Iter    45:    Energy =   0.0274
Level     0,  Iter    46:    Energy =   0.0274
Level     0,  Iter    47:    Energy =   0.0274
Level     0,  Iter    48:    Energy =   0.0275
Level     0,  Iter    49:    Energy =   0.0275
Level     0,  Iter    50:    Energy =   0.0275
Level     0,  Iter    51:    Energy =   0.0274
Level     0,  Iter    52:    Energy =   0.0274
Level     0,  Iter    53:    Energy =   0.0274
Level     0,  Iter    54:    Energy =   0.0275
Level     0,  Iter    55:    Energy =   0.0275
Level     0,  Iter    56:    Energy =   0.0275
Level     0,  Iter    57:    Energy =   0.0275
Level     0,  Iter    58:    Energy =   0.0275
Level     0,  Iter    59:    Energy =   0.0276
END OF LEVEL     0    DetJac Range:   0.0346  to   3.1808 
  Avg. Gradient Time  : 0.0069s  32.92% 
  Avg. Gaussian Time  : 0.0101s  47.85% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0156
Level     1,  Iter     1:    Energy =   0.0165
Level     1,  Iter     2:    Energy =   0.0172
Level     1,  Iter     3:    Energy =   0.0179
Level     1,  Iter     4:    Energy =   0.0184
Level     1,  Iter     5:    Energy =   0.0188
Level     1,  Iter     6:    Energy =   0.0192
Level     1,  Iter     7:    Energy =   0.0194
Level     1,  Iter     8:    Energy =   0.0198
Level     1,  Iter     9:    Energy =   0.0202
Level     1,  Iter    10:    Energy =   0.0205
Level     1,  Iter    11:    Energy =   0.0208
Level     1,  Iter    12:    Energy =   0.0210
Level     1,  Iter    13:    Energy =   0.0212
Level     1,  Iter    14:    Energy =   0.0214
Level     1,  Iter    15:    Energy =   0.0215
Level     1,  Iter    16:    Energy =   0.0217
Level     1,  Iter    17:    Energy =   0.0218
Level     1,  Iter    18:    Energy =   0.0220
Level     1,  Iter    19:    Energy =   0.0222
Level     1,  Iter    20:    Energy =   0.0224
Level     1,  Iter    21:    Energy =   0.0225
Level     1,  Iter    22:    Energy =   0.0226
Level     1,  Iter    23:    Energy =   0.0227
Level     1,  Iter    24:    Energy =   0.0228
Level     1,  Iter    25:    Energy =   0.0229
Level     1,  Iter    26:    Energy =   0.0230
Level     1,  Iter    27:    Energy =   0.0230
Level     1,  Iter    28:    Energy =   0.0231
Level     1,  Iter    29:    Energy =   0.0232
Level     1,  Iter    30:    Energy =   0.0232
Level     1,  Iter    31:    Energy =   0.0232
Level     1,  Iter    32:    Energy =   0.0233
Level     1,  Iter    33:    Energy =   0.0233
Level     1,  Iter    34:    Energy =   0.0234
Level     1,  Iter    35:    Energy =   0.0234
Level     1,  Iter    36:    Energy =   0.0234
Level     1,  Iter    37:    Energy =   0.0235
Level     1,  Iter    38:    Energy =   0.0235
Level     1,  Iter    39:    Energy =   0.0236
Level     1,  Iter    40:    Energy =   0.0236
Level     1,  Iter    41:    Energy =   0.0236
Level     1,  Iter    42:    Energy =   0.0237
Level     1,  Iter    43:    Energy =   0.0237
Level     1,  Iter    44:    Energy =   0.0238
Level     1,  Iter    45:    Energy =   0.0238
Level     1,  Iter    46:    Energy =   0.0238
Level     1,  Iter    47:    Energy =   0.0239
Level     1,  Iter    48:    Energy =   0.0239
Level     1,  Iter    49:    Energy =   0.0239
Level     1,  Iter    50:    Energy =   0.0240
Level     1,  Iter    51:    Energy =   0.0240
Level     1,  Iter    52:    Energy =   0.0241
Level     1,  Iter    53:    Energy =   0.0242
Level     1,  Iter    54:    Energy =   0.0242
Level     1,  Iter    55:    Energy =   0.0243
Level     1,  Iter    56:    Energy =   0.0244
Level     1,  Iter    57:    Energy =   0.0244
Level     1,  Iter    58:    Energy =   0.0245
Level     1,  Iter    59:    Energy =   0.0245
END OF LEVEL     1    DetJac Range:   0.0246  to   3.4772 
  Avg. Gradient Time  : 0.0287s  33.65% 
  Avg. Gaussian Time  : 0.0448s  52.52% 
  Avg. Iteration Time : 0.0853s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0098
Level     2,  Iter     1:    Energy =   0.0103
Level     2,  Iter     2:    Energy =   0.0108
Level     2,  Iter     3:    Energy =   0.0112
Level     2,  Iter     4:    Energy =   0.0116
Level     2,  Iter     5:    Energy =   0.0120
Level     2,  Iter     6:    Energy =   0.0124
Level     2,  Iter     7:    Energy =   0.0127
Level     2,  Iter     8:    Energy =   0.0131
Level     2,  Iter     9:    Energy =   0.0133
Level     2,  Iter    10:    Energy =   0.0136
Level     2,  Iter    11:    Energy =   0.0137
Level     2,  Iter    12:    Energy =   0.0138
Level     2,  Iter    13:    Energy =   0.0139
Level     2,  Iter    14:    Energy =   0.0140
Level     2,  Iter    15:    Energy =   0.0141
Level     2,  Iter    16:    Energy =   0.0141
Level     2,  Iter    17:    Energy =   0.0142
Level     2,  Iter    18:    Energy =   0.0143
Level     2,  Iter    19:    Energy =   0.0143
END OF LEVEL     2    DetJac Range:   0.0285  to   3.8986 
  Avg. Gradient Time  : 0.1900s  32.07% 
  Avg. Gaussian Time  : 0.3210s  54.19% 
  Avg. Iteration Time : 0.5924s 

real	0m20.986s
user	0m36.632s
sys	0m2.324s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.285714 0.29
+ echo 'CHUNK 0.285714 0.29 1'
CHUNK 0.285714 0.29 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.285714 0.29 1
====================================
         PROGRESS: 0.285714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.598
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 286.538   GNORM= 205.109
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -225.944     103.099       0.024
   2    4      -412.447     142.664       1.000
   3    5      -574.322     116.242       1.000
   4    8      -676.196     134.297       0.177
   5   14      -680.555      63.926       0.034
   6   17      -683.797     179.908       2.981
   7   21      -684.340      42.499       0.001
   8   22      -687.489      35.574       1.000
   9   24      -690.546      23.155       0.477
  10   25      -692.874      31.755       1.000
  11   26      -710.672      27.155       1.000
  12   27      -719.650      79.457       1.000
  13   29      -725.694     161.033       0.186
  14   34      -726.679      38.738       0.021
  15   35      -733.798     172.716       1.000
  16   39      -734.813      92.170       0.179
  17   45      -736.140      66.903       0.461
Final RAS Transform: 
1.0925 -0.0698811 0.151176 -5.19134 
-0.101287 1.06205 -0.0919482 3.85645 
-0.0478384 -0.269416 0.88663 -5.99467 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -313.284   GNORM= 155.854
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    8      -313.513     141.999       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.09248 -0.0698627 0.151153 -5.18964 
-0.101289 1.06206 -0.0919581 3.8567 
-0.0478483 -0.269402 0.886607 -5.99342 
0 0 0 1 

Final RAS Transform: 
1.09248 -0.0698627 0.151153 -5.18964 
-0.101289 1.06206 -0.0919581 3.8567 
-0.0478483 -0.269402 0.886607 -5.99342 
0 0 0 1 


real	0m4.080s
user	0m6.416s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.423147
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0146
Level     0,  Iter     1:    Energy =   0.0164
Level     0,  Iter     2:    Energy =   0.0180
Level     0,  Iter     3:    Energy =   0.0194
Level     0,  Iter     4:    Energy =   0.0208
Level     0,  Iter     5:    Energy =   0.0218
Level     0,  Iter     6:    Energy =   0.0227
Level     0,  Iter     7:    Energy =   0.0235
Level     0,  Iter     8:    Energy =   0.0244
Level     0,  Iter     9:    Energy =   0.0252
Level     0,  Iter    10:    Energy =   0.0259
Level     0,  Iter    11:    Energy =   0.0265
Level     0,  Iter    12:    Energy =   0.0271
Level     0,  Iter    13:    Energy =   0.0275
Level     0,  Iter    14:    Energy =   0.0278
Level     0,  Iter    15:    Energy =   0.0280
Level     0,  Iter    16:    Energy =   0.0282
Level     0,  Iter    17:    Energy =   0.0284
Level     0,  Iter    18:    Energy =   0.0286
Level     0,  Iter    19:    Energy =   0.0288
Level     0,  Iter    20:    Energy =   0.0290
Level     0,  Iter    21:    Energy =   0.0292
Level     0,  Iter    22:    Energy =   0.0293
Level     0,  Iter    23:    Energy =   0.0295
Level     0,  Iter    24:    Energy =   0.0297
Level     0,  Iter    25:    Energy =   0.0298
Level     0,  Iter    26:    Energy =   0.0299
Level     0,  Iter    27:    Energy =   0.0300
Level     0,  Iter    28:    Energy =   0.0301
Level     0,  Iter    29:    Energy =   0.0302
Level     0,  Iter    30:    Energy =   0.0302
Level     0,  Iter    31:    Energy =   0.0304
Level     0,  Iter    32:    Energy =   0.0305
Level     0,  Iter    33:    Energy =   0.0306
Level     0,  Iter    34:    Energy =   0.0306
Level     0,  Iter    35:    Energy =   0.0307
Level     0,  Iter    36:    Energy =   0.0308
Level     0,  Iter    37:    Energy =   0.0310
Level     0,  Iter    38:    Energy =   0.0311
Level     0,  Iter    39:    Energy =   0.0312
Level     0,  Iter    40:    Energy =   0.0312
Level     0,  Iter    41:    Energy =   0.0313
Level     0,  Iter    42:    Energy =   0.0314
Level     0,  Iter    43:    Energy =   0.0315
Level     0,  Iter    44:    Energy =   0.0316
Level     0,  Iter    45:    Energy =   0.0317
Level     0,  Iter    46:    Energy =   0.0318
Level     0,  Iter    47:    Energy =   0.0318
Level     0,  Iter    48:    Energy =   0.0319
Level     0,  Iter    49:    Energy =   0.0320
Level     0,  Iter    50:    Energy =   0.0321
Level     0,  Iter    51:    Energy =   0.0322
Level     0,  Iter    52:    Energy =   0.0323
Level     0,  Iter    53:    Energy =   0.0324
Level     0,  Iter    54:    Energy =   0.0325
Level     0,  Iter    55:    Energy =   0.0325
Level     0,  Iter    56:    Energy =   0.0326
Level     0,  Iter    57:    Energy =   0.0328
Level     0,  Iter    58:    Energy =   0.0329
Level     0,  Iter    59:    Energy =   0.0329
END OF LEVEL     0    DetJac Range:   0.0443  to   2.9843 
  Avg. Gradient Time  : 0.0071s  33.51% 
  Avg. Gaussian Time  : 0.0101s  47.58% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0187
Level     1,  Iter     1:    Energy =   0.0194
Level     1,  Iter     2:    Energy =   0.0200
Level     1,  Iter     3:    Energy =   0.0206
Level     1,  Iter     4:    Energy =   0.0210
Level     1,  Iter     5:    Energy =   0.0213
Level     1,  Iter     6:    Energy =   0.0217
Level     1,  Iter     7:    Energy =   0.0220
Level     1,  Iter     8:    Energy =   0.0223
Level     1,  Iter     9:    Energy =   0.0226
Level     1,  Iter    10:    Energy =   0.0229
Level     1,  Iter    11:    Energy =   0.0231
Level     1,  Iter    12:    Energy =   0.0233
Level     1,  Iter    13:    Energy =   0.0234
Level     1,  Iter    14:    Energy =   0.0235
Level     1,  Iter    15:    Energy =   0.0236
Level     1,  Iter    16:    Energy =   0.0237
Level     1,  Iter    17:    Energy =   0.0237
Level     1,  Iter    18:    Energy =   0.0238
Level     1,  Iter    19:    Energy =   0.0239
Level     1,  Iter    20:    Energy =   0.0239
Level     1,  Iter    21:    Energy =   0.0239
Level     1,  Iter    22:    Energy =   0.0240
Level     1,  Iter    23:    Energy =   0.0240
Level     1,  Iter    24:    Energy =   0.0240
Level     1,  Iter    25:    Energy =   0.0240
Level     1,  Iter    26:    Energy =   0.0240
Level     1,  Iter    27:    Energy =   0.0240
Level     1,  Iter    28:    Energy =   0.0240
Level     1,  Iter    29:    Energy =   0.0240
Level     1,  Iter    30:    Energy =   0.0240
Level     1,  Iter    31:    Energy =   0.0240
Level     1,  Iter    32:    Energy =   0.0240
Level     1,  Iter    33:    Energy =   0.0240
Level     1,  Iter    34:    Energy =   0.0240
Level     1,  Iter    35:    Energy =   0.0240
Level     1,  Iter    36:    Energy =   0.0240
Level     1,  Iter    37:    Energy =   0.0240
Level     1,  Iter    38:    Energy =   0.0240
Level     1,  Iter    39:    Energy =   0.0240
Level     1,  Iter    40:    Energy =   0.0240
Level     1,  Iter    41:    Energy =   0.0240
Level     1,  Iter    42:    Energy =   0.0240
Level     1,  Iter    43:    Energy =   0.0239
Level     1,  Iter    44:    Energy =   0.0239
Level     1,  Iter    45:    Energy =   0.0239
Level     1,  Iter    46:    Energy =   0.0239
Level     1,  Iter    47:    Energy =   0.0239
Level     1,  Iter    48:    Energy =   0.0239
Level     1,  Iter    49:    Energy =   0.0239
Level     1,  Iter    50:    Energy =   0.0239
Level     1,  Iter    51:    Energy =   0.0239
Level     1,  Iter    52:    Energy =   0.0238
Level     1,  Iter    53:    Energy =   0.0238
Level     1,  Iter    54:    Energy =   0.0238
Level     1,  Iter    55:    Energy =   0.0238
Level     1,  Iter    56:    Energy =   0.0238
Level     1,  Iter    57:    Energy =   0.0237
Level     1,  Iter    58:    Energy =   0.0237
Level     1,  Iter    59:    Energy =   0.0237
END OF LEVEL     1    DetJac Range:   0.0220  to   2.7568 
  Avg. Gradient Time  : 0.0285s  33.68% 
  Avg. Gaussian Time  : 0.0444s  52.44% 
  Avg. Iteration Time : 0.0847s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0093
Level     2,  Iter     1:    Energy =   0.0098
Level     2,  Iter     2:    Energy =   0.0103
Level     2,  Iter     3:    Energy =   0.0107
Level     2,  Iter     4:    Energy =   0.0110
Level     2,  Iter     5:    Energy =   0.0113
Level     2,  Iter     6:    Energy =   0.0116
Level     2,  Iter     7:    Energy =   0.0118
Level     2,  Iter     8:    Energy =   0.0121
Level     2,  Iter     9:    Energy =   0.0124
Level     2,  Iter    10:    Energy =   0.0126
Level     2,  Iter    11:    Energy =   0.0128
Level     2,  Iter    12:    Energy =   0.0129
Level     2,  Iter    13:    Energy =   0.0130
Level     2,  Iter    14:    Energy =   0.0131
Level     2,  Iter    15:    Energy =   0.0131
Level     2,  Iter    16:    Energy =   0.0131
Level     2,  Iter    17:    Energy =   0.0132
Level     2,  Iter    18:    Energy =   0.0132
Level     2,  Iter    19:    Energy =   0.0132
END OF LEVEL     2    DetJac Range:   0.0217  to   2.9688 
  Avg. Gradient Time  : 0.1902s  31.95% 
  Avg. Gaussian Time  : 0.3235s  54.33% 
  Avg. Iteration Time : 0.5954s 

real	0m20.992s
user	0m36.508s
sys	0m2.480s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.29 0.294286
+ echo 'CHUNK 0.29 0.294286 1'
CHUNK 0.29 0.294286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.29 0.294286 1
====================================
         PROGRESS: 0.29               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 177.438   GNORM= 178.432
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -231.260     102.830       0.028
   2    4      -398.715      73.216       1.000
   3    7      -710.383      93.269       3.125
   4    9      -753.335      56.973       0.335
   5   11      -762.947      40.436       0.158
   6   12      -772.195      42.108       1.000
   7   15      -775.546      47.910       0.162
   8   19      -779.515      43.300       0.045
   9   20      -795.324      53.843       1.000
  10   22      -800.083      89.822       0.183
  11   23      -828.985      82.266       1.000
  12   26      -842.942      63.608       0.090
  13   27      -853.718      43.567       1.000
  14   30      -857.167      36.470       2.142
  15   34      -861.547      38.003       0.853
  16   38      -863.927      14.540       0.058
  17   40      -864.737      16.188       0.371
  18   42      -864.915      18.843       0.367
  19   44      -865.338     126.136       0.317
  20   45      -867.156      43.186       1.000
  21   49      -867.385      23.275       0.004
  22   51      -867.874      36.430       0.129
  23   53      -871.516      67.632       5.000
  24   56      -873.878      73.334       2.344
  25   57      -876.363      22.512       1.000
  26   61      -876.612      50.123       0.997
Final RAS Transform: 
1.03887 -0.0965617 0.220004 -0.667027 
0.0111604 1.12424 -0.244244 5.10135 
0.0635515 -0.175127 0.884603 -4.69968 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -356.904   GNORM= 842917
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -373.914      48.547       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03437 -0.0921776 0.212771 -0.155338 
0.0110926 1.12423 -0.245553 5.12614 
0.067663 -0.179202 0.890621 -5.16364 
0 0 0 1 

Final RAS Transform: 
1.03437 -0.0921776 0.212771 -0.155338 
0.0110926 1.12423 -0.245553 5.12614 
0.067663 -0.179202 0.890621 -5.16364 
0 0 0 1 


real	0m4.373s
user	0m6.296s
sys	0m0.972s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.448052
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0170
Level     0,  Iter     1:    Energy =   0.0191
Level     0,  Iter     2:    Energy =   0.0217
Level     0,  Iter     3:    Energy =   0.0238
Level     0,  Iter     4:    Energy =   0.0256
Level     0,  Iter     5:    Energy =   0.0273
Level     0,  Iter     6:    Energy =   0.0290
Level     0,  Iter     7:    Energy =   0.0301
Level     0,  Iter     8:    Energy =   0.0311
Level     0,  Iter     9:    Energy =   0.0317
Level     0,  Iter    10:    Energy =   0.0322
Level     0,  Iter    11:    Energy =   0.0328
Level     0,  Iter    12:    Energy =   0.0333
Level     0,  Iter    13:    Energy =   0.0337
Level     0,  Iter    14:    Energy =   0.0341
Level     0,  Iter    15:    Energy =   0.0346
Level     0,  Iter    16:    Energy =   0.0349
Level     0,  Iter    17:    Energy =   0.0353
Level     0,  Iter    18:    Energy =   0.0355
Level     0,  Iter    19:    Energy =   0.0357
Level     0,  Iter    20:    Energy =   0.0359
Level     0,  Iter    21:    Energy =   0.0360
Level     0,  Iter    22:    Energy =   0.0362
Level     0,  Iter    23:    Energy =   0.0363
Level     0,  Iter    24:    Energy =   0.0365
Level     0,  Iter    25:    Energy =   0.0366
Level     0,  Iter    26:    Energy =   0.0366
Level     0,  Iter    27:    Energy =   0.0365
Level     0,  Iter    28:    Energy =   0.0364
Level     0,  Iter    29:    Energy =   0.0363
Level     0,  Iter    30:    Energy =   0.0363
Level     0,  Iter    31:    Energy =   0.0362
Level     0,  Iter    32:    Energy =   0.0360
Level     0,  Iter    33:    Energy =   0.0360
Level     0,  Iter    34:    Energy =   0.0360
Level     0,  Iter    35:    Energy =   0.0361
Level     0,  Iter    36:    Energy =   0.0361
Level     0,  Iter    37:    Energy =   0.0361
Level     0,  Iter    38:    Energy =   0.0362
Level     0,  Iter    39:    Energy =   0.0363
Level     0,  Iter    40:    Energy =   0.0364
Level     0,  Iter    41:    Energy =   0.0365
Level     0,  Iter    42:    Energy =   0.0365
Level     0,  Iter    43:    Energy =   0.0366
Level     0,  Iter    44:    Energy =   0.0366
Level     0,  Iter    45:    Energy =   0.0367
Level     0,  Iter    46:    Energy =   0.0368
Level     0,  Iter    47:    Energy =   0.0368
Level     0,  Iter    48:    Energy =   0.0369
Level     0,  Iter    49:    Energy =   0.0370
Level     0,  Iter    50:    Energy =   0.0371
Level     0,  Iter    51:    Energy =   0.0373
Level     0,  Iter    52:    Energy =   0.0374
Level     0,  Iter    53:    Energy =   0.0376
Level     0,  Iter    54:    Energy =   0.0378
Level     0,  Iter    55:    Energy =   0.0378
Level     0,  Iter    56:    Energy =   0.0379
Level     0,  Iter    57:    Energy =   0.0379
Level     0,  Iter    58:    Energy =   0.0379
Level     0,  Iter    59:    Energy =   0.0379
END OF LEVEL     0    DetJac Range:   0.0558  to   2.6591 
  Avg. Gradient Time  : 0.0071s  32.51% 
  Avg. Gaussian Time  : 0.0106s  48.52% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0206
Level     1,  Iter     1:    Energy =   0.0216
Level     1,  Iter     2:    Energy =   0.0225
Level     1,  Iter     3:    Energy =   0.0233
Level     1,  Iter     4:    Energy =   0.0241
Level     1,  Iter     5:    Energy =   0.0248
Level     1,  Iter     6:    Energy =   0.0255
Level     1,  Iter     7:    Energy =   0.0262
Level     1,  Iter     8:    Energy =   0.0267
Level     1,  Iter     9:    Energy =   0.0271
Level     1,  Iter    10:    Energy =   0.0274
Level     1,  Iter    11:    Energy =   0.0277
Level     1,  Iter    12:    Energy =   0.0279
Level     1,  Iter    13:    Energy =   0.0281
Level     1,  Iter    14:    Energy =   0.0283
Level     1,  Iter    15:    Energy =   0.0284
Level     1,  Iter    16:    Energy =   0.0285
Level     1,  Iter    17:    Energy =   0.0286
Level     1,  Iter    18:    Energy =   0.0287
Level     1,  Iter    19:    Energy =   0.0287
Level     1,  Iter    20:    Energy =   0.0288
Level     1,  Iter    21:    Energy =   0.0288
Level     1,  Iter    22:    Energy =   0.0289
Level     1,  Iter    23:    Energy =   0.0290
Level     1,  Iter    24:    Energy =   0.0291
Level     1,  Iter    25:    Energy =   0.0291
Level     1,  Iter    26:    Energy =   0.0292
Level     1,  Iter    27:    Energy =   0.0293
Level     1,  Iter    28:    Energy =   0.0294
Level     1,  Iter    29:    Energy =   0.0295
Level     1,  Iter    30:    Energy =   0.0296
Level     1,  Iter    31:    Energy =   0.0296
Level     1,  Iter    32:    Energy =   0.0297
Level     1,  Iter    33:    Energy =   0.0298
Level     1,  Iter    34:    Energy =   0.0299
Level     1,  Iter    35:    Energy =   0.0300
Level     1,  Iter    36:    Energy =   0.0300
Level     1,  Iter    37:    Energy =   0.0300
Level     1,  Iter    38:    Energy =   0.0301
Level     1,  Iter    39:    Energy =   0.0301
Level     1,  Iter    40:    Energy =   0.0301
Level     1,  Iter    41:    Energy =   0.0302
Level     1,  Iter    42:    Energy =   0.0302
Level     1,  Iter    43:    Energy =   0.0302
Level     1,  Iter    44:    Energy =   0.0303
Level     1,  Iter    45:    Energy =   0.0303
Level     1,  Iter    46:    Energy =   0.0303
Level     1,  Iter    47:    Energy =   0.0303
Level     1,  Iter    48:    Energy =   0.0303
Level     1,  Iter    49:    Energy =   0.0303
Level     1,  Iter    50:    Energy =   0.0303
Level     1,  Iter    51:    Energy =   0.0303
Level     1,  Iter    52:    Energy =   0.0303
Level     1,  Iter    53:    Energy =   0.0303
Level     1,  Iter    54:    Energy =   0.0304
Level     1,  Iter    55:    Energy =   0.0304
Level     1,  Iter    56:    Energy =   0.0304
Level     1,  Iter    57:    Energy =   0.0304
Level     1,  Iter    58:    Energy =   0.0305
Level     1,  Iter    59:    Energy =   0.0305
END OF LEVEL     1    DetJac Range:   0.0176  to   3.2964 
  Avg. Gradient Time  : 0.0296s  33.85% 
  Avg. Gaussian Time  : 0.0457s  52.35% 
  Avg. Iteration Time : 0.0874s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0144
Level     2,  Iter     1:    Energy =   0.0149
Level     2,  Iter     2:    Energy =   0.0154
Level     2,  Iter     3:    Energy =   0.0158
Level     2,  Iter     4:    Energy =   0.0162
Level     2,  Iter     5:    Energy =   0.0165
Level     2,  Iter     6:    Energy =   0.0168
Level     2,  Iter     7:    Energy =   0.0171
Level     2,  Iter     8:    Energy =   0.0175
Level     2,  Iter     9:    Energy =   0.0178
Level     2,  Iter    10:    Energy =   0.0180
Level     2,  Iter    11:    Energy =   0.0183
Level     2,  Iter    12:    Energy =   0.0185
Level     2,  Iter    13:    Energy =   0.0186
Level     2,  Iter    14:    Energy =   0.0188
Level     2,  Iter    15:    Energy =   0.0189
Level     2,  Iter    16:    Energy =   0.0191
Level     2,  Iter    17:    Energy =   0.0192
Level     2,  Iter    18:    Energy =   0.0193
Level     2,  Iter    19:    Energy =   0.0194
END OF LEVEL     2    DetJac Range:   0.0139  to   4.4738 
  Avg. Gradient Time  : 0.1866s  31.80% 
  Avg. Gaussian Time  : 0.3199s  54.52% 
  Avg. Iteration Time : 0.5868s 

real	0m21.122s
user	0m36.752s
sys	0m2.364s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.294286 0.298571
+ echo 'CHUNK 0.294286 0.298571 1'
CHUNK 0.294286 0.298571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.294286 0.298571 1
====================================
         PROGRESS: 0.294286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.652
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 319.821   GNORM= 229.705
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -374.789     153.347       0.022
   2    5      -617.435     107.704       0.465
   3    8      -640.915      40.216       0.114
   4   10      -642.925      32.329       0.310
   5   11      -659.631      41.711       1.000
   6   12      -674.086      77.317       1.000
   7   14      -691.965     132.852       0.355
   8   15      -735.787    1457.412       1.000
   9   18      -760.643     118.379       0.077
  10   19      -775.771      48.990       1.000
  11   20      -778.531      48.806       1.000
  12   21      -783.709      55.310       1.000
  13   25      -796.892      22.307       1.416
  14   27      -797.019      38.121       0.198
  15   31      -800.690      90.551       0.204
  16   32      -801.147      94.785       1.000
  17   33      -806.262      70.404       1.000
  18   35      -807.798      65.005       0.303
  19   36      -810.416      72.674       1.000
  20   37      -815.618      66.473       1.000
  21   39      -821.773      17.670       0.261
  22   40      -824.040      54.601       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.06268 -0.122017 0.214871 -3.22374 
0.0241047 1.05153 -0.0832333 2.8105 
-0.0749983 -0.324847 0.772562 -7.07326 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -379.048   GNORM= 707.763
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -379.895      65.122       0.000
   2    5      -380.257      73.905       1.000
   3    6      -391.352      56.034       1.000
   4    8      -392.494      49.871       0.019
   5    9      -395.652      39.762       1.000
   6   10      -402.528      36.267       1.000
   7   16      -403.099      22.100       0.258
   8   17      -403.140      24.208       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.06111 -0.117061 0.212634 -2.91795 
0.0243236 1.04884 -0.0806561 2.68868 
-0.0736045 -0.329655 0.778333 -7.50727 
0 0 0 1 

Final RAS Transform: 
1.06111 -0.117061 0.212634 -2.91795 
0.0243236 1.04884 -0.0806561 2.68868 
-0.0736045 -0.329655 0.778333 -7.50727 
0 0 0 1 


real	0m4.638s
user	0m7.452s
sys	0m0.600s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.444112
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0177
Level     0,  Iter     1:    Energy =   0.0189
Level     0,  Iter     2:    Energy =   0.0209
Level     0,  Iter     3:    Energy =   0.0226
Level     0,  Iter     4:    Energy =   0.0240
Level     0,  Iter     5:    Energy =   0.0251
Level     0,  Iter     6:    Energy =   0.0261
Level     0,  Iter     7:    Energy =   0.0271
Level     0,  Iter     8:    Energy =   0.0280
Level     0,  Iter     9:    Energy =   0.0285
Level     0,  Iter    10:    Energy =   0.0288
Level     0,  Iter    11:    Energy =   0.0291
Level     0,  Iter    12:    Energy =   0.0293
Level     0,  Iter    13:    Energy =   0.0295
Level     0,  Iter    14:    Energy =   0.0296
Level     0,  Iter    15:    Energy =   0.0298
Level     0,  Iter    16:    Energy =   0.0299
Level     0,  Iter    17:    Energy =   0.0300
Level     0,  Iter    18:    Energy =   0.0301
Level     0,  Iter    19:    Energy =   0.0302
Level     0,  Iter    20:    Energy =   0.0303
Level     0,  Iter    21:    Energy =   0.0304
Level     0,  Iter    22:    Energy =   0.0305
Level     0,  Iter    23:    Energy =   0.0305
Level     0,  Iter    24:    Energy =   0.0306
Level     0,  Iter    25:    Energy =   0.0306
Level     0,  Iter    26:    Energy =   0.0307
Level     0,  Iter    27:    Energy =   0.0307
Level     0,  Iter    28:    Energy =   0.0308
Level     0,  Iter    29:    Energy =   0.0308
Level     0,  Iter    30:    Energy =   0.0309
Level     0,  Iter    31:    Energy =   0.0310
Level     0,  Iter    32:    Energy =   0.0310
Level     0,  Iter    33:    Energy =   0.0311
Level     0,  Iter    34:    Energy =   0.0311
Level     0,  Iter    35:    Energy =   0.0312
Level     0,  Iter    36:    Energy =   0.0312
Level     0,  Iter    37:    Energy =   0.0313
Level     0,  Iter    38:    Energy =   0.0313
Level     0,  Iter    39:    Energy =   0.0313
Level     0,  Iter    40:    Energy =   0.0313
Level     0,  Iter    41:    Energy =   0.0314
Level     0,  Iter    42:    Energy =   0.0314
Level     0,  Iter    43:    Energy =   0.0315
Level     0,  Iter    44:    Energy =   0.0316
Level     0,  Iter    45:    Energy =   0.0317
Level     0,  Iter    46:    Energy =   0.0318
Level     0,  Iter    47:    Energy =   0.0318
Level     0,  Iter    48:    Energy =   0.0319
Level     0,  Iter    49:    Energy =   0.0320
Level     0,  Iter    50:    Energy =   0.0321
Level     0,  Iter    51:    Energy =   0.0323
Level     0,  Iter    52:    Energy =   0.0325
Level     0,  Iter    53:    Energy =   0.0327
Level     0,  Iter    54:    Energy =   0.0329
Level     0,  Iter    55:    Energy =   0.0332
Level     0,  Iter    56:    Energy =   0.0334
Level     0,  Iter    57:    Energy =   0.0336
Level     0,  Iter    58:    Energy =   0.0337
Level     0,  Iter    59:    Energy =   0.0338
END OF LEVEL     0    DetJac Range:   0.0157  to   2.5238 
  Avg. Gradient Time  : 0.0071s  33.21% 
  Avg. Gaussian Time  : 0.0102s  47.91% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0212
Level     1,  Iter     1:    Energy =   0.0219
Level     1,  Iter     2:    Energy =   0.0225
Level     1,  Iter     3:    Energy =   0.0231
Level     1,  Iter     4:    Energy =   0.0240
Level     1,  Iter     5:    Energy =   0.0247
Level     1,  Iter     6:    Energy =   0.0252
Level     1,  Iter     7:    Energy =   0.0256
Level     1,  Iter     8:    Energy =   0.0259
Level     1,  Iter     9:    Energy =   0.0262
Level     1,  Iter    10:    Energy =   0.0265
Level     1,  Iter    11:    Energy =   0.0267
Level     1,  Iter    12:    Energy =   0.0270
Level     1,  Iter    13:    Energy =   0.0273
Level     1,  Iter    14:    Energy =   0.0275
Level     1,  Iter    15:    Energy =   0.0278
Level     1,  Iter    16:    Energy =   0.0280
Level     1,  Iter    17:    Energy =   0.0281
Level     1,  Iter    18:    Energy =   0.0283
Level     1,  Iter    19:    Energy =   0.0285
Level     1,  Iter    20:    Energy =   0.0286
Level     1,  Iter    21:    Energy =   0.0287
Level     1,  Iter    22:    Energy =   0.0289
Level     1,  Iter    23:    Energy =   0.0290
Level     1,  Iter    24:    Energy =   0.0291
Level     1,  Iter    25:    Energy =   0.0292
Level     1,  Iter    26:    Energy =   0.0294
Level     1,  Iter    27:    Energy =   0.0295
Level     1,  Iter    28:    Energy =   0.0296
Level     1,  Iter    29:    Energy =   0.0298
Level     1,  Iter    30:    Energy =   0.0299
Level     1,  Iter    31:    Energy =   0.0300
Level     1,  Iter    32:    Energy =   0.0301
Level     1,  Iter    33:    Energy =   0.0301
Level     1,  Iter    34:    Energy =   0.0302
Level     1,  Iter    35:    Energy =   0.0303
Level     1,  Iter    36:    Energy =   0.0303
Level     1,  Iter    37:    Energy =   0.0304
Level     1,  Iter    38:    Energy =   0.0305
Level     1,  Iter    39:    Energy =   0.0305
Level     1,  Iter    40:    Energy =   0.0305
Level     1,  Iter    41:    Energy =   0.0306
Level     1,  Iter    42:    Energy =   0.0306
Level     1,  Iter    43:    Energy =   0.0307
Level     1,  Iter    44:    Energy =   0.0307
Level     1,  Iter    45:    Energy =   0.0308
Level     1,  Iter    46:    Energy =   0.0308
Level     1,  Iter    47:    Energy =   0.0309
Level     1,  Iter    48:    Energy =   0.0309
Level     1,  Iter    49:    Energy =   0.0310
Level     1,  Iter    50:    Energy =   0.0310
Level     1,  Iter    51:    Energy =   0.0310
Level     1,  Iter    52:    Energy =   0.0311
Level     1,  Iter    53:    Energy =   0.0311
Level     1,  Iter    54:    Energy =   0.0312
Level     1,  Iter    55:    Energy =   0.0312
Level     1,  Iter    56:    Energy =   0.0312
Level     1,  Iter    57:    Energy =   0.0313
Level     1,  Iter    58:    Energy =   0.0313
Level     1,  Iter    59:    Energy =   0.0313
END OF LEVEL     1    DetJac Range:   0.0107  to   3.5906 
  Avg. Gradient Time  : 0.0288s  33.64% 
  Avg. Gaussian Time  : 0.0449s  52.40% 
  Avg. Iteration Time : 0.0856s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0148
Level     2,  Iter     1:    Energy =   0.0153
Level     2,  Iter     2:    Energy =   0.0158
Level     2,  Iter     3:    Energy =   0.0162
Level     2,  Iter     4:    Energy =   0.0166
Level     2,  Iter     5:    Energy =   0.0170
Level     2,  Iter     6:    Energy =   0.0174
Level     2,  Iter     7:    Energy =   0.0177
Level     2,  Iter     8:    Energy =   0.0181
Level     2,  Iter     9:    Energy =   0.0185
Level     2,  Iter    10:    Energy =   0.0189
Level     2,  Iter    11:    Energy =   0.0192
Level     2,  Iter    12:    Energy =   0.0194
Level     2,  Iter    13:    Energy =   0.0197
Level     2,  Iter    14:    Energy =   0.0199
Level     2,  Iter    15:    Energy =   0.0200
Level     2,  Iter    16:    Energy =   0.0203
Level     2,  Iter    17:    Energy =   0.0205
Level     2,  Iter    18:    Energy =   0.0208
Level     2,  Iter    19:    Energy =   0.0210
END OF LEVEL     2    DetJac Range:   0.0105  to   3.9084 
  Avg. Gradient Time  : 0.1873s  31.79% 
  Avg. Gaussian Time  : 0.3212s  54.52% 
  Avg. Iteration Time : 0.5891s 

real	0m20.973s
user	0m36.512s
sys	0m2.400s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298571 0.302857
+ echo 'CHUNK 0.298571 0.302857 1'
CHUNK 0.298571 0.302857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298571 0.302857 1
====================================
         PROGRESS: 0.298571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.641
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 243.259   GNORM= 237.045
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -459.527      96.400       0.021
   2    4      -529.740     127.577       1.000
   3    5      -606.110      61.630       1.000
   4    7      -619.194      53.307       0.147
   5    8      -635.007      59.755       1.000
   6   11      -671.085      51.148       0.085
   7   14      -685.277      59.064       1.725
   8   22      -711.550      56.489       1.231
   9   24      -719.108      34.486       0.188
  10   25      -723.329      60.801       1.000
  11   27      -728.355      35.075       0.192
  12   29      -730.580      50.858       0.147
  13   30      -732.363      73.379       1.000
  14   31      -740.288      53.645       1.000
  15   35      -747.026     132.566       1.377
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10611 -0.0814219 0.192649 -3.19537 
-0.0109527 1.15272 -0.107794 3.02984 
-0.0251827 -0.168109 0.932356 -5.11648 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -297.275   GNORM= 32194.1
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -362.569     126.033       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10378 -0.078873 0.187885 -2.91364 
-0.00757425 1.14928 -0.101557 2.61785 
-0.0216074 -0.172241 0.939465 -5.56784 
0 0 0 1 

Final RAS Transform: 
1.10378 -0.078873 0.187885 -2.91364 
-0.00757425 1.14928 -0.101557 2.61785 
-0.0216074 -0.172241 0.939465 -5.56784 
0 0 0 1 


real	0m3.676s
user	0m5.720s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.464809
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0154
Level     0,  Iter     1:    Energy =   0.0174
Level     0,  Iter     2:    Energy =   0.0194
Level     0,  Iter     3:    Energy =   0.0213
Level     0,  Iter     4:    Energy =   0.0231
Level     0,  Iter     5:    Energy =   0.0246
Level     0,  Iter     6:    Energy =   0.0258
Level     0,  Iter     7:    Energy =   0.0270
Level     0,  Iter     8:    Energy =   0.0279
Level     0,  Iter     9:    Energy =   0.0285
Level     0,  Iter    10:    Energy =   0.0289
Level     0,  Iter    11:    Energy =   0.0292
Level     0,  Iter    12:    Energy =   0.0294
Level     0,  Iter    13:    Energy =   0.0297
Level     0,  Iter    14:    Energy =   0.0301
Level     0,  Iter    15:    Energy =   0.0303
Level     0,  Iter    16:    Energy =   0.0305
Level     0,  Iter    17:    Energy =   0.0307
Level     0,  Iter    18:    Energy =   0.0308
Level     0,  Iter    19:    Energy =   0.0310
Level     0,  Iter    20:    Energy =   0.0312
Level     0,  Iter    21:    Energy =   0.0314
Level     0,  Iter    22:    Energy =   0.0316
Level     0,  Iter    23:    Energy =   0.0318
Level     0,  Iter    24:    Energy =   0.0321
Level     0,  Iter    25:    Energy =   0.0323
Level     0,  Iter    26:    Energy =   0.0325
Level     0,  Iter    27:    Energy =   0.0327
Level     0,  Iter    28:    Energy =   0.0329
Level     0,  Iter    29:    Energy =   0.0331
Level     0,  Iter    30:    Energy =   0.0332
Level     0,  Iter    31:    Energy =   0.0333
Level     0,  Iter    32:    Energy =   0.0335
Level     0,  Iter    33:    Energy =   0.0336
Level     0,  Iter    34:    Energy =   0.0337
Level     0,  Iter    35:    Energy =   0.0338
Level     0,  Iter    36:    Energy =   0.0339
Level     0,  Iter    37:    Energy =   0.0341
Level     0,  Iter    38:    Energy =   0.0342
Level     0,  Iter    39:    Energy =   0.0343
Level     0,  Iter    40:    Energy =   0.0344
Level     0,  Iter    41:    Energy =   0.0345
Level     0,  Iter    42:    Energy =   0.0346
Level     0,  Iter    43:    Energy =   0.0348
Level     0,  Iter    44:    Energy =   0.0349
Level     0,  Iter    45:    Energy =   0.0350
Level     0,  Iter    46:    Energy =   0.0352
Level     0,  Iter    47:    Energy =   0.0353
Level     0,  Iter    48:    Energy =   0.0354
Level     0,  Iter    49:    Energy =   0.0355
Level     0,  Iter    50:    Energy =   0.0356
Level     0,  Iter    51:    Energy =   0.0358
Level     0,  Iter    52:    Energy =   0.0359
Level     0,  Iter    53:    Energy =   0.0361
Level     0,  Iter    54:    Energy =   0.0362
Level     0,  Iter    55:    Energy =   0.0364
Level     0,  Iter    56:    Energy =   0.0365
Level     0,  Iter    57:    Energy =   0.0366
Level     0,  Iter    58:    Energy =   0.0368
Level     0,  Iter    59:    Energy =   0.0369
END OF LEVEL     0    DetJac Range:   0.0238  to   1.9613 
  Avg. Gradient Time  : 0.0071s  33.00% 
  Avg. Gaussian Time  : 0.0103s  47.85% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0224
Level     1,  Iter     1:    Energy =   0.0238
Level     1,  Iter     2:    Energy =   0.0250
Level     1,  Iter     3:    Energy =   0.0258
Level     1,  Iter     4:    Energy =   0.0267
Level     1,  Iter     5:    Energy =   0.0274
Level     1,  Iter     6:    Energy =   0.0280
Level     1,  Iter     7:    Energy =   0.0286
Level     1,  Iter     8:    Energy =   0.0291
Level     1,  Iter     9:    Energy =   0.0295
Level     1,  Iter    10:    Energy =   0.0298
Level     1,  Iter    11:    Energy =   0.0302
Level     1,  Iter    12:    Energy =   0.0304
Level     1,  Iter    13:    Energy =   0.0307
Level     1,  Iter    14:    Energy =   0.0309
Level     1,  Iter    15:    Energy =   0.0311
Level     1,  Iter    16:    Energy =   0.0313
Level     1,  Iter    17:    Energy =   0.0315
Level     1,  Iter    18:    Energy =   0.0316
Level     1,  Iter    19:    Energy =   0.0318
Level     1,  Iter    20:    Energy =   0.0319
Level     1,  Iter    21:    Energy =   0.0319
Level     1,  Iter    22:    Energy =   0.0320
Level     1,  Iter    23:    Energy =   0.0321
Level     1,  Iter    24:    Energy =   0.0322
Level     1,  Iter    25:    Energy =   0.0323
Level     1,  Iter    26:    Energy =   0.0323
Level     1,  Iter    27:    Energy =   0.0324
Level     1,  Iter    28:    Energy =   0.0324
Level     1,  Iter    29:    Energy =   0.0325
Level     1,  Iter    30:    Energy =   0.0326
Level     1,  Iter    31:    Energy =   0.0327
Level     1,  Iter    32:    Energy =   0.0328
Level     1,  Iter    33:    Energy =   0.0328
Level     1,  Iter    34:    Energy =   0.0329
Level     1,  Iter    35:    Energy =   0.0329
Level     1,  Iter    36:    Energy =   0.0330
Level     1,  Iter    37:    Energy =   0.0330
Level     1,  Iter    38:    Energy =   0.0331
Level     1,  Iter    39:    Energy =   0.0332
Level     1,  Iter    40:    Energy =   0.0333
Level     1,  Iter    41:    Energy =   0.0333
Level     1,  Iter    42:    Energy =   0.0334
Level     1,  Iter    43:    Energy =   0.0334
Level     1,  Iter    44:    Energy =   0.0335
Level     1,  Iter    45:    Energy =   0.0336
Level     1,  Iter    46:    Energy =   0.0337
Level     1,  Iter    47:    Energy =   0.0337
Level     1,  Iter    48:    Energy =   0.0338
Level     1,  Iter    49:    Energy =   0.0339
Level     1,  Iter    50:    Energy =   0.0341
Level     1,  Iter    51:    Energy =   0.0341
Level     1,  Iter    52:    Energy =   0.0342
Level     1,  Iter    53:    Energy =   0.0343
Level     1,  Iter    54:    Energy =   0.0343
Level     1,  Iter    55:    Energy =   0.0342
Level     1,  Iter    56:    Energy =   0.0342
Level     1,  Iter    57:    Energy =   0.0342
Level     1,  Iter    58:    Energy =   0.0342
Level     1,  Iter    59:    Energy =   0.0342
END OF LEVEL     1    DetJac Range:   0.0106  to   3.4606 
  Avg. Gradient Time  : 0.0285s  33.43% 
  Avg. Gaussian Time  : 0.0448s  52.54% 
  Avg. Iteration Time : 0.0853s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0139
Level     2,  Iter     1:    Energy =   0.0148
Level     2,  Iter     2:    Energy =   0.0156
Level     2,  Iter     3:    Energy =   0.0162
Level     2,  Iter     4:    Energy =   0.0165
Level     2,  Iter     5:    Energy =   0.0168
Level     2,  Iter     6:    Energy =   0.0172
Level     2,  Iter     7:    Energy =   0.0175
Level     2,  Iter     8:    Energy =   0.0178
Level     2,  Iter     9:    Energy =   0.0182
Level     2,  Iter    10:    Energy =   0.0184
Level     2,  Iter    11:    Energy =   0.0186
Level     2,  Iter    12:    Energy =   0.0188
Level     2,  Iter    13:    Energy =   0.0190
Level     2,  Iter    14:    Energy =   0.0192
Level     2,  Iter    15:    Energy =   0.0194
Level     2,  Iter    16:    Energy =   0.0197
Level     2,  Iter    17:    Energy =   0.0199
Level     2,  Iter    18:    Energy =   0.0199
Level     2,  Iter    19:    Energy =   0.0202
END OF LEVEL     2    DetJac Range:   0.0137  to   3.0822 
  Avg. Gradient Time  : 0.1900s  31.70% 
  Avg. Gaussian Time  : 0.3273s  54.61% 
  Avg. Iteration Time : 0.5994s 

real	0m21.172s
user	0m37.156s
sys	0m2.164s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.302857 0.307143
+ echo 'CHUNK 0.302857 0.307143 1'
CHUNK 0.302857 0.307143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.302857 0.307143 1
====================================
         PROGRESS: 0.302857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.64
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 376.857   GNORM= 236.46
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -156.330     140.910       0.021
   2    4      -582.421      79.509       1.000
   3    6      -601.446     104.036       0.177
   4    8      -624.689      40.653       0.500
   5    9      -634.884      38.240       1.000
   6   10      -639.831      72.141       1.000
   7   12      -648.219      57.852       0.140
   8   15      -692.219      76.158       0.088
   9   16      -698.514      69.146       1.000
  10   18      -708.088      42.611       0.288
  11   19      -710.530      35.849       1.000
  12   20      -711.630      18.300       1.000
  13   21      -713.517      18.445       1.000
  14   23      -716.078      21.986       0.065
  15   25      -718.378      21.606       0.309
  16   29      -718.455      41.243       0.011
  17   30      -719.506      35.537       1.000
  18   34      -720.199      68.226       0.249
  19   35      -721.292      95.316       1.000
  20   36      -723.260      21.416       1.000
  21   37      -723.575      29.555       1.000
  22   40      -732.925      33.308       2.341
  23   42      -734.889      16.990       0.321
  24   43      -737.721      18.104       1.000
  25   45      -740.094      21.287       0.121
  26   48      -740.237      15.439       0.001
  27   49      -741.529      12.370       1.000
  28   50      -743.511      13.179       1.000
  29   51      -749.768      90.894       1.000
  30   52      -751.556     197.986       1.000
  31   54      -768.459      20.190       5.000
  32   57      -795.872      74.440       0.656
  33   58      -805.107      48.019       1.000
  34   60      -806.137      21.972       0.215
Final RAS Transform: 
1.10622 0.0522169 0.353798 -1.20155 
-0.0477004 1.08142 0.117968 5.11116 
-0.0467811 -0.228319 0.723144 -7.24915 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -411.143   GNORM= 14.472
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    8      -411.284      20.659       0.000
   2    9      -411.568      59.627       1.000
   3   11      -411.585      12.533       0.023
   4   12      -413.742      24.899       1.000
   5   16      -422.458      39.072       3.706
   6   19      -422.460      30.907       0.018
   7   20      -423.003      43.233       1.000
   8   22      -425.326      21.338       5.000
   9   23      -426.130      23.107       1.000
  10   25      -431.124      21.333       0.449
  11   26      -435.156      36.835       1.000
  12   29      -436.592      21.369       0.051
  13   31      -457.062      25.833       5.000
  14   33      -466.227      67.357       0.301
  15   34      -474.864      28.274       1.000
  16   35      -478.061      15.785       1.000
  17   36      -479.740      20.019       1.000
  18   37      -481.647      14.284       1.000
  19   40      -482.069      51.521       1.025
  20   42      -482.354      13.063       0.033
  21   44      -482.705      14.848       5.000
  22   60      -482.809       7.996       1.000
Final RAS Transform: 
1.05271 0.0878831 0.289987 -5.92443 
-0.0684714 1.2195 0.0703407 1.06036 
-0.0555854 -0.147275 0.682559 -10.4516 
0 0 0 1 

Final RAS Transform: 
1.05271 0.0878831 0.289987 -5.92443 
-0.0684714 1.2195 0.0703407 1.06036 
-0.0555854 -0.147275 0.682559 -10.4516 
0 0 0 1 


real	0m6.073s
user	0m10.284s
sys	0m0.564s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.462839
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0181
Level     0,  Iter     1:    Energy =   0.0195
Level     0,  Iter     2:    Energy =   0.0210
Level     0,  Iter     3:    Energy =   0.0230
Level     0,  Iter     4:    Energy =   0.0249
Level     0,  Iter     5:    Energy =   0.0267
Level     0,  Iter     6:    Energy =   0.0281
Level     0,  Iter     7:    Energy =   0.0293
Level     0,  Iter     8:    Energy =   0.0301
Level     0,  Iter     9:    Energy =   0.0308
Level     0,  Iter    10:    Energy =   0.0314
Level     0,  Iter    11:    Energy =   0.0319
Level     0,  Iter    12:    Energy =   0.0325
Level     0,  Iter    13:    Energy =   0.0331
Level     0,  Iter    14:    Energy =   0.0336
Level     0,  Iter    15:    Energy =   0.0341
Level     0,  Iter    16:    Energy =   0.0345
Level     0,  Iter    17:    Energy =   0.0349
Level     0,  Iter    18:    Energy =   0.0354
Level     0,  Iter    19:    Energy =   0.0358
Level     0,  Iter    20:    Energy =   0.0361
Level     0,  Iter    21:    Energy =   0.0364
Level     0,  Iter    22:    Energy =   0.0366
Level     0,  Iter    23:    Energy =   0.0368
Level     0,  Iter    24:    Energy =   0.0370
Level     0,  Iter    25:    Energy =   0.0372
Level     0,  Iter    26:    Energy =   0.0373
Level     0,  Iter    27:    Energy =   0.0375
Level     0,  Iter    28:    Energy =   0.0377
Level     0,  Iter    29:    Energy =   0.0379
Level     0,  Iter    30:    Energy =   0.0381
Level     0,  Iter    31:    Energy =   0.0384
Level     0,  Iter    32:    Energy =   0.0386
Level     0,  Iter    33:    Energy =   0.0387
Level     0,  Iter    34:    Energy =   0.0388
Level     0,  Iter    35:    Energy =   0.0390
Level     0,  Iter    36:    Energy =   0.0392
Level     0,  Iter    37:    Energy =   0.0393
Level     0,  Iter    38:    Energy =   0.0394
Level     0,  Iter    39:    Energy =   0.0396
Level     0,  Iter    40:    Energy =   0.0397
Level     0,  Iter    41:    Energy =   0.0398
Level     0,  Iter    42:    Energy =   0.0399
Level     0,  Iter    43:    Energy =   0.0400
Level     0,  Iter    44:    Energy =   0.0401
Level     0,  Iter    45:    Energy =   0.0402
Level     0,  Iter    46:    Energy =   0.0403
Level     0,  Iter    47:    Energy =   0.0403
Level     0,  Iter    48:    Energy =   0.0405
Level     0,  Iter    49:    Energy =   0.0405
Level     0,  Iter    50:    Energy =   0.0406
Level     0,  Iter    51:    Energy =   0.0407
Level     0,  Iter    52:    Energy =   0.0408
Level     0,  Iter    53:    Energy =   0.0409
Level     0,  Iter    54:    Energy =   0.0409
Level     0,  Iter    55:    Energy =   0.0410
Level     0,  Iter    56:    Energy =   0.0411
Level     0,  Iter    57:    Energy =   0.0412
Level     0,  Iter    58:    Energy =   0.0412
Level     0,  Iter    59:    Energy =   0.0413
END OF LEVEL     0    DetJac Range:   0.0326  to   2.2671 
  Avg. Gradient Time  : 0.0071s  33.09% 
  Avg. Gaussian Time  : 0.0103s  48.02% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0252
Level     1,  Iter     1:    Energy =   0.0262
Level     1,  Iter     2:    Energy =   0.0270
Level     1,  Iter     3:    Energy =   0.0275
Level     1,  Iter     4:    Energy =   0.0279
Level     1,  Iter     5:    Energy =   0.0285
Level     1,  Iter     6:    Energy =   0.0291
Level     1,  Iter     7:    Energy =   0.0298
Level     1,  Iter     8:    Energy =   0.0303
Level     1,  Iter     9:    Energy =   0.0308
Level     1,  Iter    10:    Energy =   0.0312
Level     1,  Iter    11:    Energy =   0.0315
Level     1,  Iter    12:    Energy =   0.0319
Level     1,  Iter    13:    Energy =   0.0322
Level     1,  Iter    14:    Energy =   0.0325
Level     1,  Iter    15:    Energy =   0.0329
Level     1,  Iter    16:    Energy =   0.0332
Level     1,  Iter    17:    Energy =   0.0334
Level     1,  Iter    18:    Energy =   0.0337
Level     1,  Iter    19:    Energy =   0.0339
Level     1,  Iter    20:    Energy =   0.0341
Level     1,  Iter    21:    Energy =   0.0343
Level     1,  Iter    22:    Energy =   0.0345
Level     1,  Iter    23:    Energy =   0.0347
Level     1,  Iter    24:    Energy =   0.0349
Level     1,  Iter    25:    Energy =   0.0351
Level     1,  Iter    26:    Energy =   0.0353
Level     1,  Iter    27:    Energy =   0.0354
Level     1,  Iter    28:    Energy =   0.0355
Level     1,  Iter    29:    Energy =   0.0357
Level     1,  Iter    30:    Energy =   0.0358
Level     1,  Iter    31:    Energy =   0.0359
Level     1,  Iter    32:    Energy =   0.0360
Level     1,  Iter    33:    Energy =   0.0361
Level     1,  Iter    34:    Energy =   0.0361
Level     1,  Iter    35:    Energy =   0.0362
Level     1,  Iter    36:    Energy =   0.0362
Level     1,  Iter    37:    Energy =   0.0363
Level     1,  Iter    38:    Energy =   0.0363
Level     1,  Iter    39:    Energy =   0.0364
Level     1,  Iter    40:    Energy =   0.0364
Level     1,  Iter    41:    Energy =   0.0365
Level     1,  Iter    42:    Energy =   0.0365
Level     1,  Iter    43:    Energy =   0.0365
Level     1,  Iter    44:    Energy =   0.0366
Level     1,  Iter    45:    Energy =   0.0366
Level     1,  Iter    46:    Energy =   0.0366
Level     1,  Iter    47:    Energy =   0.0366
Level     1,  Iter    48:    Energy =   0.0366
Level     1,  Iter    49:    Energy =   0.0366
Level     1,  Iter    50:    Energy =   0.0367
Level     1,  Iter    51:    Energy =   0.0367
Level     1,  Iter    52:    Energy =   0.0367
Level     1,  Iter    53:    Energy =   0.0367
Level     1,  Iter    54:    Energy =   0.0367
Level     1,  Iter    55:    Energy =   0.0368
Level     1,  Iter    56:    Energy =   0.0368
Level     1,  Iter    57:    Energy =   0.0368
Level     1,  Iter    58:    Energy =   0.0368
Level     1,  Iter    59:    Energy =   0.0368
END OF LEVEL     1    DetJac Range:   0.0253  to   2.5814 
  Avg. Gradient Time  : 0.0316s  33.78% 
  Avg. Gaussian Time  : 0.0490s  52.31% 
  Avg. Iteration Time : 0.0937s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0157
Level     2,  Iter     1:    Energy =   0.0164
Level     2,  Iter     2:    Energy =   0.0170
Level     2,  Iter     3:    Energy =   0.0175
Level     2,  Iter     4:    Energy =   0.0178
Level     2,  Iter     5:    Energy =   0.0180
Level     2,  Iter     6:    Energy =   0.0182
Level     2,  Iter     7:    Energy =   0.0183
Level     2,  Iter     8:    Energy =   0.0185
Level     2,  Iter     9:    Energy =   0.0187
Level     2,  Iter    10:    Energy =   0.0190
Level     2,  Iter    11:    Energy =   0.0194
Level     2,  Iter    12:    Energy =   0.0196
Level     2,  Iter    13:    Energy =   0.0198
Level     2,  Iter    14:    Energy =   0.0200
Level     2,  Iter    15:    Energy =   0.0202
Level     2,  Iter    16:    Energy =   0.0204
Level     2,  Iter    17:    Energy =   0.0206
Level     2,  Iter    18:    Energy =   0.0208
Level     2,  Iter    19:    Energy =   0.0209
END OF LEVEL     2    DetJac Range:   0.0146  to   3.1910 
  Avg. Gradient Time  : 0.1921s  32.47% 
  Avg. Gaussian Time  : 0.3194s  53.98% 
  Avg. Iteration Time : 0.5917s 

real	0m21.940s
user	0m37.272s
sys	0m3.072s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.307143 0.311429
+ echo 'CHUNK 0.307143 0.311429 1'
CHUNK 0.307143 0.311429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.307143 0.311429 1
====================================
         PROGRESS: 0.307143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 026
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 026 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=026
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 026 left 0
+ local tid=026
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.503
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 284.702   GNORM= 275.066
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        39.750     225.202       0.004
   2    3      -497.595     100.706       1.000
   3    4      -545.348     204.393       1.000
   4    6      -552.041     127.462       0.126
   5    8      -553.910      76.040       0.124
   6   10      -554.715     101.323       0.446
   7   11      -562.646      80.257       1.000
   8   12      -608.511     119.041       1.000
   9   13      -633.740      94.249       1.000
  10   16      -637.580     164.276       0.040
  11   18      -677.752     101.648       5.000
  12   19      -684.999      34.266       1.000
  13   20      -690.407      40.342       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13972 -0.0602759 0.136436 -4.14667 
-0.0512555 1.07723 -0.0614831 3.68088 
-0.0399882 -0.312635 0.891877 -5.08115 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -303.464   GNORM= 871.291
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -303.604     158.831       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13972 -0.0602757 0.136435 -4.1466 
-0.0512557 1.07723 -0.0614845 3.68094 
-0.0399888 -0.312634 0.891875 -5.08107 
0 0 0 1 

Final RAS Transform: 
1.13972 -0.0602757 0.136435 -4.1466 
-0.0512557 1.07723 -0.0614845 3.68094 
-0.0399888 -0.312634 0.891875 -5.08107 
0 0 0 1 


real	0m3.749s
user	0m5.840s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.369598
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0140
Level     0,  Iter     1:    Energy =   0.0156
Level     0,  Iter     2:    Energy =   0.0173
Level     0,  Iter     3:    Energy =   0.0188
Level     0,  Iter     4:    Energy =   0.0206
Level     0,  Iter     5:    Energy =   0.0218
Level     0,  Iter     6:    Energy =   0.0227
Level     0,  Iter     7:    Energy =   0.0235
Level     0,  Iter     8:    Energy =   0.0240
Level     0,  Iter     9:    Energy =   0.0244
Level     0,  Iter    10:    Energy =   0.0248
Level     0,  Iter    11:    Energy =   0.0252
Level     0,  Iter    12:    Energy =   0.0256
Level     0,  Iter    13:    Energy =   0.0260
Level     0,  Iter    14:    Energy =   0.0265
Level     0,  Iter    15:    Energy =   0.0270
Level     0,  Iter    16:    Energy =   0.0274
Level     0,  Iter    17:    Energy =   0.0277
Level     0,  Iter    18:    Energy =   0.0280
Level     0,  Iter    19:    Energy =   0.0283
Level     0,  Iter    20:    Energy =   0.0285
Level     0,  Iter    21:    Energy =   0.0287
Level     0,  Iter    22:    Energy =   0.0290
Level     0,  Iter    23:    Energy =   0.0292
Level     0,  Iter    24:    Energy =   0.0294
Level     0,  Iter    25:    Energy =   0.0296
Level     0,  Iter    26:    Energy =   0.0298
Level     0,  Iter    27:    Energy =   0.0300
Level     0,  Iter    28:    Energy =   0.0301
Level     0,  Iter    29:    Energy =   0.0302
Level     0,  Iter    30:    Energy =   0.0304
Level     0,  Iter    31:    Energy =   0.0306
Level     0,  Iter    32:    Energy =   0.0308
Level     0,  Iter    33:    Energy =   0.0310
Level     0,  Iter    34:    Energy =   0.0312
Level     0,  Iter    35:    Energy =   0.0313
Level     0,  Iter    36:    Energy =   0.0314
Level     0,  Iter    37:    Energy =   0.0315
Level     0,  Iter    38:    Energy =   0.0316
Level     0,  Iter    39:    Energy =   0.0317
Level     0,  Iter    40:    Energy =   0.0318
Level     0,  Iter    41:    Energy =   0.0319
Level     0,  Iter    42:    Energy =   0.0320
Level     0,  Iter    43:    Energy =   0.0321
Level     0,  Iter    44:    Energy =   0.0322
Level     0,  Iter    45:    Energy =   0.0322
Level     0,  Iter    46:    Energy =   0.0323
Level     0,  Iter    47:    Energy =   0.0323
Level     0,  Iter    48:    Energy =   0.0324
Level     0,  Iter    49:    Energy =   0.0325
Level     0,  Iter    50:    Energy =   0.0325
Level     0,  Iter    51:    Energy =   0.0326
Level     0,  Iter    52:    Energy =   0.0326
Level     0,  Iter    53:    Energy =   0.0327
Level     0,  Iter    54:    Energy =   0.0328
Level     0,  Iter    55:    Energy =   0.0328
Level     0,  Iter    56:    Energy =   0.0329
Level     0,  Iter    57:    Energy =   0.0330
Level     0,  Iter    58:    Energy =   0.0330
Level     0,  Iter    59:    Energy =   0.0331
END OF LEVEL     0    DetJac Range:   0.0161  to   2.6556 
  Avg. Gradient Time  : 0.0070s  32.95% 
  Avg. Gaussian Time  : 0.0103s  48.33% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0191
Level     1,  Iter     1:    Energy =   0.0197
Level     1,  Iter     2:    Energy =   0.0202
Level     1,  Iter     3:    Energy =   0.0206
Level     1,  Iter     4:    Energy =   0.0210
Level     1,  Iter     5:    Energy =   0.0213
Level     1,  Iter     6:    Energy =   0.0216
Level     1,  Iter     7:    Energy =   0.0219
Level     1,  Iter     8:    Energy =   0.0221
Level     1,  Iter     9:    Energy =   0.0223
Level     1,  Iter    10:    Energy =   0.0224
Level     1,  Iter    11:    Energy =   0.0225
Level     1,  Iter    12:    Energy =   0.0226
Level     1,  Iter    13:    Energy =   0.0227
Level     1,  Iter    14:    Energy =   0.0227
Level     1,  Iter    15:    Energy =   0.0228
Level     1,  Iter    16:    Energy =   0.0228
Level     1,  Iter    17:    Energy =   0.0229
Level     1,  Iter    18:    Energy =   0.0229
Level     1,  Iter    19:    Energy =   0.0230
Level     1,  Iter    20:    Energy =   0.0230
Level     1,  Iter    21:    Energy =   0.0231
Level     1,  Iter    22:    Energy =   0.0231
Level     1,  Iter    23:    Energy =   0.0231
Level     1,  Iter    24:    Energy =   0.0232
Level     1,  Iter    25:    Energy =   0.0232
Level     1,  Iter    26:    Energy =   0.0233
Level     1,  Iter    27:    Energy =   0.0233
Level     1,  Iter    28:    Energy =   0.0233
Level     1,  Iter    29:    Energy =   0.0234
Level     1,  Iter    30:    Energy =   0.0234
Level     1,  Iter    31:    Energy =   0.0235
Level     1,  Iter    32:    Energy =   0.0235
Level     1,  Iter    33:    Energy =   0.0236
Level     1,  Iter    34:    Energy =   0.0236
Level     1,  Iter    35:    Energy =   0.0237
Level     1,  Iter    36:    Energy =   0.0237
Level     1,  Iter    37:    Energy =   0.0238
Level     1,  Iter    38:    Energy =   0.0238
Level     1,  Iter    39:    Energy =   0.0239
Level     1,  Iter    40:    Energy =   0.0239
Level     1,  Iter    41:    Energy =   0.0240
Level     1,  Iter    42:    Energy =   0.0240
Level     1,  Iter    43:    Energy =   0.0241
Level     1,  Iter    44:    Energy =   0.0241
Level     1,  Iter    45:    Energy =   0.0241
Level     1,  Iter    46:    Energy =   0.0241
Level     1,  Iter    47:    Energy =   0.0242
Level     1,  Iter    48:    Energy =   0.0242
Level     1,  Iter    49:    Energy =   0.0242
Level     1,  Iter    50:    Energy =   0.0242
Level     1,  Iter    51:    Energy =   0.0242
Level     1,  Iter    52:    Energy =   0.0242
Level     1,  Iter    53:    Energy =   0.0242
Level     1,  Iter    54:    Energy =   0.0242
Level     1,  Iter    55:    Energy =   0.0242
Level     1,  Iter    56:    Energy =   0.0243
Level     1,  Iter    57:    Energy =   0.0243
Level     1,  Iter    58:    Energy =   0.0243
Level     1,  Iter    59:    Energy =   0.0243
END OF LEVEL     1    DetJac Range:   0.0163  to   2.4443 
  Avg. Gradient Time  : 0.0296s  33.76% 
  Avg. Gaussian Time  : 0.0460s  52.49% 
  Avg. Iteration Time : 0.0877s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0097
Level     2,  Iter     1:    Energy =   0.0105
Level     2,  Iter     2:    Energy =   0.0112
Level     2,  Iter     3:    Energy =   0.0118
Level     2,  Iter     4:    Energy =   0.0123
Level     2,  Iter     5:    Energy =   0.0126
Level     2,  Iter     6:    Energy =   0.0131
Level     2,  Iter     7:    Energy =   0.0136
Level     2,  Iter     8:    Energy =   0.0140
Level     2,  Iter     9:    Energy =   0.0144
Level     2,  Iter    10:    Energy =   0.0148
Level     2,  Iter    11:    Energy =   0.0151
Level     2,  Iter    12:    Energy =   0.0154
Level     2,  Iter    13:    Energy =   0.0157
Level     2,  Iter    14:    Energy =   0.0159
Level     2,  Iter    15:    Energy =   0.0160
Level     2,  Iter    16:    Energy =   0.0163
Level     2,  Iter    17:    Energy =   0.0165
Level     2,  Iter    18:    Energy =   0.0166
Level     2,  Iter    19:    Energy =   0.0166
END OF LEVEL     2    DetJac Range:   0.0099  to   3.2632 
  Avg. Gradient Time  : 0.1745s  31.67% 
  Avg. Gaussian Time  : 0.3002s  54.50% 
  Avg. Iteration Time : 0.5509s 

real	0m20.256s
user	0m35.104s
sys	0m2.408s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.311429 0.315714
+ echo 'CHUNK 0.311429 0.315714 1'
CHUNK 0.311429 0.315714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.311429 0.315714 1
====================================
         PROGRESS: 0.311429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 027
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 027 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=027
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 027 left 0
+ local tid=027
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.528
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 187.886   GNORM= 227.375
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        -2.934     199.657       0.004
   2    3      -119.338     165.602       1.000
   3    4      -467.150     164.608       1.000
   4    6      -557.208     107.558       0.142
   5   11      -623.950      87.514       0.466
   6   13      -627.676     440.748       0.052
   7   16      -637.211      30.646       0.029
   8   21      -637.452      51.658       0.181
   9   24      -639.179      83.224       1.767
  10   25      -640.897      62.435       1.000
  11   26      -645.662      38.824       1.000
  12   33      -683.669     247.081       5.210
  13   34      -697.491      76.744       1.000
  14   36      -706.142      30.565       0.313
  15   39      -714.576     102.864       1.057
  16   42      -721.572      73.059       2.352
  17   44      -728.588      49.112       0.461
  18   47      -730.259     101.882       0.047
  19   51      -740.892      47.056       0.889
  20   53      -754.277      19.487       5.000
  21   57      -758.147      27.599       0.244
  22   58      -759.911      83.805       1.000
  23   61      -764.282      89.343       0.020
Final RAS Transform: 
1.13804 -0.0647192 0.105293 -4.94738 
-0.0866121 1.10185 -0.0902501 3.70375 
-0.0610416 -0.281787 0.967178 -3.90676 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -344.024   GNORM= 63.358
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -362.547     178.323       0.007
   2    9      -363.676     491.783       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13878 -0.0640006 0.105863 -5.0026 
-0.0834183 1.09733 -0.0844998 3.12034 
-0.0598847 -0.281812 0.967946 -4.1265 
0 0 0 1 

Final RAS Transform: 
1.13878 -0.0640006 0.105863 -5.0026 
-0.0834183 1.09733 -0.0844998 3.12034 
-0.0598847 -0.281812 0.967946 -4.1265 
0 0 0 1 


real	0m3.931s
user	0m6.228s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.381764
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0147
Level     0,  Iter     1:    Energy =   0.0166
Level     0,  Iter     2:    Energy =   0.0190
Level     0,  Iter     3:    Energy =   0.0212
Level     0,  Iter     4:    Energy =   0.0232
Level     0,  Iter     5:    Energy =   0.0248
Level     0,  Iter     6:    Energy =   0.0261
Level     0,  Iter     7:    Energy =   0.0272
Level     0,  Iter     8:    Energy =   0.0282
Level     0,  Iter     9:    Energy =   0.0291
Level     0,  Iter    10:    Energy =   0.0299
Level     0,  Iter    11:    Energy =   0.0307
Level     0,  Iter    12:    Energy =   0.0313
Level     0,  Iter    13:    Energy =   0.0318
Level     0,  Iter    14:    Energy =   0.0323
Level     0,  Iter    15:    Energy =   0.0329
Level     0,  Iter    16:    Energy =   0.0335
Level     0,  Iter    17:    Energy =   0.0340
Level     0,  Iter    18:    Energy =   0.0344
Level     0,  Iter    19:    Energy =   0.0349
Level     0,  Iter    20:    Energy =   0.0351
Level     0,  Iter    21:    Energy =   0.0353
Level     0,  Iter    22:    Energy =   0.0355
Level     0,  Iter    23:    Energy =   0.0357
Level     0,  Iter    24:    Energy =   0.0359
Level     0,  Iter    25:    Energy =   0.0361
Level     0,  Iter    26:    Energy =   0.0363
Level     0,  Iter    27:    Energy =   0.0364
Level     0,  Iter    28:    Energy =   0.0365
Level     0,  Iter    29:    Energy =   0.0366
Level     0,  Iter    30:    Energy =   0.0367
Level     0,  Iter    31:    Energy =   0.0368
Level     0,  Iter    32:    Energy =   0.0369
Level     0,  Iter    33:    Energy =   0.0369
Level     0,  Iter    34:    Energy =   0.0370
Level     0,  Iter    35:    Energy =   0.0370
Level     0,  Iter    36:    Energy =   0.0371
Level     0,  Iter    37:    Energy =   0.0371
Level     0,  Iter    38:    Energy =   0.0372
Level     0,  Iter    39:    Energy =   0.0372
Level     0,  Iter    40:    Energy =   0.0373
Level     0,  Iter    41:    Energy =   0.0373
Level     0,  Iter    42:    Energy =   0.0373
Level     0,  Iter    43:    Energy =   0.0374
Level     0,  Iter    44:    Energy =   0.0374
Level     0,  Iter    45:    Energy =   0.0375
Level     0,  Iter    46:    Energy =   0.0375
Level     0,  Iter    47:    Energy =   0.0376
Level     0,  Iter    48:    Energy =   0.0376
Level     0,  Iter    49:    Energy =   0.0377
Level     0,  Iter    50:    Energy =   0.0378
Level     0,  Iter    51:    Energy =   0.0378
Level     0,  Iter    52:    Energy =   0.0379
Level     0,  Iter    53:    Energy =   0.0380
Level     0,  Iter    54:    Energy =   0.0381
Level     0,  Iter    55:    Energy =   0.0382
Level     0,  Iter    56:    Energy =   0.0383
Level     0,  Iter    57:    Energy =   0.0384
Level     0,  Iter    58:    Energy =   0.0386
Level     0,  Iter    59:    Energy =   0.0387
END OF LEVEL     0    DetJac Range:   0.0329  to   2.6543 
  Avg. Gradient Time  : 0.0065s  32.87% 
  Avg. Gaussian Time  : 0.0096s  48.37% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0211
Level     1,  Iter     1:    Energy =   0.0223
Level     1,  Iter     2:    Energy =   0.0234
Level     1,  Iter     3:    Energy =   0.0244
Level     1,  Iter     4:    Energy =   0.0252
Level     1,  Iter     5:    Energy =   0.0257
Level     1,  Iter     6:    Energy =   0.0266
Level     1,  Iter     7:    Energy =   0.0274
Level     1,  Iter     8:    Energy =   0.0282
Level     1,  Iter     9:    Energy =   0.0288
Level     1,  Iter    10:    Energy =   0.0294
Level     1,  Iter    11:    Energy =   0.0299
Level     1,  Iter    12:    Energy =   0.0303
Level     1,  Iter    13:    Energy =   0.0307
Level     1,  Iter    14:    Energy =   0.0310
Level     1,  Iter    15:    Energy =   0.0314
Level     1,  Iter    16:    Energy =   0.0317
Level     1,  Iter    17:    Energy =   0.0319
Level     1,  Iter    18:    Energy =   0.0322
Level     1,  Iter    19:    Energy =   0.0324
Level     1,  Iter    20:    Energy =   0.0326
Level     1,  Iter    21:    Energy =   0.0328
Level     1,  Iter    22:    Energy =   0.0330
Level     1,  Iter    23:    Energy =   0.0332
Level     1,  Iter    24:    Energy =   0.0334
Level     1,  Iter    25:    Energy =   0.0336
Level     1,  Iter    26:    Energy =   0.0337
Level     1,  Iter    27:    Energy =   0.0339
Level     1,  Iter    28:    Energy =   0.0340
Level     1,  Iter    29:    Energy =   0.0342
Level     1,  Iter    30:    Energy =   0.0343
Level     1,  Iter    31:    Energy =   0.0345
Level     1,  Iter    32:    Energy =   0.0346
Level     1,  Iter    33:    Energy =   0.0347
Level     1,  Iter    34:    Energy =   0.0348
Level     1,  Iter    35:    Energy =   0.0350
Level     1,  Iter    36:    Energy =   0.0351
Level     1,  Iter    37:    Energy =   0.0353
Level     1,  Iter    38:    Energy =   0.0354
Level     1,  Iter    39:    Energy =   0.0356
Level     1,  Iter    40:    Energy =   0.0357
Level     1,  Iter    41:    Energy =   0.0358
Level     1,  Iter    42:    Energy =   0.0359
Level     1,  Iter    43:    Energy =   0.0360
Level     1,  Iter    44:    Energy =   0.0361
Level     1,  Iter    45:    Energy =   0.0361
Level     1,  Iter    46:    Energy =   0.0362
Level     1,  Iter    47:    Energy =   0.0363
Level     1,  Iter    48:    Energy =   0.0364
Level     1,  Iter    49:    Energy =   0.0365
Level     1,  Iter    50:    Energy =   0.0365
Level     1,  Iter    51:    Energy =   0.0366
Level     1,  Iter    52:    Energy =   0.0366
Level     1,  Iter    53:    Energy =   0.0367
Level     1,  Iter    54:    Energy =   0.0367
Level     1,  Iter    55:    Energy =   0.0368
Level     1,  Iter    56:    Energy =   0.0368
Level     1,  Iter    57:    Energy =   0.0368
Level     1,  Iter    58:    Energy =   0.0368
Level     1,  Iter    59:    Energy =   0.0369
END OF LEVEL     1    DetJac Range:   0.0156  to   2.9900 
  Avg. Gradient Time  : 0.0270s  33.13% 
  Avg. Gaussian Time  : 0.0432s  52.87% 
  Avg. Iteration Time : 0.0816s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0154
Level     2,  Iter     1:    Energy =   0.0157
Level     2,  Iter     2:    Energy =   0.0161
Level     2,  Iter     3:    Energy =   0.0164
Level     2,  Iter     4:    Energy =   0.0166
Level     2,  Iter     5:    Energy =   0.0169
Level     2,  Iter     6:    Energy =   0.0172
Level     2,  Iter     7:    Energy =   0.0176
Level     2,  Iter     8:    Energy =   0.0180
Level     2,  Iter     9:    Energy =   0.0183
Level     2,  Iter    10:    Energy =   0.0185
Level     2,  Iter    11:    Energy =   0.0189
Level     2,  Iter    12:    Energy =   0.0192
Level     2,  Iter    13:    Energy =   0.0194
Level     2,  Iter    14:    Energy =   0.0195
Level     2,  Iter    15:    Energy =   0.0197
Level     2,  Iter    16:    Energy =   0.0198
Level     2,  Iter    17:    Energy =   0.0200
Level     2,  Iter    18:    Energy =   0.0201
Level     2,  Iter    19:    Energy =   0.0202
END OF LEVEL     2    DetJac Range:   0.0199  to   2.8751 
  Avg. Gradient Time  : 0.1763s  31.89% 
  Avg. Gaussian Time  : 0.3004s  54.34% 
  Avg. Iteration Time : 0.5528s 

real	0m19.801s
user	0m34.484s
sys	0m2.184s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315714 0.32
+ echo 'CHUNK 0.315714 0.32 1'
CHUNK 0.315714 0.32 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315714 0.32 1
====================================
         PROGRESS: 0.315714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 028
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 028 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=028
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 028 left 0
+ local tid=028
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.576
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 273.478   GNORM= 116.068
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       170.264     100.203       0.009
   2    3      -340.467      99.064       1.000
   3    6      -388.761      79.542       0.025
   4   14      -531.527     117.411       1.090
   5   16      -651.364      70.350       0.172
   6   18      -653.105      72.091       0.199
   7   19      -689.851      72.708       1.000
   8   20      -703.164      31.573       1.000
   9   22      -723.159     143.915       5.000
  10   26      -726.758      84.085       0.011
  11   28      -728.018      45.301       0.442
  12   29      -731.630      37.937       1.000
  13   36      -733.492      55.431       1.001
  14   37      -752.078      23.257       1.000
  15   42      -762.412     114.840       0.994
  16   46      -762.941      93.285       0.217
  17   47      -788.485      39.507       1.000
  18   51      -790.594      30.963       0.345
  19   53      -806.284      23.328       5.000
  20   56      -808.150      47.896       0.610
  21   57      -814.136      32.927       1.000
  22   59      -819.512      36.583       0.161
  23   60      -825.605      42.940       1.000
Final RAS Transform: 
0.896256 -0.192298 -0.0125161 -4.41103 
-0.152605 1.02224 -0.249439 7.53291 
0.236339 -0.144343 0.977125 -3.12658 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -413.07   GNORM= 36.3275
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -420.311      83.715       0.028
   2   11      -423.542     173.015       0.835
   3   13      -424.149     190.435       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.893788 -0.190145 -0.0192876 -3.64783 
-0.156751 1.02316 -0.254762 7.86152 
0.239835 -0.143965 0.984302 -3.57473 
0 0 0 1 

Final RAS Transform: 
0.893788 -0.190145 -0.0192876 -3.64783 
-0.156751 1.02316 -0.254762 7.86152 
0.239835 -0.143965 0.984302 -3.57473 
0 0 0 1 


real	0m4.150s
user	0m6.576s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.374622
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0166
Level     0,  Iter     1:    Energy =   0.0175
Level     0,  Iter     2:    Energy =   0.0191
Level     0,  Iter     3:    Energy =   0.0209
Level     0,  Iter     4:    Energy =   0.0221
Level     0,  Iter     5:    Energy =   0.0231
Level     0,  Iter     6:    Energy =   0.0240
Level     0,  Iter     7:    Energy =   0.0250
Level     0,  Iter     8:    Energy =   0.0257
Level     0,  Iter     9:    Energy =   0.0261
Level     0,  Iter    10:    Energy =   0.0264
Level     0,  Iter    11:    Energy =   0.0266
Level     0,  Iter    12:    Energy =   0.0270
Level     0,  Iter    13:    Energy =   0.0272
Level     0,  Iter    14:    Energy =   0.0277
Level     0,  Iter    15:    Energy =   0.0279
Level     0,  Iter    16:    Energy =   0.0281
Level     0,  Iter    17:    Energy =   0.0282
Level     0,  Iter    18:    Energy =   0.0284
Level     0,  Iter    19:    Energy =   0.0284
Level     0,  Iter    20:    Energy =   0.0286
Level     0,  Iter    21:    Energy =   0.0287
Level     0,  Iter    22:    Energy =   0.0290
Level     0,  Iter    23:    Energy =   0.0290
Level     0,  Iter    24:    Energy =   0.0293
Level     0,  Iter    25:    Energy =   0.0293
Level     0,  Iter    26:    Energy =   0.0294
Level     0,  Iter    27:    Energy =   0.0293
Level     0,  Iter    28:    Energy =   0.0297
Level     0,  Iter    29:    Energy =   0.0296
Level     0,  Iter    30:    Energy =   0.0298
Level     0,  Iter    31:    Energy =   0.0298
Level     0,  Iter    32:    Energy =   0.0299
Level     0,  Iter    33:    Energy =   0.0298
Level     0,  Iter    34:    Energy =   0.0301
Level     0,  Iter    35:    Energy =   0.0300
Level     0,  Iter    36:    Energy =   0.0300
Level     0,  Iter    37:    Energy =   0.0300
Level     0,  Iter    38:    Energy =   0.0301
Level     0,  Iter    39:    Energy =   0.0300
Level     0,  Iter    40:    Energy =   0.0302
Level     0,  Iter    41:    Energy =   0.0301
Level     0,  Iter    42:    Energy =   0.0303
Level     0,  Iter    43:    Energy =   0.0302
Level     0,  Iter    44:    Energy =   0.0303
Level     0,  Iter    45:    Energy =   0.0303
Level     0,  Iter    46:    Energy =   0.0304
Level     0,  Iter    47:    Energy =   0.0304
Level     0,  Iter    48:    Energy =   0.0305
Level     0,  Iter    49:    Energy =   0.0304
Level     0,  Iter    50:    Energy =   0.0305
Level     0,  Iter    51:    Energy =   0.0304
Level     0,  Iter    52:    Energy =   0.0306
Level     0,  Iter    53:    Energy =   0.0305
Level     0,  Iter    54:    Energy =   0.0306
Level     0,  Iter    55:    Energy =   0.0306
Level     0,  Iter    56:    Energy =   0.0306
Level     0,  Iter    57:    Energy =   0.0306
Level     0,  Iter    58:    Energy =   0.0306
Level     0,  Iter    59:    Energy =   0.0306
END OF LEVEL     0    DetJac Range:   0.2155  to   2.0488 
  Avg. Gradient Time  : 0.0064s  33.29% 
  Avg. Gaussian Time  : 0.0091s  47.79% 
  Avg. Iteration Time : 0.0191s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0152
Level     1,  Iter     1:    Energy =   0.0162
Level     1,  Iter     2:    Energy =   0.0170
Level     1,  Iter     3:    Energy =   0.0178
Level     1,  Iter     4:    Energy =   0.0186
Level     1,  Iter     5:    Energy =   0.0193
Level     1,  Iter     6:    Energy =   0.0199
Level     1,  Iter     7:    Energy =   0.0203
Level     1,  Iter     8:    Energy =   0.0208
Level     1,  Iter     9:    Energy =   0.0212
Level     1,  Iter    10:    Energy =   0.0216
Level     1,  Iter    11:    Energy =   0.0221
Level     1,  Iter    12:    Energy =   0.0226
Level     1,  Iter    13:    Energy =   0.0230
Level     1,  Iter    14:    Energy =   0.0233
Level     1,  Iter    15:    Energy =   0.0236
Level     1,  Iter    16:    Energy =   0.0239
Level     1,  Iter    17:    Energy =   0.0242
Level     1,  Iter    18:    Energy =   0.0244
Level     1,  Iter    19:    Energy =   0.0246
Level     1,  Iter    20:    Energy =   0.0248
Level     1,  Iter    21:    Energy =   0.0249
Level     1,  Iter    22:    Energy =   0.0250
Level     1,  Iter    23:    Energy =   0.0252
Level     1,  Iter    24:    Energy =   0.0253
Level     1,  Iter    25:    Energy =   0.0254
Level     1,  Iter    26:    Energy =   0.0255
Level     1,  Iter    27:    Energy =   0.0256
Level     1,  Iter    28:    Energy =   0.0258
Level     1,  Iter    29:    Energy =   0.0259
Level     1,  Iter    30:    Energy =   0.0260
Level     1,  Iter    31:    Energy =   0.0261
Level     1,  Iter    32:    Energy =   0.0261
Level     1,  Iter    33:    Energy =   0.0262
Level     1,  Iter    34:    Energy =   0.0263
Level     1,  Iter    35:    Energy =   0.0264
Level     1,  Iter    36:    Energy =   0.0265
Level     1,  Iter    37:    Energy =   0.0265
Level     1,  Iter    38:    Energy =   0.0266
Level     1,  Iter    39:    Energy =   0.0267
Level     1,  Iter    40:    Energy =   0.0267
Level     1,  Iter    41:    Energy =   0.0267
Level     1,  Iter    42:    Energy =   0.0267
Level     1,  Iter    43:    Energy =   0.0267
Level     1,  Iter    44:    Energy =   0.0268
Level     1,  Iter    45:    Energy =   0.0268
Level     1,  Iter    46:    Energy =   0.0268
Level     1,  Iter    47:    Energy =   0.0268
Level     1,  Iter    48:    Energy =   0.0269
Level     1,  Iter    49:    Energy =   0.0269
Level     1,  Iter    50:    Energy =   0.0269
Level     1,  Iter    51:    Energy =   0.0269
Level     1,  Iter    52:    Energy =   0.0270
Level     1,  Iter    53:    Energy =   0.0270
Level     1,  Iter    54:    Energy =   0.0271
Level     1,  Iter    55:    Energy =   0.0271
Level     1,  Iter    56:    Energy =   0.0272
Level     1,  Iter    57:    Energy =   0.0272
Level     1,  Iter    58:    Energy =   0.0273
Level     1,  Iter    59:    Energy =   0.0273
END OF LEVEL     1    DetJac Range:   0.0475  to   3.2736 
  Avg. Gradient Time  : 0.0260s  33.29% 
  Avg. Gaussian Time  : 0.0412s  52.70% 
  Avg. Iteration Time : 0.0781s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0119
Level     2,  Iter     1:    Energy =   0.0127
Level     2,  Iter     2:    Energy =   0.0134
Level     2,  Iter     3:    Energy =   0.0139
Level     2,  Iter     4:    Energy =   0.0143
Level     2,  Iter     5:    Energy =   0.0146
Level     2,  Iter     6:    Energy =   0.0149
Level     2,  Iter     7:    Energy =   0.0152
Level     2,  Iter     8:    Energy =   0.0155
Level     2,  Iter     9:    Energy =   0.0157
Level     2,  Iter    10:    Energy =   0.0159
Level     2,  Iter    11:    Energy =   0.0161
Level     2,  Iter    12:    Energy =   0.0163
Level     2,  Iter    13:    Energy =   0.0164
Level     2,  Iter    14:    Energy =   0.0166
Level     2,  Iter    15:    Energy =   0.0168
Level     2,  Iter    16:    Energy =   0.0169
Level     2,  Iter    17:    Energy =   0.0171
Level     2,  Iter    18:    Energy =   0.0172
Level     2,  Iter    19:    Energy =   0.0174
END OF LEVEL     2    DetJac Range:   0.0321  to   3.3503 
  Avg. Gradient Time  : 0.1703s  31.31% 
  Avg. Gaussian Time  : 0.2980s  54.79% 
  Avg. Iteration Time : 0.5439s 

real	0m19.348s
user	0m33.836s
sys	0m1.992s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.32 0.324286
+ echo 'CHUNK 0.32 0.324286 1'
CHUNK 0.32 0.324286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.32 0.324286 1
====================================
         PROGRESS: 0.32               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 029
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 029 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=029
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 029 left 0
+ local tid=029
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.566
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 350.251   GNORM= 179.714
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -92.444     179.078       0.028
   2    6      -607.809      89.154       0.686
   3    8      -616.230      55.340       0.330
   4   15      -616.647      79.073       0.016
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12086 -0.127368 0.125225 -4.12986 
-0.0345411 1.09137 -0.0712948 2.7105 
0.0174308 -0.114555 1.03837 -2.74891 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -315.426   GNORM= 72.9256
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -354.740      37.254       0.014
   2    3      -359.203     101.359       1.000
   3   14      -359.369      24.490       0.016
   4   15      -359.586      29.743       1.000
   5   19      -360.740      44.213       0.737
   6   22      -361.547      76.163       0.511
   7   27      -364.096      44.499       0.961
   8   33      -365.296      46.587       1.001
   9   34      -367.149      62.551       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11512 -0.128149 0.120316 -3.78033 
-0.0326881 1.0863 -0.0675966 2.39737 
0.0107838 -0.110551 1.02874 -2.1473 
0 0 0 1 

Final RAS Transform: 
1.11512 -0.128149 0.120316 -3.78033 
-0.0326881 1.0863 -0.0675966 2.39737 
0.0107838 -0.110551 1.02874 -2.1473 
0 0 0 1 


real	0m5.059s
user	0m8.404s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.404008
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0134
Level     0,  Iter     1:    Energy =   0.0152
Level     0,  Iter     2:    Energy =   0.0177
Level     0,  Iter     3:    Energy =   0.0194
Level     0,  Iter     4:    Energy =   0.0208
Level     0,  Iter     5:    Energy =   0.0222
Level     0,  Iter     6:    Energy =   0.0234
Level     0,  Iter     7:    Energy =   0.0244
Level     0,  Iter     8:    Energy =   0.0252
Level     0,  Iter     9:    Energy =   0.0259
Level     0,  Iter    10:    Energy =   0.0267
Level     0,  Iter    11:    Energy =   0.0274
Level     0,  Iter    12:    Energy =   0.0280
Level     0,  Iter    13:    Energy =   0.0285
Level     0,  Iter    14:    Energy =   0.0289
Level     0,  Iter    15:    Energy =   0.0293
Level     0,  Iter    16:    Energy =   0.0296
Level     0,  Iter    17:    Energy =   0.0299
Level     0,  Iter    18:    Energy =   0.0303
Level     0,  Iter    19:    Energy =   0.0307
Level     0,  Iter    20:    Energy =   0.0312
Level     0,  Iter    21:    Energy =   0.0316
Level     0,  Iter    22:    Energy =   0.0321
Level     0,  Iter    23:    Energy =   0.0326
Level     0,  Iter    24:    Energy =   0.0330
Level     0,  Iter    25:    Energy =   0.0333
Level     0,  Iter    26:    Energy =   0.0335
Level     0,  Iter    27:    Energy =   0.0338
Level     0,  Iter    28:    Energy =   0.0340
Level     0,  Iter    29:    Energy =   0.0343
Level     0,  Iter    30:    Energy =   0.0346
Level     0,  Iter    31:    Energy =   0.0349
Level     0,  Iter    32:    Energy =   0.0353
Level     0,  Iter    33:    Energy =   0.0356
Level     0,  Iter    34:    Energy =   0.0360
Level     0,  Iter    35:    Energy =   0.0363
Level     0,  Iter    36:    Energy =   0.0367
Level     0,  Iter    37:    Energy =   0.0369
Level     0,  Iter    38:    Energy =   0.0373
Level     0,  Iter    39:    Energy =   0.0376
Level     0,  Iter    40:    Energy =   0.0377
Level     0,  Iter    41:    Energy =   0.0379
Level     0,  Iter    42:    Energy =   0.0380
Level     0,  Iter    43:    Energy =   0.0381
Level     0,  Iter    44:    Energy =   0.0382
Level     0,  Iter    45:    Energy =   0.0382
Level     0,  Iter    46:    Energy =   0.0383
Level     0,  Iter    47:    Energy =   0.0383
Level     0,  Iter    48:    Energy =   0.0383
Level     0,  Iter    49:    Energy =   0.0384
Level     0,  Iter    50:    Energy =   0.0384
Level     0,  Iter    51:    Energy =   0.0385
Level     0,  Iter    52:    Energy =   0.0385
Level     0,  Iter    53:    Energy =   0.0385
Level     0,  Iter    54:    Energy =   0.0386
Level     0,  Iter    55:    Energy =   0.0387
Level     0,  Iter    56:    Energy =   0.0387
Level     0,  Iter    57:    Energy =   0.0388
Level     0,  Iter    58:    Energy =   0.0389
Level     0,  Iter    59:    Energy =   0.0389
END OF LEVEL     0    DetJac Range:   0.0212  to   2.1888 
  Avg. Gradient Time  : 0.0066s  32.93% 
  Avg. Gaussian Time  : 0.0097s  48.06% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0234
Level     1,  Iter     1:    Energy =   0.0247
Level     1,  Iter     2:    Energy =   0.0257
Level     1,  Iter     3:    Energy =   0.0265
Level     1,  Iter     4:    Energy =   0.0272
Level     1,  Iter     5:    Energy =   0.0279
Level     1,  Iter     6:    Energy =   0.0285
Level     1,  Iter     7:    Energy =   0.0291
Level     1,  Iter     8:    Energy =   0.0294
Level     1,  Iter     9:    Energy =   0.0299
Level     1,  Iter    10:    Energy =   0.0303
Level     1,  Iter    11:    Energy =   0.0306
Level     1,  Iter    12:    Energy =   0.0310
Level     1,  Iter    13:    Energy =   0.0313
Level     1,  Iter    14:    Energy =   0.0316
Level     1,  Iter    15:    Energy =   0.0319
Level     1,  Iter    16:    Energy =   0.0321
Level     1,  Iter    17:    Energy =   0.0322
Level     1,  Iter    18:    Energy =   0.0324
Level     1,  Iter    19:    Energy =   0.0325
Level     1,  Iter    20:    Energy =   0.0327
Level     1,  Iter    21:    Energy =   0.0328
Level     1,  Iter    22:    Energy =   0.0330
Level     1,  Iter    23:    Energy =   0.0331
Level     1,  Iter    24:    Energy =   0.0332
Level     1,  Iter    25:    Energy =   0.0333
Level     1,  Iter    26:    Energy =   0.0334
Level     1,  Iter    27:    Energy =   0.0335
Level     1,  Iter    28:    Energy =   0.0336
Level     1,  Iter    29:    Energy =   0.0336
Level     1,  Iter    30:    Energy =   0.0337
Level     1,  Iter    31:    Energy =   0.0338
Level     1,  Iter    32:    Energy =   0.0338
Level     1,  Iter    33:    Energy =   0.0339
Level     1,  Iter    34:    Energy =   0.0339
Level     1,  Iter    35:    Energy =   0.0340
Level     1,  Iter    36:    Energy =   0.0340
Level     1,  Iter    37:    Energy =   0.0340
Level     1,  Iter    38:    Energy =   0.0341
Level     1,  Iter    39:    Energy =   0.0341
Level     1,  Iter    40:    Energy =   0.0342
Level     1,  Iter    41:    Energy =   0.0342
Level     1,  Iter    42:    Energy =   0.0343
Level     1,  Iter    43:    Energy =   0.0343
Level     1,  Iter    44:    Energy =   0.0343
Level     1,  Iter    45:    Energy =   0.0344
Level     1,  Iter    46:    Energy =   0.0344
Level     1,  Iter    47:    Energy =   0.0344
Level     1,  Iter    48:    Energy =   0.0345
Level     1,  Iter    49:    Energy =   0.0345
Level     1,  Iter    50:    Energy =   0.0345
Level     1,  Iter    51:    Energy =   0.0346
Level     1,  Iter    52:    Energy =   0.0346
Level     1,  Iter    53:    Energy =   0.0346
Level     1,  Iter    54:    Energy =   0.0346
Level     1,  Iter    55:    Energy =   0.0346
Level     1,  Iter    56:    Energy =   0.0346
Level     1,  Iter    57:    Energy =   0.0346
Level     1,  Iter    58:    Energy =   0.0347
Level     1,  Iter    59:    Energy =   0.0347
END OF LEVEL     1    DetJac Range:   0.0143  to   3.0362 
  Avg. Gradient Time  : 0.0269s  33.28% 
  Avg. Gaussian Time  : 0.0427s  52.78% 
  Avg. Iteration Time : 0.0808s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0148
Level     2,  Iter     1:    Energy =   0.0155
Level     2,  Iter     2:    Energy =   0.0161
Level     2,  Iter     3:    Energy =   0.0166
Level     2,  Iter     4:    Energy =   0.0171
Level     2,  Iter     5:    Energy =   0.0176
Level     2,  Iter     6:    Energy =   0.0181
Level     2,  Iter     7:    Energy =   0.0185
Level     2,  Iter     8:    Energy =   0.0188
Level     2,  Iter     9:    Energy =   0.0191
Level     2,  Iter    10:    Energy =   0.0194
Level     2,  Iter    11:    Energy =   0.0197
Level     2,  Iter    12:    Energy =   0.0199
Level     2,  Iter    13:    Energy =   0.0202
Level     2,  Iter    14:    Energy =   0.0205
Level     2,  Iter    15:    Energy =   0.0207
Level     2,  Iter    16:    Energy =   0.0209
Level     2,  Iter    17:    Energy =   0.0211
Level     2,  Iter    18:    Energy =   0.0213
Level     2,  Iter    19:    Energy =   0.0214
END OF LEVEL     2    DetJac Range:   0.0086  to   3.7938 
  Avg. Gradient Time  : 0.1735s  31.44% 
  Avg. Gaussian Time  : 0.3016s  54.67% 
  Avg. Iteration Time : 0.5517s 

real	0m19.699s
user	0m34.492s
sys	0m1.996s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.324286 0.328571
+ echo 'CHUNK 0.324286 0.328571 1'
CHUNK 0.324286 0.328571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.324286 0.328571 1
====================================
         PROGRESS: 0.324286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 030
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 030 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=030
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 030 left 0
+ local tid=030
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 248.191   GNORM= 244.675
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -395.073      76.806       0.020
   2    7      -548.711      70.605       0.890
   3    9      -623.570     132.941       0.184
   4   10      -727.446      95.684       1.000
   5   12      -761.262      91.354       0.485
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11943 -0.123349 0.16089 -3.65101 
-0.0907675 1.09267 -0.123688 3.73861 
0.0242333 -0.175372 1.04298 -3.68915 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -312.657   GNORM= 332.771
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -328.238      46.583       0.002
   2    5      -330.192       9.278       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11436 -0.119013 0.15789 -3.13301 
-0.0920882 1.09465 -0.124627 3.89284 
0.0239342 -0.174925 1.04261 -3.65636 
0 0 0 1 

Final RAS Transform: 
1.11436 -0.119013 0.15789 -3.13301 
-0.0920882 1.09465 -0.124627 3.89284 
0.0239342 -0.174925 1.04261 -3.65636 
0 0 0 1 


real	0m3.373s
user	0m5.268s
sys	0m0.380s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.434967
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0161
Level     0,  Iter     1:    Energy =   0.0184
Level     0,  Iter     2:    Energy =   0.0207
Level     0,  Iter     3:    Energy =   0.0229
Level     0,  Iter     4:    Energy =   0.0250
Level     0,  Iter     5:    Energy =   0.0269
Level     0,  Iter     6:    Energy =   0.0285
Level     0,  Iter     7:    Energy =   0.0296
Level     0,  Iter     8:    Energy =   0.0307
Level     0,  Iter     9:    Energy =   0.0317
Level     0,  Iter    10:    Energy =   0.0326
Level     0,  Iter    11:    Energy =   0.0331
Level     0,  Iter    12:    Energy =   0.0333
Level     0,  Iter    13:    Energy =   0.0336
Level     0,  Iter    14:    Energy =   0.0340
Level     0,  Iter    15:    Energy =   0.0343
Level     0,  Iter    16:    Energy =   0.0344
Level     0,  Iter    17:    Energy =   0.0347
Level     0,  Iter    18:    Energy =   0.0348
Level     0,  Iter    19:    Energy =   0.0350
Level     0,  Iter    20:    Energy =   0.0351
Level     0,  Iter    21:    Energy =   0.0352
Level     0,  Iter    22:    Energy =   0.0354
Level     0,  Iter    23:    Energy =   0.0355
Level     0,  Iter    24:    Energy =   0.0356
Level     0,  Iter    25:    Energy =   0.0357
Level     0,  Iter    26:    Energy =   0.0357
Level     0,  Iter    27:    Energy =   0.0358
Level     0,  Iter    28:    Energy =   0.0358
Level     0,  Iter    29:    Energy =   0.0359
Level     0,  Iter    30:    Energy =   0.0358
Level     0,  Iter    31:    Energy =   0.0359
Level     0,  Iter    32:    Energy =   0.0358
Level     0,  Iter    33:    Energy =   0.0358
Level     0,  Iter    34:    Energy =   0.0357
Level     0,  Iter    35:    Energy =   0.0358
Level     0,  Iter    36:    Energy =   0.0357
Level     0,  Iter    37:    Energy =   0.0357
Level     0,  Iter    38:    Energy =   0.0357
Level     0,  Iter    39:    Energy =   0.0356
Level     0,  Iter    40:    Energy =   0.0356
Level     0,  Iter    41:    Energy =   0.0356
Level     0,  Iter    42:    Energy =   0.0356
Level     0,  Iter    43:    Energy =   0.0356
Level     0,  Iter    44:    Energy =   0.0356
Level     0,  Iter    45:    Energy =   0.0356
Level     0,  Iter    46:    Energy =   0.0356
Level     0,  Iter    47:    Energy =   0.0356
Level     0,  Iter    48:    Energy =   0.0356
Level     0,  Iter    49:    Energy =   0.0356
Level     0,  Iter    50:    Energy =   0.0356
Level     0,  Iter    51:    Energy =   0.0356
Level     0,  Iter    52:    Energy =   0.0356
Level     0,  Iter    53:    Energy =   0.0356
Level     0,  Iter    54:    Energy =   0.0356
Level     0,  Iter    55:    Energy =   0.0357
Level     0,  Iter    56:    Energy =   0.0356
Level     0,  Iter    57:    Energy =   0.0357
Level     0,  Iter    58:    Energy =   0.0356
Level     0,  Iter    59:    Energy =   0.0356
END OF LEVEL     0    DetJac Range:   0.0485  to   2.6061 
  Avg. Gradient Time  : 0.0067s  32.65% 
  Avg. Gaussian Time  : 0.0099s  48.56% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0182
Level     1,  Iter     1:    Energy =   0.0190
Level     1,  Iter     2:    Energy =   0.0198
Level     1,  Iter     3:    Energy =   0.0205
Level     1,  Iter     4:    Energy =   0.0210
Level     1,  Iter     5:    Energy =   0.0216
Level     1,  Iter     6:    Energy =   0.0220
Level     1,  Iter     7:    Energy =   0.0224
Level     1,  Iter     8:    Energy =   0.0228
Level     1,  Iter     9:    Energy =   0.0232
Level     1,  Iter    10:    Energy =   0.0236
Level     1,  Iter    11:    Energy =   0.0239
Level     1,  Iter    12:    Energy =   0.0242
Level     1,  Iter    13:    Energy =   0.0245
Level     1,  Iter    14:    Energy =   0.0248
Level     1,  Iter    15:    Energy =   0.0251
Level     1,  Iter    16:    Energy =   0.0253
Level     1,  Iter    17:    Energy =   0.0255
Level     1,  Iter    18:    Energy =   0.0258
Level     1,  Iter    19:    Energy =   0.0260
Level     1,  Iter    20:    Energy =   0.0262
Level     1,  Iter    21:    Energy =   0.0263
Level     1,  Iter    22:    Energy =   0.0265
Level     1,  Iter    23:    Energy =   0.0266
Level     1,  Iter    24:    Energy =   0.0267
Level     1,  Iter    25:    Energy =   0.0269
Level     1,  Iter    26:    Energy =   0.0271
Level     1,  Iter    27:    Energy =   0.0272
Level     1,  Iter    28:    Energy =   0.0274
Level     1,  Iter    29:    Energy =   0.0275
Level     1,  Iter    30:    Energy =   0.0276
Level     1,  Iter    31:    Energy =   0.0277
Level     1,  Iter    32:    Energy =   0.0278
Level     1,  Iter    33:    Energy =   0.0278
Level     1,  Iter    34:    Energy =   0.0279
Level     1,  Iter    35:    Energy =   0.0280
Level     1,  Iter    36:    Energy =   0.0281
Level     1,  Iter    37:    Energy =   0.0282
Level     1,  Iter    38:    Energy =   0.0282
Level     1,  Iter    39:    Energy =   0.0283
Level     1,  Iter    40:    Energy =   0.0284
Level     1,  Iter    41:    Energy =   0.0284
Level     1,  Iter    42:    Energy =   0.0285
Level     1,  Iter    43:    Energy =   0.0286
Level     1,  Iter    44:    Energy =   0.0286
Level     1,  Iter    45:    Energy =   0.0287
Level     1,  Iter    46:    Energy =   0.0287
Level     1,  Iter    47:    Energy =   0.0288
Level     1,  Iter    48:    Energy =   0.0288
Level     1,  Iter    49:    Energy =   0.0289
Level     1,  Iter    50:    Energy =   0.0289
Level     1,  Iter    51:    Energy =   0.0289
Level     1,  Iter    52:    Energy =   0.0290
Level     1,  Iter    53:    Energy =   0.0290
Level     1,  Iter    54:    Energy =   0.0291
Level     1,  Iter    55:    Energy =   0.0291
Level     1,  Iter    56:    Energy =   0.0291
Level     1,  Iter    57:    Energy =   0.0291
Level     1,  Iter    58:    Energy =   0.0292
Level     1,  Iter    59:    Energy =   0.0292
END OF LEVEL     1    DetJac Range:   0.0152  to   2.9593 
  Avg. Gradient Time  : 0.0274s  33.25% 
  Avg. Gaussian Time  : 0.0436s  52.84% 
  Avg. Iteration Time : 0.0825s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0116
Level     2,  Iter     1:    Energy =   0.0122
Level     2,  Iter     2:    Energy =   0.0128
Level     2,  Iter     3:    Energy =   0.0132
Level     2,  Iter     4:    Energy =   0.0137
Level     2,  Iter     5:    Energy =   0.0141
Level     2,  Iter     6:    Energy =   0.0145
Level     2,  Iter     7:    Energy =   0.0148
Level     2,  Iter     8:    Energy =   0.0150
Level     2,  Iter     9:    Energy =   0.0153
Level     2,  Iter    10:    Energy =   0.0155
Level     2,  Iter    11:    Energy =   0.0157
Level     2,  Iter    12:    Energy =   0.0159
Level     2,  Iter    13:    Energy =   0.0161
Level     2,  Iter    14:    Energy =   0.0162
Level     2,  Iter    15:    Energy =   0.0164
Level     2,  Iter    16:    Energy =   0.0165
Level     2,  Iter    17:    Energy =   0.0166
Level     2,  Iter    18:    Energy =   0.0167
Level     2,  Iter    19:    Energy =   0.0168
END OF LEVEL     2    DetJac Range:   0.0149  to   3.0155 
  Avg. Gradient Time  : 0.1810s  31.25% 
  Avg. Gaussian Time  : 0.3189s  55.05% 
  Avg. Iteration Time : 0.5794s 

real	0m20.422s
user	0m35.368s
sys	0m2.432s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.328571 0.332857
+ echo 'CHUNK 0.328571 0.332857 1'
CHUNK 0.328571 0.332857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.328571 0.332857 1
====================================
         PROGRESS: 0.328571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 031
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 031 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=031
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 031 left 0
+ local tid=031
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.586
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 189.607   GNORM= 236.572
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -368.031     106.258       0.021
   2    4      -417.165     155.736       1.000
   3    6      -462.132     199.811       0.509
   4    7      -488.750     145.760       1.000
   5   10      -574.511      69.522       2.104
   6   15      -575.038     106.659       0.001
   7   16      -622.226     108.453       1.000
   8   20      -690.782     124.853       1.443
   9   21      -730.776      85.436       1.000
  10   23      -738.001      68.211       0.395
  11   26      -738.425      79.553       0.004
  12   28      -742.371      56.498       0.197
  13   29      -751.274      20.032       1.000
  14   30      -754.019     188.896       1.000
  15   33      -771.771      62.631       0.123
  16   35      -772.686     161.552       0.495
  17   38      -775.018      46.098       0.018
  18   40      -775.133      89.626       0.074
  19   43      -776.214      99.683       2.977
  20   47      -776.480      56.026       0.000
Final RAS Transform: 
1.13652 0.0373152 0.189763 -4.95541 
-0.0739469 1.13746 -0.164057 3.05883 
-0.0222324 -0.164795 0.926667 -7.22231 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -319.257   GNORM= 1674.03
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -373.088     503.142       0.001
   2    7      -373.249     101.071       0.312
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13448 0.0385384 0.189432 -4.77742 
-0.0693734 1.13163 -0.157537 2.51186 
-0.0192693 -0.168 0.931922 -7.58874 
0 0 0 1 

Final RAS Transform: 
1.13448 0.0385384 0.189432 -4.77742 
-0.0693734 1.13163 -0.157537 2.51186 
-0.0192693 -0.168 0.931922 -7.58874 
0 0 0 1 


real	0m4.072s
user	0m6.356s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.393748
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0155
Level     0,  Iter     1:    Energy =   0.0165
Level     0,  Iter     2:    Energy =   0.0183
Level     0,  Iter     3:    Energy =   0.0197
Level     0,  Iter     4:    Energy =   0.0211
Level     0,  Iter     5:    Energy =   0.0224
Level     0,  Iter     6:    Energy =   0.0236
Level     0,  Iter     7:    Energy =   0.0244
Level     0,  Iter     8:    Energy =   0.0250
Level     0,  Iter     9:    Energy =   0.0256
Level     0,  Iter    10:    Energy =   0.0260
Level     0,  Iter    11:    Energy =   0.0265
Level     0,  Iter    12:    Energy =   0.0270
Level     0,  Iter    13:    Energy =   0.0277
Level     0,  Iter    14:    Energy =   0.0281
Level     0,  Iter    15:    Energy =   0.0283
Level     0,  Iter    16:    Energy =   0.0284
Level     0,  Iter    17:    Energy =   0.0285
Level     0,  Iter    18:    Energy =   0.0287
Level     0,  Iter    19:    Energy =   0.0290
Level     0,  Iter    20:    Energy =   0.0291
Level     0,  Iter    21:    Energy =   0.0293
Level     0,  Iter    22:    Energy =   0.0295
Level     0,  Iter    23:    Energy =   0.0298
Level     0,  Iter    24:    Energy =   0.0299
Level     0,  Iter    25:    Energy =   0.0300
Level     0,  Iter    26:    Energy =   0.0302
Level     0,  Iter    27:    Energy =   0.0303
Level     0,  Iter    28:    Energy =   0.0304
Level     0,  Iter    29:    Energy =   0.0304
Level     0,  Iter    30:    Energy =   0.0305
Level     0,  Iter    31:    Energy =   0.0305
Level     0,  Iter    32:    Energy =   0.0306
Level     0,  Iter    33:    Energy =   0.0306
Level     0,  Iter    34:    Energy =   0.0306
Level     0,  Iter    35:    Energy =   0.0306
Level     0,  Iter    36:    Energy =   0.0307
Level     0,  Iter    37:    Energy =   0.0307
Level     0,  Iter    38:    Energy =   0.0307
Level     0,  Iter    39:    Energy =   0.0307
Level     0,  Iter    40:    Energy =   0.0307
Level     0,  Iter    41:    Energy =   0.0307
Level     0,  Iter    42:    Energy =   0.0307
Level     0,  Iter    43:    Energy =   0.0307
Level     0,  Iter    44:    Energy =   0.0308
Level     0,  Iter    45:    Energy =   0.0308
Level     0,  Iter    46:    Energy =   0.0308
Level     0,  Iter    47:    Energy =   0.0308
Level     0,  Iter    48:    Energy =   0.0309
Level     0,  Iter    49:    Energy =   0.0309
Level     0,  Iter    50:    Energy =   0.0309
Level     0,  Iter    51:    Energy =   0.0310
Level     0,  Iter    52:    Energy =   0.0310
Level     0,  Iter    53:    Energy =   0.0310
Level     0,  Iter    54:    Energy =   0.0311
Level     0,  Iter    55:    Energy =   0.0311
Level     0,  Iter    56:    Energy =   0.0311
Level     0,  Iter    57:    Energy =   0.0311
Level     0,  Iter    58:    Energy =   0.0311
Level     0,  Iter    59:    Energy =   0.0311
END OF LEVEL     0    DetJac Range:   0.0325  to   2.8427 
  Avg. Gradient Time  : 0.0069s  32.87% 
  Avg. Gaussian Time  : 0.0102s  48.31% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0163
Level     1,  Iter     1:    Energy =   0.0169
Level     1,  Iter     2:    Energy =   0.0173
Level     1,  Iter     3:    Energy =   0.0179
Level     1,  Iter     4:    Energy =   0.0187
Level     1,  Iter     5:    Energy =   0.0195
Level     1,  Iter     6:    Energy =   0.0204
Level     1,  Iter     7:    Energy =   0.0211
Level     1,  Iter     8:    Energy =   0.0217
Level     1,  Iter     9:    Energy =   0.0223
Level     1,  Iter    10:    Energy =   0.0229
Level     1,  Iter    11:    Energy =   0.0235
Level     1,  Iter    12:    Energy =   0.0241
Level     1,  Iter    13:    Energy =   0.0245
Level     1,  Iter    14:    Energy =   0.0250
Level     1,  Iter    15:    Energy =   0.0254
Level     1,  Iter    16:    Energy =   0.0257
Level     1,  Iter    17:    Energy =   0.0261
Level     1,  Iter    18:    Energy =   0.0264
Level     1,  Iter    19:    Energy =   0.0267
Level     1,  Iter    20:    Energy =   0.0270
Level     1,  Iter    21:    Energy =   0.0274
Level     1,  Iter    22:    Energy =   0.0276
Level     1,  Iter    23:    Energy =   0.0280
Level     1,  Iter    24:    Energy =   0.0282
Level     1,  Iter    25:    Energy =   0.0285
Level     1,  Iter    26:    Energy =   0.0287
Level     1,  Iter    27:    Energy =   0.0288
Level     1,  Iter    28:    Energy =   0.0291
Level     1,  Iter    29:    Energy =   0.0292
Level     1,  Iter    30:    Energy =   0.0294
Level     1,  Iter    31:    Energy =   0.0296
Level     1,  Iter    32:    Energy =   0.0297
Level     1,  Iter    33:    Energy =   0.0299
Level     1,  Iter    34:    Energy =   0.0301
Level     1,  Iter    35:    Energy =   0.0303
Level     1,  Iter    36:    Energy =   0.0305
Level     1,  Iter    37:    Energy =   0.0306
Level     1,  Iter    38:    Energy =   0.0308
Level     1,  Iter    39:    Energy =   0.0308
Level     1,  Iter    40:    Energy =   0.0309
Level     1,  Iter    41:    Energy =   0.0310
Level     1,  Iter    42:    Energy =   0.0310
Level     1,  Iter    43:    Energy =   0.0311
Level     1,  Iter    44:    Energy =   0.0310
Level     1,  Iter    45:    Energy =   0.0310
Level     1,  Iter    46:    Energy =   0.0310
Level     1,  Iter    47:    Energy =   0.0310
Level     1,  Iter    48:    Energy =   0.0310
Level     1,  Iter    49:    Energy =   0.0310
Level     1,  Iter    50:    Energy =   0.0309
Level     1,  Iter    51:    Energy =   0.0309
Level     1,  Iter    52:    Energy =   0.0309
Level     1,  Iter    53:    Energy =   0.0308
Level     1,  Iter    54:    Energy =   0.0307
Level     1,  Iter    55:    Energy =   0.0307
Level     1,  Iter    56:    Energy =   0.0306
Level     1,  Iter    57:    Energy =   0.0306
Level     1,  Iter    58:    Energy =   0.0306
Level     1,  Iter    59:    Energy =   0.0305
END OF LEVEL     1    DetJac Range:   0.0143  to   2.9974 
  Avg. Gradient Time  : 0.0282s  33.63% 
  Avg. Gaussian Time  : 0.0441s  52.53% 
  Avg. Iteration Time : 0.0840s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0123
Level     2,  Iter     1:    Energy =   0.0129
Level     2,  Iter     2:    Energy =   0.0134
Level     2,  Iter     3:    Energy =   0.0137
Level     2,  Iter     4:    Energy =   0.0140
Level     2,  Iter     5:    Energy =   0.0144
Level     2,  Iter     6:    Energy =   0.0149
Level     2,  Iter     7:    Energy =   0.0154
Level     2,  Iter     8:    Energy =   0.0158
Level     2,  Iter     9:    Energy =   0.0160
Level     2,  Iter    10:    Energy =   0.0160
Level     2,  Iter    11:    Energy =   0.0162
Level     2,  Iter    12:    Energy =   0.0164
Level     2,  Iter    13:    Energy =   0.0166
Level     2,  Iter    14:    Energy =   0.0168
Level     2,  Iter    15:    Energy =   0.0171
Level     2,  Iter    16:    Energy =   0.0173
Level     2,  Iter    17:    Energy =   0.0176
Level     2,  Iter    18:    Energy =   0.0178
Level     2,  Iter    19:    Energy =   0.0180
END OF LEVEL     2    DetJac Range:   0.0148  to   3.6015 
  Avg. Gradient Time  : 0.1805s  31.44% 
  Avg. Gaussian Time  : 0.3141s  54.72% 
  Avg. Iteration Time : 0.5740s 

real	0m20.499s
user	0m35.608s
sys	0m2.316s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332857 0.337143
+ echo 'CHUNK 0.332857 0.337143 1'
CHUNK 0.332857 0.337143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332857 0.337143 1
====================================
         PROGRESS: 0.332857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 032
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 032 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=032
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 032 left 0
+ local tid=032
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.551
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 213.509   GNORM= 212.016
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        48.998     124.179       0.005
   2    4      -479.865     138.344       5.000
   3    7      -518.914      69.792       0.039
   4    9      -702.003      42.828       5.000
   5   15      -741.049      49.552       1.002
   6   17      -744.498      35.494       0.240
   7   18      -748.282      47.510       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11926 -0.112678 0.141225 -4.05995 
-0.0408658 1.09431 -0.0858977 3.09598 
0.0204062 -0.133783 1.02283 -2.39953 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -370.666   GNORM= 148.881
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11926 -0.112678 0.141225 -4.05995 
-0.0408658 1.09431 -0.0858977 3.09598 
0.0204062 -0.133783 1.02283 -2.39953 
0 0 0 1 

Final RAS Transform: 
1.11926 -0.112678 0.141225 -4.05995 
-0.0408658 1.09431 -0.0858977 3.09598 
0.0204062 -0.133783 1.02283 -2.39953 
0 0 0 1 


real	0m3.368s
user	0m5.112s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.396561
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0151
Level     0,  Iter     1:    Energy =   0.0161
Level     0,  Iter     2:    Energy =   0.0185
Level     0,  Iter     3:    Energy =   0.0207
Level     0,  Iter     4:    Energy =   0.0226
Level     0,  Iter     5:    Energy =   0.0241
Level     0,  Iter     6:    Energy =   0.0252
Level     0,  Iter     7:    Energy =   0.0260
Level     0,  Iter     8:    Energy =   0.0269
Level     0,  Iter     9:    Energy =   0.0277
Level     0,  Iter    10:    Energy =   0.0281
Level     0,  Iter    11:    Energy =   0.0283
Level     0,  Iter    12:    Energy =   0.0287
Level     0,  Iter    13:    Energy =   0.0291
Level     0,  Iter    14:    Energy =   0.0295
Level     0,  Iter    15:    Energy =   0.0300
Level     0,  Iter    16:    Energy =   0.0304
Level     0,  Iter    17:    Energy =   0.0307
Level     0,  Iter    18:    Energy =   0.0309
Level     0,  Iter    19:    Energy =   0.0311
Level     0,  Iter    20:    Energy =   0.0313
Level     0,  Iter    21:    Energy =   0.0316
Level     0,  Iter    22:    Energy =   0.0318
Level     0,  Iter    23:    Energy =   0.0320
Level     0,  Iter    24:    Energy =   0.0323
Level     0,  Iter    25:    Energy =   0.0326
Level     0,  Iter    26:    Energy =   0.0328
Level     0,  Iter    27:    Energy =   0.0329
Level     0,  Iter    28:    Energy =   0.0330
Level     0,  Iter    29:    Energy =   0.0332
Level     0,  Iter    30:    Energy =   0.0333
Level     0,  Iter    31:    Energy =   0.0334
Level     0,  Iter    32:    Energy =   0.0335
Level     0,  Iter    33:    Energy =   0.0335
Level     0,  Iter    34:    Energy =   0.0336
Level     0,  Iter    35:    Energy =   0.0336
Level     0,  Iter    36:    Energy =   0.0337
Level     0,  Iter    37:    Energy =   0.0338
Level     0,  Iter    38:    Energy =   0.0339
Level     0,  Iter    39:    Energy =   0.0340
Level     0,  Iter    40:    Energy =   0.0340
Level     0,  Iter    41:    Energy =   0.0341
Level     0,  Iter    42:    Energy =   0.0341
Level     0,  Iter    43:    Energy =   0.0342
Level     0,  Iter    44:    Energy =   0.0343
Level     0,  Iter    45:    Energy =   0.0344
Level     0,  Iter    46:    Energy =   0.0345
Level     0,  Iter    47:    Energy =   0.0345
Level     0,  Iter    48:    Energy =   0.0346
Level     0,  Iter    49:    Energy =   0.0346
Level     0,  Iter    50:    Energy =   0.0346
Level     0,  Iter    51:    Energy =   0.0346
Level     0,  Iter    52:    Energy =   0.0346
Level     0,  Iter    53:    Energy =   0.0346
Level     0,  Iter    54:    Energy =   0.0346
Level     0,  Iter    55:    Energy =   0.0346
Level     0,  Iter    56:    Energy =   0.0346
Level     0,  Iter    57:    Energy =   0.0345
Level     0,  Iter    58:    Energy =   0.0345
Level     0,  Iter    59:    Energy =   0.0345
END OF LEVEL     0    DetJac Range:   0.0420  to   2.4064 
  Avg. Gradient Time  : 0.0072s  33.41% 
  Avg. Gaussian Time  : 0.0104s  47.97% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0211
Level     1,  Iter     1:    Energy =   0.0223
Level     1,  Iter     2:    Energy =   0.0233
Level     1,  Iter     3:    Energy =   0.0240
Level     1,  Iter     4:    Energy =   0.0247
Level     1,  Iter     5:    Energy =   0.0252
Level     1,  Iter     6:    Energy =   0.0257
Level     1,  Iter     7:    Energy =   0.0262
Level     1,  Iter     8:    Energy =   0.0265
Level     1,  Iter     9:    Energy =   0.0269
Level     1,  Iter    10:    Energy =   0.0271
Level     1,  Iter    11:    Energy =   0.0273
Level     1,  Iter    12:    Energy =   0.0275
Level     1,  Iter    13:    Energy =   0.0277
Level     1,  Iter    14:    Energy =   0.0278
Level     1,  Iter    15:    Energy =   0.0279
Level     1,  Iter    16:    Energy =   0.0280
Level     1,  Iter    17:    Energy =   0.0281
Level     1,  Iter    18:    Energy =   0.0281
Level     1,  Iter    19:    Energy =   0.0282
Level     1,  Iter    20:    Energy =   0.0283
Level     1,  Iter    21:    Energy =   0.0284
Level     1,  Iter    22:    Energy =   0.0285
Level     1,  Iter    23:    Energy =   0.0285
Level     1,  Iter    24:    Energy =   0.0286
Level     1,  Iter    25:    Energy =   0.0286
Level     1,  Iter    26:    Energy =   0.0287
Level     1,  Iter    27:    Energy =   0.0288
Level     1,  Iter    28:    Energy =   0.0288
Level     1,  Iter    29:    Energy =   0.0289
Level     1,  Iter    30:    Energy =   0.0290
Level     1,  Iter    31:    Energy =   0.0291
Level     1,  Iter    32:    Energy =   0.0292
Level     1,  Iter    33:    Energy =   0.0292
Level     1,  Iter    34:    Energy =   0.0293
Level     1,  Iter    35:    Energy =   0.0294
Level     1,  Iter    36:    Energy =   0.0295
Level     1,  Iter    37:    Energy =   0.0295
Level     1,  Iter    38:    Energy =   0.0296
Level     1,  Iter    39:    Energy =   0.0296
Level     1,  Iter    40:    Energy =   0.0297
Level     1,  Iter    41:    Energy =   0.0298
Level     1,  Iter    42:    Energy =   0.0298
Level     1,  Iter    43:    Energy =   0.0299
Level     1,  Iter    44:    Energy =   0.0299
Level     1,  Iter    45:    Energy =   0.0300
Level     1,  Iter    46:    Energy =   0.0300
Level     1,  Iter    47:    Energy =   0.0300
Level     1,  Iter    48:    Energy =   0.0301
Level     1,  Iter    49:    Energy =   0.0301
Level     1,  Iter    50:    Energy =   0.0302
Level     1,  Iter    51:    Energy =   0.0302
Level     1,  Iter    52:    Energy =   0.0302
Level     1,  Iter    53:    Energy =   0.0303
Level     1,  Iter    54:    Energy =   0.0303
Level     1,  Iter    55:    Energy =   0.0303
Level     1,  Iter    56:    Energy =   0.0303
Level     1,  Iter    57:    Energy =   0.0303
Level     1,  Iter    58:    Energy =   0.0304
Level     1,  Iter    59:    Energy =   0.0304
END OF LEVEL     1    DetJac Range:   0.0289  to   2.7838 
  Avg. Gradient Time  : 0.0290s  33.73% 
  Avg. Gaussian Time  : 0.0451s  52.38% 
  Avg. Iteration Time : 0.0860s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0118
Level     2,  Iter     1:    Energy =   0.0125
Level     2,  Iter     2:    Energy =   0.0131
Level     2,  Iter     3:    Energy =   0.0137
Level     2,  Iter     4:    Energy =   0.0141
Level     2,  Iter     5:    Energy =   0.0146
Level     2,  Iter     6:    Energy =   0.0151
Level     2,  Iter     7:    Energy =   0.0155
Level     2,  Iter     8:    Energy =   0.0159
Level     2,  Iter     9:    Energy =   0.0163
Level     2,  Iter    10:    Energy =   0.0165
Level     2,  Iter    11:    Energy =   0.0169
Level     2,  Iter    12:    Energy =   0.0170
Level     2,  Iter    13:    Energy =   0.0170
Level     2,  Iter    14:    Energy =   0.0172
Level     2,  Iter    15:    Energy =   0.0172
Level     2,  Iter    16:    Energy =   0.0174
Level     2,  Iter    17:    Energy =   0.0177
Level     2,  Iter    18:    Energy =   0.0179
Level     2,  Iter    19:    Energy =   0.0181
END OF LEVEL     2    DetJac Range:   0.0203  to   3.4071 
  Avg. Gradient Time  : 0.1833s  31.71% 
  Avg. Gaussian Time  : 0.3150s  54.51% 
  Avg. Iteration Time : 0.5780s 

real	0m20.776s
user	0m36.056s
sys	0m2.376s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.337143 0.341429
+ echo 'CHUNK 0.337143 0.341429 1'
CHUNK 0.337143 0.341429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.337143 0.341429 1
====================================
         PROGRESS: 0.337143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 033
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 033 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=033
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 033 left 0
+ local tid=033
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.535
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 175.74   GNORM= 297.38
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -67.338     211.671       0.003
   2    3      -268.064     121.252       1.000
   3    8      -426.493     162.860       1.098
   4    9      -523.092      92.702       1.000
   5   10      -574.776      42.496       1.000
   6   11      -584.777      30.346       1.000
   7   12      -595.876      87.109       1.000
   8   17      -600.490      87.394       0.042
   9   19      -603.322      66.576       0.180
  10   21      -614.808      95.162       5.000
  11   26      -649.944      78.724       1.882
  12   29      -653.468      55.892       0.120
  13   30      -656.204      69.168       1.000
  14   31      -663.610      45.776       1.000
  15   33      -665.467      42.131       0.463
  16   34      -669.577     302.431       1.000
  17   37      -689.009    1320.229       0.051
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.05946 -0.0840384 0.27884 -2.56894 
-0.0608901 1.09855 -0.099422 3.27996 
-0.0278831 -0.248996 0.893427 -5.78862 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -279.856   GNORM= 1229.34
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -297.094    3310.974       0.000
   2    4      -330.909     551.770       1.000
   3    6      -332.086     253.135       0.568
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.05211 -0.0746835 0.268216 -1.64048 
-0.0543396 1.09016 -0.089373 2.43909 
-0.0260692 -0.251162 0.896392 -6.03424 
0 0 0 1 

Final RAS Transform: 
1.05211 -0.0746835 0.268216 -1.64048 
-0.0543396 1.09016 -0.089373 2.43909 
-0.0260692 -0.251162 0.896392 -6.03424 
0 0 0 1 


real	0m3.969s
user	0m6.188s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.426493
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0139
Level     0,  Iter     1:    Energy =   0.0157
Level     0,  Iter     2:    Energy =   0.0177
Level     0,  Iter     3:    Energy =   0.0195
Level     0,  Iter     4:    Energy =   0.0212
Level     0,  Iter     5:    Energy =   0.0227
Level     0,  Iter     6:    Energy =   0.0235
Level     0,  Iter     7:    Energy =   0.0242
Level     0,  Iter     8:    Energy =   0.0248
Level     0,  Iter     9:    Energy =   0.0253
Level     0,  Iter    10:    Energy =   0.0257
Level     0,  Iter    11:    Energy =   0.0260
Level     0,  Iter    12:    Energy =   0.0263
Level     0,  Iter    13:    Energy =   0.0265
Level     0,  Iter    14:    Energy =   0.0266
Level     0,  Iter    15:    Energy =   0.0268
Level     0,  Iter    16:    Energy =   0.0270
Level     0,  Iter    17:    Energy =   0.0272
Level     0,  Iter    18:    Energy =   0.0274
Level     0,  Iter    19:    Energy =   0.0276
Level     0,  Iter    20:    Energy =   0.0279
Level     0,  Iter    21:    Energy =   0.0282
Level     0,  Iter    22:    Energy =   0.0286
Level     0,  Iter    23:    Energy =   0.0289
Level     0,  Iter    24:    Energy =   0.0291
Level     0,  Iter    25:    Energy =   0.0293
Level     0,  Iter    26:    Energy =   0.0295
Level     0,  Iter    27:    Energy =   0.0297
Level     0,  Iter    28:    Energy =   0.0299
Level     0,  Iter    29:    Energy =   0.0301
Level     0,  Iter    30:    Energy =   0.0303
Level     0,  Iter    31:    Energy =   0.0306
Level     0,  Iter    32:    Energy =   0.0309
Level     0,  Iter    33:    Energy =   0.0312
Level     0,  Iter    34:    Energy =   0.0315
Level     0,  Iter    35:    Energy =   0.0319
Level     0,  Iter    36:    Energy =   0.0322
Level     0,  Iter    37:    Energy =   0.0325
Level     0,  Iter    38:    Energy =   0.0328
Level     0,  Iter    39:    Energy =   0.0330
Level     0,  Iter    40:    Energy =   0.0332
Level     0,  Iter    41:    Energy =   0.0335
Level     0,  Iter    42:    Energy =   0.0337
Level     0,  Iter    43:    Energy =   0.0339
Level     0,  Iter    44:    Energy =   0.0342
Level     0,  Iter    45:    Energy =   0.0344
Level     0,  Iter    46:    Energy =   0.0345
Level     0,  Iter    47:    Energy =   0.0346
Level     0,  Iter    48:    Energy =   0.0347
Level     0,  Iter    49:    Energy =   0.0348
Level     0,  Iter    50:    Energy =   0.0349
Level     0,  Iter    51:    Energy =   0.0350
Level     0,  Iter    52:    Energy =   0.0351
Level     0,  Iter    53:    Energy =   0.0353
Level     0,  Iter    54:    Energy =   0.0354
Level     0,  Iter    55:    Energy =   0.0355
Level     0,  Iter    56:    Energy =   0.0356
Level     0,  Iter    57:    Energy =   0.0357
Level     0,  Iter    58:    Energy =   0.0357
Level     0,  Iter    59:    Energy =   0.0358
END OF LEVEL     0    DetJac Range:   0.0118  to   2.5027 
  Avg. Gradient Time  : 0.0072s  33.02% 
  Avg. Gaussian Time  : 0.0105s  48.40% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0221
Level     1,  Iter     1:    Energy =   0.0229
Level     1,  Iter     2:    Energy =   0.0237
Level     1,  Iter     3:    Energy =   0.0244
Level     1,  Iter     4:    Energy =   0.0251
Level     1,  Iter     5:    Energy =   0.0258
Level     1,  Iter     6:    Energy =   0.0263
Level     1,  Iter     7:    Energy =   0.0268
Level     1,  Iter     8:    Energy =   0.0272
Level     1,  Iter     9:    Energy =   0.0276
Level     1,  Iter    10:    Energy =   0.0280
Level     1,  Iter    11:    Energy =   0.0283
Level     1,  Iter    12:    Energy =   0.0286
Level     1,  Iter    13:    Energy =   0.0289
Level     1,  Iter    14:    Energy =   0.0293
Level     1,  Iter    15:    Energy =   0.0295
Level     1,  Iter    16:    Energy =   0.0298
Level     1,  Iter    17:    Energy =   0.0300
Level     1,  Iter    18:    Energy =   0.0302
Level     1,  Iter    19:    Energy =   0.0303
Level     1,  Iter    20:    Energy =   0.0305
Level     1,  Iter    21:    Energy =   0.0306
Level     1,  Iter    22:    Energy =   0.0307
Level     1,  Iter    23:    Energy =   0.0308
Level     1,  Iter    24:    Energy =   0.0308
Level     1,  Iter    25:    Energy =   0.0309
Level     1,  Iter    26:    Energy =   0.0310
Level     1,  Iter    27:    Energy =   0.0311
Level     1,  Iter    28:    Energy =   0.0312
Level     1,  Iter    29:    Energy =   0.0312
Level     1,  Iter    30:    Energy =   0.0313
Level     1,  Iter    31:    Energy =   0.0313
Level     1,  Iter    32:    Energy =   0.0314
Level     1,  Iter    33:    Energy =   0.0314
Level     1,  Iter    34:    Energy =   0.0315
Level     1,  Iter    35:    Energy =   0.0315
Level     1,  Iter    36:    Energy =   0.0315
Level     1,  Iter    37:    Energy =   0.0316
Level     1,  Iter    38:    Energy =   0.0316
Level     1,  Iter    39:    Energy =   0.0316
Level     1,  Iter    40:    Energy =   0.0317
Level     1,  Iter    41:    Energy =   0.0317
Level     1,  Iter    42:    Energy =   0.0318
Level     1,  Iter    43:    Energy =   0.0318
Level     1,  Iter    44:    Energy =   0.0319
Level     1,  Iter    45:    Energy =   0.0319
Level     1,  Iter    46:    Energy =   0.0319
Level     1,  Iter    47:    Energy =   0.0320
Level     1,  Iter    48:    Energy =   0.0320
Level     1,  Iter    49:    Energy =   0.0321
Level     1,  Iter    50:    Energy =   0.0321
Level     1,  Iter    51:    Energy =   0.0322
Level     1,  Iter    52:    Energy =   0.0322
Level     1,  Iter    53:    Energy =   0.0322
Level     1,  Iter    54:    Energy =   0.0322
Level     1,  Iter    55:    Energy =   0.0322
Level     1,  Iter    56:    Energy =   0.0323
Level     1,  Iter    57:    Energy =   0.0323
Level     1,  Iter    58:    Energy =   0.0323
Level     1,  Iter    59:    Energy =   0.0323
END OF LEVEL     1    DetJac Range:   0.0053  to   2.4195 
  Avg. Gradient Time  : 0.0288s  33.20% 
  Avg. Gaussian Time  : 0.0457s  52.61% 
  Avg. Iteration Time : 0.0869s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0136
Level     2,  Iter     1:    Energy =   0.0145
Level     2,  Iter     2:    Energy =   0.0152
Level     2,  Iter     3:    Energy =   0.0158
Level     2,  Iter     4:    Energy =   0.0162
Level     2,  Iter     5:    Energy =   0.0166
Level     2,  Iter     6:    Energy =   0.0169
Level     2,  Iter     7:    Energy =   0.0171
Level     2,  Iter     8:    Energy =   0.0174
Level     2,  Iter     9:    Energy =   0.0177
Level     2,  Iter    10:    Energy =   0.0179
Level     2,  Iter    11:    Energy =   0.0181
Level     2,  Iter    12:    Energy =   0.0182
Level     2,  Iter    13:    Energy =   0.0183
Level     2,  Iter    14:    Energy =   0.0183
Level     2,  Iter    15:    Energy =   0.0184
Level     2,  Iter    16:    Energy =   0.0184
Level     2,  Iter    17:    Energy =   0.0185
Level     2,  Iter    18:    Energy =   0.0185
Level     2,  Iter    19:    Energy =   0.0185
END OF LEVEL     2    DetJac Range:   0.0093  to   2.7155 
  Avg. Gradient Time  : 0.1784s  31.44% 
  Avg. Gaussian Time  : 0.3107s  54.76% 
  Avg. Iteration Time : 0.5674s 

real	0m20.648s
user	0m35.672s
sys	0m2.460s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.341429 0.345714
+ echo 'CHUNK 0.341429 0.345714 1'
CHUNK 0.341429 0.345714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.341429 0.345714 1
====================================
         PROGRESS: 0.341429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 034
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left 034 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=left
+ local tid=034
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 034 left 0
+ local tid=034
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.501
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 446.501   GNORM= 153.228
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -184.776      58.573       0.033
   2    4      -235.936     129.683       1.000
   3   11      -416.674      91.177       1.189
   4   21      -417.142      92.878       0.000
   5   22      -461.444     135.782       1.000
   6   24      -481.691     128.433       0.191
   7   25      -550.920      73.281       1.000
   8   27      -570.818      59.582       0.196
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.0784 -0.153601 0.151886 -4.16201 
-0.134666 1.16668 -0.161057 5.911 
0.0252747 -0.220522 1.09581 -4.57295 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -413.029   GNORM= 4.10098e+06
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.0784 -0.153601 0.151886 -4.16201 
-0.134666 1.16668 -0.161057 5.911 
0.0252747 -0.220522 1.09581 -4.57295 
0 0 0 1 

Final RAS Transform: 
1.0784 -0.153601 0.151886 -4.16201 
-0.134666 1.16668 -0.161057 5.911 
0.0252747 -0.220522 1.09581 -4.57295 
0 0 0 1 


real	0m3.381s
user	0m5.208s
sys	0m0.408s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.835, moving = 0.334856
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0120
Level     0,  Iter     1:    Energy =   0.0136
Level     0,  Iter     2:    Energy =   0.0154
Level     0,  Iter     3:    Energy =   0.0173
Level     0,  Iter     4:    Energy =   0.0187
Level     0,  Iter     5:    Energy =   0.0199
Level     0,  Iter     6:    Energy =   0.0208
Level     0,  Iter     7:    Energy =   0.0218
Level     0,  Iter     8:    Energy =   0.0227
Level     0,  Iter     9:    Energy =   0.0235
Level     0,  Iter    10:    Energy =   0.0241
Level     0,  Iter    11:    Energy =   0.0245
Level     0,  Iter    12:    Energy =   0.0248
Level     0,  Iter    13:    Energy =   0.0252
Level     0,  Iter    14:    Energy =   0.0256
Level     0,  Iter    15:    Energy =   0.0259
Level     0,  Iter    16:    Energy =   0.0263
Level     0,  Iter    17:    Energy =   0.0265
Level     0,  Iter    18:    Energy =   0.0267
Level     0,  Iter    19:    Energy =   0.0270
Level     0,  Iter    20:    Energy =   0.0272
Level     0,  Iter    21:    Energy =   0.0274
Level     0,  Iter    22:    Energy =   0.0276
Level     0,  Iter    23:    Energy =   0.0277
Level     0,  Iter    24:    Energy =   0.0279
Level     0,  Iter    25:    Energy =   0.0280
Level     0,  Iter    26:    Energy =   0.0281
Level     0,  Iter    27:    Energy =   0.0282
Level     0,  Iter    28:    Energy =   0.0282
Level     0,  Iter    29:    Energy =   0.0283
Level     0,  Iter    30:    Energy =   0.0283
Level     0,  Iter    31:    Energy =   0.0284
Level     0,  Iter    32:    Energy =   0.0285
Level     0,  Iter    33:    Energy =   0.0285
Level     0,  Iter    34:    Energy =   0.0285
Level     0,  Iter    35:    Energy =   0.0285
Level     0,  Iter    36:    Energy =   0.0285
Level     0,  Iter    37:    Energy =   0.0285
Level     0,  Iter    38:    Energy =   0.0286
Level     0,  Iter    39:    Energy =   0.0286
Level     0,  Iter    40:    Energy =   0.0286
Level     0,  Iter    41:    Energy =   0.0287
Level     0,  Iter    42:    Energy =   0.0288
Level     0,  Iter    43:    Energy =   0.0288
Level     0,  Iter    44:    Energy =   0.0288
Level     0,  Iter    45:    Energy =   0.0288
Level     0,  Iter    46:    Energy =   0.0288
Level     0,  Iter    47:    Energy =   0.0289
Level     0,  Iter    48:    Energy =   0.0288
Level     0,  Iter    49:    Energy =   0.0288
Level     0,  Iter    50:    Energy =   0.0288
Level     0,  Iter    51:    Energy =   0.0288
Level     0,  Iter    52:    Energy =   0.0288
Level     0,  Iter    53:    Energy =   0.0288
Level     0,  Iter    54:    Energy =   0.0288
Level     0,  Iter    55:    Energy =   0.0288
Level     0,  Iter    56:    Energy =   0.0288
Level     0,  Iter    57:    Energy =   0.0288
Level     0,  Iter    58:    Energy =   0.0288
Level     0,  Iter    59:    Energy =   0.0288
END OF LEVEL     0    DetJac Range:   0.0560  to   1.8386 
  Avg. Gradient Time  : 0.0068s  32.72% 
  Avg. Gaussian Time  : 0.0101s  48.52% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0139
Level     1,  Iter     1:    Energy =   0.0150
Level     1,  Iter     2:    Energy =   0.0159
Level     1,  Iter     3:    Energy =   0.0168
Level     1,  Iter     4:    Energy =   0.0175
Level     1,  Iter     5:    Energy =   0.0181
Level     1,  Iter     6:    Energy =   0.0187
Level     1,  Iter     7:    Energy =   0.0192
Level     1,  Iter     8:    Energy =   0.0196
Level     1,  Iter     9:    Energy =   0.0200
Level     1,  Iter    10:    Energy =   0.0203
Level     1,  Iter    11:    Energy =   0.0205
Level     1,  Iter    12:    Energy =   0.0208
Level     1,  Iter    13:    Energy =   0.0210
Level     1,  Iter    14:    Energy =   0.0212
Level     1,  Iter    15:    Energy =   0.0213
Level     1,  Iter    16:    Energy =   0.0215
Level     1,  Iter    17:    Energy =   0.0216
Level     1,  Iter    18:    Energy =   0.0217
Level     1,  Iter    19:    Energy =   0.0219
Level     1,  Iter    20:    Energy =   0.0220
Level     1,  Iter    21:    Energy =   0.0221
Level     1,  Iter    22:    Energy =   0.0221
Level     1,  Iter    23:    Energy =   0.0222
Level     1,  Iter    24:    Energy =   0.0223
Level     1,  Iter    25:    Energy =   0.0223
Level     1,  Iter    26:    Energy =   0.0224
Level     1,  Iter    27:    Energy =   0.0225
Level     1,  Iter    28:    Energy =   0.0226
Level     1,  Iter    29:    Energy =   0.0226
Level     1,  Iter    30:    Energy =   0.0227
Level     1,  Iter    31:    Energy =   0.0228
Level     1,  Iter    32:    Energy =   0.0228
Level     1,  Iter    33:    Energy =   0.0229
Level     1,  Iter    34:    Energy =   0.0229
Level     1,  Iter    35:    Energy =   0.0230
Level     1,  Iter    36:    Energy =   0.0230
Level     1,  Iter    37:    Energy =   0.0231
Level     1,  Iter    38:    Energy =   0.0231
Level     1,  Iter    39:    Energy =   0.0231
Level     1,  Iter    40:    Energy =   0.0232
Level     1,  Iter    41:    Energy =   0.0232
Level     1,  Iter    42:    Energy =   0.0232
Level     1,  Iter    43:    Energy =   0.0232
Level     1,  Iter    44:    Energy =   0.0233
Level     1,  Iter    45:    Energy =   0.0233
Level     1,  Iter    46:    Energy =   0.0233
Level     1,  Iter    47:    Energy =   0.0233
Level     1,  Iter    48:    Energy =   0.0234
Level     1,  Iter    49:    Energy =   0.0234
Level     1,  Iter    50:    Energy =   0.0234
Level     1,  Iter    51:    Energy =   0.0235
Level     1,  Iter    52:    Energy =   0.0235
Level     1,  Iter    53:    Energy =   0.0235
Level     1,  Iter    54:    Energy =   0.0235
Level     1,  Iter    55:    Energy =   0.0235
Level     1,  Iter    56:    Energy =   0.0236
Level     1,  Iter    57:    Energy =   0.0236
Level     1,  Iter    58:    Energy =   0.0236
Level     1,  Iter    59:    Energy =   0.0236
END OF LEVEL     1    DetJac Range:   0.0249  to   2.3241 
  Avg. Gradient Time  : 0.0289s  33.24% 
  Avg. Gaussian Time  : 0.0458s  52.79% 
  Avg. Iteration Time : 0.0868s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0096
Level     2,  Iter     1:    Energy =   0.0101
Level     2,  Iter     2:    Energy =   0.0106
Level     2,  Iter     3:    Energy =   0.0109
Level     2,  Iter     4:    Energy =   0.0112
Level     2,  Iter     5:    Energy =   0.0116
Level     2,  Iter     6:    Energy =   0.0118
Level     2,  Iter     7:    Energy =   0.0120
Level     2,  Iter     8:    Energy =   0.0123
Level     2,  Iter     9:    Energy =   0.0126
Level     2,  Iter    10:    Energy =   0.0129
Level     2,  Iter    11:    Energy =   0.0131
Level     2,  Iter    12:    Energy =   0.0133
Level     2,  Iter    13:    Energy =   0.0135
Level     2,  Iter    14:    Energy =   0.0137
Level     2,  Iter    15:    Energy =   0.0139
Level     2,  Iter    16:    Energy =   0.0140
Level     2,  Iter    17:    Energy =   0.0143
Level     2,  Iter    18:    Energy =   0.0143
Level     2,  Iter    19:    Energy =   0.0144
END OF LEVEL     2    DetJac Range:   0.0123  to   2.3940 
  Avg. Gradient Time  : 0.1845s  31.72% 
  Avg. Gaussian Time  : 0.3171s  54.51% 
  Avg. Iteration Time : 0.5817s 

real	0m20.820s
user	0m36.128s
sys	0m2.452s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.345714 0.35
+ echo 'CHUNK 0.345714 0.35 1'
CHUNK 0.345714 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.345714 0.35 1
====================================
         PROGRESS: 0.345714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.57
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 419.165   GNORM= 215.2
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       214.183     181.707       0.005
   2    3      -357.096     122.454       1.000
   3    6      -594.051      37.293       2.355
   4    7      -611.475      45.727       1.000
   5   10      -773.936      93.945       2.325
   6   12      -775.241      87.018       0.008
   7   13      -996.279      98.175       1.000
   8   15     -1000.661     168.701       0.087
   9   18     -1013.252      56.375       0.185
  10   21     -1031.674      39.626       0.740
  11   23     -1036.374      84.574       0.347
  12   24     -1069.132      35.074       1.000
  13   25     -1084.101      57.942       1.000
  14   26     -1097.219      43.851       1.000
  15   28     -1100.479      87.750       0.413
  16   31     -1100.662      86.018       0.015
  17   32     -1105.203      65.508       1.000
  18   34     -1133.883     141.543       5.000
  19   36     -1150.015      69.938       5.000
  20   37     -1167.158      45.292       1.000
  21   39     -1171.631      35.536       0.413
  22   41     -1171.876      37.289       0.018
  23   43     -1176.631      26.433       0.050
  24   44     -1177.208     506.305       1.000
  25   47     -1178.779     129.527       0.012
Final RAS Transform: 
0.626972 0.266776 -0.315071 0.316089 
0.370915 0.796357 0.104541 10.4627 
-0.238793 -0.324966 1.12281 -0.0928967 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -586.676   GNORM= 43148.9
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -591.794      19.960       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.62694 0.266659 -0.314897 0.30309 
0.370896 0.796316 0.104637 10.4576 
-0.238974 -0.325806 1.12396 -0.182324 
0 0 0 1 

Final RAS Transform: 
0.62694 0.266659 -0.314897 0.30309 
0.370896 0.796316 0.104637 10.4576 
-0.238974 -0.325806 1.12396 -0.182324 
0 0 0 1 


real	0m3.919s
user	0m6.012s
sys	0m0.576s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.423263
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0289
Level     0,  Iter     1:    Energy =   0.0316
Level     0,  Iter     2:    Energy =   0.0339
Level     0,  Iter     3:    Energy =   0.0359
Level     0,  Iter     4:    Energy =   0.0377
Level     0,  Iter     5:    Energy =   0.0389
Level     0,  Iter     6:    Energy =   0.0398
Level     0,  Iter     7:    Energy =   0.0402
Level     0,  Iter     8:    Energy =   0.0405
Level     0,  Iter     9:    Energy =   0.0407
Level     0,  Iter    10:    Energy =   0.0409
Level     0,  Iter    11:    Energy =   0.0411
Level     0,  Iter    12:    Energy =   0.0413
Level     0,  Iter    13:    Energy =   0.0415
Level     0,  Iter    14:    Energy =   0.0416
Level     0,  Iter    15:    Energy =   0.0418
Level     0,  Iter    16:    Energy =   0.0419
Level     0,  Iter    17:    Energy =   0.0420
Level     0,  Iter    18:    Energy =   0.0420
Level     0,  Iter    19:    Energy =   0.0421
Level     0,  Iter    20:    Energy =   0.0421
Level     0,  Iter    21:    Energy =   0.0421
Level     0,  Iter    22:    Energy =   0.0422
Level     0,  Iter    23:    Energy =   0.0422
Level     0,  Iter    24:    Energy =   0.0422
Level     0,  Iter    25:    Energy =   0.0422
Level     0,  Iter    26:    Energy =   0.0421
Level     0,  Iter    27:    Energy =   0.0422
Level     0,  Iter    28:    Energy =   0.0422
Level     0,  Iter    29:    Energy =   0.0423
Level     0,  Iter    30:    Energy =   0.0424
Level     0,  Iter    31:    Energy =   0.0425
Level     0,  Iter    32:    Energy =   0.0426
Level     0,  Iter    33:    Energy =   0.0426
Level     0,  Iter    34:    Energy =   0.0428
Level     0,  Iter    35:    Energy =   0.0429
Level     0,  Iter    36:    Energy =   0.0430
Level     0,  Iter    37:    Energy =   0.0431
Level     0,  Iter    38:    Energy =   0.0432
Level     0,  Iter    39:    Energy =   0.0433
Level     0,  Iter    40:    Energy =   0.0435
Level     0,  Iter    41:    Energy =   0.0436
Level     0,  Iter    42:    Energy =   0.0438
Level     0,  Iter    43:    Energy =   0.0438
Level     0,  Iter    44:    Energy =   0.0439
Level     0,  Iter    45:    Energy =   0.0439
Level     0,  Iter    46:    Energy =   0.0440
Level     0,  Iter    47:    Energy =   0.0440
Level     0,  Iter    48:    Energy =   0.0440
Level     0,  Iter    49:    Energy =   0.0440
Level     0,  Iter    50:    Energy =   0.0440
Level     0,  Iter    51:    Energy =   0.0441
Level     0,  Iter    52:    Energy =   0.0441
Level     0,  Iter    53:    Energy =   0.0442
Level     0,  Iter    54:    Energy =   0.0442
Level     0,  Iter    55:    Energy =   0.0443
Level     0,  Iter    56:    Energy =   0.0443
Level     0,  Iter    57:    Energy =   0.0444
Level     0,  Iter    58:    Energy =   0.0445
Level     0,  Iter    59:    Energy =   0.0445
END OF LEVEL     0    DetJac Range:   0.0885  to   2.2566 
  Avg. Gradient Time  : 0.0070s  33.66% 
  Avg. Gaussian Time  : 0.0101s  48.45% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0275
Level     1,  Iter     1:    Energy =   0.0292
Level     1,  Iter     2:    Energy =   0.0310
Level     1,  Iter     3:    Energy =   0.0325
Level     1,  Iter     4:    Energy =   0.0336
Level     1,  Iter     5:    Energy =   0.0345
Level     1,  Iter     6:    Energy =   0.0353
Level     1,  Iter     7:    Energy =   0.0359
Level     1,  Iter     8:    Energy =   0.0365
Level     1,  Iter     9:    Energy =   0.0369
Level     1,  Iter    10:    Energy =   0.0372
Level     1,  Iter    11:    Energy =   0.0375
Level     1,  Iter    12:    Energy =   0.0377
Level     1,  Iter    13:    Energy =   0.0379
Level     1,  Iter    14:    Energy =   0.0381
Level     1,  Iter    15:    Energy =   0.0383
Level     1,  Iter    16:    Energy =   0.0384
Level     1,  Iter    17:    Energy =   0.0386
Level     1,  Iter    18:    Energy =   0.0387
Level     1,  Iter    19:    Energy =   0.0388
Level     1,  Iter    20:    Energy =   0.0389
Level     1,  Iter    21:    Energy =   0.0390
Level     1,  Iter    22:    Energy =   0.0392
Level     1,  Iter    23:    Energy =   0.0393
Level     1,  Iter    24:    Energy =   0.0394
Level     1,  Iter    25:    Energy =   0.0395
Level     1,  Iter    26:    Energy =   0.0396
Level     1,  Iter    27:    Energy =   0.0397
Level     1,  Iter    28:    Energy =   0.0398
Level     1,  Iter    29:    Energy =   0.0398
Level     1,  Iter    30:    Energy =   0.0398
Level     1,  Iter    31:    Energy =   0.0399
Level     1,  Iter    32:    Energy =   0.0399
Level     1,  Iter    33:    Energy =   0.0399
Level     1,  Iter    34:    Energy =   0.0399
Level     1,  Iter    35:    Energy =   0.0399
Level     1,  Iter    36:    Energy =   0.0399
Level     1,  Iter    37:    Energy =   0.0400
Level     1,  Iter    38:    Energy =   0.0400
Level     1,  Iter    39:    Energy =   0.0400
Level     1,  Iter    40:    Energy =   0.0401
Level     1,  Iter    41:    Energy =   0.0401
Level     1,  Iter    42:    Energy =   0.0402
Level     1,  Iter    43:    Energy =   0.0402
Level     1,  Iter    44:    Energy =   0.0403
Level     1,  Iter    45:    Energy =   0.0404
Level     1,  Iter    46:    Energy =   0.0404
Level     1,  Iter    47:    Energy =   0.0405
Level     1,  Iter    48:    Energy =   0.0405
Level     1,  Iter    49:    Energy =   0.0406
Level     1,  Iter    50:    Energy =   0.0406
Level     1,  Iter    51:    Energy =   0.0407
Level     1,  Iter    52:    Energy =   0.0407
Level     1,  Iter    53:    Energy =   0.0408
Level     1,  Iter    54:    Energy =   0.0408
Level     1,  Iter    55:    Energy =   0.0408
Level     1,  Iter    56:    Energy =   0.0409
Level     1,  Iter    57:    Energy =   0.0409
Level     1,  Iter    58:    Energy =   0.0410
Level     1,  Iter    59:    Energy =   0.0410
END OF LEVEL     1    DetJac Range:   0.0475  to   2.4406 
  Avg. Gradient Time  : 0.0294s  34.56% 
  Avg. Gaussian Time  : 0.0438s  51.45% 
  Avg. Iteration Time : 0.0851s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0188
Level     2,  Iter     1:    Energy =   0.0199
Level     2,  Iter     2:    Energy =   0.0208
Level     2,  Iter     3:    Energy =   0.0214
Level     2,  Iter     4:    Energy =   0.0220
Level     2,  Iter     5:    Energy =   0.0226
Level     2,  Iter     6:    Energy =   0.0233
Level     2,  Iter     7:    Energy =   0.0239
Level     2,  Iter     8:    Energy =   0.0243
Level     2,  Iter     9:    Energy =   0.0247
Level     2,  Iter    10:    Energy =   0.0251
Level     2,  Iter    11:    Energy =   0.0255
Level     2,  Iter    12:    Energy =   0.0258
Level     2,  Iter    13:    Energy =   0.0261
Level     2,  Iter    14:    Energy =   0.0264
Level     2,  Iter    15:    Energy =   0.0266
Level     2,  Iter    16:    Energy =   0.0268
Level     2,  Iter    17:    Energy =   0.0270
Level     2,  Iter    18:    Energy =   0.0272
Level     2,  Iter    19:    Energy =   0.0274
END OF LEVEL     2    DetJac Range:   0.0329  to   3.7338 
  Avg. Gradient Time  : 0.1929s  33.34% 
  Avg. Gaussian Time  : 0.3088s  53.38% 
  Avg. Iteration Time : 0.5785s 

real	0m20.721s
user	0m36.096s
sys	0m2.180s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.354286
+ echo 'CHUNK 0.35 0.354286 1'
CHUNK 0.35 0.354286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.354286 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.603
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 455.729   GNORM= 304.717
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       173.311     231.378       0.003
   2    3      -183.035     178.859       1.000
   3    4      -378.716     131.055       1.000
   4    5      -544.711      82.735       1.000
   5    7      -587.955      41.070       0.284
   6   11      -588.708      83.668       0.010
   7   12      -636.898      80.913       1.000
   8   14      -646.990      45.263       0.050
   9   15      -664.961      56.612       1.000
  10   16      -704.278      57.773       1.000
  11   17      -721.851      79.339       1.000
  12   21      -756.921      83.712       1.008
  13   22      -797.075     400.138       1.000
  14   25      -797.759     454.485       0.006
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.93606 0.0609263 -0.241967 -1.8681 
0.355015 0.857669 -0.255536 6.65294 
-0.366377 0.0146737 1.20179 -1.35671 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -318.516   GNORM= 800.379
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -318.896      74.756       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.93606 0.0609255 -0.241967 -1.86805 
0.355015 0.857671 -0.255535 6.65304 
-0.366382 0.0146671 1.20181 -1.35764 
0 0 0 1 

Final RAS Transform: 
0.93606 0.0609255 -0.241967 -1.86805 
0.355015 0.857671 -0.255535 6.65304 
-0.366382 0.0146671 1.20181 -1.35764 
0 0 0 1 


real	0m3.742s
user	0m5.788s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.4824
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0184
Level     0,  Iter     1:    Energy =   0.0216
Level     0,  Iter     2:    Energy =   0.0244
Level     0,  Iter     3:    Energy =   0.0270
Level     0,  Iter     4:    Energy =   0.0290
Level     0,  Iter     5:    Energy =   0.0307
Level     0,  Iter     6:    Energy =   0.0319
Level     0,  Iter     7:    Energy =   0.0327
Level     0,  Iter     8:    Energy =   0.0332
Level     0,  Iter     9:    Energy =   0.0337
Level     0,  Iter    10:    Energy =   0.0341
Level     0,  Iter    11:    Energy =   0.0345
Level     0,  Iter    12:    Energy =   0.0351
Level     0,  Iter    13:    Energy =   0.0358
Level     0,  Iter    14:    Energy =   0.0365
Level     0,  Iter    15:    Energy =   0.0371
Level     0,  Iter    16:    Energy =   0.0376
Level     0,  Iter    17:    Energy =   0.0381
Level     0,  Iter    18:    Energy =   0.0387
Level     0,  Iter    19:    Energy =   0.0392
Level     0,  Iter    20:    Energy =   0.0396
Level     0,  Iter    21:    Energy =   0.0401
Level     0,  Iter    22:    Energy =   0.0404
Level     0,  Iter    23:    Energy =   0.0407
Level     0,  Iter    24:    Energy =   0.0409
Level     0,  Iter    25:    Energy =   0.0412
Level     0,  Iter    26:    Energy =   0.0414
Level     0,  Iter    27:    Energy =   0.0415
Level     0,  Iter    28:    Energy =   0.0417
Level     0,  Iter    29:    Energy =   0.0419
Level     0,  Iter    30:    Energy =   0.0420
Level     0,  Iter    31:    Energy =   0.0421
Level     0,  Iter    32:    Energy =   0.0423
Level     0,  Iter    33:    Energy =   0.0424
Level     0,  Iter    34:    Energy =   0.0426
Level     0,  Iter    35:    Energy =   0.0428
Level     0,  Iter    36:    Energy =   0.0430
Level     0,  Iter    37:    Energy =   0.0431
Level     0,  Iter    38:    Energy =   0.0432
Level     0,  Iter    39:    Energy =   0.0433
Level     0,  Iter    40:    Energy =   0.0435
Level     0,  Iter    41:    Energy =   0.0436
Level     0,  Iter    42:    Energy =   0.0436
Level     0,  Iter    43:    Energy =   0.0437
Level     0,  Iter    44:    Energy =   0.0438
Level     0,  Iter    45:    Energy =   0.0438
Level     0,  Iter    46:    Energy =   0.0439
Level     0,  Iter    47:    Energy =   0.0439
Level     0,  Iter    48:    Energy =   0.0439
Level     0,  Iter    49:    Energy =   0.0440
Level     0,  Iter    50:    Energy =   0.0440
Level     0,  Iter    51:    Energy =   0.0440
Level     0,  Iter    52:    Energy =   0.0440
Level     0,  Iter    53:    Energy =   0.0440
Level     0,  Iter    54:    Energy =   0.0440
Level     0,  Iter    55:    Energy =   0.0440
Level     0,  Iter    56:    Energy =   0.0439
Level     0,  Iter    57:    Energy =   0.0440
Level     0,  Iter    58:    Energy =   0.0440
Level     0,  Iter    59:    Energy =   0.0440
END OF LEVEL     0    DetJac Range:   0.0700  to   2.1401 
  Avg. Gradient Time  : 0.0069s  33.40% 
  Avg. Gaussian Time  : 0.0100s  48.44% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0241
Level     1,  Iter     1:    Energy =   0.0253
Level     1,  Iter     2:    Energy =   0.0266
Level     1,  Iter     3:    Energy =   0.0277
Level     1,  Iter     4:    Energy =   0.0286
Level     1,  Iter     5:    Energy =   0.0293
Level     1,  Iter     6:    Energy =   0.0299
Level     1,  Iter     7:    Energy =   0.0304
Level     1,  Iter     8:    Energy =   0.0308
Level     1,  Iter     9:    Energy =   0.0313
Level     1,  Iter    10:    Energy =   0.0317
Level     1,  Iter    11:    Energy =   0.0321
Level     1,  Iter    12:    Energy =   0.0324
Level     1,  Iter    13:    Energy =   0.0327
Level     1,  Iter    14:    Energy =   0.0329
Level     1,  Iter    15:    Energy =   0.0331
Level     1,  Iter    16:    Energy =   0.0332
Level     1,  Iter    17:    Energy =   0.0334
Level     1,  Iter    18:    Energy =   0.0335
Level     1,  Iter    19:    Energy =   0.0335
Level     1,  Iter    20:    Energy =   0.0336
Level     1,  Iter    21:    Energy =   0.0337
Level     1,  Iter    22:    Energy =   0.0337
Level     1,  Iter    23:    Energy =   0.0338
Level     1,  Iter    24:    Energy =   0.0338
Level     1,  Iter    25:    Energy =   0.0338
Level     1,  Iter    26:    Energy =   0.0338
Level     1,  Iter    27:    Energy =   0.0338
Level     1,  Iter    28:    Energy =   0.0338
Level     1,  Iter    29:    Energy =   0.0338
Level     1,  Iter    30:    Energy =   0.0338
Level     1,  Iter    31:    Energy =   0.0338
Level     1,  Iter    32:    Energy =   0.0338
Level     1,  Iter    33:    Energy =   0.0338
Level     1,  Iter    34:    Energy =   0.0338
Level     1,  Iter    35:    Energy =   0.0338
Level     1,  Iter    36:    Energy =   0.0338
Level     1,  Iter    37:    Energy =   0.0338
Level     1,  Iter    38:    Energy =   0.0338
Level     1,  Iter    39:    Energy =   0.0338
Level     1,  Iter    40:    Energy =   0.0338
Level     1,  Iter    41:    Energy =   0.0338
Level     1,  Iter    42:    Energy =   0.0338
Level     1,  Iter    43:    Energy =   0.0338
Level     1,  Iter    44:    Energy =   0.0339
Level     1,  Iter    45:    Energy =   0.0339
Level     1,  Iter    46:    Energy =   0.0339
Level     1,  Iter    47:    Energy =   0.0339
Level     1,  Iter    48:    Energy =   0.0339
Level     1,  Iter    49:    Energy =   0.0340
Level     1,  Iter    50:    Energy =   0.0340
Level     1,  Iter    51:    Energy =   0.0340
Level     1,  Iter    52:    Energy =   0.0340
Level     1,  Iter    53:    Energy =   0.0340
Level     1,  Iter    54:    Energy =   0.0341
Level     1,  Iter    55:    Energy =   0.0341
Level     1,  Iter    56:    Energy =   0.0341
Level     1,  Iter    57:    Energy =   0.0341
Level     1,  Iter    58:    Energy =   0.0341
Level     1,  Iter    59:    Energy =   0.0342
END OF LEVEL     1    DetJac Range:   0.0429  to   2.4752 
  Avg. Gradient Time  : 0.0297s  34.84% 
  Avg. Gaussian Time  : 0.0436s  51.20% 
  Avg. Iteration Time : 0.0852s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0137
Level     2,  Iter     1:    Energy =   0.0143
Level     2,  Iter     2:    Energy =   0.0149
Level     2,  Iter     3:    Energy =   0.0155
Level     2,  Iter     4:    Energy =   0.0160
Level     2,  Iter     5:    Energy =   0.0164
Level     2,  Iter     6:    Energy =   0.0166
Level     2,  Iter     7:    Energy =   0.0170
Level     2,  Iter     8:    Energy =   0.0173
Level     2,  Iter     9:    Energy =   0.0177
Level     2,  Iter    10:    Energy =   0.0181
Level     2,  Iter    11:    Energy =   0.0185
Level     2,  Iter    12:    Energy =   0.0187
Level     2,  Iter    13:    Energy =   0.0190
Level     2,  Iter    14:    Energy =   0.0193
Level     2,  Iter    15:    Energy =   0.0195
Level     2,  Iter    16:    Energy =   0.0197
Level     2,  Iter    17:    Energy =   0.0194
Level     2,  Iter    18:    Energy =   0.0197
big value: -1596.757510
big value: 1308.235105
Level     2,  Iter    19:    Energy =   0.0199
END OF LEVEL     2    DetJac Range:   0.0355  to   2.4608 
  Avg. Gradient Time  : 0.1871s  32.73% 
  Avg. Gaussian Time  : 0.3073s  53.77% 
  Avg. Iteration Time : 0.5715s 

real	0m20.521s
user	0m35.716s
sys	0m2.236s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
++ echo 1
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.354286 0.358571
+ echo 'CHUNK 0.354286 0.358571 1'
CHUNK 0.354286 0.358571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.354286 0.358571 1
====================================
         PROGRESS: 0.354286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 396.39   GNORM= 227.737
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       229.925     122.455       0.004
   2    3       110.044     147.792       1.000
   3    6        97.967      15.251      21.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.94848 -0.0451095 0.011887 -0.415777 
0.0559829 1.09864 -0.250666 5.20927 
-0.119056 -0.154885 1.01082 -6.86439 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -111.018   GNORM= 400.971
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -135.802    3534.197       0.002
   2    5      -153.694    1080.313       0.152
   3   11      -162.764      45.833       2.412
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.957594 -0.0547031 0.00347531 -0.906157 
0.06066 1.11448 -0.217926 5.69033 
-0.140174 -0.158228 1.02006 -7.93177 
0 0 0 1 

Final RAS Transform: 
0.957594 -0.0547031 0.00347531 -0.906157 
0.06066 1.11448 -0.217926 5.69033 
-0.140174 -0.158228 1.02006 -7.93177 
0 0 0 1 


real	0m3.905s
user	0m6.152s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.446168
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0083
Level     0,  Iter     1:    Energy =   0.0107
Level     0,  Iter     2:    Energy =   0.0131
Level     0,  Iter     3:    Energy =   0.0154
Level     0,  Iter     4:    Energy =   0.0173
Level     0,  Iter     5:    Energy =   0.0189
Level     0,  Iter     6:    Energy =   0.0202
Level     0,  Iter     7:    Energy =   0.0214
Level     0,  Iter     8:    Energy =   0.0223
Level     0,  Iter     9:    Energy =   0.0230
Level     0,  Iter    10:    Energy =   0.0235
Level     0,  Iter    11:    Energy =   0.0240
Level     0,  Iter    12:    Energy =   0.0245
Level     0,  Iter    13:    Energy =   0.0250
Level     0,  Iter    14:    Energy =   0.0254
Level     0,  Iter    15:    Energy =   0.0258
Level     0,  Iter    16:    Energy =   0.0261
Level     0,  Iter    17:    Energy =   0.0264
Level     0,  Iter    18:    Energy =   0.0267
Level     0,  Iter    19:    Energy =   0.0270
Level     0,  Iter    20:    Energy =   0.0272
Level     0,  Iter    21:    Energy =   0.0274
Level     0,  Iter    22:    Energy =   0.0276
Level     0,  Iter    23:    Energy =   0.0277
Level     0,  Iter    24:    Energy =   0.0278
Level     0,  Iter    25:    Energy =   0.0279
Level     0,  Iter    26:    Energy =   0.0280
Level     0,  Iter    27:    Energy =   0.0280
Level     0,  Iter    28:    Energy =   0.0281
Level     0,  Iter    29:    Energy =   0.0281
Level     0,  Iter    30:    Energy =   0.0281
Level     0,  Iter    31:    Energy =   0.0282
Level     0,  Iter    32:    Energy =   0.0282
Level     0,  Iter    33:    Energy =   0.0282
Level     0,  Iter    34:    Energy =   0.0282
Level     0,  Iter    35:    Energy =   0.0281
Level     0,  Iter    36:    Energy =   0.0281
Level     0,  Iter    37:    Energy =   0.0281
Level     0,  Iter    38:    Energy =   0.0281
Level     0,  Iter    39:    Energy =   0.0281
Level     0,  Iter    40:    Energy =   0.0282
Level     0,  Iter    41:    Energy =   0.0282
Level     0,  Iter    42:    Energy =   0.0282
Level     0,  Iter    43:    Energy =   0.0283
Level     0,  Iter    44:    Energy =   0.0283
Level     0,  Iter    45:    Energy =   0.0284
Level     0,  Iter    46:    Energy =   0.0284
Level     0,  Iter    47:    Energy =   0.0285
Level     0,  Iter    48:    Energy =   0.0285
Level     0,  Iter    49:    Energy =   0.0286
Level     0,  Iter    50:    Energy =   0.0287
Level     0,  Iter    51:    Energy =   0.0288
Level     0,  Iter    52:    Energy =   0.0289
Level     0,  Iter    53:    Energy =   0.0289
Level     0,  Iter    54:    Energy =   0.0289
Level     0,  Iter    55:    Energy =   0.0290
Level     0,  Iter    56:    Energy =   0.0290
Level     0,  Iter    57:    Energy =   0.0290
Level     0,  Iter    58:    Energy =   0.0290
Level     0,  Iter    59:    Energy =   0.0290
END OF LEVEL     0    DetJac Range:   0.0609  to   2.1930 
  Avg. Gradient Time  : 0.0069s  33.62% 
  Avg. Gaussian Time  : 0.0099s  48.15% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0185
Level     1,  Iter     1:    Energy =   0.0202
Level     1,  Iter     2:    Energy =   0.0215
Level     1,  Iter     3:    Energy =   0.0227
Level     1,  Iter     4:    Energy =   0.0238
Level     1,  Iter     5:    Energy =   0.0248
Level     1,  Iter     6:    Energy =   0.0257
Level     1,  Iter     7:    Energy =   0.0264
Level     1,  Iter     8:    Energy =   0.0272
Level     1,  Iter     9:    Energy =   0.0280
Level     1,  Iter    10:    Energy =   0.0286
Level     1,  Iter    11:    Energy =   0.0290
Level     1,  Iter    12:    Energy =   0.0294
Level     1,  Iter    13:    Energy =   0.0298
Level     1,  Iter    14:    Energy =   0.0302
Level     1,  Iter    15:    Energy =   0.0307
Level     1,  Iter    16:    Energy =   0.0311
Level     1,  Iter    17:    Energy =   0.0315
Level     1,  Iter    18:    Energy =   0.0318
Level     1,  Iter    19:    Energy =   0.0322
Level     1,  Iter    20:    Energy =   0.0324
Level     1,  Iter    21:    Energy =   0.0326
Level     1,  Iter    22:    Energy =   0.0328
Level     1,  Iter    23:    Energy =   0.0330
Level     1,  Iter    24:    Energy =   0.0332
Level     1,  Iter    25:    Energy =   0.0333
Level     1,  Iter    26:    Energy =   0.0334
Level     1,  Iter    27:    Energy =   0.0335
Level     1,  Iter    28:    Energy =   0.0337
Level     1,  Iter    29:    Energy =   0.0338
Level     1,  Iter    30:    Energy =   0.0339
Level     1,  Iter    31:    Energy =   0.0339
Level     1,  Iter    32:    Energy =   0.0340
Level     1,  Iter    33:    Energy =   0.0340
Level     1,  Iter    34:    Energy =   0.0340
Level     1,  Iter    35:    Energy =   0.0340
Level     1,  Iter    36:    Energy =   0.0340
Level     1,  Iter    37:    Energy =   0.0339
Level     1,  Iter    38:    Energy =   0.0339
Level     1,  Iter    39:    Energy =   0.0339
Level     1,  Iter    40:    Energy =   0.0338
Level     1,  Iter    41:    Energy =   0.0338
Level     1,  Iter    42:    Energy =   0.0337
Level     1,  Iter    43:    Energy =   0.0337
Level     1,  Iter    44:    Energy =   0.0336
Level     1,  Iter    45:    Energy =   0.0336
Level     1,  Iter    46:    Energy =   0.0335
Level     1,  Iter    47:    Energy =   0.0335
Level     1,  Iter    48:    Energy =   0.0335
Level     1,  Iter    49:    Energy =   0.0335
Level     1,  Iter    50:    Energy =   0.0335
Level     1,  Iter    51:    Energy =   0.0334
Level     1,  Iter    52:    Energy =   0.0334
Level     1,  Iter    53:    Energy =   0.0334
Level     1,  Iter    54:    Energy =   0.0334
Level     1,  Iter    55:    Energy =   0.0334
Level     1,  Iter    56:    Energy =   0.0333
Level     1,  Iter    57:    Energy =   0.0333
Level     1,  Iter    58:    Energy =   0.0333
Level     1,  Iter    59:    Energy =   0.0332
END OF LEVEL     1    DetJac Range:   0.0402  to   2.9232 
  Avg. Gradient Time  : 0.0292s  34.51% 
  Avg. Gaussian Time  : 0.0435s  51.43% 
  Avg. Iteration Time : 0.0846s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0160
Level     2,  Iter     1:    Energy =   0.0169
Level     2,  Iter     2:    Energy =   0.0178
Level     2,  Iter     3:    Energy =   0.0187
Level     2,  Iter     4:    Energy =   0.0193
Level     2,  Iter     5:    Energy =   0.0198
Level     2,  Iter     6:    Energy =   0.0203
Level     2,  Iter     7:    Energy =   0.0207
Level     2,  Iter     8:    Energy =   0.0210
Level     2,  Iter     9:    Energy =   0.0213
Level     2,  Iter    10:    Energy =   0.0215
Level     2,  Iter    11:    Energy =   0.0217
Level     2,  Iter    12:    Energy =   0.0218
Level     2,  Iter    13:    Energy =   0.0220
Level     2,  Iter    14:    Energy =   0.0221
Level     2,  Iter    15:    Energy =   0.0222
Level     2,  Iter    16:    Energy =   0.0223
Level     2,  Iter    17:    Energy =   0.0224
Level     2,  Iter    18:    Energy =   0.0225
Level     2,  Iter    19:    Energy =   0.0225
END OF LEVEL     2    DetJac Range:   0.0104  to   3.4353 
  Avg. Gradient Time  : 0.1949s  33.05% 
  Avg. Gaussian Time  : 0.3154s  53.51% 
  Avg. Iteration Time : 0.5895s 

real	0m20.908s
user	0m36.232s
sys	0m2.392s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.358571 0.362857
+ echo 'CHUNK 0.358571 0.362857 1'
CHUNK 0.358571 0.362857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.358571 0.362857 1
====================================
         PROGRESS: 0.358571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.673
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 502.512   GNORM= 322.447
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       237.285     208.597       0.003
   2    3      -142.862     131.168       1.000
   3    4      -371.454     168.569       1.000
   4    5      -493.950     155.083       1.000
   5    8      -598.062      92.867       0.144
   6    9      -646.501     107.338       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00313 0.0197641 -0.0331833 1.059 
0.0818017 1.11421 -0.212374 4.77517 
-0.108758 -0.152753 1.01857 -5.30745 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -288.244   GNORM= 187.995
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -319.239      30.273       0.005
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00373 0.0217793 -0.0373527 1.42096 
0.0793188 1.10833 -0.204009 4.23021 
-0.111095 -0.156936 1.02738 -5.8596 
0 0 0 1 

Final RAS Transform: 
1.00373 0.0217793 -0.0373527 1.42096 
0.0793188 1.10833 -0.204009 4.23021 
-0.111095 -0.156936 1.02738 -5.8596 
0 0 0 1 


real	0m3.484s
user	0m5.412s
sys	0m0.376s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.491107
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0169
Level     0,  Iter     1:    Energy =   0.0190
Level     0,  Iter     2:    Energy =   0.0212
Level     0,  Iter     3:    Energy =   0.0232
Level     0,  Iter     4:    Energy =   0.0249
Level     0,  Iter     5:    Energy =   0.0262
Level     0,  Iter     6:    Energy =   0.0272
Level     0,  Iter     7:    Energy =   0.0283
Level     0,  Iter     8:    Energy =   0.0296
Level     0,  Iter     9:    Energy =   0.0304
Level     0,  Iter    10:    Energy =   0.0313
Level     0,  Iter    11:    Energy =   0.0324
Level     0,  Iter    12:    Energy =   0.0336
Level     0,  Iter    13:    Energy =   0.0345
Level     0,  Iter    14:    Energy =   0.0353
Level     0,  Iter    15:    Energy =   0.0361
Level     0,  Iter    16:    Energy =   0.0367
Level     0,  Iter    17:    Energy =   0.0372
Level     0,  Iter    18:    Energy =   0.0377
Level     0,  Iter    19:    Energy =   0.0381
Level     0,  Iter    20:    Energy =   0.0388
Level     0,  Iter    21:    Energy =   0.0392
Level     0,  Iter    22:    Energy =   0.0395
Level     0,  Iter    23:    Energy =   0.0399
Level     0,  Iter    24:    Energy =   0.0404
Level     0,  Iter    25:    Energy =   0.0408
Level     0,  Iter    26:    Energy =   0.0411
Level     0,  Iter    27:    Energy =   0.0413
Level     0,  Iter    28:    Energy =   0.0416
Level     0,  Iter    29:    Energy =   0.0418
Level     0,  Iter    30:    Energy =   0.0420
Level     0,  Iter    31:    Energy =   0.0422
Level     0,  Iter    32:    Energy =   0.0423
Level     0,  Iter    33:    Energy =   0.0424
Level     0,  Iter    34:    Energy =   0.0427
Level     0,  Iter    35:    Energy =   0.0430
Level     0,  Iter    36:    Energy =   0.0433
Level     0,  Iter    37:    Energy =   0.0434
Level     0,  Iter    38:    Energy =   0.0436
Level     0,  Iter    39:    Energy =   0.0438
Level     0,  Iter    40:    Energy =   0.0440
Level     0,  Iter    41:    Energy =   0.0443
Level     0,  Iter    42:    Energy =   0.0444
Level     0,  Iter    43:    Energy =   0.0446
Level     0,  Iter    44:    Energy =   0.0447
Level     0,  Iter    45:    Energy =   0.0448
Level     0,  Iter    46:    Energy =   0.0450
Level     0,  Iter    47:    Energy =   0.0452
Level     0,  Iter    48:    Energy =   0.0453
Level     0,  Iter    49:    Energy =   0.0455
Level     0,  Iter    50:    Energy =   0.0457
Level     0,  Iter    51:    Energy =   0.0458
Level     0,  Iter    52:    Energy =   0.0458
Level     0,  Iter    53:    Energy =   0.0458
Level     0,  Iter    54:    Energy =   0.0458
Level     0,  Iter    55:    Energy =   0.0458
Level     0,  Iter    56:    Energy =   0.0458
Level     0,  Iter    57:    Energy =   0.0458
Level     0,  Iter    58:    Energy =   0.0458
Level     0,  Iter    59:    Energy =   0.0459
END OF LEVEL     0    DetJac Range:   0.0539  to   2.1334 
  Avg. Gradient Time  : 0.0073s  33.80% 
  Avg. Gaussian Time  : 0.0104s  48.28% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0287
Level     1,  Iter     1:    Energy =   0.0298
Level     1,  Iter     2:    Energy =   0.0307
Level     1,  Iter     3:    Energy =   0.0316
Level     1,  Iter     4:    Energy =   0.0323
Level     1,  Iter     5:    Energy =   0.0330
Level     1,  Iter     6:    Energy =   0.0336
Level     1,  Iter     7:    Energy =   0.0342
Level     1,  Iter     8:    Energy =   0.0347
Level     1,  Iter     9:    Energy =   0.0353
Level     1,  Iter    10:    Energy =   0.0359
Level     1,  Iter    11:    Energy =   0.0365
Level     1,  Iter    12:    Energy =   0.0372
Level     1,  Iter    13:    Energy =   0.0378
Level     1,  Iter    14:    Energy =   0.0385
Level     1,  Iter    15:    Energy =   0.0392
Level     1,  Iter    16:    Energy =   0.0400
Level     1,  Iter    17:    Energy =   0.0406
Level     1,  Iter    18:    Energy =   0.0412
Level     1,  Iter    19:    Energy =   0.0417
Level     1,  Iter    20:    Energy =   0.0422
Level     1,  Iter    21:    Energy =   0.0426
Level     1,  Iter    22:    Energy =   0.0430
Level     1,  Iter    23:    Energy =   0.0434
Level     1,  Iter    24:    Energy =   0.0436
Level     1,  Iter    25:    Energy =   0.0439
Level     1,  Iter    26:    Energy =   0.0442
Level     1,  Iter    27:    Energy =   0.0444
Level     1,  Iter    28:    Energy =   0.0446
Level     1,  Iter    29:    Energy =   0.0448
Level     1,  Iter    30:    Energy =   0.0450
Level     1,  Iter    31:    Energy =   0.0452
Level     1,  Iter    32:    Energy =   0.0453
Level     1,  Iter    33:    Energy =   0.0454
Level     1,  Iter    34:    Energy =   0.0456
Level     1,  Iter    35:    Energy =   0.0457
Level     1,  Iter    36:    Energy =   0.0459
Level     1,  Iter    37:    Energy =   0.0460
Level     1,  Iter    38:    Energy =   0.0461
Level     1,  Iter    39:    Energy =   0.0462
Level     1,  Iter    40:    Energy =   0.0462
Level     1,  Iter    41:    Energy =   0.0462
Level     1,  Iter    42:    Energy =   0.0462
Level     1,  Iter    43:    Energy =   0.0463
Level     1,  Iter    44:    Energy =   0.0463
Level     1,  Iter    45:    Energy =   0.0463
Level     1,  Iter    46:    Energy =   0.0463
Level     1,  Iter    47:    Energy =   0.0463
Level     1,  Iter    48:    Energy =   0.0463
Level     1,  Iter    49:    Energy =   0.0463
Level     1,  Iter    50:    Energy =   0.0463
Level     1,  Iter    51:    Energy =   0.0463
Level     1,  Iter    52:    Energy =   0.0463
Level     1,  Iter    53:    Energy =   0.0463
Level     1,  Iter    54:    Energy =   0.0463
Level     1,  Iter    55:    Energy =   0.0463
Level     1,  Iter    56:    Energy =   0.0463
Level     1,  Iter    57:    Energy =   0.0463
Level     1,  Iter    58:    Energy =   0.0463
Level     1,  Iter    59:    Energy =   0.0463
END OF LEVEL     1    DetJac Range:   0.0088  to   2.7232 
  Avg. Gradient Time  : 0.0303s  34.97% 
  Avg. Gaussian Time  : 0.0444s  51.25% 
  Avg. Iteration Time : 0.0867s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0224
Level     2,  Iter     1:    Energy =   0.0230
Level     2,  Iter     2:    Energy =   0.0235
Level     2,  Iter     3:    Energy =   0.0241
Level     2,  Iter     4:    Energy =   0.0248
Level     2,  Iter     5:    Energy =   0.0254
Level     2,  Iter     6:    Energy =   0.0258
Level     2,  Iter     7:    Energy =   0.0262
Level     2,  Iter     8:    Energy =   0.0264
Level     2,  Iter     9:    Energy =   0.0266
Level     2,  Iter    10:    Energy =   0.0269
Level     2,  Iter    11:    Energy =   0.0270
Level     2,  Iter    12:    Energy =   0.0273
Level     2,  Iter    13:    Energy =   0.0276
Level     2,  Iter    14:    Energy =   0.0280
Level     2,  Iter    15:    Energy =   0.0283
Level     2,  Iter    16:    Energy =   0.0286
Level     2,  Iter    17:    Energy =   0.0288
Level     2,  Iter    18:    Energy =   0.0290
Level     2,  Iter    19:    Energy =   0.0292
END OF LEVEL     2    DetJac Range:   0.0134  to   2.3234 
  Avg. Gradient Time  : 0.1937s  32.97% 
  Avg. Gaussian Time  : 0.3156s  53.71% 
  Avg. Iteration Time : 0.5876s 

real	0m21.120s
user	0m36.620s
sys	0m2.332s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.362857 0.367143
+ echo 'CHUNK 0.362857 0.367143 1'
CHUNK 0.362857 0.367143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.362857 0.367143 1
====================================
         PROGRESS: 0.362857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.532
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 730.945   GNORM= 328.021
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       414.453     248.697       0.003
   2    3       215.720     140.788       1.000
   3    4        45.066     159.196       1.000
   4    5      -354.829      45.221       1.000
   5    7      -369.307      43.119       0.064
   6    8      -407.503      57.756       1.000
   7   11      -443.579      51.595       0.310
   8   12      -466.977      55.846       1.000
   9   18      -496.745      57.183       1.048
  10   22      -513.192      47.167       1.533
  11   23      -520.469     253.706       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.911167 0.0101953 0.235737 -3.79849 
0.266627 1.16837 -0.323591 12.3323 
-0.217902 -0.262518 1.20202 -4.1562 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -228.342   GNORM= 198.106
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.908887 0.00442614 0.242973 -4.53557 
0.264115 1.1646 -0.320626 11.8956 
-0.219508 -0.26228 1.20226 -4.18136 
0 0 0 1 

Final RAS Transform: 
0.908887 0.00442614 0.242973 -4.53557 
0.264115 1.1646 -0.320626 11.8956 
-0.219508 -0.26228 1.20226 -4.18136 
0 0 0 1 


real	0m3.591s
user	0m5.532s
sys	0m0.432s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.325811
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0130
Level     0,  Iter     1:    Energy =   0.0148
Level     0,  Iter     2:    Energy =   0.0171
Level     0,  Iter     3:    Energy =   0.0191
Level     0,  Iter     4:    Energy =   0.0208
Level     0,  Iter     5:    Energy =   0.0221
Level     0,  Iter     6:    Energy =   0.0231
Level     0,  Iter     7:    Energy =   0.0238
Level     0,  Iter     8:    Energy =   0.0244
Level     0,  Iter     9:    Energy =   0.0250
Level     0,  Iter    10:    Energy =   0.0253
Level     0,  Iter    11:    Energy =   0.0255
Level     0,  Iter    12:    Energy =   0.0258
Level     0,  Iter    13:    Energy =   0.0260
Level     0,  Iter    14:    Energy =   0.0264
Level     0,  Iter    15:    Energy =   0.0269
Level     0,  Iter    16:    Energy =   0.0274
Level     0,  Iter    17:    Energy =   0.0279
Level     0,  Iter    18:    Energy =   0.0284
Level     0,  Iter    19:    Energy =   0.0287
Level     0,  Iter    20:    Energy =   0.0290
Level     0,  Iter    21:    Energy =   0.0293
Level     0,  Iter    22:    Energy =   0.0295
Level     0,  Iter    23:    Energy =   0.0298
Level     0,  Iter    24:    Energy =   0.0300
Level     0,  Iter    25:    Energy =   0.0302
Level     0,  Iter    26:    Energy =   0.0304
Level     0,  Iter    27:    Energy =   0.0307
Level     0,  Iter    28:    Energy =   0.0309
Level     0,  Iter    29:    Energy =   0.0310
Level     0,  Iter    30:    Energy =   0.0313
Level     0,  Iter    31:    Energy =   0.0315
Level     0,  Iter    32:    Energy =   0.0316
Level     0,  Iter    33:    Energy =   0.0318
Level     0,  Iter    34:    Energy =   0.0320
Level     0,  Iter    35:    Energy =   0.0321
Level     0,  Iter    36:    Energy =   0.0323
Level     0,  Iter    37:    Energy =   0.0324
Level     0,  Iter    38:    Energy =   0.0325
Level     0,  Iter    39:    Energy =   0.0325
Level     0,  Iter    40:    Energy =   0.0326
Level     0,  Iter    41:    Energy =   0.0326
Level     0,  Iter    42:    Energy =   0.0327
Level     0,  Iter    43:    Energy =   0.0328
Level     0,  Iter    44:    Energy =   0.0328
Level     0,  Iter    45:    Energy =   0.0329
Level     0,  Iter    46:    Energy =   0.0327
Level     0,  Iter    47:    Energy =   0.0328
Level     0,  Iter    48:    Energy =   0.0328
Level     0,  Iter    49:    Energy =   0.0328
Level     0,  Iter    50:    Energy =   0.0329
Level     0,  Iter    51:    Energy =   0.0329
Level     0,  Iter    52:    Energy =   0.0330
Level     0,  Iter    53:    Energy =   0.0331
Level     0,  Iter    54:    Energy =   0.0330
Level     0,  Iter    55:    Energy =   0.0332
Level     0,  Iter    56:    Energy =   0.0332
Level     0,  Iter    57:    Energy =   0.0332
Level     0,  Iter    58:    Energy =   0.0331
Level     0,  Iter    59:    Energy =   0.0332
END OF LEVEL     0    DetJac Range:   0.0336  to   1.8860 
  Avg. Gradient Time  : 0.0073s  33.46% 
  Avg. Gaussian Time  : 0.0105s  48.21% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0146
Level     1,  Iter     1:    Energy =   0.0156
Level     1,  Iter     2:    Energy =   0.0164
Level     1,  Iter     3:    Energy =   0.0170
Level     1,  Iter     4:    Energy =   0.0176
Level     1,  Iter     5:    Energy =   0.0181
Level     1,  Iter     6:    Energy =   0.0185
Level     1,  Iter     7:    Energy =   0.0188
Level     1,  Iter     8:    Energy =   0.0189
Level     1,  Iter     9:    Energy =   0.0191
Level     1,  Iter    10:    Energy =   0.0193
Level     1,  Iter    11:    Energy =   0.0196
Level     1,  Iter    12:    Energy =   0.0200
Level     1,  Iter    13:    Energy =   0.0204
Level     1,  Iter    14:    Energy =   0.0207
Level     1,  Iter    15:    Energy =   0.0210
Level     1,  Iter    16:    Energy =   0.0213
Level     1,  Iter    17:    Energy =   0.0215
Level     1,  Iter    18:    Energy =   0.0217
Level     1,  Iter    19:    Energy =   0.0220
Level     1,  Iter    20:    Energy =   0.0222
Level     1,  Iter    21:    Energy =   0.0224
Level     1,  Iter    22:    Energy =   0.0226
Level     1,  Iter    23:    Energy =   0.0228
Level     1,  Iter    24:    Energy =   0.0229
Level     1,  Iter    25:    Energy =   0.0230
Level     1,  Iter    26:    Energy =   0.0232
Level     1,  Iter    27:    Energy =   0.0233
Level     1,  Iter    28:    Energy =   0.0234
Level     1,  Iter    29:    Energy =   0.0234
Level     1,  Iter    30:    Energy =   0.0234
Level     1,  Iter    31:    Energy =   0.0235
Level     1,  Iter    32:    Energy =   0.0235
Level     1,  Iter    33:    Energy =   0.0236
Level     1,  Iter    34:    Energy =   0.0236
Level     1,  Iter    35:    Energy =   0.0237
Level     1,  Iter    36:    Energy =   0.0238
Level     1,  Iter    37:    Energy =   0.0239
Level     1,  Iter    38:    Energy =   0.0239
Level     1,  Iter    39:    Energy =   0.0240
Level     1,  Iter    40:    Energy =   0.0241
Level     1,  Iter    41:    Energy =   0.0241
Level     1,  Iter    42:    Energy =   0.0242
Level     1,  Iter    43:    Energy =   0.0243
Level     1,  Iter    44:    Energy =   0.0243
Level     1,  Iter    45:    Energy =   0.0243
Level     1,  Iter    46:    Energy =   0.0244
Level     1,  Iter    47:    Energy =   0.0243
Level     1,  Iter    48:    Energy =   0.0244
Level     1,  Iter    49:    Energy =   0.0244
Level     1,  Iter    50:    Energy =   0.0245
Level     1,  Iter    51:    Energy =   0.0244
Level     1,  Iter    52:    Energy =   0.0245
Level     1,  Iter    53:    Energy =   0.0245
Level     1,  Iter    54:    Energy =   0.0245
Level     1,  Iter    55:    Energy =   0.0245
Level     1,  Iter    56:    Energy =   0.0246
Level     1,  Iter    57:    Energy =   0.0245
Level     1,  Iter    58:    Energy =   0.0245
Level     1,  Iter    59:    Energy =   0.0245
END OF LEVEL     1    DetJac Range:   0.0223  to   2.2419 
  Avg. Gradient Time  : 0.0319s  34.71% 
  Avg. Gaussian Time  : 0.0472s  51.37% 
  Avg. Iteration Time : 0.0918s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0089
Level     2,  Iter     1:    Energy =   0.0089
Level     2,  Iter     2:    Energy =   0.0095
Level     2,  Iter     3:    Energy =   0.0100
Level     2,  Iter     4:    Energy =   0.0105
Level     2,  Iter     5:    Energy =   0.0108
Level     2,  Iter     6:    Energy =   0.0111
Level     2,  Iter     7:    Energy =   0.0113
Level     2,  Iter     8:    Energy =   0.0115
Level     2,  Iter     9:    Energy =   0.0117
Level     2,  Iter    10:    Energy =   0.0120
Level     2,  Iter    11:    Energy =   0.0122
Level     2,  Iter    12:    Energy =   0.0124
Level     2,  Iter    13:    Energy =   0.0125
Level     2,  Iter    14:    Energy =   0.0126
Level     2,  Iter    15:    Energy =   0.0128
Level     2,  Iter    16:    Energy =   0.0127
Level     2,  Iter    17:    Energy =   0.0129
Level     2,  Iter    18:    Energy =   0.0130
Level     2,  Iter    19:    Energy =   0.0132
END OF LEVEL     2    DetJac Range:   0.0118  to   2.6821 
  Avg. Gradient Time  : 0.1994s  33.35% 
  Avg. Gaussian Time  : 0.3191s  53.38% 
  Avg. Iteration Time : 0.5979s 

real	0m21.617s
user	0m37.472s
sys	0m2.444s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367143 0.371429
+ echo 'CHUNK 0.367143 0.371429 1'
CHUNK 0.367143 0.371429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367143 0.371429 1
====================================
         PROGRESS: 0.367143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.62
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 373.382   GNORM= 281.716
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       156.759     147.173       0.004
   2    3       -16.743      94.002       1.000
   3    5      -485.074      79.155       5.000
   4    6      -702.152      35.535       1.000
   5    8      -811.499      95.269       5.000
   6   10      -893.097      86.849       0.412
   7   12     -1050.268      74.865       5.000
   8   13     -1097.939      77.193       1.000
   9   14     -1122.201      63.713       1.000
  10   17     -1133.147     164.608       0.243
  11   19     -1134.458      35.600       0.267
  12   20     -1141.117      37.615       1.000
  13   21     -1176.576      68.737       1.000
  14   23     -1184.285      82.091       0.340
  15   25     -1185.787     369.992       0.132
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.520718 0.388187 -0.235778 1.51755 
0.291268 0.880068 0.0544633 11.1392 
-0.342718 -0.221771 0.95711 -2.62562 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -632.623   GNORM= 909.736
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -633.552    1606.847       0.001
   2    6      -633.803      82.527       0.000
   3   20      -633.829     131.030       0.316
   4   24      -637.351      54.320       3.839
   5   27      -643.116      38.695       0.567
   6   30      -646.041     760.157       0.716
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.522365 0.387468 -0.230945 1.41925 
0.290651 0.88033 0.0566308 11.0367 
-0.341162 -0.218564 0.9565 -2.37138 
0 0 0 1 

Final RAS Transform: 
0.522365 0.387468 -0.230945 1.41925 
0.290651 0.88033 0.0566308 11.0367 
-0.341162 -0.218564 0.9565 -2.37138 
0 0 0 1 


real	0m5.596s
user	0m9.284s
sys	0m0.568s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.437715
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0292
Level     0,  Iter     1:    Energy =   0.0318
Level     0,  Iter     2:    Energy =   0.0339
Level     0,  Iter     3:    Energy =   0.0357
Level     0,  Iter     4:    Energy =   0.0374
Level     0,  Iter     5:    Energy =   0.0386
Level     0,  Iter     6:    Energy =   0.0394
Level     0,  Iter     7:    Energy =   0.0400
Level     0,  Iter     8:    Energy =   0.0406
Level     0,  Iter     9:    Energy =   0.0412
Level     0,  Iter    10:    Energy =   0.0415
Level     0,  Iter    11:    Energy =   0.0417
Level     0,  Iter    12:    Energy =   0.0420
Level     0,  Iter    13:    Energy =   0.0422
Level     0,  Iter    14:    Energy =   0.0423
Level     0,  Iter    15:    Energy =   0.0425
Level     0,  Iter    16:    Energy =   0.0427
Level     0,  Iter    17:    Energy =   0.0429
Level     0,  Iter    18:    Energy =   0.0431
Level     0,  Iter    19:    Energy =   0.0433
Level     0,  Iter    20:    Energy =   0.0435
Level     0,  Iter    21:    Energy =   0.0437
Level     0,  Iter    22:    Energy =   0.0439
Level     0,  Iter    23:    Energy =   0.0442
Level     0,  Iter    24:    Energy =   0.0443
Level     0,  Iter    25:    Energy =   0.0446
Level     0,  Iter    26:    Energy =   0.0447
Level     0,  Iter    27:    Energy =   0.0450
Level     0,  Iter    28:    Energy =   0.0451
Level     0,  Iter    29:    Energy =   0.0453
Level     0,  Iter    30:    Energy =   0.0454
Level     0,  Iter    31:    Energy =   0.0456
Level     0,  Iter    32:    Energy =   0.0457
Level     0,  Iter    33:    Energy =   0.0458
Level     0,  Iter    34:    Energy =   0.0458
Level     0,  Iter    35:    Energy =   0.0461
Level     0,  Iter    36:    Energy =   0.0463
Level     0,  Iter    37:    Energy =   0.0464
Level     0,  Iter    38:    Energy =   0.0465
Level     0,  Iter    39:    Energy =   0.0466
Level     0,  Iter    40:    Energy =   0.0466
Level     0,  Iter    41:    Energy =   0.0467
Level     0,  Iter    42:    Energy =   0.0467
Level     0,  Iter    43:    Energy =   0.0469
Level     0,  Iter    44:    Energy =   0.0469
Level     0,  Iter    45:    Energy =   0.0470
Level     0,  Iter    46:    Energy =   0.0470
Level     0,  Iter    47:    Energy =   0.0470
Level     0,  Iter    48:    Energy =   0.0470
Level     0,  Iter    49:    Energy =   0.0471
Level     0,  Iter    50:    Energy =   0.0471
Level     0,  Iter    51:    Energy =   0.0472
Level     0,  Iter    52:    Energy =   0.0471
Level     0,  Iter    53:    Energy =   0.0472
Level     0,  Iter    54:    Energy =   0.0472
Level     0,  Iter    55:    Energy =   0.0473
Level     0,  Iter    56:    Energy =   0.0473
Level     0,  Iter    57:    Energy =   0.0474
Level     0,  Iter    58:    Energy =   0.0474
Level     0,  Iter    59:    Energy =   0.0475
END OF LEVEL     0    DetJac Range:   0.0958  to   2.2187 
  Avg. Gradient Time  : 0.0076s  33.75% 
  Avg. Gaussian Time  : 0.0108s  48.21% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0290
Level     1,  Iter     1:    Energy =   0.0308
Level     1,  Iter     2:    Energy =   0.0323
Level     1,  Iter     3:    Energy =   0.0337
Level     1,  Iter     4:    Energy =   0.0349
Level     1,  Iter     5:    Energy =   0.0358
Level     1,  Iter     6:    Energy =   0.0366
Level     1,  Iter     7:    Energy =   0.0374
Level     1,  Iter     8:    Energy =   0.0381
Level     1,  Iter     9:    Energy =   0.0387
Level     1,  Iter    10:    Energy =   0.0393
Level     1,  Iter    11:    Energy =   0.0400
Level     1,  Iter    12:    Energy =   0.0407
Level     1,  Iter    13:    Energy =   0.0413
Level     1,  Iter    14:    Energy =   0.0419
Level     1,  Iter    15:    Energy =   0.0424
Level     1,  Iter    16:    Energy =   0.0429
Level     1,  Iter    17:    Energy =   0.0434
Level     1,  Iter    18:    Energy =   0.0437
Level     1,  Iter    19:    Energy =   0.0440
Level     1,  Iter    20:    Energy =   0.0442
Level     1,  Iter    21:    Energy =   0.0444
Level     1,  Iter    22:    Energy =   0.0446
Level     1,  Iter    23:    Energy =   0.0447
Level     1,  Iter    24:    Energy =   0.0448
Level     1,  Iter    25:    Energy =   0.0449
Level     1,  Iter    26:    Energy =   0.0450
Level     1,  Iter    27:    Energy =   0.0451
Level     1,  Iter    28:    Energy =   0.0453
Level     1,  Iter    29:    Energy =   0.0454
Level     1,  Iter    30:    Energy =   0.0455
Level     1,  Iter    31:    Energy =   0.0456
Level     1,  Iter    32:    Energy =   0.0457
Level     1,  Iter    33:    Energy =   0.0457
Level     1,  Iter    34:    Energy =   0.0458
Level     1,  Iter    35:    Energy =   0.0459
Level     1,  Iter    36:    Energy =   0.0459
Level     1,  Iter    37:    Energy =   0.0460
Level     1,  Iter    38:    Energy =   0.0460
Level     1,  Iter    39:    Energy =   0.0460
Level     1,  Iter    40:    Energy =   0.0461
Level     1,  Iter    41:    Energy =   0.0461
Level     1,  Iter    42:    Energy =   0.0461
Level     1,  Iter    43:    Energy =   0.0461
Level     1,  Iter    44:    Energy =   0.0462
Level     1,  Iter    45:    Energy =   0.0462
Level     1,  Iter    46:    Energy =   0.0462
Level     1,  Iter    47:    Energy =   0.0462
Level     1,  Iter    48:    Energy =   0.0462
Level     1,  Iter    49:    Energy =   0.0462
Level     1,  Iter    50:    Energy =   0.0462
Level     1,  Iter    51:    Energy =   0.0462
Level     1,  Iter    52:    Energy =   0.0462
Level     1,  Iter    53:    Energy =   0.0462
Level     1,  Iter    54:    Energy =   0.0462
Level     1,  Iter    55:    Energy =   0.0462
Level     1,  Iter    56:    Energy =   0.0462
Level     1,  Iter    57:    Energy =   0.0462
Level     1,  Iter    58:    Energy =   0.0462
Level     1,  Iter    59:    Energy =   0.0462
END OF LEVEL     1    DetJac Range:   0.0154  to   2.8398 
  Avg. Gradient Time  : 0.0304s  34.60% 
  Avg. Gaussian Time  : 0.0451s  51.35% 
  Avg. Iteration Time : 0.0877s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0235
Level     2,  Iter     1:    Energy =   0.0244
Level     2,  Iter     2:    Energy =   0.0250
Level     2,  Iter     3:    Energy =   0.0256
Level     2,  Iter     4:    Energy =   0.0259
Level     2,  Iter     5:    Energy =   0.0263
Level     2,  Iter     6:    Energy =   0.0266
Level     2,  Iter     7:    Energy =   0.0269
Level     2,  Iter     8:    Energy =   0.0272
Level     2,  Iter     9:    Energy =   0.0275
Level     2,  Iter    10:    Energy =   0.0278
Level     2,  Iter    11:    Energy =   0.0281
Level     2,  Iter    12:    Energy =   0.0284
Level     2,  Iter    13:    Energy =   0.0287
Level     2,  Iter    14:    Energy =   0.0290
Level     2,  Iter    15:    Energy =   0.0293
Level     2,  Iter    16:    Energy =   0.0297
Level     2,  Iter    17:    Energy =   0.0301
Level     2,  Iter    18:    Energy =   0.0304
Level     2,  Iter    19:    Energy =   0.0307
END OF LEVEL     2    DetJac Range:   0.0094  to   3.2928 
  Avg. Gradient Time  : 0.2085s  33.38% 
  Avg. Gaussian Time  : 0.3329s  53.29% 
  Avg. Iteration Time : 0.6246s 

real	0m22.052s
user	0m38.096s
sys	0m2.636s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.371429 0.375714
+ echo 'CHUNK 0.371429 0.375714 1'
CHUNK 0.371429 0.375714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.371429 0.375714 1
====================================
         PROGRESS: 0.371429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.709
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 452.024   GNORM= 326.868
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       170.507     225.911       0.003
   2    3      -187.511      98.903       1.000
   3    5      -556.813     127.322       5.000
   4    6      -630.178     153.280       1.000
   5    8      -660.033     123.480       0.230
   6    9      -777.594      50.366       1.000
   7   10      -823.516      73.672       1.000
   8   11      -876.409     336.471       1.000
   9   12      -885.526     164.776       1.000
  10   13      -934.359     183.362       1.000
  11   15      -968.010      73.953       0.340
  12   16     -1012.749      63.472       1.000
  13   17     -1186.832      74.294       1.000
  14   19     -1218.877      45.746       0.350
  15   20     -1225.709     178.748       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.724533 0.179439 -0.116483 2.81333 
0.269352 0.879656 0.139076 12.3798 
-0.297609 -0.310013 0.895964 -3.36975 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -569.988   GNORM= 1844.77
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -570.251     101.004       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.726132 0.180919 -0.119011 3.01175 
0.269681 0.879939 0.138743 12.4181 
-0.298548 -0.311029 0.897261 -3.49873 
0 0 0 1 

Final RAS Transform: 
0.726132 0.180919 -0.119011 3.01175 
0.269681 0.879939 0.138743 12.4181 
-0.298548 -0.311029 0.897261 -3.49873 
0 0 0 1 


real	0m3.706s
user	0m5.608s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.479169
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0292
Level     0,  Iter     1:    Energy =   0.0312
Level     0,  Iter     2:    Energy =   0.0335
Level     0,  Iter     3:    Energy =   0.0355
Level     0,  Iter     4:    Energy =   0.0374
Level     0,  Iter     5:    Energy =   0.0393
Level     0,  Iter     6:    Energy =   0.0409
Level     0,  Iter     7:    Energy =   0.0425
Level     0,  Iter     8:    Energy =   0.0436
Level     0,  Iter     9:    Energy =   0.0448
Level     0,  Iter    10:    Energy =   0.0459
Level     0,  Iter    11:    Energy =   0.0465
Level     0,  Iter    12:    Energy =   0.0469
Level     0,  Iter    13:    Energy =   0.0471
Level     0,  Iter    14:    Energy =   0.0472
Level     0,  Iter    15:    Energy =   0.0474
Level     0,  Iter    16:    Energy =   0.0476
Level     0,  Iter    17:    Energy =   0.0478
Level     0,  Iter    18:    Energy =   0.0479
Level     0,  Iter    19:    Energy =   0.0481
Level     0,  Iter    20:    Energy =   0.0482
Level     0,  Iter    21:    Energy =   0.0483
Level     0,  Iter    22:    Energy =   0.0483
Level     0,  Iter    23:    Energy =   0.0483
Level     0,  Iter    24:    Energy =   0.0483
Level     0,  Iter    25:    Energy =   0.0483
Level     0,  Iter    26:    Energy =   0.0484
Level     0,  Iter    27:    Energy =   0.0484
Level     0,  Iter    28:    Energy =   0.0484
Level     0,  Iter    29:    Energy =   0.0485
Level     0,  Iter    30:    Energy =   0.0485
Level     0,  Iter    31:    Energy =   0.0486
Level     0,  Iter    32:    Energy =   0.0487
Level     0,  Iter    33:    Energy =   0.0488
Level     0,  Iter    34:    Energy =   0.0489
Level     0,  Iter    35:    Energy =   0.0490
Level     0,  Iter    36:    Energy =   0.0490
Level     0,  Iter    37:    Energy =   0.0491
Level     0,  Iter    38:    Energy =   0.0492
Level     0,  Iter    39:    Energy =   0.0493
Level     0,  Iter    40:    Energy =   0.0494
Level     0,  Iter    41:    Energy =   0.0495
Level     0,  Iter    42:    Energy =   0.0496
Level     0,  Iter    43:    Energy =   0.0497
Level     0,  Iter    44:    Energy =   0.0497
Level     0,  Iter    45:    Energy =   0.0498
Level     0,  Iter    46:    Energy =   0.0499
Level     0,  Iter    47:    Energy =   0.0500
Level     0,  Iter    48:    Energy =   0.0500
Level     0,  Iter    49:    Energy =   0.0501
Level     0,  Iter    50:    Energy =   0.0502
Level     0,  Iter    51:    Energy =   0.0502
Level     0,  Iter    52:    Energy =   0.0503
Level     0,  Iter    53:    Energy =   0.0503
Level     0,  Iter    54:    Energy =   0.0504
Level     0,  Iter    55:    Energy =   0.0504
Level     0,  Iter    56:    Energy =   0.0504
Level     0,  Iter    57:    Energy =   0.0505
Level     0,  Iter    58:    Energy =   0.0505
Level     0,  Iter    59:    Energy =   0.0505
END OF LEVEL     0    DetJac Range:   0.0718  to   2.4777 
  Avg. Gradient Time  : 0.0081s  33.90% 
  Avg. Gaussian Time  : 0.0115s  48.35% 
  Avg. Iteration Time : 0.0238s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0295
Level     1,  Iter     1:    Energy =   0.0314
Level     1,  Iter     2:    Energy =   0.0331
Level     1,  Iter     3:    Energy =   0.0346
Level     1,  Iter     4:    Energy =   0.0357
Level     1,  Iter     5:    Energy =   0.0366
Level     1,  Iter     6:    Energy =   0.0371
Level     1,  Iter     7:    Energy =   0.0375
Level     1,  Iter     8:    Energy =   0.0381
Level     1,  Iter     9:    Energy =   0.0388
Level     1,  Iter    10:    Energy =   0.0396
Level     1,  Iter    11:    Energy =   0.0402
Level     1,  Iter    12:    Energy =   0.0407
Level     1,  Iter    13:    Energy =   0.0412
Level     1,  Iter    14:    Energy =   0.0416
Level     1,  Iter    15:    Energy =   0.0420
Level     1,  Iter    16:    Energy =   0.0423
Level     1,  Iter    17:    Energy =   0.0426
Level     1,  Iter    18:    Energy =   0.0429
Level     1,  Iter    19:    Energy =   0.0431
Level     1,  Iter    20:    Energy =   0.0434
Level     1,  Iter    21:    Energy =   0.0436
Level     1,  Iter    22:    Energy =   0.0437
Level     1,  Iter    23:    Energy =   0.0439
Level     1,  Iter    24:    Energy =   0.0441
Level     1,  Iter    25:    Energy =   0.0441
Level     1,  Iter    26:    Energy =   0.0443
Level     1,  Iter    27:    Energy =   0.0444
Level     1,  Iter    28:    Energy =   0.0445
Level     1,  Iter    29:    Energy =   0.0446
Level     1,  Iter    30:    Energy =   0.0445
Level     1,  Iter    31:    Energy =   0.0446
Level     1,  Iter    32:    Energy =   0.0446
Level     1,  Iter    33:    Energy =   0.0447
Level     1,  Iter    34:    Energy =   0.0447
Level     1,  Iter    35:    Energy =   0.0448
Level     1,  Iter    36:    Energy =   0.0448
Level     1,  Iter    37:    Energy =   0.0449
Level     1,  Iter    38:    Energy =   0.0448
Level     1,  Iter    39:    Energy =   0.0450
Level     1,  Iter    40:    Energy =   0.0450
Level     1,  Iter    41:    Energy =   0.0452
Level     1,  Iter    42:    Energy =   0.0452
Level     1,  Iter    43:    Energy =   0.0453
Level     1,  Iter    44:    Energy =   0.0453
Level     1,  Iter    45:    Energy =   0.0453
Level     1,  Iter    46:    Energy =   0.0453
Level     1,  Iter    47:    Energy =   0.0453
Level     1,  Iter    48:    Energy =   0.0452
Level     1,  Iter    49:    Energy =   0.0452
Level     1,  Iter    50:    Energy =   0.0451
Level     1,  Iter    51:    Energy =   0.0451
Level     1,  Iter    52:    Energy =   0.0451
Level     1,  Iter    53:    Energy =   0.0451
Level     1,  Iter    54:    Energy =   0.0451
Level     1,  Iter    55:    Energy =   0.0451
Level     1,  Iter    56:    Energy =   0.0451
Level     1,  Iter    57:    Energy =   0.0451
Level     1,  Iter    58:    Energy =   0.0451
Level     1,  Iter    59:    Energy =   0.0452
END OF LEVEL     1    DetJac Range:   0.0451  to   2.8966 
  Avg. Gradient Time  : 0.0319s  35.07% 
  Avg. Gaussian Time  : 0.0463s  51.01% 
  Avg. Iteration Time : 0.0909s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0221
Level     2,  Iter     1:    Energy =   0.0231
Level     2,  Iter     2:    Energy =   0.0239
Level     2,  Iter     3:    Energy =   0.0246
Level     2,  Iter     4:    Energy =   0.0254
Level     2,  Iter     5:    Energy =   0.0261
Level     2,  Iter     6:    Energy =   0.0267
Level     2,  Iter     7:    Energy =   0.0272
Level     2,  Iter     8:    Energy =   0.0276
Level     2,  Iter     9:    Energy =   0.0280
Level     2,  Iter    10:    Energy =   0.0285
Level     2,  Iter    11:    Energy =   0.0290
Level     2,  Iter    12:    Energy =   0.0294
Level     2,  Iter    13:    Energy =   0.0298
Level     2,  Iter    14:    Energy =   0.0301
Level     2,  Iter    15:    Energy =   0.0304
Level     2,  Iter    16:    Energy =   0.0306
Level     2,  Iter    17:    Energy =   0.0309
Level     2,  Iter    18:    Energy =   0.0311
Level     2,  Iter    19:    Energy =   0.0313
END OF LEVEL     2    DetJac Range:   0.0151  to   3.5549 
  Avg. Gradient Time  : 0.2055s  33.02% 
  Avg. Gaussian Time  : 0.3351s  53.86% 
  Avg. Iteration Time : 0.6222s 

real	0m22.275s
user	0m38.512s
sys	0m2.608s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.375714 0.38
+ echo 'CHUNK 0.375714 0.38 1'
CHUNK 0.375714 0.38 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.375714 0.38 1
====================================
         PROGRESS: 0.375714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 380.111   GNORM= 236.151
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       191.061     137.705       0.004
   2    3       -29.159     128.006       1.000
   3    4      -522.963     109.576       1.000
   4    5      -686.049      58.648       1.000
   5    6      -749.241     129.825       1.000
   6    9      -766.870      59.190       0.035
   7   10      -791.680     105.303       1.000
   8   11      -914.846     486.654       1.000
   9   12      -998.924     170.427       1.000
  10   13     -1127.356     156.879       1.000
  11   16     -1180.884     517.366       0.065
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.673288 0.139615 -0.0688198 2.4203 
0.247241 0.965661 0.15386 11.7139 
-0.234137 -0.302048 0.893181 -1.54667 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -518.884   GNORM= 80.2739
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -656.082      67.662       0.028
   2    5      -690.196      47.324       1.000
   3    7      -698.377      39.940       0.477
   4    9      -702.266      25.233       0.568
   5   10      -705.134      32.575       1.000
   6   12      -705.378      44.825       0.405
   7   16      -710.439      40.163       4.974
   8   19      -715.430      60.544       0.718
   9   20      -720.699      37.285       1.000
  10   23      -723.853     277.611       1.017
  11   26      -725.058      34.122       0.028
  12   31      -725.172      31.340       0.165
  13   32      -726.637      18.312       1.000
  14   34      -755.194      71.197       5.000
  15   36      -755.274      22.451       0.000
  16   38      -762.032      45.458       0.117
  17   39      -763.902     199.944       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.672476 0.205286 -0.0884281 2.71669 
0.344445 0.912127 0.260001 10.722 
-0.188312 -0.391896 0.875524 -1.57831 
0 0 0 1 

Final RAS Transform: 
0.672476 0.205286 -0.0884281 2.71669 
0.344445 0.912127 0.260001 10.722 
-0.188312 -0.391896 0.875524 -1.57831 
0 0 0 1 


real	0m6.332s
user	0m10.540s
sys	0m0.708s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.372179
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0328
Level     0,  Iter     1:    Energy =   0.0362
Level     0,  Iter     2:    Energy =   0.0389
Level     0,  Iter     3:    Energy =   0.0417
Level     0,  Iter     4:    Energy =   0.0436
Level     0,  Iter     5:    Energy =   0.0450
Level     0,  Iter     6:    Energy =   0.0464
Level     0,  Iter     7:    Energy =   0.0473
Level     0,  Iter     8:    Energy =   0.0482
Level     0,  Iter     9:    Energy =   0.0489
Level     0,  Iter    10:    Energy =   0.0495
Level     0,  Iter    11:    Energy =   0.0500
Level     0,  Iter    12:    Energy =   0.0504
Level     0,  Iter    13:    Energy =   0.0506
Level     0,  Iter    14:    Energy =   0.0509
Level     0,  Iter    15:    Energy =   0.0512
Level     0,  Iter    16:    Energy =   0.0515
Level     0,  Iter    17:    Energy =   0.0518
Level     0,  Iter    18:    Energy =   0.0521
Level     0,  Iter    19:    Energy =   0.0524
Level     0,  Iter    20:    Energy =   0.0527
Level     0,  Iter    21:    Energy =   0.0528
Level     0,  Iter    22:    Energy =   0.0530
Level     0,  Iter    23:    Energy =   0.0532
Level     0,  Iter    24:    Energy =   0.0534
Level     0,  Iter    25:    Energy =   0.0535
Level     0,  Iter    26:    Energy =   0.0538
Level     0,  Iter    27:    Energy =   0.0539
Level     0,  Iter    28:    Energy =   0.0542
Level     0,  Iter    29:    Energy =   0.0542
Level     0,  Iter    30:    Energy =   0.0544
Level     0,  Iter    31:    Energy =   0.0543
Level     0,  Iter    32:    Energy =   0.0545
Level     0,  Iter    33:    Energy =   0.0545
Level     0,  Iter    34:    Energy =   0.0546
Level     0,  Iter    35:    Energy =   0.0545
Level     0,  Iter    36:    Energy =   0.0546
Level     0,  Iter    37:    Energy =   0.0546
Level     0,  Iter    38:    Energy =   0.0546
Level     0,  Iter    39:    Energy =   0.0546
Level     0,  Iter    40:    Energy =   0.0548
Level     0,  Iter    41:    Energy =   0.0547
Level     0,  Iter    42:    Energy =   0.0550
Level     0,  Iter    43:    Energy =   0.0549
Level     0,  Iter    44:    Energy =   0.0551
Level     0,  Iter    45:    Energy =   0.0551
Level     0,  Iter    46:    Energy =   0.0552
Level     0,  Iter    47:    Energy =   0.0552
Level     0,  Iter    48:    Energy =   0.0554
Level     0,  Iter    49:    Energy =   0.0553
Level     0,  Iter    50:    Energy =   0.0554
Level     0,  Iter    51:    Energy =   0.0553
Level     0,  Iter    52:    Energy =   0.0554
Level     0,  Iter    53:    Energy =   0.0554
Level     0,  Iter    54:    Energy =   0.0555
Level     0,  Iter    55:    Energy =   0.0554
Level     0,  Iter    56:    Energy =   0.0556
Level     0,  Iter    57:    Energy =   0.0555
Level     0,  Iter    58:    Energy =   0.0556
Level     0,  Iter    59:    Energy =   0.0556
END OF LEVEL     0    DetJac Range:   0.1062  to   2.4119 
  Avg. Gradient Time  : 0.0077s  33.76% 
  Avg. Gaussian Time  : 0.0109s  48.23% 
  Avg. Iteration Time : 0.0227s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0330
Level     1,  Iter     1:    Energy =   0.0350
Level     1,  Iter     2:    Energy =   0.0368
Level     1,  Iter     3:    Energy =   0.0385
Level     1,  Iter     4:    Energy =   0.0399
Level     1,  Iter     5:    Energy =   0.0412
Level     1,  Iter     6:    Energy =   0.0426
Level     1,  Iter     7:    Energy =   0.0437
Level     1,  Iter     8:    Energy =   0.0445
Level     1,  Iter     9:    Energy =   0.0452
Level     1,  Iter    10:    Energy =   0.0457
Level     1,  Iter    11:    Energy =   0.0462
Level     1,  Iter    12:    Energy =   0.0466
Level     1,  Iter    13:    Energy =   0.0471
Level     1,  Iter    14:    Energy =   0.0475
Level     1,  Iter    15:    Energy =   0.0478
Level     1,  Iter    16:    Energy =   0.0481
Level     1,  Iter    17:    Energy =   0.0484
Level     1,  Iter    18:    Energy =   0.0486
Level     1,  Iter    19:    Energy =   0.0488
Level     1,  Iter    20:    Energy =   0.0490
Level     1,  Iter    21:    Energy =   0.0492
Level     1,  Iter    22:    Energy =   0.0494
Level     1,  Iter    23:    Energy =   0.0495
Level     1,  Iter    24:    Energy =   0.0497
Level     1,  Iter    25:    Energy =   0.0498
Level     1,  Iter    26:    Energy =   0.0500
Level     1,  Iter    27:    Energy =   0.0502
Level     1,  Iter    28:    Energy =   0.0504
Level     1,  Iter    29:    Energy =   0.0505
Level     1,  Iter    30:    Energy =   0.0507
Level     1,  Iter    31:    Energy =   0.0508
Level     1,  Iter    32:    Energy =   0.0509
Level     1,  Iter    33:    Energy =   0.0510
Level     1,  Iter    34:    Energy =   0.0511
Level     1,  Iter    35:    Energy =   0.0512
Level     1,  Iter    36:    Energy =   0.0513
Level     1,  Iter    37:    Energy =   0.0513
Level     1,  Iter    38:    Energy =   0.0514
Level     1,  Iter    39:    Energy =   0.0515
Level     1,  Iter    40:    Energy =   0.0515
Level     1,  Iter    41:    Energy =   0.0516
Level     1,  Iter    42:    Energy =   0.0517
Level     1,  Iter    43:    Energy =   0.0517
Level     1,  Iter    44:    Energy =   0.0518
Level     1,  Iter    45:    Energy =   0.0519
Level     1,  Iter    46:    Energy =   0.0519
Level     1,  Iter    47:    Energy =   0.0520
Level     1,  Iter    48:    Energy =   0.0520
Level     1,  Iter    49:    Energy =   0.0521
Level     1,  Iter    50:    Energy =   0.0521
Level     1,  Iter    51:    Energy =   0.0522
Level     1,  Iter    52:    Energy =   0.0522
Level     1,  Iter    53:    Energy =   0.0522
Level     1,  Iter    54:    Energy =   0.0522
Level     1,  Iter    55:    Energy =   0.0523
Level     1,  Iter    56:    Energy =   0.0523
Level     1,  Iter    57:    Energy =   0.0523
Level     1,  Iter    58:    Energy =   0.0523
Level     1,  Iter    59:    Energy =   0.0524
END OF LEVEL     1    DetJac Range:   0.0349  to   3.5781 
  Avg. Gradient Time  : 0.0310s  34.56% 
  Avg. Gaussian Time  : 0.0461s  51.40% 
  Avg. Iteration Time : 0.0897s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0240
Level     2,  Iter     1:    Energy =   0.0253
Level     2,  Iter     2:    Energy =   0.0266
Level     2,  Iter     3:    Energy =   0.0278
Level     2,  Iter     4:    Energy =   0.0288
Level     2,  Iter     5:    Energy =   0.0296
Level     2,  Iter     6:    Energy =   0.0303
Level     2,  Iter     7:    Energy =   0.0309
Level     2,  Iter     8:    Energy =   0.0314
Level     2,  Iter     9:    Energy =   0.0319
Level     2,  Iter    10:    Energy =   0.0323
Level     2,  Iter    11:    Energy =   0.0327
Level     2,  Iter    12:    Energy =   0.0331
Level     2,  Iter    13:    Energy =   0.0334
Level     2,  Iter    14:    Energy =   0.0334
Level     2,  Iter    15:    Energy =   0.0337
Level     2,  Iter    16:    Energy =   0.0339
Level     2,  Iter    17:    Energy =   0.0341
Level     2,  Iter    18:    Energy =   0.0344
Level     2,  Iter    19:    Energy =   0.0345
END OF LEVEL     2    DetJac Range:   0.0440  to   4.3266 
  Avg. Gradient Time  : 0.2025s  32.95% 
  Avg. Gaussian Time  : 0.3305s  53.78% 
  Avg. Iteration Time : 0.6145s 

real	0m22.042s
user	0m37.968s
sys	0m2.716s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.38 0.384286
+ echo 'CHUNK 0.38 0.384286 1'
CHUNK 0.38 0.384286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.38 0.384286 1
====================================
         PROGRESS: 0.38               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.611
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 532.845   GNORM= 288.721
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       274.501     217.125       0.003
   2    3      -262.768     149.007       1.000
   3    4      -383.545     143.091       1.000
   4    5      -560.639     120.196       1.000
   5    8      -613.534      60.727       0.053
   6   11      -634.860      37.461       0.670
   7   12      -659.119      50.792       1.000
   8   16      -673.988      53.881       1.163
   9   18      -831.883     112.662       5.000
  10   21      -887.293     304.202       0.048
  11   23      -930.444     223.625       0.402
  12   24     -1044.860     144.667       1.000
  13   25     -1139.389      68.056       1.000
  14   26     -1143.698      50.613       1.000
  15   27     -1161.463      59.311       1.000
  16   29     -1172.368      52.776       0.089
  17   30     -1190.151      36.638       1.000
  18   33     -1261.556      24.132       0.758
  19   34     -1277.787      38.113       1.000
  20   35     -1290.450      95.927       1.000
  21   36     -1306.222      75.641       1.000
  22   37     -1324.378      39.561       1.000
  23   38     -1327.395      30.343       1.000
  24   39     -1329.977      15.267       1.000
  25   40     -1330.770      17.180       1.000
  26   41     -1332.369      15.248       1.000
  27   42     -1336.187      54.223       1.000
  28   43     -1341.979      31.373       1.000
  29   44     -1345.628      28.157       1.000
  30   46     -1346.373      45.688       0.305
  31   47     -1350.711      26.852       1.000
  32   48     -1353.826      48.691       1.000
  33   49     -1358.749      48.418       1.000
  34   50     -1363.263      93.308       1.000
  35   51     -1375.842      45.114       1.000
  36   52     -1379.910      39.695       1.000
  37   53     -1384.329      37.859       1.000
  38   54     -1388.902      36.563       1.000
  39   55     -1391.114      29.950       1.000
  40   56     -1392.793      51.114       1.000
  41   57     -1396.127      14.576       1.000
  42   58     -1396.335       9.516       1.000
  43   59     -1396.375      19.879       1.000
Final RAS Transform: 
0.330792 0.493421 -0.290306 4.62761 
0.512757 1.08622 0.372738 9.25949 
-0.315019 -0.196342 0.510546 -8.84236 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -766.706   GNORM= 223.748
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.330869 0.493515 -0.290432 4.63687 
0.512701 1.08618 0.372837 9.25451 
-0.315036 -0.196369 0.510588 -8.84655 
0 0 0 1 

Final RAS Transform: 
0.330869 0.493515 -0.290432 4.63687 
0.512701 1.08618 0.372837 9.25451 
-0.315036 -0.196369 0.510588 -8.84655 
0 0 0 1 


real	0m3.966s
user	0m6.040s
sys	0m0.596s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.483916
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0356
Level     0,  Iter     1:    Energy =   0.0385
Level     0,  Iter     2:    Energy =   0.0409
Level     0,  Iter     3:    Energy =   0.0429
Level     0,  Iter     4:    Energy =   0.0445
Level     0,  Iter     5:    Energy =   0.0458
Level     0,  Iter     6:    Energy =   0.0469
Level     0,  Iter     7:    Energy =   0.0476
Level     0,  Iter     8:    Energy =   0.0482
Level     0,  Iter     9:    Energy =   0.0488
Level     0,  Iter    10:    Energy =   0.0494
Level     0,  Iter    11:    Energy =   0.0500
Level     0,  Iter    12:    Energy =   0.0504
Level     0,  Iter    13:    Energy =   0.0507
Level     0,  Iter    14:    Energy =   0.0510
Level     0,  Iter    15:    Energy =   0.0513
Level     0,  Iter    16:    Energy =   0.0516
Level     0,  Iter    17:    Energy =   0.0518
Level     0,  Iter    18:    Energy =   0.0521
Level     0,  Iter    19:    Energy =   0.0523
Level     0,  Iter    20:    Energy =   0.0526
Level     0,  Iter    21:    Energy =   0.0528
Level     0,  Iter    22:    Energy =   0.0530
Level     0,  Iter    23:    Energy =   0.0532
Level     0,  Iter    24:    Energy =   0.0534
Level     0,  Iter    25:    Energy =   0.0536
Level     0,  Iter    26:    Energy =   0.0537
Level     0,  Iter    27:    Energy =   0.0538
Level     0,  Iter    28:    Energy =   0.0539
Level     0,  Iter    29:    Energy =   0.0540
Level     0,  Iter    30:    Energy =   0.0541
Level     0,  Iter    31:    Energy =   0.0542
Level     0,  Iter    32:    Energy =   0.0542
Level     0,  Iter    33:    Energy =   0.0543
Level     0,  Iter    34:    Energy =   0.0544
Level     0,  Iter    35:    Energy =   0.0544
Level     0,  Iter    36:    Energy =   0.0545
Level     0,  Iter    37:    Energy =   0.0546
Level     0,  Iter    38:    Energy =   0.0547
Level     0,  Iter    39:    Energy =   0.0547
Level     0,  Iter    40:    Energy =   0.0548
Level     0,  Iter    41:    Energy =   0.0548
Level     0,  Iter    42:    Energy =   0.0549
Level     0,  Iter    43:    Energy =   0.0549
Level     0,  Iter    44:    Energy =   0.0550
Level     0,  Iter    45:    Energy =   0.0551
Level     0,  Iter    46:    Energy =   0.0551
Level     0,  Iter    47:    Energy =   0.0552
Level     0,  Iter    48:    Energy =   0.0552
Level     0,  Iter    49:    Energy =   0.0552
Level     0,  Iter    50:    Energy =   0.0553
Level     0,  Iter    51:    Energy =   0.0553
Level     0,  Iter    52:    Energy =   0.0554
Level     0,  Iter    53:    Energy =   0.0554
Level     0,  Iter    54:    Energy =   0.0555
Level     0,  Iter    55:    Energy =   0.0555
Level     0,  Iter    56:    Energy =   0.0555
Level     0,  Iter    57:    Energy =   0.0555
Level     0,  Iter    58:    Energy =   0.0556
Level     0,  Iter    59:    Energy =   0.0556
END OF LEVEL     0    DetJac Range:   0.1181  to   2.2779 
  Avg. Gradient Time  : 0.0074s  33.60% 
  Avg. Gaussian Time  : 0.0107s  48.46% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0352
Level     1,  Iter     1:    Energy =   0.0371
Level     1,  Iter     2:    Energy =   0.0392
Level     1,  Iter     3:    Energy =   0.0415
Level     1,  Iter     4:    Energy =   0.0435
Level     1,  Iter     5:    Energy =   0.0451
Level     1,  Iter     6:    Energy =   0.0465
Level     1,  Iter     7:    Energy =   0.0477
Level     1,  Iter     8:    Energy =   0.0486
Level     1,  Iter     9:    Energy =   0.0495
Level     1,  Iter    10:    Energy =   0.0502
Level     1,  Iter    11:    Energy =   0.0510
Level     1,  Iter    12:    Energy =   0.0516
Level     1,  Iter    13:    Energy =   0.0523
Level     1,  Iter    14:    Energy =   0.0529
Level     1,  Iter    15:    Energy =   0.0535
Level     1,  Iter    16:    Energy =   0.0539
Level     1,  Iter    17:    Energy =   0.0542
Level     1,  Iter    18:    Energy =   0.0545
Level     1,  Iter    19:    Energy =   0.0548
Level     1,  Iter    20:    Energy =   0.0551
Level     1,  Iter    21:    Energy =   0.0554
Level     1,  Iter    22:    Energy =   0.0557
Level     1,  Iter    23:    Energy =   0.0559
Level     1,  Iter    24:    Energy =   0.0562
Level     1,  Iter    25:    Energy =   0.0564
Level     1,  Iter    26:    Energy =   0.0565
Level     1,  Iter    27:    Energy =   0.0567
Level     1,  Iter    28:    Energy =   0.0568
Level     1,  Iter    29:    Energy =   0.0570
Level     1,  Iter    30:    Energy =   0.0571
Level     1,  Iter    31:    Energy =   0.0573
Level     1,  Iter    32:    Energy =   0.0573
Level     1,  Iter    33:    Energy =   0.0574
Level     1,  Iter    34:    Energy =   0.0575
Level     1,  Iter    35:    Energy =   0.0575
Level     1,  Iter    36:    Energy =   0.0576
Level     1,  Iter    37:    Energy =   0.0576
Level     1,  Iter    38:    Energy =   0.0577
Level     1,  Iter    39:    Energy =   0.0577
Level     1,  Iter    40:    Energy =   0.0578
Level     1,  Iter    41:    Energy =   0.0578
Level     1,  Iter    42:    Energy =   0.0578
Level     1,  Iter    43:    Energy =   0.0578
Level     1,  Iter    44:    Energy =   0.0579
Level     1,  Iter    45:    Energy =   0.0579
Level     1,  Iter    46:    Energy =   0.0579
Level     1,  Iter    47:    Energy =   0.0580
Level     1,  Iter    48:    Energy =   0.0580
Level     1,  Iter    49:    Energy =   0.0580
Level     1,  Iter    50:    Energy =   0.0580
Level     1,  Iter    51:    Energy =   0.0581
Level     1,  Iter    52:    Energy =   0.0569
Level     1,  Iter    53:    Energy =   0.0560
Level     1,  Iter    54:    Energy =   0.0564
Level     1,  Iter    55:    Energy =   0.0569
Level     1,  Iter    56:    Energy =   0.0572
Level     1,  Iter    57:    Energy =   0.0575
Level     1,  Iter    58:    Energy =   0.0577
Level     1,  Iter    59:    Energy =   0.0580
END OF LEVEL     1    DetJac Range:   0.0715  to   2.6941 
  Avg. Gradient Time  : 0.0308s  34.56% 
  Avg. Gaussian Time  : 0.0459s  51.53% 
  Avg. Iteration Time : 0.0890s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
big value: 1004.113859
Level     2,  Iter     0:    Energy =   0.0278
big value: -3252.586096
big value: -5659.619378
big value: 8690.017021
Level     2,  Iter     1:    Energy =   0.0276
Level     2,  Iter     2:    Energy =   0.0274
Level     2,  Iter     3:    Energy =   0.0278
Level     2,  Iter     4:    Energy =   0.0280
Level     2,  Iter     5:    Energy =   0.0287
Level     2,  Iter     6:    Energy =   0.0289
Level     2,  Iter     7:    Energy =   0.0288
Level     2,  Iter     8:    Energy =   0.0286
Level     2,  Iter     9:    Energy =   0.0287
Level     2,  Iter    10:    Energy =   0.0285
big value: -1258.274050
big value: -29449.188236
big value: 9471.633630
big value: -10234.339941
Level     2,  Iter    11:    Energy =   0.0282
Level     2,  Iter    12:    Energy =   0.0278
big value: 1117.962841
big value: 2756.910910
Level     2,  Iter    13:    Energy =   0.0279
Level     2,  Iter    14:    Energy =   0.0275
Level     2,  Iter    15:    Energy =   0.0277
big value: -1697.350854
big value: 3859.717655
big value: 1314.766229
big value: 1201.944883
big value: 1731.078547
big value: -30534.266518
big value: 26502.804179
big value: -13112.333933
Level     2,  Iter    16:    Energy =   0.0288
Level     2,  Iter    17:    Energy =   0.0283
big value: 1571.845763
Level     2,  Iter    18:    Energy =   0.0280
big value: 473199.187971
big value: 1900211.928709
big value: -1055033.865813
big value: 1095.845573
big value: -10817.529811
Level     2,  Iter    19:    Energy =   0.0277
END OF LEVEL     2    DetJac Range:   0.0941  to   2.1557 
  Avg. Gradient Time  : 0.1919s  32.91% 
  Avg. Gaussian Time  : 0.3132s  53.70% 
  Avg. Iteration Time : 0.5832s 

real	0m21.252s
user	0m36.652s
sys	0m2.572s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384286 0.388571
+ echo 'CHUNK 0.384286 0.388571 1'
CHUNK 0.384286 0.388571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384286 0.388571 1
====================================
         PROGRESS: 0.384286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.578
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 433.957   GNORM= 319.451
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       158.960     210.886       0.003
   2    3      -184.076     221.020       1.000
   3    4      -411.864     118.494       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.973362 0.00429277 -0.0112923 0.0586299 
0.0345702 1.04505 -0.100025 2.83961 
-0.0930183 -0.124672 1.08982 -5.45431 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -114.611   GNORM= 2447.29
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   14      -114.867    1639.664       0.000
   2   18      -114.991    1855.903       0.012
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.973364 0.00432322 -0.0112979 0.0612713 
0.0345663 1.04503 -0.100016 2.83869 
-0.0930674 -0.124726 1.08991 -5.46102 
0 0 0 1 

Final RAS Transform: 
0.973364 0.00432322 -0.0112979 0.0612713 
0.0345663 1.04503 -0.100016 2.83869 
-0.0930674 -0.124726 1.08991 -5.46102 
0 0 0 1 


real	0m4.418s
user	0m7.132s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.474355
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0096
Level     0,  Iter     1:    Energy =   0.0121
Level     0,  Iter     2:    Energy =   0.0149
Level     0,  Iter     3:    Energy =   0.0182
Level     0,  Iter     4:    Energy =   0.0207
Level     0,  Iter     5:    Energy =   0.0227
Level     0,  Iter     6:    Energy =   0.0244
Level     0,  Iter     7:    Energy =   0.0258
Level     0,  Iter     8:    Energy =   0.0269
Level     0,  Iter     9:    Energy =   0.0279
Level     0,  Iter    10:    Energy =   0.0292
Level     0,  Iter    11:    Energy =   0.0302
Level     0,  Iter    12:    Energy =   0.0313
Level     0,  Iter    13:    Energy =   0.0321
Level     0,  Iter    14:    Energy =   0.0332
Level     0,  Iter    15:    Energy =   0.0341
Level     0,  Iter    16:    Energy =   0.0349
Level     0,  Iter    17:    Energy =   0.0357
Level     0,  Iter    18:    Energy =   0.0365
Level     0,  Iter    19:    Energy =   0.0370
Level     0,  Iter    20:    Energy =   0.0377
Level     0,  Iter    21:    Energy =   0.0384
Level     0,  Iter    22:    Energy =   0.0389
Level     0,  Iter    23:    Energy =   0.0394
Level     0,  Iter    24:    Energy =   0.0398
Level     0,  Iter    25:    Energy =   0.0401
Level     0,  Iter    26:    Energy =   0.0405
Level     0,  Iter    27:    Energy =   0.0411
Level     0,  Iter    28:    Energy =   0.0416
Level     0,  Iter    29:    Energy =   0.0421
Level     0,  Iter    30:    Energy =   0.0424
Level     0,  Iter    31:    Energy =   0.0428
Level     0,  Iter    32:    Energy =   0.0430
Level     0,  Iter    33:    Energy =   0.0431
Level     0,  Iter    34:    Energy =   0.0432
Level     0,  Iter    35:    Energy =   0.0433
Level     0,  Iter    36:    Energy =   0.0434
Level     0,  Iter    37:    Energy =   0.0434
Level     0,  Iter    38:    Energy =   0.0435
Level     0,  Iter    39:    Energy =   0.0435
Level     0,  Iter    40:    Energy =   0.0436
Level     0,  Iter    41:    Energy =   0.0436
Level     0,  Iter    42:    Energy =   0.0435
Level     0,  Iter    43:    Energy =   0.0436
Level     0,  Iter    44:    Energy =   0.0436
Level     0,  Iter    45:    Energy =   0.0436
Level     0,  Iter    46:    Energy =   0.0436
Level     0,  Iter    47:    Energy =   0.0436
Level     0,  Iter    48:    Energy =   0.0436
Level     0,  Iter    49:    Energy =   0.0437
Level     0,  Iter    50:    Energy =   0.0437
Level     0,  Iter    51:    Energy =   0.0437
Level     0,  Iter    52:    Energy =   0.0437
Level     0,  Iter    53:    Energy =   0.0437
Level     0,  Iter    54:    Energy =   0.0437
Level     0,  Iter    55:    Energy =   0.0437
Level     0,  Iter    56:    Energy =   0.0436
Level     0,  Iter    57:    Energy =   0.0436
Level     0,  Iter    58:    Energy =   0.0437
Level     0,  Iter    59:    Energy =   0.0437
END OF LEVEL     0    DetJac Range:   0.0532  to   2.6937 
  Avg. Gradient Time  : 0.0071s  33.81% 
  Avg. Gaussian Time  : 0.0102s  48.39% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0264
Level     1,  Iter     1:    Energy =   0.0278
Level     1,  Iter     2:    Energy =   0.0291
Level     1,  Iter     3:    Energy =   0.0306
Level     1,  Iter     4:    Energy =   0.0319
Level     1,  Iter     5:    Energy =   0.0330
Level     1,  Iter     6:    Energy =   0.0340
Level     1,  Iter     7:    Energy =   0.0350
Level     1,  Iter     8:    Energy =   0.0357
Level     1,  Iter     9:    Energy =   0.0363
Level     1,  Iter    10:    Energy =   0.0368
Level     1,  Iter    11:    Energy =   0.0372
Level     1,  Iter    12:    Energy =   0.0376
Level     1,  Iter    13:    Energy =   0.0379
Level     1,  Iter    14:    Energy =   0.0382
Level     1,  Iter    15:    Energy =   0.0385
Level     1,  Iter    16:    Energy =   0.0387
Level     1,  Iter    17:    Energy =   0.0389
Level     1,  Iter    18:    Energy =   0.0391
Level     1,  Iter    19:    Energy =   0.0392
Level     1,  Iter    20:    Energy =   0.0394
Level     1,  Iter    21:    Energy =   0.0395
Level     1,  Iter    22:    Energy =   0.0397
Level     1,  Iter    23:    Energy =   0.0398
Level     1,  Iter    24:    Energy =   0.0399
Level     1,  Iter    25:    Energy =   0.0400
Level     1,  Iter    26:    Energy =   0.0400
Level     1,  Iter    27:    Energy =   0.0401
Level     1,  Iter    28:    Energy =   0.0401
Level     1,  Iter    29:    Energy =   0.0401
Level     1,  Iter    30:    Energy =   0.0401
Level     1,  Iter    31:    Energy =   0.0402
Level     1,  Iter    32:    Energy =   0.0402
Level     1,  Iter    33:    Energy =   0.0403
Level     1,  Iter    34:    Energy =   0.0403
Level     1,  Iter    35:    Energy =   0.0404
Level     1,  Iter    36:    Energy =   0.0404
Level     1,  Iter    37:    Energy =   0.0405
Level     1,  Iter    38:    Energy =   0.0405
Level     1,  Iter    39:    Energy =   0.0406
Level     1,  Iter    40:    Energy =   0.0406
Level     1,  Iter    41:    Energy =   0.0407
Level     1,  Iter    42:    Energy =   0.0407
Level     1,  Iter    43:    Energy =   0.0408
Level     1,  Iter    44:    Energy =   0.0408
Level     1,  Iter    45:    Energy =   0.0408
Level     1,  Iter    46:    Energy =   0.0409
Level     1,  Iter    47:    Energy =   0.0409
Level     1,  Iter    48:    Energy =   0.0410
Level     1,  Iter    49:    Energy =   0.0410
Level     1,  Iter    50:    Energy =   0.0411
Level     1,  Iter    51:    Energy =   0.0411
Level     1,  Iter    52:    Energy =   0.0411
Level     1,  Iter    53:    Energy =   0.0412
Level     1,  Iter    54:    Energy =   0.0412
Level     1,  Iter    55:    Energy =   0.0413
Level     1,  Iter    56:    Energy =   0.0413
Level     1,  Iter    57:    Energy =   0.0414
Level     1,  Iter    58:    Energy =   0.0414
Level     1,  Iter    59:    Energy =   0.0414
END OF LEVEL     1    DetJac Range:   0.0348  to   2.4719 
  Avg. Gradient Time  : 0.0293s  34.63% 
  Avg. Gaussian Time  : 0.0436s  51.58% 
  Avg. Iteration Time : 0.0845s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0194
Level     2,  Iter     1:    Energy =   0.0203
Level     2,  Iter     2:    Energy =   0.0213
Level     2,  Iter     3:    Energy =   0.0222
Level     2,  Iter     4:    Energy =   0.0229
Level     2,  Iter     5:    Energy =   0.0236
Level     2,  Iter     6:    Energy =   0.0242
Level     2,  Iter     7:    Energy =   0.0248
Level     2,  Iter     8:    Energy =   0.0252
Level     2,  Iter     9:    Energy =   0.0256
Level     2,  Iter    10:    Energy =   0.0259
Level     2,  Iter    11:    Energy =   0.0261
Level     2,  Iter    12:    Energy =   0.0263
Level     2,  Iter    13:    Energy =   0.0265
Level     2,  Iter    14:    Energy =   0.0267
Level     2,  Iter    15:    Energy =   0.0269
Level     2,  Iter    16:    Energy =   0.0270
Level     2,  Iter    17:    Energy =   0.0272
Level     2,  Iter    18:    Energy =   0.0275
Level     2,  Iter    19:    Energy =   0.0277
END OF LEVEL     2    DetJac Range:   0.0228  to   3.2606 
  Avg. Gradient Time  : 0.1933s  33.40% 
  Avg. Gaussian Time  : 0.3085s  53.31% 
  Avg. Iteration Time : 0.5788s 

real	0m20.779s
user	0m36.124s
sys	0m2.216s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.388571 0.392857
+ echo 'CHUNK 0.388571 0.392857 1'
CHUNK 0.388571 0.392857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.388571 0.392857 1
====================================
         PROGRESS: 0.388571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.608
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 321.966   GNORM= 329.227
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        65.924     181.402       0.003
   2    3      -135.754     141.756       1.000
   3    5      -553.383      36.005       5.000
   4    6      -590.245      72.176       1.000
   5    8      -631.526     134.008       0.198
   6   10      -726.068     118.066       5.000
   7   11      -805.946      85.582       1.000
   8   12      -838.766     102.145       1.000
   9   17      -978.845      47.722       2.562
  10   18      -989.654      52.333       1.000
  11   19      -990.716      87.519       1.000
  12   20     -1020.777      51.069       1.000
  13   22     -1043.051      76.942       0.400
  14   23     -1069.009     114.751       1.000
  15   25     -1084.098     124.905       0.378
  16   26     -1163.693     107.152       1.000
  17   28     -1217.973     103.025       0.448
  18   30     -1246.482      94.825       0.157
  19   31     -1259.109      47.283       1.000
  20   32     -1273.471      96.821       1.000
  21   34     -1281.841      73.372       0.461
  22   35     -1297.678      41.271       1.000
  23   36     -1303.571      68.752       1.000
  24   37     -1318.196      59.980       1.000
  25   38     -1329.598      63.533       1.000
  26   39     -1340.882      51.298       1.000
  27   40     -1346.600      89.674       1.000
  28   41     -1353.724      70.048       1.000
  29   42     -1366.846      51.777       1.000
  30   44     -1370.798      37.960       0.212
  31   45     -1374.608      32.166       1.000
  32   46     -1377.404      37.270       1.000
  33   47     -1384.477      44.342       1.000
  34   48     -1388.098      17.760       1.000
  35   49     -1389.029      25.715       1.000
  36   50     -1390.938      27.460       1.000
  37   51     -1392.172      16.599       1.000
  38   54     -1393.618      19.943       1.781
  39   56     -1394.368      11.992       0.302
  40   57     -1395.450      23.068       1.000
  41   58     -1395.727      18.425       1.000
  42   59     -1395.792       7.667       1.000
  43   60     -1395.849      12.563       1.000
  44   61     -1395.875      14.675       1.000
Final RAS Transform: 
0.706942 0.487282 0.310588 -1.66382 
0.509886 1.03089 0.310639 9.02241 
-0.253996 -0.19435 0.604974 -8.50064 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -669.072   GNORM= 76.1312
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -677.201     125.064       0.013
   2    3      -708.336      85.258       1.000
   3    5      -710.258      46.273       0.131
   4    6      -719.050      34.518       1.000
   5    7      -723.481      24.041       1.000
   6    9      -726.236      32.628       0.384
   7   10      -729.494      20.922       1.000
   8   11      -744.243      31.217       1.000
   9   15      -763.044      91.024       0.660
  10   17      -764.980      68.574       0.148
  11   19      -772.371      29.122       0.511
  12   23      -776.608      91.529       1.911
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.643055 0.514559 0.320917 -2.0248 
0.517229 1.02448 0.349686 10.7326 
-0.298874 -0.16616 0.598877 -8.76374 
0 0 0 1 

Final RAS Transform: 
0.643055 0.514559 0.320917 -2.0248 
0.517229 1.02448 0.349686 10.7326 
-0.298874 -0.16616 0.598877 -8.76374 
0 0 0 1 


real	0m5.072s
user	0m7.964s
sys	0m0.740s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.384242
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0348
Level     0,  Iter     1:    Energy =   0.0387
Level     0,  Iter     2:    Energy =   0.0418
Level     0,  Iter     3:    Energy =   0.0441
Level     0,  Iter     4:    Energy =   0.0458
Level     0,  Iter     5:    Energy =   0.0471
Level     0,  Iter     6:    Energy =   0.0483
Level     0,  Iter     7:    Energy =   0.0494
Level     0,  Iter     8:    Energy =   0.0503
Level     0,  Iter     9:    Energy =   0.0511
Level     0,  Iter    10:    Energy =   0.0517
Level     0,  Iter    11:    Energy =   0.0522
Level     0,  Iter    12:    Energy =   0.0528
Level     0,  Iter    13:    Energy =   0.0531
Level     0,  Iter    14:    Energy =   0.0533
Level     0,  Iter    15:    Energy =   0.0537
Level     0,  Iter    16:    Energy =   0.0540
Level     0,  Iter    17:    Energy =   0.0543
Level     0,  Iter    18:    Energy =   0.0545
Level     0,  Iter    19:    Energy =   0.0547
Level     0,  Iter    20:    Energy =   0.0548
Level     0,  Iter    21:    Energy =   0.0550
Level     0,  Iter    22:    Energy =   0.0550
Level     0,  Iter    23:    Energy =   0.0550
Level     0,  Iter    24:    Energy =   0.0550
Level     0,  Iter    25:    Energy =   0.0550
Level     0,  Iter    26:    Energy =   0.0549
Level     0,  Iter    27:    Energy =   0.0549
Level     0,  Iter    28:    Energy =   0.0548
Level     0,  Iter    29:    Energy =   0.0548
Level     0,  Iter    30:    Energy =   0.0547
Level     0,  Iter    31:    Energy =   0.0547
Level     0,  Iter    32:    Energy =   0.0547
Level     0,  Iter    33:    Energy =   0.0547
Level     0,  Iter    34:    Energy =   0.0547
Level     0,  Iter    35:    Energy =   0.0547
Level     0,  Iter    36:    Energy =   0.0547
Level     0,  Iter    37:    Energy =   0.0547
Level     0,  Iter    38:    Energy =   0.0547
Level     0,  Iter    39:    Energy =   0.0547
Level     0,  Iter    40:    Energy =   0.0547
Level     0,  Iter    41:    Energy =   0.0547
Level     0,  Iter    42:    Energy =   0.0547
Level     0,  Iter    43:    Energy =   0.0547
Level     0,  Iter    44:    Energy =   0.0546
Level     0,  Iter    45:    Energy =   0.0547
Level     0,  Iter    46:    Energy =   0.0546
Level     0,  Iter    47:    Energy =   0.0547
Level     0,  Iter    48:    Energy =   0.0546
Level     0,  Iter    49:    Energy =   0.0547
Level     0,  Iter    50:    Energy =   0.0547
Level     0,  Iter    51:    Energy =   0.0547
Level     0,  Iter    52:    Energy =   0.0546
Level     0,  Iter    53:    Energy =   0.0547
Level     0,  Iter    54:    Energy =   0.0546
Level     0,  Iter    55:    Energy =   0.0547
Level     0,  Iter    56:    Energy =   0.0546
Level     0,  Iter    57:    Energy =   0.0547
Level     0,  Iter    58:    Energy =   0.0547
Level     0,  Iter    59:    Energy =   0.0548
END OF LEVEL     0    DetJac Range:   0.0646  to   2.2453 
  Avg. Gradient Time  : 0.0066s  33.20% 
  Avg. Gaussian Time  : 0.0096s  48.65% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0343
Level     1,  Iter     1:    Energy =   0.0358
Level     1,  Iter     2:    Energy =   0.0373
Level     1,  Iter     3:    Energy =   0.0386
Level     1,  Iter     4:    Energy =   0.0398
Level     1,  Iter     5:    Energy =   0.0408
Level     1,  Iter     6:    Energy =   0.0416
Level     1,  Iter     7:    Energy =   0.0423
Level     1,  Iter     8:    Energy =   0.0416
Level     1,  Iter     9:    Energy =   0.0424
Level     1,  Iter    10:    Energy =   0.0430
Level     1,  Iter    11:    Energy =   0.0435
Level     1,  Iter    12:    Energy =   0.0440
Level     1,  Iter    13:    Energy =   0.0443
Level     1,  Iter    14:    Energy =   0.0447
Level     1,  Iter    15:    Energy =   0.0449
Level     1,  Iter    16:    Energy =   0.0452
Level     1,  Iter    17:    Energy =   0.0454
Level     1,  Iter    18:    Energy =   0.0456
big value: 2019.836231
big value: 1615.226301
Level     1,  Iter    19:    Energy =   0.0458
Level     1,  Iter    20:    Energy =   0.0448
Level     1,  Iter    21:    Energy =   0.0439
Level     1,  Iter    22:    Energy =   0.0445
Level     1,  Iter    23:    Energy =   0.0450
Level     1,  Iter    24:    Energy =   0.0454
Level     1,  Iter    25:    Energy =   0.0457
Level     1,  Iter    26:    Energy =   0.0451
Level     1,  Iter    27:    Energy =   0.0456
Level     1,  Iter    28:    Energy =   0.0451
Level     1,  Iter    29:    Energy =   0.0456
Level     1,  Iter    30:    Energy =   0.0459
Level     1,  Iter    31:    Energy =   0.0462
Level     1,  Iter    32:    Energy =   0.0464
Level     1,  Iter    33:    Energy =   0.0466
big value: 1062.467446
Level     1,  Iter    34:    Energy =   0.0470
Level     1,  Iter    35:    Energy =   0.0459
Level     1,  Iter    36:    Energy =   0.0463
Level     1,  Iter    37:    Energy =   0.0466
Level     1,  Iter    38:    Energy =   0.0469
Level     1,  Iter    39:    Energy =   0.0472
Level     1,  Iter    40:    Energy =   0.0472
Level     1,  Iter    41:    Energy =   0.0475
Level     1,  Iter    42:    Energy =   0.0467
Level     1,  Iter    43:    Energy =   0.0470
Level     1,  Iter    44:    Energy =   0.0473
Level     1,  Iter    45:    Energy =   0.0466
Level     1,  Iter    46:    Energy =   0.0469
Level     1,  Iter    47:    Energy =   0.0474
Level     1,  Iter    48:    Energy =   0.0463
Level     1,  Iter    49:    Energy =   0.0453
Level     1,  Iter    50:    Energy =   0.0443
Level     1,  Iter    51:    Energy =   0.0449
Level     1,  Iter    52:    Energy =   0.0454
Level     1,  Iter    53:    Energy =   0.0453
Level     1,  Iter    54:    Energy =   0.0457
big value: 1001.285841
Level     1,  Iter    55:    Energy =   0.0462
Level     1,  Iter    56:    Energy =   0.0452
Level     1,  Iter    57:    Energy =   0.0458
big value: 1741.285373
Level     1,  Iter    58:    Energy =   0.0450
Level     1,  Iter    59:    Energy =   0.0440
END OF LEVEL     1    DetJac Range:   0.0626  to   2.1223 
  Avg. Gradient Time  : 0.0284s  34.77% 
  Avg. Gaussian Time  : 0.0419s  51.36% 
  Avg. Iteration Time : 0.0817s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
big value: 1416.445876
big value: -3304.629373
big value: -11921.196786
big value: -4241.493446
big value: 1258.679136
Level     2,  Iter     0:    Energy =   0.0211
big value: 3179.121643
big value: -4380.943374
Level     2,  Iter     1:    Energy =   0.0210
big value: 1729.393859
big value: -1699.019723
Level     2,  Iter     2:    Energy =   0.0209
big value: 5976.234957
big value: -1939.996433
Level     2,  Iter     3:    Energy =   0.0208
Level     2,  Iter     4:    Energy =   0.0207
big value: 4578.271265
big value: 4233.953160
big value: -1018.495064
Level     2,  Iter     5:    Energy =   0.0206
big value: 113217.820200
big value: -346472.783161
big value: 87753.124215
big value: -4367.041700
big value: -4677.184194
big value: 1872.515365
Level     2,  Iter     6:    Energy =   0.0206
Level     2,  Iter     7:    Energy =   0.0203
big value: -1345.545821
big value: -2152.755012
big value: -1270.084399
big value: -7204.465070
big value: 2720.942471
big value: -1865.485075
big value: -5784.309824
big value: -18048.210792
big value: 1164.324083
Level     2,  Iter     8:    Energy =   0.0203
big value: -35298.602603
big value: -130861.507643
big value: -108262.604018
Level     2,  Iter     9:    Energy =   0.0201
big value: 1090.966089
Level     2,  Iter    10:    Energy =   0.0200
big value: 1209.040645
big value: -1644.726571
big value: -2248.706728
Level     2,  Iter    11:    Energy =   0.0200
Level     2,  Iter    12:    Energy =   0.0198
big value: -1072.805090
big value: -1288.091891
big value: 1307.318147
big value: -47225.962592
Level     2,  Iter    13:    Energy =   0.0198
big value: -1932.211333
big value: 2768.881606
big value: 3016.532440
big value: -1298.663550
Level     2,  Iter    14:    Energy =   0.0197
big value: 1716.607712
big value: -1795.665469
big value: 2044.236204
big value: -1574.230402
big value: -1536.337682
big value: -3789.808600
big value: 1627.290513
big value: -2486.304324
big value: -19527.382696
big value: 149205.936834
big value: -74924.784983
Level     2,  Iter    15:    Energy =   0.0197
big value: 1410.918103
big value: -8382.385168
big value: 8101.829746
big value: 12407.904472
big value: 2330.841130
big value: 4012.290985
Level     2,  Iter    16:    Energy =   0.0195
big value: -1756.424321
big value: -1129.388825
Level     2,  Iter    17:    Energy =   0.0193
big value: 4142.975354
big value: 3934.278561
big value: -3582.988513
Level     2,  Iter    18:    Energy =   0.0192
big value: 2215.436789
big value: -1457.786987
Level     2,  Iter    19:    Energy =   0.0191
END OF LEVEL     2    DetJac Range:   0.1082  to   1.7902 
  Avg. Gradient Time  : 0.1807s  32.79% 
  Avg. Gaussian Time  : 0.2963s  53.78% 
  Avg. Iteration Time : 0.5511s 

real	0m19.787s
user	0m34.444s
sys	0m2.132s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.392857 0.397143
+ echo 'CHUNK 0.392857 0.397143 1'
CHUNK 0.392857 0.397143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.392857 0.397143 1
====================================
         PROGRESS: 0.392857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.636
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 393.246   GNORM= 263.645
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       175.480     203.905       0.004
   2    3      -286.870     171.917       1.000
   3    4      -546.723      71.957       1.000
   4    5      -650.650      76.986       1.000
   5    7      -677.323      44.955       0.125
   6    9      -677.338      43.544       0.000
   7   10      -697.863      39.632       1.000
   8   11      -768.733      81.774       1.000
   9   12      -811.472      81.597       1.000
  10   13      -887.437     100.547       1.000
  11   15      -910.870     644.277       0.303
  12   19      -911.130      92.931       0.010
  13   23      -912.001     130.447       1.432
  14   24      -936.070     120.617       1.000
  15   26     -1000.857      73.256       5.000
  16   39     -1001.109     120.691       0.005
  17   40     -1011.643     121.636       1.000
  18   42     -1019.194      87.585       0.255
  19   43     -1045.519      68.303       1.000
  20   44     -1053.817      41.972       1.000
  21   45     -1061.630      38.503       1.000
  22   47     -1079.435      47.552       0.397
  23   49     -1085.158      25.254       0.319
  24   50     -1095.325      20.233       1.000
  25   52     -1099.030      36.250       0.241
  26   53     -1105.590      34.612       1.000
  27   54     -1109.352      23.925       1.000
  28   55     -1114.037      25.375       1.000
  29   56     -1120.405      32.782       1.000
  30   57     -1124.239      75.463       1.000
  31   58     -1152.307      27.319       1.000
  32   59     -1156.975      19.396       1.000
  33   61     -1157.894      26.250       0.200
Final RAS Transform: 
0.63478 0.143372 -0.0785565 3.12813 
0.306749 1.04388 0.230879 9.56748 
-0.110333 -0.496837 0.844182 -2.99792 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -524.058   GNORM= 978.833
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -534.301      71.813       0.001
   2    3      -537.365      44.906       1.000
   3    6      -542.569      31.771       0.844
   4   10      -547.102      46.151       0.500
   5   12      -559.899      48.294       0.238
   6   14      -589.698     103.113       5.000
   7   16      -593.234      73.198       0.245
   8   17      -594.811      42.363       1.000
   9   18      -602.232      33.175       1.000
  10   20      -607.355      26.659       0.356
  11   21      -621.752      42.600       1.000
  12   22      -629.195      59.037       1.000
  13   23      -634.681      51.632       1.000
  14   24      -637.571      49.593       1.000
  15   25      -639.104      15.705       1.000
  16   27      -639.248      23.701       0.312
  17   31      -639.790      42.661       0.519
  18   37      -640.857      18.655       0.792
  19   38      -641.072      18.804       1.000
  20   42      -643.323      51.987       4.367
  21   45      -643.406      36.174       0.008
  22   49      -645.297      17.462       0.995
  23   50      -646.958      24.726       1.000
  24   52      -652.177      62.053       0.379
  25   53      -659.037     161.914       1.000
  26   56      -659.092      21.572       0.086
  27   57      -660.199     200.023       1.000
Final RAS Transform: 
0.657764 0.05731 -0.104604 5.48322 
0.381668 1.06669 0.160601 4.17788 
-0.128924 -0.521095 0.892766 -0.82443 
0 0 0 1 

Final RAS Transform: 
0.657764 0.05731 -0.104604 5.48322 
0.381668 1.06669 0.160601 4.17788 
-0.128924 -0.521095 0.892766 -0.82443 
0 0 0 1 


real	0m5.967s
user	0m9.956s
sys	0m0.628s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.415648
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0286
Level     0,  Iter     1:    Energy =   0.0314
Level     0,  Iter     2:    Energy =   0.0340
Level     0,  Iter     3:    Energy =   0.0364
Level     0,  Iter     4:    Energy =   0.0381
Level     0,  Iter     5:    Energy =   0.0394
Level     0,  Iter     6:    Energy =   0.0405
Level     0,  Iter     7:    Energy =   0.0414
Level     0,  Iter     8:    Energy =   0.0423
Level     0,  Iter     9:    Energy =   0.0430
Level     0,  Iter    10:    Energy =   0.0437
Level     0,  Iter    11:    Energy =   0.0443
Level     0,  Iter    12:    Energy =   0.0448
Level     0,  Iter    13:    Energy =   0.0451
Level     0,  Iter    14:    Energy =   0.0456
Level     0,  Iter    15:    Energy =   0.0459
Level     0,  Iter    16:    Energy =   0.0462
Level     0,  Iter    17:    Energy =   0.0464
Level     0,  Iter    18:    Energy =   0.0466
Level     0,  Iter    19:    Energy =   0.0469
Level     0,  Iter    20:    Energy =   0.0471
Level     0,  Iter    21:    Energy =   0.0474
Level     0,  Iter    22:    Energy =   0.0476
Level     0,  Iter    23:    Energy =   0.0478
Level     0,  Iter    24:    Energy =   0.0479
Level     0,  Iter    25:    Energy =   0.0482
Level     0,  Iter    26:    Energy =   0.0484
Level     0,  Iter    27:    Energy =   0.0487
Level     0,  Iter    28:    Energy =   0.0490
Level     0,  Iter    29:    Energy =   0.0492
Level     0,  Iter    30:    Energy =   0.0495
Level     0,  Iter    31:    Energy =   0.0497
Level     0,  Iter    32:    Energy =   0.0499
Level     0,  Iter    33:    Energy =   0.0501
Level     0,  Iter    34:    Energy =   0.0503
Level     0,  Iter    35:    Energy =   0.0505
Level     0,  Iter    36:    Energy =   0.0507
Level     0,  Iter    37:    Energy =   0.0509
Level     0,  Iter    38:    Energy =   0.0511
Level     0,  Iter    39:    Energy =   0.0515
Level     0,  Iter    40:    Energy =   0.0518
Level     0,  Iter    41:    Energy =   0.0521
Level     0,  Iter    42:    Energy =   0.0523
Level     0,  Iter    43:    Energy =   0.0524
Level     0,  Iter    44:    Energy =   0.0526
Level     0,  Iter    45:    Energy =   0.0527
Level     0,  Iter    46:    Energy =   0.0527
Level     0,  Iter    47:    Energy =   0.0527
Level     0,  Iter    48:    Energy =   0.0527
Level     0,  Iter    49:    Energy =   0.0528
Level     0,  Iter    50:    Energy =   0.0528
Level     0,  Iter    51:    Energy =   0.0528
Level     0,  Iter    52:    Energy =   0.0528
Level     0,  Iter    53:    Energy =   0.0528
Level     0,  Iter    54:    Energy =   0.0528
Level     0,  Iter    55:    Energy =   0.0528
Level     0,  Iter    56:    Energy =   0.0528
Level     0,  Iter    57:    Energy =   0.0528
Level     0,  Iter    58:    Energy =   0.0528
Level     0,  Iter    59:    Energy =   0.0528
END OF LEVEL     0    DetJac Range:   0.0491  to   2.6112 
  Avg. Gradient Time  : 0.0067s  33.21% 
  Avg. Gaussian Time  : 0.0098s  48.57% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0309
Level     1,  Iter     1:    Energy =   0.0335
Level     1,  Iter     2:    Energy =   0.0355
Level     1,  Iter     3:    Energy =   0.0374
Level     1,  Iter     4:    Energy =   0.0388
Level     1,  Iter     5:    Energy =   0.0398
Level     1,  Iter     6:    Energy =   0.0405
Level     1,  Iter     7:    Energy =   0.0411
Level     1,  Iter     8:    Energy =   0.0417
Level     1,  Iter     9:    Energy =   0.0423
Level     1,  Iter    10:    Energy =   0.0427
Level     1,  Iter    11:    Energy =   0.0429
Level     1,  Iter    12:    Energy =   0.0431
Level     1,  Iter    13:    Energy =   0.0432
Level     1,  Iter    14:    Energy =   0.0433
Level     1,  Iter    15:    Energy =   0.0435
Level     1,  Iter    16:    Energy =   0.0437
Level     1,  Iter    17:    Energy =   0.0439
Level     1,  Iter    18:    Energy =   0.0441
Level     1,  Iter    19:    Energy =   0.0444
Level     1,  Iter    20:    Energy =   0.0447
Level     1,  Iter    21:    Energy =   0.0449
Level     1,  Iter    22:    Energy =   0.0452
Level     1,  Iter    23:    Energy =   0.0455
Level     1,  Iter    24:    Energy =   0.0458
Level     1,  Iter    25:    Energy =   0.0460
Level     1,  Iter    26:    Energy =   0.0462
Level     1,  Iter    27:    Energy =   0.0463
Level     1,  Iter    28:    Energy =   0.0464
Level     1,  Iter    29:    Energy =   0.0465
Level     1,  Iter    30:    Energy =   0.0466
Level     1,  Iter    31:    Energy =   0.0467
Level     1,  Iter    32:    Energy =   0.0468
Level     1,  Iter    33:    Energy =   0.0468
Level     1,  Iter    34:    Energy =   0.0468
Level     1,  Iter    35:    Energy =   0.0468
Level     1,  Iter    36:    Energy =   0.0468
Level     1,  Iter    37:    Energy =   0.0468
Level     1,  Iter    38:    Energy =   0.0468
Level     1,  Iter    39:    Energy =   0.0468
Level     1,  Iter    40:    Energy =   0.0468
Level     1,  Iter    41:    Energy =   0.0468
Level     1,  Iter    42:    Energy =   0.0469
Level     1,  Iter    43:    Energy =   0.0469
Level     1,  Iter    44:    Energy =   0.0470
Level     1,  Iter    45:    Energy =   0.0470
Level     1,  Iter    46:    Energy =   0.0471
Level     1,  Iter    47:    Energy =   0.0471
Level     1,  Iter    48:    Energy =   0.0471
Level     1,  Iter    49:    Energy =   0.0472
Level     1,  Iter    50:    Energy =   0.0472
Level     1,  Iter    51:    Energy =   0.0472
Level     1,  Iter    52:    Energy =   0.0473
Level     1,  Iter    53:    Energy =   0.0473
Level     1,  Iter    54:    Energy =   0.0473
Level     1,  Iter    55:    Energy =   0.0473
Level     1,  Iter    56:    Energy =   0.0473
Level     1,  Iter    57:    Energy =   0.0473
Level     1,  Iter    58:    Energy =   0.0473
Level     1,  Iter    59:    Energy =   0.0473
END OF LEVEL     1    DetJac Range:   0.0066  to   2.8486 
  Avg. Gradient Time  : 0.0285s  34.72% 
  Avg. Gaussian Time  : 0.0422s  51.42% 
  Avg. Iteration Time : 0.0821s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
big value: 11671.113943
big value: -10585.655953
big value: 1792.413231
Level     2,  Iter     0:    Energy =   0.0211
Level     2,  Iter     1:    Energy =   0.0209
Level     2,  Iter     2:    Energy =   0.0214
big value: 11150.153495
big value: 13766.721680
big value: 7050.965454
Level     2,  Iter     3:    Energy =   0.0218
Level     2,  Iter     4:    Energy =   0.0215
Level     2,  Iter     5:    Energy =   0.0219
big value: 1010.540343
big value: -1086.958897
Level     2,  Iter     6:    Energy =   0.0222
Level     2,  Iter     7:    Energy =   0.0219
Level     2,  Iter     8:    Energy =   0.0222
Level     2,  Iter     9:    Energy =   0.0225
Level     2,  Iter    10:    Energy =   0.0222
Level     2,  Iter    11:    Energy =   0.0219
Level     2,  Iter    12:    Energy =   0.0222
Level     2,  Iter    13:    Energy =   0.0225
Level     2,  Iter    14:    Energy =   0.0227
Level     2,  Iter    15:    Energy =   0.0229
Level     2,  Iter    16:    Energy =   0.0230
Level     2,  Iter    17:    Energy =   0.0232
Level     2,  Iter    18:    Energy =   0.0234
Level     2,  Iter    19:    Energy =   0.0236
END OF LEVEL     2    DetJac Range:   0.0059  to   3.0732 
  Avg. Gradient Time  : 0.1860s  33.36% 
  Avg. Gaussian Time  : 0.2970s  53.28% 
  Avg. Iteration Time : 0.5575s 

real	0m20.070s
user	0m34.792s
sys	0m2.228s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.397143 0.401429
+ echo 'CHUNK 0.397143 0.401429 1'
CHUNK 0.397143 0.401429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.397143 0.401429 1
====================================
         PROGRESS: 0.397143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 624.112   GNORM= 298.633
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       369.235     195.087       0.003
   2    3       -13.903     180.104       1.000
   3    4      -355.800     142.699       1.000
   4    5      -540.411      69.574       1.000
   5    6      -595.014      56.965       1.000
   6   10      -628.280      59.388       0.271
   7   11      -669.134     112.286       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.975288 0.112137 -0.083114 2.79274 
0.106661 1.04616 -0.1333 7.49773 
-0.152968 -0.144897 1.0836 -4.30401 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -326.191   GNORM= 58.0168
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -326.448      36.245       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.975289 0.112139 -0.083116 2.79285 
0.106662 1.04616 -0.133301 7.49773 
-0.152969 -0.144897 1.0836 -4.30416 
0 0 0 1 

Final RAS Transform: 
0.975289 0.112139 -0.083116 2.79285 
0.106662 1.04616 -0.133301 7.49773 
-0.152969 -0.144897 1.0836 -4.30416 
0 0 0 1 


real	0m3.471s
user	0m5.420s
sys	0m0.392s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.390249
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0163
Level     0,  Iter     1:    Energy =   0.0179
Level     0,  Iter     2:    Energy =   0.0202
Level     0,  Iter     3:    Energy =   0.0220
Level     0,  Iter     4:    Energy =   0.0236
Level     0,  Iter     5:    Energy =   0.0249
Level     0,  Iter     6:    Energy =   0.0258
Level     0,  Iter     7:    Energy =   0.0268
Level     0,  Iter     8:    Energy =   0.0274
Level     0,  Iter     9:    Energy =   0.0279
Level     0,  Iter    10:    Energy =   0.0284
Level     0,  Iter    11:    Energy =   0.0290
Level     0,  Iter    12:    Energy =   0.0295
Level     0,  Iter    13:    Energy =   0.0301
Level     0,  Iter    14:    Energy =   0.0306
Level     0,  Iter    15:    Energy =   0.0311
Level     0,  Iter    16:    Energy =   0.0317
Level     0,  Iter    17:    Energy =   0.0323
Level     0,  Iter    18:    Energy =   0.0328
Level     0,  Iter    19:    Energy =   0.0333
Level     0,  Iter    20:    Energy =   0.0338
Level     0,  Iter    21:    Energy =   0.0342
Level     0,  Iter    22:    Energy =   0.0345
Level     0,  Iter    23:    Energy =   0.0348
Level     0,  Iter    24:    Energy =   0.0352
Level     0,  Iter    25:    Energy =   0.0356
Level     0,  Iter    26:    Energy =   0.0360
Level     0,  Iter    27:    Energy =   0.0362
Level     0,  Iter    28:    Energy =   0.0365
Level     0,  Iter    29:    Energy =   0.0367
Level     0,  Iter    30:    Energy =   0.0370
Level     0,  Iter    31:    Energy =   0.0372
Level     0,  Iter    32:    Energy =   0.0374
Level     0,  Iter    33:    Energy =   0.0376
Level     0,  Iter    34:    Energy =   0.0377
Level     0,  Iter    35:    Energy =   0.0379
Level     0,  Iter    36:    Energy =   0.0380
Level     0,  Iter    37:    Energy =   0.0382
Level     0,  Iter    38:    Energy =   0.0383
Level     0,  Iter    39:    Energy =   0.0385
Level     0,  Iter    40:    Energy =   0.0386
Level     0,  Iter    41:    Energy =   0.0387
Level     0,  Iter    42:    Energy =   0.0388
Level     0,  Iter    43:    Energy =   0.0390
Level     0,  Iter    44:    Energy =   0.0391
Level     0,  Iter    45:    Energy =   0.0392
Level     0,  Iter    46:    Energy =   0.0393
Level     0,  Iter    47:    Energy =   0.0394
Level     0,  Iter    48:    Energy =   0.0395
Level     0,  Iter    49:    Energy =   0.0396
Level     0,  Iter    50:    Energy =   0.0397
Level     0,  Iter    51:    Energy =   0.0398
Level     0,  Iter    52:    Energy =   0.0399
Level     0,  Iter    53:    Energy =   0.0400
Level     0,  Iter    54:    Energy =   0.0401
Level     0,  Iter    55:    Energy =   0.0402
Level     0,  Iter    56:    Energy =   0.0402
Level     0,  Iter    57:    Energy =   0.0403
Level     0,  Iter    58:    Energy =   0.0404
Level     0,  Iter    59:    Energy =   0.0405
END OF LEVEL     0    DetJac Range:   0.0463  to   1.9132 
  Avg. Gradient Time  : 0.0067s  33.30% 
  Avg. Gaussian Time  : 0.0099s  48.78% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0207
Level     1,  Iter     1:    Energy =   0.0223
Level     1,  Iter     2:    Energy =   0.0236
Level     1,  Iter     3:    Energy =   0.0249
Level     1,  Iter     4:    Energy =   0.0262
Level     1,  Iter     5:    Energy =   0.0275
Level     1,  Iter     6:    Energy =   0.0286
Level     1,  Iter     7:    Energy =   0.0296
Level     1,  Iter     8:    Energy =   0.0305
Level     1,  Iter     9:    Energy =   0.0312
Level     1,  Iter    10:    Energy =   0.0318
Level     1,  Iter    11:    Energy =   0.0325
Level     1,  Iter    12:    Energy =   0.0331
Level     1,  Iter    13:    Energy =   0.0335
Level     1,  Iter    14:    Energy =   0.0339
Level     1,  Iter    15:    Energy =   0.0341
Level     1,  Iter    16:    Energy =   0.0344
Level     1,  Iter    17:    Energy =   0.0347
Level     1,  Iter    18:    Energy =   0.0349
Level     1,  Iter    19:    Energy =   0.0352
Level     1,  Iter    20:    Energy =   0.0355
Level     1,  Iter    21:    Energy =   0.0358
Level     1,  Iter    22:    Energy =   0.0362
Level     1,  Iter    23:    Energy =   0.0365
Level     1,  Iter    24:    Energy =   0.0369
Level     1,  Iter    25:    Energy =   0.0372
Level     1,  Iter    26:    Energy =   0.0375
Level     1,  Iter    27:    Energy =   0.0378
Level     1,  Iter    28:    Energy =   0.0380
Level     1,  Iter    29:    Energy =   0.0381
Level     1,  Iter    30:    Energy =   0.0382
Level     1,  Iter    31:    Energy =   0.0384
Level     1,  Iter    32:    Energy =   0.0386
Level     1,  Iter    33:    Energy =   0.0388
Level     1,  Iter    34:    Energy =   0.0389
Level     1,  Iter    35:    Energy =   0.0391
Level     1,  Iter    36:    Energy =   0.0392
Level     1,  Iter    37:    Energy =   0.0394
Level     1,  Iter    38:    Energy =   0.0395
Level     1,  Iter    39:    Energy =   0.0396
Level     1,  Iter    40:    Energy =   0.0398
Level     1,  Iter    41:    Energy =   0.0399
Level     1,  Iter    42:    Energy =   0.0399
Level     1,  Iter    43:    Energy =   0.0400
Level     1,  Iter    44:    Energy =   0.0400
Level     1,  Iter    45:    Energy =   0.0401
Level     1,  Iter    46:    Energy =   0.0401
Level     1,  Iter    47:    Energy =   0.0402
Level     1,  Iter    48:    Energy =   0.0402
Level     1,  Iter    49:    Energy =   0.0403
Level     1,  Iter    50:    Energy =   0.0404
Level     1,  Iter    51:    Energy =   0.0404
Level     1,  Iter    52:    Energy =   0.0405
Level     1,  Iter    53:    Energy =   0.0406
Level     1,  Iter    54:    Energy =   0.0407
Level     1,  Iter    55:    Energy =   0.0408
Level     1,  Iter    56:    Energy =   0.0409
Level     1,  Iter    57:    Energy =   0.0410
Level     1,  Iter    58:    Energy =   0.0411
Level     1,  Iter    59:    Energy =   0.0411
END OF LEVEL     1    DetJac Range:   0.0272  to   2.6674 
  Avg. Gradient Time  : 0.0285s  34.39% 
  Avg. Gaussian Time  : 0.0429s  51.63% 
  Avg. Iteration Time : 0.0830s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0180
Level     2,  Iter     1:    Energy =   0.0190
Level     2,  Iter     2:    Energy =   0.0200
Level     2,  Iter     3:    Energy =   0.0207
Level     2,  Iter     4:    Energy =   0.0214
Level     2,  Iter     5:    Energy =   0.0221
big value: 29175.216957
big value: 202107.479054
big value: 96173.391351
Level     2,  Iter     6:    Energy =   0.0226
Level     2,  Iter     7:    Energy =   0.0221
Level     2,  Iter     8:    Energy =   0.0225
Level     2,  Iter     9:    Energy =   0.0229
Level     2,  Iter    10:    Energy =   0.0233
Level     2,  Iter    11:    Energy =   0.0238
Level     2,  Iter    12:    Energy =   0.0242
Level     2,  Iter    13:    Energy =   0.0245
Level     2,  Iter    14:    Energy =   0.0248
Level     2,  Iter    15:    Energy =   0.0250
Level     2,  Iter    16:    Energy =   0.0252
Level     2,  Iter    17:    Energy =   0.0254
Level     2,  Iter    18:    Energy =   0.0256
Level     2,  Iter    19:    Energy =   0.0258
END OF LEVEL     2    DetJac Range:   0.0136  to   3.0415 
  Avg. Gradient Time  : 0.1855s  33.17% 
  Avg. Gaussian Time  : 0.2986s  53.38% 
  Avg. Iteration Time : 0.5593s 

real	0m20.150s
user	0m34.768s
sys	0m2.396s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401429 0.405714
+ echo 'CHUNK 0.401429 0.405714 1'
CHUNK 0.401429 0.405714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401429 0.405714 1
====================================
         PROGRESS: 0.401429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.515
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 371.391   GNORM= 248.557
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       159.036     191.145       0.004
   2    3      -324.065     164.860       1.000
   3    4      -374.064      70.485       1.000
   4    5      -388.507     112.477       1.000
   5    6      -421.343      50.973       1.000
   6    7      -435.897      41.979       1.000
   7   11      -481.072     110.058       0.541
   8   12      -501.485     104.374       1.000
   9   14      -512.831      41.750       0.229
  10   15      -523.653      38.695       1.000
  11   17      -564.764      84.179       5.000
  12   18      -592.009      69.767       1.000
  13   20      -613.334      61.057       0.194
  14   21      -627.742      71.539       1.000
  15   22      -651.148      60.708       1.000
  16   23      -668.584      47.180       1.000
  17   24      -699.261      28.664       1.000
  18   25      -728.471      16.316       1.000
  19   28      -999.752      80.530       1.598
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.65933 0.447374 0.199911 4.23949 
0.263167 1.01239 0.704427 21.3849 
-0.624878 -1.23137 0.250947 12.4219 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -399.727   GNORM= 100.158
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -445.795      68.356       0.010
   2    3      -451.171      64.473       1.000
   3    4      -458.593     681.470       1.000
   4    7      -483.932      99.170       0.067
   5    9      -484.692      30.344       0.397
   6   17      -488.540      70.593       4.992
   7   21      -506.405      53.861       1.445
   8   22      -521.001     293.007       1.000
   9   24      -546.215      57.282       0.279
  10   29      -551.633      51.936       1.002
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.654716 0.480102 0.24186 4.51616 
0.251105 1.00121 0.663706 18.8185 
-0.632785 -1.23651 0.174632 8.03171 
0 0 0 1 

Final RAS Transform: 
0.654716 0.480102 0.24186 4.51616 
0.251105 1.00121 0.663706 18.8185 
-0.632785 -1.23651 0.174632 8.03171 
0 0 0 1 


real	0m5.024s
user	0m8.276s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.397394
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0283
Level     0,  Iter     1:    Energy =   0.0300
Level     0,  Iter     2:    Energy =   0.0337
Level     0,  Iter     3:    Energy =   0.0369
Level     0,  Iter     4:    Energy =   0.0397
Level     0,  Iter     5:    Energy =   0.0418
Level     0,  Iter     6:    Energy =   0.0432
Level     0,  Iter     7:    Energy =   0.0442
Level     0,  Iter     8:    Energy =   0.0453
Level     0,  Iter     9:    Energy =   0.0464
Level     0,  Iter    10:    Energy =   0.0472
Level     0,  Iter    11:    Energy =   0.0480
Level     0,  Iter    12:    Energy =   0.0487
Level     0,  Iter    13:    Energy =   0.0494
Level     0,  Iter    14:    Energy =   0.0502
Level     0,  Iter    15:    Energy =   0.0508
Level     0,  Iter    16:    Energy =   0.0513
Level     0,  Iter    17:    Energy =   0.0518
Level     0,  Iter    18:    Energy =   0.0523
Level     0,  Iter    19:    Energy =   0.0528
Level     0,  Iter    20:    Energy =   0.0532
Level     0,  Iter    21:    Energy =   0.0538
Level     0,  Iter    22:    Energy =   0.0542
Level     0,  Iter    23:    Energy =   0.0547
Level     0,  Iter    24:    Energy =   0.0552
Level     0,  Iter    25:    Energy =   0.0556
Level     0,  Iter    26:    Energy =   0.0561
Level     0,  Iter    27:    Energy =   0.0564
Level     0,  Iter    28:    Energy =   0.0567
Level     0,  Iter    29:    Energy =   0.0570
Level     0,  Iter    30:    Energy =   0.0573
Level     0,  Iter    31:    Energy =   0.0577
Level     0,  Iter    32:    Energy =   0.0579
Level     0,  Iter    33:    Energy =   0.0580
Level     0,  Iter    34:    Energy =   0.0582
Level     0,  Iter    35:    Energy =   0.0584
Level     0,  Iter    36:    Energy =   0.0585
Level     0,  Iter    37:    Energy =   0.0586
Level     0,  Iter    38:    Energy =   0.0588
Level     0,  Iter    39:    Energy =   0.0589
Level     0,  Iter    40:    Energy =   0.0590
Level     0,  Iter    41:    Energy =   0.0592
Level     0,  Iter    42:    Energy =   0.0593
Level     0,  Iter    43:    Energy =   0.0595
Level     0,  Iter    44:    Energy =   0.0596
Level     0,  Iter    45:    Energy =   0.0598
Level     0,  Iter    46:    Energy =   0.0598
Level     0,  Iter    47:    Energy =   0.0600
Level     0,  Iter    48:    Energy =   0.0601
Level     0,  Iter    49:    Energy =   0.0602
Level     0,  Iter    50:    Energy =   0.0604
Level     0,  Iter    51:    Energy =   0.0606
Level     0,  Iter    52:    Energy =   0.0608
Level     0,  Iter    53:    Energy =   0.0609
Level     0,  Iter    54:    Energy =   0.0611
Level     0,  Iter    55:    Energy =   0.0612
Level     0,  Iter    56:    Energy =   0.0613
Level     0,  Iter    57:    Energy =   0.0615
Level     0,  Iter    58:    Energy =   0.0617
Level     0,  Iter    59:    Energy =   0.0618
END OF LEVEL     0    DetJac Range:   0.0385  to   1.9008 
  Avg. Gradient Time  : 0.0065s  33.33% 
  Avg. Gaussian Time  : 0.0095s  48.54% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0333
Level     1,  Iter     1:    Energy =   0.0352
Level     1,  Iter     2:    Energy =   0.0367
Level     1,  Iter     3:    Energy =   0.0382
Level     1,  Iter     4:    Energy =   0.0394
Level     1,  Iter     5:    Energy =   0.0405
Level     1,  Iter     6:    Energy =   0.0414
Level     1,  Iter     7:    Energy =   0.0422
Level     1,  Iter     8:    Energy =   0.0428
Level     1,  Iter     9:    Energy =   0.0433
Level     1,  Iter    10:    Energy =   0.0438
Level     1,  Iter    11:    Energy =   0.0442
Level     1,  Iter    12:    Energy =   0.0446
Level     1,  Iter    13:    Energy =   0.0450
Level     1,  Iter    14:    Energy =   0.0454
Level     1,  Iter    15:    Energy =   0.0457
Level     1,  Iter    16:    Energy =   0.0460
Level     1,  Iter    17:    Energy =   0.0463
Level     1,  Iter    18:    Energy =   0.0465
Level     1,  Iter    19:    Energy =   0.0468
Level     1,  Iter    20:    Energy =   0.0470
Level     1,  Iter    21:    Energy =   0.0472
Level     1,  Iter    22:    Energy =   0.0473
Level     1,  Iter    23:    Energy =   0.0475
Level     1,  Iter    24:    Energy =   0.0476
Level     1,  Iter    25:    Energy =   0.0477
Level     1,  Iter    26:    Energy =   0.0479
Level     1,  Iter    27:    Energy =   0.0480
Level     1,  Iter    28:    Energy =   0.0481
Level     1,  Iter    29:    Energy =   0.0482
Level     1,  Iter    30:    Energy =   0.0483
Level     1,  Iter    31:    Energy =   0.0484
Level     1,  Iter    32:    Energy =   0.0485
Level     1,  Iter    33:    Energy =   0.0486
Level     1,  Iter    34:    Energy =   0.0487
Level     1,  Iter    35:    Energy =   0.0488
Level     1,  Iter    36:    Energy =   0.0489
Level     1,  Iter    37:    Energy =   0.0490
Level     1,  Iter    38:    Energy =   0.0491
Level     1,  Iter    39:    Energy =   0.0492
Level     1,  Iter    40:    Energy =   0.0492
Level     1,  Iter    41:    Energy =   0.0493
Level     1,  Iter    42:    Energy =   0.0494
Level     1,  Iter    43:    Energy =   0.0494
Level     1,  Iter    44:    Energy =   0.0495
Level     1,  Iter    45:    Energy =   0.0495
Level     1,  Iter    46:    Energy =   0.0495
Level     1,  Iter    47:    Energy =   0.0496
Level     1,  Iter    48:    Energy =   0.0496
Level     1,  Iter    49:    Energy =   0.0497
Level     1,  Iter    50:    Energy =   0.0497
Level     1,  Iter    51:    Energy =   0.0498
Level     1,  Iter    52:    Energy =   0.0498
Level     1,  Iter    53:    Energy =   0.0499
Level     1,  Iter    54:    Energy =   0.0499
Level     1,  Iter    55:    Energy =   0.0500
Level     1,  Iter    56:    Energy =   0.0500
Level     1,  Iter    57:    Energy =   0.0501
Level     1,  Iter    58:    Energy =   0.0501
Level     1,  Iter    59:    Energy =   0.0502
END OF LEVEL     1    DetJac Range:   0.0412  to   2.4997 
  Avg. Gradient Time  : 0.0284s  34.68% 
  Avg. Gaussian Time  : 0.0421s  51.44% 
  Avg. Iteration Time : 0.0819s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0233
Level     2,  Iter     1:    Energy =   0.0233
Level     2,  Iter     2:    Energy =   0.0241
Level     2,  Iter     3:    Energy =   0.0249
Level     2,  Iter     4:    Energy =   0.0254
Level     2,  Iter     5:    Energy =   0.0257
Level     2,  Iter     6:    Energy =   0.0263
Level     2,  Iter     7:    Energy =   0.0269
Level     2,  Iter     8:    Energy =   0.0276
Level     2,  Iter     9:    Energy =   0.0283
Level     2,  Iter    10:    Energy =   0.0279
Level     2,  Iter    11:    Energy =   0.0284
Level     2,  Iter    12:    Energy =   0.0289
Level     2,  Iter    13:    Energy =   0.0293
Level     2,  Iter    14:    Energy =   0.0297
Level     2,  Iter    15:    Energy =   0.0293
big value: 5952.726913
big value: -51379.480196
big value: 24545.264625
Level     2,  Iter    16:    Energy =   0.0297
Level     2,  Iter    17:    Energy =   0.0290
Level     2,  Iter    18:    Energy =   0.0285
Level     2,  Iter    19:    Energy =   0.0288
END OF LEVEL     2    DetJac Range:   0.0302  to   2.4178 
  Avg. Gradient Time  : 0.1803s  32.74% 
  Avg. Gaussian Time  : 0.2960s  53.74% 
  Avg. Iteration Time : 0.5507s 

real	0m19.796s
user	0m34.488s
sys	0m2.108s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.405714 0.41
+ echo 'CHUNK 0.405714 0.41 1'
CHUNK 0.405714 0.41 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.405714 0.41 1
====================================
         PROGRESS: 0.405714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.61
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 392.224   GNORM= 280.616
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       157.650     178.594       0.004
   2    3      -107.868     118.578       1.000
   3    4      -463.470     113.116       1.000
   4    8      -574.150      55.550       1.193
   5    9      -704.545      71.023       1.000
   6   17      -706.413      54.174       0.190
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.970562 0.038299 -0.0687232 1.2197 
0.0745626 1.06849 -0.177478 4.73749 
-0.124485 -0.140038 1.02353 -4.747 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -328.935   GNORM= 122.819
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    8      -357.963      81.253       0.018
   2    9      -374.234      38.088       1.000
   3   10      -391.204      36.581       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.970094 0.0407877 -0.0779781 1.96924 
0.0864555 1.07098 -0.194542 6.29493 
-0.127092 -0.144864 1.03642 -5.28845 
0 0 0 1 

Final RAS Transform: 
0.970094 0.0407877 -0.0779781 1.96924 
0.0864555 1.07098 -0.194542 6.29493 
-0.127092 -0.144864 1.03642 -5.28845 
0 0 0 1 


real	0m3.794s
user	0m5.964s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.417698
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0182
Level     0,  Iter     1:    Energy =   0.0193
Level     0,  Iter     2:    Energy =   0.0218
Level     0,  Iter     3:    Energy =   0.0237
Level     0,  Iter     4:    Energy =   0.0254
Level     0,  Iter     5:    Energy =   0.0270
Level     0,  Iter     6:    Energy =   0.0284
Level     0,  Iter     7:    Energy =   0.0296
Level     0,  Iter     8:    Energy =   0.0307
Level     0,  Iter     9:    Energy =   0.0314
Level     0,  Iter    10:    Energy =   0.0319
Level     0,  Iter    11:    Energy =   0.0325
Level     0,  Iter    12:    Energy =   0.0335
Level     0,  Iter    13:    Energy =   0.0342
Level     0,  Iter    14:    Energy =   0.0351
Level     0,  Iter    15:    Energy =   0.0358
Level     0,  Iter    16:    Energy =   0.0365
Level     0,  Iter    17:    Energy =   0.0369
Level     0,  Iter    18:    Energy =   0.0374
Level     0,  Iter    19:    Energy =   0.0380
Level     0,  Iter    20:    Energy =   0.0386
Level     0,  Iter    21:    Energy =   0.0392
Level     0,  Iter    22:    Energy =   0.0398
Level     0,  Iter    23:    Energy =   0.0405
Level     0,  Iter    24:    Energy =   0.0409
Level     0,  Iter    25:    Energy =   0.0415
Level     0,  Iter    26:    Energy =   0.0420
Level     0,  Iter    27:    Energy =   0.0424
Level     0,  Iter    28:    Energy =   0.0429
Level     0,  Iter    29:    Energy =   0.0434
Level     0,  Iter    30:    Energy =   0.0437
Level     0,  Iter    31:    Energy =   0.0440
Level     0,  Iter    32:    Energy =   0.0444
Level     0,  Iter    33:    Energy =   0.0446
Level     0,  Iter    34:    Energy =   0.0449
Level     0,  Iter    35:    Energy =   0.0451
Level     0,  Iter    36:    Energy =   0.0454
Level     0,  Iter    37:    Energy =   0.0455
Level     0,  Iter    38:    Energy =   0.0456
Level     0,  Iter    39:    Energy =   0.0457
Level     0,  Iter    40:    Energy =   0.0458
Level     0,  Iter    41:    Energy =   0.0459
Level     0,  Iter    42:    Energy =   0.0459
Level     0,  Iter    43:    Energy =   0.0459
Level     0,  Iter    44:    Energy =   0.0459
Level     0,  Iter    45:    Energy =   0.0458
Level     0,  Iter    46:    Energy =   0.0458
Level     0,  Iter    47:    Energy =   0.0458
Level     0,  Iter    48:    Energy =   0.0458
Level     0,  Iter    49:    Energy =   0.0458
Level     0,  Iter    50:    Energy =   0.0459
Level     0,  Iter    51:    Energy =   0.0459
Level     0,  Iter    52:    Energy =   0.0459
Level     0,  Iter    53:    Energy =   0.0459
Level     0,  Iter    54:    Energy =   0.0460
Level     0,  Iter    55:    Energy =   0.0459
Level     0,  Iter    56:    Energy =   0.0460
Level     0,  Iter    57:    Energy =   0.0460
Level     0,  Iter    58:    Energy =   0.0460
Level     0,  Iter    59:    Energy =   0.0461
END OF LEVEL     0    DetJac Range:   0.0340  to   1.8810 
  Avg. Gradient Time  : 0.0066s  33.35% 
  Avg. Gaussian Time  : 0.0096s  48.43% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0289
Level     1,  Iter     1:    Energy =   0.0306
Level     1,  Iter     2:    Energy =   0.0323
Level     1,  Iter     3:    Energy =   0.0338
Level     1,  Iter     4:    Energy =   0.0349
Level     1,  Iter     5:    Energy =   0.0356
Level     1,  Iter     6:    Energy =   0.0362
Level     1,  Iter     7:    Energy =   0.0367
Level     1,  Iter     8:    Energy =   0.0373
Level     1,  Iter     9:    Energy =   0.0379
Level     1,  Iter    10:    Energy =   0.0386
Level     1,  Iter    11:    Energy =   0.0392
Level     1,  Iter    12:    Energy =   0.0397
Level     1,  Iter    13:    Energy =   0.0401
Level     1,  Iter    14:    Energy =   0.0405
Level     1,  Iter    15:    Energy =   0.0408
Level     1,  Iter    16:    Energy =   0.0411
Level     1,  Iter    17:    Energy =   0.0414
Level     1,  Iter    18:    Energy =   0.0418
Level     1,  Iter    19:    Energy =   0.0421
Level     1,  Iter    20:    Energy =   0.0424
Level     1,  Iter    21:    Energy =   0.0425
Level     1,  Iter    22:    Energy =   0.0427
Level     1,  Iter    23:    Energy =   0.0430
Level     1,  Iter    24:    Energy =   0.0432
Level     1,  Iter    25:    Energy =   0.0435
Level     1,  Iter    26:    Energy =   0.0438
Level     1,  Iter    27:    Energy =   0.0441
Level     1,  Iter    28:    Energy =   0.0443
Level     1,  Iter    29:    Energy =   0.0445
Level     1,  Iter    30:    Energy =   0.0447
Level     1,  Iter    31:    Energy =   0.0448
Level     1,  Iter    32:    Energy =   0.0448
Level     1,  Iter    33:    Energy =   0.0449
Level     1,  Iter    34:    Energy =   0.0450
Level     1,  Iter    35:    Energy =   0.0451
Level     1,  Iter    36:    Energy =   0.0453
Level     1,  Iter    37:    Energy =   0.0454
Level     1,  Iter    38:    Energy =   0.0455
Level     1,  Iter    39:    Energy =   0.0456
Level     1,  Iter    40:    Energy =   0.0457
Level     1,  Iter    41:    Energy =   0.0458
Level     1,  Iter    42:    Energy =   0.0459
Level     1,  Iter    43:    Energy =   0.0460
Level     1,  Iter    44:    Energy =   0.0461
Level     1,  Iter    45:    Energy =   0.0462
Level     1,  Iter    46:    Energy =   0.0463
Level     1,  Iter    47:    Energy =   0.0464
Level     1,  Iter    48:    Energy =   0.0465
Level     1,  Iter    49:    Energy =   0.0466
Level     1,  Iter    50:    Energy =   0.0466
Level     1,  Iter    51:    Energy =   0.0467
Level     1,  Iter    52:    Energy =   0.0467
Level     1,  Iter    53:    Energy =   0.0467
Level     1,  Iter    54:    Energy =   0.0468
Level     1,  Iter    55:    Energy =   0.0468
Level     1,  Iter    56:    Energy =   0.0468
Level     1,  Iter    57:    Energy =   0.0468
Level     1,  Iter    58:    Energy =   0.0469
Level     1,  Iter    59:    Energy =   0.0469
END OF LEVEL     1    DetJac Range:   0.0207  to   2.5793 
  Avg. Gradient Time  : 0.0281s  34.76% 
  Avg. Gaussian Time  : 0.0416s  51.42% 
  Avg. Iteration Time : 0.0808s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0202
Level     2,  Iter     1:    Energy =   0.0209
Level     2,  Iter     2:    Energy =   0.0217
Level     2,  Iter     3:    Energy =   0.0225
Level     2,  Iter     4:    Energy =   0.0232
Level     2,  Iter     5:    Energy =   0.0238
Level     2,  Iter     6:    Energy =   0.0244
Level     2,  Iter     7:    Energy =   0.0249
Level     2,  Iter     8:    Energy =   0.0253
Level     2,  Iter     9:    Energy =   0.0257
Level     2,  Iter    10:    Energy =   0.0260
Level     2,  Iter    11:    Energy =   0.0262
Level     2,  Iter    12:    Energy =   0.0264
Level     2,  Iter    13:    Energy =   0.0266
Level     2,  Iter    14:    Energy =   0.0268
Level     2,  Iter    15:    Energy =   0.0269
Level     2,  Iter    16:    Energy =   0.0271
Level     2,  Iter    17:    Energy =   0.0272
Level     2,  Iter    18:    Energy =   0.0273
Level     2,  Iter    19:    Energy =   0.0274
END OF LEVEL     2    DetJac Range:   0.0189  to   3.1537 
  Avg. Gradient Time  : 0.1848s  33.37% 
  Avg. Gaussian Time  : 0.2942s  53.12% 
  Avg. Iteration Time : 0.5538s 

real	0m19.819s
user	0m34.540s
sys	0m2.064s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.41 0.414286
+ echo 'CHUNK 0.41 0.414286 1'
CHUNK 0.41 0.414286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.41 0.414286 1
====================================
         PROGRESS: 0.41               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.56
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 349.715   GNORM= 290.475
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       120.031     160.561       0.003
   2    3      -106.730     171.298       1.000
   3    4      -305.907     163.320       1.000
   4    6      -314.800      47.321       0.035
   5    9      -317.623     335.124       0.679
   6   12      -461.646     110.738       1.754
   7   17      -497.154      42.786       1.071
   8   21      -546.703      56.762       1.351
   9   23      -564.509      56.938       0.488
  10   26      -570.426      54.220       0.028
  11   27      -626.030      53.652       1.000
  12   30      -627.990     116.804       0.174
  13   31      -677.322     174.022       1.000
  14   33      -702.086     349.922       0.289
  15   39      -707.281      78.240       0.010
  16   41      -758.244      60.150       5.000
  17   44      -782.544      50.802       0.660
  18   46      -943.052      25.955       5.000
  19   48      -943.121      20.415       0.004
  20   50      -954.280      18.469       0.090
  21   51      -973.104      40.820       1.000
  22   52      -988.915      27.994       1.000
  23   53      -992.423      14.971       1.000
  24   54      -993.723      15.486       1.000
  25   55      -997.625      17.412       1.000
  26   57     -1034.262      23.130       5.000
  27   58     -1047.528      40.349       1.000
  28   60     -1061.805      24.179       0.336
Final RAS Transform: 
0.480996 0.443083 -0.488973 5.91513 
0.108704 0.387933 -0.385472 10.2188 
0.225882 -0.0924618 1.98283 -8.62837 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -559.081   GNORM= 135967
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -560.909     226.889       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.480996 0.443083 -0.488975 5.91523 
0.108706 0.387933 -0.385474 10.219 
0.225207 -0.0926411 1.98372 -8.71947 
0 0 0 1 

Final RAS Transform: 
0.480996 0.443083 -0.488975 5.91523 
0.108706 0.387933 -0.385474 10.219 
0.225207 -0.0926411 1.98372 -8.71947 
0 0 0 1 


real	0m3.599s
user	0m5.552s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.315449
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0267
Level     0,  Iter     1:    Energy =   0.0277
Level     0,  Iter     2:    Energy =   0.0286
Level     0,  Iter     3:    Energy =   0.0292
Level     0,  Iter     4:    Energy =   0.0299
Level     0,  Iter     5:    Energy =   0.0302
Level     0,  Iter     6:    Energy =   0.0305
Level     0,  Iter     7:    Energy =   0.0306
Level     0,  Iter     8:    Energy =   0.0309
Level     0,  Iter     9:    Energy =   0.0310
Level     0,  Iter    10:    Energy =   0.0313
Level     0,  Iter    11:    Energy =   0.0315
Level     0,  Iter    12:    Energy =   0.0317
Level     0,  Iter    13:    Energy =   0.0319
Level     0,  Iter    14:    Energy =   0.0321
Level     0,  Iter    15:    Energy =   0.0322
Level     0,  Iter    16:    Energy =   0.0324
Level     0,  Iter    17:    Energy =   0.0325
Level     0,  Iter    18:    Energy =   0.0325
Level     0,  Iter    19:    Energy =   0.0326
Level     0,  Iter    20:    Energy =   0.0327
Level     0,  Iter    21:    Energy =   0.0328
Level     0,  Iter    22:    Energy =   0.0329
Level     0,  Iter    23:    Energy =   0.0329
Level     0,  Iter    24:    Energy =   0.0328
Level     0,  Iter    25:    Energy =   0.0329
Level     0,  Iter    26:    Energy =   0.0330
Level     0,  Iter    27:    Energy =   0.0330
Level     0,  Iter    28:    Energy =   0.0332
Level     0,  Iter    29:    Energy =   0.0331
Level     0,  Iter    30:    Energy =   0.0331
Level     0,  Iter    31:    Energy =   0.0332
Level     0,  Iter    32:    Energy =   0.0331
Level     0,  Iter    33:    Energy =   0.0331
Level     0,  Iter    34:    Energy =   0.0332
Level     0,  Iter    35:    Energy =   0.0332
Level     0,  Iter    36:    Energy =   0.0332
Level     0,  Iter    37:    Energy =   0.0331
Level     0,  Iter    38:    Energy =   0.0332
Level     0,  Iter    39:    Energy =   0.0332
Level     0,  Iter    40:    Energy =   0.0332
Level     0,  Iter    41:    Energy =   0.0333
Level     0,  Iter    42:    Energy =   0.0333
Level     0,  Iter    43:    Energy =   0.0332
Level     0,  Iter    44:    Energy =   0.0333
Level     0,  Iter    45:    Energy =   0.0333
Level     0,  Iter    46:    Energy =   0.0333
Level     0,  Iter    47:    Energy =   0.0333
Level     0,  Iter    48:    Energy =   0.0333
Level     0,  Iter    49:    Energy =   0.0334
Level     0,  Iter    50:    Energy =   0.0333
Level     0,  Iter    51:    Energy =   0.0333
Level     0,  Iter    52:    Energy =   0.0332
Level     0,  Iter    53:    Energy =   0.0332
Level     0,  Iter    54:    Energy =   0.0332
Level     0,  Iter    55:    Energy =   0.0332
Level     0,  Iter    56:    Energy =   0.0332
Level     0,  Iter    57:    Energy =   0.0332
Level     0,  Iter    58:    Energy =   0.0332
Level     0,  Iter    59:    Energy =   0.0332
END OF LEVEL     0    DetJac Range:   0.1462  to   1.9763 
  Avg. Gradient Time  : 0.0066s  33.33% 
  Avg. Gaussian Time  : 0.0096s  48.50% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0173
Level     1,  Iter     1:    Energy =   0.0181
Level     1,  Iter     2:    Energy =   0.0187
Level     1,  Iter     3:    Energy =   0.0192
Level     1,  Iter     4:    Energy =   0.0196
Level     1,  Iter     5:    Energy =   0.0201
Level     1,  Iter     6:    Energy =   0.0207
Level     1,  Iter     7:    Energy =   0.0213
Level     1,  Iter     8:    Energy =   0.0220
Level     1,  Iter     9:    Energy =   0.0227
Level     1,  Iter    10:    Energy =   0.0232
Level     1,  Iter    11:    Energy =   0.0237
Level     1,  Iter    12:    Energy =   0.0243
Level     1,  Iter    13:    Energy =   0.0248
Level     1,  Iter    14:    Energy =   0.0252
Level     1,  Iter    15:    Energy =   0.0255
Level     1,  Iter    16:    Energy =   0.0258
Level     1,  Iter    17:    Energy =   0.0261
Level     1,  Iter    18:    Energy =   0.0264
Level     1,  Iter    19:    Energy =   0.0267
Level     1,  Iter    20:    Energy =   0.0269
Level     1,  Iter    21:    Energy =   0.0271
Level     1,  Iter    22:    Energy =   0.0273
Level     1,  Iter    23:    Energy =   0.0275
Level     1,  Iter    24:    Energy =   0.0277
Level     1,  Iter    25:    Energy =   0.0278
Level     1,  Iter    26:    Energy =   0.0279
Level     1,  Iter    27:    Energy =   0.0281
Level     1,  Iter    28:    Energy =   0.0282
Level     1,  Iter    29:    Energy =   0.0284
Level     1,  Iter    30:    Energy =   0.0286
Level     1,  Iter    31:    Energy =   0.0287
Level     1,  Iter    32:    Energy =   0.0289
Level     1,  Iter    33:    Energy =   0.0290
Level     1,  Iter    34:    Energy =   0.0292
Level     1,  Iter    35:    Energy =   0.0293
Level     1,  Iter    36:    Energy =   0.0295
Level     1,  Iter    37:    Energy =   0.0295
Level     1,  Iter    38:    Energy =   0.0298
Level     1,  Iter    39:    Energy =   0.0297
Level     1,  Iter    40:    Energy =   0.0300
Level     1,  Iter    41:    Energy =   0.0299
Level     1,  Iter    42:    Energy =   0.0302
Level     1,  Iter    43:    Energy =   0.0301
Level     1,  Iter    44:    Energy =   0.0303
Level     1,  Iter    45:    Energy =   0.0302
Level     1,  Iter    46:    Energy =   0.0305
Level     1,  Iter    47:    Energy =   0.0304
Level     1,  Iter    48:    Energy =   0.0306
Level     1,  Iter    49:    Energy =   0.0304
Level     1,  Iter    50:    Energy =   0.0307
Level     1,  Iter    51:    Energy =   0.0306
Level     1,  Iter    52:    Energy =   0.0308
Level     1,  Iter    53:    Energy =   0.0307
Level     1,  Iter    54:    Energy =   0.0309
Level     1,  Iter    55:    Energy =   0.0307
Level     1,  Iter    56:    Energy =   0.0309
Level     1,  Iter    57:    Energy =   0.0308
Level     1,  Iter    58:    Energy =   0.0311
Level     1,  Iter    59:    Energy =   0.0308
END OF LEVEL     1    DetJac Range:   0.0465  to   2.7325 
  Avg. Gradient Time  : 0.0281s  34.71% 
  Avg. Gaussian Time  : 0.0417s  51.50% 
  Avg. Iteration Time : 0.0809s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0131
Level     2,  Iter     1:    Energy =   0.0137
Level     2,  Iter     2:    Energy =   0.0142
Level     2,  Iter     3:    Energy =   0.0148
Level     2,  Iter     4:    Energy =   0.0153
Level     2,  Iter     5:    Energy =   0.0158
Level     2,  Iter     6:    Energy =   0.0162
Level     2,  Iter     7:    Energy =   0.0166
Level     2,  Iter     8:    Energy =   0.0169
Level     2,  Iter     9:    Energy =   0.0173
Level     2,  Iter    10:    Energy =   0.0174
Level     2,  Iter    11:    Energy =   0.0176
Level     2,  Iter    12:    Energy =   0.0178
Level     2,  Iter    13:    Energy =   0.0180
Level     2,  Iter    14:    Energy =   0.0181
Level     2,  Iter    15:    Energy =   0.0183
Level     2,  Iter    16:    Energy =   0.0184
Level     2,  Iter    17:    Energy =   0.0185
Level     2,  Iter    18:    Energy =   0.0185
Level     2,  Iter    19:    Energy =   0.0186
END OF LEVEL     2    DetJac Range:   0.0433  to   2.5542 
  Avg. Gradient Time  : 0.1795s  32.70% 
  Avg. Gaussian Time  : 0.2954s  53.80% 
  Avg. Iteration Time : 0.5491s 

real	0m19.683s
user	0m34.268s
sys	0m2.116s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.414286 0.418571
+ echo 'CHUNK 0.414286 0.418571 1'
CHUNK 0.414286 0.418571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.414286 0.418571 1
====================================
         PROGRESS: 0.414286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 577.074   GNORM= 267.418
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       333.034     194.674       0.004
   2    3       -59.881     205.674       1.000
   3    4      -288.729      89.216       1.000
   4    6      -560.170      53.615       5.000
   5    7      -594.794      29.675       1.000
   6   10      -717.350      62.588       2.450
   7   12      -725.242      79.133       0.096
   8   13      -765.054     105.114       1.000
   9   14      -793.805     141.809       1.000
  10   15      -861.008      66.244       1.000
  11   16      -949.207     104.852       1.000
  12   18     -1017.022     129.814       0.396
  13   19     -1105.542     119.910       1.000
  14   20     -1151.160     138.699       1.000
  15   24     -1151.349      41.701       0.011
  16   25     -1169.132      35.570       1.000
  17   28     -1180.332      70.481       2.204
  18   29     -1189.083      42.795       1.000
  19   31     -1219.065      44.549       5.000
  20   32     -1249.303      43.826       1.000
  21   34     -1259.151      71.396       0.089
  22   35     -1268.845      53.907       1.000
  23   38     -1317.132      68.846       2.562
  24   40     -1331.351      28.632       0.364
  25   41     -1334.978      29.406       1.000
  26   42     -1336.437      13.576       1.000
  27   43     -1337.788      12.538       1.000
  28   44     -1338.198      36.513       1.000
  29   45     -1340.317      18.176       1.000
  30   46     -1342.801      20.580       1.000
  31   47     -1345.995      16.184       1.000
  32   48     -1346.823      36.150       1.000
  33   50     -1349.118      38.677       0.479
  34   52     -1352.218      34.389       0.492
  35   55     -1362.269      18.690       2.639
  36   57     -1363.153      30.363       0.109
  37   58     -1365.447      21.938       1.000
  38   59     -1367.526      10.452       1.000
  39   60     -1368.034      14.116       1.000
  40   61     -1368.894       8.616       1.000
Final RAS Transform: 
0.799675 0.259146 0.250986 -1.26022 
0.562345 1.01458 0.273586 8.73925 
-0.245418 -0.146153 0.584185 -11.3912 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -613.73   GNORM= 19.3026
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   12      -616.204      42.228       0.052
   2   13      -623.712      52.571       1.000
   3   16      -624.345      28.145       0.030
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.802592 0.259412 0.247849 -1.36067 
0.568207 1.02333 0.277267 9.16905 
-0.251678 -0.147655 0.592464 -11.2896 
0 0 0 1 

Final RAS Transform: 
0.802592 0.259412 0.247849 -1.36067 
0.568207 1.02333 0.277267 9.16905 
-0.251678 -0.147655 0.592464 -11.2896 
0 0 0 1 


real	0m4.417s
user	0m6.980s
sys	0m0.596s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.435268
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0336
Level     0,  Iter     1:    Energy =   0.0368
Level     0,  Iter     2:    Energy =   0.0406
Level     0,  Iter     3:    Energy =   0.0440
Level     0,  Iter     4:    Energy =   0.0468
Level     0,  Iter     5:    Energy =   0.0489
Level     0,  Iter     6:    Energy =   0.0505
Level     0,  Iter     7:    Energy =   0.0513
Level     0,  Iter     8:    Energy =   0.0521
Level     0,  Iter     9:    Energy =   0.0526
Level     0,  Iter    10:    Energy =   0.0532
Level     0,  Iter    11:    Energy =   0.0537
Level     0,  Iter    12:    Energy =   0.0542
Level     0,  Iter    13:    Energy =   0.0546
Level     0,  Iter    14:    Energy =   0.0550
Level     0,  Iter    15:    Energy =   0.0554
Level     0,  Iter    16:    Energy =   0.0557
Level     0,  Iter    17:    Energy =   0.0559
Level     0,  Iter    18:    Energy =   0.0561
Level     0,  Iter    19:    Energy =   0.0564
Level     0,  Iter    20:    Energy =   0.0565
Level     0,  Iter    21:    Energy =   0.0566
Level     0,  Iter    22:    Energy =   0.0568
Level     0,  Iter    23:    Energy =   0.0569
Level     0,  Iter    24:    Energy =   0.0570
Level     0,  Iter    25:    Energy =   0.0571
Level     0,  Iter    26:    Energy =   0.0572
Level     0,  Iter    27:    Energy =   0.0572
Level     0,  Iter    28:    Energy =   0.0573
Level     0,  Iter    29:    Energy =   0.0574
Level     0,  Iter    30:    Energy =   0.0575
Level     0,  Iter    31:    Energy =   0.0575
Level     0,  Iter    32:    Energy =   0.0576
Level     0,  Iter    33:    Energy =   0.0577
Level     0,  Iter    34:    Energy =   0.0577
Level     0,  Iter    35:    Energy =   0.0578
Level     0,  Iter    36:    Energy =   0.0579
Level     0,  Iter    37:    Energy =   0.0580
Level     0,  Iter    38:    Energy =   0.0580
Level     0,  Iter    39:    Energy =   0.0581
Level     0,  Iter    40:    Energy =   0.0582
Level     0,  Iter    41:    Energy =   0.0582
Level     0,  Iter    42:    Energy =   0.0583
Level     0,  Iter    43:    Energy =   0.0583
Level     0,  Iter    44:    Energy =   0.0584
Level     0,  Iter    45:    Energy =   0.0584
Level     0,  Iter    46:    Energy =   0.0585
Level     0,  Iter    47:    Energy =   0.0585
Level     0,  Iter    48:    Energy =   0.0585
Level     0,  Iter    49:    Energy =   0.0586
Level     0,  Iter    50:    Energy =   0.0587
Level     0,  Iter    51:    Energy =   0.0587
Level     0,  Iter    52:    Energy =   0.0587
Level     0,  Iter    53:    Energy =   0.0587
Level     0,  Iter    54:    Energy =   0.0587
Level     0,  Iter    55:    Energy =   0.0588
Level     0,  Iter    56:    Energy =   0.0588
Level     0,  Iter    57:    Energy =   0.0589
Level     0,  Iter    58:    Energy =   0.0588
Level     0,  Iter    59:    Energy =   0.0589
END OF LEVEL     0    DetJac Range:   0.0763  to   2.2968 
  Avg. Gradient Time  : 0.0065s  33.57% 
  Avg. Gaussian Time  : 0.0093s  48.11% 
  Avg. Iteration Time : 0.0192s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0317
Level     1,  Iter     1:    Energy =   0.0334
Level     1,  Iter     2:    Energy =   0.0350
Level     1,  Iter     3:    Energy =   0.0364
Level     1,  Iter     4:    Energy =   0.0373
Level     1,  Iter     5:    Energy =   0.0382
Level     1,  Iter     6:    Energy =   0.0389
Level     1,  Iter     7:    Energy =   0.0395
Level     1,  Iter     8:    Energy =   0.0400
Level     1,  Iter     9:    Energy =   0.0404
Level     1,  Iter    10:    Energy =   0.0408
Level     1,  Iter    11:    Energy =   0.0411
Level     1,  Iter    12:    Energy =   0.0415
Level     1,  Iter    13:    Energy =   0.0418
Level     1,  Iter    14:    Energy =   0.0421
Level     1,  Iter    15:    Energy =   0.0423
Level     1,  Iter    16:    Energy =   0.0425
Level     1,  Iter    17:    Energy =   0.0426
Level     1,  Iter    18:    Energy =   0.0428
Level     1,  Iter    19:    Energy =   0.0429
Level     1,  Iter    20:    Energy =   0.0430
Level     1,  Iter    21:    Energy =   0.0431
Level     1,  Iter    22:    Energy =   0.0432
Level     1,  Iter    23:    Energy =   0.0433
Level     1,  Iter    24:    Energy =   0.0433
Level     1,  Iter    25:    Energy =   0.0434
Level     1,  Iter    26:    Energy =   0.0434
Level     1,  Iter    27:    Energy =   0.0435
Level     1,  Iter    28:    Energy =   0.0435
Level     1,  Iter    29:    Energy =   0.0436
Level     1,  Iter    30:    Energy =   0.0436
Level     1,  Iter    31:    Energy =   0.0437
Level     1,  Iter    32:    Energy =   0.0437
Level     1,  Iter    33:    Energy =   0.0438
Level     1,  Iter    34:    Energy =   0.0438
Level     1,  Iter    35:    Energy =   0.0439
Level     1,  Iter    36:    Energy =   0.0439
Level     1,  Iter    37:    Energy =   0.0440
Level     1,  Iter    38:    Energy =   0.0441
Level     1,  Iter    39:    Energy =   0.0441
Level     1,  Iter    40:    Energy =   0.0441
Level     1,  Iter    41:    Energy =   0.0442
Level     1,  Iter    42:    Energy =   0.0442
Level     1,  Iter    43:    Energy =   0.0442
Level     1,  Iter    44:    Energy =   0.0443
Level     1,  Iter    45:    Energy =   0.0443
Level     1,  Iter    46:    Energy =   0.0443
Level     1,  Iter    47:    Energy =   0.0443
Level     1,  Iter    48:    Energy =   0.0443
Level     1,  Iter    49:    Energy =   0.0444
Level     1,  Iter    50:    Energy =   0.0444
Level     1,  Iter    51:    Energy =   0.0445
Level     1,  Iter    52:    Energy =   0.0445
Level     1,  Iter    53:    Energy =   0.0445
Level     1,  Iter    54:    Energy =   0.0446
Level     1,  Iter    55:    Energy =   0.0446
Level     1,  Iter    56:    Energy =   0.0446
Level     1,  Iter    57:    Energy =   0.0446
Level     1,  Iter    58:    Energy =   0.0446
Level     1,  Iter    59:    Energy =   0.0446
END OF LEVEL     1    DetJac Range:   0.0293  to   3.1439 
  Avg. Gradient Time  : 0.0279s  34.47% 
  Avg. Gaussian Time  : 0.0418s  51.65% 
  Avg. Iteration Time : 0.0810s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0196
Level     2,  Iter     1:    Energy =   0.0196
Level     2,  Iter     2:    Energy =   0.0205
Level     2,  Iter     3:    Energy =   0.0203
Level     2,  Iter     4:    Energy =   0.0204
Level     2,  Iter     5:    Energy =   0.0203
Level     2,  Iter     6:    Energy =   0.0210
big value: -31695.730635
big value: 52056.705267
big value: -34164.149195
Level     2,  Iter     7:    Energy =   0.0216
Level     2,  Iter     8:    Energy =   0.0212
Level     2,  Iter     9:    Energy =   0.0211
big value: 1648.863720
big value: 3895.633724
big value: -4724.067206
Level     2,  Iter    10:    Energy =   0.0212
Level     2,  Iter    11:    Energy =   0.0208
Level     2,  Iter    12:    Energy =   0.0215
big value: -1035.460103
Level     2,  Iter    13:    Energy =   0.0213
Level     2,  Iter    14:    Energy =   0.0209
Level     2,  Iter    15:    Energy =   0.0210
Level     2,  Iter    16:    Energy =   0.0211
big value: 1259.853009
big value: 2767.143101
big value: 1368.477340
Level     2,  Iter    17:    Energy =   0.0217
Level     2,  Iter    18:    Energy =   0.0212
Level     2,  Iter    19:    Energy =   0.0209
END OF LEVEL     2    DetJac Range:   0.0472  to   2.6216 
  Avg. Gradient Time  : 0.1808s  32.58% 
  Avg. Gaussian Time  : 0.2990s  53.87% 
  Avg. Iteration Time : 0.5551s 

real	0m19.779s
user	0m34.536s
sys	0m2.052s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.418571 0.422857
+ echo 'CHUNK 0.418571 0.422857 1'
CHUNK 0.418571 0.422857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.418571 0.422857 1
====================================
         PROGRESS: 0.418571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.701
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 427.735   GNORM= 296.112
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       153.101     245.154       0.003
   2    3      -221.822     246.520       1.000
   3    5      -384.217     218.361       0.505
   4    7      -619.901      67.293       0.351
   5    8      -645.031      65.928       1.000
   6   11      -705.871      91.519       1.632
   7   12      -740.333      40.842       1.000
   8   14      -771.615     103.735       5.000
   9   15      -846.278      68.982       1.000
  10   18      -882.762      67.859       0.075
  11   21      -885.930     155.544       0.522
  12   22      -982.132     109.103       1.000
  13   23     -1074.329      94.903       1.000
  14   25     -1088.188      80.124       0.204
  15   26     -1138.937      37.958       1.000
  16   27     -1157.028      83.805       1.000
  17   28     -1182.765      36.966       1.000
  18   29     -1216.187      32.162       1.000
  19   32     -1222.151      55.634       0.146
  20   33     -1245.199      38.381       1.000
  21   34     -1251.967     447.830       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.439773 0.318142 -0.0918473 4.71826 
0.405261 1.06984 0.371344 14.8681 
-0.374426 -0.197581 0.772193 -4.04956 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -726.795   GNORM= 198.654
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -727.639     153.576       0.005
   2    4      -735.321      34.814       0.450
   3    6      -745.256      48.715       5.000
   4    7      -745.491      53.953       1.000
   5   11      -745.575     215.768       0.005
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.438534 0.317315 -0.0899673 4.61211 
0.400135 1.06503 0.377716 14.3657 
-0.372732 -0.194249 0.770563 -4.15008 
0 0 0 1 

Final RAS Transform: 
0.438534 0.317315 -0.0899673 4.61211 
0.400135 1.06503 0.377716 14.3657 
-0.372732 -0.194249 0.770563 -4.15008 
0 0 0 1 


real	0m4.096s
user	0m6.488s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.521316
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0345
Level     0,  Iter     1:    Energy =   0.0386
Level     0,  Iter     2:    Energy =   0.0431
Level     0,  Iter     3:    Energy =   0.0469
Level     0,  Iter     4:    Energy =   0.0502
Level     0,  Iter     5:    Energy =   0.0521
Level     0,  Iter     6:    Energy =   0.0536
Level     0,  Iter     7:    Energy =   0.0547
Level     0,  Iter     8:    Energy =   0.0555
Level     0,  Iter     9:    Energy =   0.0561
Level     0,  Iter    10:    Energy =   0.0566
Level     0,  Iter    11:    Energy =   0.0570
Level     0,  Iter    12:    Energy =   0.0575
Level     0,  Iter    13:    Energy =   0.0579
Level     0,  Iter    14:    Energy =   0.0583
Level     0,  Iter    15:    Energy =   0.0586
Level     0,  Iter    16:    Energy =   0.0589
Level     0,  Iter    17:    Energy =   0.0592
Level     0,  Iter    18:    Energy =   0.0595
Level     0,  Iter    19:    Energy =   0.0597
Level     0,  Iter    20:    Energy =   0.0599
Level     0,  Iter    21:    Energy =   0.0601
Level     0,  Iter    22:    Energy =   0.0603
Level     0,  Iter    23:    Energy =   0.0605
Level     0,  Iter    24:    Energy =   0.0607
Level     0,  Iter    25:    Energy =   0.0608
Level     0,  Iter    26:    Energy =   0.0610
Level     0,  Iter    27:    Energy =   0.0611
Level     0,  Iter    28:    Energy =   0.0612
Level     0,  Iter    29:    Energy =   0.0613
Level     0,  Iter    30:    Energy =   0.0614
Level     0,  Iter    31:    Energy =   0.0615
Level     0,  Iter    32:    Energy =   0.0616
Level     0,  Iter    33:    Energy =   0.0616
Level     0,  Iter    34:    Energy =   0.0617
Level     0,  Iter    35:    Energy =   0.0618
Level     0,  Iter    36:    Energy =   0.0619
Level     0,  Iter    37:    Energy =   0.0620
Level     0,  Iter    38:    Energy =   0.0620
Level     0,  Iter    39:    Energy =   0.0621
Level     0,  Iter    40:    Energy =   0.0622
Level     0,  Iter    41:    Energy =   0.0623
Level     0,  Iter    42:    Energy =   0.0624
Level     0,  Iter    43:    Energy =   0.0624
Level     0,  Iter    44:    Energy =   0.0626
Level     0,  Iter    45:    Energy =   0.0626
Level     0,  Iter    46:    Energy =   0.0627
Level     0,  Iter    47:    Energy =   0.0627
Level     0,  Iter    48:    Energy =   0.0628
Level     0,  Iter    49:    Energy =   0.0628
Level     0,  Iter    50:    Energy =   0.0629
Level     0,  Iter    51:    Energy =   0.0628
Level     0,  Iter    52:    Energy =   0.0630
Level     0,  Iter    53:    Energy =   0.0629
Level     0,  Iter    54:    Energy =   0.0632
Level     0,  Iter    55:    Energy =   0.0630
Level     0,  Iter    56:    Energy =   0.0632
Level     0,  Iter    57:    Energy =   0.0629
Level     0,  Iter    58:    Energy =   0.0631
Level     0,  Iter    59:    Energy =   0.0630
END OF LEVEL     0    DetJac Range:   0.0414  to   2.2009 
  Avg. Gradient Time  : 0.0066s  33.62% 
  Avg. Gaussian Time  : 0.0094s  47.90% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0388
Level     1,  Iter     1:    Energy =   0.0411
Level     1,  Iter     2:    Energy =   0.0430
Level     1,  Iter     3:    Energy =   0.0441
Level     1,  Iter     4:    Energy =   0.0451
Level     1,  Iter     5:    Energy =   0.0458
Level     1,  Iter     6:    Energy =   0.0466
Level     1,  Iter     7:    Energy =   0.0474
Level     1,  Iter     8:    Energy =   0.0481
Level     1,  Iter     9:    Energy =   0.0487
Level     1,  Iter    10:    Energy =   0.0493
Level     1,  Iter    11:    Energy =   0.0498
Level     1,  Iter    12:    Energy =   0.0503
Level     1,  Iter    13:    Energy =   0.0507
Level     1,  Iter    14:    Energy =   0.0511
Level     1,  Iter    15:    Energy =   0.0515
Level     1,  Iter    16:    Energy =   0.0518
Level     1,  Iter    17:    Energy =   0.0521
Level     1,  Iter    18:    Energy =   0.0524
Level     1,  Iter    19:    Energy =   0.0528
Level     1,  Iter    20:    Energy =   0.0531
Level     1,  Iter    21:    Energy =   0.0534
Level     1,  Iter    22:    Energy =   0.0537
Level     1,  Iter    23:    Energy =   0.0539
Level     1,  Iter    24:    Energy =   0.0541
Level     1,  Iter    25:    Energy =   0.0543
Level     1,  Iter    26:    Energy =   0.0546
Level     1,  Iter    27:    Energy =   0.0549
Level     1,  Iter    28:    Energy =   0.0552
Level     1,  Iter    29:    Energy =   0.0556
Level     1,  Iter    30:    Energy =   0.0559
Level     1,  Iter    31:    Energy =   0.0562
Level     1,  Iter    32:    Energy =   0.0565
Level     1,  Iter    33:    Energy =   0.0567
Level     1,  Iter    34:    Energy =   0.0570
Level     1,  Iter    35:    Energy =   0.0573
Level     1,  Iter    36:    Energy =   0.0575
Level     1,  Iter    37:    Energy =   0.0577
Level     1,  Iter    38:    Energy =   0.0579
Level     1,  Iter    39:    Energy =   0.0581
Level     1,  Iter    40:    Energy =   0.0583
Level     1,  Iter    41:    Energy =   0.0584
Level     1,  Iter    42:    Energy =   0.0585
Level     1,  Iter    43:    Energy =   0.0587
Level     1,  Iter    44:    Energy =   0.0588
Level     1,  Iter    45:    Energy =   0.0589
Level     1,  Iter    46:    Energy =   0.0590
Level     1,  Iter    47:    Energy =   0.0591
Level     1,  Iter    48:    Energy =   0.0592
Level     1,  Iter    49:    Energy =   0.0593
Level     1,  Iter    50:    Energy =   0.0593
Level     1,  Iter    51:    Energy =   0.0593
Level     1,  Iter    52:    Energy =   0.0594
Level     1,  Iter    53:    Energy =   0.0594
Level     1,  Iter    54:    Energy =   0.0594
Level     1,  Iter    55:    Energy =   0.0595
Level     1,  Iter    56:    Energy =   0.0595
Level     1,  Iter    57:    Energy =   0.0595
Level     1,  Iter    58:    Energy =   0.0596
Level     1,  Iter    59:    Energy =   0.0597
END OF LEVEL     1    DetJac Range:   0.0231  to   3.0076 
  Avg. Gradient Time  : 0.0278s  34.34% 
  Avg. Gaussian Time  : 0.0419s  51.73% 
  Avg. Iteration Time : 0.0809s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0277
Level     2,  Iter     1:    Energy =   0.0289
Level     2,  Iter     2:    Energy =   0.0299
Level     2,  Iter     3:    Energy =   0.0308
Level     2,  Iter     4:    Energy =   0.0317
Level     2,  Iter     5:    Energy =   0.0323
Level     2,  Iter     6:    Energy =   0.0328
Level     2,  Iter     7:    Energy =   0.0332
Level     2,  Iter     8:    Energy =   0.0334
Level     2,  Iter     9:    Energy =   0.0337
Level     2,  Iter    10:    Energy =   0.0338
Level     2,  Iter    11:    Energy =   0.0339
Level     2,  Iter    12:    Energy =   0.0340
Level     2,  Iter    13:    Energy =   0.0341
Level     2,  Iter    14:    Energy =   0.0342
Level     2,  Iter    15:    Energy =   0.0343
Level     2,  Iter    16:    Energy =   0.0343
Level     2,  Iter    17:    Energy =   0.0344
Level     2,  Iter    18:    Energy =   0.0344
Level     2,  Iter    19:    Energy =   0.0345
END OF LEVEL     2    DetJac Range:   0.0161  to   3.4630 
  Avg. Gradient Time  : 0.1799s  32.59% 
  Avg. Gaussian Time  : 0.2975s  53.90% 
  Avg. Iteration Time : 0.5519s 

real	0m19.835s
user	0m34.436s
sys	0m2.156s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.422857 0.427143
+ echo 'CHUNK 0.422857 0.427143 1'
CHUNK 0.422857 0.427143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.422857 0.427143 1
====================================
         PROGRESS: 0.422857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.632
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 412.669   GNORM= 305.489
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       192.066     138.168       0.003
   2    3        79.765     103.452       1.000
   3    4      -189.566     177.307       1.000
   4    7      -254.013      90.607       0.520
   5    8      -308.127      83.385       1.000
   6   10      -484.024      86.965       0.243
   7   11      -688.259      93.026       1.000
   8   14      -688.718      79.239       0.030
   9   15      -752.012      47.920       1.000
  10   16      -854.612      61.458       1.000
  11   18      -867.393      57.918       0.183
  12   19      -986.019     102.915       1.000
  13   21     -1184.452     102.064       0.193
  14   23     -1225.790     122.572       0.186
  15   24     -1292.306      53.666       1.000
  16   25     -1313.096     114.694       1.000
  17   26     -1329.984      38.140       1.000
  18   27     -1351.069      58.263       1.000
  19   29     -1390.647      55.468       0.337
  20   30     -1434.627      36.645       1.000
  21   31     -1486.172      58.334       1.000
  22   32     -1537.753     115.761       1.000
  23   33     -1563.545      45.016       1.000
  24   34     -1569.477      79.829       1.000
  25   35     -1580.561      74.809       1.000
  26   36     -1600.260      75.280       1.000
  27   37     -1615.768      44.014       1.000
  28   38     -1624.174      22.192       1.000
  29   40     -1627.530      35.572       0.260
  30   41     -1635.460      26.737       1.000
  31   43     -1636.025      13.286       0.137
  32   44     -1636.557      15.398       1.000
  33   45     -1637.516      17.583       1.000
  34   46     -1638.954      22.118       1.000
  35   47     -1640.618      18.317       1.000
  36   49     -1641.287      16.716       0.318
  37   50     -1641.604      17.710       1.000
  38   51     -1641.929      10.309       1.000
  39   52     -1642.198      10.565       1.000
  40   54     -1642.279      11.635       0.477
  41   55     -1642.382      13.889       1.000
  42   56     -1642.503      14.375       1.000
  43   58     -1642.854      23.231       5.000
  44   59     -1643.708      17.681       1.000
  45   61     -1643.770       8.938       0.160
Final RAS Transform: 
0.461851 0.32476 -0.362342 1.62021 
0.375245 0.908583 0.280286 14.6115 
-0.210641 0.00663263 0.891626 -9.51739 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -940.888   GNORM= 39.3775
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -945.506      19.347       0.005
   2    6      -947.918      16.204       1.765
   3    7      -973.881      47.337       1.000
   4   11      -974.336      36.810       0.038
   5   12      -976.141      41.552       1.000
   6   13      -977.162      24.072       1.000
   7   14      -978.236      33.481       1.000
   8   15      -979.617      50.974       1.000
   9   16      -983.850      47.580       1.000
  10   21      -984.443     431.721       0.073
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.460192 0.284217 -0.342441 3.03619 
0.379843 0.909139 0.330115 15.6762 
-0.207774 0.0172479 0.887462 -10.032 
0 0 0 1 

Final RAS Transform: 
0.460192 0.284217 -0.342441 3.03619 
0.379843 0.909139 0.330115 15.6762 
-0.207774 0.0172479 0.887462 -10.032 
0 0 0 1 


real	0m4.920s
user	0m8.032s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.361022
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0447
Level     0,  Iter     1:    Energy =   0.0470
Level     0,  Iter     2:    Energy =   0.0495
Level     0,  Iter     3:    Energy =   0.0513
Level     0,  Iter     4:    Energy =   0.0528
Level     0,  Iter     5:    Energy =   0.0541
Level     0,  Iter     6:    Energy =   0.0550
Level     0,  Iter     7:    Energy =   0.0558
Level     0,  Iter     8:    Energy =   0.0564
Level     0,  Iter     9:    Energy =   0.0569
Level     0,  Iter    10:    Energy =   0.0574
Level     0,  Iter    11:    Energy =   0.0578
Level     0,  Iter    12:    Energy =   0.0581
Level     0,  Iter    13:    Energy =   0.0584
Level     0,  Iter    14:    Energy =   0.0588
Level     0,  Iter    15:    Energy =   0.0592
Level     0,  Iter    16:    Energy =   0.0595
Level     0,  Iter    17:    Energy =   0.0598
Level     0,  Iter    18:    Energy =   0.0598
Level     0,  Iter    19:    Energy =   0.0601
Level     0,  Iter    20:    Energy =   0.0601
Level     0,  Iter    21:    Energy =   0.0603
Level     0,  Iter    22:    Energy =   0.0603
Level     0,  Iter    23:    Energy =   0.0605
Level     0,  Iter    24:    Energy =   0.0605
Level     0,  Iter    25:    Energy =   0.0606
Level     0,  Iter    26:    Energy =   0.0607
Level     0,  Iter    27:    Energy =   0.0609
Level     0,  Iter    28:    Energy =   0.0610
Level     0,  Iter    29:    Energy =   0.0611
Level     0,  Iter    30:    Energy =   0.0612
Level     0,  Iter    31:    Energy =   0.0614
Level     0,  Iter    32:    Energy =   0.0616
Level     0,  Iter    33:    Energy =   0.0617
Level     0,  Iter    34:    Energy =   0.0617
Level     0,  Iter    35:    Energy =   0.0618
Level     0,  Iter    36:    Energy =   0.0619
Level     0,  Iter    37:    Energy =   0.0620
Level     0,  Iter    38:    Energy =   0.0621
Level     0,  Iter    39:    Energy =   0.0623
Level     0,  Iter    40:    Energy =   0.0624
Level     0,  Iter    41:    Energy =   0.0624
Level     0,  Iter    42:    Energy =   0.0625
Level     0,  Iter    43:    Energy =   0.0626
Level     0,  Iter    44:    Energy =   0.0626
Level     0,  Iter    45:    Energy =   0.0627
Level     0,  Iter    46:    Energy =   0.0628
Level     0,  Iter    47:    Energy =   0.0628
Level     0,  Iter    48:    Energy =   0.0629
Level     0,  Iter    49:    Energy =   0.0629
Level     0,  Iter    50:    Energy =   0.0629
Level     0,  Iter    51:    Energy =   0.0630
Level     0,  Iter    52:    Energy =   0.0630
Level     0,  Iter    53:    Energy =   0.0631
Level     0,  Iter    54:    Energy =   0.0631
Level     0,  Iter    55:    Energy =   0.0632
Level     0,  Iter    56:    Energy =   0.0632
Level     0,  Iter    57:    Energy =   0.0633
Level     0,  Iter    58:    Energy =   0.0634
Level     0,  Iter    59:    Energy =   0.0635
END OF LEVEL     0    DetJac Range:   0.0402  to   3.0070 
  Avg. Gradient Time  : 0.0068s  33.34% 
  Avg. Gaussian Time  : 0.0098s  47.99% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0383
Level     1,  Iter     1:    Energy =   0.0400
Level     1,  Iter     2:    Energy =   0.0415
Level     1,  Iter     3:    Energy =   0.0426
Level     1,  Iter     4:    Energy =   0.0436
Level     1,  Iter     5:    Energy =   0.0444
Level     1,  Iter     6:    Energy =   0.0452
Level     1,  Iter     7:    Energy =   0.0458
Level     1,  Iter     8:    Energy =   0.0464
Level     1,  Iter     9:    Energy =   0.0469
Level     1,  Iter    10:    Energy =   0.0474
Level     1,  Iter    11:    Energy =   0.0479
Level     1,  Iter    12:    Energy =   0.0484
Level     1,  Iter    13:    Energy =   0.0489
Level     1,  Iter    14:    Energy =   0.0493
Level     1,  Iter    15:    Energy =   0.0497
Level     1,  Iter    16:    Energy =   0.0500
Level     1,  Iter    17:    Energy =   0.0503
Level     1,  Iter    18:    Energy =   0.0507
Level     1,  Iter    19:    Energy =   0.0510
Level     1,  Iter    20:    Energy =   0.0513
Level     1,  Iter    21:    Energy =   0.0516
Level     1,  Iter    22:    Energy =   0.0519
Level     1,  Iter    23:    Energy =   0.0522
Level     1,  Iter    24:    Energy =   0.0524
Level     1,  Iter    25:    Energy =   0.0526
Level     1,  Iter    26:    Energy =   0.0528
Level     1,  Iter    27:    Energy =   0.0530
Level     1,  Iter    28:    Energy =   0.0532
Level     1,  Iter    29:    Energy =   0.0534
Level     1,  Iter    30:    Energy =   0.0535
Level     1,  Iter    31:    Energy =   0.0537
Level     1,  Iter    32:    Energy =   0.0539
Level     1,  Iter    33:    Energy =   0.0540
Level     1,  Iter    34:    Energy =   0.0541
Level     1,  Iter    35:    Energy =   0.0543
Level     1,  Iter    36:    Energy =   0.0544
Level     1,  Iter    37:    Energy =   0.0545
Level     1,  Iter    38:    Energy =   0.0546
Level     1,  Iter    39:    Energy =   0.0548
Level     1,  Iter    40:    Energy =   0.0549
Level     1,  Iter    41:    Energy =   0.0549
Level     1,  Iter    42:    Energy =   0.0550
Level     1,  Iter    43:    Energy =   0.0551
Level     1,  Iter    44:    Energy =   0.0552
Level     1,  Iter    45:    Energy =   0.0553
Level     1,  Iter    46:    Energy =   0.0554
Level     1,  Iter    47:    Energy =   0.0555
Level     1,  Iter    48:    Energy =   0.0555
Level     1,  Iter    49:    Energy =   0.0556
Level     1,  Iter    50:    Energy =   0.0557
Level     1,  Iter    51:    Energy =   0.0557
Level     1,  Iter    52:    Energy =   0.0558
Level     1,  Iter    53:    Energy =   0.0559
Level     1,  Iter    54:    Energy =   0.0560
Level     1,  Iter    55:    Energy =   0.0560
Level     1,  Iter    56:    Energy =   0.0561
Level     1,  Iter    57:    Energy =   0.0562
Level     1,  Iter    58:    Energy =   0.0562
Level     1,  Iter    59:    Energy =   0.0563
END OF LEVEL     1    DetJac Range:   0.0127  to   4.5274 
  Avg. Gradient Time  : 0.0293s  34.88% 
  Avg. Gaussian Time  : 0.0431s  51.34% 
  Avg. Iteration Time : 0.0839s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0259
Level     2,  Iter     1:    Energy =   0.0269
Level     2,  Iter     2:    Energy =   0.0277
Level     2,  Iter     3:    Energy =   0.0285
Level     2,  Iter     4:    Energy =   0.0293
Level     2,  Iter     5:    Energy =   0.0299
Level     2,  Iter     6:    Energy =   0.0304
Level     2,  Iter     7:    Energy =   0.0308
Level     2,  Iter     8:    Energy =   0.0312
Level     2,  Iter     9:    Energy =   0.0315
Level     2,  Iter    10:    Energy =   0.0318
Level     2,  Iter    11:    Energy =   0.0320
Level     2,  Iter    12:    Energy =   0.0323
Level     2,  Iter    13:    Energy =   0.0325
Level     2,  Iter    14:    Energy =   0.0328
Level     2,  Iter    15:    Energy =   0.0330
Level     2,  Iter    16:    Energy =   0.0332
Level     2,  Iter    17:    Energy =   0.0333
Level     2,  Iter    18:    Energy =   0.0335
Level     2,  Iter    19:    Energy =   0.0337
END OF LEVEL     2    DetJac Range:   0.0127  to   4.3906 
  Avg. Gradient Time  : 0.1854s  32.67% 
  Avg. Gaussian Time  : 0.3058s  53.87% 
  Avg. Iteration Time : 0.5676s 

real	0m20.438s
user	0m35.536s
sys	0m2.208s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.427143 0.431429
+ echo 'CHUNK 0.427143 0.431429 1'
CHUNK 0.427143 0.431429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.427143 0.431429 1
====================================
         PROGRESS: 0.427143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 418.627   GNORM= 281.928
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       156.282     229.045       0.004
   2    3      -390.912     142.104       1.000
   3    4      -428.921      73.333       1.000
   4    5      -501.335      41.687       1.000
   5    6      -522.001      78.625       1.000
   6    8      -690.299     158.318       0.429
   7    9      -933.978      56.321       1.000
   8   11      -957.348      53.111       0.344
   9   12     -1007.189      41.617       1.000
  10   13     -1047.013      55.573       1.000
  11   14     -1077.052      40.744       1.000
  12   16     -1119.112      76.786       0.361
  13   17     -1173.319      71.025       1.000
  14   19     -1184.682      51.399       0.127
  15   20     -1205.049      39.448       1.000
  16   21     -1212.309      70.190       1.000
  17   22     -1223.555      21.797       1.000
  18   23     -1226.759      25.711       1.000
  19   25     -1230.935      19.225       0.392
  20   26     -1233.051      25.551       1.000
  21   27     -1234.920      16.391       1.000
  22   28     -1236.754      22.414       1.000
  23   29     -1238.426      23.733       1.000
  24   30     -1239.781      15.777       1.000
  25   31     -1240.342      19.134       1.000
  26   32     -1241.056       9.122       1.000
  27   33     -1241.719      14.737       1.000
  28   35     -1248.704      36.995       5.000
  29   36     -1254.569      30.155       1.000
  30   38     -1264.949      35.272       0.318
  31   39     -1290.227      61.995       1.000
  32   43     -1293.517      65.430       0.024
  33   44     -1299.767      63.300       1.000
  34   45     -1321.950      50.504       1.000
  35   47     -1333.159      41.420       0.277
  36   49     -1337.735      42.237       0.237
  37   50     -1339.017      75.651       1.000
  38   51     -1345.928      34.642       1.000
  39   52     -1351.092      26.739       1.000
  40   53     -1367.551      39.868       1.000
  41   54     -1384.218      90.023       1.000
  42   55     -1405.342      53.282       1.000
  43   56     -1413.324      26.870       1.000
  44   57     -1417.162      28.902       1.000
  45   59     -1420.337      35.808       0.282
  46   60     -1423.804      35.009       1.000
  47   61     -1427.096      29.305       1.000
Final RAS Transform: 
0.673163 0.40315 0.421798 3.48565 
0.422017 0.767662 0.379458 14.6357 
-0.463652 -0.813526 0.232018 2.88782 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -684.165   GNORM= 72.4038
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -696.486      35.049       0.006
   2    4      -701.076      28.383       1.000
   3    6      -708.225      13.508       0.472
   4    7      -710.528      11.663       1.000
   5    8      -720.134      45.001       1.000
   6    9      -721.403      31.826       1.000
   7   10      -725.540      21.795       1.000
   8   11      -733.088      37.368       1.000
   9   14      -742.866      40.468       1.995
  10   19      -746.459      56.864       2.090
  11   20      -757.723      22.728       1.000
  12   22      -758.443      14.329       0.425
  13   23      -758.851       7.741       1.000
  14   24      -759.253       7.472       1.000
  15   26      -759.913      14.453       0.262
  16   27      -760.845      20.071       1.000
  17   28      -764.236      14.234       1.000
  18   30      -764.853      24.457       0.201
  19   31      -765.900       8.974       1.000
  20   34      -766.724       7.341       2.855
  21   36      -766.888       9.025       0.365
  22   37      -767.352       7.660       1.000
  23   38      -767.865      11.687       1.000
  24   39      -768.202       6.767       1.000
  25   41      -768.677       4.620       0.326
  26   42      -768.787       4.014       1.000
Final RAS Transform: 
0.711481 0.341346 0.364591 2.09455 
0.379492 0.782891 0.364952 15.2088 
-0.415198 -0.726417 0.303726 1.27828 
0 0 0 1 

Final RAS Transform: 
0.711481 0.341346 0.364591 2.09455 
0.379492 0.782891 0.364952 15.2088 
-0.415198 -0.726417 0.303726 1.27828 
0 0 0 1 


real	0m6.132s
user	0m10.280s
sys	0m0.644s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.535765
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0363
Level     0,  Iter     1:    Energy =   0.0404
Level     0,  Iter     2:    Energy =   0.0435
Level     0,  Iter     3:    Energy =   0.0457
Level     0,  Iter     4:    Energy =   0.0474
Level     0,  Iter     5:    Energy =   0.0485
Level     0,  Iter     6:    Energy =   0.0490
Level     0,  Iter     7:    Energy =   0.0496
Level     0,  Iter     8:    Energy =   0.0499
Level     0,  Iter     9:    Energy =   0.0502
Level     0,  Iter    10:    Energy =   0.0503
Level     0,  Iter    11:    Energy =   0.0505
Level     0,  Iter    12:    Energy =   0.0506
Level     0,  Iter    13:    Energy =   0.0508
Level     0,  Iter    14:    Energy =   0.0508
Level     0,  Iter    15:    Energy =   0.0509
Level     0,  Iter    16:    Energy =   0.0510
Level     0,  Iter    17:    Energy =   0.0511
Level     0,  Iter    18:    Energy =   0.0512
Level     0,  Iter    19:    Energy =   0.0514
Level     0,  Iter    20:    Energy =   0.0515
Level     0,  Iter    21:    Energy =   0.0518
Level     0,  Iter    22:    Energy =   0.0518
Level     0,  Iter    23:    Energy =   0.0521
Level     0,  Iter    24:    Energy =   0.0521
Level     0,  Iter    25:    Energy =   0.0524
Level     0,  Iter    26:    Energy =   0.0523
Level     0,  Iter    27:    Energy =   0.0525
Level     0,  Iter    28:    Energy =   0.0524
Level     0,  Iter    29:    Energy =   0.0526
Level     0,  Iter    30:    Energy =   0.0525
Level     0,  Iter    31:    Energy =   0.0526
Level     0,  Iter    32:    Energy =   0.0525
Level     0,  Iter    33:    Energy =   0.0526
Level     0,  Iter    34:    Energy =   0.0525
Level     0,  Iter    35:    Energy =   0.0527
Level     0,  Iter    36:    Energy =   0.0526
Level     0,  Iter    37:    Energy =   0.0528
Level     0,  Iter    38:    Energy =   0.0527
Level     0,  Iter    39:    Energy =   0.0528
Level     0,  Iter    40:    Energy =   0.0527
Level     0,  Iter    41:    Energy =   0.0529
Level     0,  Iter    42:    Energy =   0.0528
Level     0,  Iter    43:    Energy =   0.0530
Level     0,  Iter    44:    Energy =   0.0529
Level     0,  Iter    45:    Energy =   0.0530
Level     0,  Iter    46:    Energy =   0.0530
Level     0,  Iter    47:    Energy =   0.0532
Level     0,  Iter    48:    Energy =   0.0532
Level     0,  Iter    49:    Energy =   0.0533
Level     0,  Iter    50:    Energy =   0.0533
Level     0,  Iter    51:    Energy =   0.0534
Level     0,  Iter    52:    Energy =   0.0533
Level     0,  Iter    53:    Energy =   0.0534
Level     0,  Iter    54:    Energy =   0.0534
Level     0,  Iter    55:    Energy =   0.0535
Level     0,  Iter    56:    Energy =   0.0534
Level     0,  Iter    57:    Energy =   0.0535
Level     0,  Iter    58:    Energy =   0.0535
Level     0,  Iter    59:    Energy =   0.0536
END OF LEVEL     0    DetJac Range:   0.0243  to   2.2255 
  Avg. Gradient Time  : 0.0068s  33.75% 
  Avg. Gaussian Time  : 0.0097s  48.11% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0321
Level     1,  Iter     1:    Energy =   0.0337
Level     1,  Iter     2:    Energy =   0.0351
Level     1,  Iter     3:    Energy =   0.0362
Level     1,  Iter     4:    Energy =   0.0372
Level     1,  Iter     5:    Energy =   0.0380
Level     1,  Iter     6:    Energy =   0.0388
Level     1,  Iter     7:    Energy =   0.0393
Level     1,  Iter     8:    Energy =   0.0397
Level     1,  Iter     9:    Energy =   0.0400
Level     1,  Iter    10:    Energy =   0.0403
Level     1,  Iter    11:    Energy =   0.0404
Level     1,  Iter    12:    Energy =   0.0406
Level     1,  Iter    13:    Energy =   0.0407
Level     1,  Iter    14:    Energy =   0.0408
Level     1,  Iter    15:    Energy =   0.0410
Level     1,  Iter    16:    Energy =   0.0411
Level     1,  Iter    17:    Energy =   0.0412
Level     1,  Iter    18:    Energy =   0.0413
Level     1,  Iter    19:    Energy =   0.0413
Level     1,  Iter    20:    Energy =   0.0414
Level     1,  Iter    21:    Energy =   0.0415
Level     1,  Iter    22:    Energy =   0.0416
Level     1,  Iter    23:    Energy =   0.0417
Level     1,  Iter    24:    Energy =   0.0417
Level     1,  Iter    25:    Energy =   0.0418
Level     1,  Iter    26:    Energy =   0.0419
Level     1,  Iter    27:    Energy =   0.0420
Level     1,  Iter    28:    Energy =   0.0421
Level     1,  Iter    29:    Energy =   0.0422
Level     1,  Iter    30:    Energy =   0.0422
Level     1,  Iter    31:    Energy =   0.0423
Level     1,  Iter    32:    Energy =   0.0423
Level     1,  Iter    33:    Energy =   0.0424
Level     1,  Iter    34:    Energy =   0.0424
Level     1,  Iter    35:    Energy =   0.0425
Level     1,  Iter    36:    Energy =   0.0426
Level     1,  Iter    37:    Energy =   0.0426
Level     1,  Iter    38:    Energy =   0.0427
Level     1,  Iter    39:    Energy =   0.0428
Level     1,  Iter    40:    Energy =   0.0428
Level     1,  Iter    41:    Energy =   0.0429
Level     1,  Iter    42:    Energy =   0.0430
Level     1,  Iter    43:    Energy =   0.0430
Level     1,  Iter    44:    Energy =   0.0431
Level     1,  Iter    45:    Energy =   0.0431
Level     1,  Iter    46:    Energy =   0.0432
Level     1,  Iter    47:    Energy =   0.0432
Level     1,  Iter    48:    Energy =   0.0432
Level     1,  Iter    49:    Energy =   0.0433
Level     1,  Iter    50:    Energy =   0.0433
Level     1,  Iter    51:    Energy =   0.0434
Level     1,  Iter    52:    Energy =   0.0434
Level     1,  Iter    53:    Energy =   0.0435
Level     1,  Iter    54:    Energy =   0.0435
Level     1,  Iter    55:    Energy =   0.0435
Level     1,  Iter    56:    Energy =   0.0436
Level     1,  Iter    57:    Energy =   0.0436
Level     1,  Iter    58:    Energy =   0.0437
Level     1,  Iter    59:    Energy =   0.0437
END OF LEVEL     1    DetJac Range:   0.0387  to   1.9991 
  Avg. Gradient Time  : 0.0288s  34.69% 
  Avg. Gaussian Time  : 0.0427s  51.48% 
  Avg. Iteration Time : 0.0830s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0199
Level     2,  Iter     1:    Energy =   0.0205
Level     2,  Iter     2:    Energy =   0.0210
Level     2,  Iter     3:    Energy =   0.0215
Level     2,  Iter     4:    Energy =   0.0219
Level     2,  Iter     5:    Energy =   0.0223
Level     2,  Iter     6:    Energy =   0.0228
Level     2,  Iter     7:    Energy =   0.0233
Level     2,  Iter     8:    Energy =   0.0236
Level     2,  Iter     9:    Energy =   0.0240
Level     2,  Iter    10:    Energy =   0.0243
Level     2,  Iter    11:    Energy =   0.0245
Level     2,  Iter    12:    Energy =   0.0247
Level     2,  Iter    13:    Energy =   0.0249
big value: 1207.474964
Level     2,  Iter    14:    Energy =   0.0251
Level     2,  Iter    15:    Energy =   0.0245
Level     2,  Iter    16:    Energy =   0.0247
Level     2,  Iter    17:    Energy =   0.0249
Level     2,  Iter    18:    Energy =   0.0251
Level     2,  Iter    19:    Energy =   0.0246
END OF LEVEL     2    DetJac Range:   0.0234  to   2.1931 
  Avg. Gradient Time  : 0.1854s  32.67% 
  Avg. Gaussian Time  : 0.3061s  53.93% 
  Avg. Iteration Time : 0.5676s 

real	0m20.323s
user	0m35.392s
sys	0m2.180s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.431429 0.435714
+ echo 'CHUNK 0.431429 0.435714 1'
CHUNK 0.431429 0.435714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.431429 0.435714 1
====================================
         PROGRESS: 0.431429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.538
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 511.891   GNORM= 332.127
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       216.156     250.453       0.003
   2    3      -411.453      77.729       1.000
   3    4      -493.926      51.575       1.000
   4    5      -731.166      77.019       1.000
   5    6      -797.977      45.930       1.000
   6    8      -847.299      98.313       0.209
   7    9      -869.016      59.390       1.000
   8   10      -936.300      39.690       1.000
   9   11      -962.000     200.172       1.000
  10   12     -1094.505      96.976       1.000
  11   13     -1108.958      51.113       1.000
  12   14     -1156.168      66.729       1.000
  13   16     -1205.485      55.114       0.371
  14   19     -1234.355      93.354       1.722
  15   20     -1291.561     185.433       1.000
  16   21     -1314.741      77.668       1.000
  17   22     -1365.101      35.063       1.000
  18   23     -1383.121      28.830       1.000
  19   25     -1433.353      51.936       0.314
  20   31     -1445.430      70.306       1.007
  21   32     -1501.765      95.000       1.000
  22   34     -1505.071      42.430       0.158
  23   36     -1518.860      33.144       5.000
  24   37     -1532.147      32.641       1.000
  25   38     -1570.764      40.355       1.000
  26   40     -1583.239      39.181       0.293
  27   41     -1600.739      53.486       1.000
  28   42     -1613.515     117.383       1.000
Final RAS Transform: 
0.526164 0.938416 -0.00574817 -5.90178 
0.295463 0.768944 0.286785 16.5573 
-0.172159 0.0349824 0.885746 -10.2792 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -818.622   GNORM= 292.238
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -866.275      24.900       0.008
   2    6      -866.443      66.535       0.007
   3    7      -890.404      63.956       1.000
   4    9      -907.142     108.855       0.390
   5   10      -938.267      64.365       1.000
   6   11      -957.219      32.457       1.000
   7   12      -959.288     632.272       1.000
   8   15      -959.475      18.138       0.086
   9   16      -960.061      15.430       1.000
  10   21      -960.387      17.742       0.067
  11   22      -962.564      40.079       1.000
  12   23      -968.022      28.901       1.000
  13   27      -969.340      30.148       0.005
  14   28      -970.577      44.387       1.000
  15   29      -979.781      28.516       1.000
  16   32      -982.090      18.630       0.128
  17   33      -984.842      21.386       1.000
  18   38      -985.340      21.472       0.224
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.525498 0.93027 -0.032152 -5.23854 
0.262566 0.779253 0.38551 17.4582 
-0.164748 0.0499759 0.775969 -11.6845 
0 0 0 1 

Final RAS Transform: 
0.525498 0.93027 -0.032152 -5.23854 
0.262566 0.779253 0.38551 17.4582 
-0.164748 0.0499759 0.775969 -11.6845 
0 0 0 1 


real	0m6.068s
user	0m10.072s
sys	0m0.740s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.325061
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0439
Level     0,  Iter     1:    Energy =   0.0470
Level     0,  Iter     2:    Energy =   0.0496
Level     0,  Iter     3:    Energy =   0.0519
Level     0,  Iter     4:    Energy =   0.0532
Level     0,  Iter     5:    Energy =   0.0541
Level     0,  Iter     6:    Energy =   0.0549
Level     0,  Iter     7:    Energy =   0.0557
Level     0,  Iter     8:    Energy =   0.0563
Level     0,  Iter     9:    Energy =   0.0567
Level     0,  Iter    10:    Energy =   0.0570
Level     0,  Iter    11:    Energy =   0.0572
Level     0,  Iter    12:    Energy =   0.0574
Level     0,  Iter    13:    Energy =   0.0575
Level     0,  Iter    14:    Energy =   0.0576
Level     0,  Iter    15:    Energy =   0.0576
Level     0,  Iter    16:    Energy =   0.0577
Level     0,  Iter    17:    Energy =   0.0577
Level     0,  Iter    18:    Energy =   0.0578
Level     0,  Iter    19:    Energy =   0.0578
Level     0,  Iter    20:    Energy =   0.0578
Level     0,  Iter    21:    Energy =   0.0578
Level     0,  Iter    22:    Energy =   0.0579
Level     0,  Iter    23:    Energy =   0.0579
Level     0,  Iter    24:    Energy =   0.0580
Level     0,  Iter    25:    Energy =   0.0580
Level     0,  Iter    26:    Energy =   0.0582
Level     0,  Iter    27:    Energy =   0.0581
Level     0,  Iter    28:    Energy =   0.0583
Level     0,  Iter    29:    Energy =   0.0582
Level     0,  Iter    30:    Energy =   0.0583
Level     0,  Iter    31:    Energy =   0.0582
Level     0,  Iter    32:    Energy =   0.0584
Level     0,  Iter    33:    Energy =   0.0584
Level     0,  Iter    34:    Energy =   0.0585
Level     0,  Iter    35:    Energy =   0.0584
Level     0,  Iter    36:    Energy =   0.0585
Level     0,  Iter    37:    Energy =   0.0584
Level     0,  Iter    38:    Energy =   0.0586
Level     0,  Iter    39:    Energy =   0.0585
Level     0,  Iter    40:    Energy =   0.0585
Level     0,  Iter    41:    Energy =   0.0585
Level     0,  Iter    42:    Energy =   0.0586
Level     0,  Iter    43:    Energy =   0.0586
Level     0,  Iter    44:    Energy =   0.0586
Level     0,  Iter    45:    Energy =   0.0585
Level     0,  Iter    46:    Energy =   0.0586
Level     0,  Iter    47:    Energy =   0.0586
Level     0,  Iter    48:    Energy =   0.0585
Level     0,  Iter    49:    Energy =   0.0585
Level     0,  Iter    50:    Energy =   0.0586
Level     0,  Iter    51:    Energy =   0.0585
Level     0,  Iter    52:    Energy =   0.0585
Level     0,  Iter    53:    Energy =   0.0585
Level     0,  Iter    54:    Energy =   0.0586
Level     0,  Iter    55:    Energy =   0.0586
Level     0,  Iter    56:    Energy =   0.0586
Level     0,  Iter    57:    Energy =   0.0586
Level     0,  Iter    58:    Energy =   0.0587
Level     0,  Iter    59:    Energy =   0.0587
END OF LEVEL     0    DetJac Range:   0.1040  to   2.2163 
  Avg. Gradient Time  : 0.0067s  33.71% 
  Avg. Gaussian Time  : 0.0096s  47.88% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0380
Level     1,  Iter     1:    Energy =   0.0400
Level     1,  Iter     2:    Energy =   0.0416
Level     1,  Iter     3:    Energy =   0.0428
Level     1,  Iter     4:    Energy =   0.0438
Level     1,  Iter     5:    Energy =   0.0445
Level     1,  Iter     6:    Energy =   0.0452
Level     1,  Iter     7:    Energy =   0.0458
Level     1,  Iter     8:    Energy =   0.0463
Level     1,  Iter     9:    Energy =   0.0468
Level     1,  Iter    10:    Energy =   0.0472
Level     1,  Iter    11:    Energy =   0.0477
Level     1,  Iter    12:    Energy =   0.0482
Level     1,  Iter    13:    Energy =   0.0487
Level     1,  Iter    14:    Energy =   0.0494
Level     1,  Iter    15:    Energy =   0.0500
Level     1,  Iter    16:    Energy =   0.0507
Level     1,  Iter    17:    Energy =   0.0513
Level     1,  Iter    18:    Energy =   0.0519
Level     1,  Iter    19:    Energy =   0.0523
Level     1,  Iter    20:    Energy =   0.0526
Level     1,  Iter    21:    Energy =   0.0529
Level     1,  Iter    22:    Energy =   0.0531
Level     1,  Iter    23:    Energy =   0.0532
Level     1,  Iter    24:    Energy =   0.0535
Level     1,  Iter    25:    Energy =   0.0537
Level     1,  Iter    26:    Energy =   0.0538
Level     1,  Iter    27:    Energy =   0.0539
Level     1,  Iter    28:    Energy =   0.0540
Level     1,  Iter    29:    Energy =   0.0540
Level     1,  Iter    30:    Energy =   0.0541
Level     1,  Iter    31:    Energy =   0.0541
Level     1,  Iter    32:    Energy =   0.0541
Level     1,  Iter    33:    Energy =   0.0542
Level     1,  Iter    34:    Energy =   0.0542
Level     1,  Iter    35:    Energy =   0.0543
Level     1,  Iter    36:    Energy =   0.0544
Level     1,  Iter    37:    Energy =   0.0544
Level     1,  Iter    38:    Energy =   0.0545
Level     1,  Iter    39:    Energy =   0.0545
Level     1,  Iter    40:    Energy =   0.0545
Level     1,  Iter    41:    Energy =   0.0546
Level     1,  Iter    42:    Energy =   0.0546
Level     1,  Iter    43:    Energy =   0.0547
Level     1,  Iter    44:    Energy =   0.0547
Level     1,  Iter    45:    Energy =   0.0548
Level     1,  Iter    46:    Energy =   0.0548
Level     1,  Iter    47:    Energy =   0.0549
Level     1,  Iter    48:    Energy =   0.0549
Level     1,  Iter    49:    Energy =   0.0550
Level     1,  Iter    50:    Energy =   0.0550
Level     1,  Iter    51:    Energy =   0.0550
Level     1,  Iter    52:    Energy =   0.0551
Level     1,  Iter    53:    Energy =   0.0551
Level     1,  Iter    54:    Energy =   0.0551
Level     1,  Iter    55:    Energy =   0.0552
Level     1,  Iter    56:    Energy =   0.0552
Level     1,  Iter    57:    Energy =   0.0552
Level     1,  Iter    58:    Energy =   0.0552
Level     1,  Iter    59:    Energy =   0.0552
END OF LEVEL     1    DetJac Range:   0.0429  to   2.4608 
  Avg. Gradient Time  : 0.0289s  34.64% 
  Avg. Gaussian Time  : 0.0429s  51.47% 
  Avg. Iteration Time : 0.0833s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0256
Level     2,  Iter     1:    Energy =   0.0270
Level     2,  Iter     2:    Energy =   0.0284
Level     2,  Iter     3:    Energy =   0.0294
Level     2,  Iter     4:    Energy =   0.0303
Level     2,  Iter     5:    Energy =   0.0311
Level     2,  Iter     6:    Energy =   0.0318
Level     2,  Iter     7:    Energy =   0.0324
Level     2,  Iter     8:    Energy =   0.0330
Level     2,  Iter     9:    Energy =   0.0334
Level     2,  Iter    10:    Energy =   0.0339
Level     2,  Iter    11:    Energy =   0.0343
Level     2,  Iter    12:    Energy =   0.0346
Level     2,  Iter    13:    Energy =   0.0349
Level     2,  Iter    14:    Energy =   0.0352
Level     2,  Iter    15:    Energy =   0.0354
Level     2,  Iter    16:    Energy =   0.0357
Level     2,  Iter    17:    Energy =   0.0359
Level     2,  Iter    18:    Energy =   0.0360
Level     2,  Iter    19:    Energy =   0.0362
END OF LEVEL     2    DetJac Range:   0.0409  to   3.0354 
  Avg. Gradient Time  : 0.1867s  32.78% 
  Avg. Gaussian Time  : 0.3060s  53.73% 
  Avg. Iteration Time : 0.5695s 

real	0m20.389s
user	0m35.548s
sys	0m2.144s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=55 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=55 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.435714 0.44
+ echo 'CHUNK 0.435714 0.44 1'
CHUNK 0.435714 0.44 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.435714 0.44 1
====================================
         PROGRESS: 0.435714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.589
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 469.48   GNORM= 317.046
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       192.737     208.700       0.003
   2    3      -145.484     190.415       1.000
   3    4      -480.525     317.017       1.000
   4    5      -562.691      60.972       1.000
   5    7      -563.884      75.418       0.402
   6    9      -564.880      46.162       0.134
   7   11      -569.707      44.607       5.000
   8   14      -572.012      67.525       0.718
   9   15      -620.328      76.055       1.000
  10   16      -697.310     110.910       1.000
  11   19      -697.982     113.764       0.010
  12   20      -709.031      90.376       1.000
  13   21      -761.767     684.732       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.964508 0.036284 -0.0245253 1.95525 
0.180854 1.14302 -0.0400894 6.90362 
-0.223254 -0.209733 0.806687 -8.01975 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -358.759   GNORM= 38.4336
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.964508 0.036284 -0.0245253 1.95525 
0.180854 1.14302 -0.0400894 6.90362 
-0.223254 -0.209733 0.806687 -8.01975 
0 0 0 1 

Final RAS Transform: 
0.964508 0.036284 -0.0245253 1.95525 
0.180854 1.14302 -0.0400894 6.90362 
-0.223254 -0.209733 0.806687 -8.01975 
0 0 0 1 


real	0m3.358s
user	0m5.128s
sys	0m0.416s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.409185
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0191
Level     0,  Iter     1:    Energy =   0.0211
Level     0,  Iter     2:    Energy =   0.0238
Level     0,  Iter     3:    Energy =   0.0263
Level     0,  Iter     4:    Energy =   0.0283
Level     0,  Iter     5:    Energy =   0.0299
Level     0,  Iter     6:    Energy =   0.0312
Level     0,  Iter     7:    Energy =   0.0322
Level     0,  Iter     8:    Energy =   0.0330
Level     0,  Iter     9:    Energy =   0.0338
Level     0,  Iter    10:    Energy =   0.0346
Level     0,  Iter    11:    Energy =   0.0352
Level     0,  Iter    12:    Energy =   0.0356
Level     0,  Iter    13:    Energy =   0.0360
Level     0,  Iter    14:    Energy =   0.0363
Level     0,  Iter    15:    Energy =   0.0367
Level     0,  Iter    16:    Energy =   0.0371
Level     0,  Iter    17:    Energy =   0.0374
Level     0,  Iter    18:    Energy =   0.0378
Level     0,  Iter    19:    Energy =   0.0382
Level     0,  Iter    20:    Energy =   0.0384
Level     0,  Iter    21:    Energy =   0.0387
Level     0,  Iter    22:    Energy =   0.0389
Level     0,  Iter    23:    Energy =   0.0391
Level     0,  Iter    24:    Energy =   0.0393
Level     0,  Iter    25:    Energy =   0.0396
Level     0,  Iter    26:    Energy =   0.0398
Level     0,  Iter    27:    Energy =   0.0400
Level     0,  Iter    28:    Energy =   0.0403
Level     0,  Iter    29:    Energy =   0.0405
Level     0,  Iter    30:    Energy =   0.0407
Level     0,  Iter    31:    Energy =   0.0409
Level     0,  Iter    32:    Energy =   0.0410
Level     0,  Iter    33:    Energy =   0.0411
Level     0,  Iter    34:    Energy =   0.0412
Level     0,  Iter    35:    Energy =   0.0413
Level     0,  Iter    36:    Energy =   0.0415
Level     0,  Iter    37:    Energy =   0.0416
Level     0,  Iter    38:    Energy =   0.0416
Level     0,  Iter    39:    Energy =   0.0418
Level     0,  Iter    40:    Energy =   0.0419
Level     0,  Iter    41:    Energy =   0.0420
Level     0,  Iter    42:    Energy =   0.0421
Level     0,  Iter    43:    Energy =   0.0422
Level     0,  Iter    44:    Energy =   0.0423
Level     0,  Iter    45:    Energy =   0.0424
Level     0,  Iter    46:    Energy =   0.0425
Level     0,  Iter    47:    Energy =   0.0426
Level     0,  Iter    48:    Energy =   0.0427
Level     0,  Iter    49:    Energy =   0.0428
Level     0,  Iter    50:    Energy =   0.0429
Level     0,  Iter    51:    Energy =   0.0430
Level     0,  Iter    52:    Energy =   0.0431
Level     0,  Iter    53:    Energy =   0.0432
Level     0,  Iter    54:    Energy =   0.0433
Level     0,  Iter    55:    Energy =   0.0435
Level     0,  Iter    56:    Energy =   0.0436
Level     0,  Iter    57:    Energy =   0.0438
Level     0,  Iter    58:    Energy =   0.0439
Level     0,  Iter    59:    Energy =   0.0441
END OF LEVEL     0    DetJac Range:   0.0876  to   2.0791 
  Avg. Gradient Time  : 0.0067s  33.65% 
  Avg. Gaussian Time  : 0.0096s  48.23% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0282
Level     1,  Iter     1:    Energy =   0.0297
Level     1,  Iter     2:    Energy =   0.0311
Level     1,  Iter     3:    Energy =   0.0324
Level     1,  Iter     4:    Energy =   0.0334
Level     1,  Iter     5:    Energy =   0.0345
Level     1,  Iter     6:    Energy =   0.0355
Level     1,  Iter     7:    Energy =   0.0363
Level     1,  Iter     8:    Energy =   0.0370
Level     1,  Iter     9:    Energy =   0.0376
Level     1,  Iter    10:    Energy =   0.0381
Level     1,  Iter    11:    Energy =   0.0385
Level     1,  Iter    12:    Energy =   0.0390
Level     1,  Iter    13:    Energy =   0.0394
Level     1,  Iter    14:    Energy =   0.0398
Level     1,  Iter    15:    Energy =   0.0401
Level     1,  Iter    16:    Energy =   0.0404
Level     1,  Iter    17:    Energy =   0.0407
Level     1,  Iter    18:    Energy =   0.0410
Level     1,  Iter    19:    Energy =   0.0412
Level     1,  Iter    20:    Energy =   0.0414
Level     1,  Iter    21:    Energy =   0.0415
Level     1,  Iter    22:    Energy =   0.0417
Level     1,  Iter    23:    Energy =   0.0418
Level     1,  Iter    24:    Energy =   0.0419
Level     1,  Iter    25:    Energy =   0.0419
Level     1,  Iter    26:    Energy =   0.0420
Level     1,  Iter    27:    Energy =   0.0420
Level     1,  Iter    28:    Energy =   0.0421
Level     1,  Iter    29:    Energy =   0.0421
Level     1,  Iter    30:    Energy =   0.0422
Level     1,  Iter    31:    Energy =   0.0422
Level     1,  Iter    32:    Energy =   0.0422
Level     1,  Iter    33:    Energy =   0.0423
Level     1,  Iter    34:    Energy =   0.0423
Level     1,  Iter    35:    Energy =   0.0424
Level     1,  Iter    36:    Energy =   0.0424
Level     1,  Iter    37:    Energy =   0.0425
Level     1,  Iter    38:    Energy =   0.0425
Level     1,  Iter    39:    Energy =   0.0426
Level     1,  Iter    40:    Energy =   0.0426
Level     1,  Iter    41:    Energy =   0.0426
Level     1,  Iter    42:    Energy =   0.0427
Level     1,  Iter    43:    Energy =   0.0427
Level     1,  Iter    44:    Energy =   0.0427
Level     1,  Iter    45:    Energy =   0.0427
Level     1,  Iter    46:    Energy =   0.0427
Level     1,  Iter    47:    Energy =   0.0428
Level     1,  Iter    48:    Energy =   0.0428
Level     1,  Iter    49:    Energy =   0.0428
Level     1,  Iter    50:    Energy =   0.0428
Level     1,  Iter    51:    Energy =   0.0429
Level     1,  Iter    52:    Energy =   0.0429
Level     1,  Iter    53:    Energy =   0.0429
Level     1,  Iter    54:    Energy =   0.0429
Level     1,  Iter    55:    Energy =   0.0429
Level     1,  Iter    56:    Energy =   0.0429
Level     1,  Iter    57:    Energy =   0.0429
Level     1,  Iter    58:    Energy =   0.0429
Level     1,  Iter    59:    Energy =   0.0429
END OF LEVEL     1    DetJac Range:   0.0218  to   3.1720 
  Avg. Gradient Time  : 0.0283s  34.44% 
  Avg. Gaussian Time  : 0.0424s  51.65% 
  Avg. Iteration Time : 0.0821s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0192
Level     2,  Iter     1:    Energy =   0.0204
Level     2,  Iter     2:    Energy =   0.0214
Level     2,  Iter     3:    Energy =   0.0223
Level     2,  Iter     4:    Energy =   0.0230
Level     2,  Iter     5:    Energy =   0.0237
Level     2,  Iter     6:    Energy =   0.0243
Level     2,  Iter     7:    Energy =   0.0248
Level     2,  Iter     8:    Energy =   0.0252
Level     2,  Iter     9:    Energy =   0.0256
Level     2,  Iter    10:    Energy =   0.0260
Level     2,  Iter    11:    Energy =   0.0263
Level     2,  Iter    12:    Energy =   0.0266
Level     2,  Iter    13:    Energy =   0.0268
Level     2,  Iter    14:    Energy =   0.0271
Level     2,  Iter    15:    Energy =   0.0273
Level     2,  Iter    16:    Energy =   0.0275
Level     2,  Iter    17:    Energy =   0.0276
Level     2,  Iter    18:    Energy =   0.0277
Level     2,  Iter    19:    Energy =   0.0279
END OF LEVEL     2    DetJac Range:   0.0155  to   3.6186 
  Avg. Gradient Time  : 0.1883s  33.11% 
  Avg. Gaussian Time  : 0.3042s  53.50% 
  Avg. Iteration Time : 0.5686s 

real	0m20.284s
user	0m35.324s
sys	0m2.192s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=56 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=56 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.44 0.444286
+ echo 'CHUNK 0.44 0.444286 1'
CHUNK 0.44 0.444286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.44 0.444286 1
====================================
         PROGRESS: 0.44               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.651
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 505.742   GNORM= 304.163
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       258.910     182.367       0.003
   2    3        18.567     137.835       1.000
   3    4      -297.886     133.926       1.000
   4    6      -392.443     122.154       0.170
   5    7      -448.768      37.941       1.000
   6    9      -616.739      44.293       5.000
   7   10      -766.300      96.944       1.000
   8   11      -827.933      96.643       1.000
   9   12      -976.967      94.375       1.000
  10   14     -1014.980     118.858       0.359
  11   15     -1038.702      68.357       1.000
  12   18     -1085.602      91.167       2.019
  13   19     -1103.161     149.453       1.000
  14   23     -1104.365     127.256       0.014
  15   24     -1155.687      40.792       1.000
  16   25     -1166.448      43.940       1.000
  17   27     -1241.217      27.949       5.000
  18   29     -1263.620     107.987       0.143
  19   30     -1313.042     119.720       1.000
  20   31     -1333.627     201.451       1.000
  21   32     -1437.749     202.232       1.000
  22   36     -1471.681      92.219       0.018
  23   37     -1557.876      80.542       1.000
  24   40     -1567.822      89.262       0.043
  25   43     -1570.068      62.759       0.063
  26   44     -1578.167      52.068       1.000
  27   45     -1586.573      37.185       1.000
  28   46     -1596.324      38.781       1.000
  29   47     -1608.586     262.298       1.000
  30   49     -1609.970      47.427       0.175
  31   50     -1617.444      38.559       1.000
  32   54     -1629.621      57.620       0.237
  33   55     -1630.067      57.129       1.000
  34   59     -1630.121      60.240       1.336
  35   61     -1630.927      53.675       0.098
Final RAS Transform: 
0.111307 0.745316 -0.0572786 1.34251 
0.434119 0.940819 0.834502 24.3534 
-0.341231 -0.842997 0.301009 -3.67438 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -914.731   GNORM= 98.8196
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -914.989      65.598       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.111302 0.745313 -0.0572719 1.34256 
0.434115 0.940824 0.834537 24.3533 
-0.341244 -0.843014 0.301025 -3.67578 
0 0 0 1 

Final RAS Transform: 
0.111302 0.745313 -0.0572719 1.34256 
0.434115 0.940824 0.834537 24.3533 
-0.341244 -0.843014 0.301025 -3.67578 
0 0 0 1 


real	0m3.946s
user	0m6.168s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.49401
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0414
Level     0,  Iter     1:    Energy =   0.0442
Level     0,  Iter     2:    Energy =   0.0469
Level     0,  Iter     3:    Energy =   0.0496
Level     0,  Iter     4:    Energy =   0.0515
Level     0,  Iter     5:    Energy =   0.0533
Level     0,  Iter     6:    Energy =   0.0538
Level     0,  Iter     7:    Energy =   0.0551
Level     0,  Iter     8:    Energy =   0.0554
Level     0,  Iter     9:    Energy =   0.0565
Level     0,  Iter    10:    Energy =   0.0568
Level     0,  Iter    11:    Energy =   0.0576
Level     0,  Iter    12:    Energy =   0.0579
Level     0,  Iter    13:    Energy =   0.0585
Level     0,  Iter    14:    Energy =   0.0585
Level     0,  Iter    15:    Energy =   0.0589
Level     0,  Iter    16:    Energy =   0.0589
Level     0,  Iter    17:    Energy =   0.0592
Level     0,  Iter    18:    Energy =   0.0592
Level     0,  Iter    19:    Energy =   0.0594
Level     0,  Iter    20:    Energy =   0.0594
Level     0,  Iter    21:    Energy =   0.0597
Level     0,  Iter    22:    Energy =   0.0597
Level     0,  Iter    23:    Energy =   0.0599
Level     0,  Iter    24:    Energy =   0.0599
Level     0,  Iter    25:    Energy =   0.0601
Level     0,  Iter    26:    Energy =   0.0601
Level     0,  Iter    27:    Energy =   0.0603
Level     0,  Iter    28:    Energy =   0.0604
Level     0,  Iter    29:    Energy =   0.0606
Level     0,  Iter    30:    Energy =   0.0606
Level     0,  Iter    31:    Energy =   0.0608
Level     0,  Iter    32:    Energy =   0.0608
Level     0,  Iter    33:    Energy =   0.0610
Level     0,  Iter    34:    Energy =   0.0609
Level     0,  Iter    35:    Energy =   0.0611
Level     0,  Iter    36:    Energy =   0.0611
Level     0,  Iter    37:    Energy =   0.0613
Level     0,  Iter    38:    Energy =   0.0613
Level     0,  Iter    39:    Energy =   0.0615
Level     0,  Iter    40:    Energy =   0.0615
Level     0,  Iter    41:    Energy =   0.0617
Level     0,  Iter    42:    Energy =   0.0616
Level     0,  Iter    43:    Energy =   0.0618
Level     0,  Iter    44:    Energy =   0.0618
Level     0,  Iter    45:    Energy =   0.0619
Level     0,  Iter    46:    Energy =   0.0618
Level     0,  Iter    47:    Energy =   0.0620
Level     0,  Iter    48:    Energy =   0.0620
Level     0,  Iter    49:    Energy =   0.0620
Level     0,  Iter    50:    Energy =   0.0620
Level     0,  Iter    51:    Energy =   0.0621
Level     0,  Iter    52:    Energy =   0.0621
Level     0,  Iter    53:    Energy =   0.0623
Level     0,  Iter    54:    Energy =   0.0622
Level     0,  Iter    55:    Energy =   0.0623
Level     0,  Iter    56:    Energy =   0.0623
Level     0,  Iter    57:    Energy =   0.0624
Level     0,  Iter    58:    Energy =   0.0623
Level     0,  Iter    59:    Energy =   0.0624
END OF LEVEL     0    DetJac Range:   0.1671  to   2.0742 
  Avg. Gradient Time  : 0.0071s  33.81% 
  Avg. Gaussian Time  : 0.0101s  48.11% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0391
Level     1,  Iter     1:    Energy =   0.0419
Level     1,  Iter     2:    Energy =   0.0443
Level     1,  Iter     3:    Energy =   0.0462
Level     1,  Iter     4:    Energy =   0.0473
Level     1,  Iter     5:    Energy =   0.0482
Level     1,  Iter     6:    Energy =   0.0490
Level     1,  Iter     7:    Energy =   0.0500
Level     1,  Iter     8:    Energy =   0.0507
Level     1,  Iter     9:    Energy =   0.0514
Level     1,  Iter    10:    Energy =   0.0520
Level     1,  Iter    11:    Energy =   0.0524
Level     1,  Iter    12:    Energy =   0.0528
Level     1,  Iter    13:    Energy =   0.0532
Level     1,  Iter    14:    Energy =   0.0535
Level     1,  Iter    15:    Energy =   0.0538
Level     1,  Iter    16:    Energy =   0.0539
Level     1,  Iter    17:    Energy =   0.0541
Level     1,  Iter    18:    Energy =   0.0543
Level     1,  Iter    19:    Energy =   0.0545
Level     1,  Iter    20:    Energy =   0.0547
Level     1,  Iter    21:    Energy =   0.0549
Level     1,  Iter    22:    Energy =   0.0550
Level     1,  Iter    23:    Energy =   0.0552
Level     1,  Iter    24:    Energy =   0.0554
Level     1,  Iter    25:    Energy =   0.0556
Level     1,  Iter    26:    Energy =   0.0557
Level     1,  Iter    27:    Energy =   0.0558
Level     1,  Iter    28:    Energy =   0.0560
Level     1,  Iter    29:    Energy =   0.0561
Level     1,  Iter    30:    Energy =   0.0562
Level     1,  Iter    31:    Energy =   0.0563
Level     1,  Iter    32:    Energy =   0.0564
Level     1,  Iter    33:    Energy =   0.0565
Level     1,  Iter    34:    Energy =   0.0565
Level     1,  Iter    35:    Energy =   0.0566
Level     1,  Iter    36:    Energy =   0.0566
Level     1,  Iter    37:    Energy =   0.0566
Level     1,  Iter    38:    Energy =   0.0567
Level     1,  Iter    39:    Energy =   0.0567
Level     1,  Iter    40:    Energy =   0.0567
Level     1,  Iter    41:    Energy =   0.0567
Level     1,  Iter    42:    Energy =   0.0567
Level     1,  Iter    43:    Energy =   0.0567
Level     1,  Iter    44:    Energy =   0.0567
Level     1,  Iter    45:    Energy =   0.0568
Level     1,  Iter    46:    Energy =   0.0568
Level     1,  Iter    47:    Energy =   0.0568
Level     1,  Iter    48:    Energy =   0.0569
Level     1,  Iter    49:    Energy =   0.0569
Level     1,  Iter    50:    Energy =   0.0570
Level     1,  Iter    51:    Energy =   0.0570
Level     1,  Iter    52:    Energy =   0.0571
Level     1,  Iter    53:    Energy =   0.0571
Level     1,  Iter    54:    Energy =   0.0571
Level     1,  Iter    55:    Energy =   0.0571
Level     1,  Iter    56:    Energy =   0.0570
Level     1,  Iter    57:    Energy =   0.0570
Level     1,  Iter    58:    Energy =   0.0570
Level     1,  Iter    59:    Energy =   0.0569
END OF LEVEL     1    DetJac Range:   0.0552  to   2.8667 
  Avg. Gradient Time  : 0.0288s  34.66% 
  Avg. Gaussian Time  : 0.0427s  51.44% 
  Avg. Iteration Time : 0.0830s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0262
big value: 2188.621618
big value: -1894.174171
big value: 1287.785781
Level     2,  Iter     1:    Energy =   0.0277
Level     2,  Iter     2:    Energy =   0.0274
Level     2,  Iter     3:    Energy =   0.0285
Level     2,  Iter     4:    Energy =   0.0294
Level     2,  Iter     5:    Energy =   0.0301
Level     2,  Iter     6:    Energy =   0.0307
Level     2,  Iter     7:    Energy =   0.0313
Level     2,  Iter     8:    Energy =   0.0318
Level     2,  Iter     9:    Energy =   0.0322
Level     2,  Iter    10:    Energy =   0.0326
Level     2,  Iter    11:    Energy =   0.0331
Level     2,  Iter    12:    Energy =   0.0336
Level     2,  Iter    13:    Energy =   0.0341
Level     2,  Iter    14:    Energy =   0.0345
Level     2,  Iter    15:    Energy =   0.0348
Level     2,  Iter    16:    Energy =   0.0352
Level     2,  Iter    17:    Energy =   0.0354
Level     2,  Iter    18:    Energy =   0.0357
Level     2,  Iter    19:    Energy =   0.0360
END OF LEVEL     2    DetJac Range:   0.0438  to   3.7399 
  Avg. Gradient Time  : 0.1891s  32.96% 
  Avg. Gaussian Time  : 0.3072s  53.52% 
  Avg. Iteration Time : 0.5739s 

real	0m20.537s
user	0m35.752s
sys	0m2.208s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=57 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=57 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.444286 0.448571
+ echo 'CHUNK 0.444286 0.448571 1'
CHUNK 0.444286 0.448571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.444286 0.448571 1
====================================
         PROGRESS: 0.444286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.631
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 681.693   GNORM= 297.634
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       421.696     183.132       0.003
   2    3       103.854     173.017       1.000
   3    4      -198.003     182.635       1.000
   4    8      -553.282     149.060       1.613
   5   11      -613.698      64.154       0.070
   6   15      -681.413      82.666       0.930
   7   19      -685.821      74.991       0.183
   8   20      -705.814     100.974       1.000
   9   21      -717.889     141.337       1.000
  10   23      -744.376      46.278       0.352
  11   24      -748.677      68.712       1.000
  12   28      -748.709      52.514       0.000
  13   29      -750.826      54.180       1.000
  14   30      -755.749      44.833       1.000
  15   31      -786.612      45.214       1.000
  16   34      -875.293     114.342       2.080
  17   35      -907.298     124.878       1.000
  18   39      -947.559      84.586       0.436
  19   41     -1013.559     143.004       5.000
  20   42     -1102.127     137.976       1.000
  21   44     -1148.976      67.828       0.390
  22   46     -1173.088      57.411       0.436
  23   48     -1180.576      37.553       0.322
  24   49     -1187.679      21.568       1.000
  25   50     -1200.101      45.816       1.000
  26   53     -1220.415      52.068       0.215
  27   55     -1295.754      41.267       5.000
  28   58     -1369.715     113.980       1.264
  29   60     -1376.596     126.350       0.095
  30   61     -1383.808     145.485       1.000
Final RAS Transform: 
0.367368 0.390443 -0.103544 4.9336 
0.239784 0.643876 0.328605 20.6632 
-0.0447577 -0.480146 0.470521 -10.2297 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -665.744   GNORM= 115.249
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -729.397      65.550       0.009
   2    3      -744.787      41.169       1.000
   3    4      -747.750      42.344       1.000
   4    5      -752.472      31.605       1.000
   5    6      -760.893      41.200       1.000
   6    7      -777.344      76.090       1.000
   7    8      -785.390      24.444       1.000
   8    9      -796.486      28.844       1.000
   9   11      -803.185      17.817       0.513
  10   12      -803.702      26.159       1.000
  11   13      -805.849      18.920       1.000
  12   15      -810.097      34.498       0.488
  13   16      -814.307      65.687       1.000
  14   17      -821.836      58.878       1.000
  15   18      -822.408      57.259       1.000
  16   19      -829.221      25.969       1.000
  17   20      -831.467      13.707       1.000
  18   21      -832.557      18.335       1.000
  19   23      -833.404      28.845       0.131
  20   24      -834.606      13.878       1.000
  21   25      -836.316      20.042       1.000
  22   26      -837.512      25.091       1.000
  23   27      -838.268      18.860       1.000
  24   28      -840.323      28.456       1.000
  25   29      -841.346      15.796       1.000
  26   30      -841.814      16.066       1.000
  27   31      -842.241       8.337       1.000
  28   32      -842.469      20.420       1.000
  29   33      -843.030      13.992       1.000
  30   35      -843.503       6.104       0.258
  31   36      -843.706       9.512       1.000
  32   37      -843.979       6.433       1.000
  33   38      -844.174       7.528       1.000
  34   39      -845.402       9.531       1.000
  35   41      -846.330      20.492       0.277
  36   42      -847.112       8.158       1.000
  37   43      -847.692       5.938       1.000
  38   45      -847.824      12.592       0.509
  39   47      -847.961      15.280       0.253
  40   48      -848.044       6.860       1.000
  41   49      -848.141       3.203       1.000
  42   50      -848.191       3.495       1.000
  43   56      -848.193       3.682       0.017
  44   57      -848.214       2.833       1.000
  45   58      -848.235       7.441       1.000
  46   59      -848.288       4.466       1.000
Final RAS Transform: 
0.387503 0.363265 -0.154339 3.79469 
0.342343 0.619354 0.264703 18.5887 
-0.0653057 -0.607768 0.435148 -8.63309 
0 0 0 1 

Final RAS Transform: 
0.387503 0.363265 -0.154339 3.79469 
0.342343 0.619354 0.264703 18.5887 
-0.0653057 -0.607768 0.435148 -8.63309 
0 0 0 1 


real	0m6.252s
user	0m10.312s
sys	0m0.752s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.412797
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0381
Level     0,  Iter     1:    Energy =   0.0408
Level     0,  Iter     2:    Energy =   0.0435
Level     0,  Iter     3:    Energy =   0.0458
Level     0,  Iter     4:    Energy =   0.0472
Level     0,  Iter     5:    Energy =   0.0482
Level     0,  Iter     6:    Energy =   0.0489
Level     0,  Iter     7:    Energy =   0.0495
Level     0,  Iter     8:    Energy =   0.0500
Level     0,  Iter     9:    Energy =   0.0504
Level     0,  Iter    10:    Energy =   0.0508
Level     0,  Iter    11:    Energy =   0.0513
Level     0,  Iter    12:    Energy =   0.0517
Level     0,  Iter    13:    Energy =   0.0519
Level     0,  Iter    14:    Energy =   0.0521
Level     0,  Iter    15:    Energy =   0.0522
Level     0,  Iter    16:    Energy =   0.0523
Level     0,  Iter    17:    Energy =   0.0525
Level     0,  Iter    18:    Energy =   0.0526
Level     0,  Iter    19:    Energy =   0.0525
Level     0,  Iter    20:    Energy =   0.0525
Level     0,  Iter    21:    Energy =   0.0526
Level     0,  Iter    22:    Energy =   0.0526
Level     0,  Iter    23:    Energy =   0.0526
Level     0,  Iter    24:    Energy =   0.0526
Level     0,  Iter    25:    Energy =   0.0527
Level     0,  Iter    26:    Energy =   0.0528
Level     0,  Iter    27:    Energy =   0.0529
Level     0,  Iter    28:    Energy =   0.0529
Level     0,  Iter    29:    Energy =   0.0529
Level     0,  Iter    30:    Energy =   0.0529
Level     0,  Iter    31:    Energy =   0.0530
Level     0,  Iter    32:    Energy =   0.0529
Level     0,  Iter    33:    Energy =   0.0529
Level     0,  Iter    34:    Energy =   0.0529
Level     0,  Iter    35:    Energy =   0.0528
Level     0,  Iter    36:    Energy =   0.0529
Level     0,  Iter    37:    Energy =   0.0528
Level     0,  Iter    38:    Energy =   0.0529
Level     0,  Iter    39:    Energy =   0.0529
Level     0,  Iter    40:    Energy =   0.0529
Level     0,  Iter    41:    Energy =   0.0529
Level     0,  Iter    42:    Energy =   0.0529
Level     0,  Iter    43:    Energy =   0.0529
Level     0,  Iter    44:    Energy =   0.0530
Level     0,  Iter    45:    Energy =   0.0530
Level     0,  Iter    46:    Energy =   0.0530
Level     0,  Iter    47:    Energy =   0.0530
Level     0,  Iter    48:    Energy =   0.0530
Level     0,  Iter    49:    Energy =   0.0530
Level     0,  Iter    50:    Energy =   0.0530
Level     0,  Iter    51:    Energy =   0.0530
Level     0,  Iter    52:    Energy =   0.0531
Level     0,  Iter    53:    Energy =   0.0531
Level     0,  Iter    54:    Energy =   0.0531
Level     0,  Iter    55:    Energy =   0.0531
Level     0,  Iter    56:    Energy =   0.0531
Level     0,  Iter    57:    Energy =   0.0531
Level     0,  Iter    58:    Energy =   0.0532
Level     0,  Iter    59:    Energy =   0.0532
END OF LEVEL     0    DetJac Range:   0.0400  to   2.4898 
  Avg. Gradient Time  : 0.0071s  33.31% 
  Avg. Gaussian Time  : 0.0103s  48.43% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0316
Level     1,  Iter     1:    Energy =   0.0328
Level     1,  Iter     2:    Energy =   0.0338
Level     1,  Iter     3:    Energy =   0.0347
Level     1,  Iter     4:    Energy =   0.0356
Level     1,  Iter     5:    Energy =   0.0364
Level     1,  Iter     6:    Energy =   0.0370
Level     1,  Iter     7:    Energy =   0.0376
Level     1,  Iter     8:    Energy =   0.0380
Level     1,  Iter     9:    Energy =   0.0384
Level     1,  Iter    10:    Energy =   0.0388
Level     1,  Iter    11:    Energy =   0.0391
Level     1,  Iter    12:    Energy =   0.0394
Level     1,  Iter    13:    Energy =   0.0397
Level     1,  Iter    14:    Energy =   0.0399
Level     1,  Iter    15:    Energy =   0.0401
Level     1,  Iter    16:    Energy =   0.0404
Level     1,  Iter    17:    Energy =   0.0406
Level     1,  Iter    18:    Energy =   0.0408
Level     1,  Iter    19:    Energy =   0.0410
Level     1,  Iter    20:    Energy =   0.0412
Level     1,  Iter    21:    Energy =   0.0413
Level     1,  Iter    22:    Energy =   0.0414
Level     1,  Iter    23:    Energy =   0.0415
Level     1,  Iter    24:    Energy =   0.0416
Level     1,  Iter    25:    Energy =   0.0417
Level     1,  Iter    26:    Energy =   0.0418
Level     1,  Iter    27:    Energy =   0.0418
Level     1,  Iter    28:    Energy =   0.0419
Level     1,  Iter    29:    Energy =   0.0420
Level     1,  Iter    30:    Energy =   0.0420
Level     1,  Iter    31:    Energy =   0.0421
Level     1,  Iter    32:    Energy =   0.0421
Level     1,  Iter    33:    Energy =   0.0421
Level     1,  Iter    34:    Energy =   0.0421
Level     1,  Iter    35:    Energy =   0.0421
Level     1,  Iter    36:    Energy =   0.0421
Level     1,  Iter    37:    Energy =   0.0421
Level     1,  Iter    38:    Energy =   0.0422
Level     1,  Iter    39:    Energy =   0.0422
Level     1,  Iter    40:    Energy =   0.0422
Level     1,  Iter    41:    Energy =   0.0422
Level     1,  Iter    42:    Energy =   0.0422
Level     1,  Iter    43:    Energy =   0.0422
Level     1,  Iter    44:    Energy =   0.0422
Level     1,  Iter    45:    Energy =   0.0422
Level     1,  Iter    46:    Energy =   0.0423
Level     1,  Iter    47:    Energy =   0.0423
Level     1,  Iter    48:    Energy =   0.0423
Level     1,  Iter    49:    Energy =   0.0423
Level     1,  Iter    50:    Energy =   0.0423
Level     1,  Iter    51:    Energy =   0.0423
Level     1,  Iter    52:    Energy =   0.0423
Level     1,  Iter    53:    Energy =   0.0423
Level     1,  Iter    54:    Energy =   0.0423
Level     1,  Iter    55:    Energy =   0.0423
Level     1,  Iter    56:    Energy =   0.0423
Level     1,  Iter    57:    Energy =   0.0423
Level     1,  Iter    58:    Energy =   0.0423
Level     1,  Iter    59:    Energy =   0.0423
END OF LEVEL     1    DetJac Range:   0.0463  to   2.2553 
  Avg. Gradient Time  : 0.0295s  34.58% 
  Avg. Gaussian Time  : 0.0439s  51.53% 
  Avg. Iteration Time : 0.0852s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0212
Level     2,  Iter     1:    Energy =   0.0220
Level     2,  Iter     2:    Energy =   0.0229
Level     2,  Iter     3:    Energy =   0.0237
Level     2,  Iter     4:    Energy =   0.0245
Level     2,  Iter     5:    Energy =   0.0252
Level     2,  Iter     6:    Energy =   0.0257
Level     2,  Iter     7:    Energy =   0.0262
Level     2,  Iter     8:    Energy =   0.0266
Level     2,  Iter     9:    Energy =   0.0269
Level     2,  Iter    10:    Energy =   0.0273
Level     2,  Iter    11:    Energy =   0.0276
Level     2,  Iter    12:    Energy =   0.0279
Level     2,  Iter    13:    Energy =   0.0282
Level     2,  Iter    14:    Energy =   0.0285
Level     2,  Iter    15:    Energy =   0.0287
Level     2,  Iter    16:    Energy =   0.0290
Level     2,  Iter    17:    Energy =   0.0293
Level     2,  Iter    18:    Energy =   0.0295
Level     2,  Iter    19:    Energy =   0.0296
END OF LEVEL     2    DetJac Range:   0.0219  to   2.7883 
  Avg. Gradient Time  : 0.1865s  32.56% 
  Avg. Gaussian Time  : 0.3092s  53.98% 
  Avg. Iteration Time : 0.5728s 

real	0m20.697s
user	0m35.800s
sys	0m2.420s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=58 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=58 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.448571 0.452857
+ echo 'CHUNK 0.448571 0.452857 1'
CHUNK 0.448571 0.452857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.448571 0.452857 1
====================================
         PROGRESS: 0.448571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local side=right
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26001/N4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.93, moving = 0.671
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 731.78   GNORM= 346.239
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       397.805     246.680       0.003
   2    3       165.535     284.275       1.000
   3    5      -486.013      87.510       5.000
   4    8      -517.671     187.561       2.321
   5   10      -653.687     113.089       0.538
   6   13      -673.811      78.392       0.181
   7   16      -708.940      98.102       2.306
   8   18      -712.857      85.399       0.056
   9   19      -748.111      58.833       1.000
  10   22      -776.926     200.333       2.291
  11   25      -780.013     515.247       0.086
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.971963 0.294478 -0.399204 9.29267 
0.284281 1.10777 -0.0884595 9.93013 
-0.14318 -0.218206 0.561678 -3.39499 
0 0 0 1 

