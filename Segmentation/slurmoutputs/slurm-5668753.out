Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 5668753
======
Time: Thu Jan  7 19:32:33 GMT 2021
Running on master node: wbic-cs-40
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-cs-40

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 27532/20200917_U-ID49943 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

mkdir: cannot create directory â€˜/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532â€™: File exists
Beginning ASHS for:  27532
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/t2.nii
ASHS started at 19:32:33


 ASHS completed for 27532 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27532
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:33


 ASHS completed for 27532 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27532
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:33


 ASHS completed for 27532 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27532
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:33


 ASHS completed for 27532 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27532
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/t2.nii
ASHS started at 19:32:33


 ASHS completed for 27532 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27532
ASHS started at 19:32:33


 ASHS completed for 27532 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27532
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 164: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht: No such file or directory
ASHS started at 19:32:33
ashs_main execution log
  timestamp:   Thu Jan  7 19:32:33 GMT 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 27532 -a /home/ccn30/ENCRYPT/atlases/utrechtatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseBrain
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=27532
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht
Atlas    : /home/ccn30/ENCRYPT/atlases/utrechtatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/tse.nii.gz -resample 100x100x100% -region 20x20x0% 60x60x100% -type short -o /tmp/ashs.cLpjEQQy/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.cLpjEQQy/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 24
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2375.59   GNORM= 89.4433
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2454.747      68.262       0.011
   2    3     -2626.873      24.388       1.000
   3    4     -2644.842      18.070       1.000
   4    5     -2649.462       8.732       1.000
   5    6     -2650.904       4.455       1.000
   6    7     -2651.543       2.508       1.000
   7    9     -2651.613       3.273       0.411
   8   11     -2651.701       2.064       0.224
   9   13     -2651.724       2.338       0.163
  10   14     -2651.777       2.156       1.000
  11   16     -2651.808       2.019       0.378
  12   17     -2651.833       1.226       1.000
  13   19     -2651.838       0.933       0.219
  14   22     -2651.839       1.231       0.035
  15   24     -2651.839       1.083       0.188
  16   25     -2651.842       0.858       1.000
  17   27     -2651.842       0.853       0.230
  18   28     -2651.843       0.720       1.000
  19   29     -2651.845       0.458       1.000
  20   31     -2651.845       0.796       0.490
  21   33     -2651.845       0.781       0.519
  22   34     -2651.845       0.473       1.000
  23   35     -2651.846       0.232       1.000
  24   36     -2651.846       0.304       1.000
  25   40     -2651.846       0.398       1.130
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999973 -0.00092766 0.00735312 0.690604 
0.00177938 0.993167 -0.116686 -0.0842551 
-0.00719463 0.116696 0.993142 -4.47024 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2100.91   GNORM= 46.472
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4     -2223.282      37.189       0.061
   2    6     -2235.954      46.530       0.208
   3    7     -2267.652      49.965       1.000
   4    8     -2280.269      45.163       1.000
   5    9     -2292.725      28.712       1.000
   6   10     -2308.600      24.219       1.000
   7   11     -2336.844      26.717       1.000
   8   12     -2338.925      15.495       1.000
   9   13     -2340.371       4.297       1.000
  10   14     -2340.510       2.048       1.000
  11   15     -2340.591       1.783       1.000
  12   16     -2340.677       3.493       1.000
  13   17     -2340.733       1.252       1.000
  14   18     -2340.735       0.949       1.000
  15   19     -2340.741       0.478       1.000
  16   20     -2340.742       0.219       1.000
  17   22     -2340.742       0.075       0.502
  18   23     -2340.742       0.130       1.000
  19   24     -2340.742       0.078       1.000
  20   25     -2340.742       0.070       1.000
  21   26     -2340.742       0.039       1.000
  22   27     -2340.742       0.017       1.000
  23   29     -2340.742       0.022       0.432
  24   31     -2340.742       0.035       0.188
  25   33     -2340.742       0.016       0.394
  26   34     -2340.742       0.012       1.000
  27   35     -2340.742       0.011       1.000
  28   39     -2340.742       0.026       1.213
  29   41     -2340.742       0.024       0.517
  30   43     -2340.742       0.020       0.356
  31   45     -2340.742       0.020       0.355
  32   46     -2340.742       0.022       1.000
  33   48     -2340.742       0.017       0.523
  34   50     -2340.742       0.015       0.159
  35   52     -2340.742       0.023       0.160
  36   53     -2340.742       0.016       1.000
  37   58     -2340.742       0.017       0.351
  38   63     -2340.742       0.011       0.003
  39   65     -2340.742       0.010       0.255
  40   68     -2340.742       0.016       2.037
  41   69     -2340.742       0.016       1.000
  42   70     -2340.742       0.011       1.000
  43   71     -2340.742       0.010       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999842 -0.0119305 0.0131773 -0.0107423 
0.01274 0.997922 -0.0631627 0.949947 
-0.0123963 0.0633206 0.997916 -0.730357 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2800.98   GNORM= 201.862
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2842.709      44.598       0.002
   2    4     -2846.060      37.844       1.000
   3    5     -2857.523      62.234       1.000
   4    6     -2875.632     106.525       1.000
   5    7     -2900.131     104.952       1.000
   6    9     -2902.025     101.596       0.074
   7   10     -2911.343      18.810       1.000
   8   11     -2911.991       8.235       1.000
Final RAS Transform: 
0.999814 -0.011412 0.0155373 -0.139669 
0.0121549 0.998745 -0.0485915 0.44613 
-0.0149633 0.0487713 0.998698 -0.233622 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 54.888
Rigid search -> Initial best: -268.994 5.89806e-17 -7.15264e-19 -1.39057e-16 2.36181 46.0487 0.843053
New best: -276.515 -0.0782742 0.0199108 -0.0191854 2.58531 38.9779 -4.8059
New best: -488.144 0.0466339 0.00759078 0.0670481 -1.99411 52.7522 9.41819
New best: -528.461 0.0810471 0.015444 0.120831 4.29232 46.1029 5.76925
New best: -530.459 0.0715428 0.0724489 -0.0507586 7.84295 57.5258 12.5328
New best: -538.283 -0.00384622 0.00132025 0.00363836 8.5736 54.2585 14.6656
New best: -594.966 -0.0507409 0.0477414 0.187628 -2.62861 40.2071 0.881783
New best: -607.731 -0.0646239 -0.12686 0.18294 -0.38663 47.0927 3.41527
New best: -620.122 0.0338681 -0.0819369 0.0325653 7.23363 34.587 7.53645
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -620.122   GNORM= 91.9345
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -621.578      80.049       0.001
   2    5      -621.656     125.807       1.000
   3    6      -622.482      30.237       1.000
   4   10      -623.103      26.726       1.314
   5   12      -626.146      28.945       5.000
   6   16      -627.032      17.443       0.280
   7   17      -627.148      15.420       1.000
   8   20      -627.161       7.370       0.044
   9   22      -627.162       5.652       0.084
  10   23      -627.166       2.699       1.000
  11   30      -627.315      11.342      22.620
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.996192 -0.035841 -0.0794813 7.30816 
0.0326626 0.998628 -0.0409363 34.4226 
0.0808394 0.0381843 0.995995 7.63946 
0 0 0 1 

Final RAS Transform: 
0.996192 -0.035841 -0.0794813 7.30816 
0.0326626 0.998628 -0.0409363 34.4226 
0.0808394 0.0381843 0.995995 7.63946 
0 0 0 1 

Final RAS Transform: 
0.996192 -0.035841 -0.0794813 7.30816 
0.0326626 0.998628 -0.0409363 34.4226 
0.0808394 0.0381843 0.995995 7.63946 
0 0 0 1 

Final RAS Transform: 
0.996192 -0.035841 -0.0794813 7.30816 
0.0326626 0.998628 -0.0409363 34.4226 
0.0808394 0.0381843 0.995995 7.63946 
0 0 0 1 


real	1m30.429s
user	2m20.988s
sys	0m7.652s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 54.888
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -627.316   GNORM= 23.9291
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -892.770      35.670       0.209
   2    4     -2324.637       2.585       1.000
   3    5     -2345.330       7.897       1.000
   4    6     -2400.120       5.008       1.000
   5    7     -2407.898       0.549       1.000
   6    8     -2408.366       0.635       1.000
   7   10     -2408.564       0.431       0.165
   8   11     -2408.695       0.410       1.000
   9   12     -2408.885       0.573       1.000
  10   13     -2409.186       0.282       1.000
  11   14     -2409.311       0.205       1.000
  12   15     -2409.424       0.479       1.000
  13   17     -2409.441       0.334       0.334
  14   18     -2409.507       0.174       1.000
  15   19     -2409.540       0.234       1.000
  16   20     -2409.579       0.227       1.000
  17   21     -2409.636       0.148       1.000
  18   24     -2409.678       0.166       0.028
  19   26     -2409.684       0.414       0.298
  20   27     -2409.709       0.167       1.000
  21   28     -2409.716       0.142       1.000
  22   29     -2409.728       0.086       1.000
  23   30     -2409.732       0.068       1.000
  24   31     -2409.735       0.108       1.000
  25   33     -2409.737       0.112       0.344
  26   35     -2409.738       0.110       0.195
  27   37     -2409.740       0.147       0.517
  28   39     -2409.741       0.235       0.144
  29   41     -2409.741       0.180       0.176
  30   42     -2409.742       0.200       1.000
  31   43     -2409.742       0.119       1.000
  32   44     -2409.743       0.089       1.000
  33   45     -2409.744       0.102       1.000
  34   48     -2409.744       0.124       0.030
  35   49     -2409.745       0.172       1.000
  36   50     -2409.745       0.074       1.000
  37   51     -2409.746       0.086       1.000
  38   52     -2409.746       0.276       1.000
  39   53     -2409.747       0.077       1.000
  40   55     -2409.747       0.065       0.377
  41   56     -2409.747       0.059       1.000
  42   57     -2409.747       0.075       1.000
  43   58     -2409.748       0.099       1.000
  44   59     -2409.748       0.101       1.000
  45   61     -2409.748       0.108       0.388
  46   62     -2409.748       0.091       1.000
  47   63     -2409.749       0.067       1.000
  48   65     -2409.750       0.071       0.182
  49   66     -2409.750       0.094       1.000
  50   69     -2409.751       0.092       1.323
  51   76     -2409.752       0.176       0.655
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
4.16528 -0.231755 -0.368043 49.4902 
-0.0107605 2.66826 -0.907486 13.8279 
-1.35 0.41154 4.12968 18.3939 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2677.02   GNORM= 0.254248
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2677.099       0.197      19.666
   2    5     -2678.209       0.262       5.000
   3    6     -2679.838       0.304       1.000
   4    8     -2679.987       0.336       0.259
   5   12     -2679.994       0.366       0.005
   6   13     -2680.057       0.269       1.000
   7   16     -2680.069       0.272       0.046
   8   18     -2680.088       0.154       0.276
   9   19     -2680.159       0.191       1.000
  10   21     -2680.196       0.176       0.272
  11   22     -2680.222       0.163       1.000
  12   23     -2680.227       0.116       1.000
  13   24     -2680.257       0.139       1.000
  14   25     -2680.263       0.188       1.000
  15   26     -2680.338       0.110       1.000
  16   28     -2680.341       0.134       0.198
  17   29     -2680.352       0.237       1.000
  18   31     -2680.360       0.049       0.188
  19   32     -2680.362       0.045       1.000
  20   33     -2680.366       0.085       1.000
  21   35     -2680.366       0.186       0.262
  22   36     -2680.374       0.141       1.000
  23   37     -2680.383       0.114       1.000
  24   38     -2680.392       0.057       1.000
  25   39     -2680.399       0.163       1.000
  26   40     -2680.426       0.110       1.000
  27   41     -2680.430       0.051       1.000
  28   42     -2680.431       0.119       1.000
  29   43     -2680.436       0.061       1.000
  30   44     -2680.440       0.074       1.000
  31   46     -2680.442       0.163       0.161
  32   47     -2680.444       0.034       1.000
  33   48     -2680.444       0.079       1.000
  34   50     -2680.450       0.209       5.000
  35   52     -2680.452       0.156       0.302
  36   53     -2680.458       0.108       1.000
  37   55     -2680.461       0.153       0.270
  38   56     -2680.463       0.131       1.000
  39   57     -2680.465       0.076       1.000
  40   58     -2680.466       0.054       1.000
  41   59     -2680.468       0.069       1.000
  42   60     -2680.479       0.059       1.000
  43   64     -2680.479       0.053       0.004
  44   66     -2680.479       0.129       0.311
  45   67     -2680.481       0.155       1.000
  46   68     -2680.482       0.079       1.000
  47   69     -2680.482       0.057       1.000
  48   70     -2680.484       0.068       1.000
  49   71     -2680.485       0.064       1.000
  50   75     -2680.485       0.052       0.012
Final RAS Transform: 
4.32975 0.0233254 -0.311382 22.1666 
-0.326116 2.22372 -1.27166 118.691 
-1.46239 0.426382 4.05763 29.3459 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2800.46   GNORM= 0.113348
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2800.520       0.129       8.822
   2    3     -2800.534       0.099       1.000
   3    5     -2800.537       0.080       0.412
   4    7     -2800.539       0.073       0.207
   5    9     -2800.543       0.110       0.474
   6   10     -2800.560       0.038       1.000
   7   12     -2800.560       0.034       0.238
   8   13     -2800.561       0.053       1.000
   9   17     -2800.561       0.038       0.281
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
4.32989 0.021562 -0.311244 23.5447 
-0.326274 2.22264 -1.27153 118.55 
-1.4623 0.427083 4.05753 28.6499 
0 0 0 1 

Final RAS Transform: 
4.32989 0.021562 -0.311244 23.5447 
-0.326274 2.22264 -1.27153 118.55 
-1.4623 0.427083 4.05753 28.6499 
0 0 0 1 


real	3m28.570s
user	6m15.412s
sys	0m8.576s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 24
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27532/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 0
LEVEL 1 of 4
  Smoothing sigmas: [9.11606, 9.11606, 6.92825], [3.72161, 3.72161, 2.82845]
Level     0,  Iter     0:    Energy =  -0.0000
Level     0,  Iter     1:    Energy =   0.0002
Level     0,  Iter     2:    Energy =   0.0002
Level     0,  Iter     3:    Energy =   0.0003
Level     0,  Iter     4:    Energy =   0.0005
Level     0,  Iter     5:    Energy =   0.0007
Level     0,  Iter     6:    Energy =   0.0008
Level     0,  Iter     7:    Energy =   0.0009
Level     0,  Iter     8:    Energy =   0.0009
Level     0,  Iter     9:    Energy =   0.0010
Level     0,  Iter    10:    Energy =   0.0011
Level     0,  Iter    11:    Energy =   0.0011
Level     0,  Iter    12:    Energy =   0.0012
Level     0,  Iter    13:    Energy =   0.0012
Level     0,  Iter    14:    Energy =   0.0013
Level     0,  Iter    15:    Energy =   0.0013
Level     0,  Iter    16:    Energy =   0.0014
Level     0,  Iter    17:    Energy =   0.0014
Level     0,  Iter    18:    Energy =   0.0014
Level     0,  Iter    19:    Energy =   0.0015
Level     0,  Iter    20:    Energy =   0.0014
Level     0,  Iter    21:    Energy =   0.0014
Level     0,  Iter    22:    Energy =   0.0015
Level     0,  Iter    23:    Energy =   0.0015
Level     0,  Iter    24:    Energy =   0.0016
Level     0,  Iter    25:    Energy =   0.0016
Level     0,  Iter    26:    Energy =   0.0017
Level     0,  Iter    27:    Energy =   0.0017
Level     0,  Iter    28:    Energy =   0.0017
Level     0,  Iter    29:    Energy =   0.0017
Level     0,  Iter    30:    Energy =   0.0017
Level     0,  Iter    31:    Energy =   0.0017
Level     0,  Iter    32:    Energy =   0.0018
Level     0,  Iter    33:    Energy =   0.0018
Level     0,  Iter    34:    Energy =   0.0018
Level     0,  Iter    35:    Energy =   0.0018
Level     0,  Iter    36:    Energy =   0.0018
Level     0,  Iter    37:    Energy =   0.0018
Level     0,  Iter    38:    Energy =   0.0019
Level     0,  Iter    39:    Energy =   0.0019
Level     0,  Iter    40:    Energy =   0.0019
Level     0,  Iter    41:    Energy =   0.0018
Level     0,  Iter    42:    Energy =   0.0018
Level     0,  Iter    43:    Energy =   0.0019
Level     0,  Iter    44:    Energy =   0.0019
Level     0,  Iter    45:    Energy =   0.0019
Level     0,  Iter    46:    Energy =   0.0019
Level     0,  Iter    47:    Energy =   0.0020
Level     0,  Iter    48:    Energy =   0.0020
Level     0,  Iter    49:    Energy =   0.0020
Level     0,  Iter    50:    Energy =   0.0021
Level     0,  Iter    51:    Energy =   0.0022
Level     0,  Iter    52:    Energy =   0.0022
Level     0,  Iter    53:    Energy =   0.0022
Level     0,  Iter    54:    Energy =   0.0023
Level     0,  Iter    55:    Energy =   0.0023
Level     0,  Iter    56:    Energy =   0.0023
Level     0,  Iter    57:    Energy =   0.0023
Level     0,  Iter    58:    Energy =   0.0023
Level     0,  Iter    59:    Energy =   0.0024
END OF LEVEL     0    DetJac Range:   0.2823  to   1.8439 
  Avg. Gradient Time  : 0.0185s  36.85% 
  Avg. Gaussian Time  : 0.0249s  49.74% 
  Avg. Iteration Time : 0.0502s 
LEVEL 2 of 4
  Smoothing sigmas: [4.55803, 4.55803, 3.46412], [1.86081, 1.86081, 1.41422]
Level     1,  Iter     0:    Energy =   0.0008
Level     1,  Iter     1:    Energy =   0.0008
Level     1,  Iter     2:    Energy =   0.0009
Level     1,  Iter     3:    Energy =   0.0009
Level     1,  Iter     4:    Energy =   0.0010
Level     1,  Iter     5:    Energy =   0.0011
Level     1,  Iter     6:    Energy =   0.0011
Level     1,  Iter     7:    Energy =   0.0011
Level     1,  Iter     8:    Energy =   0.0011
Level     1,  Iter     9:    Energy =   0.0011
Level     1,  Iter    10:    Energy =   0.0010
Level     1,  Iter    11:    Energy =   0.0010
Level     1,  Iter    12:    Energy =   0.0010
Level     1,  Iter    13:    Energy =   0.0010
Level     1,  Iter    14:    Energy =   0.0010
Level     1,  Iter    15:    Energy =   0.0010
Level     1,  Iter    16:    Energy =   0.0010
Level     1,  Iter    17:    Energy =   0.0010
Level     1,  Iter    18:    Energy =   0.0010
Level     1,  Iter    19:    Energy =   0.0010
Level     1,  Iter    20:    Energy =   0.0010
Level     1,  Iter    21:    Energy =   0.0011
Level     1,  Iter    22:    Energy =   0.0011
Level     1,  Iter    23:    Energy =   0.0010
Level     1,  Iter    24:    Energy =   0.0011
Level     1,  Iter    25:    Energy =   0.0011
Level     1,  Iter    26:    Energy =   0.0011
Level     1,  Iter    27:    Energy =   0.0011
big value: 1509.880573
Level     1,  Iter    28:    Energy =   0.0010
Level     1,  Iter    29:    Energy =   0.0010
Level     1,  Iter    30:    Energy =   0.0010
Level     1,  Iter    31:    Energy =   0.0010
Level     1,  Iter    32:    Energy =   0.0010
Level     1,  Iter    33:    Energy =   0.0010
big value: 2669.002704
Level     1,  Iter    34:    Energy =   0.0010
big value: 1112.859664
big value: 2973.054159
Level     1,  Iter    35:    Energy =   0.0010
big value: 4585.271184
big value: 4044.850514
Level     1,  Iter    36:    Energy =   0.0010
Level     1,  Iter    37:    Energy =   0.0009
Level     1,  Iter    38:    Energy =   0.0009
Level     1,  Iter    39:    Energy =   0.0010
Level     1,  Iter    40:    Energy =   0.0010
Level     1,  Iter    41:    Energy =   0.0010
Level     1,  Iter    42:    Energy =   0.0010
Level     1,  Iter    43:    Energy =   0.0010
Level     1,  Iter    44:    Energy =   0.0010
Level     1,  Iter    45:    Energy =   0.0010
Level     1,  Iter    46:    Energy =   0.0011
Level     1,  Iter    47:    Energy =   0.0011
Level     1,  Iter    48:    Energy =   0.0010
Level     1,  Iter    49:    Energy =   0.0011
Level     1,  Iter    50:    Energy =   0.0011
Level     1,  Iter    51:    Energy =   0.0011
Level     1,  Iter    52:    Energy =   0.0011
Level     1,  Iter    53:    Energy =   0.0010
Level     1,  Iter    54:    Energy =   0.0010
Level     1,  Iter    55:    Energy =   0.0010
Level     1,  Iter    56:    Energy =   0.0011
Level     1,  Iter    57:    Energy =   0.0011
Level     1,  Iter    58:    Energy =   0.0011
Level     1,  Iter    59:    Energy =   0.0010
END OF LEVEL     1    DetJac Range:   0.3567  to   1.4146 
  Avg. Gradient Time  : 0.1455s  37.72% 
  Avg. Gaussian Time  : 0.1984s  51.43% 
  Avg. Iteration Time : 0.3858s 
LEVEL 3 of 4
  Smoothing sigmas: [2.27901, 2.27901, 1.73206], [0.930404, 0.930404, 0.707111]
big value: 1039.767254
Level     2,  Iter     0:    Energy =   0.0004
Level     2,  Iter     1:    Energy =   0.0004
big value: 1205.376959
big value: 2229.154477
big value: 1201.741286
Level     2,  Iter     2:    Energy =   0.0004
Level     2,  Iter     3:    Energy =   0.0004
big value: 1067.276815
big value: -1235.646756
big value: 1368.654237
Level     2,  Iter     4:    Energy =   0.0004
big value: 1387.059449
Level     2,  Iter     5:    Energy =   0.0004
Level     2,  Iter     6:    Energy =   0.0004
Level     2,  Iter     7:    Energy =   0.0004
Level     2,  Iter     8:    Energy =   0.0004
big value: 1188.167509
Level     2,  Iter     9:    Energy =   0.0004
Level     2,  Iter    10:    Energy =   0.0004
Level     2,  Iter    11:    Energy =   0.0004
Level     2,  Iter    12:    Energy =   0.0004
big value: 1287.257776
big value: 1552.424391
Level     2,  Iter    13:    Energy =   0.0004
Level     2,  Iter    14:    Energy =   0.0004
Level     2,  Iter    15:    Energy =   0.0004
big value: 2281.165091
Level     2,  Iter    16:    Energy =   0.0004
big value: 1328.147453
Level     2,  Iter    17:    Energy =   0.0004
big value: 1324.744031
Level     2,  Iter    18:    Energy =   0.0004
Level     2,  Iter    19:    Energy =   0.0004
END OF LEVEL     2    DetJac Range:   0.4212  to   1.3127 
  Avg. Gradient Time  : 1.2450s  31.91% 
  Avg. Gaussian Time  : 2.3463s  60.13% 
  Avg. Iteration Time : 3.9018s 
LEVEL 4 of 4
  Smoothing sigmas: [1.13951, 1.13951, 0.866031], [0.465202, 0.465202, 0.353556]
slurmstepd: error: Job 5668753 exceeded memory limit (7179576 > 7168000), being killed
slurmstepd: error: Exceeded job memory limit
slurmstepd: error: *** JOB 5668753 ON wbic-cs-40 CANCELLED AT 2021-01-07T19:42:33 ***
