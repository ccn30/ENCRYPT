Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 6025735
======
Time: Thu Jan 14 21:44:48 GMT 2021
Running on master node: wbic-cs-29
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-cs-29

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 27241/20200914_U-ID49906 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Beginning ASHS for:  27241
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 54: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/original: No such file or directory
Beginning ASHS for:  27241
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 65: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/N4T2: No such file or directory
Beginning ASHS for:  27241
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
ashs_main execution log
  timestamp:   Thu Jan 14 21:44:49 GMT 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 27241 -a /home/ccn30/ENCRYPT/atlases/utrechtatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 -N
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SKIP_ANTS=1
    ASHS_SKIP_RIGID=1
    ASHS_SUBJID=27241
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
Atlas    : /home/ccn30/ENCRYPT/atlases/utrechtatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 1
  Skip Ants: 1
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -resample 100x100x100% -region 20x20x0% 60x60x100% -type short -o /tmp/ashs.WHKJKD3I/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.WHKJKD3I/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 24
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1900.73   GNORM= 31.175
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1906.789      18.523       0.013
   2    4     -1909.591      13.185       1.000
   3    5     -1912.042      21.344       1.000
   4    6     -1915.345       6.123       1.000
   5    7     -1915.782       3.957       1.000
   6    8     -1916.067       4.706       1.000
   7    9     -1916.135       2.922       1.000
   8   10     -1916.214       2.098       1.000
   9   12     -1916.227       1.603       0.119
  10   14     -1916.231       2.271       0.144
  11   15     -1916.237       2.852       1.000
  12   16     -1916.250       1.959       1.000
  13   17     -1916.253       1.220       1.000
  14   19     -1916.258       0.999       5.000
  15   21     -1916.270       1.709       5.000
  16   22     -1916.275       1.469       1.000
  17   24     -1916.275       0.471       0.311
  18   28     -1916.275       0.547       0.030
  19   29     -1916.275       1.101       1.000
  20   32     -1916.275       0.880       0.688
  21   33     -1916.275       0.649       1.000
  22   34     -1916.276       0.766       1.000
  23   35     -1916.276       0.913       1.000
  24   36     -1916.277       1.593       1.000
  25   38     -1916.277       1.915       0.107
  26   41     -1916.277       2.352       0.018
  27   42     -1916.277       1.963       1.000
  28   44     -1916.281       0.894       5.000
  29   45     -1916.286       1.443       1.000
  30   50     -1916.316       5.113       7.615
  31   51     -1916.324       4.840       1.000
  32   53     -1916.361       4.347       0.415
  33   55     -1916.392       2.406       0.297
  34   56     -1916.403       1.367       1.000
  35   57     -1916.419       1.808       1.000
  36   59     -1916.452       0.740       0.224
  37   61     -1916.452       1.407       0.336
  38   63     -1916.459       1.569       0.552
  39   65     -1916.461       1.862       0.072
  40   66     -1916.466       1.992       1.000
  41   67     -1916.472       1.876       1.000
  42   68     -1916.474       1.460       1.000
  43   69     -1916.475       1.415       1.000
  44   70     -1916.480       1.236       1.000
  45   72     -1916.481       1.457       0.222
  46   74     -1916.483       1.022       0.353
  47   75     -1916.483       0.939       1.000
  48   76     -1916.484       0.651       1.000
  49   78     -1916.485       0.785       0.286
  50   79     -1916.485       0.848       1.000
  51   81     -1916.486       0.483       0.248
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999779 0.0204189 -0.005052 0.120557 
-0.0203678 0.999743 0.00996484 -0.391243 
0.00525417 -0.00985974 0.999938 0.621166 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1868.5   GNORM= 71.2769
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1878.687      65.848       0.014
   2    3     -1892.256      14.811       1.000
   3    4     -1893.589      12.923       1.000
   4    5     -1901.397      15.307       1.000
   5    6     -1902.674      21.095       1.000
   6    7     -1903.763      16.838       1.000
   7    8     -1904.560       2.085       1.000
   8    9     -1904.587       0.729       1.000
   9   10     -1904.587       0.644       1.000
  10   11     -1904.588       0.202       1.000
  11   12     -1904.588       0.177       1.000
  12   13     -1904.589       0.152       1.000
  13   14     -1904.589       0.155       1.000
  14   15     -1904.589       0.117       1.000
  15   16     -1904.589       0.156       1.000
  16   18     -1904.589       0.142       0.145
  17   20     -1904.589       0.068       0.371
  18   21     -1904.589       0.017       1.000
  19   23     -1904.589       0.028       0.515
  20   25     -1904.589       0.035       0.071
  21   26     -1904.589       0.021       1.000
  22   27     -1904.589       0.013       1.000
  23   30     -1904.589       0.021       0.075
  24   31     -1904.589       0.013       1.000
  25   32     -1904.589       0.012       1.000
  26   34     -1904.589       0.019       0.329
  27   35     -1904.589       0.019       1.000
  28   37     -1904.589       0.021       0.492
  29   38     -1904.589       0.016       1.000
  30   39     -1904.589       0.012       1.000
  31   42     -1904.589       0.056       1.823
  32   45     -1904.589       0.041       2.816
  33   47     -1904.589       0.031       0.183
  34   48     -1904.589       0.025       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999909 0.0133463 0.00185414 -0.0630549 
-0.0133858 0.99964 0.0232494 -0.873807 
-0.00154318 -0.0232721 0.999728 1.46431 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2151.32   GNORM= 77.3177
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2156.521      16.767       0.002
   2    4     -2156.985      14.637       1.000
   3    5     -2158.159      22.831       1.000
   4    6     -2159.836      27.386       1.000
   5    8     -2160.273      29.675       0.297
   6    9     -2161.091      10.283       1.000
   7   10     -2161.207       4.157       1.000
   8   11     -2161.250       4.708       1.000
Final RAS Transform: 
0.999943 0.0106542 0.00119746 0.0112245 
-0.0106799 0.999654 0.0240305 -0.789511 
-0.00094102 -0.0240419 0.999711 1.42681 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat ]]
+ [[ -n 1 ]]
+ echo 'Skipping Affine Registration'
Skipping Affine Registration
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 71.588
LEVEL 1 of 4
  Smoothing sigmas: [9.11606, 9.11606, 6.92825], [3.72161, 3.72161, 2.82845]
Level     0,  Iter     0:    Energy =   0.0460
Level     0,  Iter     1:    Energy =   0.0499
Level     0,  Iter     2:    Energy =   0.0530
Level     0,  Iter     3:    Energy =   0.0552
Level     0,  Iter     4:    Energy =   0.0566
Level     0,  Iter     5:    Energy =   0.0574
Level     0,  Iter     6:    Energy =   0.0578
Level     0,  Iter     7:    Energy =   0.0580
Level     0,  Iter     8:    Energy =   0.0583
Level     0,  Iter     9:    Energy =   0.0584
Level     0,  Iter    10:    Energy =   0.0585
Level     0,  Iter    11:    Energy =   0.0586
Level     0,  Iter    12:    Energy =   0.0587
Level     0,  Iter    13:    Energy =   0.0588
Level     0,  Iter    14:    Energy =   0.0589
Level     0,  Iter    15:    Energy =   0.0590
Level     0,  Iter    16:    Energy =   0.0590
Level     0,  Iter    17:    Energy =   0.0591
Level     0,  Iter    18:    Energy =   0.0591
Level     0,  Iter    19:    Energy =   0.0592
Level     0,  Iter    20:    Energy =   0.0592
Level     0,  Iter    21:    Energy =   0.0593
Level     0,  Iter    22:    Energy =   0.0593
Level     0,  Iter    23:    Energy =   0.0593
Level     0,  Iter    24:    Energy =   0.0593
Level     0,  Iter    25:    Energy =   0.0594
Level     0,  Iter    26:    Energy =   0.0594
Level     0,  Iter    27:    Energy =   0.0594
Level     0,  Iter    28:    Energy =   0.0594
Level     0,  Iter    29:    Energy =   0.0595
Level     0,  Iter    30:    Energy =   0.0595
Level     0,  Iter    31:    Energy =   0.0595
Level     0,  Iter    32:    Energy =   0.0595
Level     0,  Iter    33:    Energy =   0.0595
Level     0,  Iter    34:    Energy =   0.0595
Level     0,  Iter    35:    Energy =   0.0595
Level     0,  Iter    36:    Energy =   0.0596
Level     0,  Iter    37:    Energy =   0.0596
Level     0,  Iter    38:    Energy =   0.0596
Level     0,  Iter    39:    Energy =   0.0596
Level     0,  Iter    40:    Energy =   0.0596
Level     0,  Iter    41:    Energy =   0.0596
Level     0,  Iter    42:    Energy =   0.0596
Level     0,  Iter    43:    Energy =   0.0596
Level     0,  Iter    44:    Energy =   0.0596
Level     0,  Iter    45:    Energy =   0.0596
Level     0,  Iter    46:    Energy =   0.0596
Level     0,  Iter    47:    Energy =   0.0596
Level     0,  Iter    48:    Energy =   0.0597
Level     0,  Iter    49:    Energy =   0.0596
Level     0,  Iter    50:    Energy =   0.0597
Level     0,  Iter    51:    Energy =   0.0596
Level     0,  Iter    52:    Energy =   0.0597
Level     0,  Iter    53:    Energy =   0.0596
Level     0,  Iter    54:    Energy =   0.0597
Level     0,  Iter    55:    Energy =   0.0597
Level     0,  Iter    56:    Energy =   0.0597
Level     0,  Iter    57:    Energy =   0.0597
Level     0,  Iter    58:    Energy =   0.0597
Level     0,  Iter    59:    Energy =   0.0597
END OF LEVEL     0    DetJac Range:   0.5065  to   1.5227 
  Avg. Gradient Time  : 0.0185s  36.95% 
  Avg. Gaussian Time  : 0.0249s  49.73% 
  Avg. Iteration Time : 0.0501s 
LEVEL 2 of 4
  Smoothing sigmas: [4.55803, 4.55803, 3.46412], [1.86081, 1.86081, 1.41422]
Level     1,  Iter     0:    Energy =   0.0565
Level     1,  Iter     1:    Energy =   0.0590
Level     1,  Iter     2:    Energy =   0.0615
Level     1,  Iter     3:    Energy =   0.0635
Level     1,  Iter     4:    Energy =   0.0646
Level     1,  Iter     5:    Energy =   0.0656
Level     1,  Iter     6:    Energy =   0.0670
Level     1,  Iter     7:    Energy =   0.0681
Level     1,  Iter     8:    Energy =   0.0688
Level     1,  Iter     9:    Energy =   0.0691
Level     1,  Iter    10:    Energy =   0.0693
Level     1,  Iter    11:    Energy =   0.0696
Level     1,  Iter    12:    Energy =   0.0697
Level     1,  Iter    13:    Energy =   0.0699
Level     1,  Iter    14:    Energy =   0.0701
Level     1,  Iter    15:    Energy =   0.0702
Level     1,  Iter    16:    Energy =   0.0704
Level     1,  Iter    17:    Energy =   0.0705
Level     1,  Iter    18:    Energy =   0.0706
Level     1,  Iter    19:    Energy =   0.0708
Level     1,  Iter    20:    Energy =   0.0708
Level     1,  Iter    21:    Energy =   0.0710
Level     1,  Iter    22:    Energy =   0.0711
Level     1,  Iter    23:    Energy =   0.0712
Level     1,  Iter    24:    Energy =   0.0712
Level     1,  Iter    25:    Energy =   0.0713
Level     1,  Iter    26:    Energy =   0.0714
Level     1,  Iter    27:    Energy =   0.0715
Level     1,  Iter    28:    Energy =   0.0715
Level     1,  Iter    29:    Energy =   0.0716
Level     1,  Iter    30:    Energy =   0.0716
Level     1,  Iter    31:    Energy =   0.0717
Level     1,  Iter    32:    Energy =   0.0717
Level     1,  Iter    33:    Energy =   0.0718
Level     1,  Iter    34:    Energy =   0.0718
Level     1,  Iter    35:    Energy =   0.0719
Level     1,  Iter    36:    Energy =   0.0719
Level     1,  Iter    37:    Energy =   0.0720
Level     1,  Iter    38:    Energy =   0.0720
Level     1,  Iter    39:    Energy =   0.0721
Level     1,  Iter    40:    Energy =   0.0721
Level     1,  Iter    41:    Energy =   0.0722
Level     1,  Iter    42:    Energy =   0.0722
Level     1,  Iter    43:    Energy =   0.0722
Level     1,  Iter    44:    Energy =   0.0722
Level     1,  Iter    45:    Energy =   0.0723
Level     1,  Iter    46:    Energy =   0.0723
Level     1,  Iter    47:    Energy =   0.0723
Level     1,  Iter    48:    Energy =   0.0723
Level     1,  Iter    49:    Energy =   0.0724
Level     1,  Iter    50:    Energy =   0.0723
Level     1,  Iter    51:    Energy =   0.0724
Level     1,  Iter    52:    Energy =   0.0724
Level     1,  Iter    53:    Energy =   0.0724
Level     1,  Iter    54:    Energy =   0.0724
Level     1,  Iter    55:    Energy =   0.0724
Level     1,  Iter    56:    Energy =   0.0724
Level     1,  Iter    57:    Energy =   0.0725
Level     1,  Iter    58:    Energy =   0.0724
Level     1,  Iter    59:    Energy =   0.0725
END OF LEVEL     1    DetJac Range:   0.1711  to   2.6443 
  Avg. Gradient Time  : 0.1408s  37.63% 
  Avg. Gaussian Time  : 0.1931s  51.60% 
  Avg. Iteration Time : 0.3742s 
LEVEL 3 of 4
  Smoothing sigmas: [2.27901, 2.27901, 1.73206], [0.930404, 0.930404, 0.707111]
Level     2,  Iter     0:    Energy =   0.0528
Level     2,  Iter     1:    Energy =   0.0547
Level     2,  Iter     2:    Energy =   0.0567
Level     2,  Iter     3:    Energy =   0.0583
Level     2,  Iter     4:    Energy =   0.0597
Level     2,  Iter     5:    Energy =   0.0609
Level     2,  Iter     6:    Energy =   0.0621
Level     2,  Iter     7:    Energy =   0.0628
Level     2,  Iter     8:    Energy =   0.0635
Level     2,  Iter     9:    Energy =   0.0641
Level     2,  Iter    10:    Energy =   0.0648
Level     2,  Iter    11:    Energy =   0.0653
Level     2,  Iter    12:    Energy =   0.0657
Level     2,  Iter    13:    Energy =   0.0659
Level     2,  Iter    14:    Energy =   0.0662
Level     2,  Iter    15:    Energy =   0.0664
Level     2,  Iter    16:    Energy =   0.0666
Level     2,  Iter    17:    Energy =   0.0667
Level     2,  Iter    18:    Energy =   0.0669
Level     2,  Iter    19:    Energy =   0.0670
END OF LEVEL     2    DetJac Range:   0.0956  to   4.5388 
  Avg. Gradient Time  : 1.2152s  33.85% 
  Avg. Gaussian Time  : 2.0715s  57.71% 
  Avg. Iteration Time : 3.5894s 
LEVEL 4 of 4
  Smoothing sigmas: [1.13951, 1.13951, 0.866031], [0.465202, 0.465202, 0.353556]

real	6m41.116s
user	12m2.884s
sys	0m19.056s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 /home/ccn30/ENCRYPT/atlases/utrechtatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/utrechtatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.00798
Thresholding #1
  Mapping range [0.00798, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.WHKJKD3I/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
+ c3d /tmp/ashs.WHKJKD3I/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01053
Thresholding #1
  Mapping range [0.01053, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.WHKJKD3I/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
+ c3d /tmp/ashs.WHKJKD3I/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.WHKJKD3I/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.WHKJKD3I/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.WHKJKD3I/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.WHKJKD3I/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.WHKJKD3I/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.WHKJKD3I/sag_tse_%02d.png
++ ls /tmp/ashs.WHKJKD3I/cor_mprage_00.png /tmp/ashs.WHKJKD3I/cor_mprage_01.png /tmp/ashs.WHKJKD3I/cor_mprage_02.png /tmp/ashs.WHKJKD3I/cor_mprage_03.png /tmp/ashs.WHKJKD3I/cor_mprage_04.png /tmp/ashs.WHKJKD3I/cor_temp_00.png /tmp/ashs.WHKJKD3I/cor_temp_01.png /tmp/ashs.WHKJKD3I/cor_temp_02.png /tmp/ashs.WHKJKD3I/cor_temp_03.png /tmp/ashs.WHKJKD3I/cor_temp_04.png /tmp/ashs.WHKJKD3I/cor_tse_00.png /tmp/ashs.WHKJKD3I/cor_tse_01.png /tmp/ashs.WHKJKD3I/cor_tse_02.png /tmp/ashs.WHKJKD3I/cor_tse_03.png /tmp/ashs.WHKJKD3I/cor_tse_04.png /tmp/ashs.WHKJKD3I/sag_mprage_00.png /tmp/ashs.WHKJKD3I/sag_mprage_01.png /tmp/ashs.WHKJKD3I/sag_temp_00.png /tmp/ashs.WHKJKD3I/sag_temp_01.png /tmp/ashs.WHKJKD3I/sag_tse_00.png /tmp/ashs.WHKJKD3I/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_mprage_00.png /tmp/ashs.WHKJKD3I/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_mprage_01.png /tmp/ashs.WHKJKD3I/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_mprage_02.png /tmp/ashs.WHKJKD3I/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_mprage_03.png /tmp/ashs.WHKJKD3I/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_mprage_04.png /tmp/ashs.WHKJKD3I/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_temp_00.png /tmp/ashs.WHKJKD3I/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_temp_01.png /tmp/ashs.WHKJKD3I/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_temp_02.png /tmp/ashs.WHKJKD3I/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_temp_03.png /tmp/ashs.WHKJKD3I/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_temp_04.png /tmp/ashs.WHKJKD3I/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_tse_00.png /tmp/ashs.WHKJKD3I/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_tse_01.png /tmp/ashs.WHKJKD3I/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_tse_02.png /tmp/ashs.WHKJKD3I/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_tse_03.png /tmp/ashs.WHKJKD3I/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_tse_04.png /tmp/ashs.WHKJKD3I/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_mprage_00.png /tmp/ashs.WHKJKD3I/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_mprage_01.png /tmp/ashs.WHKJKD3I/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_temp_00.png /tmp/ashs.WHKJKD3I/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_temp_01.png /tmp/ashs.WHKJKD3I/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_tse_00.png /tmp/ashs.WHKJKD3I/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_tse_01.png /tmp/ashs.WHKJKD3I/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.WHKJKD3I/cor_temp_00.png /tmp/ashs.WHKJKD3I/cor_temp_01.png /tmp/ashs.WHKJKD3I/cor_temp_02.png /tmp/ashs.WHKJKD3I/cor_temp_03.png /tmp/ashs.WHKJKD3I/cor_temp_04.png /tmp/ashs.WHKJKD3I/sag_temp_00.png /tmp/ashs.WHKJKD3I/sag_temp_01.png /tmp/ashs.WHKJKD3I/cor_mprage_00.png /tmp/ashs.WHKJKD3I/cor_mprage_01.png /tmp/ashs.WHKJKD3I/cor_mprage_02.png /tmp/ashs.WHKJKD3I/cor_mprage_03.png /tmp/ashs.WHKJKD3I/cor_mprage_04.png /tmp/ashs.WHKJKD3I/sag_mprage_00.png /tmp/ashs.WHKJKD3I/sag_mprage_01.png /tmp/ashs.WHKJKD3I/cor_tse_00.png /tmp/ashs.WHKJKD3I/cor_tse_01.png /tmp/ashs.WHKJKD3I/cor_tse_02.png /tmp/ashs.WHKJKD3I/cor_tse_03.png /tmp/ashs.WHKJKD3I/cor_tse_04.png /tmp/ashs.WHKJKD3I/sag_tse_00.png /tmp/ashs.WHKJKD3I/sag_tse_01.png /tmp/ashs.WHKJKD3I/qa.png
+ convert /tmp/ashs.WHKJKD3I/qa.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:left /tmp/ashs.WHKJKD3I/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.WHKJKD3I/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.WHKJKD3I/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.WHKJKD3I/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.WHKJKD3I/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.WHKJKD3I/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.WHKJKD3I/sag_tse_%02d.png
++ ls /tmp/ashs.WHKJKD3I/cor_mprage_00.png /tmp/ashs.WHKJKD3I/cor_mprage_01.png /tmp/ashs.WHKJKD3I/cor_mprage_02.png /tmp/ashs.WHKJKD3I/cor_mprage_03.png /tmp/ashs.WHKJKD3I/cor_mprage_04.png /tmp/ashs.WHKJKD3I/cor_temp_00.png /tmp/ashs.WHKJKD3I/cor_temp_01.png /tmp/ashs.WHKJKD3I/cor_temp_02.png /tmp/ashs.WHKJKD3I/cor_temp_03.png /tmp/ashs.WHKJKD3I/cor_temp_04.png /tmp/ashs.WHKJKD3I/cor_tse_00.png /tmp/ashs.WHKJKD3I/cor_tse_01.png /tmp/ashs.WHKJKD3I/cor_tse_02.png /tmp/ashs.WHKJKD3I/cor_tse_03.png /tmp/ashs.WHKJKD3I/cor_tse_04.png /tmp/ashs.WHKJKD3I/sag_mprage_00.png /tmp/ashs.WHKJKD3I/sag_mprage_01.png /tmp/ashs.WHKJKD3I/sag_temp_00.png /tmp/ashs.WHKJKD3I/sag_temp_01.png /tmp/ashs.WHKJKD3I/sag_tse_00.png /tmp/ashs.WHKJKD3I/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_mprage_00.png /tmp/ashs.WHKJKD3I/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_mprage_01.png /tmp/ashs.WHKJKD3I/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_mprage_02.png /tmp/ashs.WHKJKD3I/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_mprage_03.png /tmp/ashs.WHKJKD3I/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_mprage_04.png /tmp/ashs.WHKJKD3I/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_temp_00.png /tmp/ashs.WHKJKD3I/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_temp_01.png /tmp/ashs.WHKJKD3I/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_temp_02.png /tmp/ashs.WHKJKD3I/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_temp_03.png /tmp/ashs.WHKJKD3I/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_temp_04.png /tmp/ashs.WHKJKD3I/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_tse_00.png /tmp/ashs.WHKJKD3I/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_tse_01.png /tmp/ashs.WHKJKD3I/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_tse_02.png /tmp/ashs.WHKJKD3I/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_tse_03.png /tmp/ashs.WHKJKD3I/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/cor_tse_04.png /tmp/ashs.WHKJKD3I/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_mprage_00.png /tmp/ashs.WHKJKD3I/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_mprage_01.png /tmp/ashs.WHKJKD3I/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_temp_00.png /tmp/ashs.WHKJKD3I/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_temp_01.png /tmp/ashs.WHKJKD3I/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_tse_00.png /tmp/ashs.WHKJKD3I/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.WHKJKD3I/sag_tse_01.png /tmp/ashs.WHKJKD3I/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.WHKJKD3I/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.WHKJKD3I/cor_temp_00.png /tmp/ashs.WHKJKD3I/cor_temp_01.png /tmp/ashs.WHKJKD3I/cor_temp_02.png /tmp/ashs.WHKJKD3I/cor_temp_03.png /tmp/ashs.WHKJKD3I/cor_temp_04.png /tmp/ashs.WHKJKD3I/sag_temp_00.png /tmp/ashs.WHKJKD3I/sag_temp_01.png /tmp/ashs.WHKJKD3I/cor_mprage_00.png /tmp/ashs.WHKJKD3I/cor_mprage_01.png /tmp/ashs.WHKJKD3I/cor_mprage_02.png /tmp/ashs.WHKJKD3I/cor_mprage_03.png /tmp/ashs.WHKJKD3I/cor_mprage_04.png /tmp/ashs.WHKJKD3I/sag_mprage_00.png /tmp/ashs.WHKJKD3I/sag_mprage_01.png /tmp/ashs.WHKJKD3I/cor_tse_00.png /tmp/ashs.WHKJKD3I/cor_tse_01.png /tmp/ashs.WHKJKD3I/cor_tse_02.png /tmp/ashs.WHKJKD3I/cor_tse_03.png /tmp/ashs.WHKJKD3I/cor_tse_04.png /tmp/ashs.WHKJKD3I/sag_tse_00.png /tmp/ashs.WHKJKD3I/sag_tse_01.png /tmp/ashs.WHKJKD3I/qa.png
+ convert /tmp/ashs.WHKJKD3I/qa.png -bordercolor Black -border 1x1 /tmp/ashs.WHKJKD3I/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:right /tmp/ashs.WHKJKD3I/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.789722
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3799.03   GNORM= 567.927
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3862.084     204.663       0.000
   2    4     -3877.751     205.850       1.000
   3    5     -3982.269     207.556       1.000
   4    7     -3995.222     174.461       0.504
   5    8     -4005.009      83.967       1.000
   6    9     -4011.123     120.990       1.000
   7   10     -4019.784     152.569       1.000
   8   11     -4040.704     179.571       1.000
   9   12     -4052.217      67.435       1.000
  10   13     -4055.141      88.016       1.000
  11   14     -4057.804     104.075       1.000
  12   15     -4061.289      63.234       1.000
  13   16     -4065.046      45.206       1.000
  14   17     -4067.891      49.504       1.000
  15   18     -4069.056      40.431       1.000
  16   19     -4070.093      31.958       1.000
  17   20     -4071.194      26.050       1.000
  18   21     -4071.807      22.598       1.000
  19   22     -4072.124       9.371       1.000
  20   23     -4072.277       8.677       1.000
  21   24     -4072.284      35.013       1.000
  22   25     -4072.498      26.795       1.000
  23   26     -4072.669      11.625       1.000
  24   27     -4072.757      10.061       1.000
  25   28     -4073.027      16.496       1.000
  26   29     -4073.326      17.264       1.000
  27   30     -4073.504      15.682       1.000
  28   31     -4073.634       9.604       1.000
  29   32     -4073.733      18.189       1.000
  30   33     -4073.914      16.135       1.000
  31   34     -4073.987       8.608       1.000
  32   35     -4074.013       4.040       1.000
  33   36     -4074.033       5.997       1.000
  34   37     -4074.070       5.595       1.000
  35   39     -4074.108      11.505       0.518
  36   40     -4074.148      11.244       1.000
  37   41     -4074.160      16.355       1.000
  38   42     -4074.205       5.649       1.000
  39   43     -4074.223       3.866       1.000
  40   44     -4074.228       4.755       1.000
  41   45     -4074.233       3.082       1.000
  42   47     -4074.239       2.548       0.242
  43   49     -4074.242       4.731       0.389
  44   50     -4074.247       4.024       1.000
  45   51     -4074.251       2.794       1.000
  46   52     -4074.252       3.112       1.000
  47   53     -4074.257       2.354       1.000
  48   54     -4074.264       2.828       1.000
  49   56     -4074.269       2.247       0.330
  50   58     -4074.273       1.526       0.303
Final RAS Transform: 
0.981751 0.0063406 -0.00467481 -0.147722 
0.0286335 0.992046 -0.0249689 0.410326 
-0.0437598 -0.000370675 1.06531 -1.17492 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2669.23   GNORM= 118.311
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2674.585      71.536       0.001
   2    4     -2676.705      27.420       1.000
   3    5     -2677.297      21.264       1.000
   4    6     -2677.905      30.731       1.000
   5    7     -2679.149      41.193       1.000
   6    8     -2683.927      45.343       1.000
   7   10     -2684.235      53.183       0.080
   8   11     -2685.229      34.139       1.000
   9   12     -2685.676      19.590       1.000
  10   13     -2685.868      12.319       1.000
  11   14     -2686.008      14.570       1.000
  12   15     -2686.281      18.606       1.000
  13   16     -2687.298      36.648       1.000
  14   17     -2687.368      46.669       1.000
  15   18     -2687.964      22.804       1.000
  16   19     -2688.176      12.513       1.000
  17   20     -2688.289      10.911       1.000
  18   21     -2688.434       9.856       1.000
  19   22     -2688.537       9.037       1.000
  20   24     -2688.679      17.374       0.195
  21   25     -2688.819       8.897       1.000
  22   26     -2688.865       6.042       1.000
  23   27     -2688.898       6.106       1.000
  24   28     -2688.958       6.797       1.000
  25   29     -2689.145      26.286       1.000
  26   30     -2689.335      13.974       1.000
  27   31     -2689.419       6.576       1.000
  28   32     -2689.470       3.428       1.000
  29   33     -2689.533       6.045       1.000
  30   34     -2689.623      13.553       1.000
  31   35     -2689.714       8.438       1.000
  32   36     -2689.821      16.001       1.000
  33   37     -2689.958       9.552       1.000
  34   38     -2690.000       3.615       1.000
  35   39     -2690.009       3.124       1.000
  36   40     -2690.040       4.736       1.000
  37   42     -2690.054       8.505       0.447
  38   43     -2690.096       7.582       1.000
  39   44     -2690.166       4.396       1.000
  40   45     -2690.185       4.562       1.000
  41   47     -2690.203       7.408       0.263
  42   48     -2690.225       5.762       1.000
  43   49     -2690.346       7.203       1.000
  44   50     -2690.371       6.343       1.000
  45   51     -2690.377       3.547       1.000
  46   52     -2690.384       2.664       1.000
  47   54     -2690.388       1.498       0.354
  48   55     -2690.392       1.496       1.000
  49   56     -2690.394       3.753       1.000
  50   57     -2690.398       2.848       1.000
  51   59     -2690.408       1.772       0.484
Final RAS Transform: 
0.986639 0.0104081 -0.0022741 0.172171 
0.012343 0.990156 -0.00924343 0.142863 
-0.0455162 0.00451646 1.07715 -1.13289 
0 0 0 1 

Final RAS Transform: 
0.986639 0.0104081 -0.0022741 0.172171 
0.012343 0.990156 -0.00924343 0.142863 
-0.0455162 0.00451646 1.07715 -1.13289 
0 0 0 1 


real	0m10.532s
user	0m18.440s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.785248
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1169
Level     0,  Iter     1:    Energy =   0.1253
Level     0,  Iter     2:    Energy =   0.1318
Level     0,  Iter     3:    Energy =   0.1362
Level     0,  Iter     4:    Energy =   0.1395
Level     0,  Iter     5:    Energy =   0.1414
Level     0,  Iter     6:    Energy =   0.1426
Level     0,  Iter     7:    Energy =   0.1432
Level     0,  Iter     8:    Energy =   0.1437
Level     0,  Iter     9:    Energy =   0.1442
Level     0,  Iter    10:    Energy =   0.1446
Level     0,  Iter    11:    Energy =   0.1452
Level     0,  Iter    12:    Energy =   0.1455
Level     0,  Iter    13:    Energy =   0.1461
Level     0,  Iter    14:    Energy =   0.1463
Level     0,  Iter    15:    Energy =   0.1469
Level     0,  Iter    16:    Energy =   0.1465
Level     0,  Iter    17:    Energy =   0.1474
Level     0,  Iter    18:    Energy =   0.1473
Level     0,  Iter    19:    Energy =   0.1475
Level     0,  Iter    20:    Energy =   0.1472
Level     0,  Iter    21:    Energy =   0.1477
Level     0,  Iter    22:    Energy =   0.1473
Level     0,  Iter    23:    Energy =   0.1479
Level     0,  Iter    24:    Energy =   0.1477
Level     0,  Iter    25:    Energy =   0.1480
Level     0,  Iter    26:    Energy =   0.1478
Level     0,  Iter    27:    Energy =   0.1481
Level     0,  Iter    28:    Energy =   0.1478
Level     0,  Iter    29:    Energy =   0.1482
Level     0,  Iter    30:    Energy =   0.1480
Level     0,  Iter    31:    Energy =   0.1483
Level     0,  Iter    32:    Energy =   0.1481
Level     0,  Iter    33:    Energy =   0.1484
Level     0,  Iter    34:    Energy =   0.1483
Level     0,  Iter    35:    Energy =   0.1486
Level     0,  Iter    36:    Energy =   0.1483
Level     0,  Iter    37:    Energy =   0.1488
Level     0,  Iter    38:    Energy =   0.1484
Level     0,  Iter    39:    Energy =   0.1491
Level     0,  Iter    40:    Energy =   0.1491
Level     0,  Iter    41:    Energy =   0.1496
Level     0,  Iter    42:    Energy =   0.1495
Level     0,  Iter    43:    Energy =   0.1499
Level     0,  Iter    44:    Energy =   0.1497
Level     0,  Iter    45:    Energy =   0.1500
Level     0,  Iter    46:    Energy =   0.1499
Level     0,  Iter    47:    Energy =   0.1502
Level     0,  Iter    48:    Energy =   0.1501
Level     0,  Iter    49:    Energy =   0.1504
Level     0,  Iter    50:    Energy =   0.1503
Level     0,  Iter    51:    Energy =   0.1506
Level     0,  Iter    52:    Energy =   0.1504
Level     0,  Iter    53:    Energy =   0.1509
Level     0,  Iter    54:    Energy =   0.1507
Level     0,  Iter    55:    Energy =   0.1510
Level     0,  Iter    56:    Energy =   0.1507
Level     0,  Iter    57:    Energy =   0.1509
Level     0,  Iter    58:    Energy =   0.1507
Level     0,  Iter    59:    Energy =   0.1509
END OF LEVEL     0    DetJac Range:   0.2156  to   2.3491 
  Avg. Gradient Time  : 0.0082s  34.91% 
  Avg. Gaussian Time  : 0.0115s  49.16% 
  Avg. Iteration Time : 0.0233s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0950
Level     1,  Iter     1:    Energy =   0.1002
Level     1,  Iter     2:    Energy =   0.1057
Level     1,  Iter     3:    Energy =   0.1089
Level     1,  Iter     4:    Energy =   0.1121
Level     1,  Iter     5:    Energy =   0.1152
Level     1,  Iter     6:    Energy =   0.1173
Level     1,  Iter     7:    Energy =   0.1191
Level     1,  Iter     8:    Energy =   0.1203
Level     1,  Iter     9:    Energy =   0.1211
Level     1,  Iter    10:    Energy =   0.1219
Level     1,  Iter    11:    Energy =   0.1226
Level     1,  Iter    12:    Energy =   0.1234
Level     1,  Iter    13:    Energy =   0.1235
Level     1,  Iter    14:    Energy =   0.1238
Level     1,  Iter    15:    Energy =   0.1243
Level     1,  Iter    16:    Energy =   0.1242
Level     1,  Iter    17:    Energy =   0.1250
Level     1,  Iter    18:    Energy =   0.1251
Level     1,  Iter    19:    Energy =   0.1254
Level     1,  Iter    20:    Energy =   0.1252
Level     1,  Iter    21:    Energy =   0.1258
Level     1,  Iter    22:    Energy =   0.1259
Level     1,  Iter    23:    Energy =   0.1261
Level     1,  Iter    24:    Energy =   0.1259
Level     1,  Iter    25:    Energy =   0.1264
Level     1,  Iter    26:    Energy =   0.1263
Level     1,  Iter    27:    Energy =   0.1266
Level     1,  Iter    28:    Energy =   0.1264
Level     1,  Iter    29:    Energy =   0.1268
Level     1,  Iter    30:    Energy =   0.1266
Level     1,  Iter    31:    Energy =   0.1270
Level     1,  Iter    32:    Energy =   0.1269
Level     1,  Iter    33:    Energy =   0.1272
Level     1,  Iter    34:    Energy =   0.1272
Level     1,  Iter    35:    Energy =   0.1274
Level     1,  Iter    36:    Energy =   0.1272
Level     1,  Iter    37:    Energy =   0.1275
Level     1,  Iter    38:    Energy =   0.1275
Level     1,  Iter    39:    Energy =   0.1276
Level     1,  Iter    40:    Energy =   0.1275
Level     1,  Iter    41:    Energy =   0.1276
Level     1,  Iter    42:    Energy =   0.1276
Level     1,  Iter    43:    Energy =   0.1275
Level     1,  Iter    44:    Energy =   0.1278
Level     1,  Iter    45:    Energy =   0.1277
Level     1,  Iter    46:    Energy =   0.1279
Level     1,  Iter    47:    Energy =   0.1278
Level     1,  Iter    48:    Energy =   0.1280
Level     1,  Iter    49:    Energy =   0.1279
Level     1,  Iter    50:    Energy =   0.1279
Level     1,  Iter    51:    Energy =   0.1280
Level     1,  Iter    52:    Energy =   0.1279
Level     1,  Iter    53:    Energy =   0.1280
Level     1,  Iter    54:    Energy =   0.1281
Level     1,  Iter    55:    Energy =   0.1280
Level     1,  Iter    56:    Energy =   0.1283
Level     1,  Iter    57:    Energy =   0.1281
Level     1,  Iter    58:    Energy =   0.1283
Level     1,  Iter    59:    Energy =   0.1282
END OF LEVEL     1    DetJac Range:   0.0448  to   3.1206 
  Avg. Gradient Time  : 0.0460s  32.77% 
  Avg. Gaussian Time  : 0.0759s  54.01% 
  Avg. Iteration Time : 0.1405s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0651
Level     2,  Iter     1:    Energy =   0.0674
Level     2,  Iter     2:    Energy =   0.0699
Level     2,  Iter     3:    Energy =   0.0722
Level     2,  Iter     4:    Energy =   0.0742
Level     2,  Iter     5:    Energy =   0.0760
Level     2,  Iter     6:    Energy =   0.0778
Level     2,  Iter     7:    Energy =   0.0793
Level     2,  Iter     8:    Energy =   0.0807
Level     2,  Iter     9:    Energy =   0.0818
Level     2,  Iter    10:    Energy =   0.0826
Level     2,  Iter    11:    Energy =   0.0832
Level     2,  Iter    12:    Energy =   0.0839
Level     2,  Iter    13:    Energy =   0.0847
Level     2,  Iter    14:    Energy =   0.0855
Level     2,  Iter    15:    Energy =   0.0864
Level     2,  Iter    16:    Energy =   0.0864
Level     2,  Iter    17:    Energy =   0.0868
Level     2,  Iter    18:    Energy =   0.0868
Level     2,  Iter    19:    Energy =   0.0872
END OF LEVEL     2    DetJac Range:   0.0322  to   4.8308 
  Avg. Gradient Time  : 0.3303s  30.64% 
  Avg. Gaussian Time  : 0.5993s  55.59% 
  Avg. Iteration Time : 1.0782s 

real	0m36.723s
user	1m7.152s
sys	0m1.440s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.205769
+ echo 'CHUNK 0.2 0.205769 1'
CHUNK 0.2 0.205769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.205769 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.744224
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3776.37   GNORM= 401.633
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3832.962     320.033       0.001
   2    4     -3869.992     250.552       1.000
   3    5     -3903.845     130.039       1.000
   4    6     -3919.842     138.226       1.000
   5    7     -3938.337      91.833       1.000
   6    8     -3943.418      77.384       1.000
   7    9     -3946.789      54.998       1.000
   8   10     -3951.863      65.502       1.000
   9   11     -3952.159     105.981       1.000
  10   12     -3954.159      44.896       1.000
  11   13     -3955.276      31.486       1.000
  12   14     -3956.922      44.049       1.000
  13   15     -3958.562      52.197       1.000
  14   16     -3960.469      43.688       1.000
  15   17     -3963.054      40.474       1.000
  16   20     -3966.579      63.214       2.391
  17   21     -3967.500      32.774       1.000
  18   22     -3967.729      17.093       1.000
  19   23     -3967.788       7.305       1.000
  20   24     -3967.820       9.550       1.000
  21   25     -3967.907       8.751       1.000
  22   26     -3968.167      16.201       1.000
  23   28     -3968.218       8.151       0.296
  24   29     -3968.241       4.099       1.000
  25   30     -3968.253       5.680       1.000
  26   32     -3968.260       7.672       0.122
  27   33     -3968.280       4.542       1.000
  28   35     -3968.290       5.889       0.292
  29   37     -3968.304       6.190       0.415
  30   38     -3968.313       3.277       1.000
  31   39     -3968.329       5.806       1.000
  32   40     -3968.352       6.845       1.000
  33   41     -3968.376       6.119       1.000
  34   42     -3968.397      10.191       1.000
  35   43     -3968.427       4.097       1.000
  36   44     -3968.442       6.345       1.000
  37   45     -3968.460       5.760       1.000
  38   46     -3968.461       5.203       1.000
  39   47     -3968.484       5.769       1.000
  40   48     -3968.498       8.290       1.000
  41   49     -3968.499       2.361       1.000
  42   50     -3968.503       2.753       1.000
  43   52     -3968.509       5.051       0.402
  44   53     -3968.516       2.864       1.000
  45   54     -3968.527       4.785       1.000
  46   55     -3968.531       4.370       1.000
  47   57     -3968.536       4.238       0.158
  48   58     -3968.539       2.618       1.000
  49   59     -3968.540       1.611       1.000
  50   60     -3968.546       1.861       1.000
Final RAS Transform: 
0.995775 0.0165705 0.0369757 0.812803 
0.0218449 1.00413 0.017224 0.503021 
-0.00829648 -0.00519332 1.03424 -0.101518 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2581.64   GNORM= 144.662
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2591.264      49.436       0.001
   2    5     -2598.632      52.467       5.000
   3    6     -2611.142      89.983       1.000
   4    8     -2615.211     102.141       0.309
   5    9     -2620.306      29.690       1.000
   6   10     -2621.122      21.892       1.000
   7   11     -2622.208      21.436       1.000
   8   12     -2623.757      82.351       1.000
   9   13     -2627.454      39.556       1.000
  10   14     -2629.656      15.465       1.000
  11   15     -2630.274      36.664       1.000
  12   16     -2631.090      30.364       1.000
  13   17     -2631.946      28.584       1.000
  14   18     -2633.273      37.006       1.000
  15   19     -2634.728      28.190       1.000
  16   20     -2637.170      21.445       1.000
  17   22     -2637.555       8.650       0.504
  18   23     -2637.685       9.874       1.000
  19   24     -2637.863       9.497       1.000
  20   25     -2638.150      25.076       1.000
  21   26     -2638.712      31.080       1.000
  22   27     -2639.434      58.465       1.000
  23   28     -2640.456      13.421       1.000
  24   29     -2640.574      10.063       1.000
  25   30     -2640.678       8.881       1.000
  26   31     -2641.137      23.964       1.000
  27   32     -2641.679      22.940       1.000
  28   34     -2642.110      27.059       0.499
  29   35     -2642.439      12.694       1.000
  30   36     -2642.512       9.141       1.000
  31   37     -2642.590       7.293       1.000
  32   38     -2642.734      14.223       1.000
  33   39     -2642.900      13.712       1.000
  34   41     -2643.054      23.188       0.084
  35   42     -2643.222       7.772       1.000
  36   43     -2643.263       8.551       1.000
  37   44     -2643.306       5.597       1.000
  38   45     -2643.329       8.593       1.000
  39   46     -2643.363       7.091       1.000
  40   47     -2643.400       3.755       1.000
  41   49     -2643.476       7.671       0.268
  42   50     -2643.503      13.800       1.000
  43   51     -2643.534       7.173       1.000
  44   52     -2643.543       5.857       1.000
  45   53     -2643.582       7.282       1.000
  46   54     -2643.619      12.773       1.000
  47   55     -2643.701       5.918       1.000
  48   56     -2643.809       3.594       1.000
  49   58     -2643.824       6.127       0.406
  50   59     -2643.850       4.792       1.000
  51   60     -2643.899       4.125       1.000
Final RAS Transform: 
0.995284 0.0154085 -0.00714195 0.376021 
0.00169115 1.01415 0.0470545 0.105928 
-0.000174981 1.88162e-07 0.994485 0.0205692 
0 0 0 1 

Final RAS Transform: 
0.995284 0.0154085 -0.00714195 0.376021 
0.00169115 1.01415 0.0470545 0.105928 
-0.000174981 1.88162e-07 0.994485 0.0205692 
0 0 0 1 


real	0m10.000s
user	0m17.324s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.741547
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1131
Level     0,  Iter     1:    Energy =   0.1208
Level     0,  Iter     2:    Energy =   0.1258
Level     0,  Iter     3:    Energy =   0.1302
Level     0,  Iter     4:    Energy =   0.1334
Level     0,  Iter     5:    Energy =   0.1354
Level     0,  Iter     6:    Energy =   0.1372
Level     0,  Iter     7:    Energy =   0.1386
Level     0,  Iter     8:    Energy =   0.1400
Level     0,  Iter     9:    Energy =   0.1407
Level     0,  Iter    10:    Energy =   0.1415
Level     0,  Iter    11:    Energy =   0.1418
Level     0,  Iter    12:    Energy =   0.1424
Level     0,  Iter    13:    Energy =   0.1427
Level     0,  Iter    14:    Energy =   0.1432
Level     0,  Iter    15:    Energy =   0.1434
Level     0,  Iter    16:    Energy =   0.1438
Level     0,  Iter    17:    Energy =   0.1439
Level     0,  Iter    18:    Energy =   0.1442
Level     0,  Iter    19:    Energy =   0.1442
Level     0,  Iter    20:    Energy =   0.1444
Level     0,  Iter    21:    Energy =   0.1444
Level     0,  Iter    22:    Energy =   0.1446
Level     0,  Iter    23:    Energy =   0.1446
Level     0,  Iter    24:    Energy =   0.1447
Level     0,  Iter    25:    Energy =   0.1447
Level     0,  Iter    26:    Energy =   0.1448
Level     0,  Iter    27:    Energy =   0.1448
Level     0,  Iter    28:    Energy =   0.1449
Level     0,  Iter    29:    Energy =   0.1449
Level     0,  Iter    30:    Energy =   0.1448
Level     0,  Iter    31:    Energy =   0.1449
Level     0,  Iter    32:    Energy =   0.1447
Level     0,  Iter    33:    Energy =   0.1448
Level     0,  Iter    34:    Energy =   0.1445
Level     0,  Iter    35:    Energy =   0.1448
Level     0,  Iter    36:    Energy =   0.1446
Level     0,  Iter    37:    Energy =   0.1449
Level     0,  Iter    38:    Energy =   0.1448
Level     0,  Iter    39:    Energy =   0.1452
Level     0,  Iter    40:    Energy =   0.1453
Level     0,  Iter    41:    Energy =   0.1456
Level     0,  Iter    42:    Energy =   0.1454
Level     0,  Iter    43:    Energy =   0.1459
Level     0,  Iter    44:    Energy =   0.1458
Level     0,  Iter    45:    Energy =   0.1459
Level     0,  Iter    46:    Energy =   0.1455
Level     0,  Iter    47:    Energy =   0.1456
Level     0,  Iter    48:    Energy =   0.1454
Level     0,  Iter    49:    Energy =   0.1455
Level     0,  Iter    50:    Energy =   0.1453
Level     0,  Iter    51:    Energy =   0.1454
Level     0,  Iter    52:    Energy =   0.1453
Level     0,  Iter    53:    Energy =   0.1454
Level     0,  Iter    54:    Energy =   0.1451
Level     0,  Iter    55:    Energy =   0.1453
Level     0,  Iter    56:    Energy =   0.1452
Level     0,  Iter    57:    Energy =   0.1454
Level     0,  Iter    58:    Energy =   0.1453
Level     0,  Iter    59:    Energy =   0.1455
END OF LEVEL     0    DetJac Range:   0.3248  to   2.2508 
  Avg. Gradient Time  : 0.0071s  34.80% 
  Avg. Gaussian Time  : 0.0101s  49.29% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0917
Level     1,  Iter     1:    Energy =   0.0972
Level     1,  Iter     2:    Energy =   0.1021
Level     1,  Iter     3:    Energy =   0.1065
Level     1,  Iter     4:    Energy =   0.1092
Level     1,  Iter     5:    Energy =   0.1114
Level     1,  Iter     6:    Energy =   0.1134
Level     1,  Iter     7:    Energy =   0.1150
Level     1,  Iter     8:    Energy =   0.1163
Level     1,  Iter     9:    Energy =   0.1176
Level     1,  Iter    10:    Energy =   0.1188
Level     1,  Iter    11:    Energy =   0.1196
Level     1,  Iter    12:    Energy =   0.1199
Level     1,  Iter    13:    Energy =   0.1200
Level     1,  Iter    14:    Energy =   0.1203
Level     1,  Iter    15:    Energy =   0.1205
Level     1,  Iter    16:    Energy =   0.1208
Level     1,  Iter    17:    Energy =   0.1208
Level     1,  Iter    18:    Energy =   0.1211
Level     1,  Iter    19:    Energy =   0.1212
Level     1,  Iter    20:    Energy =   0.1214
Level     1,  Iter    21:    Energy =   0.1214
Level     1,  Iter    22:    Energy =   0.1216
Level     1,  Iter    23:    Energy =   0.1217
Level     1,  Iter    24:    Energy =   0.1217
Level     1,  Iter    25:    Energy =   0.1220
Level     1,  Iter    26:    Energy =   0.1219
Level     1,  Iter    27:    Energy =   0.1221
Level     1,  Iter    28:    Energy =   0.1221
Level     1,  Iter    29:    Energy =   0.1222
Level     1,  Iter    30:    Energy =   0.1223
Level     1,  Iter    31:    Energy =   0.1224
Level     1,  Iter    32:    Energy =   0.1225
Level     1,  Iter    33:    Energy =   0.1225
Level     1,  Iter    34:    Energy =   0.1226
Level     1,  Iter    35:    Energy =   0.1226
Level     1,  Iter    36:    Energy =   0.1227
Level     1,  Iter    37:    Energy =   0.1227
Level     1,  Iter    38:    Energy =   0.1228
Level     1,  Iter    39:    Energy =   0.1228
Level     1,  Iter    40:    Energy =   0.1228
Level     1,  Iter    41:    Energy =   0.1230
Level     1,  Iter    42:    Energy =   0.1230
Level     1,  Iter    43:    Energy =   0.1230
Level     1,  Iter    44:    Energy =   0.1231
Level     1,  Iter    45:    Energy =   0.1231
Level     1,  Iter    46:    Energy =   0.1231
Level     1,  Iter    47:    Energy =   0.1233
Level     1,  Iter    48:    Energy =   0.1232
Level     1,  Iter    49:    Energy =   0.1233
Level     1,  Iter    50:    Energy =   0.1233
Level     1,  Iter    51:    Energy =   0.1234
Level     1,  Iter    52:    Energy =   0.1233
Level     1,  Iter    53:    Energy =   0.1237
Level     1,  Iter    54:    Energy =   0.1235
Level     1,  Iter    55:    Energy =   0.1238
Level     1,  Iter    56:    Energy =   0.1237
Level     1,  Iter    57:    Energy =   0.1238
Level     1,  Iter    58:    Energy =   0.1237
Level     1,  Iter    59:    Energy =   0.1239
END OF LEVEL     1    DetJac Range:   0.1912  to   3.5310 
  Avg. Gradient Time  : 0.0405s  32.91% 
  Avg. Gaussian Time  : 0.0664s  53.99% 
  Avg. Iteration Time : 0.1230s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0637
Level     2,  Iter     1:    Energy =   0.0668
Level     2,  Iter     2:    Energy =   0.0696
Level     2,  Iter     3:    Energy =   0.0717
Level     2,  Iter     4:    Energy =   0.0737
Level     2,  Iter     5:    Energy =   0.0756
Level     2,  Iter     6:    Energy =   0.0773
Level     2,  Iter     7:    Energy =   0.0788
Level     2,  Iter     8:    Energy =   0.0800
Level     2,  Iter     9:    Energy =   0.0810
Level     2,  Iter    10:    Energy =   0.0818
Level     2,  Iter    11:    Energy =   0.0828
Level     2,  Iter    12:    Energy =   0.0836
Level     2,  Iter    13:    Energy =   0.0845
Level     2,  Iter    14:    Energy =   0.0849
Level     2,  Iter    15:    Energy =   0.0851
Level     2,  Iter    16:    Energy =   0.0853
Level     2,  Iter    17:    Energy =   0.0857
Level     2,  Iter    18:    Energy =   0.0858
Level     2,  Iter    19:    Energy =   0.0861
END OF LEVEL     2    DetJac Range:   0.0806  to   4.4381 
  Avg. Gradient Time  : 0.2934s  30.91% 
  Avg. Gaussian Time  : 0.5270s  55.51% 
  Avg. Iteration Time : 0.9493s 

real	0m32.241s
user	0m58.824s
sys	0m1.276s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.205769 0.211538
+ echo 'CHUNK 0.205769 0.211538 1'
CHUNK 0.205769 0.211538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.205769 0.211538 1
====================================
         PROGRESS: 0.205769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.546432
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3804.5   GNORM= 253.52
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3837.527     226.057       0.001
   2    4     -3852.734      99.197       1.000
   3    5     -3857.400      98.442       1.000
   4    6     -3887.385      95.733       1.000
   5    7     -3890.450     200.752       1.000
   6    8     -3902.086      90.072       1.000
   7    9     -3910.368      42.082       1.000
   8   10     -3917.991     118.055       1.000
   9   11     -3919.786     101.664       1.000
  10   12     -3921.876      33.361       1.000
  11   13     -3922.469      30.231       1.000
  12   14     -3924.095      40.840       1.000
  13   15     -3927.689      40.432       1.000
  14   17     -3929.484      62.624       0.421
  15   18     -3932.137      44.229       1.000
  16   19     -3933.233      43.345       1.000
  17   20     -3933.851      19.865       1.000
  18   21     -3934.350      19.053       1.000
  19   22     -3934.939      21.100       1.000
  20   23     -3935.250      27.138       1.000
  21   24     -3935.603      10.628       1.000
  22   25     -3935.846      35.431       1.000
  23   27     -3936.504      20.827       5.000
  24   28     -3936.576       7.635       1.000
  25   29     -3936.607       6.000       1.000
  26   30     -3936.635       5.509       1.000
  27   31     -3936.699      13.332       1.000
  28   32     -3936.752       6.820       1.000
  29   33     -3936.839       9.040       1.000
  30   34     -3936.843      18.014       1.000
  31   35     -3936.992       8.700       1.000
  32   36     -3937.057       5.740       1.000
  33   37     -3937.078      11.639       1.000
  34   39     -3937.101      11.697       0.502
  35   40     -3937.146       6.941       1.000
  36   41     -3937.165       2.842       1.000
  37   42     -3937.167       6.314       1.000
  38   43     -3937.177      10.416       1.000
  39   44     -3937.208       5.969       1.000
  40   45     -3937.223       3.066       1.000
Final RAS Transform: 
0.972677 -0.0158711 0.0252016 -0.843961 
0.0399784 1.00457 0.0299456 0.880304 
4.84402e-06 -0.00485806 1.01436 0.211379 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2736.63   GNORM= 52.3344
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2738.724      49.575       0.001
   2    4     -2740.288      41.576       1.000
   3    5     -2742.602      53.171       1.000
   4    6     -2749.774      63.186       1.000
   5    7     -2752.582      52.054       1.000
   6    8     -2754.987      39.281       1.000
   7    9     -2756.447      94.025       1.000
   8   10     -2759.399      43.129       1.000
   9   11     -2761.037      23.388       1.000
  10   12     -2762.713      34.749       1.000
  11   13     -2762.768      61.562       1.000
  12   14     -2763.722      28.635       1.000
  13   15     -2764.345      14.104       1.000
  14   16     -2765.412      27.676       1.000
  15   17     -2767.104      33.841       1.000
  16   19     -2767.673      25.937       0.452
  17   20     -2768.017      26.107       1.000
  18   21     -2768.254      17.643       1.000
  19   22     -2768.387      17.133       1.000
  20   23     -2768.475       7.473       1.000
  21   24     -2768.578       7.565       1.000
  22   25     -2768.799      31.497       1.000
  23   26     -2769.004      12.650       1.000
  24   27     -2769.115       6.691       1.000
  25   28     -2769.142       4.543       1.000
  26   29     -2769.159       3.868       1.000
  27   30     -2769.186       6.191       1.000
  28   31     -2769.226      10.722       1.000
  29   32     -2769.277       8.841       1.000
  30   33     -2769.374       3.636       1.000
  31   34     -2769.387      11.323       1.000
  32   35     -2769.401       5.529       1.000
  33   36     -2769.429       4.515       1.000
  34   37     -2769.440       4.757       1.000
  35   39     -2769.452       5.114       0.216
  36   40     -2769.463       3.796       1.000
  37   41     -2769.464       5.314       1.000
  38   43     -2769.480       3.182       0.369
  39   44     -2769.484       2.070       1.000
Final RAS Transform: 
0.992977 -0.00885236 0.0174532 -0.0515756 
0.0355386 1.007 0.0347553 0.906089 
-0.0114968 -0.00192948 1.03379 0.00471232 
0 0 0 1 

Final RAS Transform: 
0.992977 -0.00885236 0.0174532 -0.0515756 
0.0355386 1.007 0.0347553 0.906089 
-0.0114968 -0.00192948 1.03379 0.00471232 
0 0 0 1 


real	0m10.096s
user	0m17.628s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.552164
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1138
Level     0,  Iter     1:    Energy =   0.1210
Level     0,  Iter     2:    Energy =   0.1270
Level     0,  Iter     3:    Energy =   0.1312
Level     0,  Iter     4:    Energy =   0.1347
Level     0,  Iter     5:    Energy =   0.1368
Level     0,  Iter     6:    Energy =   0.1383
Level     0,  Iter     7:    Energy =   0.1389
Level     0,  Iter     8:    Energy =   0.1399
Level     0,  Iter     9:    Energy =   0.1404
Level     0,  Iter    10:    Energy =   0.1411
Level     0,  Iter    11:    Energy =   0.1413
Level     0,  Iter    12:    Energy =   0.1418
Level     0,  Iter    13:    Energy =   0.1420
Level     0,  Iter    14:    Energy =   0.1424
Level     0,  Iter    15:    Energy =   0.1425
Level     0,  Iter    16:    Energy =   0.1428
Level     0,  Iter    17:    Energy =   0.1430
Level     0,  Iter    18:    Energy =   0.1433
Level     0,  Iter    19:    Energy =   0.1434
Level     0,  Iter    20:    Energy =   0.1437
Level     0,  Iter    21:    Energy =   0.1438
Level     0,  Iter    22:    Energy =   0.1440
Level     0,  Iter    23:    Energy =   0.1443
Level     0,  Iter    24:    Energy =   0.1444
Level     0,  Iter    25:    Energy =   0.1446
Level     0,  Iter    26:    Energy =   0.1448
Level     0,  Iter    27:    Energy =   0.1449
Level     0,  Iter    28:    Energy =   0.1450
Level     0,  Iter    29:    Energy =   0.1450
Level     0,  Iter    30:    Energy =   0.1452
Level     0,  Iter    31:    Energy =   0.1452
Level     0,  Iter    32:    Energy =   0.1454
Level     0,  Iter    33:    Energy =   0.1453
Level     0,  Iter    34:    Energy =   0.1455
Level     0,  Iter    35:    Energy =   0.1455
Level     0,  Iter    36:    Energy =   0.1456
Level     0,  Iter    37:    Energy =   0.1456
Level     0,  Iter    38:    Energy =   0.1457
Level     0,  Iter    39:    Energy =   0.1457
Level     0,  Iter    40:    Energy =   0.1459
Level     0,  Iter    41:    Energy =   0.1458
Level     0,  Iter    42:    Energy =   0.1459
Level     0,  Iter    43:    Energy =   0.1458
Level     0,  Iter    44:    Energy =   0.1459
Level     0,  Iter    45:    Energy =   0.1459
Level     0,  Iter    46:    Energy =   0.1460
Level     0,  Iter    47:    Energy =   0.1459
Level     0,  Iter    48:    Energy =   0.1460
Level     0,  Iter    49:    Energy =   0.1460
Level     0,  Iter    50:    Energy =   0.1461
Level     0,  Iter    51:    Energy =   0.1460
Level     0,  Iter    52:    Energy =   0.1461
Level     0,  Iter    53:    Energy =   0.1461
Level     0,  Iter    54:    Energy =   0.1462
Level     0,  Iter    55:    Energy =   0.1461
Level     0,  Iter    56:    Energy =   0.1462
Level     0,  Iter    57:    Energy =   0.1461
Level     0,  Iter    58:    Energy =   0.1462
Level     0,  Iter    59:    Energy =   0.1462
END OF LEVEL     0    DetJac Range:   0.3682  to   1.8885 
  Avg. Gradient Time  : 0.0071s  34.75% 
  Avg. Gaussian Time  : 0.0101s  49.33% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0980
Level     1,  Iter     1:    Energy =   0.1027
Level     1,  Iter     2:    Energy =   0.1070
Level     1,  Iter     3:    Energy =   0.1114
Level     1,  Iter     4:    Energy =   0.1147
Level     1,  Iter     5:    Energy =   0.1178
Level     1,  Iter     6:    Energy =   0.1200
Level     1,  Iter     7:    Energy =   0.1220
Level     1,  Iter     8:    Energy =   0.1236
Level     1,  Iter     9:    Energy =   0.1246
Level     1,  Iter    10:    Energy =   0.1257
Level     1,  Iter    11:    Energy =   0.1260
Level     1,  Iter    12:    Energy =   0.1265
Level     1,  Iter    13:    Energy =   0.1265
Level     1,  Iter    14:    Energy =   0.1266
Level     1,  Iter    15:    Energy =   0.1267
Level     1,  Iter    16:    Energy =   0.1268
Level     1,  Iter    17:    Energy =   0.1270
Level     1,  Iter    18:    Energy =   0.1271
Level     1,  Iter    19:    Energy =   0.1272
Level     1,  Iter    20:    Energy =   0.1274
Level     1,  Iter    21:    Energy =   0.1275
Level     1,  Iter    22:    Energy =   0.1276
Level     1,  Iter    23:    Energy =   0.1278
Level     1,  Iter    24:    Energy =   0.1279
Level     1,  Iter    25:    Energy =   0.1280
Level     1,  Iter    26:    Energy =   0.1281
Level     1,  Iter    27:    Energy =   0.1282
Level     1,  Iter    28:    Energy =   0.1283
Level     1,  Iter    29:    Energy =   0.1284
Level     1,  Iter    30:    Energy =   0.1284
Level     1,  Iter    31:    Energy =   0.1286
Level     1,  Iter    32:    Energy =   0.1286
Level     1,  Iter    33:    Energy =   0.1286
Level     1,  Iter    34:    Energy =   0.1288
Level     1,  Iter    35:    Energy =   0.1288
Level     1,  Iter    36:    Energy =   0.1288
Level     1,  Iter    37:    Energy =   0.1289
Level     1,  Iter    38:    Energy =   0.1290
Level     1,  Iter    39:    Energy =   0.1291
Level     1,  Iter    40:    Energy =   0.1291
Level     1,  Iter    41:    Energy =   0.1291
Level     1,  Iter    42:    Energy =   0.1293
Level     1,  Iter    43:    Energy =   0.1293
Level     1,  Iter    44:    Energy =   0.1293
Level     1,  Iter    45:    Energy =   0.1294
Level     1,  Iter    46:    Energy =   0.1294
Level     1,  Iter    47:    Energy =   0.1294
Level     1,  Iter    48:    Energy =   0.1295
Level     1,  Iter    49:    Energy =   0.1295
Level     1,  Iter    50:    Energy =   0.1295
Level     1,  Iter    51:    Energy =   0.1296
Level     1,  Iter    52:    Energy =   0.1296
Level     1,  Iter    53:    Energy =   0.1296
Level     1,  Iter    54:    Energy =   0.1297
Level     1,  Iter    55:    Energy =   0.1297
Level     1,  Iter    56:    Energy =   0.1297
Level     1,  Iter    57:    Energy =   0.1298
Level     1,  Iter    58:    Energy =   0.1298
Level     1,  Iter    59:    Energy =   0.1298
END OF LEVEL     1    DetJac Range:   0.2220  to   3.2433 
  Avg. Gradient Time  : 0.0401s  32.61% 
  Avg. Gaussian Time  : 0.0667s  54.26% 
  Avg. Iteration Time : 0.1229s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0707
Level     2,  Iter     1:    Energy =   0.0735
Level     2,  Iter     2:    Energy =   0.0754
Level     2,  Iter     3:    Energy =   0.0779
Level     2,  Iter     4:    Energy =   0.0801
Level     2,  Iter     5:    Energy =   0.0818
Level     2,  Iter     6:    Energy =   0.0833
Level     2,  Iter     7:    Energy =   0.0845
Level     2,  Iter     8:    Energy =   0.0855
Level     2,  Iter     9:    Energy =   0.0863
Level     2,  Iter    10:    Energy =   0.0870
Level     2,  Iter    11:    Energy =   0.0877
Level     2,  Iter    12:    Energy =   0.0883
Level     2,  Iter    13:    Energy =   0.0890
Level     2,  Iter    14:    Energy =   0.0896
Level     2,  Iter    15:    Energy =   0.0902
Level     2,  Iter    16:    Energy =   0.0909
Level     2,  Iter    17:    Energy =   0.0915
Level     2,  Iter    18:    Energy =   0.0921
Level     2,  Iter    19:    Energy =   0.0928
END OF LEVEL     2    DetJac Range:   0.0916  to   5.3047 
  Avg. Gradient Time  : 0.2934s  30.92% 
  Avg. Gaussian Time  : 0.5267s  55.49% 
  Avg. Iteration Time : 0.9492s 

real	0m32.321s
user	0m58.848s
sys	0m1.300s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.211538 0.217308
+ echo 'CHUNK 0.211538 0.217308 1'
CHUNK 0.211538 0.217308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.211538 0.217308 1
====================================
         PROGRESS: 0.211538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.252747
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3233.22   GNORM= 472.646
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3279.182     115.866       0.000
   2    4     -3285.257     109.665       1.000
   3    5     -3307.437     274.242       1.000
   4    6     -3327.273     213.477       1.000
   5    8     -3353.504     129.408       0.295
   6    9     -3364.197     105.361       1.000
   7   10     -3381.258      67.919       1.000
   8   11     -3394.252      71.906       1.000
   9   12     -3402.808      92.009       1.000
  10   14     -3405.034      77.162       0.221
  11   15     -3409.597      56.261       1.000
  12   16     -3413.550      72.763       1.000
  13   17     -3417.262      72.908       1.000
  14   18     -3425.382      72.458       1.000
  15   19     -3437.177     113.602       1.000
  16   20     -3441.547      34.564       1.000
  17   21     -3442.311      13.748       1.000
  18   23     -3442.416      12.795       0.428
  19   24     -3442.493      20.548       1.000
  20   25     -3442.794      11.397       1.000
  21   26     -3443.068      30.163       1.000
  22   27     -3443.375      15.158       1.000
  23   28     -3443.475       9.871       1.000
  24   29     -3443.656      15.936       1.000
  25   30     -3443.829      21.096       1.000
  26   32     -3443.938      21.661       0.386
  27   33     -3444.027      17.571       1.000
  28   34     -3444.121       7.299       1.000
  29   35     -3444.153       4.884       1.000
  30   36     -3444.166       6.202       1.000
  31   37     -3444.197       8.568       1.000
  32   38     -3444.213       3.361       1.000
  33   39     -3444.225       2.432       1.000
  34   40     -3444.228       2.366       1.000
  35   41     -3444.248       6.865       1.000
  36   42     -3444.255       3.182       1.000
  37   43     -3444.259       2.369       1.000
  38   45     -3444.266       3.018       0.397
  39   46     -3444.272       2.275       1.000
Final RAS Transform: 
0.933073 -0.00638833 0.0114666 -1.91449 
0.0142214 0.992552 0.0376798 -0.139866 
-0.00929798 0.00195017 0.99118 -0.292609 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2254.49   GNORM= 335.348
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2282.616      65.837       0.000
   2    4     -2284.458      49.000       1.000
   3    5     -2287.181      64.906       1.000
   4    6     -2293.221     106.572       1.000
   5    7     -2303.035     138.521       1.000
   6    8     -2317.847     138.996       1.000
   7   10     -2326.275      82.293       0.328
   8   11     -2331.646      31.763       1.000
   9   12     -2333.794      32.714       1.000
  10   13     -2336.357      84.168       1.000
  11   14     -2340.469      41.434       1.000
  12   15     -2342.467      34.464       1.000
  13   17     -2343.584      30.107       0.497
  14   18     -2344.725      23.483       1.000
  15   19     -2346.781      30.327       1.000
  16   20     -2350.472      30.908       1.000
  17   22     -2351.173      64.190       0.033
  18   23     -2353.790      51.799       1.000
  19   24     -2356.137      36.266       1.000
  20   25     -2356.894      32.378       1.000
  21   26     -2357.250      15.890       1.000
  22   27     -2357.498       9.561       1.000
  23   28     -2357.548      19.606       1.000
  24   29     -2357.728      10.977       1.000
  25   30     -2357.903       8.163       1.000
  26   31     -2358.060      13.735       1.000
  27   32     -2358.193      16.878       1.000
  28   33     -2358.595      27.924       1.000
  29   34     -2359.120      15.175       1.000
  30   35     -2359.418      12.271       1.000
  31   36     -2360.704      18.674       1.000
  32   37     -2361.720      18.652       1.000
  33   39     -2361.885      24.183       0.170
  34   40     -2362.232      15.680       1.000
  35   41     -2362.305      13.194       1.000
  36   42     -2362.567      11.010       1.000
  37   43     -2362.838      11.719       1.000
  38   44     -2363.299      14.273       1.000
  39   45     -2363.532      20.986       1.000
  40   47     -2363.809      31.696       0.191
  41   48     -2364.520      26.531       1.000
  42   50     -2364.645      21.491       0.242
  43   51     -2364.757       3.592       1.000
  44   52     -2364.799       4.665       1.000
  45   54     -2364.853       5.343       0.479
  46   55     -2364.875       7.099       1.000
  47   56     -2364.896       4.290       1.000
  48   57     -2364.920       4.992       1.000
  49   58     -2364.956       4.388       1.000
  50   59     -2364.987       6.482       1.000
  51   60     -2365.015       3.250       1.000
  52   61     -2365.041       4.621       1.000
Final RAS Transform: 
0.978949 -0.00664258 -0.0461202 -0.743448 
0.00480576 0.999428 0.0326814 -0.270005 
-0.0100641 0.0053458 0.992523 -0.462321 
0 0 0 1 

Final RAS Transform: 
0.978949 -0.00664258 -0.0461202 -0.743448 
0.00480576 0.999428 0.0326814 -0.270005 
-0.0100641 0.0053458 0.992523 -0.462321 
0 0 0 1 


real	0m9.322s
user	0m16.304s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.254268
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0981
Level     0,  Iter     1:    Energy =   0.1044
Level     0,  Iter     2:    Energy =   0.1096
Level     0,  Iter     3:    Energy =   0.1149
Level     0,  Iter     4:    Energy =   0.1193
Level     0,  Iter     5:    Energy =   0.1211
Level     0,  Iter     6:    Energy =   0.1230
Level     0,  Iter     7:    Energy =   0.1241
Level     0,  Iter     8:    Energy =   0.1253
Level     0,  Iter     9:    Energy =   0.1262
Level     0,  Iter    10:    Energy =   0.1270
Level     0,  Iter    11:    Energy =   0.1276
Level     0,  Iter    12:    Energy =   0.1282
Level     0,  Iter    13:    Energy =   0.1288
Level     0,  Iter    14:    Energy =   0.1292
Level     0,  Iter    15:    Energy =   0.1296
Level     0,  Iter    16:    Energy =   0.1300
Level     0,  Iter    17:    Energy =   0.1303
Level     0,  Iter    18:    Energy =   0.1306
Level     0,  Iter    19:    Energy =   0.1309
Level     0,  Iter    20:    Energy =   0.1312
Level     0,  Iter    21:    Energy =   0.1316
Level     0,  Iter    22:    Energy =   0.1319
Level     0,  Iter    23:    Energy =   0.1322
Level     0,  Iter    24:    Energy =   0.1325
Level     0,  Iter    25:    Energy =   0.1328
Level     0,  Iter    26:    Energy =   0.1329
Level     0,  Iter    27:    Energy =   0.1332
Level     0,  Iter    28:    Energy =   0.1333
Level     0,  Iter    29:    Energy =   0.1334
Level     0,  Iter    30:    Energy =   0.1335
Level     0,  Iter    31:    Energy =   0.1336
Level     0,  Iter    32:    Energy =   0.1336
Level     0,  Iter    33:    Energy =   0.1336
Level     0,  Iter    34:    Energy =   0.1337
Level     0,  Iter    35:    Energy =   0.1338
Level     0,  Iter    36:    Energy =   0.1338
Level     0,  Iter    37:    Energy =   0.1339
Level     0,  Iter    38:    Energy =   0.1340
Level     0,  Iter    39:    Energy =   0.1340
Level     0,  Iter    40:    Energy =   0.1341
Level     0,  Iter    41:    Energy =   0.1342
Level     0,  Iter    42:    Energy =   0.1343
Level     0,  Iter    43:    Energy =   0.1344
Level     0,  Iter    44:    Energy =   0.1345
Level     0,  Iter    45:    Energy =   0.1346
Level     0,  Iter    46:    Energy =   0.1347
Level     0,  Iter    47:    Energy =   0.1348
Level     0,  Iter    48:    Energy =   0.1349
Level     0,  Iter    49:    Energy =   0.1350
Level     0,  Iter    50:    Energy =   0.1350
Level     0,  Iter    51:    Energy =   0.1351
Level     0,  Iter    52:    Energy =   0.1351
Level     0,  Iter    53:    Energy =   0.1352
Level     0,  Iter    54:    Energy =   0.1353
Level     0,  Iter    55:    Energy =   0.1353
Level     0,  Iter    56:    Energy =   0.1353
Level     0,  Iter    57:    Energy =   0.1354
Level     0,  Iter    58:    Energy =   0.1354
Level     0,  Iter    59:    Energy =   0.1355
END OF LEVEL     0    DetJac Range:   0.1940  to   2.2524 
  Avg. Gradient Time  : 0.0081s  34.85% 
  Avg. Gaussian Time  : 0.0115s  49.27% 
  Avg. Iteration Time : 0.0234s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0883
Level     1,  Iter     1:    Energy =   0.0932
Level     1,  Iter     2:    Energy =   0.0966
Level     1,  Iter     3:    Energy =   0.0999
Level     1,  Iter     4:    Energy =   0.1024
Level     1,  Iter     5:    Energy =   0.1043
Level     1,  Iter     6:    Energy =   0.1061
Level     1,  Iter     7:    Energy =   0.1082
Level     1,  Iter     8:    Energy =   0.1100
Level     1,  Iter     9:    Energy =   0.1117
Level     1,  Iter    10:    Energy =   0.1128
Level     1,  Iter    11:    Energy =   0.1132
Level     1,  Iter    12:    Energy =   0.1141
Level     1,  Iter    13:    Energy =   0.1142
Level     1,  Iter    14:    Energy =   0.1150
Level     1,  Iter    15:    Energy =   0.1153
Level     1,  Iter    16:    Energy =   0.1157
Level     1,  Iter    17:    Energy =   0.1156
Level     1,  Iter    18:    Energy =   0.1162
Level     1,  Iter    19:    Energy =   0.1164
Level     1,  Iter    20:    Energy =   0.1165
Level     1,  Iter    21:    Energy =   0.1164
Level     1,  Iter    22:    Energy =   0.1168
Level     1,  Iter    23:    Energy =   0.1166
Level     1,  Iter    24:    Energy =   0.1167
Level     1,  Iter    25:    Energy =   0.1170
Level     1,  Iter    26:    Energy =   0.1167
Level     1,  Iter    27:    Energy =   0.1172
Level     1,  Iter    28:    Energy =   0.1171
Level     1,  Iter    29:    Energy =   0.1175
Level     1,  Iter    30:    Energy =   0.1170
Level     1,  Iter    31:    Energy =   0.1175
Level     1,  Iter    32:    Energy =   0.1175
Level     1,  Iter    33:    Energy =   0.1178
Level     1,  Iter    34:    Energy =   0.1173
Level     1,  Iter    35:    Energy =   0.1178
Level     1,  Iter    36:    Energy =   0.1179
Level     1,  Iter    37:    Energy =   0.1181
Level     1,  Iter    38:    Energy =   0.1176
Level     1,  Iter    39:    Energy =   0.1180
Level     1,  Iter    40:    Energy =   0.1181
Level     1,  Iter    41:    Energy =   0.1183
Level     1,  Iter    42:    Energy =   0.1178
Level     1,  Iter    43:    Energy =   0.1182
Level     1,  Iter    44:    Energy =   0.1182
Level     1,  Iter    45:    Energy =   0.1184
Level     1,  Iter    46:    Energy =   0.1180
Level     1,  Iter    47:    Energy =   0.1184
Level     1,  Iter    48:    Energy =   0.1183
Level     1,  Iter    49:    Energy =   0.1186
Level     1,  Iter    50:    Energy =   0.1181
Level     1,  Iter    51:    Energy =   0.1185
Level     1,  Iter    52:    Energy =   0.1185
Level     1,  Iter    53:    Energy =   0.1187
Level     1,  Iter    54:    Energy =   0.1183
Level     1,  Iter    55:    Energy =   0.1187
Level     1,  Iter    56:    Energy =   0.1186
Level     1,  Iter    57:    Energy =   0.1188
Level     1,  Iter    58:    Energy =   0.1184
Level     1,  Iter    59:    Energy =   0.1188
END OF LEVEL     1    DetJac Range:   0.0556  to   3.5180 
  Avg. Gradient Time  : 0.0458s  32.62% 
  Avg. Gaussian Time  : 0.0759s  54.14% 
  Avg. Iteration Time : 0.1403s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0615
Level     2,  Iter     1:    Energy =   0.0643
Level     2,  Iter     2:    Energy =   0.0670
Level     2,  Iter     3:    Energy =   0.0691
Level     2,  Iter     4:    Energy =   0.0709
Level     2,  Iter     5:    Energy =   0.0726
Level     2,  Iter     6:    Energy =   0.0741
Level     2,  Iter     7:    Energy =   0.0756
Level     2,  Iter     8:    Energy =   0.0769
Level     2,  Iter     9:    Energy =   0.0781
Level     2,  Iter    10:    Energy =   0.0792
Level     2,  Iter    11:    Energy =   0.0800
Level     2,  Iter    12:    Energy =   0.0806
Level     2,  Iter    13:    Energy =   0.0811
Level     2,  Iter    14:    Energy =   0.0816
Level     2,  Iter    15:    Energy =   0.0823
Level     2,  Iter    16:    Energy =   0.0830
Level     2,  Iter    17:    Energy =   0.0836
Level     2,  Iter    18:    Energy =   0.0841
Level     2,  Iter    19:    Energy =   0.0847
END OF LEVEL     2    DetJac Range:   0.0355  to   5.8107 
  Avg. Gradient Time  : 0.3328s  30.80% 
  Avg. Gaussian Time  : 0.5992s  55.45% 
  Avg. Iteration Time : 1.0806s 

real	0m36.754s
user	1m7.212s
sys	0m1.444s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217308 0.223077
+ echo 'CHUNK 0.217308 0.223077 1'
CHUNK 0.217308 0.223077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217308 0.223077 1
====================================
         PROGRESS: 0.217308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.623432
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4145.95   GNORM= 337.585
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4212.751     178.157       0.001
   2    4     -4231.158     112.613       1.000
   3    5     -4245.136     138.437       1.000
   4    6     -4276.590     163.486       1.000
   5    7     -4312.900     216.138       1.000
   6    8     -4336.809      90.564       1.000
   7    9     -4348.017      85.699       1.000
   8   10     -4358.706      60.001       1.000
   9   11     -4359.745     102.430       1.000
  10   12     -4362.723      50.046       1.000
  11   13     -4364.463      26.654       1.000
  12   14     -4367.206      43.990       1.000
  13   15     -4368.434      98.161       1.000
  14   16     -4370.043      33.249       1.000
  15   17     -4370.526      25.124       1.000
  16   18     -4371.692      56.106       1.000
  17   19     -4372.877      36.273       1.000
  18   20     -4373.897      24.924       1.000
  19   21     -4374.063      12.362       1.000
  20   22     -4374.166       9.937       1.000
  21   23     -4374.239      17.385       1.000
  22   24     -4374.365      11.265       1.000
  23   25     -4374.590      16.500       1.000
  24   26     -4374.724      11.584       1.000
  25   27     -4374.856      12.744       1.000
  26   28     -4374.955      14.825       1.000
  27   29     -4375.017       3.425       1.000
  28   30     -4375.027       6.061       1.000
  29   31     -4375.033       2.916       1.000
  30   32     -4375.039       2.579       1.000
  31   33     -4375.041       1.396       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.954494 0.00238358 0.0554046 -0.665556 
0.0112788 1.00595 0.0200243 0.216661 
-0.00164443 0.00114374 1.03956 0.50658 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2984.25   GNORM= 167.526
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2994.038      68.397       0.001
   2    4     -2995.775      36.238       1.000
   3    5     -2996.471      30.631       1.000
   4    6     -3000.848      39.587       1.000
   5    7     -3006.116      64.723       1.000
   6    8     -3011.639      48.959       1.000
   7    9     -3012.912      88.287       1.000
   8   10     -3015.223      39.386       1.000
   9   11     -3016.876      36.587       1.000
  10   12     -3019.661      45.868       1.000
  11   13     -3021.528      93.080       1.000
  12   14     -3023.398      36.649       1.000
  13   15     -3024.074      25.135       1.000
  14   16     -3024.667      39.060       1.000
  15   17     -3025.315      42.155       1.000
  16   18     -3026.718      29.944       1.000
  17   20     -3027.030      30.279       0.280
  18   21     -3027.337      16.432       1.000
  19   22     -3027.859      11.817       1.000
  20   23     -3028.223      13.628       1.000
  21   25     -3028.386      26.009       0.378
  22   26     -3028.578      11.361       1.000
  23   27     -3028.652       6.621       1.000
  24   28     -3028.709       9.047       1.000
  25   29     -3028.842      19.910       1.000
  26   30     -3029.016      24.109       1.000
  27   31     -3029.500       6.924       1.000
  28   32     -3029.596      10.517       1.000
  29   33     -3029.719       7.725       1.000
  30   35     -3029.766       9.206       0.512
  31   36     -3029.804       4.264       1.000
  32   37     -3029.815       3.545       1.000
  33   38     -3029.818       4.951       1.000
  34   39     -3029.836       7.482       1.000
  35   40     -3029.866       6.046       1.000
  36   42     -3029.880       8.083       0.187
  37   43     -3029.899       5.480       1.000
  38   44     -3029.915       2.120       1.000
  39   45     -3029.935       4.565       1.000
  40   46     -3029.941       5.855       1.000
  41   47     -3029.963       6.148       1.000
  42   48     -3029.987       6.773       1.000
  43   49     -3030.003       5.219       1.000
  44   50     -3030.011       2.023       1.000
  45   51     -3030.017       1.610       1.000
  46   52     -3030.019       1.524       1.000
  47   53     -3030.020       1.479       1.000
Final RAS Transform: 
0.97199 -0.00495024 0.0188347 -0.434245 
0.00892048 1.01236 0.029708 0.275537 
0.00633192 0.00213915 1.02433 0.651823 
0 0 0 1 

Final RAS Transform: 
0.97199 -0.00495024 0.0188347 -0.434245 
0.00892048 1.01236 0.029708 0.275537 
0.00633192 0.00213915 1.02433 0.651823 
0 0 0 1 


real	0m10.154s
user	0m17.776s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.631339
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1275
Level     0,  Iter     1:    Energy =   0.1353
Level     0,  Iter     2:    Energy =   0.1415
Level     0,  Iter     3:    Energy =   0.1468
Level     0,  Iter     4:    Energy =   0.1506
Level     0,  Iter     5:    Energy =   0.1536
Level     0,  Iter     6:    Energy =   0.1554
Level     0,  Iter     7:    Energy =   0.1559
Level     0,  Iter     8:    Energy =   0.1564
Level     0,  Iter     9:    Energy =   0.1567
Level     0,  Iter    10:    Energy =   0.1571
Level     0,  Iter    11:    Energy =   0.1574
Level     0,  Iter    12:    Energy =   0.1576
Level     0,  Iter    13:    Energy =   0.1579
Level     0,  Iter    14:    Energy =   0.1580
Level     0,  Iter    15:    Energy =   0.1582
Level     0,  Iter    16:    Energy =   0.1583
Level     0,  Iter    17:    Energy =   0.1585
Level     0,  Iter    18:    Energy =   0.1585
Level     0,  Iter    19:    Energy =   0.1587
Level     0,  Iter    20:    Energy =   0.1587
Level     0,  Iter    21:    Energy =   0.1589
Level     0,  Iter    22:    Energy =   0.1589
Level     0,  Iter    23:    Energy =   0.1590
Level     0,  Iter    24:    Energy =   0.1590
Level     0,  Iter    25:    Energy =   0.1591
Level     0,  Iter    26:    Energy =   0.1591
Level     0,  Iter    27:    Energy =   0.1592
Level     0,  Iter    28:    Energy =   0.1592
Level     0,  Iter    29:    Energy =   0.1593
Level     0,  Iter    30:    Energy =   0.1593
Level     0,  Iter    31:    Energy =   0.1594
Level     0,  Iter    32:    Energy =   0.1594
Level     0,  Iter    33:    Energy =   0.1595
Level     0,  Iter    34:    Energy =   0.1594
Level     0,  Iter    35:    Energy =   0.1595
Level     0,  Iter    36:    Energy =   0.1594
Level     0,  Iter    37:    Energy =   0.1595
Level     0,  Iter    38:    Energy =   0.1595
Level     0,  Iter    39:    Energy =   0.1596
Level     0,  Iter    40:    Energy =   0.1595
Level     0,  Iter    41:    Energy =   0.1596
Level     0,  Iter    42:    Energy =   0.1596
Level     0,  Iter    43:    Energy =   0.1596
Level     0,  Iter    44:    Energy =   0.1596
Level     0,  Iter    45:    Energy =   0.1597
Level     0,  Iter    46:    Energy =   0.1596
Level     0,  Iter    47:    Energy =   0.1597
Level     0,  Iter    48:    Energy =   0.1596
Level     0,  Iter    49:    Energy =   0.1597
Level     0,  Iter    50:    Energy =   0.1597
Level     0,  Iter    51:    Energy =   0.1597
Level     0,  Iter    52:    Energy =   0.1597
Level     0,  Iter    53:    Energy =   0.1598
Level     0,  Iter    54:    Energy =   0.1597
Level     0,  Iter    55:    Energy =   0.1597
Level     0,  Iter    56:    Energy =   0.1597
Level     0,  Iter    57:    Energy =   0.1598
Level     0,  Iter    58:    Energy =   0.1597
Level     0,  Iter    59:    Energy =   0.1598
END OF LEVEL     0    DetJac Range:   0.3992  to   1.9401 
  Avg. Gradient Time  : 0.0071s  34.77% 
  Avg. Gaussian Time  : 0.0101s  49.22% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1070
Level     1,  Iter     1:    Energy =   0.1122
Level     1,  Iter     2:    Energy =   0.1167
Level     1,  Iter     3:    Energy =   0.1204
Level     1,  Iter     4:    Energy =   0.1240
Level     1,  Iter     5:    Energy =   0.1263
Level     1,  Iter     6:    Energy =   0.1276
Level     1,  Iter     7:    Energy =   0.1288
Level     1,  Iter     8:    Energy =   0.1299
Level     1,  Iter     9:    Energy =   0.1312
Level     1,  Iter    10:    Energy =   0.1319
Level     1,  Iter    11:    Energy =   0.1322
Level     1,  Iter    12:    Energy =   0.1326
Level     1,  Iter    13:    Energy =   0.1325
Level     1,  Iter    14:    Energy =   0.1333
Level     1,  Iter    15:    Energy =   0.1332
Level     1,  Iter    16:    Energy =   0.1338
Level     1,  Iter    17:    Energy =   0.1335
Level     1,  Iter    18:    Energy =   0.1345
Level     1,  Iter    19:    Energy =   0.1342
Level     1,  Iter    20:    Energy =   0.1347
Level     1,  Iter    21:    Energy =   0.1343
Level     1,  Iter    22:    Energy =   0.1353
Level     1,  Iter    23:    Energy =   0.1349
Level     1,  Iter    24:    Energy =   0.1356
Level     1,  Iter    25:    Energy =   0.1352
Level     1,  Iter    26:    Energy =   0.1358
Level     1,  Iter    27:    Energy =   0.1354
Level     1,  Iter    28:    Energy =   0.1357
Level     1,  Iter    29:    Energy =   0.1353
Level     1,  Iter    30:    Energy =   0.1358
Level     1,  Iter    31:    Energy =   0.1354
Level     1,  Iter    32:    Energy =   0.1362
Level     1,  Iter    33:    Energy =   0.1357
Level     1,  Iter    34:    Energy =   0.1364
Level     1,  Iter    35:    Energy =   0.1360
Level     1,  Iter    36:    Energy =   0.1364
Level     1,  Iter    37:    Energy =   0.1360
Level     1,  Iter    38:    Energy =   0.1366
Level     1,  Iter    39:    Energy =   0.1362
Level     1,  Iter    40:    Energy =   0.1367
Level     1,  Iter    41:    Energy =   0.1362
Level     1,  Iter    42:    Energy =   0.1369
Level     1,  Iter    43:    Energy =   0.1364
Level     1,  Iter    44:    Energy =   0.1369
Level     1,  Iter    45:    Energy =   0.1364
Level     1,  Iter    46:    Energy =   0.1371
Level     1,  Iter    47:    Energy =   0.1366
Level     1,  Iter    48:    Energy =   0.1371
Level     1,  Iter    49:    Energy =   0.1366
Level     1,  Iter    50:    Energy =   0.1372
Level     1,  Iter    51:    Energy =   0.1368
Level     1,  Iter    52:    Energy =   0.1372
Level     1,  Iter    53:    Energy =   0.1367
Level     1,  Iter    54:    Energy =   0.1373
Level     1,  Iter    55:    Energy =   0.1369
Level     1,  Iter    56:    Energy =   0.1374
Level     1,  Iter    57:    Energy =   0.1369
Level     1,  Iter    58:    Energy =   0.1375
Level     1,  Iter    59:    Energy =   0.1370
END OF LEVEL     1    DetJac Range:   0.0776  to   4.0033 
  Avg. Gradient Time  : 0.0401s  32.63% 
  Avg. Gaussian Time  : 0.0667s  54.25% 
  Avg. Iteration Time : 0.1230s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0747
Level     2,  Iter     1:    Energy =   0.0776
Level     2,  Iter     2:    Energy =   0.0803
Level     2,  Iter     3:    Energy =   0.0826
Level     2,  Iter     4:    Energy =   0.0847
Level     2,  Iter     5:    Energy =   0.0864
Level     2,  Iter     6:    Energy =   0.0877
Level     2,  Iter     7:    Energy =   0.0888
Level     2,  Iter     8:    Energy =   0.0898
Level     2,  Iter     9:    Energy =   0.0906
Level     2,  Iter    10:    Energy =   0.0913
Level     2,  Iter    11:    Energy =   0.0919
Level     2,  Iter    12:    Energy =   0.0924
Level     2,  Iter    13:    Energy =   0.0928
Level     2,  Iter    14:    Energy =   0.0932
Level     2,  Iter    15:    Energy =   0.0936
Level     2,  Iter    16:    Energy =   0.0940
Level     2,  Iter    17:    Energy =   0.0943
Level     2,  Iter    18:    Energy =   0.0946
Level     2,  Iter    19:    Energy =   0.0948
END OF LEVEL     2    DetJac Range:   0.0501  to   4.7060 
  Avg. Gradient Time  : 0.2922s  30.79% 
  Avg. Gaussian Time  : 0.5280s  55.64% 
  Avg. Iteration Time : 0.9488s 

real	0m32.207s
user	0m58.676s
sys	0m1.360s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.223077 0.228846
+ echo 'CHUNK 0.223077 0.228846 1'
CHUNK 0.223077 0.228846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.223077 0.228846 1
====================================
         PROGRESS: 0.223077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.702135
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3636.4   GNORM= 274.261
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3698.503     218.705       0.002
   2    4     -3733.933     172.604       1.000
   3    5     -3772.721     116.431       1.000
   4    6     -3785.497     104.407       1.000
   5    7     -3791.749      96.824       1.000
   6    8     -3798.067      85.338       1.000
   7    9     -3814.095     112.975       1.000
   8   10     -3818.644     144.802       1.000
   9   11     -3824.555      39.635       1.000
  10   12     -3825.828      39.841       1.000
  11   13     -3829.339      72.575       1.000
  12   14     -3833.071     111.870       1.000
  13   15     -3838.552      89.505       1.000
  14   16     -3842.269      27.572       1.000
  15   17     -3843.092      24.103       1.000
  16   18     -3845.032      43.623       1.000
  17   20     -3845.940      43.696       0.450
  18   21     -3847.003      36.023       1.000
  19   22     -3847.633      15.371       1.000
  20   23     -3847.885      13.860       1.000
  21   24     -3848.010      29.382       1.000
  22   25     -3848.968      25.323       1.000
  23   26     -3849.826      13.030       1.000
  24   28     -3850.426      23.270       0.477
  25   30     -3850.719      35.124       0.398
  26   31     -3851.226      24.885       1.000
  27   32     -3851.555      35.961       1.000
  28   33     -3851.799      12.041       1.000
  29   34     -3851.870       8.862       1.000
  30   35     -3851.896       6.968       1.000
  31   36     -3851.963      18.213       1.000
  32   37     -3852.004      12.989       1.000
  33   38     -3852.125       4.601       1.000
  34   39     -3852.290      19.782       1.000
  35   40     -3852.347       5.272       1.000
  36   41     -3852.364       3.721       1.000
  37   43     -3852.376       6.922       0.493
  38   44     -3852.404       7.174       1.000
  39   45     -3852.457       5.785       1.000
  40   47     -3852.478       6.289       0.326
  41   49     -3852.481       4.656       0.417
  42   50     -3852.491       1.939       1.000
  43   51     -3852.496       3.779       1.000
  44   52     -3852.512       2.331       1.000
  45   53     -3852.535       8.472       1.000
  46   54     -3852.562       9.610       1.000
  47   56     -3852.577       5.271       0.284
  48   57     -3852.581       2.422       1.000
  49   58     -3852.591       2.287       1.000
  50   61     -3852.593       3.316       0.124
Final RAS Transform: 
0.943697 -0.00388142 0.0327765 -1.05551 
0.0162134 0.981417 0.0102981 0.170014 
-0.0253938 -0.00948802 1.04094 -0.587111 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2414.86   GNORM= 257.672
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2434.083      52.415       0.000
   2    4     -2435.508      42.903       1.000
   3    5     -2438.401      64.486       1.000
   4    6     -2443.191      96.103       1.000
   5    7     -2451.189     113.210       1.000
   6    8     -2463.937     106.662       1.000
   7    9     -2468.923      73.411       1.000
   8   10     -2472.374      41.164       1.000
   9   11     -2473.668      25.087       1.000
  10   12     -2475.909      29.323       1.000
  11   13     -2479.364      49.208       1.000
  12   14     -2481.473      25.971       1.000
  13   15     -2483.224      19.637       1.000
  14   16     -2485.052      39.013       1.000
  15   17     -2486.447      65.379       1.000
  16   18     -2488.876      36.144       1.000
  17   19     -2490.131      10.549       1.000
  18   20     -2490.303      10.447       1.000
  19   21     -2490.487       7.849       1.000
  20   22     -2490.595      14.070       1.000
  21   23     -2490.666      35.993       1.000
  22   24     -2491.000      17.063       1.000
  23   25     -2491.248      14.662       1.000
  24   26     -2491.544      19.185       1.000
  25   28     -2491.924      33.626       0.266
  26   29     -2492.476      27.245       1.000
  27   30     -2492.902      20.714       1.000
  28   31     -2493.104       6.824       1.000
  29   32     -2493.297      15.322       1.000
  30   33     -2493.562      18.327       1.000
  31   34     -2493.735      24.223       1.000
  32   35     -2494.121      10.457       1.000
  33   36     -2494.197       3.929       1.000
  34   37     -2494.251       5.790       1.000
  35   39     -2494.284       5.598       0.430
  36   41     -2494.297       5.210       0.116
  37   42     -2494.335       4.076       1.000
  38   43     -2494.347       5.234       1.000
  39   44     -2494.401      12.753       1.000
  40   45     -2494.460       4.320       1.000
  41   46     -2494.482       3.655       1.000
  42   47     -2494.495       3.498       1.000
  43   48     -2494.511       4.747       1.000
  44   49     -2494.541       3.533       1.000
  45   50     -2494.556       5.225       1.000
  46   51     -2494.588       6.717       1.000
  47   53     -2494.617       8.568       0.422
  48   54     -2494.668       6.971       1.000
  49   55     -2494.714       4.154       1.000
  50   56     -2494.732       7.837       1.000
  51   57     -2494.758       4.090       1.000
  52   58     -2494.776       3.814       1.000
  53   59     -2494.785       4.435       1.000
  54   61     -2494.792       7.480       0.394
Final RAS Transform: 
0.978195 -0.0103521 0.0124813 -0.399464 
-0.00606378 1.00082 0.00267637 -0.130794 
-0.0243108 -0.00918695 1.04205 -0.681334 
0 0 0 1 

Final RAS Transform: 
0.978195 -0.0103521 0.0124813 -0.399464 
-0.00606378 1.00082 0.00267637 -0.130794 
-0.0243108 -0.00918695 1.04205 -0.681334 
0 0 0 1 


real	0m10.129s
user	0m17.784s
sys	0m0.392s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.703214
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1068
Level     0,  Iter     1:    Energy =   0.1158
Level     0,  Iter     2:    Energy =   0.1239
Level     0,  Iter     3:    Energy =   0.1301
Level     0,  Iter     4:    Energy =   0.1344
Level     0,  Iter     5:    Energy =   0.1367
Level     0,  Iter     6:    Energy =   0.1379
Level     0,  Iter     7:    Energy =   0.1387
Level     0,  Iter     8:    Energy =   0.1406
Level     0,  Iter     9:    Energy =   0.1410
Level     0,  Iter    10:    Energy =   0.1423
Level     0,  Iter    11:    Energy =   0.1426
Level     0,  Iter    12:    Energy =   0.1428
Level     0,  Iter    13:    Energy =   0.1430
Level     0,  Iter    14:    Energy =   0.1436
Level     0,  Iter    15:    Energy =   0.1437
Level     0,  Iter    16:    Energy =   0.1442
Level     0,  Iter    17:    Energy =   0.1442
Level     0,  Iter    18:    Energy =   0.1448
Level     0,  Iter    19:    Energy =   0.1449
Level     0,  Iter    20:    Energy =   0.1449
Level     0,  Iter    21:    Energy =   0.1449
Level     0,  Iter    22:    Energy =   0.1454
Level     0,  Iter    23:    Energy =   0.1454
Level     0,  Iter    24:    Energy =   0.1457
Level     0,  Iter    25:    Energy =   0.1457
Level     0,  Iter    26:    Energy =   0.1464
Level     0,  Iter    27:    Energy =   0.1464
Level     0,  Iter    28:    Energy =   0.1462
Level     0,  Iter    29:    Energy =   0.1461
Level     0,  Iter    30:    Energy =   0.1466
Level     0,  Iter    31:    Energy =   0.1466
Level     0,  Iter    32:    Energy =   0.1473
Level     0,  Iter    33:    Energy =   0.1471
Level     0,  Iter    34:    Energy =   0.1470
Level     0,  Iter    35:    Energy =   0.1469
Level     0,  Iter    36:    Energy =   0.1474
Level     0,  Iter    37:    Energy =   0.1472
Level     0,  Iter    38:    Energy =   0.1472
Level     0,  Iter    39:    Energy =   0.1470
Level     0,  Iter    40:    Energy =   0.1476
Level     0,  Iter    41:    Energy =   0.1474
Level     0,  Iter    42:    Energy =   0.1474
Level     0,  Iter    43:    Energy =   0.1473
Level     0,  Iter    44:    Energy =   0.1478
Level     0,  Iter    45:    Energy =   0.1476
Level     0,  Iter    46:    Energy =   0.1475
Level     0,  Iter    47:    Energy =   0.1474
Level     0,  Iter    48:    Energy =   0.1479
Level     0,  Iter    49:    Energy =   0.1477
Level     0,  Iter    50:    Energy =   0.1478
Level     0,  Iter    51:    Energy =   0.1478
Level     0,  Iter    52:    Energy =   0.1483
Level     0,  Iter    53:    Energy =   0.1482
Level     0,  Iter    54:    Energy =   0.1478
Level     0,  Iter    55:    Energy =   0.1477
Level     0,  Iter    56:    Energy =   0.1480
Level     0,  Iter    57:    Energy =   0.1479
Level     0,  Iter    58:    Energy =   0.1481
Level     0,  Iter    59:    Energy =   0.1482
END OF LEVEL     0    DetJac Range:   0.2260  to   2.4396 
  Avg. Gradient Time  : 0.0082s  34.88% 
  Avg. Gaussian Time  : 0.0115s  49.24% 
  Avg. Iteration Time : 0.0234s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0942
Level     1,  Iter     1:    Energy =   0.1001
Level     1,  Iter     2:    Energy =   0.1050
Level     1,  Iter     3:    Energy =   0.1093
Level     1,  Iter     4:    Energy =   0.1131
Level     1,  Iter     5:    Energy =   0.1158
Level     1,  Iter     6:    Energy =   0.1178
Level     1,  Iter     7:    Energy =   0.1199
Level     1,  Iter     8:    Energy =   0.1219
Level     1,  Iter     9:    Energy =   0.1233
Level     1,  Iter    10:    Energy =   0.1235
Level     1,  Iter    11:    Energy =   0.1249
Level     1,  Iter    12:    Energy =   0.1249
Level     1,  Iter    13:    Energy =   0.1261
Level     1,  Iter    14:    Energy =   0.1261
Level     1,  Iter    15:    Energy =   0.1272
Level     1,  Iter    16:    Energy =   0.1269
Level     1,  Iter    17:    Energy =   0.1279
Level     1,  Iter    18:    Energy =   0.1280
Level     1,  Iter    19:    Energy =   0.1284
Level     1,  Iter    20:    Energy =   0.1282
Level     1,  Iter    21:    Energy =   0.1290
Level     1,  Iter    22:    Energy =   0.1287
Level     1,  Iter    23:    Energy =   0.1292
Level     1,  Iter    24:    Energy =   0.1290
Level     1,  Iter    25:    Energy =   0.1293
Level     1,  Iter    26:    Energy =   0.1292
Level     1,  Iter    27:    Energy =   0.1294
Level     1,  Iter    28:    Energy =   0.1294
Level     1,  Iter    29:    Energy =   0.1296
Level     1,  Iter    30:    Energy =   0.1296
Level     1,  Iter    31:    Energy =   0.1298
Level     1,  Iter    32:    Energy =   0.1298
Level     1,  Iter    33:    Energy =   0.1299
Level     1,  Iter    34:    Energy =   0.1299
Level     1,  Iter    35:    Energy =   0.1301
Level     1,  Iter    36:    Energy =   0.1300
Level     1,  Iter    37:    Energy =   0.1302
Level     1,  Iter    38:    Energy =   0.1301
Level     1,  Iter    39:    Energy =   0.1303
Level     1,  Iter    40:    Energy =   0.1301
Level     1,  Iter    41:    Energy =   0.1304
Level     1,  Iter    42:    Energy =   0.1301
Level     1,  Iter    43:    Energy =   0.1307
Level     1,  Iter    44:    Energy =   0.1303
Level     1,  Iter    45:    Energy =   0.1307
Level     1,  Iter    46:    Energy =   0.1304
Level     1,  Iter    47:    Energy =   0.1308
Level     1,  Iter    48:    Energy =   0.1305
Level     1,  Iter    49:    Energy =   0.1308
Level     1,  Iter    50:    Energy =   0.1305
Level     1,  Iter    51:    Energy =   0.1309
Level     1,  Iter    52:    Energy =   0.1305
Level     1,  Iter    53:    Energy =   0.1309
Level     1,  Iter    54:    Energy =   0.1306
Level     1,  Iter    55:    Energy =   0.1309
Level     1,  Iter    56:    Energy =   0.1306
Level     1,  Iter    57:    Energy =   0.1308
Level     1,  Iter    58:    Energy =   0.1306
Level     1,  Iter    59:    Energy =   0.1308
END OF LEVEL     1    DetJac Range:   0.1205  to   3.6464 
  Avg. Gradient Time  : 0.0459s  32.61% 
  Avg. Gaussian Time  : 0.0762s  54.16% 
  Avg. Iteration Time : 0.1406s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0680
Level     2,  Iter     1:    Energy =   0.0710
Level     2,  Iter     2:    Energy =   0.0738
Level     2,  Iter     3:    Energy =   0.0761
Level     2,  Iter     4:    Energy =   0.0781
Level     2,  Iter     5:    Energy =   0.0798
Level     2,  Iter     6:    Energy =   0.0813
Level     2,  Iter     7:    Energy =   0.0827
Level     2,  Iter     8:    Energy =   0.0840
Level     2,  Iter     9:    Energy =   0.0849
Level     2,  Iter    10:    Energy =   0.0857
Level     2,  Iter    11:    Energy =   0.0865
Level     2,  Iter    12:    Energy =   0.0869
Level     2,  Iter    13:    Energy =   0.0871
Level     2,  Iter    14:    Energy =   0.0871
Level     2,  Iter    15:    Energy =   0.0876
Level     2,  Iter    16:    Energy =   0.0875
Level     2,  Iter    17:    Energy =   0.0880
Level     2,  Iter    18:    Energy =   0.0879
Level     2,  Iter    19:    Energy =   0.0883
END OF LEVEL     2    DetJac Range:   0.0453  to   4.7872 
  Avg. Gradient Time  : 0.3309s  30.69% 
  Avg. Gaussian Time  : 0.5991s  55.56% 
  Avg. Iteration Time : 1.0783s 

real	0m36.757s
user	1m7.060s
sys	0m1.560s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.228846 0.234615
+ echo 'CHUNK 0.228846 0.234615 1'
CHUNK 0.228846 0.234615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.228846 0.234615 1
====================================
         PROGRESS: 0.228846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.572046
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3536.43   GNORM= 162.677
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3553.609     448.815       0.006
   2    3     -3600.841     278.142       1.000
   3    4     -3621.034     164.635       1.000
   4    5     -3645.295      82.615       1.000
   5    6     -3668.127     122.884       1.000
   6    7     -3701.218     168.601       1.000
   7    8     -3733.212     195.349       1.000
   8   10     -3746.065     209.969       0.497
   9   11     -3764.349      65.520       1.000
  10   12     -3768.198      76.757       1.000
  11   13     -3774.551      52.814       1.000
  12   14     -3789.660      61.383       1.000
  13   15     -3799.585     103.574       1.000
  14   16     -3806.343     102.872       1.000
  15   17     -3810.234      77.568       1.000
  16   18     -3812.476      45.148       1.000
  17   19     -3813.879      28.422       1.000
  18   20     -3814.973      34.514       1.000
  19   21     -3817.195      54.816       1.000
  20   22     -3818.585      56.171       1.000
  21   23     -3819.386      73.118       1.000
  22   24     -3821.419      21.668       1.000
  23   25     -3821.919      23.499       1.000
  24   26     -3822.690      34.709       1.000
  25   27     -3823.451      26.737       1.000
  26   28     -3824.244      26.068       1.000
  27   30     -3825.545      20.706       0.469
  28   31     -3825.770      24.073       1.000
  29   32     -3825.925      18.458       1.000
  30   33     -3826.037       7.934       1.000
  31   35     -3826.049       5.329       0.406
  32   36     -3826.063      12.448       1.000
  33   37     -3826.098      10.303       1.000
  34   38     -3826.205       9.793       1.000
  35   39     -3826.280      24.385       1.000
  36   40     -3826.370      17.678       1.000
  37   41     -3826.432      10.522       1.000
  38   42     -3826.508       4.703       1.000
  39   43     -3826.555       5.450       1.000
  40   45     -3826.629       7.962       0.382
  41   46     -3826.686       5.811       1.000
  42   48     -3826.722       4.483       0.503
  43   50     -3826.732       6.895       0.433
  44   51     -3826.744      10.427       1.000
  45   52     -3826.761       4.166       1.000
  46   53     -3826.778       4.601       1.000
  47   54     -3826.805       4.312       1.000
  48   55     -3826.817       3.341       1.000
  49   56     -3826.829       2.506       1.000
  50   57     -3826.836       5.960       1.000
  51   58     -3826.840       2.933       1.000
  52   59     -3826.843       2.772       1.000
Final RAS Transform: 
0.915856 -0.00694939 0.0502306 -2.4396 
-0.00720458 0.984263 0.0142549 -0.646603 
0.00997955 0.00368047 1.03562 0.738512 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2547.52   GNORM= 363.244
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2582.955      65.852       0.000
   2    4     -2584.669      32.751       1.000
   3    5     -2585.403      21.444       1.000
   4    6     -2586.007      19.315       1.000
   5    7     -2587.265      52.907       1.000
   6    8     -2589.116      52.912       1.000
   7    9     -2597.369      29.699       1.000
   8   11     -2598.429      52.427       0.349
   9   12     -2599.505      37.384       1.000
  10   13     -2602.173      54.454       1.000
  11   14     -2604.934      44.864       1.000
  12   15     -2609.180      38.438       1.000
  13   16     -2611.092      23.924       1.000
  14   17     -2612.332      43.455       1.000
  15   18     -2614.456      66.197       1.000
  16   19     -2616.108      24.483       1.000
  17   20     -2617.077      16.599       1.000
  18   21     -2617.611       9.409       1.000
  19   22     -2618.141      13.700       1.000
  20   23     -2618.796      24.471       1.000
  21   24     -2620.037      18.856       1.000
  22   25     -2620.784      23.530       1.000
  23   26     -2621.734      16.677       1.000
  24   27     -2622.663      21.283       1.000
  25   28     -2623.588      26.560       1.000
  26   30     -2624.276      27.314       0.372
  27   31     -2625.385      20.401       1.000
  28   32     -2625.497      49.468       1.000
  29   33     -2626.571      34.477       1.000
  30   34     -2627.020       8.872       1.000
  31   35     -2627.231       8.949       1.000
  32   36     -2627.331      21.859       1.000
  33   37     -2627.554       8.154       1.000
  34   38     -2627.732      10.496       1.000
  35   39     -2627.863      16.171       1.000
  36   41     -2627.946      12.670       0.381
  37   42     -2628.151      11.284       1.000
  38   44     -2628.541      24.427       0.470
  39   45     -2629.178      19.624       1.000
  40   47     -2629.548      16.805       0.300
  41   48     -2629.648      13.779       1.000
  42   49     -2629.843       9.234       1.000
  43   50     -2630.092       8.297       1.000
  44   52     -2630.308      16.491       0.484
  45   53     -2630.473       8.706       1.000
  46   54     -2630.552       4.545       1.000
  47   55     -2630.593       5.700       1.000
  48   56     -2630.630       7.982       1.000
  49   57     -2630.732       4.642       1.000
  50   58     -2630.761       8.478       1.000
  51   59     -2630.772       1.625       1.000
  52   60     -2630.783       1.972       1.000
  53   61     -2630.784       3.295       1.000
Final RAS Transform: 
0.975336 -0.0183482 -0.00163825 -1.07139 
-0.00776251 0.981276 -0.00449298 -0.729161 
0.025266 0.00694375 1.02339 0.943741 
0 0 0 1 

Final RAS Transform: 
0.975336 -0.0183482 -0.00163825 -1.07139 
-0.00776251 0.981276 -0.00449298 -0.729161 
0.025266 0.00694375 1.02339 0.943741 
0 0 0 1 


real	0m9.656s
user	0m16.824s
sys	0m0.428s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.578809
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1082
Level     0,  Iter     1:    Energy =   0.1142
Level     0,  Iter     2:    Energy =   0.1200
Level     0,  Iter     3:    Energy =   0.1241
Level     0,  Iter     4:    Energy =   0.1275
Level     0,  Iter     5:    Energy =   0.1290
Level     0,  Iter     6:    Energy =   0.1305
Level     0,  Iter     7:    Energy =   0.1315
Level     0,  Iter     8:    Energy =   0.1325
Level     0,  Iter     9:    Energy =   0.1333
Level     0,  Iter    10:    Energy =   0.1340
Level     0,  Iter    11:    Energy =   0.1348
Level     0,  Iter    12:    Energy =   0.1355
Level     0,  Iter    13:    Energy =   0.1364
Level     0,  Iter    14:    Energy =   0.1369
Level     0,  Iter    15:    Energy =   0.1377
Level     0,  Iter    16:    Energy =   0.1380
Level     0,  Iter    17:    Energy =   0.1387
Level     0,  Iter    18:    Energy =   0.1390
Level     0,  Iter    19:    Energy =   0.1397
Level     0,  Iter    20:    Energy =   0.1398
Level     0,  Iter    21:    Energy =   0.1398
Level     0,  Iter    22:    Energy =   0.1400
Level     0,  Iter    23:    Energy =   0.1401
Level     0,  Iter    24:    Energy =   0.1402
Level     0,  Iter    25:    Energy =   0.1406
Level     0,  Iter    26:    Energy =   0.1408
Level     0,  Iter    27:    Energy =   0.1414
Level     0,  Iter    28:    Energy =   0.1414
Level     0,  Iter    29:    Energy =   0.1413
Level     0,  Iter    30:    Energy =   0.1413
Level     0,  Iter    31:    Energy =   0.1416
Level     0,  Iter    32:    Energy =   0.1417
Level     0,  Iter    33:    Energy =   0.1423
Level     0,  Iter    34:    Energy =   0.1422
Level     0,  Iter    35:    Energy =   0.1419
Level     0,  Iter    36:    Energy =   0.1420
Level     0,  Iter    37:    Energy =   0.1422
Level     0,  Iter    38:    Energy =   0.1424
Level     0,  Iter    39:    Energy =   0.1429
Level     0,  Iter    40:    Energy =   0.1428
Level     0,  Iter    41:    Energy =   0.1423
Level     0,  Iter    42:    Energy =   0.1423
Level     0,  Iter    43:    Energy =   0.1423
Level     0,  Iter    44:    Energy =   0.1424
Level     0,  Iter    45:    Energy =   0.1429
Level     0,  Iter    46:    Energy =   0.1428
Level     0,  Iter    47:    Energy =   0.1423
Level     0,  Iter    48:    Energy =   0.1423
Level     0,  Iter    49:    Energy =   0.1423
Level     0,  Iter    50:    Energy =   0.1424
Level     0,  Iter    51:    Energy =   0.1429
Level     0,  Iter    52:    Energy =   0.1428
Level     0,  Iter    53:    Energy =   0.1425
Level     0,  Iter    54:    Energy =   0.1425
Level     0,  Iter    55:    Energy =   0.1429
Level     0,  Iter    56:    Energy =   0.1429
Level     0,  Iter    57:    Energy =   0.1430
Level     0,  Iter    58:    Energy =   0.1430
Level     0,  Iter    59:    Energy =   0.1429
END OF LEVEL     0    DetJac Range:   0.3377  to   2.0134 
  Avg. Gradient Time  : 0.0082s  34.94% 
  Avg. Gaussian Time  : 0.0115s  49.11% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0960
Level     1,  Iter     1:    Energy =   0.1014
Level     1,  Iter     2:    Energy =   0.1059
Level     1,  Iter     3:    Energy =   0.1098
Level     1,  Iter     4:    Energy =   0.1129
Level     1,  Iter     5:    Energy =   0.1149
Level     1,  Iter     6:    Energy =   0.1169
Level     1,  Iter     7:    Energy =   0.1184
Level     1,  Iter     8:    Energy =   0.1195
Level     1,  Iter     9:    Energy =   0.1205
Level     1,  Iter    10:    Energy =   0.1213
Level     1,  Iter    11:    Energy =   0.1219
Level     1,  Iter    12:    Energy =   0.1225
Level     1,  Iter    13:    Energy =   0.1230
Level     1,  Iter    14:    Energy =   0.1236
Level     1,  Iter    15:    Energy =   0.1241
Level     1,  Iter    16:    Energy =   0.1246
Level     1,  Iter    17:    Energy =   0.1244
Level     1,  Iter    18:    Energy =   0.1250
Level     1,  Iter    19:    Energy =   0.1247
Level     1,  Iter    20:    Energy =   0.1251
Level     1,  Iter    21:    Energy =   0.1250
Level     1,  Iter    22:    Energy =   0.1252
Level     1,  Iter    23:    Energy =   0.1252
Level     1,  Iter    24:    Energy =   0.1253
Level     1,  Iter    25:    Energy =   0.1254
Level     1,  Iter    26:    Energy =   0.1255
Level     1,  Iter    27:    Energy =   0.1255
Level     1,  Iter    28:    Energy =   0.1256
Level     1,  Iter    29:    Energy =   0.1257
Level     1,  Iter    30:    Energy =   0.1257
Level     1,  Iter    31:    Energy =   0.1258
Level     1,  Iter    32:    Energy =   0.1259
Level     1,  Iter    33:    Energy =   0.1259
Level     1,  Iter    34:    Energy =   0.1260
Level     1,  Iter    35:    Energy =   0.1261
Level     1,  Iter    36:    Energy =   0.1261
Level     1,  Iter    37:    Energy =   0.1262
Level     1,  Iter    38:    Energy =   0.1262
Level     1,  Iter    39:    Energy =   0.1263
Level     1,  Iter    40:    Energy =   0.1263
Level     1,  Iter    41:    Energy =   0.1264
Level     1,  Iter    42:    Energy =   0.1264
Level     1,  Iter    43:    Energy =   0.1265
Level     1,  Iter    44:    Energy =   0.1264
Level     1,  Iter    45:    Energy =   0.1265
Level     1,  Iter    46:    Energy =   0.1266
Level     1,  Iter    47:    Energy =   0.1265
Level     1,  Iter    48:    Energy =   0.1266
Level     1,  Iter    49:    Energy =   0.1265
Level     1,  Iter    50:    Energy =   0.1266
Level     1,  Iter    51:    Energy =   0.1265
Level     1,  Iter    52:    Energy =   0.1267
Level     1,  Iter    53:    Energy =   0.1266
Level     1,  Iter    54:    Energy =   0.1267
Level     1,  Iter    55:    Energy =   0.1266
Level     1,  Iter    56:    Energy =   0.1268
Level     1,  Iter    57:    Energy =   0.1266
Level     1,  Iter    58:    Energy =   0.1268
Level     1,  Iter    59:    Energy =   0.1266
END OF LEVEL     1    DetJac Range:   0.0975  to   3.1858 
  Avg. Gradient Time  : 0.0463s  32.86% 
  Avg. Gaussian Time  : 0.0761s  53.96% 
  Avg. Iteration Time : 0.1410s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0677
Level     2,  Iter     1:    Energy =   0.0708
Level     2,  Iter     2:    Energy =   0.0735
Level     2,  Iter     3:    Energy =   0.0754
Level     2,  Iter     4:    Energy =   0.0771
Level     2,  Iter     5:    Energy =   0.0786
Level     2,  Iter     6:    Energy =   0.0800
Level     2,  Iter     7:    Energy =   0.0812
Level     2,  Iter     8:    Energy =   0.0824
Level     2,  Iter     9:    Energy =   0.0833
Level     2,  Iter    10:    Energy =   0.0845
Level     2,  Iter    11:    Energy =   0.0854
Level     2,  Iter    12:    Energy =   0.0862
Level     2,  Iter    13:    Energy =   0.0868
Level     2,  Iter    14:    Energy =   0.0874
Level     2,  Iter    15:    Energy =   0.0879
Level     2,  Iter    16:    Energy =   0.0885
Level     2,  Iter    17:    Energy =   0.0891
Level     2,  Iter    18:    Energy =   0.0896
Level     2,  Iter    19:    Energy =   0.0899
END OF LEVEL     2    DetJac Range:   0.0318  to   4.7519 
  Avg. Gradient Time  : 0.2952s  30.90% 
  Avg. Gaussian Time  : 0.5302s  55.49% 
  Avg. Iteration Time : 0.9555s 

real	0m34.034s
user	1m1.880s
sys	0m1.532s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234615 0.240385
+ echo 'CHUNK 0.234615 0.240385 1'
CHUNK 0.234615 0.240385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234615 0.240385 1
====================================
         PROGRESS: 0.234615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.41663
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2966.9   GNORM= 327.848
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3029.912     327.014       0.001
   2    4     -3067.699      77.301       1.000
   3    5     -3072.639      78.841       1.000
   4    6     -3082.361      72.062       1.000
   5    7     -3107.432      80.974       1.000
   6    9     -3112.236      52.836       0.345
   7   10     -3114.903      42.953       1.000
   8   11     -3117.922     149.859       1.000
   9   12     -3121.869      72.111       1.000
  10   13     -3123.546      28.504       1.000
  11   14     -3124.101      22.894       1.000
  12   15     -3126.543      73.064       1.000
  13   16     -3129.038      83.928       1.000
  14   18     -3133.598      90.154       0.289
  15   20     -3136.006      53.296       0.344
  16   21     -3137.378      17.197       1.000
  17   22     -3137.838      22.658       1.000
  18   23     -3139.072      46.884       1.000
  19   24     -3140.183      49.455       1.000
  20   26     -3140.625      80.291       0.270
  21   27     -3142.200      27.042       1.000
  22   28     -3142.522      14.465       1.000
  23   30     -3142.916      22.030       5.000
  24   31     -3143.337      14.053       1.000
  25   32     -3143.488      13.037       1.000
  26   33     -3143.704      13.494       1.000
  27   34     -3143.937      20.506       1.000
  28   36     -3144.038      10.180       0.293
  29   37     -3144.169       8.224       1.000
  30   38     -3144.194       6.263       1.000
  31   39     -3144.290       6.652       1.000
  32   40     -3144.432      17.272       1.000
  33   41     -3144.642      11.234       1.000
  34   43     -3144.694       7.575       0.489
  35   44     -3144.740       8.655       1.000
  36   45     -3144.781       6.434       1.000
  37   47     -3144.795      10.776       0.112
  38   48     -3144.856      10.594       1.000
  39   49     -3144.904       6.366       1.000
  40   50     -3144.923       5.161       1.000
  41   51     -3144.946      12.642       1.000
  42   52     -3144.992       8.375       1.000
  43   53     -3145.010       4.530       1.000
  44   54     -3145.015       3.761       1.000
  45   55     -3145.024       2.564       1.000
  46   56     -3145.040       5.766       1.000
Final RAS Transform: 
0.993325 -0.0301408 0.00420421 -0.618895 
0.0483757 1.01616 0.0665956 1.14008 
0.0132304 -0.0129701 0.991737 0.629014 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2297   GNORM= 62.5715
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2302.488      93.012       0.003
   2    4     -2309.678      91.958       1.000
   3    6     -2326.453      98.710       0.397
   4    7     -2337.143      62.128       1.000
   5    8     -2343.380      35.730       1.000
   6    9     -2345.562      29.683       1.000
   7   10     -2352.480      48.775       1.000
   8   12     -2353.850      36.929       0.323
   9   13     -2354.695      17.841       1.000
  10   14     -2355.261      19.005       1.000
  11   15     -2356.249      27.857       1.000
  12   16     -2357.671      18.420       1.000
  13   17     -2361.466      42.301       1.000
  14   18     -2364.544      37.845       1.000
  15   20     -2364.988      26.106       0.182
  16   21     -2365.708      11.181       1.000
  17   22     -2366.006      13.224       1.000
  18   23     -2366.547      16.667       1.000
  19   24     -2367.763      19.870       1.000
  20   25     -2368.914      20.716       1.000
  21   27     -2369.187      16.955       0.304
  22   28     -2369.611       9.192       1.000
  23   29     -2369.988       8.725       1.000
  24   31     -2370.320      20.192       0.482
  25   32     -2370.757      13.466       1.000
  26   33     -2371.123      12.434       1.000
  27   35     -2371.304      12.378       0.479
  28   36     -2371.443      10.326       1.000
  29   38     -2371.571      12.995       0.386
  30   39     -2371.749      10.381       1.000
  31   40     -2371.865       5.757       1.000
  32   41     -2372.086       6.908       1.000
  33   42     -2372.124      10.151       1.000
  34   43     -2372.212       5.464       1.000
  35   44     -2372.238       4.185       1.000
  36   45     -2372.276       5.114       1.000
  37   46     -2372.320       3.364       1.000
  38   48     -2372.325       3.452       0.255
  39   49     -2372.337       2.097       1.000
  40   50     -2372.345       1.774       1.000
Final RAS Transform: 
0.986065 -0.00805267 -0.00787906 -0.478949 
0.0375147 1.00793 0.0272604 0.784676 
-0.0137629 -0.00732934 1.00927 -0.167993 
0 0 0 1 

Final RAS Transform: 
0.986065 -0.00805267 -0.00787906 -0.478949 
0.0375147 1.00793 0.0272604 0.784676 
-0.0137629 -0.00732934 1.00927 -0.167993 
0 0 0 1 


real	0m9.351s
user	0m16.296s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.424649
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0910
Level     0,  Iter     1:    Energy =   0.0968
Level     0,  Iter     2:    Energy =   0.1026
Level     0,  Iter     3:    Energy =   0.1060
Level     0,  Iter     4:    Energy =   0.1090
Level     0,  Iter     5:    Energy =   0.1118
Level     0,  Iter     6:    Energy =   0.1142
Level     0,  Iter     7:    Energy =   0.1155
Level     0,  Iter     8:    Energy =   0.1166
Level     0,  Iter     9:    Energy =   0.1175
Level     0,  Iter    10:    Energy =   0.1183
Level     0,  Iter    11:    Energy =   0.1189
Level     0,  Iter    12:    Energy =   0.1197
Level     0,  Iter    13:    Energy =   0.1202
Level     0,  Iter    14:    Energy =   0.1211
Level     0,  Iter    15:    Energy =   0.1215
Level     0,  Iter    16:    Energy =   0.1225
Level     0,  Iter    17:    Energy =   0.1227
Level     0,  Iter    18:    Energy =   0.1233
Level     0,  Iter    19:    Energy =   0.1235
Level     0,  Iter    20:    Energy =   0.1244
Level     0,  Iter    21:    Energy =   0.1243
Level     0,  Iter    22:    Energy =   0.1244
Level     0,  Iter    23:    Energy =   0.1244
Level     0,  Iter    24:    Energy =   0.1249
Level     0,  Iter    25:    Energy =   0.1249
Level     0,  Iter    26:    Energy =   0.1254
Level     0,  Iter    27:    Energy =   0.1254
Level     0,  Iter    28:    Energy =   0.1260
Level     0,  Iter    29:    Energy =   0.1259
Level     0,  Iter    30:    Energy =   0.1260
Level     0,  Iter    31:    Energy =   0.1259
Level     0,  Iter    32:    Energy =   0.1266
Level     0,  Iter    33:    Energy =   0.1265
Level     0,  Iter    34:    Energy =   0.1266
Level     0,  Iter    35:    Energy =   0.1265
Level     0,  Iter    36:    Energy =   0.1269
Level     0,  Iter    37:    Energy =   0.1267
Level     0,  Iter    38:    Energy =   0.1269
Level     0,  Iter    39:    Energy =   0.1268
Level     0,  Iter    40:    Energy =   0.1273
Level     0,  Iter    41:    Energy =   0.1271
Level     0,  Iter    42:    Energy =   0.1274
Level     0,  Iter    43:    Energy =   0.1272
Level     0,  Iter    44:    Energy =   0.1276
Level     0,  Iter    45:    Energy =   0.1274
Level     0,  Iter    46:    Energy =   0.1275
Level     0,  Iter    47:    Energy =   0.1273
Level     0,  Iter    48:    Energy =   0.1277
Level     0,  Iter    49:    Energy =   0.1275
Level     0,  Iter    50:    Energy =   0.1276
Level     0,  Iter    51:    Energy =   0.1274
Level     0,  Iter    52:    Energy =   0.1278
Level     0,  Iter    53:    Energy =   0.1276
Level     0,  Iter    54:    Energy =   0.1278
Level     0,  Iter    55:    Energy =   0.1276
Level     0,  Iter    56:    Energy =   0.1276
Level     0,  Iter    57:    Energy =   0.1274
Level     0,  Iter    58:    Energy =   0.1277
Level     0,  Iter    59:    Energy =   0.1275
END OF LEVEL     0    DetJac Range:   0.2105  to   2.3594 
  Avg. Gradient Time  : 0.0071s  34.74% 
  Avg. Gaussian Time  : 0.0101s  49.32% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0888
Level     1,  Iter     1:    Energy =   0.0931
Level     1,  Iter     2:    Energy =   0.0966
Level     1,  Iter     3:    Energy =   0.1004
Level     1,  Iter     4:    Energy =   0.1035
Level     1,  Iter     5:    Energy =   0.1061
Level     1,  Iter     6:    Energy =   0.1087
Level     1,  Iter     7:    Energy =   0.1107
Level     1,  Iter     8:    Energy =   0.1119
Level     1,  Iter     9:    Energy =   0.1130
Level     1,  Iter    10:    Energy =   0.1137
Level     1,  Iter    11:    Energy =   0.1143
Level     1,  Iter    12:    Energy =   0.1148
Level     1,  Iter    13:    Energy =   0.1153
Level     1,  Iter    14:    Energy =   0.1157
Level     1,  Iter    15:    Energy =   0.1160
Level     1,  Iter    16:    Energy =   0.1164
Level     1,  Iter    17:    Energy =   0.1167
Level     1,  Iter    18:    Energy =   0.1170
Level     1,  Iter    19:    Energy =   0.1172
Level     1,  Iter    20:    Energy =   0.1175
Level     1,  Iter    21:    Energy =   0.1177
Level     1,  Iter    22:    Energy =   0.1179
Level     1,  Iter    23:    Energy =   0.1182
Level     1,  Iter    24:    Energy =   0.1184
Level     1,  Iter    25:    Energy =   0.1186
Level     1,  Iter    26:    Energy =   0.1188
Level     1,  Iter    27:    Energy =   0.1191
Level     1,  Iter    28:    Energy =   0.1193
Level     1,  Iter    29:    Energy =   0.1194
Level     1,  Iter    30:    Energy =   0.1196
Level     1,  Iter    31:    Energy =   0.1197
Level     1,  Iter    32:    Energy =   0.1198
Level     1,  Iter    33:    Energy =   0.1199
Level     1,  Iter    34:    Energy =   0.1200
Level     1,  Iter    35:    Energy =   0.1200
Level     1,  Iter    36:    Energy =   0.1201
Level     1,  Iter    37:    Energy =   0.1202
Level     1,  Iter    38:    Energy =   0.1203
Level     1,  Iter    39:    Energy =   0.1204
Level     1,  Iter    40:    Energy =   0.1205
Level     1,  Iter    41:    Energy =   0.1206
Level     1,  Iter    42:    Energy =   0.1207
Level     1,  Iter    43:    Energy =   0.1208
Level     1,  Iter    44:    Energy =   0.1209
Level     1,  Iter    45:    Energy =   0.1210
Level     1,  Iter    46:    Energy =   0.1212
Level     1,  Iter    47:    Energy =   0.1213
Level     1,  Iter    48:    Energy =   0.1214
Level     1,  Iter    49:    Energy =   0.1215
Level     1,  Iter    50:    Energy =   0.1216
Level     1,  Iter    51:    Energy =   0.1216
Level     1,  Iter    52:    Energy =   0.1217
Level     1,  Iter    53:    Energy =   0.1215
Level     1,  Iter    54:    Energy =   0.1215
Level     1,  Iter    55:    Energy =   0.1215
Level     1,  Iter    56:    Energy =   0.1215
Level     1,  Iter    57:    Energy =   0.1215
Level     1,  Iter    58:    Energy =   0.1215
Level     1,  Iter    59:    Energy =   0.1215
END OF LEVEL     1    DetJac Range:   0.0636  to   3.3480 
  Avg. Gradient Time  : 0.0407s  32.97% 
  Avg. Gaussian Time  : 0.0666s  53.95% 
  Avg. Iteration Time : 0.1235s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0656
Level     2,  Iter     1:    Energy =   0.0685
Level     2,  Iter     2:    Energy =   0.0709
Level     2,  Iter     3:    Energy =   0.0727
Level     2,  Iter     4:    Energy =   0.0740
Level     2,  Iter     5:    Energy =   0.0751
Level     2,  Iter     6:    Energy =   0.0760
Level     2,  Iter     7:    Energy =   0.0768
Level     2,  Iter     8:    Energy =   0.0775
Level     2,  Iter     9:    Energy =   0.0780
Level     2,  Iter    10:    Energy =   0.0785
Level     2,  Iter    11:    Energy =   0.0789
Level     2,  Iter    12:    Energy =   0.0793
Level     2,  Iter    13:    Energy =   0.0797
Level     2,  Iter    14:    Energy =   0.0800
Level     2,  Iter    15:    Energy =   0.0802
Level     2,  Iter    16:    Energy =   0.0805
Level     2,  Iter    17:    Energy =   0.0808
Level     2,  Iter    18:    Energy =   0.0810
Level     2,  Iter    19:    Energy =   0.0813
END OF LEVEL     2    DetJac Range:   0.0365  to   3.7275 
  Avg. Gradient Time  : 0.2946s  30.99% 
  Avg. Gaussian Time  : 0.5266s  55.40% 
  Avg. Iteration Time : 0.9506s 

real	0m32.344s
user	0m58.736s
sys	0m1.496s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.240385 0.246154
+ echo 'CHUNK 0.240385 0.246154 1'
CHUNK 0.240385 0.246154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.240385 0.246154 1
====================================
         PROGRESS: 0.240385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.418438
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2625.5   GNORM= 169.258
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2635.558     131.156       0.001
   2    5     -2663.632      93.269       5.000
   3    6     -2695.859     149.662       1.000
   4    7     -2728.806      86.006       1.000
   5    8     -2743.407      60.209       1.000
   6    9     -2761.667      65.139       1.000
   7   11     -2770.567      63.735       0.290
   8   12     -2773.322     109.409       1.000
   9   13     -2777.105      37.210       1.000
  10   14     -2778.511      42.239       1.000
  11   15     -2780.580      67.320       1.000
  12   16     -2784.933      68.444       1.000
  13   17     -2793.152      38.434       1.000
  14   18     -2798.249      63.504       1.000
  15   19     -2801.955      34.299       1.000
  16   20     -2802.898      18.588       1.000
  17   21     -2803.694      17.449       1.000
  18   22     -2804.236      15.104       1.000
  19   23     -2805.130      14.068       1.000
  20   24     -2805.528      61.799       1.000
  21   25     -2806.736      15.367       1.000
  22   26     -2806.916      12.716       1.000
  23   27     -2807.251      20.226       1.000
  24   29     -2807.475      23.682       0.446
  25   30     -2807.888      10.569       1.000
  26   31     -2808.028      18.025       1.000
  27   32     -2808.158      13.183       1.000
  28   33     -2808.290      20.490       1.000
  29   34     -2808.424      13.371       1.000
  30   35     -2808.524       5.024       1.000
  31   36     -2808.575       9.891       1.000
  32   37     -2808.657       8.046       1.000
  33   38     -2808.840       8.175       1.000
  34   39     -2808.936       7.527       1.000
  35   40     -2808.942      14.364       1.000
  36   41     -2809.040       8.896       1.000
  37   42     -2809.073       8.279       1.000
  38   43     -2809.118       8.521       1.000
  39   45     -2809.212      12.134       0.209
  40   47     -2809.245      13.084       0.399
  41   49     -2809.266       8.676       0.342
  42   50     -2809.302       3.607       1.000
  43   52     -2809.305       1.639       0.268
  44   53     -2809.307       1.767       1.000
  45   54     -2809.322       5.769       1.000
  46   55     -2809.323       2.448       1.000
  47   56     -2809.336       1.416       1.000
Final RAS Transform: 
0.932392 -0.0343688 0.0627334 -2.57295 
0.0174677 1.00023 0.058724 0.478523 
0.00957553 -0.028546 1.01049 -0.0523037 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1948.55   GNORM= 132.299
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1955.177      45.879       0.001
   2    4     -1956.922      43.668       1.000
   3    5     -1962.124      75.873       1.000
   4    6     -1973.735     122.452       1.000
   5    7     -1990.198     170.983       1.000
   6    8     -2005.185     156.205       1.000
   7   10     -2013.505      36.522       0.478
   8   11     -2014.780      18.964       1.000
   9   12     -2015.378      20.784       1.000
  10   13     -2016.180      30.634       1.000
  11   14     -2019.528      49.879       1.000
  12   15     -2025.660      74.941       1.000
  13   16     -2029.562     111.474       1.000
  14   17     -2038.333      72.153       1.000
  15   18     -2045.104      37.346       1.000
  16   19     -2046.939      31.666       1.000
  17   20     -2050.017      24.963       1.000
  18   21     -2052.279       9.363       1.000
  19   22     -2052.368      28.577       1.000
  20   23     -2052.711      13.110       1.000
  21   24     -2052.876       9.525       1.000
  22   25     -2053.380       4.965       1.000
  23   26     -2053.733      16.480       1.000
  24   27     -2053.816       8.075       1.000
  25   28     -2053.915       6.017       1.000
  26   30     -2053.961       9.656       0.332
  27   31     -2054.088       6.488       1.000
  28   32     -2054.345       8.326       1.000
  29   33     -2054.613      10.535       1.000
  30   35     -2054.694      14.402       0.088
  31   36     -2054.996      16.165       1.000
  32   37     -2055.298      10.750       1.000
  33   38     -2055.530      10.689       1.000
  34   39     -2056.060      17.525       1.000
  35   40     -2056.630       7.665       1.000
  36   41     -2057.290      19.346       1.000
  37   43     -2057.870      29.517       0.497
  38   44     -2058.468      26.910       1.000
  39   45     -2058.985      12.101       1.000
  40   46     -2059.231       9.122       1.000
  41   47     -2059.448       8.682       1.000
  42   48     -2059.623      14.249       1.000
  43   49     -2059.809      12.210       1.000
  44   51     -2060.046      23.220       0.410
  45   52     -2060.361      15.407       1.000
  46   53     -2060.781      14.182       1.000
  47   54     -2061.039      12.199       1.000
  48   56     -2061.185      14.090       0.259
  49   57     -2061.259       7.496       1.000
  50   59     -2061.348       6.666       0.489
  51   60     -2061.385       6.381       1.000
  52   61     -2061.405       3.449       1.000
Final RAS Transform: 
0.980407 -0.0202307 0.00275559 -0.994159 
0.0315157 0.977751 0.00454415 0.439192 
0.0105813 -0.00298875 1.03727 0.587378 
0 0 0 1 

Final RAS Transform: 
0.980407 -0.0202307 0.00275559 -0.994159 
0.0315157 0.977751 0.00454415 0.439192 
0.0105813 -0.00298875 1.03727 0.587378 
0 0 0 1 


real	0m9.712s
user	0m16.920s
sys	0m0.432s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.427206
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0789
Level     0,  Iter     1:    Energy =   0.0843
Level     0,  Iter     2:    Energy =   0.0896
Level     0,  Iter     3:    Energy =   0.0946
Level     0,  Iter     4:    Energy =   0.0984
Level     0,  Iter     5:    Energy =   0.1008
Level     0,  Iter     6:    Energy =   0.1023
Level     0,  Iter     7:    Energy =   0.1039
Level     0,  Iter     8:    Energy =   0.1047
Level     0,  Iter     9:    Energy =   0.1059
Level     0,  Iter    10:    Energy =   0.1065
Level     0,  Iter    11:    Energy =   0.1075
Level     0,  Iter    12:    Energy =   0.1079
Level     0,  Iter    13:    Energy =   0.1089
Level     0,  Iter    14:    Energy =   0.1091
Level     0,  Iter    15:    Energy =   0.1099
Level     0,  Iter    16:    Energy =   0.1101
Level     0,  Iter    17:    Energy =   0.1109
Level     0,  Iter    18:    Energy =   0.1111
Level     0,  Iter    19:    Energy =   0.1118
Level     0,  Iter    20:    Energy =   0.1118
Level     0,  Iter    21:    Energy =   0.1126
Level     0,  Iter    22:    Energy =   0.1125
Level     0,  Iter    23:    Energy =   0.1127
Level     0,  Iter    24:    Energy =   0.1127
Level     0,  Iter    25:    Energy =   0.1133
Level     0,  Iter    26:    Energy =   0.1132
Level     0,  Iter    27:    Energy =   0.1134
Level     0,  Iter    28:    Energy =   0.1133
Level     0,  Iter    29:    Energy =   0.1139
Level     0,  Iter    30:    Energy =   0.1138
Level     0,  Iter    31:    Energy =   0.1138
Level     0,  Iter    32:    Energy =   0.1137
Level     0,  Iter    33:    Energy =   0.1140
Level     0,  Iter    34:    Energy =   0.1139
Level     0,  Iter    35:    Energy =   0.1145
Level     0,  Iter    36:    Energy =   0.1144
Level     0,  Iter    37:    Energy =   0.1146
Level     0,  Iter    38:    Energy =   0.1146
Level     0,  Iter    39:    Energy =   0.1151
Level     0,  Iter    40:    Energy =   0.1150
Level     0,  Iter    41:    Energy =   0.1155
Level     0,  Iter    42:    Energy =   0.1154
Level     0,  Iter    43:    Energy =   0.1158
Level     0,  Iter    44:    Energy =   0.1157
Level     0,  Iter    45:    Energy =   0.1161
Level     0,  Iter    46:    Energy =   0.1159
Level     0,  Iter    47:    Energy =   0.1165
Level     0,  Iter    48:    Energy =   0.1163
Level     0,  Iter    49:    Energy =   0.1164
Level     0,  Iter    50:    Energy =   0.1162
Level     0,  Iter    51:    Energy =   0.1167
Level     0,  Iter    52:    Energy =   0.1165
Level     0,  Iter    53:    Energy =   0.1171
Level     0,  Iter    54:    Energy =   0.1168
Level     0,  Iter    55:    Energy =   0.1170
Level     0,  Iter    56:    Energy =   0.1167
Level     0,  Iter    57:    Energy =   0.1171
Level     0,  Iter    58:    Energy =   0.1170
Level     0,  Iter    59:    Energy =   0.1176
END OF LEVEL     0    DetJac Range:   0.2069  to   3.1919 
  Avg. Gradient Time  : 0.0071s  34.71% 
  Avg. Gaussian Time  : 0.0101s  49.35% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0795
Level     1,  Iter     1:    Energy =   0.0841
Level     1,  Iter     2:    Energy =   0.0885
Level     1,  Iter     3:    Energy =   0.0919
Level     1,  Iter     4:    Energy =   0.0943
Level     1,  Iter     5:    Energy =   0.0963
Level     1,  Iter     6:    Energy =   0.0977
Level     1,  Iter     7:    Energy =   0.0988
Level     1,  Iter     8:    Energy =   0.0996
Level     1,  Iter     9:    Energy =   0.1004
Level     1,  Iter    10:    Energy =   0.1009
Level     1,  Iter    11:    Energy =   0.1014
Level     1,  Iter    12:    Energy =   0.1019
Level     1,  Iter    13:    Energy =   0.1024
Level     1,  Iter    14:    Energy =   0.1030
Level     1,  Iter    15:    Energy =   0.1034
Level     1,  Iter    16:    Energy =   0.1040
Level     1,  Iter    17:    Energy =   0.1045
Level     1,  Iter    18:    Energy =   0.1051
Level     1,  Iter    19:    Energy =   0.1058
Level     1,  Iter    20:    Energy =   0.1065
Level     1,  Iter    21:    Energy =   0.1073
Level     1,  Iter    22:    Energy =   0.1082
Level     1,  Iter    23:    Energy =   0.1089
Level     1,  Iter    24:    Energy =   0.1096
Level     1,  Iter    25:    Energy =   0.1097
Level     1,  Iter    26:    Energy =   0.1099
Level     1,  Iter    27:    Energy =   0.1096
Level     1,  Iter    28:    Energy =   0.1102
Level     1,  Iter    29:    Energy =   0.1101
Level     1,  Iter    30:    Energy =   0.1105
Level     1,  Iter    31:    Energy =   0.1101
Level     1,  Iter    32:    Energy =   0.1105
Level     1,  Iter    33:    Energy =   0.1103
Level     1,  Iter    34:    Energy =   0.1105
Level     1,  Iter    35:    Energy =   0.1103
Level     1,  Iter    36:    Energy =   0.1106
Level     1,  Iter    37:    Energy =   0.1104
Level     1,  Iter    38:    Energy =   0.1107
Level     1,  Iter    39:    Energy =   0.1105
Level     1,  Iter    40:    Energy =   0.1108
Level     1,  Iter    41:    Energy =   0.1106
Level     1,  Iter    42:    Energy =   0.1108
Level     1,  Iter    43:    Energy =   0.1106
Level     1,  Iter    44:    Energy =   0.1109
Level     1,  Iter    45:    Energy =   0.1107
Level     1,  Iter    46:    Energy =   0.1110
Level     1,  Iter    47:    Energy =   0.1108
Level     1,  Iter    48:    Energy =   0.1111
Level     1,  Iter    49:    Energy =   0.1109
Level     1,  Iter    50:    Energy =   0.1112
Level     1,  Iter    51:    Energy =   0.1110
Level     1,  Iter    52:    Energy =   0.1113
Level     1,  Iter    53:    Energy =   0.1111
Level     1,  Iter    54:    Energy =   0.1115
Level     1,  Iter    55:    Energy =   0.1112
Level     1,  Iter    56:    Energy =   0.1116
Level     1,  Iter    57:    Energy =   0.1113
Level     1,  Iter    58:    Energy =   0.1117
Level     1,  Iter    59:    Energy =   0.1115
END OF LEVEL     1    DetJac Range:   0.0822  to   4.9968 
  Avg. Gradient Time  : 0.0405s  32.91% 
  Avg. Gaussian Time  : 0.0664s  53.99% 
  Avg. Iteration Time : 0.1230s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0592
Level     2,  Iter     1:    Energy =   0.0618
Level     2,  Iter     2:    Energy =   0.0640
Level     2,  Iter     3:    Energy =   0.0655
Level     2,  Iter     4:    Energy =   0.0666
Level     2,  Iter     5:    Energy =   0.0675
Level     2,  Iter     6:    Energy =   0.0682
Level     2,  Iter     7:    Energy =   0.0690
Level     2,  Iter     8:    Energy =   0.0703
Level     2,  Iter     9:    Energy =   0.0714
Level     2,  Iter    10:    Energy =   0.0725
Level     2,  Iter    11:    Energy =   0.0736
Level     2,  Iter    12:    Energy =   0.0748
Level     2,  Iter    13:    Energy =   0.0757
Level     2,  Iter    14:    Energy =   0.0765
Level     2,  Iter    15:    Energy =   0.0771
Level     2,  Iter    16:    Energy =   0.0777
Level     2,  Iter    17:    Energy =   0.0782
Level     2,  Iter    18:    Energy =   0.0787
Level     2,  Iter    19:    Energy =   0.0792
END OF LEVEL     2    DetJac Range:   0.0290  to   5.5123 
  Avg. Gradient Time  : 0.2941s  30.96% 
  Avg. Gaussian Time  : 0.5270s  55.46% 
  Avg. Iteration Time : 0.9501s 

real	0m32.354s
user	0m58.860s
sys	0m1.360s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.246154 0.251923
+ echo 'CHUNK 0.246154 0.251923 1'
CHUNK 0.246154 0.251923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.246154 0.251923 1
====================================
         PROGRESS: 0.246154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.747982
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4020.36   GNORM= 604.789
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4101.264     326.135       0.000
   2    4     -4134.371     206.719       1.000
   3    5     -4159.251     133.716       1.000
   4    6     -4168.707      92.846       1.000
   5    7     -4183.308      95.813       1.000
   6    8     -4189.385      66.684       1.000
   7    9     -4195.429      59.017       1.000
   8   10     -4203.945      79.788       1.000
   9   12     -4206.685      98.101       0.199
  10   13     -4209.941      35.767       1.000
  11   14     -4210.982      28.446       1.000
  12   15     -4212.573      26.876       1.000
  13   16     -4213.116     108.145       1.000
  14   17     -4214.919      43.445       1.000
  15   18     -4216.296      16.855       1.000
  16   19     -4216.642      23.335       1.000
  17   20     -4216.987      24.309       1.000
  18   21     -4217.355      17.662       1.000
  19   22     -4217.544      14.046       1.000
  20   23     -4218.103      26.214       1.000
  21   24     -4218.437      10.998       1.000
  22   25     -4218.522       8.569       1.000
  23   26     -4218.723      17.393       1.000
  24   27     -4218.876      21.769       1.000
  25   28     -4218.961      11.808       1.000
  26   30     -4218.977       6.868       0.382
  27   31     -4218.991       4.510       1.000
  28   32     -4219.000       4.443       1.000
  29   33     -4219.036       4.996       1.000
  30   35     -4219.092      11.000       0.293
  31   36     -4219.108       6.755       1.000
  32   37     -4219.118       3.879       1.000
  33   39     -4219.126       4.541       5.000
  34   40     -4219.138       5.845       1.000
  35   42     -4219.160       7.704       0.312
  36   43     -4219.176       5.314       1.000
  37   44     -4219.191       3.663       1.000
  38   46     -4219.194       5.756       0.343
  39   47     -4219.195       3.492       1.000
  40   48     -4219.196       4.688       1.000
  41   49     -4219.200       3.711       1.000
  42   51     -4219.202       3.917       0.441
Final RAS Transform: 
0.972189 -0.00559475 0.00668584 -0.474099 
0.0104926 1.00224 0.00676042 0.215352 
-0.0188225 -0.00446119 1.02618 -0.108639 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2894.07   GNORM= 123.9
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2897.650      58.486       0.000
   2    4     -2899.037      48.080       1.000
   3    5     -2901.210      43.425       1.000
   4    6     -2903.860      42.961       1.000
   5    7     -2908.640      52.654       1.000
   6    8     -2911.047      52.109       1.000
   7    9     -2912.307      20.916       1.000
   8   10     -2912.608      14.324       1.000
   9   11     -2912.852      15.269       1.000
  10   13     -2913.277      23.135       0.416
  11   14     -2913.477      11.414       1.000
  12   15     -2913.540       8.804       1.000
  13   16     -2913.711      11.854       1.000
  14   17     -2914.167      22.245       1.000
  15   18     -2914.681      23.053       1.000
  16   20     -2915.004      40.435       0.195
  17   21     -2915.749      20.582       1.000
  18   22     -2915.895       8.129       1.000
  19   23     -2915.929       6.037       1.000
  20   24     -2915.954       6.147       1.000
  21   26     -2916.072      12.690       0.228
  22   27     -2916.227       8.743       1.000
  23   28     -2916.342       4.703       1.000
  24   30     -2916.360       9.100       0.309
  25   31     -2916.378       7.193       1.000
  26   32     -2916.429       5.303       1.000
  27   33     -2916.483       7.689       1.000
  28   35     -2916.519       6.830       0.396
  29   36     -2916.555       4.340       1.000
  30   37     -2916.581       2.710       1.000
  31   39     -2916.592       4.302       0.505
  32   40     -2916.605       3.202       1.000
  33   41     -2916.645       7.597       1.000
  34   42     -2916.678       6.181       1.000
  35   43     -2916.700       4.241       1.000
  36   44     -2916.705       3.232       1.000
  37   45     -2916.723       4.081       1.000
  38   46     -2916.746       4.039       1.000
  39   48     -2916.783       8.082       0.376
  40   50     -2916.797       7.601       0.330
  41   51     -2916.810       4.290       1.000
  42   52     -2916.821       2.324       1.000
  43   53     -2916.823       2.692       1.000
  44   54     -2916.830       2.964       1.000
  45   55     -2916.832       1.844       1.000
  46   56     -2916.844       4.110       1.000
  47   57     -2916.860       3.613       1.000
  48   58     -2916.865       3.133       1.000
  49   59     -2916.868       1.948       1.000
  50   60     -2916.872       2.167       1.000
Final RAS Transform: 
0.979242 0.00351205 0.0126858 0.0059962 
0.00198504 1.00828 0.0282635 0.149058 
-0.0135906 0.000949186 1.02191 0.15586 
0 0 0 1 

Final RAS Transform: 
0.979242 0.00351205 0.0126858 0.0059962 
0.00198504 1.00828 0.0282635 0.149058 
-0.0135906 0.000949186 1.02191 0.15586 
0 0 0 1 


real	0m9.389s
user	0m16.416s
sys	0m0.420s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.747516
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1233
Level     0,  Iter     1:    Energy =   0.1305
Level     0,  Iter     2:    Energy =   0.1378
Level     0,  Iter     3:    Energy =   0.1419
Level     0,  Iter     4:    Energy =   0.1445
Level     0,  Iter     5:    Energy =   0.1461
Level     0,  Iter     6:    Energy =   0.1471
Level     0,  Iter     7:    Energy =   0.1480
Level     0,  Iter     8:    Energy =   0.1486
Level     0,  Iter     9:    Energy =   0.1493
Level     0,  Iter    10:    Energy =   0.1497
Level     0,  Iter    11:    Energy =   0.1502
Level     0,  Iter    12:    Energy =   0.1505
Level     0,  Iter    13:    Energy =   0.1509
Level     0,  Iter    14:    Energy =   0.1511
Level     0,  Iter    15:    Energy =   0.1516
Level     0,  Iter    16:    Energy =   0.1517
Level     0,  Iter    17:    Energy =   0.1521
Level     0,  Iter    18:    Energy =   0.1522
Level     0,  Iter    19:    Energy =   0.1525
Level     0,  Iter    20:    Energy =   0.1525
Level     0,  Iter    21:    Energy =   0.1527
Level     0,  Iter    22:    Energy =   0.1528
Level     0,  Iter    23:    Energy =   0.1532
Level     0,  Iter    24:    Energy =   0.1532
Level     0,  Iter    25:    Energy =   0.1534
Level     0,  Iter    26:    Energy =   0.1536
Level     0,  Iter    27:    Energy =   0.1539
Level     0,  Iter    28:    Energy =   0.1540
Level     0,  Iter    29:    Energy =   0.1542
Level     0,  Iter    30:    Energy =   0.1544
Level     0,  Iter    31:    Energy =   0.1545
Level     0,  Iter    32:    Energy =   0.1547
Level     0,  Iter    33:    Energy =   0.1546
Level     0,  Iter    34:    Energy =   0.1548
Level     0,  Iter    35:    Energy =   0.1545
Level     0,  Iter    36:    Energy =   0.1548
Level     0,  Iter    37:    Energy =   0.1546
Level     0,  Iter    38:    Energy =   0.1549
Level     0,  Iter    39:    Energy =   0.1543
Level     0,  Iter    40:    Energy =   0.1547
Level     0,  Iter    41:    Energy =   0.1544
Level     0,  Iter    42:    Energy =   0.1546
Level     0,  Iter    43:    Energy =   0.1541
Level     0,  Iter    44:    Energy =   0.1542
Level     0,  Iter    45:    Energy =   0.1539
Level     0,  Iter    46:    Energy =   0.1542
Level     0,  Iter    47:    Energy =   0.1540
Level     0,  Iter    48:    Energy =   0.1543
Level     0,  Iter    49:    Energy =   0.1540
Level     0,  Iter    50:    Energy =   0.1544
Level     0,  Iter    51:    Energy =   0.1542
Level     0,  Iter    52:    Energy =   0.1543
Level     0,  Iter    53:    Energy =   0.1540
Level     0,  Iter    54:    Energy =   0.1540
Level     0,  Iter    55:    Energy =   0.1539
Level     0,  Iter    56:    Energy =   0.1541
Level     0,  Iter    57:    Energy =   0.1539
Level     0,  Iter    58:    Energy =   0.1541
Level     0,  Iter    59:    Energy =   0.1540
END OF LEVEL     0    DetJac Range:   0.3400  to   2.1254 
  Avg. Gradient Time  : 0.0082s  34.86% 
  Avg. Gaussian Time  : 0.0115s  49.31% 
  Avg. Iteration Time : 0.0234s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1031
Level     1,  Iter     1:    Energy =   0.1087
Level     1,  Iter     2:    Energy =   0.1135
Level     1,  Iter     3:    Energy =   0.1177
Level     1,  Iter     4:    Energy =   0.1208
Level     1,  Iter     5:    Energy =   0.1229
Level     1,  Iter     6:    Energy =   0.1253
Level     1,  Iter     7:    Energy =   0.1268
Level     1,  Iter     8:    Energy =   0.1276
Level     1,  Iter     9:    Energy =   0.1282
Level     1,  Iter    10:    Energy =   0.1290
Level     1,  Iter    11:    Energy =   0.1293
Level     1,  Iter    12:    Energy =   0.1301
Level     1,  Iter    13:    Energy =   0.1302
Level     1,  Iter    14:    Energy =   0.1307
Level     1,  Iter    15:    Energy =   0.1309
Level     1,  Iter    16:    Energy =   0.1309
Level     1,  Iter    17:    Energy =   0.1315
Level     1,  Iter    18:    Energy =   0.1314
Level     1,  Iter    19:    Energy =   0.1322
Level     1,  Iter    20:    Energy =   0.1320
Level     1,  Iter    21:    Energy =   0.1326
Level     1,  Iter    22:    Energy =   0.1324
Level     1,  Iter    23:    Energy =   0.1327
Level     1,  Iter    24:    Energy =   0.1325
Level     1,  Iter    25:    Energy =   0.1328
Level     1,  Iter    26:    Energy =   0.1327
Level     1,  Iter    27:    Energy =   0.1329
Level     1,  Iter    28:    Energy =   0.1328
Level     1,  Iter    29:    Energy =   0.1330
Level     1,  Iter    30:    Energy =   0.1329
Level     1,  Iter    31:    Energy =   0.1332
Level     1,  Iter    32:    Energy =   0.1330
Level     1,  Iter    33:    Energy =   0.1333
Level     1,  Iter    34:    Energy =   0.1331
Level     1,  Iter    35:    Energy =   0.1334
Level     1,  Iter    36:    Energy =   0.1332
Level     1,  Iter    37:    Energy =   0.1335
Level     1,  Iter    38:    Energy =   0.1333
Level     1,  Iter    39:    Energy =   0.1336
Level     1,  Iter    40:    Energy =   0.1333
Level     1,  Iter    41:    Energy =   0.1336
Level     1,  Iter    42:    Energy =   0.1334
Level     1,  Iter    43:    Energy =   0.1336
Level     1,  Iter    44:    Energy =   0.1335
Level     1,  Iter    45:    Energy =   0.1336
Level     1,  Iter    46:    Energy =   0.1335
Level     1,  Iter    47:    Energy =   0.1336
Level     1,  Iter    48:    Energy =   0.1335
Level     1,  Iter    49:    Energy =   0.1337
Level     1,  Iter    50:    Energy =   0.1336
Level     1,  Iter    51:    Energy =   0.1336
Level     1,  Iter    52:    Energy =   0.1337
Level     1,  Iter    53:    Energy =   0.1337
Level     1,  Iter    54:    Energy =   0.1337
Level     1,  Iter    55:    Energy =   0.1338
Level     1,  Iter    56:    Energy =   0.1337
Level     1,  Iter    57:    Energy =   0.1339
Level     1,  Iter    58:    Energy =   0.1337
Level     1,  Iter    59:    Energy =   0.1339
END OF LEVEL     1    DetJac Range:   0.1940  to   3.2719 
  Avg. Gradient Time  : 0.0457s  32.60% 
  Avg. Gaussian Time  : 0.0759s  54.16% 
  Avg. Iteration Time : 0.1402s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0702
Level     2,  Iter     1:    Energy =   0.0728
Level     2,  Iter     2:    Energy =   0.0757
Level     2,  Iter     3:    Energy =   0.0788
Level     2,  Iter     4:    Energy =   0.0812
Level     2,  Iter     5:    Energy =   0.0830
Level     2,  Iter     6:    Energy =   0.0843
Level     2,  Iter     7:    Energy =   0.0852
Level     2,  Iter     8:    Energy =   0.0856
Level     2,  Iter     9:    Energy =   0.0868
Level     2,  Iter    10:    Energy =   0.0869
Level     2,  Iter    11:    Energy =   0.0881
Level     2,  Iter    12:    Energy =   0.0881
Level     2,  Iter    13:    Energy =   0.0891
Level     2,  Iter    14:    Energy =   0.0889
Level     2,  Iter    15:    Energy =   0.0898
Level     2,  Iter    16:    Energy =   0.0897
Level     2,  Iter    17:    Energy =   0.0904
Level     2,  Iter    18:    Energy =   0.0901
Level     2,  Iter    19:    Energy =   0.0911
END OF LEVEL     2    DetJac Range:   0.0915  to   4.9312 
  Avg. Gradient Time  : 0.3299s  30.63% 
  Avg. Gaussian Time  : 0.5987s  55.59% 
  Avg. Iteration Time : 1.0770s 

real	0m36.434s
user	1m6.616s
sys	0m1.628s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251923 0.257692
+ echo 'CHUNK 0.251923 0.257692 1'
CHUNK 0.251923 0.257692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251923 0.257692 1
====================================
         PROGRESS: 0.251923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.461945
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3379.18   GNORM= 408.031
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3446.268     366.193       0.001
   2    4     -3490.710     174.649       1.000
   3    5     -3505.374      88.761       1.000
   4    6     -3512.318      98.496       1.000
   5    7     -3526.517      88.289       1.000
   6    8     -3535.895     114.873       1.000
   7    9     -3543.737      77.676       1.000
   8   10     -3550.025     132.734       1.000
   9   11     -3558.637      85.302       1.000
  10   12     -3565.820      85.631       1.000
  11   13     -3570.812      51.167       1.000
  12   14     -3575.039      46.351       1.000
  13   15     -3585.720      59.137       1.000
  14   17     -3588.281      56.356       0.181
  15   18     -3591.058      39.954       1.000
  16   19     -3592.322      47.358       1.000
  17   20     -3593.365      20.377       1.000
  18   21     -3593.814      32.090       1.000
  19   22     -3594.290      18.868       1.000
  20   23     -3594.976      22.306       1.000
  21   24     -3597.807      37.037       1.000
  22   25     -3598.736     102.813       1.000
  23   26     -3602.519      35.965       1.000
  24   27     -3604.154      21.995       1.000
  25   29     -3604.431      26.856       0.237
  26   30     -3604.650      21.929       1.000
  27   31     -3604.792      13.495       1.000
  28   32     -3604.921      12.330       1.000
  29   33     -3605.111      16.111       1.000
  30   34     -3605.464      32.926       1.000
  31   35     -3605.741      13.530       1.000
  32   36     -3605.820      13.372       1.000
  33   39     -3607.296      22.545       2.480
  34   41     -3607.510      32.314       0.040
  35   42     -3607.889      36.123       1.000
  36   44     -3608.153      30.429       0.379
  37   46     -3608.271      19.890       0.274
  38   47     -3608.428      14.319       1.000
  39   48     -3608.519      22.959       1.000
  40   49     -3608.654      10.456       1.000
  41   50     -3608.725      11.700       1.000
  42   51     -3608.787       7.687       1.000
  43   53     -3608.913      13.568       0.505
  44   54     -3608.933      19.992       1.000
  45   55     -3609.028       9.964       1.000
  46   56     -3609.098       6.492       1.000
  47   57     -3609.127       6.510       1.000
  48   58     -3609.131      11.992       1.000
  49   59     -3609.154       5.540       1.000
  50   60     -3609.175       4.790       1.000
Final RAS Transform: 
0.965622 0.0125258 0.0504803 -0.0867609 
0.085358 1.0142 -0.00235614 2.04165 
-0.0464056 -0.0156797 1.04298 -0.953412 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2305.75   GNORM= 87.8994
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2310.451      69.989       0.001
   2    4     -2313.974      57.013       1.000
   3    5     -2321.194      58.186       1.000
   4    6     -2335.406     102.623       1.000
   5    7     -2347.502      81.274       1.000
   6    8     -2353.875      60.835       1.000
   7   10     -2357.205      57.282       0.466
   8   11     -2359.191      25.416       1.000
   9   12     -2359.491      11.293       1.000
  10   13     -2359.612      12.809       1.000
  11   14     -2360.190      14.028       1.000
  12   15     -2360.897      22.852       1.000
  13   17     -2361.492      31.761       0.284
  14   18     -2362.102      25.879       1.000
  15   19     -2362.408      14.117       1.000
  16   20     -2362.537      11.765       1.000
  17   21     -2362.754      16.022       1.000
  18   22     -2363.016      16.231       1.000
  19   23     -2363.532       9.292       1.000
  20   24     -2363.788      21.463       1.000
  21   26     -2364.009      13.024       0.440
  22   27     -2364.126       5.711       1.000
  23   28     -2364.189       3.287       1.000
  24   29     -2364.251       7.209       1.000
  25   30     -2364.449      11.287       1.000
  26   31     -2364.799      18.117       1.000
  27   33     -2364.856      13.609       0.156
  28   34     -2364.947       6.552       1.000
  29   35     -2364.999       7.390       1.000
  30   37     -2365.034       2.796       0.312
  31   38     -2365.038       3.377       1.000
  32   39     -2365.054       4.512       1.000
  33   41     -2365.062       3.924       0.386
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.963891 0.0353358 0.01878 -0.00689473 
0.0839225 1.01393 -0.0034623 2.03947 
-0.0377114 -0.00971314 1.02928 -0.753593 
0 0 0 1 

Final RAS Transform: 
0.963891 0.0353358 0.01878 -0.00689473 
0.0839225 1.01393 -0.0034623 2.03947 
-0.0377114 -0.00971314 1.02928 -0.753593 
0 0 0 1 


real	0m9.977s
user	0m17.416s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.465051
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1002
Level     0,  Iter     1:    Energy =   0.1094
Level     0,  Iter     2:    Energy =   0.1163
Level     0,  Iter     3:    Energy =   0.1208
Level     0,  Iter     4:    Energy =   0.1243
Level     0,  Iter     5:    Energy =   0.1272
Level     0,  Iter     6:    Energy =   0.1295
Level     0,  Iter     7:    Energy =   0.1318
Level     0,  Iter     8:    Energy =   0.1337
Level     0,  Iter     9:    Energy =   0.1342
Level     0,  Iter    10:    Energy =   0.1348
Level     0,  Iter    11:    Energy =   0.1353
Level     0,  Iter    12:    Energy =   0.1357
Level     0,  Iter    13:    Energy =   0.1360
Level     0,  Iter    14:    Energy =   0.1362
Level     0,  Iter    15:    Energy =   0.1365
Level     0,  Iter    16:    Energy =   0.1366
Level     0,  Iter    17:    Energy =   0.1367
Level     0,  Iter    18:    Energy =   0.1367
Level     0,  Iter    19:    Energy =   0.1368
Level     0,  Iter    20:    Energy =   0.1372
Level     0,  Iter    21:    Energy =   0.1373
Level     0,  Iter    22:    Energy =   0.1376
Level     0,  Iter    23:    Energy =   0.1377
Level     0,  Iter    24:    Energy =   0.1383
Level     0,  Iter    25:    Energy =   0.1382
Level     0,  Iter    26:    Energy =   0.1379
Level     0,  Iter    27:    Energy =   0.1379
Level     0,  Iter    28:    Energy =   0.1381
Level     0,  Iter    29:    Energy =   0.1382
Level     0,  Iter    30:    Energy =   0.1388
Level     0,  Iter    31:    Energy =   0.1387
Level     0,  Iter    32:    Energy =   0.1386
Level     0,  Iter    33:    Energy =   0.1387
Level     0,  Iter    34:    Energy =   0.1393
Level     0,  Iter    35:    Energy =   0.1392
Level     0,  Iter    36:    Energy =   0.1388
Level     0,  Iter    37:    Energy =   0.1387
Level     0,  Iter    38:    Energy =   0.1390
Level     0,  Iter    39:    Energy =   0.1390
Level     0,  Iter    40:    Energy =   0.1396
Level     0,  Iter    41:    Energy =   0.1394
Level     0,  Iter    42:    Energy =   0.1391
Level     0,  Iter    43:    Energy =   0.1390
Level     0,  Iter    44:    Energy =   0.1392
Level     0,  Iter    45:    Energy =   0.1393
Level     0,  Iter    46:    Energy =   0.1394
Level     0,  Iter    47:    Energy =   0.1395
Level     0,  Iter    48:    Energy =   0.1396
Level     0,  Iter    49:    Energy =   0.1395
Level     0,  Iter    50:    Energy =   0.1391
Level     0,  Iter    51:    Energy =   0.1392
Level     0,  Iter    52:    Energy =   0.1394
Level     0,  Iter    53:    Energy =   0.1393
Level     0,  Iter    54:    Energy =   0.1390
Level     0,  Iter    55:    Energy =   0.1390
Level     0,  Iter    56:    Energy =   0.1391
Level     0,  Iter    57:    Energy =   0.1392
Level     0,  Iter    58:    Energy =   0.1392
Level     0,  Iter    59:    Energy =   0.1392
END OF LEVEL     0    DetJac Range:   0.2871  to   2.0850 
  Avg. Gradient Time  : 0.0071s  34.80% 
  Avg. Gaussian Time  : 0.0100s  49.20% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0879
Level     1,  Iter     1:    Energy =   0.0933
Level     1,  Iter     2:    Energy =   0.0976
Level     1,  Iter     3:    Energy =   0.1021
Level     1,  Iter     4:    Energy =   0.1062
Level     1,  Iter     5:    Energy =   0.1088
Level     1,  Iter     6:    Energy =   0.1110
Level     1,  Iter     7:    Energy =   0.1127
Level     1,  Iter     8:    Energy =   0.1142
Level     1,  Iter     9:    Energy =   0.1158
Level     1,  Iter    10:    Energy =   0.1174
Level     1,  Iter    11:    Energy =   0.1188
Level     1,  Iter    12:    Energy =   0.1198
Level     1,  Iter    13:    Energy =   0.1200
Level     1,  Iter    14:    Energy =   0.1201
Level     1,  Iter    15:    Energy =   0.1211
Level     1,  Iter    16:    Energy =   0.1213
Level     1,  Iter    17:    Energy =   0.1217
Level     1,  Iter    18:    Energy =   0.1216
Level     1,  Iter    19:    Energy =   0.1221
Level     1,  Iter    20:    Energy =   0.1224
Level     1,  Iter    21:    Energy =   0.1226
Level     1,  Iter    22:    Energy =   0.1225
Level     1,  Iter    23:    Energy =   0.1228
Level     1,  Iter    24:    Energy =   0.1226
Level     1,  Iter    25:    Energy =   0.1230
Level     1,  Iter    26:    Energy =   0.1228
Level     1,  Iter    27:    Energy =   0.1232
Level     1,  Iter    28:    Energy =   0.1231
Level     1,  Iter    29:    Energy =   0.1233
Level     1,  Iter    30:    Energy =   0.1233
Level     1,  Iter    31:    Energy =   0.1235
Level     1,  Iter    32:    Energy =   0.1234
Level     1,  Iter    33:    Energy =   0.1235
Level     1,  Iter    34:    Energy =   0.1236
Level     1,  Iter    35:    Energy =   0.1237
Level     1,  Iter    36:    Energy =   0.1237
Level     1,  Iter    37:    Energy =   0.1237
Level     1,  Iter    38:    Energy =   0.1238
Level     1,  Iter    39:    Energy =   0.1239
Level     1,  Iter    40:    Energy =   0.1239
Level     1,  Iter    41:    Energy =   0.1239
Level     1,  Iter    42:    Energy =   0.1240
Level     1,  Iter    43:    Energy =   0.1240
Level     1,  Iter    44:    Energy =   0.1240
Level     1,  Iter    45:    Energy =   0.1241
Level     1,  Iter    46:    Energy =   0.1241
Level     1,  Iter    47:    Energy =   0.1241
Level     1,  Iter    48:    Energy =   0.1242
Level     1,  Iter    49:    Energy =   0.1242
Level     1,  Iter    50:    Energy =   0.1242
Level     1,  Iter    51:    Energy =   0.1242
Level     1,  Iter    52:    Energy =   0.1243
Level     1,  Iter    53:    Energy =   0.1243
Level     1,  Iter    54:    Energy =   0.1244
Level     1,  Iter    55:    Energy =   0.1243
Level     1,  Iter    56:    Energy =   0.1244
Level     1,  Iter    57:    Energy =   0.1244
Level     1,  Iter    58:    Energy =   0.1244
Level     1,  Iter    59:    Energy =   0.1244
END OF LEVEL     1    DetJac Range:   0.1654  to   4.6976 
  Avg. Gradient Time  : 0.0399s  32.63% 
  Avg. Gaussian Time  : 0.0664s  54.22% 
  Avg. Iteration Time : 0.1224s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0654
Level     2,  Iter     1:    Energy =   0.0681
Level     2,  Iter     2:    Energy =   0.0705
Level     2,  Iter     3:    Energy =   0.0729
Level     2,  Iter     4:    Energy =   0.0750
Level     2,  Iter     5:    Energy =   0.0767
Level     2,  Iter     6:    Energy =   0.0781
Level     2,  Iter     7:    Energy =   0.0791
Level     2,  Iter     8:    Energy =   0.0800
Level     2,  Iter     9:    Energy =   0.0810
Level     2,  Iter    10:    Energy =   0.0820
Level     2,  Iter    11:    Energy =   0.0831
Level     2,  Iter    12:    Energy =   0.0840
Level     2,  Iter    13:    Energy =   0.0849
Level     2,  Iter    14:    Energy =   0.0855
Level     2,  Iter    15:    Energy =   0.0861
Level     2,  Iter    16:    Energy =   0.0867
Level     2,  Iter    17:    Energy =   0.0872
Level     2,  Iter    18:    Energy =   0.0877
Level     2,  Iter    19:    Energy =   0.0881
END OF LEVEL     2    DetJac Range:   0.0935  to   8.0666 
  Avg. Gradient Time  : 0.2937s  30.97% 
  Avg. Gaussian Time  : 0.5258s  55.45% 
  Avg. Iteration Time : 0.9483s 

real	0m32.180s
user	0m58.584s
sys	0m1.408s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.257692 0.263462
+ echo 'CHUNK 0.257692 0.263462 1'
CHUNK 0.257692 0.263462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.257692 0.263462 1
====================================
         PROGRESS: 0.257692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.452227
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3275.21   GNORM= 467.519
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3387.374     355.620       0.002
   2    3     -3452.193     127.564       1.000
   3    4     -3459.267     163.572       1.000
   4    5     -3468.259     128.502       1.000
   5    6     -3500.759      82.596       1.000
   6    7     -3507.052      52.789       1.000
   7    8     -3516.158      68.003       1.000
   8    9     -3521.970      53.167       1.000
   9   10     -3524.646      29.302       1.000
  10   11     -3527.085      64.688       1.000
  11   12     -3528.879      29.470       1.000
  12   13     -3529.678      20.731       1.000
  13   14     -3530.420      26.057       1.000
  14   15     -3531.501      19.947       1.000
  15   16     -3531.956      25.173       1.000
  16   17     -3532.385      17.526       1.000
  17   18     -3533.138      23.637       1.000
  18   20     -3533.457       9.559       0.488
  19   21     -3533.525       6.255       1.000
  20   22     -3533.614       5.594       1.000
  21   23     -3533.671      13.744       1.000
  22   25     -3533.742      16.596       0.251
  23   26     -3533.894      13.925       1.000
  24   27     -3534.049      12.557       1.000
  25   28     -3534.190      20.827       1.000
  26   29     -3534.258       9.896       1.000
  27   30     -3534.288      11.851       1.000
  28   31     -3534.338       3.992       1.000
  29   33     -3534.418       9.231       5.000
  30   34     -3534.441      16.737       1.000
  31   36     -3534.463       6.625       0.418
  32   37     -3534.479       5.968       1.000
  33   38     -3534.491       7.366       1.000
  34   39     -3534.513       3.123       1.000
  35   40     -3534.518       4.177       1.000
  36   41     -3534.518       1.981       1.000
  37   42     -3534.520       1.574       1.000
  38   43     -3534.524       1.991       1.000
  39   45     -3534.526       2.122       0.060
  40   48     -3534.529       1.765       0.025
Final RAS Transform: 
0.998559 -0.00184698 0.0439345 0.71148 
0.016657 0.988064 0.0206947 -0.205037 
-0.0107579 -0.00278225 1.04038 0.212997 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2391.5   GNORM= 47.2624
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2395.383      68.389       0.003
   2    4     -2399.074      62.602       1.000
   3    5     -2406.371      72.773       1.000
   4    6     -2423.359     138.202       1.000
   5    7     -2430.801      32.130       1.000
   6    8     -2431.523      24.879       1.000
   7    9     -2432.218      22.102       1.000
   8   10     -2433.681      34.626       1.000
   9   11     -2435.205      26.747       1.000
  10   12     -2437.177      12.464       1.000
  11   13     -2438.093      27.117       1.000
  12   14     -2439.527      17.022       1.000
  13   15     -2440.416      31.122       1.000
  14   16     -2440.868       8.310       1.000
  15   17     -2440.974      10.690       1.000
  16   18     -2441.036       5.714       1.000
  17   19     -2441.089       7.320       1.000
  18   20     -2441.132       5.437       1.000
  19   22     -2441.218       9.720       0.479
  20   23     -2441.286       9.282       1.000
  21   24     -2441.369       8.541       1.000
  22   25     -2441.520       9.100       1.000
  23   26     -2441.633      18.202       1.000
  24   27     -2441.735      11.972       1.000
  25   28     -2441.942       9.918       1.000
  26   29     -2442.077      15.114       1.000
  27   30     -2442.343       8.303       1.000
  28   31     -2442.446       6.975       1.000
  29   32     -2442.498       7.012       1.000
  30   33     -2442.555      10.092       1.000
  31   34     -2442.627       7.924       1.000
  32   35     -2442.670       7.557       1.000
  33   36     -2442.720       2.806       1.000
  34   37     -2442.729       2.157       1.000
  35   38     -2442.745       2.571       1.000
  36   39     -2442.759       5.089       1.000
  37   41     -2442.785       5.382       0.409
  38   43     -2442.809       3.181       0.371
Final RAS Transform: 
1.00023 0.00927422 0.0257707 0.953923 
0.027837 1.00279 0.016503 0.44298 
-0.0390498 0.00194157 1.04991 -0.442162 
0 0 0 1 

Final RAS Transform: 
1.00023 0.00927422 0.0257707 0.953923 
0.027837 1.00279 0.016503 0.44298 
-0.0390498 0.00194157 1.04991 -0.442162 
0 0 0 1 


real	0m10.036s
user	0m17.496s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.460738
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1010
Level     0,  Iter     1:    Energy =   0.1088
Level     0,  Iter     2:    Energy =   0.1143
Level     0,  Iter     3:    Energy =   0.1187
Level     0,  Iter     4:    Energy =   0.1228
Level     0,  Iter     5:    Energy =   0.1257
Level     0,  Iter     6:    Energy =   0.1266
Level     0,  Iter     7:    Energy =   0.1285
Level     0,  Iter     8:    Energy =   0.1289
Level     0,  Iter     9:    Energy =   0.1302
Level     0,  Iter    10:    Energy =   0.1303
Level     0,  Iter    11:    Energy =   0.1309
Level     0,  Iter    12:    Energy =   0.1309
Level     0,  Iter    13:    Energy =   0.1317
Level     0,  Iter    14:    Energy =   0.1316
Level     0,  Iter    15:    Energy =   0.1323
Level     0,  Iter    16:    Energy =   0.1322
Level     0,  Iter    17:    Energy =   0.1329
Level     0,  Iter    18:    Energy =   0.1328
Level     0,  Iter    19:    Energy =   0.1334
Level     0,  Iter    20:    Energy =   0.1333
Level     0,  Iter    21:    Energy =   0.1339
Level     0,  Iter    22:    Energy =   0.1337
Level     0,  Iter    23:    Energy =   0.1342
Level     0,  Iter    24:    Energy =   0.1340
Level     0,  Iter    25:    Energy =   0.1345
Level     0,  Iter    26:    Energy =   0.1342
Level     0,  Iter    27:    Energy =   0.1347
Level     0,  Iter    28:    Energy =   0.1345
Level     0,  Iter    29:    Energy =   0.1350
Level     0,  Iter    30:    Energy =   0.1348
Level     0,  Iter    31:    Energy =   0.1353
Level     0,  Iter    32:    Energy =   0.1351
Level     0,  Iter    33:    Energy =   0.1357
Level     0,  Iter    34:    Energy =   0.1355
Level     0,  Iter    35:    Energy =   0.1361
Level     0,  Iter    36:    Energy =   0.1359
Level     0,  Iter    37:    Energy =   0.1362
Level     0,  Iter    38:    Energy =   0.1360
Level     0,  Iter    39:    Energy =   0.1368
Level     0,  Iter    40:    Energy =   0.1366
Level     0,  Iter    41:    Energy =   0.1366
Level     0,  Iter    42:    Energy =   0.1363
Level     0,  Iter    43:    Energy =   0.1371
Level     0,  Iter    44:    Energy =   0.1368
Level     0,  Iter    45:    Energy =   0.1368
Level     0,  Iter    46:    Energy =   0.1364
Level     0,  Iter    47:    Energy =   0.1372
Level     0,  Iter    48:    Energy =   0.1369
Level     0,  Iter    49:    Energy =   0.1370
Level     0,  Iter    50:    Energy =   0.1367
Level     0,  Iter    51:    Energy =   0.1374
Level     0,  Iter    52:    Energy =   0.1370
Level     0,  Iter    53:    Energy =   0.1366
Level     0,  Iter    54:    Energy =   0.1362
Level     0,  Iter    55:    Energy =   0.1366
Level     0,  Iter    56:    Energy =   0.1363
Level     0,  Iter    57:    Energy =   0.1369
Level     0,  Iter    58:    Energy =   0.1366
Level     0,  Iter    59:    Energy =   0.1373
END OF LEVEL     0    DetJac Range:   0.2177  to   2.1734 
  Avg. Gradient Time  : 0.0071s  34.81% 
  Avg. Gaussian Time  : 0.0100s  49.21% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0923
Level     1,  Iter     1:    Energy =   0.0973
Level     1,  Iter     2:    Energy =   0.1015
Level     1,  Iter     3:    Energy =   0.1051
Level     1,  Iter     4:    Energy =   0.1079
Level     1,  Iter     5:    Energy =   0.1107
Level     1,  Iter     6:    Energy =   0.1131
Level     1,  Iter     7:    Energy =   0.1149
Level     1,  Iter     8:    Energy =   0.1160
Level     1,  Iter     9:    Energy =   0.1167
Level     1,  Iter    10:    Energy =   0.1175
Level     1,  Iter    11:    Energy =   0.1183
Level     1,  Iter    12:    Energy =   0.1193
Level     1,  Iter    13:    Energy =   0.1194
Level     1,  Iter    14:    Energy =   0.1202
Level     1,  Iter    15:    Energy =   0.1199
Level     1,  Iter    16:    Energy =   0.1206
Level     1,  Iter    17:    Energy =   0.1203
Level     1,  Iter    18:    Energy =   0.1210
Level     1,  Iter    19:    Energy =   0.1206
Level     1,  Iter    20:    Energy =   0.1213
Level     1,  Iter    21:    Energy =   0.1209
Level     1,  Iter    22:    Energy =   0.1216
Level     1,  Iter    23:    Energy =   0.1212
Level     1,  Iter    24:    Energy =   0.1218
Level     1,  Iter    25:    Energy =   0.1214
Level     1,  Iter    26:    Energy =   0.1220
Level     1,  Iter    27:    Energy =   0.1216
Level     1,  Iter    28:    Energy =   0.1221
Level     1,  Iter    29:    Energy =   0.1217
Level     1,  Iter    30:    Energy =   0.1221
Level     1,  Iter    31:    Energy =   0.1218
Level     1,  Iter    32:    Energy =   0.1222
Level     1,  Iter    33:    Energy =   0.1219
Level     1,  Iter    34:    Energy =   0.1223
Level     1,  Iter    35:    Energy =   0.1219
Level     1,  Iter    36:    Energy =   0.1223
Level     1,  Iter    37:    Energy =   0.1220
Level     1,  Iter    38:    Energy =   0.1224
Level     1,  Iter    39:    Energy =   0.1220
Level     1,  Iter    40:    Energy =   0.1224
Level     1,  Iter    41:    Energy =   0.1221
Level     1,  Iter    42:    Energy =   0.1225
Level     1,  Iter    43:    Energy =   0.1221
Level     1,  Iter    44:    Energy =   0.1225
Level     1,  Iter    45:    Energy =   0.1222
Level     1,  Iter    46:    Energy =   0.1226
Level     1,  Iter    47:    Energy =   0.1222
Level     1,  Iter    48:    Energy =   0.1226
Level     1,  Iter    49:    Energy =   0.1223
Level     1,  Iter    50:    Energy =   0.1227
Level     1,  Iter    51:    Energy =   0.1223
Level     1,  Iter    52:    Energy =   0.1227
Level     1,  Iter    53:    Energy =   0.1223
Level     1,  Iter    54:    Energy =   0.1227
Level     1,  Iter    55:    Energy =   0.1224
Level     1,  Iter    56:    Energy =   0.1227
Level     1,  Iter    57:    Energy =   0.1224
Level     1,  Iter    58:    Energy =   0.1227
Level     1,  Iter    59:    Energy =   0.1224
END OF LEVEL     1    DetJac Range:   0.1245  to   3.7911 
  Avg. Gradient Time  : 0.0404s  32.94% 
  Avg. Gaussian Time  : 0.0662s  53.95% 
  Avg. Iteration Time : 0.1227s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0657
Level     2,  Iter     1:    Energy =   0.0682
Level     2,  Iter     2:    Energy =   0.0705
Level     2,  Iter     3:    Energy =   0.0725
Level     2,  Iter     4:    Energy =   0.0743
Level     2,  Iter     5:    Energy =   0.0759
Level     2,  Iter     6:    Energy =   0.0774
Level     2,  Iter     7:    Energy =   0.0788
Level     2,  Iter     8:    Energy =   0.0801
Level     2,  Iter     9:    Energy =   0.0813
Level     2,  Iter    10:    Energy =   0.0823
Level     2,  Iter    11:    Energy =   0.0832
Level     2,  Iter    12:    Energy =   0.0841
Level     2,  Iter    13:    Energy =   0.0847
Level     2,  Iter    14:    Energy =   0.0853
Level     2,  Iter    15:    Energy =   0.0858
Level     2,  Iter    16:    Energy =   0.0861
Level     2,  Iter    17:    Energy =   0.0864
Level     2,  Iter    18:    Energy =   0.0867
Level     2,  Iter    19:    Energy =   0.0871
END OF LEVEL     2    DetJac Range:   0.0716  to   3.9930 
  Avg. Gradient Time  : 0.2940s  30.97% 
  Avg. Gaussian Time  : 0.5264s  55.47% 
  Avg. Iteration Time : 0.9491s 

real	0m32.214s
user	0m58.596s
sys	0m1.396s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.263462 0.269231
+ echo 'CHUNK 0.263462 0.269231 1'
CHUNK 0.263462 0.269231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.263462 0.269231 1
====================================
         PROGRESS: 0.263462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.815522
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3537.33   GNORM= 357.812
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3621.271     362.519       0.001
   2    4     -3659.573     159.424       1.000
   3    5     -3670.310     110.699       1.000
   4    6     -3687.495     113.815       1.000
   5    7     -3699.192     107.175       1.000
   6    8     -3711.174      58.210       1.000
   7    9     -3716.088      46.569       1.000
   8   10     -3722.478      61.290       1.000
   9   12     -3723.705      43.330       0.287
  10   13     -3724.726      36.977       1.000
  11   14     -3726.112      27.388       1.000
  12   16     -3728.224      46.524       0.298
  13   17     -3729.684      36.836       1.000
  14   18     -3732.505      48.609       1.000
  15   19     -3734.123      53.622       1.000
  16   20     -3735.929      74.571       1.000
  17   21     -3737.093      18.728       1.000
  18   22     -3737.522      18.829       1.000
  19   23     -3737.947      36.271       1.000
  20   24     -3738.389      22.413       1.000
  21   25     -3738.757      20.170       1.000
  22   26     -3739.083      32.033       1.000
  23   27     -3739.457      59.171       1.000
  24   28     -3740.120      34.512       1.000
  25   29     -3740.496      19.477       1.000
  26   30     -3740.933      25.683       1.000
  27   31     -3741.281      18.348       1.000
  28   32     -3742.785      23.040       1.000
  29   33     -3744.058      39.454       1.000
  30   35     -3744.650      21.985       0.437
  31   36     -3744.928      18.291       1.000
  32   37     -3745.356      22.776       1.000
  33   38     -3745.815      31.038       1.000
  34   39     -3746.386      28.575       1.000
  35   40     -3747.132      17.912       1.000
  36   41     -3747.817      37.801       1.000
  37   42     -3748.219      34.585       1.000
  38   44     -3748.379       6.241       0.434
  39   45     -3748.395       6.039       1.000
  40   46     -3748.463      11.683       1.000
  41   47     -3748.627       7.245       1.000
  42   48     -3748.941      10.728       1.000
  43   50     -3749.040       9.043       0.253
  44   51     -3749.085      10.879       1.000
  45   52     -3749.203      10.503       1.000
  46   54     -3749.219      16.985       0.127
  47   55     -3749.276      11.356       1.000
  48   56     -3749.310       3.544       1.000
  49   57     -3749.322       7.860       1.000
  50   58     -3749.347       5.673       1.000
  51   59     -3749.370       7.237       1.000
  52   60     -3749.397       7.714       1.000
  53   61     -3749.466      17.586       1.000
Final RAS Transform: 
1.03798 0.00723779 0.00792924 1.7399 
-0.0203042 0.991178 0.0553066 -1.40118 
0.0252889 0.000724474 1.00788 1.2894 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2581.04   GNORM= 297.241
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2599.257      64.191       0.000
   2    4     -2600.466      30.147       1.000
   3    5     -2600.989      30.505       1.000
   4    6     -2603.055      61.986       1.000
   5    7     -2604.773      50.783       1.000
   6    8     -2609.285      29.944       1.000
   7    9     -2610.610      27.989       1.000
   8   10     -2611.271      31.446       1.000
   9   11     -2611.699      27.347       1.000
  10   12     -2612.183      22.642       1.000
  11   13     -2612.620       9.562       1.000
  12   14     -2612.671       8.896       1.000
  13   15     -2612.702       8.977       1.000
  14   16     -2612.903      10.211       1.000
  15   17     -2613.157      16.687       1.000
  16   18     -2613.371       9.856       1.000
  17   19     -2613.548      13.297       1.000
  18   20     -2613.722       9.985       1.000
  19   21     -2613.856      13.853       1.000
  20   22     -2613.916      16.358       1.000
  21   23     -2613.975       3.272       1.000
  22   24     -2613.986       3.166       1.000
  23   26     -2613.987       3.364       0.314
  24   27     -2614.028       7.534       1.000
  25   28     -2614.046       7.182       1.000
  26   29     -2614.059       3.149       1.000
  27   30     -2614.069       3.278       1.000
  28   31     -2614.070       9.452       1.000
  29   32     -2614.079       4.087       1.000
  30   33     -2614.094       1.963       1.000
  31   35     -2614.099       2.894       0.345
  32   36     -2614.105       4.107       1.000
  33   37     -2614.125       5.847       1.000
  34   38     -2614.155       4.985       1.000
  35   39     -2614.163       8.790       1.000
  36   40     -2614.209       6.025       1.000
  37   41     -2614.226       2.354       1.000
  38   42     -2614.237       2.660       1.000
  39   44     -2614.248       3.915       0.171
  40   45     -2614.272       4.077       1.000
  41   46     -2614.323       1.973       1.000
  42   47     -2614.329       2.721       1.000
  43   48     -2614.347       3.152       1.000
  44   51     -2614.374       4.640       0.717
  45   52     -2614.375       3.500       1.000
  46   54     -2614.381       3.035       0.486
  47   55     -2614.389       3.265       1.000
  48   56     -2614.408       3.348       1.000
  49   58     -2614.419       5.461       0.247
  50   59     -2614.424       2.630       1.000
  51   60     -2614.431       1.555       1.000
Final RAS Transform: 
1.03193 0.0140308 0.00568902 1.79551 
-0.0320968 1.00194 0.0533124 -1.44524 
0.0205116 -0.0043101 1.00651 0.824567 
0 0 0 1 

Final RAS Transform: 
1.03193 0.0140308 0.00568902 1.79551 
-0.0320968 1.00194 0.0533124 -1.44524 
0.0205116 -0.0043101 1.00651 0.824567 
0 0 0 1 


real	0m9.420s
user	0m16.444s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.820935
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1081
Level     0,  Iter     1:    Energy =   0.1162
Level     0,  Iter     2:    Energy =   0.1223
Level     0,  Iter     3:    Energy =   0.1271
Level     0,  Iter     4:    Energy =   0.1305
Level     0,  Iter     5:    Energy =   0.1321
Level     0,  Iter     6:    Energy =   0.1339
Level     0,  Iter     7:    Energy =   0.1351
Level     0,  Iter     8:    Energy =   0.1362
Level     0,  Iter     9:    Energy =   0.1370
Level     0,  Iter    10:    Energy =   0.1381
Level     0,  Iter    11:    Energy =   0.1385
Level     0,  Iter    12:    Energy =   0.1397
Level     0,  Iter    13:    Energy =   0.1399
Level     0,  Iter    14:    Energy =   0.1406
Level     0,  Iter    15:    Energy =   0.1409
Level     0,  Iter    16:    Energy =   0.1424
Level     0,  Iter    17:    Energy =   0.1426
Level     0,  Iter    18:    Energy =   0.1424
Level     0,  Iter    19:    Energy =   0.1424
Level     0,  Iter    20:    Energy =   0.1429
Level     0,  Iter    21:    Energy =   0.1430
Level     0,  Iter    22:    Energy =   0.1444
Level     0,  Iter    23:    Energy =   0.1444
Level     0,  Iter    24:    Energy =   0.1444
Level     0,  Iter    25:    Energy =   0.1441
Level     0,  Iter    26:    Energy =   0.1441
Level     0,  Iter    27:    Energy =   0.1442
Level     0,  Iter    28:    Energy =   0.1452
Level     0,  Iter    29:    Energy =   0.1449
Level     0,  Iter    30:    Energy =   0.1447
Level     0,  Iter    31:    Energy =   0.1444
Level     0,  Iter    32:    Energy =   0.1444
Level     0,  Iter    33:    Energy =   0.1444
Level     0,  Iter    34:    Energy =   0.1454
Level     0,  Iter    35:    Energy =   0.1451
Level     0,  Iter    36:    Energy =   0.1446
Level     0,  Iter    37:    Energy =   0.1444
Level     0,  Iter    38:    Energy =   0.1449
Level     0,  Iter    39:    Energy =   0.1449
Level     0,  Iter    40:    Energy =   0.1455
Level     0,  Iter    41:    Energy =   0.1454
Level     0,  Iter    42:    Energy =   0.1451
Level     0,  Iter    43:    Energy =   0.1455
Level     0,  Iter    44:    Energy =   0.1464
Level     0,  Iter    45:    Energy =   0.1458
Level     0,  Iter    46:    Energy =   0.1455
Level     0,  Iter    47:    Energy =   0.1453
Level     0,  Iter    48:    Energy =   0.1449
Level     0,  Iter    49:    Energy =   0.1451
Level     0,  Iter    50:    Energy =   0.1460
Level     0,  Iter    51:    Energy =   0.1455
Level     0,  Iter    52:    Energy =   0.1450
Level     0,  Iter    53:    Energy =   0.1449
Level     0,  Iter    54:    Energy =   0.1452
Level     0,  Iter    55:    Energy =   0.1453
Level     0,  Iter    56:    Energy =   0.1455
Level     0,  Iter    57:    Energy =   0.1457
Level     0,  Iter    58:    Energy =   0.1460
Level     0,  Iter    59:    Energy =   0.1460
END OF LEVEL     0    DetJac Range:   0.3808  to   2.1725 
  Avg. Gradient Time  : 0.0081s  34.86% 
  Avg. Gaussian Time  : 0.0115s  49.21% 
  Avg. Iteration Time : 0.0234s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0962
Level     1,  Iter     1:    Energy =   0.1017
Level     1,  Iter     2:    Energy =   0.1051
Level     1,  Iter     3:    Energy =   0.1079
Level     1,  Iter     4:    Energy =   0.1109
Level     1,  Iter     5:    Energy =   0.1135
Level     1,  Iter     6:    Energy =   0.1162
Level     1,  Iter     7:    Energy =   0.1183
Level     1,  Iter     8:    Energy =   0.1201
Level     1,  Iter     9:    Energy =   0.1214
Level     1,  Iter    10:    Energy =   0.1228
Level     1,  Iter    11:    Energy =   0.1238
Level     1,  Iter    12:    Energy =   0.1235
Level     1,  Iter    13:    Energy =   0.1244
Level     1,  Iter    14:    Energy =   0.1249
Level     1,  Iter    15:    Energy =   0.1252
Level     1,  Iter    16:    Energy =   0.1253
Level     1,  Iter    17:    Energy =   0.1253
Level     1,  Iter    18:    Energy =   0.1253
Level     1,  Iter    19:    Energy =   0.1253
Level     1,  Iter    20:    Energy =   0.1253
Level     1,  Iter    21:    Energy =   0.1254
Level     1,  Iter    22:    Energy =   0.1255
Level     1,  Iter    23:    Energy =   0.1256
Level     1,  Iter    24:    Energy =   0.1256
Level     1,  Iter    25:    Energy =   0.1257
Level     1,  Iter    26:    Energy =   0.1257
Level     1,  Iter    27:    Energy =   0.1258
Level     1,  Iter    28:    Energy =   0.1258
Level     1,  Iter    29:    Energy =   0.1260
Level     1,  Iter    30:    Energy =   0.1259
Level     1,  Iter    31:    Energy =   0.1261
Level     1,  Iter    32:    Energy =   0.1260
Level     1,  Iter    33:    Energy =   0.1262
Level     1,  Iter    34:    Energy =   0.1262
Level     1,  Iter    35:    Energy =   0.1263
Level     1,  Iter    36:    Energy =   0.1263
Level     1,  Iter    37:    Energy =   0.1265
Level     1,  Iter    38:    Energy =   0.1264
Level     1,  Iter    39:    Energy =   0.1265
Level     1,  Iter    40:    Energy =   0.1265
Level     1,  Iter    41:    Energy =   0.1267
Level     1,  Iter    42:    Energy =   0.1266
Level     1,  Iter    43:    Energy =   0.1268
Level     1,  Iter    44:    Energy =   0.1268
Level     1,  Iter    45:    Energy =   0.1269
Level     1,  Iter    46:    Energy =   0.1269
Level     1,  Iter    47:    Energy =   0.1270
Level     1,  Iter    48:    Energy =   0.1270
Level     1,  Iter    49:    Energy =   0.1271
Level     1,  Iter    50:    Energy =   0.1271
Level     1,  Iter    51:    Energy =   0.1271
Level     1,  Iter    52:    Energy =   0.1271
Level     1,  Iter    53:    Energy =   0.1272
Level     1,  Iter    54:    Energy =   0.1272
Level     1,  Iter    55:    Energy =   0.1272
Level     1,  Iter    56:    Energy =   0.1272
Level     1,  Iter    57:    Energy =   0.1272
Level     1,  Iter    58:    Energy =   0.1272
Level     1,  Iter    59:    Energy =   0.1273
END OF LEVEL     1    DetJac Range:   0.1409  to   3.6204 
  Avg. Gradient Time  : 0.0462s  32.87% 
  Avg. Gaussian Time  : 0.0758s  53.94% 
  Avg. Iteration Time : 0.1405s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0687
Level     2,  Iter     1:    Energy =   0.0712
Level     2,  Iter     2:    Energy =   0.0739
Level     2,  Iter     3:    Energy =   0.0757
Level     2,  Iter     4:    Energy =   0.0774
Level     2,  Iter     5:    Energy =   0.0788
Level     2,  Iter     6:    Energy =   0.0801
Level     2,  Iter     7:    Energy =   0.0811
Level     2,  Iter     8:    Energy =   0.0822
Level     2,  Iter     9:    Energy =   0.0831
Level     2,  Iter    10:    Energy =   0.0839
Level     2,  Iter    11:    Energy =   0.0849
Level     2,  Iter    12:    Energy =   0.0858
Level     2,  Iter    13:    Energy =   0.0866
Level     2,  Iter    14:    Energy =   0.0874
Level     2,  Iter    15:    Energy =   0.0881
Level     2,  Iter    16:    Energy =   0.0888
Level     2,  Iter    17:    Energy =   0.0895
Level     2,  Iter    18:    Energy =   0.0892
Level     2,  Iter    19:    Energy =   0.0897
END OF LEVEL     2    DetJac Range:   0.0721  to   4.7750 
  Avg. Gradient Time  : 0.3320s  30.74% 
  Avg. Gaussian Time  : 0.5996s  55.52% 
  Avg. Iteration Time : 1.0800s 

real	0m36.584s
user	1m6.884s
sys	0m1.524s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.269231 0.275
+ echo 'CHUNK 0.269231 0.275 1'
CHUNK 0.269231 0.275 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.269231 0.275 1
====================================
         PROGRESS: 0.269231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.701244
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3278.35   GNORM= 284.198
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3310.323     200.999       0.001
   2    4     -3327.640     129.027       1.000
   3    5     -3346.161     113.880       1.000
   4    6     -3369.727     127.923       1.000
   5    7     -3417.479     220.557       1.000
   6    8     -3444.785     184.278       1.000
   7    9     -3469.155     151.480       1.000
   8   10     -3496.214      99.869       1.000
   9   11     -3512.150     102.289       1.000
  10   12     -3535.771      69.812       1.000
  11   13     -3552.394      56.700       1.000
  12   14     -3561.204      59.143       1.000
  13   16     -3563.693      61.689       0.272
  14   17     -3566.130      31.944       1.000
  15   18     -3567.928      37.042       1.000
  16   19     -3569.865      37.826       1.000
  17   20     -3574.724      66.661       1.000
  18   21     -3578.533      71.523       1.000
  19   22     -3581.840      37.328       1.000
  20   23     -3583.847      28.522       1.000
  21   24     -3584.459      38.055       1.000
  22   25     -3585.257      20.465       1.000
  23   26     -3586.188      39.765       1.000
  24   27     -3586.967      23.290       1.000
  25   28     -3588.250      24.639       1.000
  26   30     -3588.612      24.950       0.490
  27   31     -3589.035      17.375       1.000
  28   32     -3589.417      15.196       1.000
  29   34     -3589.613      23.530       0.486
  30   35     -3590.148      22.815       1.000
  31   36     -3590.755      19.163       1.000
  32   37     -3590.926      36.789       1.000
  33   38     -3591.391       6.331       1.000
  34   39     -3591.451       9.215       1.000
  35   40     -3591.548       9.889       1.000
  36   41     -3591.704       9.823       1.000
  37   43     -3591.797       4.507       0.497
  38   44     -3591.815       8.585       1.000
  39   45     -3591.838       3.086       1.000
  40   46     -3591.848       5.657       1.000
  41   47     -3591.873       7.991       1.000
  42   48     -3591.912       8.575       1.000
  43   49     -3591.941       4.736       1.000
  44   50     -3591.961       4.709       1.000
  45   52     -3591.971       3.201       0.459
  46   53     -3591.982       3.071       1.000
  47   55     -3591.998       3.783       0.384
  48   56     -3592.007       3.250       1.000
Final RAS Transform: 
0.875435 -0.0172952 0.0485431 -3.84583 
0.0133084 0.989784 0.0182856 -0.292304 
-0.0153668 0.00553022 1.03495 -0.0152261 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2294.68   GNORM= 242.187
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2313.260      55.177       0.001
   2    4     -2314.905      42.088       1.000
   3    5     -2317.231      54.233       1.000
   4    6     -2320.809      52.487       1.000
   5    7     -2331.489     108.567       1.000
   6    8     -2337.800      83.277       1.000
   7    9     -2343.268      40.357       1.000
   8   10     -2345.323      27.373       1.000
   9   11     -2346.327      29.135       1.000
  10   12     -2349.309      46.424       1.000
  11   13     -2351.254      92.220       1.000
  12   14     -2355.178      51.173       1.000
  13   15     -2357.706      31.882       1.000
  14   16     -2358.923      29.011       1.000
  15   17     -2365.118      52.345       1.000
  16   19     -2368.441      63.161       0.520
  17   20     -2371.906      36.416       1.000
  18   21     -2375.550      24.151       1.000
  19   22     -2376.462      58.396       1.000
  20   23     -2378.132      27.408       1.000
  21   24     -2379.435      25.346       1.000
  22   25     -2379.844      14.256       1.000
  23   26     -2380.051      10.245       1.000
  24   27     -2380.202      10.513       1.000
  25   28     -2380.541      17.765       1.000
  26   29     -2381.150      24.097       1.000
  27   31     -2381.767      34.019       0.409
  28   32     -2382.723      12.580       1.000
  29   33     -2383.177      10.967       1.000
  30   35     -2383.308      11.043       0.424
  31   36     -2383.415       7.995       1.000
  32   37     -2383.695       9.467       1.000
  33   38     -2383.801      28.994       1.000
  34   39     -2384.253      12.224       1.000
  35   40     -2384.361      15.875       1.000
  36   41     -2384.477       8.491       1.000
  37   42     -2384.527      16.713       1.000
  38   43     -2384.574      12.255       1.000
  39   44     -2384.647       5.218       1.000
  40   45     -2384.767       7.308       1.000
  41   46     -2385.047       9.033       1.000
  42   47     -2385.332      11.889       1.000
  43   48     -2385.572      13.442       1.000
  44   49     -2385.756       7.669       1.000
  45   50     -2385.839      18.597       1.000
  46   51     -2386.061       8.540       1.000
  47   52     -2386.317       5.559       1.000
  48   53     -2386.609      40.208       1.000
  49   54     -2387.030      14.110       1.000
  50   55     -2387.356       7.520       1.000
  51   56     -2387.647       9.842       1.000
  52   57     -2388.010      14.187       1.000
  53   59     -2388.177      10.750       0.231
  54   61     -2388.296      10.668       0.411
Final RAS Transform: 
0.945244 0.00873609 0.0343338 -1.21139 
0.00882659 0.998413 0.0115737 0.0671448 
-0.00849672 0.0136085 1.0273 0.0202626 
0 0 0 1 

Final RAS Transform: 
0.945244 0.00873609 0.0343338 -1.21139 
0.00882659 0.998413 0.0115737 0.0671448 
-0.00849672 0.0136085 1.0273 0.0202626 
0 0 0 1 


real	0m10.179s
user	0m17.768s
sys	0m0.440s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.712755
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1007
Level     0,  Iter     1:    Energy =   0.1063
Level     0,  Iter     2:    Energy =   0.1128
Level     0,  Iter     3:    Energy =   0.1172
Level     0,  Iter     4:    Energy =   0.1219
Level     0,  Iter     5:    Energy =   0.1251
Level     0,  Iter     6:    Energy =   0.1278
Level     0,  Iter     7:    Energy =   0.1307
Level     0,  Iter     8:    Energy =   0.1319
Level     0,  Iter     9:    Energy =   0.1327
Level     0,  Iter    10:    Energy =   0.1334
Level     0,  Iter    11:    Energy =   0.1338
Level     0,  Iter    12:    Energy =   0.1344
Level     0,  Iter    13:    Energy =   0.1346
Level     0,  Iter    14:    Energy =   0.1351
Level     0,  Iter    15:    Energy =   0.1354
Level     0,  Iter    16:    Energy =   0.1357
Level     0,  Iter    17:    Energy =   0.1359
Level     0,  Iter    18:    Energy =   0.1361
Level     0,  Iter    19:    Energy =   0.1364
Level     0,  Iter    20:    Energy =   0.1365
Level     0,  Iter    21:    Energy =   0.1367
Level     0,  Iter    22:    Energy =   0.1368
Level     0,  Iter    23:    Energy =   0.1369
Level     0,  Iter    24:    Energy =   0.1372
Level     0,  Iter    25:    Energy =   0.1372
Level     0,  Iter    26:    Energy =   0.1375
Level     0,  Iter    27:    Energy =   0.1374
Level     0,  Iter    28:    Energy =   0.1375
Level     0,  Iter    29:    Energy =   0.1375
Level     0,  Iter    30:    Energy =   0.1376
Level     0,  Iter    31:    Energy =   0.1376
Level     0,  Iter    32:    Energy =   0.1377
Level     0,  Iter    33:    Energy =   0.1377
Level     0,  Iter    34:    Energy =   0.1378
Level     0,  Iter    35:    Energy =   0.1379
Level     0,  Iter    36:    Energy =   0.1380
Level     0,  Iter    37:    Energy =   0.1380
Level     0,  Iter    38:    Energy =   0.1382
Level     0,  Iter    39:    Energy =   0.1382
Level     0,  Iter    40:    Energy =   0.1382
Level     0,  Iter    41:    Energy =   0.1382
Level     0,  Iter    42:    Energy =   0.1382
Level     0,  Iter    43:    Energy =   0.1383
Level     0,  Iter    44:    Energy =   0.1383
Level     0,  Iter    45:    Energy =   0.1383
Level     0,  Iter    46:    Energy =   0.1384
Level     0,  Iter    47:    Energy =   0.1383
Level     0,  Iter    48:    Energy =   0.1384
Level     0,  Iter    49:    Energy =   0.1383
Level     0,  Iter    50:    Energy =   0.1385
Level     0,  Iter    51:    Energy =   0.1384
Level     0,  Iter    52:    Energy =   0.1385
Level     0,  Iter    53:    Energy =   0.1385
Level     0,  Iter    54:    Energy =   0.1386
Level     0,  Iter    55:    Energy =   0.1386
Level     0,  Iter    56:    Energy =   0.1386
Level     0,  Iter    57:    Energy =   0.1386
Level     0,  Iter    58:    Energy =   0.1387
Level     0,  Iter    59:    Energy =   0.1387
END OF LEVEL     0    DetJac Range:   0.2401  to   1.9913 
  Avg. Gradient Time  : 0.0081s  34.88% 
  Avg. Gaussian Time  : 0.0115s  49.21% 
  Avg. Iteration Time : 0.0233s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0915
Level     1,  Iter     1:    Energy =   0.0974
Level     1,  Iter     2:    Energy =   0.1019
Level     1,  Iter     3:    Energy =   0.1052
Level     1,  Iter     4:    Energy =   0.1081
Level     1,  Iter     5:    Energy =   0.1103
Level     1,  Iter     6:    Energy =   0.1121
Level     1,  Iter     7:    Energy =   0.1138
Level     1,  Iter     8:    Energy =   0.1149
Level     1,  Iter     9:    Energy =   0.1157
Level     1,  Iter    10:    Energy =   0.1165
Level     1,  Iter    11:    Energy =   0.1176
Level     1,  Iter    12:    Energy =   0.1186
Level     1,  Iter    13:    Energy =   0.1194
Level     1,  Iter    14:    Energy =   0.1203
Level     1,  Iter    15:    Energy =   0.1208
Level     1,  Iter    16:    Energy =   0.1210
Level     1,  Iter    17:    Energy =   0.1206
Level     1,  Iter    18:    Energy =   0.1214
Level     1,  Iter    19:    Energy =   0.1218
Level     1,  Iter    20:    Energy =   0.1220
Level     1,  Iter    21:    Energy =   0.1216
Level     1,  Iter    22:    Energy =   0.1221
Level     1,  Iter    23:    Energy =   0.1224
Level     1,  Iter    24:    Energy =   0.1225
Level     1,  Iter    25:    Energy =   0.1223
Level     1,  Iter    26:    Energy =   0.1228
Level     1,  Iter    27:    Energy =   0.1224
Level     1,  Iter    28:    Energy =   0.1229
Level     1,  Iter    29:    Energy =   0.1227
Level     1,  Iter    30:    Energy =   0.1231
Level     1,  Iter    31:    Energy =   0.1226
Level     1,  Iter    32:    Energy =   0.1231
Level     1,  Iter    33:    Energy =   0.1230
Level     1,  Iter    34:    Energy =   0.1232
Level     1,  Iter    35:    Energy =   0.1228
Level     1,  Iter    36:    Energy =   0.1233
Level     1,  Iter    37:    Energy =   0.1231
Level     1,  Iter    38:    Energy =   0.1235
Level     1,  Iter    39:    Energy =   0.1230
Level     1,  Iter    40:    Energy =   0.1235
Level     1,  Iter    41:    Energy =   0.1232
Level     1,  Iter    42:    Energy =   0.1232
Level     1,  Iter    43:    Energy =   0.1231
Level     1,  Iter    44:    Energy =   0.1229
Level     1,  Iter    45:    Energy =   0.1231
Level     1,  Iter    46:    Energy =   0.1230
Level     1,  Iter    47:    Energy =   0.1229
Level     1,  Iter    48:    Energy =   0.1229
Level     1,  Iter    49:    Energy =   0.1230
Level     1,  Iter    50:    Energy =   0.1228
Level     1,  Iter    51:    Energy =   0.1230
Level     1,  Iter    52:    Energy =   0.1229
Level     1,  Iter    53:    Energy =   0.1229
Level     1,  Iter    54:    Energy =   0.1228
Level     1,  Iter    55:    Energy =   0.1229
Level     1,  Iter    56:    Energy =   0.1228
Level     1,  Iter    57:    Energy =   0.1229
Level     1,  Iter    58:    Energy =   0.1228
Level     1,  Iter    59:    Energy =   0.1229
END OF LEVEL     1    DetJac Range:   0.1415  to   3.5741 
  Avg. Gradient Time  : 0.0462s  32.84% 
  Avg. Gaussian Time  : 0.0759s  53.95% 
  Avg. Iteration Time : 0.1408s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0629
Level     2,  Iter     1:    Energy =   0.0660
Level     2,  Iter     2:    Energy =   0.0684
Level     2,  Iter     3:    Energy =   0.0711
Level     2,  Iter     4:    Energy =   0.0733
Level     2,  Iter     5:    Energy =   0.0748
Level     2,  Iter     6:    Energy =   0.0760
Level     2,  Iter     7:    Energy =   0.0770
Level     2,  Iter     8:    Energy =   0.0782
Level     2,  Iter     9:    Energy =   0.0792
Level     2,  Iter    10:    Energy =   0.0802
Level     2,  Iter    11:    Energy =   0.0813
Level     2,  Iter    12:    Energy =   0.0823
Level     2,  Iter    13:    Energy =   0.0832
Level     2,  Iter    14:    Energy =   0.0839
Level     2,  Iter    15:    Energy =   0.0844
Level     2,  Iter    16:    Energy =   0.0849
Level     2,  Iter    17:    Energy =   0.0852
Level     2,  Iter    18:    Energy =   0.0855
Level     2,  Iter    19:    Energy =   0.0859
END OF LEVEL     2    DetJac Range:   0.0793  to   5.4639 
  Avg. Gradient Time  : 0.3318s  30.73% 
  Avg. Gaussian Time  : 0.5992s  55.48% 
  Avg. Iteration Time : 1.0799s 

real	0m36.579s
user	1m6.996s
sys	0m1.488s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.275 0.280769
+ echo 'CHUNK 0.275 0.280769 1'
CHUNK 0.275 0.280769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.275 0.280769 1
====================================
         PROGRESS: 0.275               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.557761
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3034.8   GNORM= 291.782
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3057.635     188.259       0.001
   2    4     -3069.658     148.888       1.000
   3    5     -3097.679     122.311       1.000
   4    6     -3109.174      83.826       1.000
   5    7     -3140.257      87.301       1.000
   6    8     -3152.891      81.935       1.000
   7    9     -3169.596     154.091       1.000
   8   10     -3185.183     214.858       1.000
   9   11     -3201.979      76.990       1.000
  10   12     -3209.284      42.955       1.000
  11   13     -3213.021      43.359       1.000
  12   14     -3224.618      92.820       1.000
  13   15     -3230.829      98.319       1.000
  14   16     -3239.118      43.898       1.000
  15   17     -3240.865      33.455       1.000
  16   18     -3241.361      38.668       1.000
  17   19     -3243.174      28.471       1.000
  18   20     -3246.110      48.795       1.000
  19   21     -3247.603      29.825       1.000
  20   22     -3248.132      27.382       1.000
  21   23     -3248.563      15.326       1.000
  22   24     -3248.680      20.945       1.000
  23   25     -3248.806       8.355       1.000
  24   26     -3248.923      12.527       1.000
  25   27     -3249.210      19.128       1.000
  26   28     -3249.895      42.434       1.000
  27   29     -3250.404      55.796       1.000
  28   30     -3251.117      24.929       1.000
  29   31     -3251.301      11.940       1.000
  30   33     -3251.369       7.374       0.473
  31   34     -3251.409      14.672       1.000
  32   35     -3251.456       8.816       1.000
  33   36     -3251.523       8.909       1.000
  34   37     -3251.589       9.941       1.000
  35   38     -3251.757      10.154       1.000
  36   40     -3251.859      18.463       0.379
  37   41     -3251.987       5.206       1.000
  38   43     -3252.036       7.806       0.505
  39   44     -3252.100       6.787       1.000
  40   45     -3252.156       6.588       1.000
  41   47     -3252.176       6.997       0.380
  42   48     -3252.203       7.277       1.000
  43   49     -3252.238       6.738       1.000
  44   50     -3252.285       6.286       1.000
  45   52     -3252.311       6.033       0.126
  46   53     -3252.334      12.453       1.000
  47   54     -3252.366       5.761       1.000
  48   55     -3252.373       3.151       1.000
  49   56     -3252.378       3.386       1.000
Final RAS Transform: 
0.934184 -0.0234251 0.0223176 -2.24331 
-0.0359787 0.980538 0.0370529 -1.66547 
-0.0229115 -0.00303488 1.04141 -0.256255 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2173.15   GNORM= 228.343
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2187.705      78.354       0.000
   2    4     -2190.099      43.918       1.000
   3    5     -2191.030      29.337       1.000
   4    6     -2192.729      48.944       1.000
   5    7     -2194.627      75.935       1.000
   6    8     -2201.200      69.386       1.000
   7    9     -2204.948     155.065       1.000
   8   10     -2211.051      58.221       1.000
   9   11     -2212.986      29.001       1.000
  10   12     -2214.134      25.916       1.000
  11   13     -2215.241      35.960       1.000
  12   14     -2218.548      70.233       1.000
  13   15     -2221.587      42.573       1.000
  14   16     -2222.912      20.687       1.000
  15   17     -2223.627      24.999       1.000
  16   18     -2224.297      29.671       1.000
  17   19     -2225.840      15.724       1.000
  18   20     -2226.849      19.048       1.000
  19   21     -2230.313      24.365       1.000
  20   22     -2231.426      44.950       1.000
  21   23     -2232.637      30.558       1.000
  22   24     -2233.200      14.126       1.000
  23   25     -2233.565      14.347       1.000
  24   26     -2234.103      16.142       1.000
  25   27     -2235.471      24.497       1.000
  26   28     -2236.208      19.118       1.000
  27   29     -2236.916      16.319       1.000
  28   30     -2237.377       8.271       1.000
  29   31     -2237.409      13.297       1.000
  30   32     -2237.490       6.531       1.000
  31   33     -2237.623       5.392       1.000
  32   34     -2237.837      35.034       1.000
  33   35     -2238.122      19.632       1.000
  34   36     -2238.425       6.297       1.000
  35   37     -2238.601       8.379       1.000
  36   39     -2238.675       9.615       0.498
  37   40     -2238.762       8.142       1.000
  38   41     -2238.869      13.501       1.000
  39   42     -2238.972       4.735       1.000
  40   43     -2239.008       4.844       1.000
  41   44     -2239.037       5.176       1.000
  42   45     -2239.051       3.323       1.000
  43   46     -2239.060       3.272       1.000
  44   47     -2239.081       3.114       1.000
  45   49     -2239.104      11.760       0.284
  46   50     -2239.146       5.525       1.000
  47   51     -2239.181       6.477       1.000
  48   52     -2239.196       6.268       1.000
  49   53     -2239.227       4.029       1.000
  50   54     -2239.245       2.052       1.000
  51   55     -2239.246       2.860       1.000
  52   57     -2239.258       3.032       0.247
  53   58     -2239.260       7.140       1.000
  54   59     -2239.262       3.987       1.000
  55   61     -2239.265       1.910       0.335
Final RAS Transform: 
0.966385 -0.0193793 -0.00378349 -1.08343 
-0.00118497 1.01089 0.0393631 -0.0225261 
-0.023179 -0.00906331 1.03044 -0.478142 
0 0 0 1 

Final RAS Transform: 
0.966385 -0.0193793 -0.00378349 -1.08343 
-0.00118497 1.01089 0.0393631 -0.0225261 
-0.023179 -0.00906331 1.03044 -0.478142 
0 0 0 1 


real	0m10.108s
user	0m17.652s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.567826
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0915
Level     0,  Iter     1:    Energy =   0.0978
Level     0,  Iter     2:    Energy =   0.1044
Level     0,  Iter     3:    Energy =   0.1102
Level     0,  Iter     4:    Energy =   0.1131
Level     0,  Iter     5:    Energy =   0.1160
Level     0,  Iter     6:    Energy =   0.1175
Level     0,  Iter     7:    Energy =   0.1193
Level     0,  Iter     8:    Energy =   0.1200
Level     0,  Iter     9:    Energy =   0.1210
Level     0,  Iter    10:    Energy =   0.1214
Level     0,  Iter    11:    Energy =   0.1223
Level     0,  Iter    12:    Energy =   0.1225
Level     0,  Iter    13:    Energy =   0.1232
Level     0,  Iter    14:    Energy =   0.1233
Level     0,  Iter    15:    Energy =   0.1237
Level     0,  Iter    16:    Energy =   0.1238
Level     0,  Iter    17:    Energy =   0.1241
Level     0,  Iter    18:    Energy =   0.1242
Level     0,  Iter    19:    Energy =   0.1245
Level     0,  Iter    20:    Energy =   0.1246
Level     0,  Iter    21:    Energy =   0.1248
Level     0,  Iter    22:    Energy =   0.1249
Level     0,  Iter    23:    Energy =   0.1252
Level     0,  Iter    24:    Energy =   0.1254
Level     0,  Iter    25:    Energy =   0.1257
Level     0,  Iter    26:    Energy =   0.1258
Level     0,  Iter    27:    Energy =   0.1260
Level     0,  Iter    28:    Energy =   0.1261
Level     0,  Iter    29:    Energy =   0.1263
Level     0,  Iter    30:    Energy =   0.1264
Level     0,  Iter    31:    Energy =   0.1266
Level     0,  Iter    32:    Energy =   0.1266
Level     0,  Iter    33:    Energy =   0.1267
Level     0,  Iter    34:    Energy =   0.1267
Level     0,  Iter    35:    Energy =   0.1268
Level     0,  Iter    36:    Energy =   0.1268
Level     0,  Iter    37:    Energy =   0.1269
Level     0,  Iter    38:    Energy =   0.1269
Level     0,  Iter    39:    Energy =   0.1270
Level     0,  Iter    40:    Energy =   0.1271
Level     0,  Iter    41:    Energy =   0.1272
Level     0,  Iter    42:    Energy =   0.1272
Level     0,  Iter    43:    Energy =   0.1273
Level     0,  Iter    44:    Energy =   0.1273
Level     0,  Iter    45:    Energy =   0.1274
Level     0,  Iter    46:    Energy =   0.1274
Level     0,  Iter    47:    Energy =   0.1275
Level     0,  Iter    48:    Energy =   0.1275
Level     0,  Iter    49:    Energy =   0.1276
Level     0,  Iter    50:    Energy =   0.1276
Level     0,  Iter    51:    Energy =   0.1277
Level     0,  Iter    52:    Energy =   0.1277
Level     0,  Iter    53:    Energy =   0.1278
Level     0,  Iter    54:    Energy =   0.1277
Level     0,  Iter    55:    Energy =   0.1279
Level     0,  Iter    56:    Energy =   0.1279
Level     0,  Iter    57:    Energy =   0.1280
Level     0,  Iter    58:    Energy =   0.1280
Level     0,  Iter    59:    Energy =   0.1281
END OF LEVEL     0    DetJac Range:   0.3003  to   2.0935 
  Avg. Gradient Time  : 0.0082s  34.83% 
  Avg. Gaussian Time  : 0.0116s  49.36% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0859
Level     1,  Iter     1:    Energy =   0.0898
Level     1,  Iter     2:    Energy =   0.0941
Level     1,  Iter     3:    Energy =   0.0974
Level     1,  Iter     4:    Energy =   0.1003
Level     1,  Iter     5:    Energy =   0.1030
Level     1,  Iter     6:    Energy =   0.1051
Level     1,  Iter     7:    Energy =   0.1067
Level     1,  Iter     8:    Energy =   0.1079
Level     1,  Iter     9:    Energy =   0.1090
Level     1,  Iter    10:    Energy =   0.1100
Level     1,  Iter    11:    Energy =   0.1111
Level     1,  Iter    12:    Energy =   0.1121
Level     1,  Iter    13:    Energy =   0.1131
Level     1,  Iter    14:    Energy =   0.1140
Level     1,  Iter    15:    Energy =   0.1147
Level     1,  Iter    16:    Energy =   0.1154
Level     1,  Iter    17:    Energy =   0.1155
Level     1,  Iter    18:    Energy =   0.1158
Level     1,  Iter    19:    Energy =   0.1156
Level     1,  Iter    20:    Energy =   0.1161
Level     1,  Iter    21:    Energy =   0.1159
Level     1,  Iter    22:    Energy =   0.1164
Level     1,  Iter    23:    Energy =   0.1162
Level     1,  Iter    24:    Energy =   0.1166
Level     1,  Iter    25:    Energy =   0.1164
Level     1,  Iter    26:    Energy =   0.1168
Level     1,  Iter    27:    Energy =   0.1165
Level     1,  Iter    28:    Energy =   0.1169
Level     1,  Iter    29:    Energy =   0.1167
Level     1,  Iter    30:    Energy =   0.1169
Level     1,  Iter    31:    Energy =   0.1168
Level     1,  Iter    32:    Energy =   0.1170
Level     1,  Iter    33:    Energy =   0.1169
Level     1,  Iter    34:    Energy =   0.1171
Level     1,  Iter    35:    Energy =   0.1170
Level     1,  Iter    36:    Energy =   0.1172
Level     1,  Iter    37:    Energy =   0.1171
Level     1,  Iter    38:    Energy =   0.1172
Level     1,  Iter    39:    Energy =   0.1171
Level     1,  Iter    40:    Energy =   0.1173
Level     1,  Iter    41:    Energy =   0.1172
Level     1,  Iter    42:    Energy =   0.1174
Level     1,  Iter    43:    Energy =   0.1173
Level     1,  Iter    44:    Energy =   0.1175
Level     1,  Iter    45:    Energy =   0.1174
Level     1,  Iter    46:    Energy =   0.1175
Level     1,  Iter    47:    Energy =   0.1174
Level     1,  Iter    48:    Energy =   0.1176
Level     1,  Iter    49:    Energy =   0.1175
Level     1,  Iter    50:    Energy =   0.1177
Level     1,  Iter    51:    Energy =   0.1175
Level     1,  Iter    52:    Energy =   0.1177
Level     1,  Iter    53:    Energy =   0.1176
Level     1,  Iter    54:    Energy =   0.1177
Level     1,  Iter    55:    Energy =   0.1176
Level     1,  Iter    56:    Energy =   0.1178
Level     1,  Iter    57:    Energy =   0.1176
Level     1,  Iter    58:    Energy =   0.1179
Level     1,  Iter    59:    Energy =   0.1177
END OF LEVEL     1    DetJac Range:   0.1224  to   3.6589 
  Avg. Gradient Time  : 0.0460s  32.65% 
  Avg. Gaussian Time  : 0.0762s  54.15% 
  Avg. Iteration Time : 0.1407s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0601
Level     2,  Iter     1:    Energy =   0.0627
Level     2,  Iter     2:    Energy =   0.0648
Level     2,  Iter     3:    Energy =   0.0665
Level     2,  Iter     4:    Energy =   0.0681
Level     2,  Iter     5:    Energy =   0.0698
Level     2,  Iter     6:    Energy =   0.0712
Level     2,  Iter     7:    Energy =   0.0726
Level     2,  Iter     8:    Energy =   0.0741
Level     2,  Iter     9:    Energy =   0.0755
Level     2,  Iter    10:    Energy =   0.0769
Level     2,  Iter    11:    Energy =   0.0781
Level     2,  Iter    12:    Energy =   0.0790
Level     2,  Iter    13:    Energy =   0.0798
Level     2,  Iter    14:    Energy =   0.0805
Level     2,  Iter    15:    Energy =   0.0811
Level     2,  Iter    16:    Energy =   0.0817
Level     2,  Iter    17:    Energy =   0.0821
Level     2,  Iter    18:    Energy =   0.0827
Level     2,  Iter    19:    Energy =   0.0833
END OF LEVEL     2    DetJac Range:   0.0742  to   5.4032 
  Avg. Gradient Time  : 0.3323s  30.74% 
  Avg. Gaussian Time  : 0.5999s  55.50% 
  Avg. Iteration Time : 1.0809s 

real	0m36.740s
user	1m7.272s
sys	0m1.420s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.280769 0.286538
+ echo 'CHUNK 0.280769 0.286538 1'
CHUNK 0.280769 0.286538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.280769 0.286538 1
====================================
         PROGRESS: 0.280769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.771967
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4002.94   GNORM= 368.066
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4030.877     144.113       0.000
   2    4     -4038.049     136.175       1.000
   3    5     -4086.297     167.782       1.000
   4    6     -4092.403     146.713       1.000
   5    7     -4099.471      74.049       1.000
   6    8     -4103.920      50.189       1.000
   7    9     -4110.226      56.281       1.000
   8   10     -4113.377     130.452       1.000
   9   11     -4116.469      66.484       1.000
  10   12     -4117.318      35.927       1.000
  11   13     -4117.876      25.222       1.000
  12   14     -4118.318      22.449       1.000
  13   15     -4119.580      40.133       1.000
  14   16     -4119.643      46.236       1.000
  15   17     -4120.380      15.559       1.000
  16   18     -4120.684      14.301       1.000
  17   20     -4120.875      34.008       0.270
  18   21     -4121.260      17.572       1.000
  19   22     -4121.505       7.902       1.000
  20   23     -4121.589      13.695       1.000
  21   24     -4121.613      24.700       1.000
  22   25     -4121.796      16.388       1.000
  23   26     -4122.089       7.732       1.000
  24   27     -4122.351      13.631       1.000
  25   29     -4122.390      11.940       0.189
  26   30     -4122.424       6.198       1.000
  27   31     -4122.431       4.078       1.000
  28   33     -4122.445       5.884       0.381
  29   34     -4122.458       3.511       1.000
  30   35     -4122.488       5.149       1.000
  31   36     -4122.513      12.375       1.000
  32   37     -4122.537       6.611       1.000
  33   38     -4122.555       8.651       1.000
  34   39     -4122.564       5.094       1.000
  35   40     -4122.571       3.077       1.000
  36   41     -4122.571       2.236       1.000
  37   42     -4122.575       3.291       1.000
  38   43     -4122.585       2.456       1.000
Final RAS Transform: 
0.987293 -0.000950666 0.0219993 -0.120166 
0.00860127 0.99379 0.0203231 0.13217 
-0.00743846 -0.00105111 1.02733 -0.139495 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2861.65   GNORM= 105.608
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2866.600      41.232       0.001
   2    4     -2867.845      39.822       1.000
   3    5     -2873.480      66.574       1.000
   4    6     -2878.016     134.461       1.000
   5    7     -2882.259      71.384       1.000
   6    8     -2884.727      18.349       1.000
   7    9     -2884.963      12.180       1.000
   8   10     -2885.207      12.672       1.000
   9   11     -2885.938      13.863       1.000
  10   12     -2886.249      17.590       1.000
  11   13     -2886.393      10.270       1.000
  12   14     -2886.445      13.150       1.000
  13   15     -2886.505      10.099       1.000
  14   16     -2886.660      10.529       1.000
  15   17     -2886.768      35.718       1.000
  16   18     -2887.095      10.972       1.000
  17   19     -2887.213       5.831       1.000
  18   20     -2887.353      12.653       1.000
  19   21     -2887.465       9.515       1.000
  20   23     -2887.486      10.554       0.517
  21   24     -2887.518       2.574       1.000
  22   25     -2887.532       2.835       1.000
  23   28     -2887.533       2.918       0.077
  24   29     -2887.542       4.511       1.000
  25   30     -2887.566      18.529       1.000
  26   31     -2887.597       6.879       1.000
  27   32     -2887.617       4.293       1.000
  28   33     -2887.636       3.164       1.000
  29   34     -2887.646       3.744       1.000
  30   35     -2887.649       2.828       1.000
  31   36     -2887.661       2.291       1.000
  32   37     -2887.675       5.036       1.000
  33   38     -2887.684       2.479       1.000
  34   39     -2887.691       4.476       1.000
  35   40     -2887.698       4.246       1.000
  36   42     -2887.700       4.118       0.135
  37   43     -2887.708       3.524       1.000
  38   44     -2887.720       4.265       1.000
  39   45     -2887.731       2.717       1.000
  40   47     -2887.743       3.641       0.387
  41   48     -2887.746       3.636       1.000
  42   49     -2887.770       3.032       1.000
  43   50     -2887.808       5.222       1.000
  44   51     -2887.822       5.112       1.000
  45   52     -2887.843       4.134       1.000
  46   53     -2887.868       4.104       1.000
  47   54     -2887.877       2.541       1.000
  48   55     -2887.878       3.648       1.000
  49   56     -2887.884       1.235       1.000
Final RAS Transform: 
0.985561 0.00808302 0.00645209 -0.110498 
0.00981449 0.997678 0.0194416 0.253881 
-0.0171174 0.0027377 1.03142 -0.368525 
0 0 0 1 

Final RAS Transform: 
0.985561 0.00808302 0.00645209 -0.110498 
0.00981449 0.997678 0.0194416 0.253881 
-0.0171174 0.0027377 1.03142 -0.368525 
0 0 0 1 


real	0m9.352s
user	0m16.280s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.790291
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1195
Level     0,  Iter     1:    Energy =   0.1259
Level     0,  Iter     2:    Energy =   0.1313
Level     0,  Iter     3:    Energy =   0.1352
Level     0,  Iter     4:    Energy =   0.1374
Level     0,  Iter     5:    Energy =   0.1395
Level     0,  Iter     6:    Energy =   0.1408
Level     0,  Iter     7:    Energy =   0.1423
Level     0,  Iter     8:    Energy =   0.1432
Level     0,  Iter     9:    Energy =   0.1442
Level     0,  Iter    10:    Energy =   0.1448
Level     0,  Iter    11:    Energy =   0.1456
Level     0,  Iter    12:    Energy =   0.1459
Level     0,  Iter    13:    Energy =   0.1465
Level     0,  Iter    14:    Energy =   0.1469
Level     0,  Iter    15:    Energy =   0.1474
Level     0,  Iter    16:    Energy =   0.1476
Level     0,  Iter    17:    Energy =   0.1479
Level     0,  Iter    18:    Energy =   0.1480
Level     0,  Iter    19:    Energy =   0.1483
Level     0,  Iter    20:    Energy =   0.1484
Level     0,  Iter    21:    Energy =   0.1487
Level     0,  Iter    22:    Energy =   0.1489
Level     0,  Iter    23:    Energy =   0.1488
Level     0,  Iter    24:    Energy =   0.1489
Level     0,  Iter    25:    Energy =   0.1492
Level     0,  Iter    26:    Energy =   0.1494
Level     0,  Iter    27:    Energy =   0.1496
Level     0,  Iter    28:    Energy =   0.1496
Level     0,  Iter    29:    Energy =   0.1497
Level     0,  Iter    30:    Energy =   0.1497
Level     0,  Iter    31:    Energy =   0.1500
Level     0,  Iter    32:    Energy =   0.1499
Level     0,  Iter    33:    Energy =   0.1497
Level     0,  Iter    34:    Energy =   0.1497
Level     0,  Iter    35:    Energy =   0.1497
Level     0,  Iter    36:    Energy =   0.1498
Level     0,  Iter    37:    Energy =   0.1498
Level     0,  Iter    38:    Energy =   0.1498
Level     0,  Iter    39:    Energy =   0.1498
Level     0,  Iter    40:    Energy =   0.1498
Level     0,  Iter    41:    Energy =   0.1498
Level     0,  Iter    42:    Energy =   0.1499
Level     0,  Iter    43:    Energy =   0.1498
Level     0,  Iter    44:    Energy =   0.1499
Level     0,  Iter    45:    Energy =   0.1501
Level     0,  Iter    46:    Energy =   0.1501
Level     0,  Iter    47:    Energy =   0.1497
Level     0,  Iter    48:    Energy =   0.1499
Level     0,  Iter    49:    Energy =   0.1502
Level     0,  Iter    50:    Energy =   0.1501
Level     0,  Iter    51:    Energy =   0.1497
Level     0,  Iter    52:    Energy =   0.1497
Level     0,  Iter    53:    Energy =   0.1499
Level     0,  Iter    54:    Energy =   0.1499
Level     0,  Iter    55:    Energy =   0.1496
Level     0,  Iter    56:    Energy =   0.1496
Level     0,  Iter    57:    Energy =   0.1499
Level     0,  Iter    58:    Energy =   0.1499
Level     0,  Iter    59:    Energy =   0.1496
END OF LEVEL     0    DetJac Range:   0.4358  to   1.9720 
  Avg. Gradient Time  : 0.0083s  35.00% 
  Avg. Gaussian Time  : 0.0116s  49.11% 
  Avg. Iteration Time : 0.0236s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1025
Level     1,  Iter     1:    Energy =   0.1084
Level     1,  Iter     2:    Energy =   0.1125
Level     1,  Iter     3:    Energy =   0.1164
Level     1,  Iter     4:    Energy =   0.1194
Level     1,  Iter     5:    Energy =   0.1217
Level     1,  Iter     6:    Energy =   0.1237
Level     1,  Iter     7:    Energy =   0.1250
Level     1,  Iter     8:    Energy =   0.1260
Level     1,  Iter     9:    Energy =   0.1268
Level     1,  Iter    10:    Energy =   0.1269
Level     1,  Iter    11:    Energy =   0.1275
Level     1,  Iter    12:    Energy =   0.1275
Level     1,  Iter    13:    Energy =   0.1280
Level     1,  Iter    14:    Energy =   0.1280
Level     1,  Iter    15:    Energy =   0.1284
Level     1,  Iter    16:    Energy =   0.1284
Level     1,  Iter    17:    Energy =   0.1288
Level     1,  Iter    18:    Energy =   0.1288
Level     1,  Iter    19:    Energy =   0.1293
Level     1,  Iter    20:    Energy =   0.1292
Level     1,  Iter    21:    Energy =   0.1297
Level     1,  Iter    22:    Energy =   0.1295
Level     1,  Iter    23:    Energy =   0.1301
Level     1,  Iter    24:    Energy =   0.1299
Level     1,  Iter    25:    Energy =   0.1303
Level     1,  Iter    26:    Energy =   0.1301
Level     1,  Iter    27:    Energy =   0.1306
Level     1,  Iter    28:    Energy =   0.1303
Level     1,  Iter    29:    Energy =   0.1308
Level     1,  Iter    30:    Energy =   0.1305
Level     1,  Iter    31:    Energy =   0.1309
Level     1,  Iter    32:    Energy =   0.1307
Level     1,  Iter    33:    Energy =   0.1310
Level     1,  Iter    34:    Energy =   0.1308
Level     1,  Iter    35:    Energy =   0.1312
Level     1,  Iter    36:    Energy =   0.1309
Level     1,  Iter    37:    Energy =   0.1313
Level     1,  Iter    38:    Energy =   0.1311
Level     1,  Iter    39:    Energy =   0.1315
Level     1,  Iter    40:    Energy =   0.1312
Level     1,  Iter    41:    Energy =   0.1316
Level     1,  Iter    42:    Energy =   0.1313
Level     1,  Iter    43:    Energy =   0.1316
Level     1,  Iter    44:    Energy =   0.1314
Level     1,  Iter    45:    Energy =   0.1317
Level     1,  Iter    46:    Energy =   0.1315
Level     1,  Iter    47:    Energy =   0.1318
Level     1,  Iter    48:    Energy =   0.1315
Level     1,  Iter    49:    Energy =   0.1319
Level     1,  Iter    50:    Energy =   0.1316
Level     1,  Iter    51:    Energy =   0.1319
Level     1,  Iter    52:    Energy =   0.1316
Level     1,  Iter    53:    Energy =   0.1319
Level     1,  Iter    54:    Energy =   0.1317
Level     1,  Iter    55:    Energy =   0.1320
Level     1,  Iter    56:    Energy =   0.1317
Level     1,  Iter    57:    Energy =   0.1321
Level     1,  Iter    58:    Energy =   0.1318
Level     1,  Iter    59:    Energy =   0.1321
END OF LEVEL     1    DetJac Range:   0.2362  to   2.7251 
  Avg. Gradient Time  : 0.0468s  32.91% 
  Avg. Gaussian Time  : 0.0768s  54.02% 
  Avg. Iteration Time : 0.1422s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0713
Level     2,  Iter     1:    Energy =   0.0741
Level     2,  Iter     2:    Energy =   0.0768
Level     2,  Iter     3:    Energy =   0.0794
Level     2,  Iter     4:    Energy =   0.0817
Level     2,  Iter     5:    Energy =   0.0835
Level     2,  Iter     6:    Energy =   0.0848
Level     2,  Iter     7:    Energy =   0.0858
Level     2,  Iter     8:    Energy =   0.0868
Level     2,  Iter     9:    Energy =   0.0878
Level     2,  Iter    10:    Energy =   0.0888
Level     2,  Iter    11:    Energy =   0.0896
Level     2,  Iter    12:    Energy =   0.0902
Level     2,  Iter    13:    Energy =   0.0906
Level     2,  Iter    14:    Energy =   0.0910
Level     2,  Iter    15:    Energy =   0.0915
Level     2,  Iter    16:    Energy =   0.0921
Level     2,  Iter    17:    Energy =   0.0929
Level     2,  Iter    18:    Energy =   0.0935
Level     2,  Iter    19:    Energy =   0.0941
END OF LEVEL     2    DetJac Range:   0.1095  to   4.3496 
  Avg. Gradient Time  : 0.3333s  30.69% 
  Avg. Gaussian Time  : 0.6032s  55.54% 
  Avg. Iteration Time : 1.0861s 

real	0m36.716s
user	1m7.060s
sys	0m1.612s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.286538 0.292308
+ echo 'CHUNK 0.286538 0.292308 1'
CHUNK 0.286538 0.292308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.286538 0.292308 1
====================================
         PROGRESS: 0.286538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.696052
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3465.14   GNORM= 315.673
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3508.026     284.371       0.001
   2    4     -3537.503     158.445       1.000
   3    5     -3555.780     104.431       1.000
   4    6     -3572.061     106.686       1.000
   5    7     -3585.044      85.466       1.000
   6    8     -3596.149      96.434       1.000
   7    9     -3599.276     146.989       1.000
   8   10     -3605.439      89.861       1.000
   9   11     -3607.327      35.824       1.000
  10   12     -3607.860      15.340       1.000
  11   13     -3608.240      14.642       1.000
  12   14     -3608.543      28.880       1.000
  13   15     -3609.281      19.694       1.000
  14   16     -3611.868      11.626       1.000
  15   18     -3612.063      15.590       0.099
  16   19     -3612.255      13.311       1.000
  17   21     -3612.385      11.056       0.364
  18   22     -3612.477       8.020       1.000
  19   24     -3612.564      11.637       0.380
  20   25     -3612.679       9.310       1.000
  21   27     -3612.974      16.534       0.380
  22   28     -3613.210      27.944       1.000
  23   29     -3613.502      10.568       1.000
  24   31     -3613.572      15.282       0.444
  25   32     -3613.669       8.058       1.000
  26   33     -3613.752       6.172       1.000
  27   34     -3613.903       9.967       1.000
  28   36     -3614.107      13.038       0.503
  29   38     -3614.138       7.650       0.237
  30   39     -3614.168       4.544       1.000
  31   40     -3614.194       4.428       1.000
  32   41     -3614.235       4.201       1.000
  33   42     -3614.299       6.794       1.000
  34   43     -3614.375       7.752       1.000
  35   45     -3614.390       6.799       0.328
  36   46     -3614.398       3.574       1.000
  37   47     -3614.405       6.242       1.000
  38   48     -3614.419       3.377       1.000
  39   51     -3614.421       2.829       0.088
  40   52     -3614.423       3.279       1.000
  41   53     -3614.438       6.469       1.000
  42   54     -3614.442       3.621       1.000
  43   55     -3614.447       6.145       1.000
  44   56     -3614.464       4.690       1.000
  45   58     -3614.476       3.592       0.073
  46   59     -3614.479       4.304       1.000
  47   60     -3614.490       2.380       1.000
  48   61     -3614.490       7.620       1.000
Final RAS Transform: 
0.991824 -0.0140519 -0.0134721 -0.188897 
0.0133605 1.00217 0.0409999 0.0220824 
0.0109882 -6.19403e-05 1.0063 0.638348 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2602.2   GNORM= 185.538
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2610.951      86.086       0.000
   2    4     -2613.967      61.072       1.000
   3    5     -2616.592      29.467       1.000
   4    6     -2617.951      29.902       1.000
   5    7     -2620.300      37.319       1.000
   6    8     -2625.026      57.236       1.000
   7   10     -2625.906      91.480       0.260
   8   11     -2628.684      53.928       1.000
   9   12     -2630.300      21.244       1.000
  10   13     -2630.544      16.121       1.000
  11   14     -2631.131      24.434       1.000
  12   15     -2632.217      32.954       1.000
  13   16     -2634.752      39.269       1.000
  14   18     -2635.042      34.975       0.082
  15   19     -2635.780      25.595       1.000
  16   20     -2637.066      17.174       1.000
  17   21     -2637.903      19.126       1.000
  18   22     -2638.916      26.848       1.000
  19   23     -2639.332      24.779       1.000
  20   24     -2639.676       8.930       1.000
  21   25     -2639.798      10.229       1.000
  22   26     -2640.005      14.157       1.000
  23   27     -2640.279      14.381       1.000
  24   28     -2640.905      13.310       1.000
  25   30     -2641.142      28.504       0.146
  26   31     -2641.473      27.615       1.000
  27   32     -2641.608      21.960       1.000
  28   33     -2641.768       6.789       1.000
  29   34     -2641.786       4.877       1.000
  30   36     -2641.813       5.447       0.495
  31   37     -2641.851       7.892       1.000
  32   38     -2641.917       6.236       1.000
  33   39     -2641.967       5.740       1.000
  34   41     -2642.015       5.401       0.494
  35   42     -2642.040      14.595       1.000
  36   43     -2642.105       7.032       1.000
  37   44     -2642.186       6.655       1.000
  38   45     -2642.234       5.680       1.000
  39   46     -2642.240      18.100       1.000
  40   47     -2642.294       6.212       1.000
  41   48     -2642.313       3.988       1.000
  42   49     -2642.358      11.063       1.000
  43   50     -2642.390      11.663       1.000
  44   52     -2642.434      13.052       0.385
  45   53     -2642.494      13.537       1.000
  46   54     -2642.542       7.207       1.000
  47   55     -2642.571      11.441       1.000
  48   56     -2642.598       5.825       1.000
  49   57     -2642.619       3.835       1.000
  50   58     -2642.642       3.792       1.000
  51   59     -2642.715      11.618       1.000
  52   60     -2642.910      12.604       1.000
  53   61     -2643.120       4.747       1.000
Final RAS Transform: 
0.993869 -0.00175297 -0.0273623 -0.093714 
-0.0143691 0.995094 0.0188772 -0.731977 
0.0226033 0.00291647 0.997354 0.727208 
0 0 0 1 

Final RAS Transform: 
0.993869 -0.00175297 -0.0273623 -0.093714 
-0.0143691 0.995094 0.0188772 -0.731977 
0.0226033 0.00291647 0.997354 0.727208 
0 0 0 1 


real	0m10.148s
user	0m17.656s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.695809
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1053
Level     0,  Iter     1:    Energy =   0.1125
Level     0,  Iter     2:    Energy =   0.1179
Level     0,  Iter     3:    Energy =   0.1214
Level     0,  Iter     4:    Energy =   0.1233
Level     0,  Iter     5:    Energy =   0.1250
Level     0,  Iter     6:    Energy =   0.1261
Level     0,  Iter     7:    Energy =   0.1273
Level     0,  Iter     8:    Energy =   0.1280
Level     0,  Iter     9:    Energy =   0.1289
Level     0,  Iter    10:    Energy =   0.1294
Level     0,  Iter    11:    Energy =   0.1301
Level     0,  Iter    12:    Energy =   0.1305
Level     0,  Iter    13:    Energy =   0.1309
Level     0,  Iter    14:    Energy =   0.1312
Level     0,  Iter    15:    Energy =   0.1315
Level     0,  Iter    16:    Energy =   0.1318
Level     0,  Iter    17:    Energy =   0.1321
Level     0,  Iter    18:    Energy =   0.1324
Level     0,  Iter    19:    Energy =   0.1326
Level     0,  Iter    20:    Energy =   0.1329
Level     0,  Iter    21:    Energy =   0.1330
Level     0,  Iter    22:    Energy =   0.1332
Level     0,  Iter    23:    Energy =   0.1334
Level     0,  Iter    24:    Energy =   0.1336
Level     0,  Iter    25:    Energy =   0.1337
Level     0,  Iter    26:    Energy =   0.1338
Level     0,  Iter    27:    Energy =   0.1339
Level     0,  Iter    28:    Energy =   0.1340
Level     0,  Iter    29:    Energy =   0.1341
Level     0,  Iter    30:    Energy =   0.1342
Level     0,  Iter    31:    Energy =   0.1342
Level     0,  Iter    32:    Energy =   0.1344
Level     0,  Iter    33:    Energy =   0.1344
Level     0,  Iter    34:    Energy =   0.1346
Level     0,  Iter    35:    Energy =   0.1346
Level     0,  Iter    36:    Energy =   0.1347
Level     0,  Iter    37:    Energy =   0.1347
Level     0,  Iter    38:    Energy =   0.1348
Level     0,  Iter    39:    Energy =   0.1348
Level     0,  Iter    40:    Energy =   0.1349
Level     0,  Iter    41:    Energy =   0.1349
Level     0,  Iter    42:    Energy =   0.1349
Level     0,  Iter    43:    Energy =   0.1349
Level     0,  Iter    44:    Energy =   0.1350
Level     0,  Iter    45:    Energy =   0.1350
Level     0,  Iter    46:    Energy =   0.1351
Level     0,  Iter    47:    Energy =   0.1351
Level     0,  Iter    48:    Energy =   0.1351
Level     0,  Iter    49:    Energy =   0.1352
Level     0,  Iter    50:    Energy =   0.1352
Level     0,  Iter    51:    Energy =   0.1352
Level     0,  Iter    52:    Energy =   0.1353
Level     0,  Iter    53:    Energy =   0.1353
Level     0,  Iter    54:    Energy =   0.1354
Level     0,  Iter    55:    Energy =   0.1354
Level     0,  Iter    56:    Energy =   0.1355
Level     0,  Iter    57:    Energy =   0.1355
Level     0,  Iter    58:    Energy =   0.1355
Level     0,  Iter    59:    Energy =   0.1356
END OF LEVEL     0    DetJac Range:   0.4834  to   2.2898 
  Avg. Gradient Time  : 0.0074s  34.73% 
  Avg. Gaussian Time  : 0.0105s  49.51% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0962
Level     1,  Iter     1:    Energy =   0.1021
Level     1,  Iter     2:    Energy =   0.1062
Level     1,  Iter     3:    Energy =   0.1097
Level     1,  Iter     4:    Energy =   0.1127
Level     1,  Iter     5:    Energy =   0.1154
Level     1,  Iter     6:    Energy =   0.1171
Level     1,  Iter     7:    Energy =   0.1185
Level     1,  Iter     8:    Energy =   0.1192
Level     1,  Iter     9:    Energy =   0.1205
Level     1,  Iter    10:    Energy =   0.1207
Level     1,  Iter    11:    Energy =   0.1218
Level     1,  Iter    12:    Energy =   0.1220
Level     1,  Iter    13:    Energy =   0.1226
Level     1,  Iter    14:    Energy =   0.1225
Level     1,  Iter    15:    Energy =   0.1232
Level     1,  Iter    16:    Energy =   0.1231
Level     1,  Iter    17:    Energy =   0.1236
Level     1,  Iter    18:    Energy =   0.1234
Level     1,  Iter    19:    Energy =   0.1239
Level     1,  Iter    20:    Energy =   0.1239
Level     1,  Iter    21:    Energy =   0.1242
Level     1,  Iter    22:    Energy =   0.1241
Level     1,  Iter    23:    Energy =   0.1243
Level     1,  Iter    24:    Energy =   0.1244
Level     1,  Iter    25:    Energy =   0.1246
Level     1,  Iter    26:    Energy =   0.1245
Level     1,  Iter    27:    Energy =   0.1248
Level     1,  Iter    28:    Energy =   0.1247
Level     1,  Iter    29:    Energy =   0.1249
Level     1,  Iter    30:    Energy =   0.1248
Level     1,  Iter    31:    Energy =   0.1251
Level     1,  Iter    32:    Energy =   0.1250
Level     1,  Iter    33:    Energy =   0.1253
Level     1,  Iter    34:    Energy =   0.1251
Level     1,  Iter    35:    Energy =   0.1254
Level     1,  Iter    36:    Energy =   0.1253
Level     1,  Iter    37:    Energy =   0.1256
Level     1,  Iter    38:    Energy =   0.1253
Level     1,  Iter    39:    Energy =   0.1257
Level     1,  Iter    40:    Energy =   0.1256
Level     1,  Iter    41:    Energy =   0.1259
Level     1,  Iter    42:    Energy =   0.1256
Level     1,  Iter    43:    Energy =   0.1260
Level     1,  Iter    44:    Energy =   0.1258
Level     1,  Iter    45:    Energy =   0.1262
Level     1,  Iter    46:    Energy =   0.1259
Level     1,  Iter    47:    Energy =   0.1262
Level     1,  Iter    48:    Energy =   0.1261
Level     1,  Iter    49:    Energy =   0.1264
Level     1,  Iter    50:    Energy =   0.1261
Level     1,  Iter    51:    Energy =   0.1264
Level     1,  Iter    52:    Energy =   0.1262
Level     1,  Iter    53:    Energy =   0.1265
Level     1,  Iter    54:    Energy =   0.1263
Level     1,  Iter    55:    Energy =   0.1266
Level     1,  Iter    56:    Energy =   0.1263
Level     1,  Iter    57:    Energy =   0.1266
Level     1,  Iter    58:    Energy =   0.1264
Level     1,  Iter    59:    Energy =   0.1267
END OF LEVEL     1    DetJac Range:   0.0654  to   4.2417 
  Avg. Gradient Time  : 0.0418s  33.06% 
  Avg. Gaussian Time  : 0.0684s  54.12% 
  Avg. Iteration Time : 0.1264s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0697
Level     2,  Iter     1:    Energy =   0.0726
Level     2,  Iter     2:    Energy =   0.0749
Level     2,  Iter     3:    Energy =   0.0772
Level     2,  Iter     4:    Energy =   0.0790
Level     2,  Iter     5:    Energy =   0.0803
Level     2,  Iter     6:    Energy =   0.0815
Level     2,  Iter     7:    Energy =   0.0827
Level     2,  Iter     8:    Energy =   0.0836
Level     2,  Iter     9:    Energy =   0.0845
Level     2,  Iter    10:    Energy =   0.0852
Level     2,  Iter    11:    Energy =   0.0857
Level     2,  Iter    12:    Energy =   0.0862
Level     2,  Iter    13:    Energy =   0.0866
Level     2,  Iter    14:    Energy =   0.0870
Level     2,  Iter    15:    Energy =   0.0874
Level     2,  Iter    16:    Energy =   0.0877
Level     2,  Iter    17:    Energy =   0.0880
Level     2,  Iter    18:    Energy =   0.0884
Level     2,  Iter    19:    Energy =   0.0887
END OF LEVEL     2    DetJac Range:   0.0357  to   5.1845 
  Avg. Gradient Time  : 0.2935s  30.88% 
  Avg. Gaussian Time  : 0.5279s  55.55% 
  Avg. Iteration Time : 0.9503s 

real	0m32.562s
user	0m59.056s
sys	0m1.552s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.292308 0.298077
+ echo 'CHUNK 0.292308 0.298077 1'
CHUNK 0.292308 0.298077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.292308 0.298077 1
====================================
         PROGRESS: 0.292308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.410941
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3129.26   GNORM= 339.77
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3168.280     191.074       0.001
   2    4     -3183.740     124.398       1.000
   3    5     -3196.127      80.081       1.000
   4    6     -3200.564      63.230       1.000
   5    7     -3207.410      64.397       1.000
   6    8     -3221.731      71.226       1.000
   7    9     -3231.449      81.049       1.000
   8   10     -3245.024      78.634       1.000
   9   11     -3250.028     225.862       1.000
  10   12     -3258.772     157.854       1.000
  11   13     -3267.620      58.123       1.000
  12   14     -3269.837      47.512       1.000
  13   15     -3275.187      31.802       1.000
  14   17     -3281.900      89.127       0.233
  15   18     -3289.766      61.508       1.000
  16   20     -3292.647      57.247       0.507
  17   21     -3294.064      58.869       1.000
  18   22     -3294.797      21.217       1.000
  19   23     -3295.092      20.179       1.000
  20   24     -3295.477      12.926       1.000
  21   25     -3296.045      16.577       1.000
  22   27     -3296.358      25.749       0.481
  23   28     -3296.659      11.616       1.000
  24   29     -3296.840      17.244       1.000
  25   30     -3296.960      10.610       1.000
  26   31     -3297.071      14.849       1.000
  27   32     -3297.388      18.567       1.000
  28   34     -3297.722      31.181       0.357
  29   35     -3297.906      16.507       1.000
  30   36     -3298.064      10.485       1.000
  31   37     -3298.318       9.687       1.000
  32   39     -3298.595      19.547       0.277
  33   40     -3298.932       8.831       1.000
  34   41     -3299.094      17.987       1.000
  35   42     -3299.177      10.188       1.000
  36   43     -3299.201       6.117       1.000
  37   44     -3299.233       7.130       1.000
  38   46     -3299.282      16.786       0.510
  39   47     -3299.336      12.230       1.000
  40   48     -3299.368       6.015       1.000
  41   49     -3299.400       7.408       1.000
  42   50     -3299.431       8.630       1.000
  43   51     -3299.451       5.418       1.000
  44   53     -3299.460       6.838       0.414
  45   54     -3299.478       9.753       1.000
  46   55     -3299.493       6.689       1.000
  47   56     -3299.502       8.678       1.000
  48   57     -3299.518       3.705       1.000
  49   58     -3299.529       6.064       1.000
  50   59     -3299.532       3.490       1.000
  51   60     -3299.554       2.143       1.000
  52   61     -3299.556       4.999       1.000
Final RAS Transform: 
0.940174 0.000664086 0.0699273 -1.45213 
0.0384651 0.999643 -0.00135043 0.575485 
-0.0289969 -0.010287 1.0307 -0.865545 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2180.84   GNORM= 61.2892
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2182.718      49.350       0.001
   2    4     -2184.050      42.544       1.000
   3    5     -2188.957      55.091       1.000
   4    6     -2193.206      53.767       1.000
   5    7     -2202.540      31.564       1.000
   6    8     -2204.745      18.045       1.000
   7    9     -2205.914      80.134       1.000
   8   10     -2207.494      23.333       1.000
   9   11     -2207.738      10.817       1.000
  10   12     -2207.875       9.125       1.000
  11   13     -2208.159      22.155       1.000
  12   14     -2208.571      20.080       1.000
  13   15     -2210.762      14.367       1.000
  14   16     -2212.327      35.717       1.000
  15   18     -2213.327      36.973       0.393
  16   19     -2215.138      37.937       1.000
  17   20     -2221.791      43.320       1.000
  18   21     -2225.346      16.915       1.000
  19   22     -2225.651      27.348       1.000
  20   23     -2225.985      14.680       1.000
  21   24     -2226.110      11.423       1.000
  22   25     -2226.298       9.325       1.000
  23   26     -2227.123      32.988       1.000
  24   27     -2228.397      31.656       1.000
  25   28     -2228.940      37.944       1.000
  26   30     -2229.412       7.406       0.364
  27   31     -2229.442       8.650       1.000
  28   32     -2229.575       8.818       1.000
  29   33     -2229.709       9.190       1.000
  30   34     -2229.938       6.763       1.000
  31   36     -2230.054       9.846       0.335
  32   37     -2230.224      16.052       1.000
  33   38     -2230.369      11.236       1.000
  34   39     -2230.420       6.445       1.000
  35   40     -2230.457       5.952       1.000
  36   41     -2230.490       4.666       1.000
  37   42     -2230.493       7.138       1.000
  38   43     -2230.557      11.317       1.000
  39   44     -2230.591       7.055       1.000
  40   45     -2230.662       4.052       1.000
  41   46     -2230.713       5.654       1.000
  42   48     -2230.734       5.006       0.359
  43   49     -2230.759       3.523       1.000
  44   50     -2230.776       4.171       1.000
  45   51     -2230.788       2.467       1.000
  46   52     -2230.798       5.380       1.000
  47   53     -2230.813       2.457       1.000
  48   54     -2230.822       3.183       1.000
  49   55     -2230.826       5.232       1.000
Final RAS Transform: 
0.983377 0.000983023 0.0136215 -0.194823 
0.0265786 1.00898 0.0324943 0.476469 
-0.0166024 -0.00534907 1.01914 -0.395619 
0 0 0 1 

Final RAS Transform: 
0.983377 0.000983023 0.0136215 -0.194823 
0.0265786 1.00898 0.0324943 0.476469 
-0.0166024 -0.00534907 1.01914 -0.395619 
0 0 0 1 


real	0m9.430s
user	0m16.512s
sys	0m0.416s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.424214
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0918
Level     0,  Iter     1:    Energy =   0.0993
Level     0,  Iter     2:    Energy =   0.1062
Level     0,  Iter     3:    Energy =   0.1108
Level     0,  Iter     4:    Energy =   0.1132
Level     0,  Iter     5:    Energy =   0.1157
Level     0,  Iter     6:    Energy =   0.1170
Level     0,  Iter     7:    Energy =   0.1180
Level     0,  Iter     8:    Energy =   0.1188
Level     0,  Iter     9:    Energy =   0.1194
Level     0,  Iter    10:    Energy =   0.1200
Level     0,  Iter    11:    Energy =   0.1205
Level     0,  Iter    12:    Energy =   0.1209
Level     0,  Iter    13:    Energy =   0.1213
Level     0,  Iter    14:    Energy =   0.1217
Level     0,  Iter    15:    Energy =   0.1221
Level     0,  Iter    16:    Energy =   0.1225
Level     0,  Iter    17:    Energy =   0.1228
Level     0,  Iter    18:    Energy =   0.1230
Level     0,  Iter    19:    Energy =   0.1232
Level     0,  Iter    20:    Energy =   0.1235
Level     0,  Iter    21:    Energy =   0.1236
Level     0,  Iter    22:    Energy =   0.1238
Level     0,  Iter    23:    Energy =   0.1239
Level     0,  Iter    24:    Energy =   0.1241
Level     0,  Iter    25:    Energy =   0.1242
Level     0,  Iter    26:    Energy =   0.1244
Level     0,  Iter    27:    Energy =   0.1245
Level     0,  Iter    28:    Energy =   0.1247
Level     0,  Iter    29:    Energy =   0.1249
Level     0,  Iter    30:    Energy =   0.1250
Level     0,  Iter    31:    Energy =   0.1251
Level     0,  Iter    32:    Energy =   0.1252
Level     0,  Iter    33:    Energy =   0.1254
Level     0,  Iter    34:    Energy =   0.1256
Level     0,  Iter    35:    Energy =   0.1256
Level     0,  Iter    36:    Energy =   0.1257
Level     0,  Iter    37:    Energy =   0.1257
Level     0,  Iter    38:    Energy =   0.1258
Level     0,  Iter    39:    Energy =   0.1259
Level     0,  Iter    40:    Energy =   0.1260
Level     0,  Iter    41:    Energy =   0.1261
Level     0,  Iter    42:    Energy =   0.1261
Level     0,  Iter    43:    Energy =   0.1262
Level     0,  Iter    44:    Energy =   0.1263
Level     0,  Iter    45:    Energy =   0.1264
Level     0,  Iter    46:    Energy =   0.1265
Level     0,  Iter    47:    Energy =   0.1265
Level     0,  Iter    48:    Energy =   0.1266
Level     0,  Iter    49:    Energy =   0.1267
Level     0,  Iter    50:    Energy =   0.1268
Level     0,  Iter    51:    Energy =   0.1268
Level     0,  Iter    52:    Energy =   0.1269
Level     0,  Iter    53:    Energy =   0.1270
Level     0,  Iter    54:    Energy =   0.1271
Level     0,  Iter    55:    Energy =   0.1271
Level     0,  Iter    56:    Energy =   0.1272
Level     0,  Iter    57:    Energy =   0.1273
Level     0,  Iter    58:    Energy =   0.1274
Level     0,  Iter    59:    Energy =   0.1274
END OF LEVEL     0    DetJac Range:   0.3020  to   2.0943 
  Avg. Gradient Time  : 0.0073s  34.91% 
  Avg. Gaussian Time  : 0.0103s  49.21% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0844
Level     1,  Iter     1:    Energy =   0.0895
Level     1,  Iter     2:    Energy =   0.0936
Level     1,  Iter     3:    Energy =   0.0970
Level     1,  Iter     4:    Energy =   0.0996
Level     1,  Iter     5:    Energy =   0.1023
Level     1,  Iter     6:    Energy =   0.1040
Level     1,  Iter     7:    Energy =   0.1055
Level     1,  Iter     8:    Energy =   0.1071
Level     1,  Iter     9:    Energy =   0.1084
Level     1,  Iter    10:    Energy =   0.1091
Level     1,  Iter    11:    Energy =   0.1097
Level     1,  Iter    12:    Energy =   0.1101
Level     1,  Iter    13:    Energy =   0.1105
Level     1,  Iter    14:    Energy =   0.1107
Level     1,  Iter    15:    Energy =   0.1111
Level     1,  Iter    16:    Energy =   0.1113
Level     1,  Iter    17:    Energy =   0.1115
Level     1,  Iter    18:    Energy =   0.1117
Level     1,  Iter    19:    Energy =   0.1119
Level     1,  Iter    20:    Energy =   0.1121
Level     1,  Iter    21:    Energy =   0.1120
Level     1,  Iter    22:    Energy =   0.1123
Level     1,  Iter    23:    Energy =   0.1124
Level     1,  Iter    24:    Energy =   0.1126
Level     1,  Iter    25:    Energy =   0.1125
Level     1,  Iter    26:    Energy =   0.1127
Level     1,  Iter    27:    Energy =   0.1128
Level     1,  Iter    28:    Energy =   0.1129
Level     1,  Iter    29:    Energy =   0.1129
Level     1,  Iter    30:    Energy =   0.1130
Level     1,  Iter    31:    Energy =   0.1131
Level     1,  Iter    32:    Energy =   0.1133
Level     1,  Iter    33:    Energy =   0.1132
Level     1,  Iter    34:    Energy =   0.1134
Level     1,  Iter    35:    Energy =   0.1134
Level     1,  Iter    36:    Energy =   0.1135
Level     1,  Iter    37:    Energy =   0.1134
Level     1,  Iter    38:    Energy =   0.1136
Level     1,  Iter    39:    Energy =   0.1136
Level     1,  Iter    40:    Energy =   0.1137
Level     1,  Iter    41:    Energy =   0.1137
Level     1,  Iter    42:    Energy =   0.1138
Level     1,  Iter    43:    Energy =   0.1138
Level     1,  Iter    44:    Energy =   0.1139
Level     1,  Iter    45:    Energy =   0.1139
Level     1,  Iter    46:    Energy =   0.1140
Level     1,  Iter    47:    Energy =   0.1139
Level     1,  Iter    48:    Energy =   0.1140
Level     1,  Iter    49:    Energy =   0.1140
Level     1,  Iter    50:    Energy =   0.1141
Level     1,  Iter    51:    Energy =   0.1141
Level     1,  Iter    52:    Energy =   0.1142
Level     1,  Iter    53:    Energy =   0.1142
Level     1,  Iter    54:    Energy =   0.1143
Level     1,  Iter    55:    Energy =   0.1142
Level     1,  Iter    56:    Energy =   0.1143
Level     1,  Iter    57:    Energy =   0.1143
Level     1,  Iter    58:    Energy =   0.1144
Level     1,  Iter    59:    Energy =   0.1143
END OF LEVEL     1    DetJac Range:   0.0962  to   3.9083 
  Avg. Gradient Time  : 0.0413s  32.70% 
  Avg. Gaussian Time  : 0.0687s  54.44% 
  Avg. Iteration Time : 0.1263s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0590
Level     2,  Iter     1:    Energy =   0.0616
Level     2,  Iter     2:    Energy =   0.0640
Level     2,  Iter     3:    Energy =   0.0659
Level     2,  Iter     4:    Energy =   0.0674
Level     2,  Iter     5:    Energy =   0.0686
Level     2,  Iter     6:    Energy =   0.0697
Level     2,  Iter     7:    Energy =   0.0706
Level     2,  Iter     8:    Energy =   0.0714
Level     2,  Iter     9:    Energy =   0.0721
Level     2,  Iter    10:    Energy =   0.0727
Level     2,  Iter    11:    Energy =   0.0733
Level     2,  Iter    12:    Energy =   0.0739
Level     2,  Iter    13:    Energy =   0.0745
Level     2,  Iter    14:    Energy =   0.0751
Level     2,  Iter    15:    Energy =   0.0757
Level     2,  Iter    16:    Energy =   0.0763
Level     2,  Iter    17:    Energy =   0.0770
Level     2,  Iter    18:    Energy =   0.0775
Level     2,  Iter    19:    Energy =   0.0781
END OF LEVEL     2    DetJac Range:   0.0317  to   4.5468 
  Avg. Gradient Time  : 0.2954s  30.95% 
  Avg. Gaussian Time  : 0.5297s  55.48% 
  Avg. Iteration Time : 0.9547s 

real	0m32.651s
user	0m59.352s
sys	0m1.348s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298077 0.303846
+ echo 'CHUNK 0.298077 0.303846 1'
CHUNK 0.298077 0.303846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298077 0.303846 1
====================================
         PROGRESS: 0.298077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.628946
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3830.74   GNORM= 220.799
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3859.246     136.072       0.001
   2    4     -3866.600     148.982       1.000
   3    5     -3873.528     103.581       1.000
   4    6     -3885.967     110.438       1.000
   5    7     -3896.704     153.457       1.000
   6    8     -3918.697     158.171       1.000
   7    9     -3930.730     256.735       1.000
   8   10     -3940.686     199.338       1.000
   9   11     -3946.314      70.018       1.000
  10   12     -3948.841      42.939       1.000
  11   13     -3952.446      51.293       1.000
  12   14     -3955.813      54.545       1.000
  13   15     -3962.290      91.931       1.000
  14   16     -3964.024      95.889       1.000
  15   17     -3967.901      37.326       1.000
  16   18     -3968.442      38.192       1.000
  17   19     -3968.781      17.078       1.000
  18   21     -3968.913      25.126       0.241
  19   22     -3969.133      19.555       1.000
  20   23     -3969.634      21.983       1.000
  21   24     -3971.048      34.897       1.000
  22   25     -3971.531      31.699       1.000
  23   27     -3971.876      33.817       0.113
  24   28     -3972.017      25.169       1.000
  25   30     -3972.281      20.011       0.508
  26   31     -3972.547      12.347       1.000
  27   32     -3972.979      16.151       1.000
  28   33     -3973.335      21.191       1.000
  29   34     -3973.738      12.978       1.000
  30   35     -3974.161      21.717       1.000
  31   36     -3974.325      47.829       1.000
  32   37     -3974.713      35.155       1.000
  33   38     -3974.930      12.062       1.000
  34   39     -3975.052       8.554       1.000
  35   40     -3975.241       9.952       1.000
  36   41     -3975.285      21.194       1.000
  37   42     -3975.372       7.743       1.000
  38   43     -3975.404       7.493       1.000
  39   45     -3975.411       5.481       0.307
  40   46     -3975.426       4.628       1.000
  41   47     -3975.438       4.505       1.000
  42   48     -3975.443       2.801       1.000
  43   49     -3975.448       3.862       1.000
  44   50     -3975.462       6.353       1.000
  45   52     -3975.462       5.380       0.297
  46   53     -3975.471       5.383       1.000
  47   54     -3975.476       4.239       1.000
  48   55     -3975.480       4.643       1.000
Final RAS Transform: 
0.964324 0.00486974 0.0568507 -0.631039 
0.0465416 0.994901 -0.0165679 0.753779 
-0.0208508 0.00552204 1.04063 -0.0613567 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2631.23   GNORM= 136.735
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2636.230      59.681       0.000
   2    4     -2637.694      43.347       1.000
   3    5     -2640.311      41.021       1.000
   4    6     -2643.144      61.967       1.000
   5    7     -2650.814      77.797       1.000
   6    8     -2657.843     100.816       1.000
   7   10     -2659.618      92.676       0.244
   8   11     -2662.857      50.640       1.000
   9   12     -2664.344      26.635       1.000
  10   14     -2666.465      16.239       5.000
  11   15     -2669.532      31.231       1.000
  12   16     -2671.028      23.706       1.000
  13   17     -2672.439      28.213       1.000
  14   18     -2674.023      68.461       1.000
  15   19     -2676.006      20.662       1.000
  16   20     -2676.739      16.275       1.000
  17   21     -2677.375      13.820       1.000
  18   22     -2677.952      22.593       1.000
  19   23     -2678.434      10.952       1.000
  20   24     -2678.695       8.730       1.000
  21   25     -2678.733      24.256       1.000
  22   26     -2678.849       6.037       1.000
  23   27     -2678.865       6.078       1.000
  24   28     -2678.918       7.365       1.000
  25   29     -2679.139      20.490       1.000
  26   30     -2679.315      29.587       1.000
  27   32     -2679.439      27.253       0.442
  28   33     -2679.620      11.187       1.000
  29   34     -2679.700       9.113       1.000
  30   35     -2679.915      10.192       1.000
  31   36     -2680.004       8.176       1.000
  32   37     -2680.060       4.597       1.000
  33   38     -2680.150       7.896       1.000
  34   39     -2680.208       7.905       1.000
  35   40     -2680.322       7.126       1.000
  36   41     -2680.362       7.530       1.000
  37   42     -2680.388       7.018       1.000
  38   43     -2680.418       7.680       1.000
  39   44     -2680.497       4.331       1.000
  40   45     -2680.518       2.879       1.000
  41   46     -2680.534       2.960       1.000
  42   48     -2680.542       3.639       0.420
  43   49     -2680.548       1.907       1.000
  44   50     -2680.576       9.103       1.000
  45   51     -2680.588       4.895       1.000
  46   52     -2680.595       2.156       1.000
  47   53     -2680.604       3.779       1.000
  48   54     -2680.606       1.825       1.000
  49   56     -2680.607       1.578       0.256
  50   57     -2680.609       3.062       1.000
  51   58     -2680.609       1.988       1.000
  52   59     -2680.620       1.370       1.000
  53   60     -2680.621       3.840       1.000
  54   61     -2680.624       1.641       1.000
Final RAS Transform: 
0.989307 0.00506537 0.020222 0.0550445 
0.0358963 0.996368 -0.014684 0.588751 
-0.0204762 0.0116244 1.04381 0.0285921 
0 0 0 1 

Final RAS Transform: 
0.989307 0.00506537 0.020222 0.0550445 
0.0358963 0.996368 -0.014684 0.588751 
-0.0204762 0.0116244 1.04381 0.0285921 
0 0 0 1 


real	0m10.225s
user	0m17.780s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.645988
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1149
Level     0,  Iter     1:    Energy =   0.1229
Level     0,  Iter     2:    Energy =   0.1300
Level     0,  Iter     3:    Energy =   0.1348
Level     0,  Iter     4:    Energy =   0.1388
Level     0,  Iter     5:    Energy =   0.1420
Level     0,  Iter     6:    Energy =   0.1428
Level     0,  Iter     7:    Energy =   0.1434
Level     0,  Iter     8:    Energy =   0.1438
Level     0,  Iter     9:    Energy =   0.1442
Level     0,  Iter    10:    Energy =   0.1445
Level     0,  Iter    11:    Energy =   0.1447
Level     0,  Iter    12:    Energy =   0.1450
Level     0,  Iter    13:    Energy =   0.1451
Level     0,  Iter    14:    Energy =   0.1453
Level     0,  Iter    15:    Energy =   0.1455
Level     0,  Iter    16:    Energy =   0.1457
Level     0,  Iter    17:    Energy =   0.1457
Level     0,  Iter    18:    Energy =   0.1459
Level     0,  Iter    19:    Energy =   0.1460
Level     0,  Iter    20:    Energy =   0.1461
Level     0,  Iter    21:    Energy =   0.1462
Level     0,  Iter    22:    Energy =   0.1463
Level     0,  Iter    23:    Energy =   0.1463
Level     0,  Iter    24:    Energy =   0.1464
Level     0,  Iter    25:    Energy =   0.1464
Level     0,  Iter    26:    Energy =   0.1465
Level     0,  Iter    27:    Energy =   0.1465
Level     0,  Iter    28:    Energy =   0.1466
Level     0,  Iter    29:    Energy =   0.1466
Level     0,  Iter    30:    Energy =   0.1467
Level     0,  Iter    31:    Energy =   0.1467
Level     0,  Iter    32:    Energy =   0.1468
Level     0,  Iter    33:    Energy =   0.1468
Level     0,  Iter    34:    Energy =   0.1469
Level     0,  Iter    35:    Energy =   0.1469
Level     0,  Iter    36:    Energy =   0.1469
Level     0,  Iter    37:    Energy =   0.1469
Level     0,  Iter    38:    Energy =   0.1470
Level     0,  Iter    39:    Energy =   0.1469
Level     0,  Iter    40:    Energy =   0.1470
Level     0,  Iter    41:    Energy =   0.1470
Level     0,  Iter    42:    Energy =   0.1471
Level     0,  Iter    43:    Energy =   0.1471
Level     0,  Iter    44:    Energy =   0.1471
Level     0,  Iter    45:    Energy =   0.1471
Level     0,  Iter    46:    Energy =   0.1472
Level     0,  Iter    47:    Energy =   0.1472
Level     0,  Iter    48:    Energy =   0.1473
Level     0,  Iter    49:    Energy =   0.1473
Level     0,  Iter    50:    Energy =   0.1473
Level     0,  Iter    51:    Energy =   0.1473
Level     0,  Iter    52:    Energy =   0.1473
Level     0,  Iter    53:    Energy =   0.1474
Level     0,  Iter    54:    Energy =   0.1474
Level     0,  Iter    55:    Energy =   0.1474
Level     0,  Iter    56:    Energy =   0.1475
Level     0,  Iter    57:    Energy =   0.1474
Level     0,  Iter    58:    Energy =   0.1475
Level     0,  Iter    59:    Energy =   0.1475
END OF LEVEL     0    DetJac Range:   0.3234  to   2.0131 
  Avg. Gradient Time  : 0.0073s  34.61% 
  Avg. Gaussian Time  : 0.0105s  49.62% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0960
Level     1,  Iter     1:    Energy =   0.1009
Level     1,  Iter     2:    Energy =   0.1054
Level     1,  Iter     3:    Energy =   0.1090
Level     1,  Iter     4:    Energy =   0.1114
Level     1,  Iter     5:    Energy =   0.1138
Level     1,  Iter     6:    Energy =   0.1164
Level     1,  Iter     7:    Energy =   0.1182
Level     1,  Iter     8:    Energy =   0.1196
Level     1,  Iter     9:    Energy =   0.1214
Level     1,  Iter    10:    Energy =   0.1224
Level     1,  Iter    11:    Energy =   0.1229
Level     1,  Iter    12:    Energy =   0.1235
Level     1,  Iter    13:    Energy =   0.1238
Level     1,  Iter    14:    Energy =   0.1239
Level     1,  Iter    15:    Energy =   0.1245
Level     1,  Iter    16:    Energy =   0.1246
Level     1,  Iter    17:    Energy =   0.1252
Level     1,  Iter    18:    Energy =   0.1251
Level     1,  Iter    19:    Energy =   0.1257
Level     1,  Iter    20:    Energy =   0.1257
Level     1,  Iter    21:    Energy =   0.1263
Level     1,  Iter    22:    Energy =   0.1262
Level     1,  Iter    23:    Energy =   0.1267
Level     1,  Iter    24:    Energy =   0.1265
Level     1,  Iter    25:    Energy =   0.1270
Level     1,  Iter    26:    Energy =   0.1269
Level     1,  Iter    27:    Energy =   0.1274
Level     1,  Iter    28:    Energy =   0.1271
Level     1,  Iter    29:    Energy =   0.1277
Level     1,  Iter    30:    Energy =   0.1274
Level     1,  Iter    31:    Energy =   0.1280
Level     1,  Iter    32:    Energy =   0.1276
Level     1,  Iter    33:    Energy =   0.1282
Level     1,  Iter    34:    Energy =   0.1278
Level     1,  Iter    35:    Energy =   0.1284
Level     1,  Iter    36:    Energy =   0.1280
Level     1,  Iter    37:    Energy =   0.1286
Level     1,  Iter    38:    Energy =   0.1282
Level     1,  Iter    39:    Energy =   0.1288
Level     1,  Iter    40:    Energy =   0.1284
Level     1,  Iter    41:    Energy =   0.1289
Level     1,  Iter    42:    Energy =   0.1285
Level     1,  Iter    43:    Energy =   0.1290
Level     1,  Iter    44:    Energy =   0.1286
Level     1,  Iter    45:    Energy =   0.1292
Level     1,  Iter    46:    Energy =   0.1288
Level     1,  Iter    47:    Energy =   0.1293
Level     1,  Iter    48:    Energy =   0.1289
Level     1,  Iter    49:    Energy =   0.1293
Level     1,  Iter    50:    Energy =   0.1289
Level     1,  Iter    51:    Energy =   0.1294
Level     1,  Iter    52:    Energy =   0.1290
Level     1,  Iter    53:    Energy =   0.1295
Level     1,  Iter    54:    Energy =   0.1291
Level     1,  Iter    55:    Energy =   0.1296
Level     1,  Iter    56:    Energy =   0.1292
Level     1,  Iter    57:    Energy =   0.1296
Level     1,  Iter    58:    Energy =   0.1293
Level     1,  Iter    59:    Energy =   0.1297
END OF LEVEL     1    DetJac Range:   0.1234  to   3.2840 
  Avg. Gradient Time  : 0.0414s  32.82% 
  Avg. Gaussian Time  : 0.0684s  54.31% 
  Avg. Iteration Time : 0.1260s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0696
Level     2,  Iter     1:    Energy =   0.0721
Level     2,  Iter     2:    Energy =   0.0746
Level     2,  Iter     3:    Energy =   0.0766
Level     2,  Iter     4:    Energy =   0.0784
Level     2,  Iter     5:    Energy =   0.0803
Level     2,  Iter     6:    Energy =   0.0820
Level     2,  Iter     7:    Energy =   0.0832
Level     2,  Iter     8:    Energy =   0.0844
Level     2,  Iter     9:    Energy =   0.0855
Level     2,  Iter    10:    Energy =   0.0868
Level     2,  Iter    11:    Energy =   0.0878
Level     2,  Iter    12:    Energy =   0.0888
Level     2,  Iter    13:    Energy =   0.0899
Level     2,  Iter    14:    Energy =   0.0907
Level     2,  Iter    15:    Energy =   0.0913
Level     2,  Iter    16:    Energy =   0.0919
Level     2,  Iter    17:    Energy =   0.0925
Level     2,  Iter    18:    Energy =   0.0922
Level     2,  Iter    19:    Energy =   0.0928
END OF LEVEL     2    DetJac Range:   0.0867  to   4.7944 
  Avg. Gradient Time  : 0.2953s  30.94% 
  Avg. Gaussian Time  : 0.5296s  55.48% 
  Avg. Iteration Time : 0.9544s 

real	0m32.634s
user	0m59.256s
sys	0m1.456s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.303846 0.309615
+ echo 'CHUNK 0.303846 0.309615 1'
CHUNK 0.303846 0.309615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.303846 0.309615 1
====================================
         PROGRESS: 0.303846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.456454
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3325.5   GNORM= 255.567
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3348.287     208.191       0.001
   2    4     -3364.428     162.456       1.000
   3    5     -3391.312     112.780       1.000
   4    6     -3411.749     113.449       1.000
   5    7     -3443.994     116.036       1.000
   6    9     -3455.343     163.696       0.343
   7   10     -3472.227     120.215       1.000
   8   11     -3490.740     255.337       1.000
   9   12     -3505.097      97.291       1.000
  10   13     -3510.784      75.380       1.000
  11   14     -3517.263      57.333       1.000
  12   15     -3525.626      57.295       1.000
  13   16     -3542.405     110.485       1.000
  14   17     -3549.868      64.649       1.000
  15   18     -3553.166      44.817       1.000
  16   20     -3554.942      52.506       0.444
  17   21     -3556.573      31.696       1.000
  18   22     -3557.692      31.943       1.000
  19   23     -3560.485      41.623       1.000
  20   24     -3562.274      19.524       1.000
  21   25     -3562.650      19.036       1.000
  22   26     -3562.968      12.948       1.000
  23   27     -3563.675      15.678       1.000
  24   28     -3564.191      43.934       1.000
  25   29     -3564.474      19.938       1.000
  26   30     -3564.620      14.334       1.000
  27   31     -3564.685      10.240       1.000
  28   32     -3564.787       7.489       1.000
  29   34     -3564.833       7.117       0.435
  30   35     -3564.880       5.922       1.000
  31   36     -3564.973      10.250       1.000
  32   38     -3564.991       8.853       0.298
  33   39     -3565.029       7.092       1.000
  34   41     -3565.059       8.623       0.446
  35   42     -3565.100       5.771       1.000
  36   43     -3565.116       4.923       1.000
  37   44     -3565.121       5.000       1.000
  38   45     -3565.123       3.199       1.000
  39   47     -3565.127       2.468       0.289
Final RAS Transform: 
0.910738 0.00302262 0.0800887 -2.2067 
0.0208606 1.00128 0.00811203 0.292963 
-0.0109784 -0.00469716 1.03318 -0.102193 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2396.96   GNORM= 219.586
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2410.355      66.007       0.001
   2    4     -2412.935      57.702       1.000
   3    5     -2418.827      92.521       1.000
   4    6     -2423.209      56.909       1.000
   5    7     -2433.112     111.286       1.000
   6    8     -2439.951     123.098       1.000
   7    9     -2451.533      74.395       1.000
   8   10     -2453.989      68.504       1.000
   9   11     -2455.475      44.839       1.000
  10   12     -2459.457      33.578       1.000
  11   13     -2466.880      80.369       1.000
  12   14     -2475.989      77.026       1.000
  13   16     -2477.169      97.738       0.125
  14   17     -2480.851      44.561       1.000
  15   18     -2482.223      21.043       1.000
  16   19     -2482.677      25.679       1.000
  17   20     -2484.928      25.975       1.000
  18   21     -2486.134      62.757       1.000
  19   22     -2487.921      26.162       1.000
  20   23     -2488.777      23.796       1.000
  21   25     -2489.921      17.286       0.435
  22   26     -2490.485       8.836       1.000
  23   27     -2490.609       8.876       1.000
  24   28     -2490.734      11.256       1.000
  25   29     -2491.012       8.612       1.000
  26   30     -2491.643      15.489       1.000
  27   31     -2492.382      17.034       1.000
  28   32     -2493.291      33.070       1.000
  29   33     -2493.925      28.386       1.000
  30   34     -2494.565       9.915       1.000
  31   35     -2494.666      10.895       1.000
  32   36     -2494.786      32.076       1.000
  33   37     -2495.107      18.226       1.000
  34   38     -2495.642      20.086       1.000
  35   39     -2495.983      14.385       1.000
  36   40     -2496.299      12.401       1.000
  37   41     -2496.660       9.917       1.000
  38   42     -2496.773      11.197       1.000
  39   43     -2496.853       4.019       1.000
  40   44     -2496.869       4.380       1.000
  41   45     -2496.928       5.004       1.000
  42   46     -2496.990      12.422       1.000
  43   47     -2497.088       5.930       1.000
  44   48     -2497.166       9.850       1.000
  45   49     -2497.256       8.668       1.000
  46   50     -2497.322      15.577       1.000
  47   51     -2497.450      15.443       1.000
  48   53     -2497.515       9.524       0.219
  49   54     -2497.558       5.055       1.000
  50   55     -2497.605       3.493       1.000
  51   56     -2497.626       7.979       1.000
  52   57     -2497.659       3.288       1.000
  53   59     -2497.678       4.518       0.455
  54   61     -2497.680       2.296       0.323
Final RAS Transform: 
0.956679 -0.000129683 0.0248201 -1.03148 
0.00560796 0.996892 -0.00184626 -0.0442631 
-0.017554 0.0011823 1.0463 -0.380858 
0 0 0 1 

Final RAS Transform: 
0.956679 -0.000129683 0.0248201 -1.03148 
0.00560796 0.996892 -0.00184626 -0.0442631 
-0.017554 0.0011823 1.0463 -0.380858 
0 0 0 1 


real	0m10.350s
user	0m18.008s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.467218
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0995
Level     0,  Iter     1:    Energy =   0.1051
Level     0,  Iter     2:    Energy =   0.1105
Level     0,  Iter     3:    Energy =   0.1148
Level     0,  Iter     4:    Energy =   0.1176
Level     0,  Iter     5:    Energy =   0.1197
Level     0,  Iter     6:    Energy =   0.1207
Level     0,  Iter     7:    Energy =   0.1217
Level     0,  Iter     8:    Energy =   0.1223
Level     0,  Iter     9:    Energy =   0.1232
Level     0,  Iter    10:    Energy =   0.1236
Level     0,  Iter    11:    Energy =   0.1243
Level     0,  Iter    12:    Energy =   0.1247
Level     0,  Iter    13:    Energy =   0.1251
Level     0,  Iter    14:    Energy =   0.1255
Level     0,  Iter    15:    Energy =   0.1260
Level     0,  Iter    16:    Energy =   0.1262
Level     0,  Iter    17:    Energy =   0.1265
Level     0,  Iter    18:    Energy =   0.1267
Level     0,  Iter    19:    Energy =   0.1270
Level     0,  Iter    20:    Energy =   0.1271
Level     0,  Iter    21:    Energy =   0.1272
Level     0,  Iter    22:    Energy =   0.1274
Level     0,  Iter    23:    Energy =   0.1277
Level     0,  Iter    24:    Energy =   0.1278
Level     0,  Iter    25:    Energy =   0.1281
Level     0,  Iter    26:    Energy =   0.1282
Level     0,  Iter    27:    Energy =   0.1286
Level     0,  Iter    28:    Energy =   0.1287
Level     0,  Iter    29:    Energy =   0.1290
Level     0,  Iter    30:    Energy =   0.1291
Level     0,  Iter    31:    Energy =   0.1292
Level     0,  Iter    32:    Energy =   0.1292
Level     0,  Iter    33:    Energy =   0.1294
Level     0,  Iter    34:    Energy =   0.1294
Level     0,  Iter    35:    Energy =   0.1295
Level     0,  Iter    36:    Energy =   0.1295
Level     0,  Iter    37:    Energy =   0.1296
Level     0,  Iter    38:    Energy =   0.1296
Level     0,  Iter    39:    Energy =   0.1297
Level     0,  Iter    40:    Energy =   0.1297
Level     0,  Iter    41:    Energy =   0.1298
Level     0,  Iter    42:    Energy =   0.1298
Level     0,  Iter    43:    Energy =   0.1298
Level     0,  Iter    44:    Energy =   0.1298
Level     0,  Iter    45:    Energy =   0.1299
Level     0,  Iter    46:    Energy =   0.1298
Level     0,  Iter    47:    Energy =   0.1299
Level     0,  Iter    48:    Energy =   0.1299
Level     0,  Iter    49:    Energy =   0.1299
Level     0,  Iter    50:    Energy =   0.1299
Level     0,  Iter    51:    Energy =   0.1300
Level     0,  Iter    52:    Energy =   0.1300
Level     0,  Iter    53:    Energy =   0.1301
Level     0,  Iter    54:    Energy =   0.1300
Level     0,  Iter    55:    Energy =   0.1301
Level     0,  Iter    56:    Energy =   0.1301
Level     0,  Iter    57:    Energy =   0.1302
Level     0,  Iter    58:    Energy =   0.1301
Level     0,  Iter    59:    Energy =   0.1303
END OF LEVEL     0    DetJac Range:   0.3377  to   1.9914 
  Avg. Gradient Time  : 0.0073s  34.93% 
  Avg. Gaussian Time  : 0.0103s  49.13% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0900
Level     1,  Iter     1:    Energy =   0.0952
Level     1,  Iter     2:    Energy =   0.0998
Level     1,  Iter     3:    Energy =   0.1032
Level     1,  Iter     4:    Energy =   0.1057
Level     1,  Iter     5:    Energy =   0.1081
Level     1,  Iter     6:    Energy =   0.1101
Level     1,  Iter     7:    Energy =   0.1119
Level     1,  Iter     8:    Energy =   0.1134
Level     1,  Iter     9:    Energy =   0.1147
Level     1,  Iter    10:    Energy =   0.1160
Level     1,  Iter    11:    Energy =   0.1162
Level     1,  Iter    12:    Energy =   0.1169
Level     1,  Iter    13:    Energy =   0.1168
Level     1,  Iter    14:    Energy =   0.1177
Level     1,  Iter    15:    Energy =   0.1177
Level     1,  Iter    16:    Energy =   0.1179
Level     1,  Iter    17:    Energy =   0.1180
Level     1,  Iter    18:    Energy =   0.1184
Level     1,  Iter    19:    Energy =   0.1184
Level     1,  Iter    20:    Energy =   0.1189
Level     1,  Iter    21:    Energy =   0.1188
Level     1,  Iter    22:    Energy =   0.1192
Level     1,  Iter    23:    Energy =   0.1191
Level     1,  Iter    24:    Energy =   0.1195
Level     1,  Iter    25:    Energy =   0.1193
Level     1,  Iter    26:    Energy =   0.1198
Level     1,  Iter    27:    Energy =   0.1196
Level     1,  Iter    28:    Energy =   0.1201
Level     1,  Iter    29:    Energy =   0.1198
Level     1,  Iter    30:    Energy =   0.1202
Level     1,  Iter    31:    Energy =   0.1200
Level     1,  Iter    32:    Energy =   0.1203
Level     1,  Iter    33:    Energy =   0.1200
Level     1,  Iter    34:    Energy =   0.1204
Level     1,  Iter    35:    Energy =   0.1201
Level     1,  Iter    36:    Energy =   0.1204
Level     1,  Iter    37:    Energy =   0.1202
Level     1,  Iter    38:    Energy =   0.1205
Level     1,  Iter    39:    Energy =   0.1203
Level     1,  Iter    40:    Energy =   0.1206
Level     1,  Iter    41:    Energy =   0.1203
Level     1,  Iter    42:    Energy =   0.1206
Level     1,  Iter    43:    Energy =   0.1204
Level     1,  Iter    44:    Energy =   0.1207
Level     1,  Iter    45:    Energy =   0.1205
Level     1,  Iter    46:    Energy =   0.1208
Level     1,  Iter    47:    Energy =   0.1205
Level     1,  Iter    48:    Energy =   0.1208
Level     1,  Iter    49:    Energy =   0.1206
Level     1,  Iter    50:    Energy =   0.1210
Level     1,  Iter    51:    Energy =   0.1207
Level     1,  Iter    52:    Energy =   0.1211
Level     1,  Iter    53:    Energy =   0.1208
Level     1,  Iter    54:    Energy =   0.1212
Level     1,  Iter    55:    Energy =   0.1209
Level     1,  Iter    56:    Energy =   0.1212
Level     1,  Iter    57:    Energy =   0.1209
Level     1,  Iter    58:    Energy =   0.1212
Level     1,  Iter    59:    Energy =   0.1210
END OF LEVEL     1    DetJac Range:   0.1274  to   3.3666 
  Avg. Gradient Time  : 0.0414s  32.72% 
  Avg. Gaussian Time  : 0.0688s  54.37% 
  Avg. Iteration Time : 0.1266s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0634
Level     2,  Iter     1:    Energy =   0.0663
Level     2,  Iter     2:    Energy =   0.0694
Level     2,  Iter     3:    Energy =   0.0719
Level     2,  Iter     4:    Energy =   0.0740
Level     2,  Iter     5:    Energy =   0.0759
Level     2,  Iter     6:    Energy =   0.0774
Level     2,  Iter     7:    Energy =   0.0784
Level     2,  Iter     8:    Energy =   0.0795
Level     2,  Iter     9:    Energy =   0.0806
Level     2,  Iter    10:    Energy =   0.0816
Level     2,  Iter    11:    Energy =   0.0824
Level     2,  Iter    12:    Energy =   0.0830
Level     2,  Iter    13:    Energy =   0.0836
Level     2,  Iter    14:    Energy =   0.0842
Level     2,  Iter    15:    Energy =   0.0847
Level     2,  Iter    16:    Energy =   0.0852
Level     2,  Iter    17:    Energy =   0.0857
Level     2,  Iter    18:    Energy =   0.0860
Level     2,  Iter    19:    Energy =   0.0863
END OF LEVEL     2    DetJac Range:   0.0618  to   4.4127 
  Avg. Gradient Time  : 0.2951s  30.90% 
  Avg. Gaussian Time  : 0.5298s  55.49% 
  Avg. Iteration Time : 0.9548s 

real	0m32.657s
user	0m59.352s
sys	0m1.416s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.309615 0.315385
+ echo 'CHUNK 0.309615 0.315385 1'
CHUNK 0.309615 0.315385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.309615 0.315385 1
====================================
         PROGRESS: 0.309615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.459973
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3063.69   GNORM= 211.418
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3104.097     233.486       0.002
   2    4     -3124.470     188.443       1.000
   3    5     -3137.238     134.011       1.000
   4    6     -3165.438     143.004       1.000
   5    7     -3176.462     103.884       1.000
   6    8     -3194.559     111.960       1.000
   7    9     -3208.043     105.033       1.000
   8   10     -3234.749     152.498       1.000
   9   11     -3242.192     159.790       1.000
  10   12     -3251.590      80.558       1.000
  11   13     -3258.320      65.822       1.000
  12   14     -3261.001     154.537       1.000
  13   15     -3267.440      45.737       1.000
  14   16     -3269.479      48.319       1.000
  15   17     -3270.410      21.718       1.000
  16   18     -3271.019      18.391       1.000
  17   19     -3271.976      20.076       1.000
  18   20     -3273.728      75.298       1.000
  19   21     -3275.692      47.872       1.000
  20   22     -3277.463      29.424       1.000
  21   23     -3277.742      23.221       1.000
  22   24     -3278.034      17.585       1.000
  23   25     -3278.125      19.095       1.000
  24   26     -3278.196       9.973       1.000
  25   27     -3278.317       6.882       1.000
  26   28     -3278.425       8.539       1.000
  27   29     -3278.470       9.896       1.000
  28   30     -3278.538      13.498       1.000
  29   31     -3278.570       7.843       1.000
  30   32     -3278.605       7.612       1.000
  31   34     -3278.628       8.452       0.257
  32   35     -3278.649       4.529       1.000
  33   36     -3278.655       2.760       1.000
  34   38     -3278.674       4.467       5.000
  35   40     -3278.677       5.767       0.023
  36   41     -3278.695       5.503       1.000
  37   43     -3278.710       4.978       0.490
Final RAS Transform: 
0.934747 -0.0137863 0.0431541 -1.80258 
0.00948996 0.997465 0.00812854 0.0655397 
-0.000132884 4.81309e-05 1.05571 0.591989 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2224.16   GNORM= 256.282
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2244.171      77.102       0.001
   2    4     -2247.219      52.538       1.000
   3    5     -2250.124      35.087       1.000
   4    6     -2253.022      54.909       1.000
   5    7     -2258.061      65.089       1.000
   6    8     -2266.128      77.456       1.000
   7   10     -2268.453      86.993       0.310
   8   11     -2271.825      49.752       1.000
   9   12     -2274.663      46.004       1.000
  10   13     -2276.856      45.908       1.000
  11   14     -2290.600      52.747       1.000
  12   16     -2292.944      40.533       0.485
  13   17     -2294.652      28.345       1.000
  14   19     -2295.082      16.129       0.239
  15   20     -2295.361      17.312       1.000
  16   21     -2296.378      19.351       1.000
  17   22     -2298.735      28.049       1.000
  18   23     -2301.867      27.328       1.000
  19   24     -2303.046      21.482       1.000
  20   25     -2303.473       9.976       1.000
  21   26     -2303.690      16.237       1.000
  22   27     -2303.899      12.747       1.000
  23   28     -2304.187      12.421       1.000
  24   29     -2304.727      12.098       1.000
  25   30     -2305.266      23.664       1.000
  26   31     -2305.891       8.498       1.000
  27   32     -2305.994       7.735       1.000
  28   33     -2306.136      16.820       1.000
  29   34     -2306.228       9.238       1.000
  30   35     -2306.256       3.881       1.000
  31   36     -2306.278       4.560       1.000
  32   37     -2306.280       5.582       1.000
  33   38     -2306.307       5.475       1.000
  34   39     -2306.349       9.247       1.000
  35   40     -2306.414       6.548       1.000
  36   41     -2306.631       5.770       1.000
  37   42     -2306.744      11.920       1.000
  38   43     -2306.864      13.245       1.000
  39   44     -2306.981      10.669       1.000
  40   45     -2307.052      11.774       1.000
  41   46     -2307.135       4.574       1.000
  42   47     -2307.148       6.411       1.000
  43   48     -2307.155       4.154       1.000
  44   50     -2307.165       6.553       0.134
  45   51     -2307.185       8.099       1.000
  46   52     -2307.204       5.101       1.000
  47   53     -2307.219       2.988       1.000
  48   54     -2307.243      10.267       1.000
  49   55     -2307.263       6.209       1.000
  50   56     -2307.275       3.437       1.000
  51   57     -2307.281       1.927       1.000
Final RAS Transform: 
0.980886 -0.0121005 0.0275143 -0.267403 
-0.0123418 0.996679 0.0205867 -0.353487 
0.00278066 0.0017063 1.07083 0.641573 
0 0 0 1 

Final RAS Transform: 
0.980886 -0.0121005 0.0275143 -0.267403 
-0.0123418 0.996679 0.0205867 -0.353487 
0.00278066 0.0017063 1.07083 0.641573 
0 0 0 1 


real	0m10.308s
user	0m17.904s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.46527
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0904
Level     0,  Iter     1:    Energy =   0.0968
Level     0,  Iter     2:    Energy =   0.1012
Level     0,  Iter     3:    Energy =   0.1052
Level     0,  Iter     4:    Energy =   0.1070
Level     0,  Iter     5:    Energy =   0.1100
Level     0,  Iter     6:    Energy =   0.1111
Level     0,  Iter     7:    Energy =   0.1124
Level     0,  Iter     8:    Energy =   0.1132
Level     0,  Iter     9:    Energy =   0.1148
Level     0,  Iter    10:    Energy =   0.1155
Level     0,  Iter    11:    Energy =   0.1162
Level     0,  Iter    12:    Energy =   0.1166
Level     0,  Iter    13:    Energy =   0.1171
Level     0,  Iter    14:    Energy =   0.1175
Level     0,  Iter    15:    Energy =   0.1183
Level     0,  Iter    16:    Energy =   0.1184
Level     0,  Iter    17:    Energy =   0.1186
Level     0,  Iter    18:    Energy =   0.1188
Level     0,  Iter    19:    Energy =   0.1194
Level     0,  Iter    20:    Energy =   0.1195
Level     0,  Iter    21:    Energy =   0.1197
Level     0,  Iter    22:    Energy =   0.1199
Level     0,  Iter    23:    Energy =   0.1208
Level     0,  Iter    24:    Energy =   0.1209
Level     0,  Iter    25:    Energy =   0.1213
Level     0,  Iter    26:    Energy =   0.1215
Level     0,  Iter    27:    Energy =   0.1225
Level     0,  Iter    28:    Energy =   0.1225
Level     0,  Iter    29:    Energy =   0.1227
Level     0,  Iter    30:    Energy =   0.1228
Level     0,  Iter    31:    Energy =   0.1237
Level     0,  Iter    32:    Energy =   0.1236
Level     0,  Iter    33:    Energy =   0.1236
Level     0,  Iter    34:    Energy =   0.1237
Level     0,  Iter    35:    Energy =   0.1244
Level     0,  Iter    36:    Energy =   0.1242
Level     0,  Iter    37:    Energy =   0.1243
Level     0,  Iter    38:    Energy =   0.1243
Level     0,  Iter    39:    Energy =   0.1250
Level     0,  Iter    40:    Energy =   0.1247
Level     0,  Iter    41:    Energy =   0.1246
Level     0,  Iter    42:    Energy =   0.1245
Level     0,  Iter    43:    Energy =   0.1250
Level     0,  Iter    44:    Energy =   0.1248
Level     0,  Iter    45:    Energy =   0.1249
Level     0,  Iter    46:    Energy =   0.1248
Level     0,  Iter    47:    Energy =   0.1255
Level     0,  Iter    48:    Energy =   0.1252
Level     0,  Iter    49:    Energy =   0.1249
Level     0,  Iter    50:    Energy =   0.1248
Level     0,  Iter    51:    Energy =   0.1252
Level     0,  Iter    52:    Energy =   0.1251
Level     0,  Iter    53:    Energy =   0.1253
Level     0,  Iter    54:    Energy =   0.1253
Level     0,  Iter    55:    Energy =   0.1261
Level     0,  Iter    56:    Energy =   0.1258
Level     0,  Iter    57:    Energy =   0.1254
Level     0,  Iter    58:    Energy =   0.1252
Level     0,  Iter    59:    Energy =   0.1256
END OF LEVEL     0    DetJac Range:   0.2763  to   2.3062 
  Avg. Gradient Time  : 0.0083s  34.76% 
  Avg. Gaussian Time  : 0.0119s  49.53% 
  Avg. Iteration Time : 0.0240s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0841
Level     1,  Iter     1:    Energy =   0.0888
Level     1,  Iter     2:    Energy =   0.0930
Level     1,  Iter     3:    Energy =   0.0958
Level     1,  Iter     4:    Energy =   0.0981
Level     1,  Iter     5:    Energy =   0.1002
Level     1,  Iter     6:    Energy =   0.1026
Level     1,  Iter     7:    Energy =   0.1048
Level     1,  Iter     8:    Energy =   0.1069
Level     1,  Iter     9:    Energy =   0.1080
Level     1,  Iter    10:    Energy =   0.1078
Level     1,  Iter    11:    Energy =   0.1092
Level     1,  Iter    12:    Energy =   0.1090
Level     1,  Iter    13:    Energy =   0.1102
Level     1,  Iter    14:    Energy =   0.1098
Level     1,  Iter    15:    Energy =   0.1110
Level     1,  Iter    16:    Energy =   0.1107
Level     1,  Iter    17:    Energy =   0.1113
Level     1,  Iter    18:    Energy =   0.1108
Level     1,  Iter    19:    Energy =   0.1118
Level     1,  Iter    20:    Energy =   0.1113
Level     1,  Iter    21:    Energy =   0.1124
Level     1,  Iter    22:    Energy =   0.1118
Level     1,  Iter    23:    Energy =   0.1128
Level     1,  Iter    24:    Energy =   0.1123
Level     1,  Iter    25:    Energy =   0.1130
Level     1,  Iter    26:    Energy =   0.1124
Level     1,  Iter    27:    Energy =   0.1131
Level     1,  Iter    28:    Energy =   0.1127
Level     1,  Iter    29:    Energy =   0.1131
Level     1,  Iter    30:    Energy =   0.1126
Level     1,  Iter    31:    Energy =   0.1133
Level     1,  Iter    32:    Energy =   0.1128
Level     1,  Iter    33:    Energy =   0.1134
Level     1,  Iter    34:    Energy =   0.1128
Level     1,  Iter    35:    Energy =   0.1135
Level     1,  Iter    36:    Energy =   0.1130
Level     1,  Iter    37:    Energy =   0.1135
Level     1,  Iter    38:    Energy =   0.1129
Level     1,  Iter    39:    Energy =   0.1136
Level     1,  Iter    40:    Energy =   0.1131
Level     1,  Iter    41:    Energy =   0.1136
Level     1,  Iter    42:    Energy =   0.1130
Level     1,  Iter    43:    Energy =   0.1136
Level     1,  Iter    44:    Energy =   0.1132
Level     1,  Iter    45:    Energy =   0.1135
Level     1,  Iter    46:    Energy =   0.1130
Level     1,  Iter    47:    Energy =   0.1136
Level     1,  Iter    48:    Energy =   0.1131
Level     1,  Iter    49:    Energy =   0.1137
Level     1,  Iter    50:    Energy =   0.1132
Level     1,  Iter    51:    Energy =   0.1138
Level     1,  Iter    52:    Energy =   0.1133
Level     1,  Iter    53:    Energy =   0.1139
Level     1,  Iter    54:    Energy =   0.1133
Level     1,  Iter    55:    Energy =   0.1140
Level     1,  Iter    56:    Energy =   0.1135
Level     1,  Iter    57:    Energy =   0.1140
Level     1,  Iter    58:    Energy =   0.1134
Level     1,  Iter    59:    Energy =   0.1141
END OF LEVEL     1    DetJac Range:   0.1402  to   3.2313 
  Avg. Gradient Time  : 0.0470s  32.64% 
  Avg. Gaussian Time  : 0.0782s  54.31% 
  Avg. Iteration Time : 0.1440s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0593
Level     2,  Iter     1:    Energy =   0.0619
Level     2,  Iter     2:    Energy =   0.0642
Level     2,  Iter     3:    Energy =   0.0662
Level     2,  Iter     4:    Energy =   0.0679
Level     2,  Iter     5:    Energy =   0.0693
Level     2,  Iter     6:    Energy =   0.0704
Level     2,  Iter     7:    Energy =   0.0715
Level     2,  Iter     8:    Energy =   0.0728
Level     2,  Iter     9:    Energy =   0.0740
Level     2,  Iter    10:    Energy =   0.0752
Level     2,  Iter    11:    Energy =   0.0762
Level     2,  Iter    12:    Energy =   0.0772
Level     2,  Iter    13:    Energy =   0.0781
Level     2,  Iter    14:    Energy =   0.0789
Level     2,  Iter    15:    Energy =   0.0797
Level     2,  Iter    16:    Energy =   0.0804
Level     2,  Iter    17:    Energy =   0.0811
Level     2,  Iter    18:    Energy =   0.0815
Level     2,  Iter    19:    Energy =   0.0820
END OF LEVEL     2    DetJac Range:   0.0610  to   4.5913 
  Avg. Gradient Time  : 0.3012s  30.98% 
  Avg. Gaussian Time  : 0.5384s  55.38% 
  Avg. Iteration Time : 0.9721s 

real	0m34.454s
user	1m2.744s
sys	0m1.476s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315385 0.321154
+ echo 'CHUNK 0.315385 0.321154 1'
CHUNK 0.315385 0.321154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315385 0.321154 1
====================================
         PROGRESS: 0.315385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.70117
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3056.98   GNORM= 176.894
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3083.770     138.718       0.002
   2    4     -3091.551     150.681       1.000
   3    5     -3098.690     104.963       1.000
   4    6     -3114.254     137.342       1.000
   5    7     -3122.014     115.983       1.000
   6    8     -3140.246      77.669       1.000
   7    9     -3150.716      88.190       1.000
   8   10     -3179.094      88.594       1.000
   9   12     -3182.979     125.438       0.151
  10   13     -3189.895      56.832       1.000
  11   14     -3194.770      56.735       1.000
  12   15     -3197.317      36.857       1.000
  13   16     -3200.999      82.589       1.000
  14   17     -3206.039      73.902       1.000
  15   18     -3207.092     120.200       1.000
  16   19     -3213.515      43.186       1.000
  17   20     -3214.102      26.352       1.000
  18   21     -3214.335      17.927       1.000
  19   22     -3215.012      33.011       1.000
  20   23     -3215.727      57.142       1.000
  21   24     -3217.850      66.467       1.000
  22   26     -3219.430      80.698       0.422
  23   27     -3221.353      44.780       1.000
  24   28     -3222.667      14.831       1.000
  25   29     -3222.949      13.904       1.000
  26   30     -3223.329      14.834       1.000
  27   32     -3223.644      32.451       0.429
  28   34     -3223.797      30.708       0.464
  29   35     -3223.965      24.580       1.000
  30   36     -3224.136      15.028       1.000
  31   37     -3224.152      18.920       1.000
  32   38     -3224.220       4.386       1.000
  33   39     -3224.227       4.726       1.000
  34   40     -3224.258       4.918       1.000
  35   41     -3224.304      12.149       1.000
  36   42     -3224.360       8.447       1.000
  37   44     -3224.378       2.653       0.338
  38   45     -3224.396       2.139       1.000
  39   48     -3224.403       5.224       0.077
  40   50     -3224.404       4.822       0.314
  41   51     -3224.415       3.529       1.000
Final RAS Transform: 
0.927566 0.0215329 0.099563 -1.06784 
-0.0241727 0.995372 0.0300869 -0.820393 
0.00450151 0.000777468 1.01291 0.36204 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2138.94   GNORM= 321.698
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2176.881     117.574       0.001
   2    4     -2185.025      65.162       1.000
   3    5     -2188.961      32.006       1.000
   4    6     -2191.165      33.222       1.000
   5    7     -2197.075      83.445       1.000
   6    8     -2202.349      60.191       1.000
   7    9     -2208.506      41.929       1.000
   8   11     -2209.844      24.853       0.472
   9   12     -2210.344      21.908       1.000
  10   13     -2210.946      23.186       1.000
  11   14     -2213.213      38.112       1.000
  12   15     -2214.435      20.058       1.000
  13   16     -2214.761       9.325       1.000
  14   17     -2215.012      18.457       1.000
  15   18     -2215.411      31.424       1.000
  16   19     -2216.308      45.098       1.000
  17   20     -2217.887      46.929       1.000
  18   22     -2218.856      30.684       0.477
  19   23     -2219.605      15.886       1.000
  20   24     -2219.800      13.417       1.000
  21   25     -2219.877       5.297       1.000
  22   26     -2219.932       4.228       1.000
  23   27     -2219.964      10.165       1.000
  24   28     -2219.998       6.017       1.000
  25   29     -2220.020       4.459       1.000
  26   30     -2220.033       3.600       1.000
  27   31     -2220.052      10.217       1.000
  28   32     -2220.091       4.199       1.000
  29   33     -2220.133       3.018       1.000
  30   35     -2220.167       6.566       0.312
  31   37     -2220.179       3.102       0.175
  32   38     -2220.189       5.115       1.000
  33   39     -2220.193       3.798       1.000
  34   40     -2220.221       3.810       1.000
  35   41     -2220.228       2.143       1.000
  36   42     -2220.255       1.932       1.000
  37   43     -2220.262       2.899       1.000
  38   44     -2220.303       5.074       1.000
  39   45     -2220.338       5.525       1.000
  40   47     -2220.355       4.930       0.300
  41   49     -2220.402       6.784       5.000
  42   50     -2220.430       2.860       1.000
  43   51     -2220.441       7.179       1.000
  44   52     -2220.465       3.405       1.000
  45   53     -2220.473       1.860       1.000
  46   54     -2220.484       2.059       1.000
  47   56     -2220.500       2.297       0.518
  48   58     -2220.502       0.851       0.279
  49   60     -2220.503       0.927       0.125
  50   61     -2220.504       1.551       1.000
Final RAS Transform: 
0.924565 0.0240529 0.0699236 -1.28708 
-0.0406809 1.00735 0.0505347 -0.872607 
-0.00441284 0.00594162 1.03456 -0.0276257 
0 0 0 1 

Final RAS Transform: 
0.924565 0.0240529 0.0699236 -1.28708 
-0.0406809 1.00735 0.0505347 -0.872607 
-0.00441284 0.00594162 1.03456 -0.0276257 
0 0 0 1 


real	0m10.087s
user	0m17.588s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.694339
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0915
Level     0,  Iter     1:    Energy =   0.0978
Level     0,  Iter     2:    Energy =   0.1034
Level     0,  Iter     3:    Energy =   0.1083
Level     0,  Iter     4:    Energy =   0.1115
Level     0,  Iter     5:    Energy =   0.1143
Level     0,  Iter     6:    Energy =   0.1156
Level     0,  Iter     7:    Energy =   0.1167
Level     0,  Iter     8:    Energy =   0.1178
Level     0,  Iter     9:    Energy =   0.1186
Level     0,  Iter    10:    Energy =   0.1198
Level     0,  Iter    11:    Energy =   0.1204
Level     0,  Iter    12:    Energy =   0.1211
Level     0,  Iter    13:    Energy =   0.1217
Level     0,  Iter    14:    Energy =   0.1223
Level     0,  Iter    15:    Energy =   0.1227
Level     0,  Iter    16:    Energy =   0.1227
Level     0,  Iter    17:    Energy =   0.1229
Level     0,  Iter    18:    Energy =   0.1230
Level     0,  Iter    19:    Energy =   0.1232
Level     0,  Iter    20:    Energy =   0.1233
Level     0,  Iter    21:    Energy =   0.1236
Level     0,  Iter    22:    Energy =   0.1237
Level     0,  Iter    23:    Energy =   0.1239
Level     0,  Iter    24:    Energy =   0.1240
Level     0,  Iter    25:    Energy =   0.1242
Level     0,  Iter    26:    Energy =   0.1243
Level     0,  Iter    27:    Energy =   0.1244
Level     0,  Iter    28:    Energy =   0.1244
Level     0,  Iter    29:    Energy =   0.1245
Level     0,  Iter    30:    Energy =   0.1245
Level     0,  Iter    31:    Energy =   0.1247
Level     0,  Iter    32:    Energy =   0.1247
Level     0,  Iter    33:    Energy =   0.1248
Level     0,  Iter    34:    Energy =   0.1248
Level     0,  Iter    35:    Energy =   0.1250
Level     0,  Iter    36:    Energy =   0.1249
Level     0,  Iter    37:    Energy =   0.1251
Level     0,  Iter    38:    Energy =   0.1251
Level     0,  Iter    39:    Energy =   0.1252
Level     0,  Iter    40:    Energy =   0.1251
Level     0,  Iter    41:    Energy =   0.1253
Level     0,  Iter    42:    Energy =   0.1252
Level     0,  Iter    43:    Energy =   0.1254
Level     0,  Iter    44:    Energy =   0.1254
Level     0,  Iter    45:    Energy =   0.1256
Level     0,  Iter    46:    Energy =   0.1254
Level     0,  Iter    47:    Energy =   0.1256
Level     0,  Iter    48:    Energy =   0.1256
Level     0,  Iter    49:    Energy =   0.1258
Level     0,  Iter    50:    Energy =   0.1256
Level     0,  Iter    51:    Energy =   0.1259
Level     0,  Iter    52:    Energy =   0.1258
Level     0,  Iter    53:    Energy =   0.1260
Level     0,  Iter    54:    Energy =   0.1258
Level     0,  Iter    55:    Energy =   0.1261
Level     0,  Iter    56:    Energy =   0.1260
Level     0,  Iter    57:    Energy =   0.1262
Level     0,  Iter    58:    Energy =   0.1260
Level     0,  Iter    59:    Energy =   0.1262
END OF LEVEL     0    DetJac Range:   0.2109  to   1.9897 
  Avg. Gradient Time  : 0.0074s  34.49% 
  Avg. Gaussian Time  : 0.0107s  49.96% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0808
Level     1,  Iter     1:    Energy =   0.0852
Level     1,  Iter     2:    Energy =   0.0878
Level     1,  Iter     3:    Energy =   0.0909
Level     1,  Iter     4:    Energy =   0.0940
Level     1,  Iter     5:    Energy =   0.0964
Level     1,  Iter     6:    Energy =   0.0986
Level     1,  Iter     7:    Energy =   0.1006
Level     1,  Iter     8:    Energy =   0.1025
Level     1,  Iter     9:    Energy =   0.1030
Level     1,  Iter    10:    Energy =   0.1044
Level     1,  Iter    11:    Energy =   0.1044
Level     1,  Iter    12:    Energy =   0.1056
Level     1,  Iter    13:    Energy =   0.1057
Level     1,  Iter    14:    Energy =   0.1067
Level     1,  Iter    15:    Energy =   0.1065
Level     1,  Iter    16:    Energy =   0.1074
Level     1,  Iter    17:    Energy =   0.1073
Level     1,  Iter    18:    Energy =   0.1080
Level     1,  Iter    19:    Energy =   0.1078
Level     1,  Iter    20:    Energy =   0.1085
Level     1,  Iter    21:    Energy =   0.1083
Level     1,  Iter    22:    Energy =   0.1090
Level     1,  Iter    23:    Energy =   0.1087
Level     1,  Iter    24:    Energy =   0.1094
Level     1,  Iter    25:    Energy =   0.1090
Level     1,  Iter    26:    Energy =   0.1097
Level     1,  Iter    27:    Energy =   0.1094
Level     1,  Iter    28:    Energy =   0.1099
Level     1,  Iter    29:    Energy =   0.1095
Level     1,  Iter    30:    Energy =   0.1102
Level     1,  Iter    31:    Energy =   0.1098
Level     1,  Iter    32:    Energy =   0.1103
Level     1,  Iter    33:    Energy =   0.1099
Level     1,  Iter    34:    Energy =   0.1105
Level     1,  Iter    35:    Energy =   0.1102
Level     1,  Iter    36:    Energy =   0.1104
Level     1,  Iter    37:    Energy =   0.1100
Level     1,  Iter    38:    Energy =   0.1106
Level     1,  Iter    39:    Energy =   0.1102
Level     1,  Iter    40:    Energy =   0.1108
Level     1,  Iter    41:    Energy =   0.1105
Level     1,  Iter    42:    Energy =   0.1108
Level     1,  Iter    43:    Energy =   0.1104
Level     1,  Iter    44:    Energy =   0.1110
Level     1,  Iter    45:    Energy =   0.1106
Level     1,  Iter    46:    Energy =   0.1110
Level     1,  Iter    47:    Energy =   0.1106
Level     1,  Iter    48:    Energy =   0.1112
Level     1,  Iter    49:    Energy =   0.1108
Level     1,  Iter    50:    Energy =   0.1110
Level     1,  Iter    51:    Energy =   0.1106
Level     1,  Iter    52:    Energy =   0.1112
Level     1,  Iter    53:    Energy =   0.1108
Level     1,  Iter    54:    Energy =   0.1114
Level     1,  Iter    55:    Energy =   0.1109
Level     1,  Iter    56:    Energy =   0.1114
Level     1,  Iter    57:    Energy =   0.1111
Level     1,  Iter    58:    Energy =   0.1113
Level     1,  Iter    59:    Energy =   0.1108
END OF LEVEL     1    DetJac Range:   0.0784  to   3.4470 
  Avg. Gradient Time  : 0.0415s  32.93% 
  Avg. Gaussian Time  : 0.0684s  54.25% 
  Avg. Iteration Time : 0.1261s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0575
Level     2,  Iter     1:    Energy =   0.0603
Level     2,  Iter     2:    Energy =   0.0625
Level     2,  Iter     3:    Energy =   0.0640
Level     2,  Iter     4:    Energy =   0.0653
Level     2,  Iter     5:    Energy =   0.0666
Level     2,  Iter     6:    Energy =   0.0680
Level     2,  Iter     7:    Energy =   0.0695
Level     2,  Iter     8:    Energy =   0.0705
Level     2,  Iter     9:    Energy =   0.0714
Level     2,  Iter    10:    Energy =   0.0723
Level     2,  Iter    11:    Energy =   0.0732
Level     2,  Iter    12:    Energy =   0.0741
Level     2,  Iter    13:    Energy =   0.0749
Level     2,  Iter    14:    Energy =   0.0756
Level     2,  Iter    15:    Energy =   0.0762
Level     2,  Iter    16:    Energy =   0.0768
Level     2,  Iter    17:    Energy =   0.0772
Level     2,  Iter    18:    Energy =   0.0776
Level     2,  Iter    19:    Energy =   0.0780
END OF LEVEL     2    DetJac Range:   0.0379  to   4.8124 
  Avg. Gradient Time  : 0.2934s  30.87% 
  Avg. Gaussian Time  : 0.5282s  55.57% 
  Avg. Iteration Time : 0.9505s 

real	0m32.549s
user	0m59.148s
sys	0m1.460s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.321154 0.326923
+ echo 'CHUNK 0.321154 0.326923 1'
CHUNK 0.321154 0.326923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.321154 0.326923 1
====================================
         PROGRESS: 0.321154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.593068
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3617.14   GNORM= 276.024
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3640.903     245.795       0.001
   2    4     -3659.639     161.370       1.000
   3    5     -3681.370     114.087       1.000
   4    6     -3693.068     120.477       1.000
   5    7     -3721.414     147.663       1.000
   6    8     -3736.896     146.422       1.000
   7    9     -3749.635     128.934       1.000
   8   10     -3760.875     159.748       1.000
   9   11     -3770.477      79.619       1.000
  10   12     -3777.355      57.741       1.000
  11   13     -3783.704      69.455       1.000
  12   14     -3789.919     181.561       1.000
  13   15     -3806.839     121.172       1.000
  14   16     -3816.197      56.638       1.000
  15   17     -3820.599      35.521       1.000
  16   18     -3821.512      46.141       1.000
  17   19     -3822.642      54.275       1.000
  18   20     -3823.593      24.627       1.000
  19   21     -3825.073      29.913       1.000
  20   22     -3827.420      57.632       1.000
  21   23     -3829.247      39.826       1.000
  22   24     -3830.628      18.964       1.000
  23   25     -3831.047      25.851       1.000
  24   26     -3831.395      29.355       1.000
  25   27     -3831.991      19.480       1.000
  26   29     -3832.269      13.043       0.314
  27   30     -3832.349      16.213       1.000
  28   31     -3832.498      14.038       1.000
  29   32     -3832.699      18.567       1.000
  30   33     -3832.922      29.799       1.000
  31   34     -3833.206      17.178       1.000
  32   35     -3833.379      12.782       1.000
  33   36     -3833.507      13.221       1.000
  34   38     -3833.697      23.616       0.485
  35   39     -3833.890      24.162       1.000
  36   40     -3834.105      13.292       1.000
  37   41     -3834.253       8.078       1.000
  38   42     -3834.326      12.862       1.000
  39   43     -3834.390       6.972       1.000
  40   44     -3834.534      13.637       1.000
  41   45     -3834.650      14.648       1.000
  42   47     -3834.661      12.732       0.261
  43   48     -3834.727      10.003       1.000
  44   50     -3834.763       8.641       0.401
  45   51     -3834.794       7.257       1.000
  46   52     -3834.907       7.805       1.000
  47   53     -3834.934       4.827       1.000
  48   54     -3834.940       4.320       1.000
  49   55     -3834.948       3.248       1.000
  50   56     -3834.951       5.756       1.000
  51   57     -3834.951       4.247       1.000
  52   58     -3834.959       2.689       1.000
  53   59     -3834.962       3.729       1.000
  54   60     -3834.969       6.148       1.000
  55   61     -3834.976       4.103       1.000
Final RAS Transform: 
0.934337 0.00611438 0.0581778 -1.36589 
-0.038112 0.999522 0.0410444 -1.10468 
0.0134508 -0.00379481 1.00967 0.577141 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2682.88   GNORM= 323.67
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2704.586      76.533       0.000
   2    4     -2706.479      43.784       1.000
   3    5     -2707.774      40.973       1.000
   4    6     -2710.878      58.643       1.000
   5    7     -2714.013      74.657       1.000
   6    8     -2719.808      41.277       1.000
   7    9     -2721.120      62.681       1.000
   8   10     -2722.449      37.230       1.000
   9   11     -2724.336      38.609       1.000
  10   12     -2727.053      64.312       1.000
  11   13     -2731.710      61.987       1.000
  12   15     -2733.555      59.224       0.355
  13   16     -2734.417      57.375       1.000
  14   17     -2735.484      14.822       1.000
  15   18     -2735.650      12.597       1.000
  16   19     -2735.924      14.459       1.000
  17   20     -2736.928      24.884       1.000
  18   21     -2738.122      34.504       1.000
  19   22     -2738.306      30.363       1.000
  20   23     -2738.724       8.858       1.000
  21   24     -2738.794       6.529       1.000
  22   26     -2739.032      12.329       5.000
  23   27     -2739.249      12.189       1.000
  24   28     -2739.387      15.567       1.000
  25   29     -2739.556      15.840       1.000
  26   30     -2739.624       8.740       1.000
  27   31     -2739.718      11.531       1.000
  28   32     -2739.787       7.865       1.000
  29   33     -2739.892      11.401       1.000
  30   34     -2739.939       7.145       1.000
  31   35     -2739.994       5.728       1.000
  32   36     -2740.017       5.586       1.000
  33   37     -2740.056       7.452       1.000
  34   38     -2740.076       3.769       1.000
  35   39     -2740.102       3.821       1.000
  36   40     -2740.128       6.946       1.000
  37   41     -2740.134      15.560       1.000
  38   42     -2740.202       7.126       1.000
  39   43     -2740.222       3.443       1.000
  40   44     -2740.238       5.188       1.000
  41   45     -2740.242       2.209       1.000
  42   46     -2740.243       2.334       1.000
  43   47     -2740.258       1.859       1.000
  44   48     -2740.276       2.838       1.000
  45   49     -2740.295       8.715       1.000
  46   50     -2740.334       5.816       1.000
  47   51     -2740.340       2.675       1.000
  48   52     -2740.353       3.108       1.000
  49   54     -2740.353       4.088       0.342
  50   55     -2740.360       4.520       1.000
  51   57     -2740.377       6.141       0.408
  52   58     -2740.393       3.779       1.000
  53   59     -2740.418       3.342       1.000
  54   61     -2740.435       4.143       0.387
Final RAS Transform: 
0.945452 -0.00195281 0.0134429 -1.33368 
-0.0484601 1.00103 0.0382054 -1.37182 
0.0113772 -0.00423188 1.00937 0.329512 
0 0 0 1 

Final RAS Transform: 
0.945452 -0.00195281 0.0134429 -1.33368 
-0.0484601 1.00103 0.0382054 -1.37182 
0.0113772 -0.00423188 1.00937 0.329512 
0 0 0 1 


real	0m9.468s
user	0m16.516s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.59361
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1116
Level     0,  Iter     1:    Energy =   0.1191
Level     0,  Iter     2:    Energy =   0.1255
Level     0,  Iter     3:    Energy =   0.1296
Level     0,  Iter     4:    Energy =   0.1322
Level     0,  Iter     5:    Energy =   0.1338
Level     0,  Iter     6:    Energy =   0.1351
Level     0,  Iter     7:    Energy =   0.1363
Level     0,  Iter     8:    Energy =   0.1369
Level     0,  Iter     9:    Energy =   0.1377
Level     0,  Iter    10:    Energy =   0.1381
Level     0,  Iter    11:    Energy =   0.1387
Level     0,  Iter    12:    Energy =   0.1389
Level     0,  Iter    13:    Energy =   0.1394
Level     0,  Iter    14:    Energy =   0.1396
Level     0,  Iter    15:    Energy =   0.1400
Level     0,  Iter    16:    Energy =   0.1401
Level     0,  Iter    17:    Energy =   0.1403
Level     0,  Iter    18:    Energy =   0.1404
Level     0,  Iter    19:    Energy =   0.1405
Level     0,  Iter    20:    Energy =   0.1407
Level     0,  Iter    21:    Energy =   0.1408
Level     0,  Iter    22:    Energy =   0.1409
Level     0,  Iter    23:    Energy =   0.1410
Level     0,  Iter    24:    Energy =   0.1411
Level     0,  Iter    25:    Energy =   0.1412
Level     0,  Iter    26:    Energy =   0.1413
Level     0,  Iter    27:    Energy =   0.1414
Level     0,  Iter    28:    Energy =   0.1414
Level     0,  Iter    29:    Energy =   0.1415
Level     0,  Iter    30:    Energy =   0.1416
Level     0,  Iter    31:    Energy =   0.1416
Level     0,  Iter    32:    Energy =   0.1417
Level     0,  Iter    33:    Energy =   0.1418
Level     0,  Iter    34:    Energy =   0.1418
Level     0,  Iter    35:    Energy =   0.1419
Level     0,  Iter    36:    Energy =   0.1420
Level     0,  Iter    37:    Energy =   0.1420
Level     0,  Iter    38:    Energy =   0.1421
Level     0,  Iter    39:    Energy =   0.1421
Level     0,  Iter    40:    Energy =   0.1422
Level     0,  Iter    41:    Energy =   0.1422
Level     0,  Iter    42:    Energy =   0.1423
Level     0,  Iter    43:    Energy =   0.1423
Level     0,  Iter    44:    Energy =   0.1423
Level     0,  Iter    45:    Energy =   0.1424
Level     0,  Iter    46:    Energy =   0.1424
Level     0,  Iter    47:    Energy =   0.1424
Level     0,  Iter    48:    Energy =   0.1424
Level     0,  Iter    49:    Energy =   0.1424
Level     0,  Iter    50:    Energy =   0.1425
Level     0,  Iter    51:    Energy =   0.1425
Level     0,  Iter    52:    Energy =   0.1425
Level     0,  Iter    53:    Energy =   0.1425
Level     0,  Iter    54:    Energy =   0.1425
Level     0,  Iter    55:    Energy =   0.1426
Level     0,  Iter    56:    Energy =   0.1426
Level     0,  Iter    57:    Energy =   0.1426
Level     0,  Iter    58:    Energy =   0.1426
Level     0,  Iter    59:    Energy =   0.1427
END OF LEVEL     0    DetJac Range:   0.4441  to   2.0709 
  Avg. Gradient Time  : 0.0074s  34.67% 
  Avg. Gaussian Time  : 0.0106s  49.83% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0968
Level     1,  Iter     1:    Energy =   0.1032
Level     1,  Iter     2:    Energy =   0.1074
Level     1,  Iter     3:    Energy =   0.1105
Level     1,  Iter     4:    Energy =   0.1128
Level     1,  Iter     5:    Energy =   0.1144
Level     1,  Iter     6:    Energy =   0.1157
Level     1,  Iter     7:    Energy =   0.1169
Level     1,  Iter     8:    Energy =   0.1173
Level     1,  Iter     9:    Energy =   0.1186
Level     1,  Iter    10:    Energy =   0.1188
Level     1,  Iter    11:    Energy =   0.1200
Level     1,  Iter    12:    Energy =   0.1200
Level     1,  Iter    13:    Energy =   0.1213
Level     1,  Iter    14:    Energy =   0.1212
Level     1,  Iter    15:    Energy =   0.1224
Level     1,  Iter    16:    Energy =   0.1221
Level     1,  Iter    17:    Energy =   0.1232
Level     1,  Iter    18:    Energy =   0.1229
Level     1,  Iter    19:    Energy =   0.1238
Level     1,  Iter    20:    Energy =   0.1235
Level     1,  Iter    21:    Energy =   0.1242
Level     1,  Iter    22:    Energy =   0.1239
Level     1,  Iter    23:    Energy =   0.1245
Level     1,  Iter    24:    Energy =   0.1242
Level     1,  Iter    25:    Energy =   0.1249
Level     1,  Iter    26:    Energy =   0.1245
Level     1,  Iter    27:    Energy =   0.1253
Level     1,  Iter    28:    Energy =   0.1249
Level     1,  Iter    29:    Energy =   0.1256
Level     1,  Iter    30:    Energy =   0.1252
Level     1,  Iter    31:    Energy =   0.1256
Level     1,  Iter    32:    Energy =   0.1253
Level     1,  Iter    33:    Energy =   0.1257
Level     1,  Iter    34:    Energy =   0.1254
Level     1,  Iter    35:    Energy =   0.1259
Level     1,  Iter    36:    Energy =   0.1256
Level     1,  Iter    37:    Energy =   0.1261
Level     1,  Iter    38:    Energy =   0.1257
Level     1,  Iter    39:    Energy =   0.1261
Level     1,  Iter    40:    Energy =   0.1258
Level     1,  Iter    41:    Energy =   0.1262
Level     1,  Iter    42:    Energy =   0.1259
Level     1,  Iter    43:    Energy =   0.1263
Level     1,  Iter    44:    Energy =   0.1260
Level     1,  Iter    45:    Energy =   0.1264
Level     1,  Iter    46:    Energy =   0.1261
Level     1,  Iter    47:    Energy =   0.1266
Level     1,  Iter    48:    Energy =   0.1262
Level     1,  Iter    49:    Energy =   0.1267
Level     1,  Iter    50:    Energy =   0.1263
Level     1,  Iter    51:    Energy =   0.1268
Level     1,  Iter    52:    Energy =   0.1264
Level     1,  Iter    53:    Energy =   0.1269
Level     1,  Iter    54:    Energy =   0.1265
Level     1,  Iter    55:    Energy =   0.1271
Level     1,  Iter    56:    Energy =   0.1267
Level     1,  Iter    57:    Energy =   0.1272
Level     1,  Iter    58:    Energy =   0.1268
Level     1,  Iter    59:    Energy =   0.1272
END OF LEVEL     1    DetJac Range:   0.1599  to   3.5478 
  Avg. Gradient Time  : 0.0423s  33.13% 
  Avg. Gaussian Time  : 0.0691s  54.10% 
  Avg. Iteration Time : 0.1277s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0664
Level     2,  Iter     1:    Energy =   0.0695
Level     2,  Iter     2:    Energy =   0.0722
Level     2,  Iter     3:    Energy =   0.0744
Level     2,  Iter     4:    Energy =   0.0761
Level     2,  Iter     5:    Energy =   0.0777
Level     2,  Iter     6:    Energy =   0.0792
Level     2,  Iter     7:    Energy =   0.0805
Level     2,  Iter     8:    Energy =   0.0819
Level     2,  Iter     9:    Energy =   0.0831
Level     2,  Iter    10:    Energy =   0.0840
Level     2,  Iter    11:    Energy =   0.0848
Level     2,  Iter    12:    Energy =   0.0853
Level     2,  Iter    13:    Energy =   0.0857
Level     2,  Iter    14:    Energy =   0.0860
Level     2,  Iter    15:    Energy =   0.0863
Level     2,  Iter    16:    Energy =   0.0867
Level     2,  Iter    17:    Energy =   0.0870
Level     2,  Iter    18:    Energy =   0.0873
Level     2,  Iter    19:    Energy =   0.0876
END OF LEVEL     2    DetJac Range:   0.0758  to   5.2632 
  Avg. Gradient Time  : 0.2952s  30.91% 
  Avg. Gaussian Time  : 0.5301s  55.51% 
  Avg. Iteration Time : 0.9550s 

real	0m32.744s
user	0m59.540s
sys	0m1.372s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.326923 0.332692
+ echo 'CHUNK 0.326923 0.332692 1'
CHUNK 0.326923 0.332692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.326923 0.332692 1
====================================
         PROGRESS: 0.326923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.784759
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3461.32   GNORM= 328.27
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3494.649     237.363       0.001
   2    4     -3513.167     150.057       1.000
   3    5     -3535.386     130.114       1.000
   4    6     -3550.948     127.701       1.000
   5    7     -3581.302     157.590       1.000
   6    9     -3592.731      96.082       0.455
   7   10     -3599.230      50.043       1.000
   8   11     -3601.307      51.589       1.000
   9   12     -3603.397      25.913       1.000
  10   13     -3604.778      27.864       1.000
  11   14     -3607.633      31.682       1.000
  12   15     -3612.898     106.377       1.000
  13   16     -3617.056      30.927       1.000
  14   17     -3617.476      30.564       1.000
  15   18     -3617.846      29.429       1.000
  16   19     -3618.285      30.105       1.000
  17   20     -3619.003      29.113       1.000
  18   21     -3620.056      39.468       1.000
  19   22     -3621.733      71.587       1.000
  20   23     -3622.848      58.498       1.000
  21   24     -3623.674      17.109       1.000
  22   25     -3623.890      15.207       1.000
  23   26     -3623.989      10.362       1.000
  24   27     -3624.129      25.943       1.000
  25   28     -3624.270      26.194       1.000
  26   30     -3624.424      24.266       0.282
  27   31     -3624.602      15.431       1.000
  28   32     -3624.698       9.219       1.000
  29   33     -3624.813       7.157       1.000
  30   34     -3624.976      17.083       1.000
  31   35     -3625.067      16.620       1.000
  32   36     -3625.143       7.227       1.000
  33   37     -3625.180       5.462       1.000
  34   38     -3625.204      11.075       1.000
  35   39     -3625.240       7.784       1.000
  36   40     -3625.287      11.921       1.000
  37   41     -3625.319      16.553       1.000
  38   42     -3625.357       8.555       1.000
  39   43     -3625.372       6.144       1.000
  40   44     -3625.399       4.295       1.000
  41   45     -3625.460       3.749       1.000
  42   46     -3625.512       3.473       1.000
  43   48     -3625.544       4.753       0.493
  44   50     -3625.561       3.790       0.269
  45   52     -3625.569       3.943       0.430
  46   53     -3625.578       8.151       1.000
  47   55     -3625.582       6.394       0.301
  48   56     -3625.587       4.889       1.000
  49   57     -3625.590       3.480       1.000
  50   58     -3625.605       4.038       1.000
  51   61     -3625.606       3.580       0.127
Final RAS Transform: 
0.992443 0.00532647 0.0549904 0.179348 
0.051566 0.987901 0.0222119 0.61307 
-0.0210695 0.00603413 1.03501 0.10853 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2375.8   GNORM= 150.558
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2391.977     112.510       0.001
   2    4     -2396.815      60.267       1.000
   3    5     -2398.795      52.283       1.000
   4    6     -2408.646     129.546       1.000
   5    7     -2417.732     103.107       1.000
   6    8     -2431.289      58.999       1.000
   7    9     -2433.568      32.023       1.000
   8   10     -2434.372      37.182       1.000
   9   11     -2435.086      36.053       1.000
  10   12     -2438.207      33.400       1.000
  11   13     -2440.120      24.405       1.000
  12   14     -2440.524      20.574       1.000
  13   15     -2440.759      15.746       1.000
  14   16     -2441.180      21.974       1.000
  15   17     -2441.654      30.649       1.000
  16   18     -2443.352      32.019       1.000
  17   19     -2445.134      25.118       1.000
  18   20     -2445.192      29.750       1.000
  19   21     -2445.456       7.271       1.000
  20   22     -2445.489       6.313       1.000
  21   23     -2445.602       7.820       1.000
  22   24     -2445.703      26.162       1.000
  23   25     -2445.904      17.076       1.000
  24   26     -2446.368      30.464       1.000
  25   27     -2446.646      23.198       1.000
  26   28     -2447.140      11.778       1.000
  27   29     -2447.601       8.262       1.000
  28   30     -2447.948      15.803       1.000
  29   32     -2448.106       6.726       0.422
  30   33     -2448.193       5.759       1.000
  31   34     -2448.372      14.854       1.000
  32   35     -2448.677      12.313       1.000
  33   36     -2449.189      11.898       1.000
  34   38     -2449.315       4.107       0.170
  35   39     -2449.368       8.141       1.000
  36   40     -2449.467       8.671       1.000
  37   41     -2449.685      13.250       1.000
  38   43     -2449.751      10.449       0.335
  39   44     -2449.831       6.071       1.000
  40   45     -2449.853       5.069       1.000
  41   46     -2449.913       3.929       1.000
  42   48     -2449.988       7.822       0.456
  43   49     -2450.019       6.696       1.000
  44   50     -2450.034       2.428       1.000
  45   51     -2450.038       1.902       1.000
  46   52     -2450.051       2.196       1.000
  47   54     -2450.055       3.886       0.332
  48   55     -2450.061       2.842       1.000
  49   56     -2450.089       3.204       1.000
  50   58     -2450.118       4.882       0.449
  51   59     -2450.136       2.034       1.000
  52   60     -2450.137       2.759       1.000
  53   61     -2450.144       3.237       1.000
Final RAS Transform: 
0.995363 0.01298 0.0127104 0.490714 
0.0209974 0.996256 0.032696 -0.0578261 
-0.0139095 0.0100315 1.03324 0.400872 
0 0 0 1 

Final RAS Transform: 
0.995363 0.01298 0.0127104 0.490714 
0.0209974 0.996256 0.032696 -0.0578261 
-0.0139095 0.0100315 1.03324 0.400872 
0 0 0 1 


real	0m10.043s
user	0m17.636s
sys	0m0.392s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.799694
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1025
Level     0,  Iter     1:    Energy =   0.1107
Level     0,  Iter     2:    Energy =   0.1168
Level     0,  Iter     3:    Energy =   0.1218
Level     0,  Iter     4:    Energy =   0.1257
Level     0,  Iter     5:    Energy =   0.1286
Level     0,  Iter     6:    Energy =   0.1310
Level     0,  Iter     7:    Energy =   0.1324
Level     0,  Iter     8:    Energy =   0.1331
Level     0,  Iter     9:    Energy =   0.1347
Level     0,  Iter    10:    Energy =   0.1350
Level     0,  Iter    11:    Energy =   0.1360
Level     0,  Iter    12:    Energy =   0.1364
Level     0,  Iter    13:    Energy =   0.1368
Level     0,  Iter    14:    Energy =   0.1370
Level     0,  Iter    15:    Energy =   0.1377
Level     0,  Iter    16:    Energy =   0.1378
Level     0,  Iter    17:    Energy =   0.1380
Level     0,  Iter    18:    Energy =   0.1384
Level     0,  Iter    19:    Energy =   0.1390
Level     0,  Iter    20:    Energy =   0.1390
Level     0,  Iter    21:    Energy =   0.1389
Level     0,  Iter    22:    Energy =   0.1391
Level     0,  Iter    23:    Energy =   0.1391
Level     0,  Iter    24:    Energy =   0.1393
Level     0,  Iter    25:    Energy =   0.1396
Level     0,  Iter    26:    Energy =   0.1397
Level     0,  Iter    27:    Energy =   0.1397
Level     0,  Iter    28:    Energy =   0.1400
Level     0,  Iter    29:    Energy =   0.1400
Level     0,  Iter    30:    Energy =   0.1402
Level     0,  Iter    31:    Energy =   0.1402
Level     0,  Iter    32:    Energy =   0.1404
Level     0,  Iter    33:    Energy =   0.1403
Level     0,  Iter    34:    Energy =   0.1404
Level     0,  Iter    35:    Energy =   0.1402
Level     0,  Iter    36:    Energy =   0.1404
Level     0,  Iter    37:    Energy =   0.1404
Level     0,  Iter    38:    Energy =   0.1407
Level     0,  Iter    39:    Energy =   0.1406
Level     0,  Iter    40:    Energy =   0.1408
Level     0,  Iter    41:    Energy =   0.1407
Level     0,  Iter    42:    Energy =   0.1409
Level     0,  Iter    43:    Energy =   0.1408
Level     0,  Iter    44:    Energy =   0.1409
Level     0,  Iter    45:    Energy =   0.1408
Level     0,  Iter    46:    Energy =   0.1408
Level     0,  Iter    47:    Energy =   0.1407
Level     0,  Iter    48:    Energy =   0.1407
Level     0,  Iter    49:    Energy =   0.1407
Level     0,  Iter    50:    Energy =   0.1407
Level     0,  Iter    51:    Energy =   0.1407
Level     0,  Iter    52:    Energy =   0.1406
Level     0,  Iter    53:    Energy =   0.1408
Level     0,  Iter    54:    Energy =   0.1409
Level     0,  Iter    55:    Energy =   0.1411
Level     0,  Iter    56:    Energy =   0.1412
Level     0,  Iter    57:    Energy =   0.1412
Level     0,  Iter    58:    Energy =   0.1410
Level     0,  Iter    59:    Energy =   0.1411
END OF LEVEL     0    DetJac Range:   0.3880  to   2.0480 
  Avg. Gradient Time  : 0.0085s  34.23% 
  Avg. Gaussian Time  : 0.0125s  50.42% 
  Avg. Iteration Time : 0.0248s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0921
Level     1,  Iter     1:    Energy =   0.0978
Level     1,  Iter     2:    Energy =   0.1024
Level     1,  Iter     3:    Energy =   0.1050
Level     1,  Iter     4:    Energy =   0.1065
Level     1,  Iter     5:    Energy =   0.1092
Level     1,  Iter     6:    Energy =   0.1116
Level     1,  Iter     7:    Energy =   0.1134
Level     1,  Iter     8:    Energy =   0.1152
Level     1,  Iter     9:    Energy =   0.1169
Level     1,  Iter    10:    Energy =   0.1182
Level     1,  Iter    11:    Energy =   0.1185
Level     1,  Iter    12:    Energy =   0.1190
Level     1,  Iter    13:    Energy =   0.1195
Level     1,  Iter    14:    Energy =   0.1197
Level     1,  Iter    15:    Energy =   0.1203
Level     1,  Iter    16:    Energy =   0.1203
Level     1,  Iter    17:    Energy =   0.1207
Level     1,  Iter    18:    Energy =   0.1209
Level     1,  Iter    19:    Energy =   0.1211
Level     1,  Iter    20:    Energy =   0.1213
Level     1,  Iter    21:    Energy =   0.1215
Level     1,  Iter    22:    Energy =   0.1215
Level     1,  Iter    23:    Energy =   0.1219
Level     1,  Iter    24:    Energy =   0.1217
Level     1,  Iter    25:    Energy =   0.1223
Level     1,  Iter    26:    Energy =   0.1221
Level     1,  Iter    27:    Energy =   0.1228
Level     1,  Iter    28:    Energy =   0.1224
Level     1,  Iter    29:    Energy =   0.1230
Level     1,  Iter    30:    Energy =   0.1227
Level     1,  Iter    31:    Energy =   0.1234
Level     1,  Iter    32:    Energy =   0.1230
Level     1,  Iter    33:    Energy =   0.1236
Level     1,  Iter    34:    Energy =   0.1232
Level     1,  Iter    35:    Energy =   0.1238
Level     1,  Iter    36:    Energy =   0.1234
Level     1,  Iter    37:    Energy =   0.1240
Level     1,  Iter    38:    Energy =   0.1236
Level     1,  Iter    39:    Energy =   0.1242
Level     1,  Iter    40:    Energy =   0.1237
Level     1,  Iter    41:    Energy =   0.1243
Level     1,  Iter    42:    Energy =   0.1238
Level     1,  Iter    43:    Energy =   0.1245
Level     1,  Iter    44:    Energy =   0.1240
Level     1,  Iter    45:    Energy =   0.1246
Level     1,  Iter    46:    Energy =   0.1241
Level     1,  Iter    47:    Energy =   0.1247
Level     1,  Iter    48:    Energy =   0.1242
Level     1,  Iter    49:    Energy =   0.1248
Level     1,  Iter    50:    Energy =   0.1243
Level     1,  Iter    51:    Energy =   0.1249
Level     1,  Iter    52:    Energy =   0.1244
Level     1,  Iter    53:    Energy =   0.1250
Level     1,  Iter    54:    Energy =   0.1245
Level     1,  Iter    55:    Energy =   0.1252
Level     1,  Iter    56:    Energy =   0.1247
Level     1,  Iter    57:    Energy =   0.1252
Level     1,  Iter    58:    Energy =   0.1247
Level     1,  Iter    59:    Energy =   0.1253
END OF LEVEL     1    DetJac Range:   0.1425  to   3.8462 
  Avg. Gradient Time  : 0.0472s  32.75% 
  Avg. Gaussian Time  : 0.0782s  54.22% 
  Avg. Iteration Time : 0.1442s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0683
Level     2,  Iter     1:    Energy =   0.0706
Level     2,  Iter     2:    Energy =   0.0729
Level     2,  Iter     3:    Energy =   0.0751
Level     2,  Iter     4:    Energy =   0.0765
Level     2,  Iter     5:    Energy =   0.0777
Level     2,  Iter     6:    Energy =   0.0787
Level     2,  Iter     7:    Energy =   0.0796
Level     2,  Iter     8:    Energy =   0.0805
Level     2,  Iter     9:    Energy =   0.0814
Level     2,  Iter    10:    Energy =   0.0822
Level     2,  Iter    11:    Energy =   0.0831
Level     2,  Iter    12:    Energy =   0.0841
Level     2,  Iter    13:    Energy =   0.0848
Level     2,  Iter    14:    Energy =   0.0848
Level     2,  Iter    15:    Energy =   0.0853
Level     2,  Iter    16:    Energy =   0.0853
Level     2,  Iter    17:    Energy =   0.0857
Level     2,  Iter    18:    Energy =   0.0857
Level     2,  Iter    19:    Energy =   0.0861
END OF LEVEL     2    DetJac Range:   0.1056  to   4.6351 
  Avg. Gradient Time  : 0.3327s  30.67% 
  Avg. Gaussian Time  : 0.6027s  55.56% 
  Avg. Iteration Time : 1.0848s 

real	0m37.098s
user	1m7.784s
sys	0m1.552s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332692 0.338462
+ echo 'CHUNK 0.332692 0.338462 1'
CHUNK 0.332692 0.338462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332692 0.338462 1
====================================
         PROGRESS: 0.332692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.679531
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2832.12   GNORM= 163.207
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2847.716     125.159       0.001
   2    4     -2860.078     117.540       1.000
   3    5     -2892.111     131.969       1.000
   4    6     -2908.625      97.078       1.000
   5    7     -2916.473      59.106       1.000
   6    8     -2926.362      95.600       1.000
   7    9     -2945.453     185.520       1.000
   8   10     -2961.504     110.924       1.000
   9   11     -2972.081      43.356       1.000
  10   12     -2975.534      63.583       1.000
  11   13     -2982.481      75.687       1.000
  12   15     -2986.259     146.944       0.164
  13   16     -3000.322     120.632       1.000
  14   17     -3015.829      82.056       1.000
  15   18     -3022.616      59.221       1.000
  16   20     -3026.280      61.203       0.468
  17   21     -3029.186      30.143       1.000
  18   22     -3030.685      29.573       1.000
  19   23     -3031.360     113.787       1.000
  20   24     -3034.166      60.645       1.000
  21   25     -3037.236      31.534       1.000
  22   26     -3039.119      58.036       1.000
  23   27     -3040.708      44.871       1.000
  24   28     -3043.123      24.750       1.000
  25   29     -3046.661      16.990       1.000
  26   31     -3047.334      21.245       0.357
  27   32     -3047.743      13.837       1.000
  28   34     -3047.965      26.673       0.214
  29   35     -3048.163      20.503       1.000
  30   36     -3048.623      15.530       1.000
  31   37     -3048.963      20.610       1.000
  32   38     -3049.597      14.415       1.000
  33   39     -3050.813      15.811       1.000
  34   41     -3050.915       4.984       0.240
  35   42     -3050.946      11.059       1.000
  36   43     -3050.948       9.408       1.000
  37   44     -3050.972       3.199       1.000
  38   45     -3050.976       2.890       1.000
  39   46     -3051.002       5.704       1.000
  40   47     -3051.023      11.955       1.000
  41   48     -3051.094       9.310       1.000
  42   49     -3051.181       7.443       1.000
  43   50     -3051.205       6.212       1.000
  44   51     -3051.225       9.283       1.000
  45   52     -3051.234       7.277       1.000
  46   53     -3051.263       4.444       1.000
  47   55     -3051.276       3.492       0.407
  48   56     -3051.291       3.187       1.000
  49   57     -3051.326       4.165       1.000
  50   58     -3051.380       7.678       1.000
  51   60     -3051.393       7.535       0.383
  52   61     -3051.422       4.619       1.000
Final RAS Transform: 
0.911146 -0.0212038 0.0748593 -2.69431 
-0.00316031 0.948952 -0.0815724 -1.23897 
-0.0351469 0.00593042 1.09544 -0.61527 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1872.91   GNORM= 76.1203
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1876.831      40.724       0.001
   2    4     -1878.347      34.020       1.000
   3    5     -1884.820      35.101       1.000
   4    6     -1889.363      50.168       1.000
   5    7     -1896.829      40.910       1.000
   6    8     -1903.213      29.089       1.000
   7    9     -1909.552      17.251       1.000
   8   10     -1911.271      83.397       1.000
   9   11     -1914.614      25.313       1.000
  10   12     -1916.352      18.766       1.000
  11   14     -1918.049      20.483       0.461
  12   15     -1919.797      22.386       1.000
  13   16     -1927.827      47.827       1.000
  14   17     -1939.071      73.440       1.000
  15   19     -1943.342      69.568       0.491
  16   20     -1947.294      22.619       1.000
  17   21     -1947.992       9.750       1.000
  18   22     -1948.385       9.647       1.000
  19   23     -1948.818      16.519       1.000
  20   24     -1949.499      10.650       1.000
  21   25     -1950.173      16.972       1.000
  22   26     -1951.168      19.836       1.000
  23   27     -1952.367      30.848       1.000
  24   28     -1953.221      26.417       1.000
  25   29     -1953.600       8.697       1.000
  26   30     -1953.688       5.846       1.000
  27   31     -1953.780       5.521       1.000
  28   33     -1953.864       9.476       0.373
  29   34     -1954.021       5.718       1.000
  30   35     -1954.334      11.734       1.000
  31   37     -1954.541       7.953       0.497
  32   38     -1954.611       5.859       1.000
  33   39     -1954.732       3.592       1.000
  34   40     -1954.855       4.867       1.000
  35   41     -1955.010      20.576       1.000
  36   42     -1955.236      15.064       1.000
  37   43     -1955.709       6.911       1.000
  38   44     -1955.839      15.302       1.000
  39   45     -1955.914       4.779       1.000
  40   46     -1955.926       4.096       1.000
  41   47     -1956.015       3.935       1.000
  42   48     -1956.072      14.273       1.000
  43   49     -1956.271       6.600       1.000
  44   50     -1956.326       3.839       1.000
  45   51     -1956.352       6.537       1.000
  46   52     -1956.388       2.896       1.000
  47   53     -1956.422       3.371       1.000
  48   54     -1956.491       4.832       1.000
  49   56     -1956.524       5.700       0.122
  50   57     -1956.568       3.092       1.000
  51   58     -1956.605       3.157       1.000
  52   60     -1956.624       2.987       0.349
  53   61     -1956.648       3.595       1.000
Final RAS Transform: 
0.986621 0.000924422 0.0388735 -0.143242 
-0.0187607 0.973643 -0.034284 -0.993728 
-0.00918853 0.00447655 1.06957 -0.0740351 
0 0 0 1 

Final RAS Transform: 
0.986621 0.000924422 0.0388735 -0.143242 
-0.0187607 0.973643 -0.034284 -0.993728 
-0.00918853 0.00447655 1.06957 -0.0740351 
0 0 0 1 


real	0m10.350s
user	0m18.072s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.686065
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0838
Level     0,  Iter     1:    Energy =   0.0911
Level     0,  Iter     2:    Energy =   0.0972
Level     0,  Iter     3:    Energy =   0.1029
Level     0,  Iter     4:    Energy =   0.1067
Level     0,  Iter     5:    Energy =   0.1101
Level     0,  Iter     6:    Energy =   0.1135
Level     0,  Iter     7:    Energy =   0.1159
Level     0,  Iter     8:    Energy =   0.1177
Level     0,  Iter     9:    Energy =   0.1187
Level     0,  Iter    10:    Energy =   0.1193
Level     0,  Iter    11:    Energy =   0.1198
Level     0,  Iter    12:    Energy =   0.1205
Level     0,  Iter    13:    Energy =   0.1208
Level     0,  Iter    14:    Energy =   0.1214
Level     0,  Iter    15:    Energy =   0.1217
Level     0,  Iter    16:    Energy =   0.1222
Level     0,  Iter    17:    Energy =   0.1224
Level     0,  Iter    18:    Energy =   0.1229
Level     0,  Iter    19:    Energy =   0.1231
Level     0,  Iter    20:    Energy =   0.1235
Level     0,  Iter    21:    Energy =   0.1236
Level     0,  Iter    22:    Energy =   0.1240
Level     0,  Iter    23:    Energy =   0.1241
Level     0,  Iter    24:    Energy =   0.1244
Level     0,  Iter    25:    Energy =   0.1244
Level     0,  Iter    26:    Energy =   0.1246
Level     0,  Iter    27:    Energy =   0.1247
Level     0,  Iter    28:    Energy =   0.1249
Level     0,  Iter    29:    Energy =   0.1249
Level     0,  Iter    30:    Energy =   0.1251
Level     0,  Iter    31:    Energy =   0.1251
Level     0,  Iter    32:    Energy =   0.1252
Level     0,  Iter    33:    Energy =   0.1252
Level     0,  Iter    34:    Energy =   0.1253
Level     0,  Iter    35:    Energy =   0.1253
Level     0,  Iter    36:    Energy =   0.1255
Level     0,  Iter    37:    Energy =   0.1255
Level     0,  Iter    38:    Energy =   0.1256
Level     0,  Iter    39:    Energy =   0.1256
Level     0,  Iter    40:    Energy =   0.1257
Level     0,  Iter    41:    Energy =   0.1258
Level     0,  Iter    42:    Energy =   0.1258
Level     0,  Iter    43:    Energy =   0.1259
Level     0,  Iter    44:    Energy =   0.1260
Level     0,  Iter    45:    Energy =   0.1260
Level     0,  Iter    46:    Energy =   0.1261
Level     0,  Iter    47:    Energy =   0.1260
Level     0,  Iter    48:    Energy =   0.1261
Level     0,  Iter    49:    Energy =   0.1261
Level     0,  Iter    50:    Energy =   0.1262
Level     0,  Iter    51:    Energy =   0.1262
Level     0,  Iter    52:    Energy =   0.1263
Level     0,  Iter    53:    Energy =   0.1263
Level     0,  Iter    54:    Energy =   0.1263
Level     0,  Iter    55:    Energy =   0.1263
Level     0,  Iter    56:    Energy =   0.1264
Level     0,  Iter    57:    Energy =   0.1263
Level     0,  Iter    58:    Energy =   0.1264
Level     0,  Iter    59:    Energy =   0.1264
END OF LEVEL     0    DetJac Range:   0.1882  to   2.1649 
  Avg. Gradient Time  : 0.0083s  34.72% 
  Avg. Gaussian Time  : 0.0119s  49.57% 
  Avg. Iteration Time : 0.0240s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0818
Level     1,  Iter     1:    Energy =   0.0866
Level     1,  Iter     2:    Energy =   0.0900
Level     1,  Iter     3:    Energy =   0.0936
Level     1,  Iter     4:    Energy =   0.0964
Level     1,  Iter     5:    Energy =   0.0989
Level     1,  Iter     6:    Energy =   0.1013
Level     1,  Iter     7:    Energy =   0.1032
Level     1,  Iter     8:    Energy =   0.1047
Level     1,  Iter     9:    Energy =   0.1060
Level     1,  Iter    10:    Energy =   0.1072
Level     1,  Iter    11:    Energy =   0.1083
Level     1,  Iter    12:    Energy =   0.1094
Level     1,  Iter    13:    Energy =   0.1097
Level     1,  Iter    14:    Energy =   0.1104
Level     1,  Iter    15:    Energy =   0.1101
Level     1,  Iter    16:    Energy =   0.1111
Level     1,  Iter    17:    Energy =   0.1110
Level     1,  Iter    18:    Energy =   0.1117
Level     1,  Iter    19:    Energy =   0.1113
Level     1,  Iter    20:    Energy =   0.1121
Level     1,  Iter    21:    Energy =   0.1120
Level     1,  Iter    22:    Energy =   0.1124
Level     1,  Iter    23:    Energy =   0.1122
Level     1,  Iter    24:    Energy =   0.1126
Level     1,  Iter    25:    Energy =   0.1124
Level     1,  Iter    26:    Energy =   0.1130
Level     1,  Iter    27:    Energy =   0.1127
Level     1,  Iter    28:    Energy =   0.1132
Level     1,  Iter    29:    Energy =   0.1131
Level     1,  Iter    30:    Energy =   0.1133
Level     1,  Iter    31:    Energy =   0.1132
Level     1,  Iter    32:    Energy =   0.1134
Level     1,  Iter    33:    Energy =   0.1133
Level     1,  Iter    34:    Energy =   0.1136
Level     1,  Iter    35:    Energy =   0.1133
Level     1,  Iter    36:    Energy =   0.1139
Level     1,  Iter    37:    Energy =   0.1136
Level     1,  Iter    38:    Energy =   0.1141
Level     1,  Iter    39:    Energy =   0.1138
Level     1,  Iter    40:    Energy =   0.1143
Level     1,  Iter    41:    Energy =   0.1141
Level     1,  Iter    42:    Energy =   0.1144
Level     1,  Iter    43:    Energy =   0.1141
Level     1,  Iter    44:    Energy =   0.1145
Level     1,  Iter    45:    Energy =   0.1143
Level     1,  Iter    46:    Energy =   0.1144
Level     1,  Iter    47:    Energy =   0.1141
Level     1,  Iter    48:    Energy =   0.1145
Level     1,  Iter    49:    Energy =   0.1143
Level     1,  Iter    50:    Energy =   0.1144
Level     1,  Iter    51:    Energy =   0.1142
Level     1,  Iter    52:    Energy =   0.1145
Level     1,  Iter    53:    Energy =   0.1143
Level     1,  Iter    54:    Energy =   0.1146
Level     1,  Iter    55:    Energy =   0.1144
Level     1,  Iter    56:    Energy =   0.1147
Level     1,  Iter    57:    Energy =   0.1144
Level     1,  Iter    58:    Energy =   0.1147
Level     1,  Iter    59:    Energy =   0.1145
END OF LEVEL     1    DetJac Range:   0.0354  to   3.5440 
  Avg. Gradient Time  : 0.0471s  32.72% 
  Avg. Gaussian Time  : 0.0781s  54.26% 
  Avg. Iteration Time : 0.1439s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0599
Level     2,  Iter     1:    Energy =   0.0627
Level     2,  Iter     2:    Energy =   0.0651
Level     2,  Iter     3:    Energy =   0.0671
Level     2,  Iter     4:    Energy =   0.0690
Level     2,  Iter     5:    Energy =   0.0708
Level     2,  Iter     6:    Energy =   0.0724
Level     2,  Iter     7:    Energy =   0.0738
Level     2,  Iter     8:    Energy =   0.0748
Level     2,  Iter     9:    Energy =   0.0758
Level     2,  Iter    10:    Energy =   0.0766
Level     2,  Iter    11:    Energy =   0.0773
Level     2,  Iter    12:    Energy =   0.0780
Level     2,  Iter    13:    Energy =   0.0788
Level     2,  Iter    14:    Energy =   0.0794
Level     2,  Iter    15:    Energy =   0.0798
Level     2,  Iter    16:    Energy =   0.0802
Level     2,  Iter    17:    Energy =   0.0805
Level     2,  Iter    18:    Energy =   0.0808
Level     2,  Iter    19:    Energy =   0.0810
END OF LEVEL     2    DetJac Range:   0.0251  to   4.7829 
  Avg. Gradient Time  : 0.2986s  31.06% 
  Avg. Gaussian Time  : 0.5326s  55.41% 
  Avg. Iteration Time : 0.9612s 

real	0m34.225s
user	1m2.444s
sys	0m1.348s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.338462 0.344231
+ echo 'CHUNK 0.338462 0.344231 1'
CHUNK 0.338462 0.344231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.338462 0.344231 1
====================================
         PROGRESS: 0.338462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.432333
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2990.55   GNORM= 285.318
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3031.630     275.831       0.001
   2    4     -3063.654     192.205       1.000
   3    5     -3107.935     139.767       1.000
   4    6     -3126.924      78.510       1.000
   5    7     -3140.174      86.641       1.000
   6    8     -3160.026     100.457       1.000
   7    9     -3172.973     249.408       1.000
   8   10     -3192.497     130.468       1.000
   9   11     -3199.668      75.465       1.000
  10   12     -3204.835      68.751       1.000
  11   13     -3216.325      69.550       1.000
  12   14     -3232.416     174.100       1.000
  13   15     -3248.593     156.227       1.000
  14   16     -3256.681      70.417       1.000
  15   17     -3259.390      60.116       1.000
  16   18     -3261.859      46.891       1.000
  17   19     -3266.911     122.294       1.000
  18   20     -3271.079      87.581       1.000
  19   21     -3271.887      94.060       1.000
  20   22     -3275.098      49.728       1.000
  21   23     -3276.800      31.638       1.000
  22   24     -3278.132      35.569       1.000
  23   26     -3278.877      31.961       0.392
  24   27     -3280.460      28.858       1.000
  25   28     -3282.597      34.526       1.000
  26   29     -3283.623      48.324       1.000
  27   30     -3284.401      22.212       1.000
  28   31     -3285.373      10.702       1.000
  29   33     -3285.479      12.656       0.431
  30   34     -3285.616      16.034       1.000
  31   35     -3285.629      12.737       1.000
  32   36     -3285.707       6.095       1.000
  33   37     -3285.741       4.968       1.000
  34   39     -3285.787      15.872       0.477
  35   40     -3285.851      13.195       1.000
  36   41     -3285.946       8.218       1.000
  37   42     -3286.262      14.468       1.000
  38   43     -3286.288      43.404       1.000
  39   44     -3286.631      21.915       1.000
  40   45     -3286.832      12.600       1.000
  41   46     -3286.946      10.744       1.000
  42   48     -3287.029       7.561       0.419
  43   49     -3287.150       8.702       1.000
  44   51     -3287.176      10.957       0.365
  45   52     -3287.230       8.647       1.000
  46   54     -3287.256      13.360       0.126
  47   55     -3287.276       4.377       1.000
  48   57     -3287.278       4.218       0.236
  49   58     -3287.281       3.166       1.000
  50   59     -3287.303       2.746       1.000
  51   60     -3287.307       6.327       1.000
  52   61     -3287.323       4.869       1.000
Final RAS Transform: 
0.911518 -0.00286831 0.0382205 -2.73546 
-0.057248 0.980573 0.0289849 -2.14674 
0.0014403 -0.0133097 0.996589 -0.43985 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2289.35   GNORM= 213.483
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2299.694      59.832       0.000
   2    4     -2301.435      57.871       1.000
   3    5     -2307.456     102.028       1.000
   4    6     -2316.150     136.192       1.000
   5    7     -2338.884     204.916       1.000
   6    8     -2351.956     184.790       1.000
   7    9     -2358.082      99.838       1.000
   8   10     -2360.613      26.851       1.000
   9   11     -2360.967      20.654       1.000
  10   12     -2362.520      26.395       1.000
  11   13     -2365.102      52.881       1.000
  12   14     -2368.105      62.956       1.000
  13   15     -2370.146      84.648       1.000
  14   16     -2373.527      49.394       1.000
  15   17     -2374.762      25.857       1.000
  16   18     -2375.441      25.537       1.000
  17   19     -2376.385      26.058       1.000
  18   20     -2376.791      12.567       1.000
  19   21     -2377.045      19.065       1.000
  20   22     -2377.413      19.460       1.000
  21   23     -2378.076      42.025       1.000
  22   24     -2378.359      27.427       1.000
  23   25     -2378.661      10.457       1.000
  24   26     -2378.783       6.693       1.000
  25   27     -2378.866       8.140       1.000
  26   28     -2379.245      21.086       1.000
  27   29     -2379.704       8.499       1.000
  28   30     -2379.825      15.118       1.000
  29   31     -2379.922       6.476       1.000
  30   32     -2379.960       5.326       1.000
  31   33     -2380.153       8.071       1.000
  32   34     -2380.384      12.797       1.000
  33   35     -2380.719      10.816       1.000
  34   36     -2381.155      30.709       1.000
  35   38     -2381.379      22.602       0.473
  36   39     -2381.629      10.706       1.000
  37   40     -2381.705       5.799       1.000
  38   41     -2381.749       4.836       1.000
  39   42     -2381.870      14.622       1.000
  40   43     -2382.034       5.746       1.000
  41   44     -2382.171      15.056       1.000
  42   45     -2382.275      17.025       1.000
  43   46     -2382.384       4.587       1.000
  44   47     -2382.426       6.652       1.000
  45   48     -2382.518       5.108       1.000
  46   49     -2382.537       9.830       1.000
  47   50     -2382.604       4.892       1.000
  48   51     -2382.630       7.528       1.000
  49   52     -2382.669       5.384       1.000
  50   53     -2382.684       8.461       1.000
  51   54     -2382.723       3.048       1.000
  52   55     -2382.741       5.039       1.000
  53   56     -2382.764       5.814       1.000
  54   57     -2382.876       8.009       1.000
  55   59     -2382.882       3.350       0.260
  56   60     -2382.908       2.653       1.000
  57   61     -2382.937       8.070       1.000
Final RAS Transform: 
0.948162 -0.000193145 -0.00266321 -1.53335 
-0.0498899 0.983249 0.0239261 -1.85137 
-0.00197724 0.00286013 1.01949 -0.0928439 
0 0 0 1 

Final RAS Transform: 
0.948162 -0.000193145 -0.00266321 -1.53335 
-0.0498899 0.983249 0.0239261 -1.85137 
-0.00197724 0.00286013 1.01949 -0.0928439 
0 0 0 1 


real	0m10.522s
user	0m18.520s
sys	0m0.412s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.593, moving = 0.441426
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0937
Level     0,  Iter     1:    Energy =   0.1007
Level     0,  Iter     2:    Energy =   0.1069
Level     0,  Iter     3:    Energy =   0.1112
Level     0,  Iter     4:    Energy =   0.1142
Level     0,  Iter     5:    Energy =   0.1171
Level     0,  Iter     6:    Energy =   0.1189
Level     0,  Iter     7:    Energy =   0.1204
Level     0,  Iter     8:    Energy =   0.1215
Level     0,  Iter     9:    Energy =   0.1224
Level     0,  Iter    10:    Energy =   0.1232
Level     0,  Iter    11:    Energy =   0.1238
Level     0,  Iter    12:    Energy =   0.1244
Level     0,  Iter    13:    Energy =   0.1250
Level     0,  Iter    14:    Energy =   0.1254
Level     0,  Iter    15:    Energy =   0.1261
Level     0,  Iter    16:    Energy =   0.1264
Level     0,  Iter    17:    Energy =   0.1270
Level     0,  Iter    18:    Energy =   0.1272
Level     0,  Iter    19:    Energy =   0.1278
Level     0,  Iter    20:    Energy =   0.1280
Level     0,  Iter    21:    Energy =   0.1286
Level     0,  Iter    22:    Energy =   0.1288
Level     0,  Iter    23:    Energy =   0.1293
Level     0,  Iter    24:    Energy =   0.1295
Level     0,  Iter    25:    Energy =   0.1299
Level     0,  Iter    26:    Energy =   0.1300
Level     0,  Iter    27:    Energy =   0.1307
Level     0,  Iter    28:    Energy =   0.1307
Level     0,  Iter    29:    Energy =   0.1310
Level     0,  Iter    30:    Energy =   0.1312
Level     0,  Iter    31:    Energy =   0.1314
Level     0,  Iter    32:    Energy =   0.1314
Level     0,  Iter    33:    Energy =   0.1320
Level     0,  Iter    34:    Energy =   0.1318
Level     0,  Iter    35:    Energy =   0.1316
Level     0,  Iter    36:    Energy =   0.1315
Level     0,  Iter    37:    Energy =   0.1315
Level     0,  Iter    38:    Energy =   0.1315
Level     0,  Iter    39:    Energy =   0.1317
Level     0,  Iter    40:    Energy =   0.1316
Level     0,  Iter    41:    Energy =   0.1320
Level     0,  Iter    42:    Energy =   0.1319
Level     0,  Iter    43:    Energy =   0.1322
Level     0,  Iter    44:    Energy =   0.1322
Level     0,  Iter    45:    Energy =   0.1325
Level     0,  Iter    46:    Energy =   0.1324
Level     0,  Iter    47:    Energy =   0.1327
Level     0,  Iter    48:    Energy =   0.1327
Level     0,  Iter    49:    Energy =   0.1329
Level     0,  Iter    50:    Energy =   0.1328
Level     0,  Iter    51:    Energy =   0.1330
Level     0,  Iter    52:    Energy =   0.1329
Level     0,  Iter    53:    Energy =   0.1329
Level     0,  Iter    54:    Energy =   0.1328
Level     0,  Iter    55:    Energy =   0.1329
Level     0,  Iter    56:    Energy =   0.1329
Level     0,  Iter    57:    Energy =   0.1330
Level     0,  Iter    58:    Energy =   0.1329
Level     0,  Iter    59:    Energy =   0.1330
END OF LEVEL     0    DetJac Range:   0.2333  to   2.4079 
  Avg. Gradient Time  : 0.0084s  34.38% 
  Avg. Gaussian Time  : 0.0123s  50.12% 
  Avg. Iteration Time : 0.0245s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0905
Level     1,  Iter     1:    Energy =   0.0962
Level     1,  Iter     2:    Energy =   0.1007
Level     1,  Iter     3:    Energy =   0.1042
Level     1,  Iter     4:    Energy =   0.1068
Level     1,  Iter     5:    Energy =   0.1088
Level     1,  Iter     6:    Energy =   0.1106
Level     1,  Iter     7:    Energy =   0.1124
Level     1,  Iter     8:    Energy =   0.1139
Level     1,  Iter     9:    Energy =   0.1154
Level     1,  Iter    10:    Energy =   0.1165
Level     1,  Iter    11:    Energy =   0.1173
Level     1,  Iter    12:    Energy =   0.1179
Level     1,  Iter    13:    Energy =   0.1185
Level     1,  Iter    14:    Energy =   0.1189
Level     1,  Iter    15:    Energy =   0.1193
Level     1,  Iter    16:    Energy =   0.1196
Level     1,  Iter    17:    Energy =   0.1201
Level     1,  Iter    18:    Energy =   0.1204
Level     1,  Iter    19:    Energy =   0.1203
Level     1,  Iter    20:    Energy =   0.1207
Level     1,  Iter    21:    Energy =   0.1207
Level     1,  Iter    22:    Energy =   0.1208
Level     1,  Iter    23:    Energy =   0.1210
Level     1,  Iter    24:    Energy =   0.1210
Level     1,  Iter    25:    Energy =   0.1213
Level     1,  Iter    26:    Energy =   0.1213
Level     1,  Iter    27:    Energy =   0.1215
Level     1,  Iter    28:    Energy =   0.1215
Level     1,  Iter    29:    Energy =   0.1217
Level     1,  Iter    30:    Energy =   0.1218
Level     1,  Iter    31:    Energy =   0.1218
Level     1,  Iter    32:    Energy =   0.1220
Level     1,  Iter    33:    Energy =   0.1220
Level     1,  Iter    34:    Energy =   0.1222
Level     1,  Iter    35:    Energy =   0.1222
Level     1,  Iter    36:    Energy =   0.1224
Level     1,  Iter    37:    Energy =   0.1223
Level     1,  Iter    38:    Energy =   0.1226
Level     1,  Iter    39:    Energy =   0.1225
Level     1,  Iter    40:    Energy =   0.1228
Level     1,  Iter    41:    Energy =   0.1226
Level     1,  Iter    42:    Energy =   0.1230
Level     1,  Iter    43:    Energy =   0.1228
Level     1,  Iter    44:    Energy =   0.1232
Level     1,  Iter    45:    Energy =   0.1230
Level     1,  Iter    46:    Energy =   0.1234
Level     1,  Iter    47:    Energy =   0.1231
Level     1,  Iter    48:    Energy =   0.1235
Level     1,  Iter    49:    Energy =   0.1232
Level     1,  Iter    50:    Energy =   0.1237
Level     1,  Iter    51:    Energy =   0.1234
Level     1,  Iter    52:    Energy =   0.1238
Level     1,  Iter    53:    Energy =   0.1235
Level     1,  Iter    54:    Energy =   0.1239
Level     1,  Iter    55:    Energy =   0.1236
Level     1,  Iter    56:    Energy =   0.1238
Level     1,  Iter    57:    Energy =   0.1238
Level     1,  Iter    58:    Energy =   0.1237
Level     1,  Iter    59:    Energy =   0.1238
END OF LEVEL     1    DetJac Range:   0.0844  to   5.5068 
  Avg. Gradient Time  : 0.0468s  32.66% 
  Avg. Gaussian Time  : 0.0777s  54.26% 
  Avg. Iteration Time : 0.1432s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0655
Level     2,  Iter     1:    Energy =   0.0685
Level     2,  Iter     2:    Energy =   0.0713
Level     2,  Iter     3:    Energy =   0.0737
Level     2,  Iter     4:    Energy =   0.0759
Level     2,  Iter     5:    Energy =   0.0776
Level     2,  Iter     6:    Energy =   0.0791
Level     2,  Iter     7:    Energy =   0.0805
Level     2,  Iter     8:    Energy =   0.0819
Level     2,  Iter     9:    Energy =   0.0830
Level     2,  Iter    10:    Energy =   0.0840
Level     2,  Iter    11:    Energy =   0.0848
Level     2,  Iter    12:    Energy =   0.0855
Level     2,  Iter    13:    Energy =   0.0861
Level     2,  Iter    14:    Energy =   0.0866
Level     2,  Iter    15:    Energy =   0.0869
Level     2,  Iter    16:    Energy =   0.0870
Level     2,  Iter    17:    Energy =   0.0871
Level     2,  Iter    18:    Energy =   0.0873
Level     2,  Iter    19:    Energy =   0.0875
END OF LEVEL     2    DetJac Range:   0.0257  to   5.6003 
  Avg. Gradient Time  : 0.2986s  31.00% 
  Avg. Gaussian Time  : 0.5336s  55.40% 
  Avg. Iteration Time : 0.9632s 

real	0m34.452s
user	1m2.388s
sys	0m1.424s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.344231 0.35
+ echo 'CHUNK 0.344231 0.35 1'
CHUNK 0.344231 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.344231 0.35 1
====================================
         PROGRESS: 0.344231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.82766
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3777.77   GNORM= 1149.88
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4042.839     253.217       0.000
   2    4     -4065.807     234.036       1.000
   3    5     -4169.810     131.884       1.000
   4    6     -4183.941     115.503       1.000
   5    7     -4194.891      75.576       1.000
   6    8     -4212.912     106.034       1.000
   7    9     -4220.737     171.673       1.000
   8   10     -4229.273      59.959       1.000
   9   11     -4230.830      39.503       1.000
  10   12     -4232.545      48.900       1.000
  11   13     -4236.770      82.890       1.000
  12   14     -4241.018      74.549       1.000
  13   15     -4244.968      85.268       1.000
  14   17     -4247.449      61.129       0.518
  15   18     -4248.951      23.478       1.000
  16   19     -4249.151      21.428       1.000
  17   20     -4249.426      11.957       1.000
  18   21     -4249.825      17.776       1.000
  19   22     -4250.459      14.136       1.000
  20   23     -4250.745      43.326       1.000
  21   24     -4250.980      33.151       1.000
  22   25     -4251.202      15.893       1.000
  23   26     -4251.326      12.962       1.000
  24   27     -4251.428       8.203       1.000
  25   28     -4251.537       9.882       1.000
  26   29     -4251.718      25.579       1.000
  27   30     -4251.889      14.445       1.000
  28   31     -4252.003      10.993       1.000
  29   32     -4252.125      11.143       1.000
  30   33     -4252.278      16.123       1.000
  31   34     -4252.330       7.977       1.000
  32   35     -4252.369       8.081       1.000
  33   36     -4252.413       8.256       1.000
  34   37     -4252.440      11.073       1.000
  35   39     -4252.453      11.148       0.246
  36   40     -4252.476       5.086       1.000
  37   41     -4252.479       6.135       1.000
  38   42     -4252.494       3.378       1.000
  39   43     -4252.515       4.116       1.000
  40   44     -4252.526       8.806       1.000
  41   45     -4252.533       2.520       1.000
Final RAS Transform: 
0.973403 -0.000401377 0.00308062 0.329536 
-0.00306124 1.01048 0.0469919 0.550738 
0.0430147 -0.00966009 1.0296 -1.14529 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3024.35   GNORM= 152.291
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3034.920     122.781       0.001
   2    4     -3039.135      48.705       1.000
   3    5     -3040.110      37.367       1.000
   4    6     -3043.672      72.278       1.000
   5    7     -3048.176      87.240       1.000
   6    8     -3060.329     101.175       1.000
   7    9     -3063.540     170.255       1.000
   8   10     -3069.037      34.529       1.000
   9   11     -3069.799      16.579       1.000
  10   12     -3070.432      13.207       1.000
  11   13     -3070.863      17.006       1.000
  12   14     -3071.365      15.068       1.000
  13   15     -3071.802      20.803       1.000
  14   16     -3072.545      34.706       1.000
  15   17     -3073.322      48.353       1.000
  16   18     -3074.079      13.979       1.000
  17   19     -3074.419      23.924       1.000
  18   20     -3074.577      38.815       1.000
  19   21     -3075.080      14.325       1.000
  20   22     -3075.176       5.789       1.000
  21   23     -3075.199       5.715       1.000
  22   24     -3075.309       7.613       1.000
  23   26     -3075.419      12.708       0.387
  24   27     -3075.513      16.558       1.000
  25   28     -3075.590       8.425       1.000
  26   29     -3075.630       4.432       1.000
  27   30     -3075.643       6.895       1.000
  28   31     -3075.655       3.823       1.000
  29   32     -3075.659       4.567       1.000
  30   34     -3075.666       5.782       0.423
  31   35     -3075.674       4.612       1.000
  32   36     -3075.701       4.102       1.000
  33   37     -3075.714       4.419       1.000
  34   39     -3075.732       6.639       0.408
  35   41     -3075.735       3.871       0.271
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.981739 0.00224116 0.00655756 0.215782 
-0.00374172 1.00829 0.0353939 0.36762 
0.0201456 -0.0063143 1.0376 -0.497671 
0 0 0 1 

Final RAS Transform: 
0.981739 0.00224116 0.00655756 0.215782 
-0.00374172 1.00829 0.0353939 0.36762 
0.0201456 -0.0063143 1.0376 -0.497671 
0 0 0 1 


real	0m10.318s
user	0m18.036s
sys	0m0.452s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.822904
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1222
Level     0,  Iter     1:    Energy =   0.1280
Level     0,  Iter     2:    Energy =   0.1325
Level     0,  Iter     3:    Energy =   0.1360
Level     0,  Iter     4:    Energy =   0.1381
Level     0,  Iter     5:    Energy =   0.1395
Level     0,  Iter     6:    Energy =   0.1408
Level     0,  Iter     7:    Energy =   0.1416
Level     0,  Iter     8:    Energy =   0.1423
Level     0,  Iter     9:    Energy =   0.1428
Level     0,  Iter    10:    Energy =   0.1433
Level     0,  Iter    11:    Energy =   0.1436
Level     0,  Iter    12:    Energy =   0.1440
Level     0,  Iter    13:    Energy =   0.1442
Level     0,  Iter    14:    Energy =   0.1446
Level     0,  Iter    15:    Energy =   0.1447
Level     0,  Iter    16:    Energy =   0.1450
Level     0,  Iter    17:    Energy =   0.1451
Level     0,  Iter    18:    Energy =   0.1453
Level     0,  Iter    19:    Energy =   0.1454
Level     0,  Iter    20:    Energy =   0.1457
Level     0,  Iter    21:    Energy =   0.1457
Level     0,  Iter    22:    Energy =   0.1460
Level     0,  Iter    23:    Energy =   0.1460
Level     0,  Iter    24:    Energy =   0.1462
Level     0,  Iter    25:    Energy =   0.1462
Level     0,  Iter    26:    Energy =   0.1463
Level     0,  Iter    27:    Energy =   0.1464
Level     0,  Iter    28:    Energy =   0.1465
Level     0,  Iter    29:    Energy =   0.1465
Level     0,  Iter    30:    Energy =   0.1467
Level     0,  Iter    31:    Energy =   0.1467
Level     0,  Iter    32:    Energy =   0.1468
Level     0,  Iter    33:    Energy =   0.1467
Level     0,  Iter    34:    Energy =   0.1469
Level     0,  Iter    35:    Energy =   0.1469
Level     0,  Iter    36:    Energy =   0.1469
Level     0,  Iter    37:    Energy =   0.1471
Level     0,  Iter    38:    Energy =   0.1469
Level     0,  Iter    39:    Energy =   0.1473
Level     0,  Iter    40:    Energy =   0.1473
Level     0,  Iter    41:    Energy =   0.1474
Level     0,  Iter    42:    Energy =   0.1474
Level     0,  Iter    43:    Energy =   0.1474
Level     0,  Iter    44:    Energy =   0.1475
Level     0,  Iter    45:    Energy =   0.1475
Level     0,  Iter    46:    Energy =   0.1474
Level     0,  Iter    47:    Energy =   0.1476
Level     0,  Iter    48:    Energy =   0.1475
Level     0,  Iter    49:    Energy =   0.1477
Level     0,  Iter    50:    Energy =   0.1475
Level     0,  Iter    51:    Energy =   0.1477
Level     0,  Iter    52:    Energy =   0.1476
Level     0,  Iter    53:    Energy =   0.1478
Level     0,  Iter    54:    Energy =   0.1476
Level     0,  Iter    55:    Energy =   0.1478
Level     0,  Iter    56:    Energy =   0.1476
Level     0,  Iter    57:    Energy =   0.1478
Level     0,  Iter    58:    Energy =   0.1476
Level     0,  Iter    59:    Energy =   0.1478
END OF LEVEL     0    DetJac Range:   0.2334  to   1.9258 
  Avg. Gradient Time  : 0.0088s  34.29% 
  Avg. Gaussian Time  : 0.0129s  50.24% 
  Avg. Iteration Time : 0.0256s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0999
Level     1,  Iter     1:    Energy =   0.1054
Level     1,  Iter     2:    Energy =   0.1094
Level     1,  Iter     3:    Energy =   0.1126
Level     1,  Iter     4:    Energy =   0.1146
Level     1,  Iter     5:    Energy =   0.1171
Level     1,  Iter     6:    Energy =   0.1194
Level     1,  Iter     7:    Energy =   0.1209
Level     1,  Iter     8:    Energy =   0.1217
Level     1,  Iter     9:    Energy =   0.1223
Level     1,  Iter    10:    Energy =   0.1231
Level     1,  Iter    11:    Energy =   0.1233
Level     1,  Iter    12:    Energy =   0.1239
Level     1,  Iter    13:    Energy =   0.1239
Level     1,  Iter    14:    Energy =   0.1247
Level     1,  Iter    15:    Energy =   0.1246
Level     1,  Iter    16:    Energy =   0.1252
Level     1,  Iter    17:    Energy =   0.1250
Level     1,  Iter    18:    Energy =   0.1252
Level     1,  Iter    19:    Energy =   0.1256
Level     1,  Iter    20:    Energy =   0.1254
Level     1,  Iter    21:    Energy =   0.1260
Level     1,  Iter    22:    Energy =   0.1261
Level     1,  Iter    23:    Energy =   0.1261
Level     1,  Iter    24:    Energy =   0.1259
Level     1,  Iter    25:    Energy =   0.1264
Level     1,  Iter    26:    Energy =   0.1266
Level     1,  Iter    27:    Energy =   0.1266
Level     1,  Iter    28:    Energy =   0.1263
Level     1,  Iter    29:    Energy =   0.1268
Level     1,  Iter    30:    Energy =   0.1268
Level     1,  Iter    31:    Energy =   0.1270
Level     1,  Iter    32:    Energy =   0.1266
Level     1,  Iter    33:    Energy =   0.1271
Level     1,  Iter    34:    Energy =   0.1272
Level     1,  Iter    35:    Energy =   0.1272
Level     1,  Iter    36:    Energy =   0.1269
Level     1,  Iter    37:    Energy =   0.1274
Level     1,  Iter    38:    Energy =   0.1274
Level     1,  Iter    39:    Energy =   0.1275
Level     1,  Iter    40:    Energy =   0.1271
Level     1,  Iter    41:    Energy =   0.1276
Level     1,  Iter    42:    Energy =   0.1276
Level     1,  Iter    43:    Energy =   0.1277
Level     1,  Iter    44:    Energy =   0.1273
Level     1,  Iter    45:    Energy =   0.1278
Level     1,  Iter    46:    Energy =   0.1277
Level     1,  Iter    47:    Energy =   0.1278
Level     1,  Iter    48:    Energy =   0.1274
Level     1,  Iter    49:    Energy =   0.1279
Level     1,  Iter    50:    Energy =   0.1278
Level     1,  Iter    51:    Energy =   0.1279
Level     1,  Iter    52:    Energy =   0.1275
Level     1,  Iter    53:    Energy =   0.1280
Level     1,  Iter    54:    Energy =   0.1279
Level     1,  Iter    55:    Energy =   0.1280
Level     1,  Iter    56:    Energy =   0.1277
Level     1,  Iter    57:    Energy =   0.1281
Level     1,  Iter    58:    Energy =   0.1281
Level     1,  Iter    59:    Energy =   0.1281
END OF LEVEL     1    DetJac Range:   0.0662  to   3.0992 
  Avg. Gradient Time  : 0.0490s  32.71% 
  Avg. Gaussian Time  : 0.0813s  54.28% 
  Avg. Iteration Time : 0.1497s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0665
Level     2,  Iter     1:    Energy =   0.0700
Level     2,  Iter     2:    Energy =   0.0730
Level     2,  Iter     3:    Energy =   0.0753
Level     2,  Iter     4:    Energy =   0.0772
Level     2,  Iter     5:    Energy =   0.0789
Level     2,  Iter     6:    Energy =   0.0801
Level     2,  Iter     7:    Energy =   0.0811
Level     2,  Iter     8:    Energy =   0.0820
Level     2,  Iter     9:    Energy =   0.0830
Level     2,  Iter    10:    Energy =   0.0840
Level     2,  Iter    11:    Energy =   0.0845
Level     2,  Iter    12:    Energy =   0.0848
Level     2,  Iter    13:    Energy =   0.0853
Level     2,  Iter    14:    Energy =   0.0856
Level     2,  Iter    15:    Energy =   0.0860
Level     2,  Iter    16:    Energy =   0.0862
Level     2,  Iter    17:    Energy =   0.0865
Level     2,  Iter    18:    Energy =   0.0868
Level     2,  Iter    19:    Energy =   0.0870
END OF LEVEL     2    DetJac Range:   0.0377  to   4.2909 
  Avg. Gradient Time  : 0.3447s  25.83% 
  Avg. Gaussian Time  : 0.8329s  62.41% 
  Avg. Iteration Time : 1.3345s 

real	0m42.445s
user	1m17.468s
sys	0m2.604s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.355769
+ echo 'CHUNK 0.35 0.355769 1'
CHUNK 0.35 0.355769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.355769 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.769215
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2940.97   GNORM= 366.34
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3014.800     160.347       0.001
   2    4     -3038.357     147.132       1.000
   3    5     -3134.511     166.059       1.000
   4    6     -3185.421     129.342       1.000
   5    7     -3246.208      83.046       1.000
   6    8     -3274.796     106.792       1.000
   7   10     -3282.836      88.296       0.474
   8   11     -3294.306      67.819       1.000
   9   12     -3304.962      91.659       1.000
  10   13     -3313.880      52.427       1.000
  11   14     -3319.804      28.238       1.000
  12   15     -3322.064      23.170       1.000
  13   16     -3323.757      51.892       1.000
  14   17     -3326.755      36.446       1.000
  15   19     -3328.898      35.001       0.437
  16   20     -3330.468      16.870       1.000
  17   21     -3331.090      15.446       1.000
  18   22     -3331.587      13.252       1.000
  19   23     -3331.868      10.878       1.000
  20   24     -3332.406      15.571       1.000
  21   25     -3332.720      19.437       1.000
  22   26     -3332.771      19.076       1.000
  23   27     -3332.943       6.434       1.000
  24   28     -3333.006       5.214       1.000
  25   29     -3333.130      19.803       1.000
  26   30     -3333.257       9.054       1.000
  27   31     -3333.317       6.505       1.000
  28   32     -3333.372       8.127       1.000
  29   33     -3333.416       6.248       1.000
  30   34     -3333.452       4.286       1.000
  31   35     -3333.492       2.727       1.000
  32   36     -3333.541       4.732       1.000
  33   37     -3333.560       7.360       1.000
  34   38     -3333.588       2.160       1.000
  35   39     -3333.591       1.925       1.000
  36   40     -3333.602       4.127       1.000
  37   41     -3333.615       2.942       1.000
  38   42     -3333.622       3.262       1.000
  39   43     -3333.625       1.911       1.000
Final RAS Transform: 
0.971852 0.050665 -0.0250766 1.12282 
-0.0331448 1.0113 0.112008 1.10529 
0.0496782 -0.00996516 1.06457 -0.206379 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2063.49   GNORM= 68.907
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2066.335      34.581       0.001
   2    5     -2070.978      53.260       5.000
   3    6     -2081.817      68.626       1.000
   4    7     -2098.557      64.695       1.000
   5    8     -2107.801      56.993       1.000
   6    9     -2118.000      41.776       1.000
   7   10     -2124.641      71.873       1.000
   8   11     -2125.173      65.769       1.000
   9   12     -2127.709      11.856       1.000
  10   13     -2127.790       9.587       1.000
  11   14     -2127.928       7.771       1.000
  12   15     -2128.455      25.337       1.000
  13   16     -2129.512      27.308       1.000
  14   17     -2131.040      26.557       1.000
  15   18     -2132.250      23.434       1.000
  16   19     -2132.639      24.170       1.000
  17   20     -2132.944       9.631       1.000
  18   21     -2133.145      11.350       1.000
  19   22     -2133.301       8.664       1.000
  20   23     -2133.383      14.314       1.000
  21   24     -2133.477       2.965       1.000
  22   25     -2133.497       4.033       1.000
  23   26     -2133.544       5.674       1.000
  24   27     -2133.690       4.520       1.000
  25   28     -2133.774       5.362       1.000
  26   29     -2133.826       7.400       1.000
  27   30     -2133.981      14.870       1.000
  28   31     -2134.129       8.462       1.000
  29   32     -2134.166       3.068       1.000
  30   33     -2134.181       2.690       1.000
  31   34     -2134.225       3.455       1.000
  32   35     -2134.238       3.964       1.000
  33   36     -2134.249       1.595       1.000
  34   37     -2134.253       3.333       1.000
  35   38     -2134.260       3.690       1.000
  36   39     -2134.269       3.620       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.984055 0.0181452 -0.00991397 0.414142 
-0.0192918 1.01841 0.0489424 0.591473 
0.0355128 -0.00420207 1.0533 -0.14815 
0 0 0 1 

Final RAS Transform: 
0.984055 0.0181452 -0.00991397 0.414142 
-0.0192918 1.01841 0.0489424 0.591473 
0.0355128 -0.00420207 1.0533 -0.14815 
0 0 0 1 


real	0m10.501s
user	0m18.324s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.760425
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0881
Level     0,  Iter     1:    Energy =   0.0955
Level     0,  Iter     2:    Energy =   0.1007
Level     0,  Iter     3:    Energy =   0.1050
Level     0,  Iter     4:    Energy =   0.1087
Level     0,  Iter     5:    Energy =   0.1117
Level     0,  Iter     6:    Energy =   0.1136
Level     0,  Iter     7:    Energy =   0.1149
Level     0,  Iter     8:    Energy =   0.1160
Level     0,  Iter     9:    Energy =   0.1171
Level     0,  Iter    10:    Energy =   0.1178
Level     0,  Iter    11:    Energy =   0.1183
Level     0,  Iter    12:    Energy =   0.1187
Level     0,  Iter    13:    Energy =   0.1190
Level     0,  Iter    14:    Energy =   0.1193
Level     0,  Iter    15:    Energy =   0.1195
Level     0,  Iter    16:    Energy =   0.1197
Level     0,  Iter    17:    Energy =   0.1199
Level     0,  Iter    18:    Energy =   0.1200
Level     0,  Iter    19:    Energy =   0.1201
Level     0,  Iter    20:    Energy =   0.1204
Level     0,  Iter    21:    Energy =   0.1206
Level     0,  Iter    22:    Energy =   0.1206
Level     0,  Iter    23:    Energy =   0.1208
Level     0,  Iter    24:    Energy =   0.1208
Level     0,  Iter    25:    Energy =   0.1210
Level     0,  Iter    26:    Energy =   0.1210
Level     0,  Iter    27:    Energy =   0.1212
Level     0,  Iter    28:    Energy =   0.1212
Level     0,  Iter    29:    Energy =   0.1214
Level     0,  Iter    30:    Energy =   0.1213
Level     0,  Iter    31:    Energy =   0.1215
Level     0,  Iter    32:    Energy =   0.1215
Level     0,  Iter    33:    Energy =   0.1216
Level     0,  Iter    34:    Energy =   0.1216
Level     0,  Iter    35:    Energy =   0.1217
Level     0,  Iter    36:    Energy =   0.1217
Level     0,  Iter    37:    Energy =   0.1219
Level     0,  Iter    38:    Energy =   0.1218
Level     0,  Iter    39:    Energy =   0.1219
Level     0,  Iter    40:    Energy =   0.1218
Level     0,  Iter    41:    Energy =   0.1220
Level     0,  Iter    42:    Energy =   0.1219
Level     0,  Iter    43:    Energy =   0.1220
Level     0,  Iter    44:    Energy =   0.1220
Level     0,  Iter    45:    Energy =   0.1221
Level     0,  Iter    46:    Energy =   0.1221
Level     0,  Iter    47:    Energy =   0.1222
Level     0,  Iter    48:    Energy =   0.1221
Level     0,  Iter    49:    Energy =   0.1222
Level     0,  Iter    50:    Energy =   0.1222
Level     0,  Iter    51:    Energy =   0.1223
Level     0,  Iter    52:    Energy =   0.1222
Level     0,  Iter    53:    Energy =   0.1223
Level     0,  Iter    54:    Energy =   0.1222
Level     0,  Iter    55:    Energy =   0.1223
Level     0,  Iter    56:    Energy =   0.1223
Level     0,  Iter    57:    Energy =   0.1223
Level     0,  Iter    58:    Energy =   0.1223
Level     0,  Iter    59:    Energy =   0.1224
END OF LEVEL     0    DetJac Range:   0.2218  to   2.0315 
  Avg. Gradient Time  : 0.0077s  34.49% 
  Avg. Gaussian Time  : 0.0111s  49.94% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0773
Level     1,  Iter     1:    Energy =   0.0811
Level     1,  Iter     2:    Energy =   0.0851
Level     1,  Iter     3:    Energy =   0.0882
Level     1,  Iter     4:    Energy =   0.0902
Level     1,  Iter     5:    Energy =   0.0915
Level     1,  Iter     6:    Energy =   0.0925
Level     1,  Iter     7:    Energy =   0.0933
Level     1,  Iter     8:    Energy =   0.0939
Level     1,  Iter     9:    Energy =   0.0945
Level     1,  Iter    10:    Energy =   0.0950
Level     1,  Iter    11:    Energy =   0.0955
Level     1,  Iter    12:    Energy =   0.0959
Level     1,  Iter    13:    Energy =   0.0963
Level     1,  Iter    14:    Energy =   0.0967
Level     1,  Iter    15:    Energy =   0.0971
Level     1,  Iter    16:    Energy =   0.0975
Level     1,  Iter    17:    Energy =   0.0979
Level     1,  Iter    18:    Energy =   0.0983
Level     1,  Iter    19:    Energy =   0.0986
Level     1,  Iter    20:    Energy =   0.0990
Level     1,  Iter    21:    Energy =   0.0993
Level     1,  Iter    22:    Energy =   0.0996
Level     1,  Iter    23:    Energy =   0.0999
Level     1,  Iter    24:    Energy =   0.1002
Level     1,  Iter    25:    Energy =   0.1005
Level     1,  Iter    26:    Energy =   0.1008
Level     1,  Iter    27:    Energy =   0.1011
Level     1,  Iter    28:    Energy =   0.1014
Level     1,  Iter    29:    Energy =   0.1016
Level     1,  Iter    30:    Energy =   0.1019
Level     1,  Iter    31:    Energy =   0.1021
Level     1,  Iter    32:    Energy =   0.1023
Level     1,  Iter    33:    Energy =   0.1025
Level     1,  Iter    34:    Energy =   0.1028
Level     1,  Iter    35:    Energy =   0.1030
Level     1,  Iter    36:    Energy =   0.1032
Level     1,  Iter    37:    Energy =   0.1034
Level     1,  Iter    38:    Energy =   0.1036
Level     1,  Iter    39:    Energy =   0.1037
Level     1,  Iter    40:    Energy =   0.1038
Level     1,  Iter    41:    Energy =   0.1040
Level     1,  Iter    42:    Energy =   0.1041
Level     1,  Iter    43:    Energy =   0.1042
Level     1,  Iter    44:    Energy =   0.1043
Level     1,  Iter    45:    Energy =   0.1044
Level     1,  Iter    46:    Energy =   0.1044
Level     1,  Iter    47:    Energy =   0.1045
Level     1,  Iter    48:    Energy =   0.1045
Level     1,  Iter    49:    Energy =   0.1046
Level     1,  Iter    50:    Energy =   0.1047
Level     1,  Iter    51:    Energy =   0.1047
Level     1,  Iter    52:    Energy =   0.1048
Level     1,  Iter    53:    Energy =   0.1048
Level     1,  Iter    54:    Energy =   0.1048
Level     1,  Iter    55:    Energy =   0.1049
Level     1,  Iter    56:    Energy =   0.1049
Level     1,  Iter    57:    Energy =   0.1049
Level     1,  Iter    58:    Energy =   0.1050
Level     1,  Iter    59:    Energy =   0.1050
END OF LEVEL     1    DetJac Range:   0.0329  to   3.0516 
  Avg. Gradient Time  : 0.0437s  33.03% 
  Avg. Gaussian Time  : 0.0717s  54.17% 
  Avg. Iteration Time : 0.1324s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0531
Level     2,  Iter     1:    Energy =   0.0557
Level     2,  Iter     2:    Energy =   0.0577
Level     2,  Iter     3:    Energy =   0.0591
Level     2,  Iter     4:    Energy =   0.0603
Level     2,  Iter     5:    Energy =   0.0613
Level     2,  Iter     6:    Energy =   0.0625
Level     2,  Iter     7:    Energy =   0.0634
Level     2,  Iter     8:    Energy =   0.0644
Level     2,  Iter     9:    Energy =   0.0653
Level     2,  Iter    10:    Energy =   0.0661
Level     2,  Iter    11:    Energy =   0.0668
Level     2,  Iter    12:    Energy =   0.0674
Level     2,  Iter    13:    Energy =   0.0679
Level     2,  Iter    14:    Energy =   0.0683
Level     2,  Iter    15:    Energy =   0.0687
Level     2,  Iter    16:    Energy =   0.0690
Level     2,  Iter    17:    Energy =   0.0693
Level     2,  Iter    18:    Energy =   0.0696
Level     2,  Iter    19:    Energy =   0.0699
END OF LEVEL     2    DetJac Range:   0.0246  to   4.9043 
  Avg. Gradient Time  : 0.3087s  27.60% 
  Avg. Gaussian Time  : 0.6718s  60.08% 
  Avg. Iteration Time : 1.1182s 

real	0m36.696s
user	1m6.340s
sys	0m2.280s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.355769 0.361538
+ echo 'CHUNK 0.355769 0.361538 1'
CHUNK 0.355769 0.361538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.355769 0.361538 1
====================================
         PROGRESS: 0.355769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.529508
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3728.25   GNORM= 348.242
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3768.721     259.411       0.001
   2    4     -3795.484     223.436       1.000
   3    5     -3835.613     139.260       1.000
   4    6     -3866.197     137.016       1.000
   5    7     -3902.628     105.783       1.000
   6    8     -3918.727     254.676       1.000
   7    9     -3938.358     122.620       1.000
   8   10     -3945.771      71.750       1.000
   9   11     -3952.241      52.053       1.000
  10   12     -3958.213      79.725       1.000
  11   13     -3967.303     112.328       1.000
  12   14     -3975.616      73.042       1.000
  13   16     -3979.305      73.143       0.481
  14   17     -3982.363      28.802       1.000
  15   18     -3983.633      23.591       1.000
  16   19     -3984.812      39.222       1.000
  17   20     -3986.346      34.475       1.000
  18   21     -3987.005      44.636       1.000
  19   22     -3987.575      21.643       1.000
  20   23     -3987.875      18.675       1.000
  21   24     -3988.408      15.616       1.000
  22   25     -3988.689      21.010       1.000
  23   26     -3989.318      19.179       1.000
  24   27     -3989.803      22.455       1.000
  25   29     -3990.082      19.653       0.185
  26   30     -3990.369      11.431       1.000
  27   31     -3990.473      10.033       1.000
  28   32     -3990.512      13.821       1.000
  29   33     -3990.564       5.389       1.000
  30   34     -3990.585       5.186       1.000
  31   35     -3990.619       8.726       1.000
  32   36     -3990.663       5.857       1.000
  33   37     -3990.717       4.578       1.000
  34   39     -3990.729       6.547       0.279
  35   40     -3990.743       5.946       1.000
  36   41     -3990.783       5.119       1.000
  37   42     -3990.873       8.602       1.000
  38   44     -3990.888      12.491       0.254
  39   45     -3990.941       8.494       1.000
  40   46     -3990.965       9.094       1.000
  41   47     -3990.996       4.448       1.000
  42   48     -3991.011       6.608       1.000
  43   49     -3991.018       8.043       1.000
  44   50     -3991.049       5.620       1.000
  45   51     -3991.111       4.687       1.000
  46   53     -3991.133       9.217       0.211
  47   54     -3991.136      12.963       1.000
  48   55     -3991.168       3.583       1.000
  49   56     -3991.168       6.146       1.000
  50   57     -3991.172       3.768       1.000
  51   58     -3991.176       2.447       1.000
  52   61     -3991.180       2.384       0.042
Final RAS Transform: 
0.957429 0.0157702 -0.0330538 0.89038 
-0.00728742 1.03085 0.0869849 0.985982 
0.0301124 -0.0173712 1.01742 -0.559855 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2915.09   GNORM= 158.204
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2931.081      81.086       0.001
   2    4     -2932.228     116.535       1.000
   3    5     -2934.720      55.066       1.000
   4    6     -2936.908      47.154       1.000
   5    7     -2941.389      90.455       1.000
   6    8     -2948.344     123.253       1.000
   7    9     -2957.135     158.773       1.000
   8   10     -2963.128      62.296       1.000
   9   11     -2965.519      46.890       1.000
  10   12     -2967.827      68.882       1.000
  11   13     -2970.992      81.357       1.000
  12   14     -2974.963      43.714       1.000
  13   15     -2975.468      21.648       1.000
  14   16     -2975.642      12.343       1.000
  15   17     -2975.864      15.072       1.000
  16   18     -2976.441      26.101       1.000
  17   19     -2977.582      40.593       1.000
  18   20     -2978.262      25.081       1.000
  19   21     -2978.589      11.999       1.000
  20   22     -2978.731       8.532       1.000
  21   23     -2978.806       8.656       1.000
  22   24     -2978.915       7.356       1.000
  23   25     -2979.314      27.216       1.000
  24   26     -2979.543      24.743       1.000
  25   27     -2979.662       4.303       1.000
  26   28     -2979.672       3.396       1.000
  27   30     -2979.679       4.865       0.158
  28   31     -2979.682       4.035       1.000
  29   32     -2979.715       4.470       1.000
  30   33     -2979.769       5.530       1.000
  31   34     -2979.786      10.876       1.000
  32   35     -2979.820       4.357       1.000
  33   36     -2979.850       3.670       1.000
  34   37     -2979.866       4.814       1.000
  35   38     -2979.896      11.422       1.000
  36   39     -2979.951       3.019       1.000
  37   40     -2979.963       2.519       1.000
  38   41     -2980.035       4.012       1.000
  39   43     -2980.055       3.471       0.090
  40   45     -2980.072       6.154       0.465
  41   47     -2980.077       3.672       0.381
  42   48     -2980.086       2.230       1.000
  43   49     -2980.090       2.234       1.000
  44   50     -2980.105       2.313       1.000
Final RAS Transform: 
0.973563 0.0111252 -0.0327544 0.358533 
-0.00814271 1.0299 0.0817612 0.867046 
0.0103126 -0.00322154 1.02397 0.2911 
0 0 0 1 

Final RAS Transform: 
0.973563 0.0111252 -0.0327544 0.358533 
-0.00814271 1.0299 0.0817612 0.867046 
0.0103126 -0.00322154 1.02397 0.2911 
0 0 0 1 


real	0m10.677s
user	0m18.676s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.531231
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1137
Level     0,  Iter     1:    Energy =   0.1208
Level     0,  Iter     2:    Energy =   0.1258
Level     0,  Iter     3:    Energy =   0.1294
Level     0,  Iter     4:    Energy =   0.1319
Level     0,  Iter     5:    Energy =   0.1329
Level     0,  Iter     6:    Energy =   0.1342
Level     0,  Iter     7:    Energy =   0.1347
Level     0,  Iter     8:    Energy =   0.1357
Level     0,  Iter     9:    Energy =   0.1360
Level     0,  Iter    10:    Energy =   0.1366
Level     0,  Iter    11:    Energy =   0.1368
Level     0,  Iter    12:    Energy =   0.1374
Level     0,  Iter    13:    Energy =   0.1376
Level     0,  Iter    14:    Energy =   0.1380
Level     0,  Iter    15:    Energy =   0.1381
Level     0,  Iter    16:    Energy =   0.1384
Level     0,  Iter    17:    Energy =   0.1386
Level     0,  Iter    18:    Energy =   0.1388
Level     0,  Iter    19:    Energy =   0.1389
Level     0,  Iter    20:    Energy =   0.1391
Level     0,  Iter    21:    Energy =   0.1393
Level     0,  Iter    22:    Energy =   0.1394
Level     0,  Iter    23:    Energy =   0.1396
Level     0,  Iter    24:    Energy =   0.1397
Level     0,  Iter    25:    Energy =   0.1398
Level     0,  Iter    26:    Energy =   0.1398
Level     0,  Iter    27:    Energy =   0.1399
Level     0,  Iter    28:    Energy =   0.1400
Level     0,  Iter    29:    Energy =   0.1401
Level     0,  Iter    30:    Energy =   0.1400
Level     0,  Iter    31:    Energy =   0.1401
Level     0,  Iter    32:    Energy =   0.1402
Level     0,  Iter    33:    Energy =   0.1403
Level     0,  Iter    34:    Energy =   0.1404
Level     0,  Iter    35:    Energy =   0.1404
Level     0,  Iter    36:    Energy =   0.1404
Level     0,  Iter    37:    Energy =   0.1405
Level     0,  Iter    38:    Energy =   0.1405
Level     0,  Iter    39:    Energy =   0.1406
Level     0,  Iter    40:    Energy =   0.1406
Level     0,  Iter    41:    Energy =   0.1406
Level     0,  Iter    42:    Energy =   0.1405
Level     0,  Iter    43:    Energy =   0.1407
Level     0,  Iter    44:    Energy =   0.1407
Level     0,  Iter    45:    Energy =   0.1407
Level     0,  Iter    46:    Energy =   0.1406
Level     0,  Iter    47:    Energy =   0.1407
Level     0,  Iter    48:    Energy =   0.1406
Level     0,  Iter    49:    Energy =   0.1407
Level     0,  Iter    50:    Energy =   0.1406
Level     0,  Iter    51:    Energy =   0.1407
Level     0,  Iter    52:    Energy =   0.1407
Level     0,  Iter    53:    Energy =   0.1407
Level     0,  Iter    54:    Energy =   0.1406
Level     0,  Iter    55:    Energy =   0.1407
Level     0,  Iter    56:    Energy =   0.1406
Level     0,  Iter    57:    Energy =   0.1407
Level     0,  Iter    58:    Energy =   0.1407
Level     0,  Iter    59:    Energy =   0.1407
END OF LEVEL     0    DetJac Range:   0.2962  to   2.1061 
  Avg. Gradient Time  : 0.0086s  34.81% 
  Avg. Gaussian Time  : 0.0122s  49.30% 
  Avg. Iteration Time : 0.0248s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0973
Level     1,  Iter     1:    Energy =   0.1007
Level     1,  Iter     2:    Energy =   0.1045
Level     1,  Iter     3:    Energy =   0.1074
Level     1,  Iter     4:    Energy =   0.1101
Level     1,  Iter     5:    Energy =   0.1132
Level     1,  Iter     6:    Energy =   0.1158
Level     1,  Iter     7:    Energy =   0.1180
Level     1,  Iter     8:    Energy =   0.1191
Level     1,  Iter     9:    Energy =   0.1196
Level     1,  Iter    10:    Energy =   0.1202
Level     1,  Iter    11:    Energy =   0.1206
Level     1,  Iter    12:    Energy =   0.1210
Level     1,  Iter    13:    Energy =   0.1214
Level     1,  Iter    14:    Energy =   0.1217
Level     1,  Iter    15:    Energy =   0.1219
Level     1,  Iter    16:    Energy =   0.1223
Level     1,  Iter    17:    Energy =   0.1224
Level     1,  Iter    18:    Energy =   0.1227
Level     1,  Iter    19:    Energy =   0.1228
Level     1,  Iter    20:    Energy =   0.1232
Level     1,  Iter    21:    Energy =   0.1232
Level     1,  Iter    22:    Energy =   0.1235
Level     1,  Iter    23:    Energy =   0.1234
Level     1,  Iter    24:    Energy =   0.1238
Level     1,  Iter    25:    Energy =   0.1237
Level     1,  Iter    26:    Energy =   0.1239
Level     1,  Iter    27:    Energy =   0.1238
Level     1,  Iter    28:    Energy =   0.1242
Level     1,  Iter    29:    Energy =   0.1242
Level     1,  Iter    30:    Energy =   0.1243
Level     1,  Iter    31:    Energy =   0.1242
Level     1,  Iter    32:    Energy =   0.1244
Level     1,  Iter    33:    Energy =   0.1244
Level     1,  Iter    34:    Energy =   0.1246
Level     1,  Iter    35:    Energy =   0.1245
Level     1,  Iter    36:    Energy =   0.1247
Level     1,  Iter    37:    Energy =   0.1247
Level     1,  Iter    38:    Energy =   0.1249
Level     1,  Iter    39:    Energy =   0.1248
Level     1,  Iter    40:    Energy =   0.1250
Level     1,  Iter    41:    Energy =   0.1249
Level     1,  Iter    42:    Energy =   0.1251
Level     1,  Iter    43:    Energy =   0.1250
Level     1,  Iter    44:    Energy =   0.1252
Level     1,  Iter    45:    Energy =   0.1252
Level     1,  Iter    46:    Energy =   0.1253
Level     1,  Iter    47:    Energy =   0.1252
Level     1,  Iter    48:    Energy =   0.1254
Level     1,  Iter    49:    Energy =   0.1253
Level     1,  Iter    50:    Energy =   0.1254
Level     1,  Iter    51:    Energy =   0.1253
Level     1,  Iter    52:    Energy =   0.1254
Level     1,  Iter    53:    Energy =   0.1254
Level     1,  Iter    54:    Energy =   0.1255
Level     1,  Iter    55:    Energy =   0.1254
Level     1,  Iter    56:    Energy =   0.1255
Level     1,  Iter    57:    Energy =   0.1255
Level     1,  Iter    58:    Energy =   0.1256
Level     1,  Iter    59:    Energy =   0.1255
END OF LEVEL     1    DetJac Range:   0.0823  to   4.2879 
  Avg. Gradient Time  : 0.0488s  32.54% 
  Avg. Gaussian Time  : 0.0815s  54.40% 
  Avg. Iteration Time : 0.1499s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0686
Level     2,  Iter     1:    Energy =   0.0718
Level     2,  Iter     2:    Energy =   0.0745
Level     2,  Iter     3:    Energy =   0.0767
Level     2,  Iter     4:    Energy =   0.0784
Level     2,  Iter     5:    Energy =   0.0798
Level     2,  Iter     6:    Energy =   0.0810
Level     2,  Iter     7:    Energy =   0.0822
Level     2,  Iter     8:    Energy =   0.0833
Level     2,  Iter     9:    Energy =   0.0842
Level     2,  Iter    10:    Energy =   0.0850
Level     2,  Iter    11:    Energy =   0.0859
Level     2,  Iter    12:    Energy =   0.0868
Level     2,  Iter    13:    Energy =   0.0876
Level     2,  Iter    14:    Energy =   0.0882
Level     2,  Iter    15:    Energy =   0.0888
Level     2,  Iter    16:    Energy =   0.0893
Level     2,  Iter    17:    Energy =   0.0898
Level     2,  Iter    18:    Energy =   0.0904
Level     2,  Iter    19:    Energy =   0.0910
END OF LEVEL     2    DetJac Range:   0.0449  to   6.4836 
  Avg. Gradient Time  : 0.3455s  26.88% 
  Avg. Gaussian Time  : 0.7810s  60.75% 
  Avg. Iteration Time : 1.2855s 

real	0m41.798s
user	1m16.140s
sys	0m2.484s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.361538 0.367308
+ echo 'CHUNK 0.361538 0.367308 1'
CHUNK 0.361538 0.367308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.361538 0.367308 1
====================================
         PROGRESS: 0.361538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.261065
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2838.53   GNORM= 1078.49
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3169.946     654.841       0.001
   2    3     -3282.723     173.214       1.000
   3    4     -3295.921     127.589       1.000
   4    5     -3329.602      88.790       1.000
   5    6     -3354.920     117.632       1.000
   6    7     -3371.366     107.175       1.000
   7    8     -3387.216      84.287       1.000
   8    9     -3403.323      77.325       1.000
   9   11     -3411.040     127.803       0.326
  10   12     -3421.729      99.342       1.000
  11   13     -3431.589      66.407       1.000
  12   14     -3435.577      63.955       1.000
  13   16     -3441.126      56.450       0.368
  14   17     -3444.172      48.859       1.000
  15   18     -3446.199      43.666       1.000
  16   19     -3447.049      17.633       1.000
  17   20     -3447.656      12.424       1.000
  18   21     -3448.255      21.559       1.000
  19   22     -3448.799      23.491       1.000
  20   24     -3449.558      27.945       0.456
  21   25     -3450.315      15.621       1.000
  22   26     -3451.065      13.845       1.000
  23   27     -3451.925      24.507       1.000
  24   29     -3452.424      27.506       0.291
  25   31     -3452.957      17.346       0.491
  26   32     -3453.277      10.651       1.000
  27   33     -3453.713      20.472       1.000
  28   34     -3453.954      30.465       1.000
  29   35     -3454.446      15.379       1.000
  30   36     -3454.792      23.507       1.000
  31   37     -3455.057      14.567       1.000
  32   38     -3455.397      12.049       1.000
  33   40     -3455.526      10.788       0.470
  34   42     -3455.626      10.014       0.429
  35   43     -3455.673       4.905       1.000
  36   44     -3455.717       3.837       1.000
  37   46     -3455.738       3.340       0.507
  38   47     -3455.777       4.563       1.000
  39   48     -3455.821       6.453       1.000
  40   50     -3455.837       6.249       0.502
  41   51     -3455.892       3.893       1.000
  42   53     -3455.911       3.701       0.513
  43   54     -3455.940       2.791       1.000
  44   56     -3455.956       3.738       0.228
  45   57     -3455.963       6.116       1.000
  46   58     -3455.963       7.514       1.000
  47   59     -3455.972       2.250       1.000
  48   60     -3455.973       1.408       1.000
  49   61     -3455.977       4.967       1.000
Final RAS Transform: 
0.948955 0.0254033 0.00468254 1.13466 
-0.0338487 0.986082 -0.000860534 -0.0566012 
0.0598005 0.0176319 1.06003 -0.723583 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2423.81   GNORM= 122.403
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2434.070      87.366       0.001
   2    4     -2436.347      68.095       1.000
   3    5     -2437.755      44.923       1.000
   4    6     -2440.920      56.971       1.000
   5    7     -2444.511      79.095       1.000
   6    8     -2450.883      75.336       1.000
   7    9     -2452.749      83.691       1.000
   8   10     -2458.708      36.950       1.000
   9   11     -2459.674      30.942       1.000
  10   12     -2460.627      27.861       1.000
  11   13     -2462.832      30.322       1.000
  12   14     -2464.433      18.546       1.000
  13   15     -2465.438      34.707       1.000
  14   16     -2466.993      36.833       1.000
  15   17     -2474.792      41.849       1.000
  16   19     -2475.898      27.213       0.336
  17   20     -2477.719      22.624       1.000
  18   22     -2478.659      23.251       0.368
  19   23     -2479.129       9.944       1.000
  20   24     -2479.499      14.886       1.000
  21   26     -2480.027      12.651       0.354
  22   27     -2480.873      54.685       1.000
  23   28     -2481.986      40.519       1.000
  24   29     -2483.991      10.509       1.000
  25   30     -2484.137       9.316       1.000
  26   31     -2484.272      17.060       1.000
  27   32     -2484.469       7.111       1.000
  28   33     -2484.592      10.398       1.000
  29   34     -2484.762       9.446       1.000
  30   35     -2484.870       9.373       1.000
  31   36     -2484.979       8.054       1.000
  32   37     -2485.001      13.502       1.000
  33   38     -2485.059       7.337       1.000
  34   39     -2485.118       7.670       1.000
  35   40     -2485.187      10.493       1.000
  36   41     -2485.444      23.434       1.000
  37   43     -2485.507      10.905       0.384
  38   44     -2485.551       5.983       1.000
  39   45     -2485.577       2.561       1.000
  40   46     -2485.585       2.319       1.000
  41   47     -2485.588       3.541       1.000
  42   48     -2485.615       3.964       1.000
  43   49     -2485.632       6.242       1.000
  44   50     -2485.647       3.837       1.000
  45   51     -2485.654       2.305       1.000
  46   52     -2485.660       1.727       1.000
  47   53     -2485.686       3.073       1.000
  48   54     -2485.745       5.023       1.000
  49   55     -2485.791       9.535       1.000
  50   56     -2485.833       7.454       1.000
  51   57     -2485.889       8.185       1.000
  52   58     -2485.932       6.078       1.000
  53   59     -2485.938       8.704       1.000
  54   60     -2485.955       5.179       1.000
  55   61     -2485.970       1.733       1.000
Final RAS Transform: 
0.971538 0.0148318 0.0287433 0.76625 
-0.0218283 0.99498 0.014364 -0.14379 
0.0237902 0.0149023 1.02031 -0.35771 
0 0 0 1 

Final RAS Transform: 
0.971538 0.0148318 0.0287433 0.76625 
-0.0218283 0.99498 0.014364 -0.14379 
0.0237902 0.0149023 1.02031 -0.35771 
0 0 0 1 


real	0m10.582s
user	0m18.508s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.260184
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0985
Level     0,  Iter     1:    Energy =   0.1039
Level     0,  Iter     2:    Energy =   0.1079
Level     0,  Iter     3:    Energy =   0.1118
Level     0,  Iter     4:    Energy =   0.1147
Level     0,  Iter     5:    Energy =   0.1162
Level     0,  Iter     6:    Energy =   0.1176
Level     0,  Iter     7:    Energy =   0.1186
Level     0,  Iter     8:    Energy =   0.1194
Level     0,  Iter     9:    Energy =   0.1199
Level     0,  Iter    10:    Energy =   0.1204
Level     0,  Iter    11:    Energy =   0.1208
Level     0,  Iter    12:    Energy =   0.1212
Level     0,  Iter    13:    Energy =   0.1216
Level     0,  Iter    14:    Energy =   0.1219
Level     0,  Iter    15:    Energy =   0.1222
Level     0,  Iter    16:    Energy =   0.1225
Level     0,  Iter    17:    Energy =   0.1229
Level     0,  Iter    18:    Energy =   0.1232
Level     0,  Iter    19:    Energy =   0.1236
Level     0,  Iter    20:    Energy =   0.1238
Level     0,  Iter    21:    Energy =   0.1241
Level     0,  Iter    22:    Energy =   0.1243
Level     0,  Iter    23:    Energy =   0.1245
Level     0,  Iter    24:    Energy =   0.1247
Level     0,  Iter    25:    Energy =   0.1249
Level     0,  Iter    26:    Energy =   0.1250
Level     0,  Iter    27:    Energy =   0.1251
Level     0,  Iter    28:    Energy =   0.1252
Level     0,  Iter    29:    Energy =   0.1253
Level     0,  Iter    30:    Energy =   0.1253
Level     0,  Iter    31:    Energy =   0.1254
Level     0,  Iter    32:    Energy =   0.1255
Level     0,  Iter    33:    Energy =   0.1256
Level     0,  Iter    34:    Energy =   0.1256
Level     0,  Iter    35:    Energy =   0.1256
Level     0,  Iter    36:    Energy =   0.1257
Level     0,  Iter    37:    Energy =   0.1257
Level     0,  Iter    38:    Energy =   0.1257
Level     0,  Iter    39:    Energy =   0.1258
Level     0,  Iter    40:    Energy =   0.1258
Level     0,  Iter    41:    Energy =   0.1259
Level     0,  Iter    42:    Energy =   0.1259
Level     0,  Iter    43:    Energy =   0.1260
Level     0,  Iter    44:    Energy =   0.1260
Level     0,  Iter    45:    Energy =   0.1261
Level     0,  Iter    46:    Energy =   0.1261
Level     0,  Iter    47:    Energy =   0.1261
Level     0,  Iter    48:    Energy =   0.1261
Level     0,  Iter    49:    Energy =   0.1262
Level     0,  Iter    50:    Energy =   0.1262
Level     0,  Iter    51:    Energy =   0.1262
Level     0,  Iter    52:    Energy =   0.1262
Level     0,  Iter    53:    Energy =   0.1263
Level     0,  Iter    54:    Energy =   0.1263
Level     0,  Iter    55:    Energy =   0.1264
Level     0,  Iter    56:    Energy =   0.1264
Level     0,  Iter    57:    Energy =   0.1264
Level     0,  Iter    58:    Energy =   0.1264
Level     0,  Iter    59:    Energy =   0.1265
END OF LEVEL     0    DetJac Range:   0.3186  to   2.6180 
  Avg. Gradient Time  : 0.0088s  34.47% 
  Avg. Gaussian Time  : 0.0128s  50.11% 
  Avg. Iteration Time : 0.0256s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0818
Level     1,  Iter     1:    Energy =   0.0864
Level     1,  Iter     2:    Energy =   0.0905
Level     1,  Iter     3:    Energy =   0.0935
Level     1,  Iter     4:    Energy =   0.0956
Level     1,  Iter     5:    Energy =   0.0980
Level     1,  Iter     6:    Energy =   0.0999
Level     1,  Iter     7:    Energy =   0.1013
Level     1,  Iter     8:    Energy =   0.1026
Level     1,  Iter     9:    Energy =   0.1040
Level     1,  Iter    10:    Energy =   0.1051
Level     1,  Iter    11:    Energy =   0.1062
Level     1,  Iter    12:    Energy =   0.1064
Level     1,  Iter    13:    Energy =   0.1065
Level     1,  Iter    14:    Energy =   0.1071
Level     1,  Iter    15:    Energy =   0.1070
Level     1,  Iter    16:    Energy =   0.1077
Level     1,  Iter    17:    Energy =   0.1076
Level     1,  Iter    18:    Energy =   0.1081
Level     1,  Iter    19:    Energy =   0.1080
Level     1,  Iter    20:    Energy =   0.1085
Level     1,  Iter    21:    Energy =   0.1084
Level     1,  Iter    22:    Energy =   0.1088
Level     1,  Iter    23:    Energy =   0.1086
Level     1,  Iter    24:    Energy =   0.1092
Level     1,  Iter    25:    Energy =   0.1090
Level     1,  Iter    26:    Energy =   0.1093
Level     1,  Iter    27:    Energy =   0.1093
Level     1,  Iter    28:    Energy =   0.1095
Level     1,  Iter    29:    Energy =   0.1093
Level     1,  Iter    30:    Energy =   0.1098
Level     1,  Iter    31:    Energy =   0.1096
Level     1,  Iter    32:    Energy =   0.1099
Level     1,  Iter    33:    Energy =   0.1097
Level     1,  Iter    34:    Energy =   0.1101
Level     1,  Iter    35:    Energy =   0.1099
Level     1,  Iter    36:    Energy =   0.1102
Level     1,  Iter    37:    Energy =   0.1099
Level     1,  Iter    38:    Energy =   0.1103
Level     1,  Iter    39:    Energy =   0.1101
Level     1,  Iter    40:    Energy =   0.1103
Level     1,  Iter    41:    Energy =   0.1100
Level     1,  Iter    42:    Energy =   0.1104
Level     1,  Iter    43:    Energy =   0.1102
Level     1,  Iter    44:    Energy =   0.1104
Level     1,  Iter    45:    Energy =   0.1101
Level     1,  Iter    46:    Energy =   0.1106
Level     1,  Iter    47:    Energy =   0.1103
Level     1,  Iter    48:    Energy =   0.1106
Level     1,  Iter    49:    Energy =   0.1102
Level     1,  Iter    50:    Energy =   0.1107
Level     1,  Iter    51:    Energy =   0.1103
Level     1,  Iter    52:    Energy =   0.1108
Level     1,  Iter    53:    Energy =   0.1104
Level     1,  Iter    54:    Energy =   0.1108
Level     1,  Iter    55:    Energy =   0.1104
Level     1,  Iter    56:    Energy =   0.1109
Level     1,  Iter    57:    Energy =   0.1105
Level     1,  Iter    58:    Energy =   0.1109
Level     1,  Iter    59:    Energy =   0.1105
END OF LEVEL     1    DetJac Range:   0.0983  to   4.0098 
  Avg. Gradient Time  : 0.0494s  32.82% 
  Avg. Gaussian Time  : 0.0816s  54.19% 
  Avg. Iteration Time : 0.1506s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0566
Level     2,  Iter     1:    Energy =   0.0596
Level     2,  Iter     2:    Energy =   0.0619
Level     2,  Iter     3:    Energy =   0.0638
Level     2,  Iter     4:    Energy =   0.0655
Level     2,  Iter     5:    Energy =   0.0669
Level     2,  Iter     6:    Energy =   0.0682
Level     2,  Iter     7:    Energy =   0.0693
Level     2,  Iter     8:    Energy =   0.0706
Level     2,  Iter     9:    Energy =   0.0718
Level     2,  Iter    10:    Energy =   0.0728
Level     2,  Iter    11:    Energy =   0.0737
Level     2,  Iter    12:    Energy =   0.0745
Level     2,  Iter    13:    Energy =   0.0752
Level     2,  Iter    14:    Energy =   0.0758
Level     2,  Iter    15:    Energy =   0.0764
Level     2,  Iter    16:    Energy =   0.0769
Level     2,  Iter    17:    Energy =   0.0774
Level     2,  Iter    18:    Energy =   0.0779
Level     2,  Iter    19:    Energy =   0.0784
END OF LEVEL     2    DetJac Range:   0.0300  to   6.6227 
  Avg. Gradient Time  : 0.3110s  26.95% 
  Avg. Gaussian Time  : 0.7044s  61.04% 
  Avg. Iteration Time : 1.1540s 

real	0m38.953s
user	1m10.568s
sys	0m2.456s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367308 0.373077
+ echo 'CHUNK 0.367308 0.373077 1'
CHUNK 0.367308 0.373077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367308 0.373077 1
====================================
         PROGRESS: 0.367308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.614173
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4183.42   GNORM= 411.309
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4275.843     183.147       0.001
   2    4     -4293.405     127.551       1.000
   3    5     -4311.314     131.696       1.000
   4    6     -4345.112     241.666       1.000
   5    7     -4398.063     218.017       1.000
   6    8     -4432.170     124.947       1.000
   7    9     -4448.091      84.667       1.000
   8   10     -4461.015     121.774       1.000
   9   11     -4466.146      96.174       1.000
  10   12     -4468.497      53.884       1.000
  11   13     -4472.040      40.584       1.000
  12   14     -4476.742     100.007       1.000
  13   15     -4479.853      62.730       1.000
  14   16     -4481.062      28.598       1.000
  15   17     -4481.797      22.140       1.000
  16   18     -4483.135      17.958       1.000
  17   19     -4484.697      38.042       1.000
  18   20     -4485.132      42.992       1.000
  19   21     -4485.565      17.049       1.000
  20   22     -4485.646      19.233       1.000
  21   23     -4485.756       9.654       1.000
  22   24     -4485.845       9.259       1.000
  23   25     -4485.916      18.058       1.000
  24   26     -4485.979      11.307       1.000
  25   27     -4486.020      13.628       1.000
  26   28     -4486.075       7.380       1.000
  27   31     -4486.192       8.913       2.765
  28   33     -4486.218       7.533       0.412
  29   34     -4486.244       4.026       1.000
  30   35     -4486.298       5.909       1.000
  31   37     -4486.330       8.862       0.334
  32   39     -4486.351       6.933       0.363
  33   40     -4486.379       4.427       1.000
  34   41     -4486.389       7.469       1.000
  35   42     -4486.398       3.751       1.000
  36   43     -4486.406       2.619       1.000
  37   45     -4486.413       6.972       0.090
  38   46     -4486.414       2.382       1.000
  39   47     -4486.418       1.825       1.000
  40   49     -4486.420       1.749       0.121
Final RAS Transform: 
0.968356 -0.00531086 -0.0309977 0.160654 
0.013579 1.03229 0.0644099 0.793412 
0.0427422 0.00250476 1.04089 -0.147233 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3098.75   GNORM= 140.986
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3108.311      33.534       0.001
   2    4     -3109.421      31.287       1.000
   3    5     -3113.101      85.427       1.000
   4    6     -3118.287      74.181       1.000
   5    7     -3123.878      81.449       1.000
   6    8     -3133.872      55.554       1.000
   7   10     -3135.370      55.485       0.399
   8   11     -3137.213      31.680       1.000
   9   12     -3138.453      27.726       1.000
  10   13     -3140.101      31.814       1.000
  11   14     -3141.600      33.630       1.000
  12   15     -3142.423      31.854       1.000
  13   16     -3142.801      21.470       1.000
  14   17     -3143.603      23.557       1.000
  15   18     -3144.605      31.285       1.000
  16   19     -3145.249      20.895       1.000
  17   20     -3145.415      22.190       1.000
  18   21     -3145.617      10.171       1.000
  19   22     -3145.738      10.362       1.000
  20   23     -3145.920      12.039       1.000
  21   24     -3146.157      19.009       1.000
  22   25     -3146.278      19.259       1.000
  23   26     -3146.355       8.751       1.000
  24   27     -3146.470       8.729       1.000
  25   28     -3146.788      26.995       1.000
  26   29     -3147.008      13.846       1.000
  27   30     -3147.140       5.704       1.000
  28   31     -3147.177       5.173       1.000
  29   32     -3147.207       7.407       1.000
  30   34     -3147.228       6.374       0.183
  31   35     -3147.262       4.456       1.000
  32   36     -3147.323      10.904       1.000
  33   37     -3147.396       8.127       1.000
  34   38     -3147.492       3.638       1.000
  35   39     -3147.566       3.959       1.000
  36   41     -3147.596       8.507       0.200
  37   42     -3147.649       7.387       1.000
  38   44     -3147.684       8.307       0.152
  39   45     -3147.727       5.488       1.000
  40   46     -3147.739       2.539       1.000
  41   47     -3147.744       2.696       1.000
  42   48     -3147.749       4.536       1.000
  43   49     -3147.765       4.025       1.000
  44   51     -3147.790       3.910       0.222
  45   52     -3147.812       2.878       1.000
  46   54     -3147.818       6.223       0.339
  47   55     -3147.831       1.686       1.000
  48   56     -3147.843       2.872       1.000
Final RAS Transform: 
0.978299 -0.00844435 -0.0255284 -0.174412 
0.0236605 1.03245 0.0655061 0.659411 
0.0120153 0.00276694 1.03015 0.410099 
0 0 0 1 

Final RAS Transform: 
0.978299 -0.00844435 -0.0255284 -0.174412 
0.0236605 1.03245 0.0655061 0.659411 
0.0120153 0.00276694 1.03015 0.410099 
0 0 0 1 


real	0m10.618s
user	0m18.616s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.618966
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1263
Level     0,  Iter     1:    Energy =   0.1343
Level     0,  Iter     2:    Energy =   0.1406
Level     0,  Iter     3:    Energy =   0.1443
Level     0,  Iter     4:    Energy =   0.1474
Level     0,  Iter     5:    Energy =   0.1491
Level     0,  Iter     6:    Energy =   0.1501
Level     0,  Iter     7:    Energy =   0.1513
Level     0,  Iter     8:    Energy =   0.1518
Level     0,  Iter     9:    Energy =   0.1529
Level     0,  Iter    10:    Energy =   0.1535
Level     0,  Iter    11:    Energy =   0.1546
Level     0,  Iter    12:    Energy =   0.1549
Level     0,  Iter    13:    Energy =   0.1548
Level     0,  Iter    14:    Energy =   0.1551
Level     0,  Iter    15:    Energy =   0.1554
Level     0,  Iter    16:    Energy =   0.1560
Level     0,  Iter    17:    Energy =   0.1571
Level     0,  Iter    18:    Energy =   0.1566
Level     0,  Iter    19:    Energy =   0.1564
Level     0,  Iter    20:    Energy =   0.1562
Level     0,  Iter    21:    Energy =   0.1558
Level     0,  Iter    22:    Energy =   0.1558
Level     0,  Iter    23:    Energy =   0.1555
Level     0,  Iter    24:    Energy =   0.1557
Level     0,  Iter    25:    Energy =   0.1556
Level     0,  Iter    26:    Energy =   0.1560
Level     0,  Iter    27:    Energy =   0.1570
Level     0,  Iter    28:    Energy =   0.1567
Level     0,  Iter    29:    Energy =   0.1565
Level     0,  Iter    30:    Energy =   0.1563
Level     0,  Iter    31:    Energy =   0.1559
Level     0,  Iter    32:    Energy =   0.1560
Level     0,  Iter    33:    Energy =   0.1558
Level     0,  Iter    34:    Energy =   0.1562
Level     0,  Iter    35:    Energy =   0.1566
Level     0,  Iter    36:    Energy =   0.1571
Level     0,  Iter    37:    Energy =   0.1570
Level     0,  Iter    38:    Energy =   0.1572
Level     0,  Iter    39:    Energy =   0.1568
Level     0,  Iter    40:    Energy =   0.1572
Level     0,  Iter    41:    Energy =   0.1581
Level     0,  Iter    42:    Energy =   0.1574
Level     0,  Iter    43:    Energy =   0.1575
Level     0,  Iter    44:    Energy =   0.1572
Level     0,  Iter    45:    Energy =   0.1569
Level     0,  Iter    46:    Energy =   0.1567
Level     0,  Iter    47:    Energy =   0.1564
Level     0,  Iter    48:    Energy =   0.1565
Level     0,  Iter    49:    Energy =   0.1563
Level     0,  Iter    50:    Energy =   0.1567
Level     0,  Iter    51:    Energy =   0.1573
Level     0,  Iter    52:    Energy =   0.1573
Level     0,  Iter    53:    Energy =   0.1569
Level     0,  Iter    54:    Energy =   0.1569
Level     0,  Iter    55:    Energy =   0.1566
Level     0,  Iter    56:    Energy =   0.1569
Level     0,  Iter    57:    Energy =   0.1572
Level     0,  Iter    58:    Energy =   0.1576
Level     0,  Iter    59:    Energy =   0.1572
END OF LEVEL     0    DetJac Range:   0.3974  to   1.9822 
  Avg. Gradient Time  : 0.0076s  35.07% 
  Avg. Gaussian Time  : 0.0106s  48.97% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1051
Level     1,  Iter     1:    Energy =   0.1100
Level     1,  Iter     2:    Energy =   0.1139
Level     1,  Iter     3:    Energy =   0.1170
Level     1,  Iter     4:    Energy =   0.1192
Level     1,  Iter     5:    Energy =   0.1217
Level     1,  Iter     6:    Energy =   0.1239
Level     1,  Iter     7:    Energy =   0.1255
Level     1,  Iter     8:    Energy =   0.1260
Level     1,  Iter     9:    Energy =   0.1262
Level     1,  Iter    10:    Energy =   0.1264
Level     1,  Iter    11:    Energy =   0.1269
Level     1,  Iter    12:    Energy =   0.1268
Level     1,  Iter    13:    Energy =   0.1279
Level     1,  Iter    14:    Energy =   0.1276
Level     1,  Iter    15:    Energy =   0.1286
Level     1,  Iter    16:    Energy =   0.1283
Level     1,  Iter    17:    Energy =   0.1289
Level     1,  Iter    18:    Energy =   0.1285
Level     1,  Iter    19:    Energy =   0.1292
Level     1,  Iter    20:    Energy =   0.1289
Level     1,  Iter    21:    Energy =   0.1293
Level     1,  Iter    22:    Energy =   0.1289
Level     1,  Iter    23:    Energy =   0.1297
Level     1,  Iter    24:    Energy =   0.1293
Level     1,  Iter    25:    Energy =   0.1301
Level     1,  Iter    26:    Energy =   0.1297
Level     1,  Iter    27:    Energy =   0.1301
Level     1,  Iter    28:    Energy =   0.1297
Level     1,  Iter    29:    Energy =   0.1305
Level     1,  Iter    30:    Energy =   0.1301
Level     1,  Iter    31:    Energy =   0.1306
Level     1,  Iter    32:    Energy =   0.1301
Level     1,  Iter    33:    Energy =   0.1309
Level     1,  Iter    34:    Energy =   0.1305
Level     1,  Iter    35:    Energy =   0.1306
Level     1,  Iter    36:    Energy =   0.1302
Level     1,  Iter    37:    Energy =   0.1309
Level     1,  Iter    38:    Energy =   0.1304
Level     1,  Iter    39:    Energy =   0.1311
Level     1,  Iter    40:    Energy =   0.1307
Level     1,  Iter    41:    Energy =   0.1308
Level     1,  Iter    42:    Energy =   0.1304
Level     1,  Iter    43:    Energy =   0.1310
Level     1,  Iter    44:    Energy =   0.1306
Level     1,  Iter    45:    Energy =   0.1313
Level     1,  Iter    46:    Energy =   0.1309
Level     1,  Iter    47:    Energy =   0.1313
Level     1,  Iter    48:    Energy =   0.1309
Level     1,  Iter    49:    Energy =   0.1315
Level     1,  Iter    50:    Energy =   0.1311
Level     1,  Iter    51:    Energy =   0.1312
Level     1,  Iter    52:    Energy =   0.1308
Level     1,  Iter    53:    Energy =   0.1314
Level     1,  Iter    54:    Energy =   0.1310
Level     1,  Iter    55:    Energy =   0.1316
Level     1,  Iter    56:    Energy =   0.1311
Level     1,  Iter    57:    Energy =   0.1316
Level     1,  Iter    58:    Energy =   0.1311
Level     1,  Iter    59:    Energy =   0.1317
END OF LEVEL     1    DetJac Range:   0.1588  to   3.6616 
  Avg. Gradient Time  : 0.0428s  32.56% 
  Avg. Gaussian Time  : 0.0716s  54.49% 
  Avg. Iteration Time : 0.1313s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0705
Level     2,  Iter     1:    Energy =   0.0730
Level     2,  Iter     2:    Energy =   0.0753
Level     2,  Iter     3:    Energy =   0.0775
Level     2,  Iter     4:    Energy =   0.0796
Level     2,  Iter     5:    Energy =   0.0815
Level     2,  Iter     6:    Energy =   0.0830
Level     2,  Iter     7:    Energy =   0.0844
Level     2,  Iter     8:    Energy =   0.0855
Level     2,  Iter     9:    Energy =   0.0865
Level     2,  Iter    10:    Energy =   0.0874
Level     2,  Iter    11:    Energy =   0.0878
Level     2,  Iter    12:    Energy =   0.0877
Level     2,  Iter    13:    Energy =   0.0884
Level     2,  Iter    14:    Energy =   0.0885
Level     2,  Iter    15:    Energy =   0.0890
Level     2,  Iter    16:    Energy =   0.0888
Level     2,  Iter    17:    Energy =   0.0894
Level     2,  Iter    18:    Energy =   0.0894
Level     2,  Iter    19:    Energy =   0.0899
END OF LEVEL     2    DetJac Range:   0.0719  to   4.3740 
  Avg. Gradient Time  : 0.3037s  27.26% 
  Avg. Gaussian Time  : 0.6726s  60.37% 
  Avg. Iteration Time : 1.1140s 

real	0m36.429s
user	1m6.064s
sys	0m2.108s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.373077 0.378846
+ echo 'CHUNK 0.373077 0.378846 1'
CHUNK 0.373077 0.378846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.373077 0.378846 1
====================================
         PROGRESS: 0.373077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.682003
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3633.54   GNORM= 388.551
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3688.324     257.160       0.001
   2    4     -3719.524     220.041       1.000
   3    5     -3787.129     188.595       1.000
   4    6     -3824.791     152.174       1.000
   5    7     -3866.057     216.057       1.000
   6    8     -3899.606     110.831       1.000
   7    9     -3924.172     123.153       1.000
   8   11     -3935.532     211.193       0.493
   9   12     -3951.085     119.156       1.000
  10   13     -3960.692      62.861       1.000
  11   14     -3965.619      62.634       1.000
  12   15     -3978.203     136.463       1.000
  13   16     -3988.288     121.154       1.000
  14   18     -3998.001      40.055       0.441
  15   19     -3999.021      23.541       1.000
  16   20     -3999.980      15.752       1.000
  17   22     -4001.044      21.993       0.346
  18   24     -4001.463      41.341       0.420
  19   25     -4001.998      18.298       1.000
  20   26     -4002.225      11.166       1.000
  21   27     -4002.293       6.456       1.000
  22   28     -4002.351       6.682       1.000
  23   29     -4002.573      12.813       1.000
  24   31     -4002.684       6.939       0.237
  25   32     -4002.742      12.856       1.000
  26   33     -4002.777      16.018       1.000
  27   34     -4002.809      11.336       1.000
  28   35     -4002.870      16.352       1.000
  29   36     -4002.950       8.317       1.000
  30   38     -4002.982       9.090       0.353
  31   39     -4003.022       8.253       1.000
  32   40     -4003.121      12.475       1.000
  33   41     -4003.212       8.144       1.000
  34   42     -4003.284       6.081       1.000
  35   44     -4003.310       4.981       0.433
  36   45     -4003.330       4.196       1.000
  37   46     -4003.339       4.859       1.000
  38   48     -4003.357       2.293       0.486
  39   49     -4003.359       2.163       1.000
  40   51     -4003.363       2.142       0.260
  41   52     -4003.370       2.643       1.000
  42   54     -4003.370       1.388       0.394
  43   55     -4003.373       1.400       1.000
Final RAS Transform: 
0.936843 0.0111667 -0.0506553 0.892417 
0.0181007 1.01624 0.0818737 0.359188 
0.0311946 -0.0101003 1.04506 -0.294808 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2827.25   GNORM= 152.939
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2831.874      57.970       0.000
   2    4     -2833.095      55.117       1.000
   3    5     -2841.202      70.084       1.000
   4    6     -2848.691     100.824       1.000
   5    7     -2859.174      72.649       1.000
   6    8     -2866.993      50.191       1.000
   7    9     -2868.046     161.072       1.000
   8   10     -2872.587      57.461       1.000
   9   11     -2874.476      33.160       1.000
  10   12     -2875.768      26.372       1.000
  11   13     -2877.147      17.113       1.000
  12   14     -2878.248      21.218       1.000
  13   15     -2882.991      28.630       1.000
  14   17     -2884.805      64.752       0.155
  15   18     -2888.672      51.364       1.000
  16   19     -2890.273      21.231       1.000
  17   20     -2890.758      13.654       1.000
  18   21     -2891.239      19.023       1.000
  19   22     -2891.724      16.228       1.000
  20   24     -2892.113      13.216       0.260
  21   25     -2892.449      24.006       1.000
  22   26     -2892.731      10.946       1.000
  23   27     -2892.865       7.813       1.000
  24   28     -2893.042      16.779       1.000
  25   29     -2893.244      12.803       1.000
  26   30     -2893.748      14.821       1.000
  27   31     -2894.058      18.658       1.000
  28   32     -2894.255      20.854       1.000
  29   33     -2894.401      13.065       1.000
  30   34     -2894.503       8.234       1.000
  31   35     -2894.579       6.992       1.000
  32   36     -2894.706      12.114       1.000
  33   37     -2894.798       8.474       1.000
  34   38     -2895.004      12.716       1.000
  35   39     -2895.225      11.140       1.000
  36   40     -2895.611      11.852       1.000
  37   41     -2896.025      27.162       1.000
  38   42     -2896.216       6.670       1.000
  39   43     -2896.251       5.946       1.000
  40   44     -2896.361       6.491       1.000
  41   45     -2896.576      11.111       1.000
  42   46     -2896.894      26.059       1.000
  43   47     -2897.118      11.490       1.000
  44   48     -2897.161       2.798       1.000
  45   49     -2897.180       3.120       1.000
  46   51     -2897.181       2.116       0.211
  47   53     -2897.185       5.123       0.267
  48   54     -2897.204       2.725       1.000
  49   56     -2897.240       6.023       0.280
  50   57     -2897.254       3.558       1.000
  51   59     -2897.258       2.653       0.442
  52   60     -2897.265       1.899       1.000
  53   61     -2897.271       2.294       1.000
Final RAS Transform: 
0.971884 0.0159797 -0.00591115 0.641831 
0.0015924 1.01101 0.0642357 0.458733 
0.0140048 -0.00547004 1.04479 0.0515197 
0 0 0 1 

Final RAS Transform: 
0.971884 0.0159797 -0.00591115 0.641831 
0.0015924 1.01101 0.0642357 0.458733 
0.0140048 -0.00547004 1.04479 0.0515197 
0 0 0 1 


real	0m10.629s
user	0m18.672s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.679666
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1132
Level     0,  Iter     1:    Energy =   0.1181
Level     0,  Iter     2:    Energy =   0.1225
Level     0,  Iter     3:    Energy =   0.1269
Level     0,  Iter     4:    Energy =   0.1291
Level     0,  Iter     5:    Energy =   0.1304
Level     0,  Iter     6:    Energy =   0.1319
Level     0,  Iter     7:    Energy =   0.1327
Level     0,  Iter     8:    Energy =   0.1338
Level     0,  Iter     9:    Energy =   0.1343
Level     0,  Iter    10:    Energy =   0.1350
Level     0,  Iter    11:    Energy =   0.1354
Level     0,  Iter    12:    Energy =   0.1359
Level     0,  Iter    13:    Energy =   0.1361
Level     0,  Iter    14:    Energy =   0.1365
Level     0,  Iter    15:    Energy =   0.1367
Level     0,  Iter    16:    Energy =   0.1370
Level     0,  Iter    17:    Energy =   0.1371
Level     0,  Iter    18:    Energy =   0.1375
Level     0,  Iter    19:    Energy =   0.1375
Level     0,  Iter    20:    Energy =   0.1378
Level     0,  Iter    21:    Energy =   0.1378
Level     0,  Iter    22:    Energy =   0.1381
Level     0,  Iter    23:    Energy =   0.1381
Level     0,  Iter    24:    Energy =   0.1383
Level     0,  Iter    25:    Energy =   0.1382
Level     0,  Iter    26:    Energy =   0.1385
Level     0,  Iter    27:    Energy =   0.1385
Level     0,  Iter    28:    Energy =   0.1387
Level     0,  Iter    29:    Energy =   0.1386
Level     0,  Iter    30:    Energy =   0.1389
Level     0,  Iter    31:    Energy =   0.1387
Level     0,  Iter    32:    Energy =   0.1390
Level     0,  Iter    33:    Energy =   0.1389
Level     0,  Iter    34:    Energy =   0.1391
Level     0,  Iter    35:    Energy =   0.1390
Level     0,  Iter    36:    Energy =   0.1391
Level     0,  Iter    37:    Energy =   0.1390
Level     0,  Iter    38:    Energy =   0.1392
Level     0,  Iter    39:    Energy =   0.1390
Level     0,  Iter    40:    Energy =   0.1392
Level     0,  Iter    41:    Energy =   0.1391
Level     0,  Iter    42:    Energy =   0.1393
Level     0,  Iter    43:    Energy =   0.1391
Level     0,  Iter    44:    Energy =   0.1393
Level     0,  Iter    45:    Energy =   0.1392
Level     0,  Iter    46:    Energy =   0.1393
Level     0,  Iter    47:    Energy =   0.1392
Level     0,  Iter    48:    Energy =   0.1394
Level     0,  Iter    49:    Energy =   0.1392
Level     0,  Iter    50:    Energy =   0.1394
Level     0,  Iter    51:    Energy =   0.1393
Level     0,  Iter    52:    Energy =   0.1394
Level     0,  Iter    53:    Energy =   0.1393
Level     0,  Iter    54:    Energy =   0.1395
Level     0,  Iter    55:    Energy =   0.1393
Level     0,  Iter    56:    Energy =   0.1395
Level     0,  Iter    57:    Energy =   0.1394
Level     0,  Iter    58:    Energy =   0.1395
Level     0,  Iter    59:    Energy =   0.1394
END OF LEVEL     0    DetJac Range:   0.2663  to   1.9956 
  Avg. Gradient Time  : 0.0076s  34.99% 
  Avg. Gaussian Time  : 0.0106s  49.09% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0944
Level     1,  Iter     1:    Energy =   0.0991
Level     1,  Iter     2:    Energy =   0.1023
Level     1,  Iter     3:    Energy =   0.1050
Level     1,  Iter     4:    Energy =   0.1077
Level     1,  Iter     5:    Energy =   0.1103
Level     1,  Iter     6:    Energy =   0.1128
Level     1,  Iter     7:    Energy =   0.1147
Level     1,  Iter     8:    Energy =   0.1163
Level     1,  Iter     9:    Energy =   0.1175
Level     1,  Iter    10:    Energy =   0.1182
Level     1,  Iter    11:    Energy =   0.1183
Level     1,  Iter    12:    Energy =   0.1185
Level     1,  Iter    13:    Energy =   0.1187
Level     1,  Iter    14:    Energy =   0.1187
Level     1,  Iter    15:    Energy =   0.1193
Level     1,  Iter    16:    Energy =   0.1192
Level     1,  Iter    17:    Energy =   0.1199
Level     1,  Iter    18:    Energy =   0.1197
Level     1,  Iter    19:    Energy =   0.1205
Level     1,  Iter    20:    Energy =   0.1203
Level     1,  Iter    21:    Energy =   0.1211
Level     1,  Iter    22:    Energy =   0.1208
Level     1,  Iter    23:    Energy =   0.1216
Level     1,  Iter    24:    Energy =   0.1213
Level     1,  Iter    25:    Energy =   0.1221
Level     1,  Iter    26:    Energy =   0.1217
Level     1,  Iter    27:    Energy =   0.1223
Level     1,  Iter    28:    Energy =   0.1219
Level     1,  Iter    29:    Energy =   0.1226
Level     1,  Iter    30:    Energy =   0.1222
Level     1,  Iter    31:    Energy =   0.1228
Level     1,  Iter    32:    Energy =   0.1224
Level     1,  Iter    33:    Energy =   0.1231
Level     1,  Iter    34:    Energy =   0.1227
Level     1,  Iter    35:    Energy =   0.1232
Level     1,  Iter    36:    Energy =   0.1228
Level     1,  Iter    37:    Energy =   0.1233
Level     1,  Iter    38:    Energy =   0.1229
Level     1,  Iter    39:    Energy =   0.1233
Level     1,  Iter    40:    Energy =   0.1229
Level     1,  Iter    41:    Energy =   0.1233
Level     1,  Iter    42:    Energy =   0.1229
Level     1,  Iter    43:    Energy =   0.1233
Level     1,  Iter    44:    Energy =   0.1230
Level     1,  Iter    45:    Energy =   0.1233
Level     1,  Iter    46:    Energy =   0.1229
Level     1,  Iter    47:    Energy =   0.1233
Level     1,  Iter    48:    Energy =   0.1229
Level     1,  Iter    49:    Energy =   0.1232
Level     1,  Iter    50:    Energy =   0.1228
Level     1,  Iter    51:    Energy =   0.1232
Level     1,  Iter    52:    Energy =   0.1229
Level     1,  Iter    53:    Energy =   0.1231
Level     1,  Iter    54:    Energy =   0.1228
Level     1,  Iter    55:    Energy =   0.1232
Level     1,  Iter    56:    Energy =   0.1229
Level     1,  Iter    57:    Energy =   0.1232
Level     1,  Iter    58:    Energy =   0.1228
Level     1,  Iter    59:    Energy =   0.1232
END OF LEVEL     1    DetJac Range:   0.0538  to   3.0907 
  Avg. Gradient Time  : 0.0427s  32.61% 
  Avg. Gaussian Time  : 0.0714s  54.46% 
  Avg. Iteration Time : 0.1311s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0643
Level     2,  Iter     1:    Energy =   0.0677
Level     2,  Iter     2:    Energy =   0.0702
Level     2,  Iter     3:    Energy =   0.0727
Level     2,  Iter     4:    Energy =   0.0746
Level     2,  Iter     5:    Energy =   0.0761
Level     2,  Iter     6:    Energy =   0.0774
Level     2,  Iter     7:    Energy =   0.0784
Level     2,  Iter     8:    Energy =   0.0793
Level     2,  Iter     9:    Energy =   0.0800
Level     2,  Iter    10:    Energy =   0.0807
Level     2,  Iter    11:    Energy =   0.0813
Level     2,  Iter    12:    Energy =   0.0819
Level     2,  Iter    13:    Energy =   0.0825
Level     2,  Iter    14:    Energy =   0.0831
Level     2,  Iter    15:    Energy =   0.0836
Level     2,  Iter    16:    Energy =   0.0841
Level     2,  Iter    17:    Energy =   0.0846
Level     2,  Iter    18:    Energy =   0.0850
Level     2,  Iter    19:    Energy =   0.0854
END OF LEVEL     2    DetJac Range:   0.0314  to   3.8669 
  Avg. Gradient Time  : 0.3040s  28.88% 
  Avg. Gaussian Time  : 0.6114s  58.08% 
  Avg. Iteration Time : 1.0526s 

real	0m35.149s
user	1m3.592s
sys	0m2.028s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.378846 0.384615
+ echo 'CHUNK 0.378846 0.384615 1'
CHUNK 0.378846 0.384615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.378846 0.384615 1
====================================
         PROGRESS: 0.378846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.56944
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3676.27   GNORM= 671.968
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3793.989     277.116       0.000
   2    4     -3823.962     203.416       1.000
   3    5     -3866.287     164.783       1.000
   4    6     -3887.854     115.211       1.000
   5    7     -3916.731     116.424       1.000
   6    8     -3926.144      72.524       1.000
   7    9     -3943.263      75.466       1.000
   8   11     -3946.753      88.874       0.288
   9   12     -3949.096      55.061       1.000
  10   13     -3951.865      39.858       1.000
  11   14     -3954.068      56.335       1.000
  12   15     -3958.369      49.951       1.000
  13   16     -3958.988     136.392       1.000
  14   17     -3963.866      41.047       1.000
  15   18     -3964.345      17.072       1.000
  16   19     -3964.587      27.161       1.000
  17   20     -3964.976      16.723       1.000
  18   21     -3965.368      12.117       1.000
  19   22     -3966.675      19.906       1.000
  20   23     -3967.427      10.127       1.000
  21   25     -3967.581      10.860       0.407
  22   26     -3967.873      10.450       1.000
  23   27     -3968.066      21.915       1.000
  24   28     -3968.103      19.719       1.000
  25   29     -3968.205       3.722       1.000
  26   30     -3968.211       1.927       1.000
  27   31     -3968.212       5.593       1.000
  28   32     -3968.224       3.655       1.000
  29   33     -3968.225       2.074       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.96642 -0.00945622 -0.00632437 0.150754 
0.0302519 1.01275 0.0474528 0.0273453 
0.0217942 0.00547119 1.03449 -0.0862332 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2927.14   GNORM= 220.838
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2935.753      48.511       0.000
   2    4     -2936.484      38.625       1.000
   3    5     -2937.782      49.696       1.000
   4    6     -2940.996     104.169       1.000
   5    7     -2944.536     106.988       1.000
   6    8     -2947.376     136.104       1.000
   7    9     -2951.537      31.237       1.000
   8   10     -2952.054      17.278       1.000
   9   11     -2952.558      15.578       1.000
  10   12     -2953.613      32.918       1.000
  11   13     -2954.390      20.475       1.000
  12   14     -2954.709      12.110       1.000
  13   15     -2954.840       8.285       1.000
  14   16     -2955.080      18.169       1.000
  15   17     -2955.480      26.646       1.000
  16   18     -2956.016      48.277       1.000
  17   20     -2956.421      49.365       0.359
  18   21     -2957.039      31.408       1.000
  19   22     -2957.474      13.899       1.000
  20   23     -2957.583      11.803       1.000
  21   24     -2957.692      10.493       1.000
  22   25     -2957.972       9.434       1.000
  23   26     -2958.135      18.569       1.000
  24   27     -2958.304      11.401       1.000
  25   28     -2958.536      12.337       1.000
  26   29     -2958.719      16.844       1.000
  27   31     -2958.816      11.803       0.441
  28   32     -2958.877      15.079       1.000
  29   33     -2958.944       5.951       1.000
  30   34     -2958.989       8.767       1.000
  31   35     -2959.074      12.171       1.000
  32   36     -2959.165      12.789       1.000
  33   38     -2959.249       7.322       0.521
  34   39     -2959.286       4.906       1.000
  35   40     -2959.322       4.658       1.000
  36   41     -2959.379       7.799       1.000
  37   42     -2959.397       7.323       1.000
  38   43     -2959.419       6.598       1.000
  39   44     -2959.429       3.445       1.000
  40   46     -2959.431       2.886       0.222
Final RAS Transform: 
0.97857 -0.00358009 0.010119 0.160838 
0.0204492 1.01022 0.0459814 0.0544986 
0.0111071 0.0136584 1.0281 0.215653 
0 0 0 1 

Final RAS Transform: 
0.97857 -0.00358009 0.010119 0.160838 
0.0204492 1.01022 0.0459814 0.0544986 
0.0111071 0.0136584 1.0281 0.215653 
0 0 0 1 


real	0m9.810s
user	0m17.232s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.57301
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1138
Level     0,  Iter     1:    Energy =   0.1190
Level     0,  Iter     2:    Energy =   0.1244
Level     0,  Iter     3:    Energy =   0.1285
Level     0,  Iter     4:    Energy =   0.1315
Level     0,  Iter     5:    Energy =   0.1326
Level     0,  Iter     6:    Energy =   0.1340
Level     0,  Iter     7:    Energy =   0.1347
Level     0,  Iter     8:    Energy =   0.1357
Level     0,  Iter     9:    Energy =   0.1362
Level     0,  Iter    10:    Energy =   0.1372
Level     0,  Iter    11:    Energy =   0.1376
Level     0,  Iter    12:    Energy =   0.1384
Level     0,  Iter    13:    Energy =   0.1386
Level     0,  Iter    14:    Energy =   0.1390
Level     0,  Iter    15:    Energy =   0.1392
Level     0,  Iter    16:    Energy =   0.1396
Level     0,  Iter    17:    Energy =   0.1397
Level     0,  Iter    18:    Energy =   0.1401
Level     0,  Iter    19:    Energy =   0.1402
Level     0,  Iter    20:    Energy =   0.1404
Level     0,  Iter    21:    Energy =   0.1405
Level     0,  Iter    22:    Energy =   0.1408
Level     0,  Iter    23:    Energy =   0.1409
Level     0,  Iter    24:    Energy =   0.1413
Level     0,  Iter    25:    Energy =   0.1413
Level     0,  Iter    26:    Energy =   0.1415
Level     0,  Iter    27:    Energy =   0.1415
Level     0,  Iter    28:    Energy =   0.1418
Level     0,  Iter    29:    Energy =   0.1418
Level     0,  Iter    30:    Energy =   0.1420
Level     0,  Iter    31:    Energy =   0.1420
Level     0,  Iter    32:    Energy =   0.1422
Level     0,  Iter    33:    Energy =   0.1423
Level     0,  Iter    34:    Energy =   0.1423
Level     0,  Iter    35:    Energy =   0.1424
Level     0,  Iter    36:    Energy =   0.1425
Level     0,  Iter    37:    Energy =   0.1426
Level     0,  Iter    38:    Energy =   0.1425
Level     0,  Iter    39:    Energy =   0.1426
Level     0,  Iter    40:    Energy =   0.1427
Level     0,  Iter    41:    Energy =   0.1427
Level     0,  Iter    42:    Energy =   0.1427
Level     0,  Iter    43:    Energy =   0.1428
Level     0,  Iter    44:    Energy =   0.1429
Level     0,  Iter    45:    Energy =   0.1430
Level     0,  Iter    46:    Energy =   0.1429
Level     0,  Iter    47:    Energy =   0.1430
Level     0,  Iter    48:    Energy =   0.1431
Level     0,  Iter    49:    Energy =   0.1431
Level     0,  Iter    50:    Energy =   0.1431
Level     0,  Iter    51:    Energy =   0.1431
Level     0,  Iter    52:    Energy =   0.1432
Level     0,  Iter    53:    Energy =   0.1432
Level     0,  Iter    54:    Energy =   0.1431
Level     0,  Iter    55:    Energy =   0.1431
Level     0,  Iter    56:    Energy =   0.1432
Level     0,  Iter    57:    Energy =   0.1433
Level     0,  Iter    58:    Energy =   0.1432
Level     0,  Iter    59:    Energy =   0.1434
END OF LEVEL     0    DetJac Range:   0.2542  to   2.2062 
  Avg. Gradient Time  : 0.0076s  35.01% 
  Avg. Gaussian Time  : 0.0107s  49.13% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1005
Level     1,  Iter     1:    Energy =   0.1049
Level     1,  Iter     2:    Energy =   0.1084
Level     1,  Iter     3:    Energy =   0.1111
Level     1,  Iter     4:    Energy =   0.1139
Level     1,  Iter     5:    Energy =   0.1162
Level     1,  Iter     6:    Energy =   0.1181
Level     1,  Iter     7:    Energy =   0.1198
Level     1,  Iter     8:    Energy =   0.1213
Level     1,  Iter     9:    Energy =   0.1217
Level     1,  Iter    10:    Energy =   0.1220
Level     1,  Iter    11:    Energy =   0.1227
Level     1,  Iter    12:    Energy =   0.1228
Level     1,  Iter    13:    Energy =   0.1235
Level     1,  Iter    14:    Energy =   0.1236
Level     1,  Iter    15:    Energy =   0.1242
Level     1,  Iter    16:    Energy =   0.1241
Level     1,  Iter    17:    Energy =   0.1246
Level     1,  Iter    18:    Energy =   0.1246
Level     1,  Iter    19:    Energy =   0.1250
Level     1,  Iter    20:    Energy =   0.1249
Level     1,  Iter    21:    Energy =   0.1255
Level     1,  Iter    22:    Energy =   0.1254
Level     1,  Iter    23:    Energy =   0.1257
Level     1,  Iter    24:    Energy =   0.1256
Level     1,  Iter    25:    Energy =   0.1260
Level     1,  Iter    26:    Energy =   0.1258
Level     1,  Iter    27:    Energy =   0.1262
Level     1,  Iter    28:    Energy =   0.1260
Level     1,  Iter    29:    Energy =   0.1264
Level     1,  Iter    30:    Energy =   0.1262
Level     1,  Iter    31:    Energy =   0.1267
Level     1,  Iter    32:    Energy =   0.1265
Level     1,  Iter    33:    Energy =   0.1270
Level     1,  Iter    34:    Energy =   0.1268
Level     1,  Iter    35:    Energy =   0.1270
Level     1,  Iter    36:    Energy =   0.1268
Level     1,  Iter    37:    Energy =   0.1272
Level     1,  Iter    38:    Energy =   0.1269
Level     1,  Iter    39:    Energy =   0.1273
Level     1,  Iter    40:    Energy =   0.1271
Level     1,  Iter    41:    Energy =   0.1273
Level     1,  Iter    42:    Energy =   0.1271
Level     1,  Iter    43:    Energy =   0.1276
Level     1,  Iter    44:    Energy =   0.1273
Level     1,  Iter    45:    Energy =   0.1276
Level     1,  Iter    46:    Energy =   0.1273
Level     1,  Iter    47:    Energy =   0.1278
Level     1,  Iter    48:    Energy =   0.1276
Level     1,  Iter    49:    Energy =   0.1277
Level     1,  Iter    50:    Energy =   0.1275
Level     1,  Iter    51:    Energy =   0.1278
Level     1,  Iter    52:    Energy =   0.1275
Level     1,  Iter    53:    Energy =   0.1281
Level     1,  Iter    54:    Energy =   0.1278
Level     1,  Iter    55:    Energy =   0.1282
Level     1,  Iter    56:    Energy =   0.1279
Level     1,  Iter    57:    Energy =   0.1284
Level     1,  Iter    58:    Energy =   0.1281
Level     1,  Iter    59:    Energy =   0.1283
END OF LEVEL     1    DetJac Range:   0.1435  to   2.8823 
  Avg. Gradient Time  : 0.0428s  32.62% 
  Avg. Gaussian Time  : 0.0714s  54.46% 
  Avg. Iteration Time : 0.1312s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0675
Level     2,  Iter     1:    Energy =   0.0704
Level     2,  Iter     2:    Energy =   0.0727
Level     2,  Iter     3:    Energy =   0.0746
Level     2,  Iter     4:    Energy =   0.0762
Level     2,  Iter     5:    Energy =   0.0774
Level     2,  Iter     6:    Energy =   0.0784
Level     2,  Iter     7:    Energy =   0.0793
Level     2,  Iter     8:    Energy =   0.0803
Level     2,  Iter     9:    Energy =   0.0812
Level     2,  Iter    10:    Energy =   0.0820
Level     2,  Iter    11:    Energy =   0.0828
Level     2,  Iter    12:    Energy =   0.0835
Level     2,  Iter    13:    Energy =   0.0842
Level     2,  Iter    14:    Energy =   0.0847
Level     2,  Iter    15:    Energy =   0.0852
Level     2,  Iter    16:    Energy =   0.0856
Level     2,  Iter    17:    Energy =   0.0860
Level     2,  Iter    18:    Energy =   0.0864
Level     2,  Iter    19:    Energy =   0.0867
END OF LEVEL     2    DetJac Range:   0.1040  to   3.6201 
  Avg. Gradient Time  : 0.3070s  29.07% 
  Avg. Gaussian Time  : 0.6107s  57.83% 
  Avg. Iteration Time : 1.0560s 

real	0m35.262s
user	1m3.660s
sys	0m2.200s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384615 0.390385
+ echo 'CHUNK 0.384615 0.390385 1'
CHUNK 0.384615 0.390385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384615 0.390385 1
====================================
         PROGRESS: 0.384615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.421882
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3284.28   GNORM= 438.38
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3386.183     296.914       0.001
   2    4     -3409.213     205.889       1.000
   3    5     -3422.038     149.181       1.000
   4    6     -3456.606     141.716       1.000
   5    7     -3468.944     108.258       1.000
   6    8     -3489.392      66.846       1.000
   7    9     -3496.729      85.392       1.000
   8   10     -3507.970     103.287       1.000
   9   11     -3518.843      63.707       1.000
  10   12     -3522.129      89.484       1.000
  11   13     -3525.797      47.002       1.000
  12   14     -3530.241      42.782       1.000
  13   15     -3540.781      58.282       1.000
  14   17     -3542.248      99.618       0.245
  15   18     -3545.737      48.591       1.000
  16   19     -3546.936      14.586       1.000
  17   20     -3547.187      15.856       1.000
  18   21     -3547.641      13.497       1.000
  19   22     -3549.101      20.596       1.000
  20   23     -3549.523      34.394       1.000
  21   25     -3549.741      14.877       0.425
  22   26     -3549.952       6.093       1.000
  23   27     -3550.047       6.465       1.000
  24   29     -3550.252      15.361       0.316
  25   30     -3550.405       7.828       1.000
  26   31     -3550.492      13.986       1.000
  27   32     -3550.692      17.743       1.000
  28   33     -3550.814       7.388       1.000
  29   34     -3550.869       4.833       1.000
  30   35     -3550.901       2.858       1.000
  31   37     -3550.951       6.682       0.386
  32   39     -3550.955       6.853       0.211
  33   40     -3550.987       4.056       1.000
  34   42     -3551.003       5.314       0.452
  35   43     -3551.022       7.681       1.000
  36   44     -3551.081       5.536       1.000
  37   46     -3551.109      16.061       0.511
  38   48     -3551.147      11.766       0.332
  39   49     -3551.178       9.444       1.000
  40   51     -3551.198       3.304       0.397
  41   52     -3551.201       5.329       1.000
  42   53     -3551.205       2.430       1.000
  43   54     -3551.208       2.840       1.000
  44   57     -3551.230       5.498       3.093
  45   59     -3551.233       6.308       0.375
  46   60     -3551.243       3.557       1.000
  47   61     -3551.248       2.612       1.000
Final RAS Transform: 
0.957772 0.0092722 -0.0152509 0.623122 
-0.0161159 1.02328 0.0693721 1.10657 
0.0382001 -0.0161156 1.02138 -0.63779 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2647.55   GNORM= 293.577
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2664.360     101.281       0.000
   2    4     -2668.399      86.186       1.000
   3    5     -2675.013      60.593       1.000
   4    6     -2677.447      37.385       1.000
   5    7     -2680.887      52.827       1.000
   6    8     -2686.572      91.827       1.000
   7    9     -2691.980      68.387       1.000
   8   10     -2693.776     127.705       1.000
   9   11     -2698.393      24.571       1.000
  10   12     -2699.005      20.593       1.000
  11   13     -2699.901      29.111       1.000
  12   14     -2702.420      37.696       1.000
  13   16     -2703.757      34.734       0.276
  14   17     -2705.357      40.788       1.000
  15   18     -2706.703      26.541       1.000
  16   19     -2708.205      33.903       1.000
  17   20     -2710.833      21.413       1.000
  18   21     -2712.914      39.769       1.000
  19   22     -2713.761      29.444       1.000
  20   23     -2714.203      17.331       1.000
  21   25     -2714.487      10.217       0.523
  22   26     -2714.578       7.130       1.000
  23   27     -2714.660       7.869       1.000
  24   28     -2714.779      10.610       1.000
  25   29     -2715.093      13.689       1.000
  26   31     -2715.189      16.726       0.491
  27   33     -2715.278       6.190       0.488
  28   34     -2715.306       7.826       1.000
  29   35     -2715.424       8.679       1.000
  30   37     -2715.480       6.653       0.194
  31   38     -2715.552       4.965       1.000
  32   39     -2715.652       9.379       1.000
  33   40     -2715.927      19.267       1.000
  34   41     -2716.287      13.747       1.000
  35   42     -2716.729      12.873       1.000
  36   44     -2716.809       7.224       0.119
  37   45     -2716.928       5.130       1.000
  38   46     -2716.992       7.122       1.000
  39   47     -2717.011      13.307       1.000
  40   48     -2717.087       8.064       1.000
  41   49     -2717.131       3.231       1.000
  42   50     -2717.145       9.943       1.000
  43   51     -2717.170       3.293       1.000
  44   52     -2717.179       2.877       1.000
  45   53     -2717.185       5.803       1.000
  46   54     -2717.198       3.882       1.000
  47   55     -2717.217       5.033       1.000
  48   56     -2717.225      10.961       1.000
  49   57     -2717.254       7.953       1.000
  50   58     -2717.304       8.789       1.000
  51   59     -2717.330       7.592       1.000
  52   60     -2717.382       1.955       1.000
  53   61     -2717.411       2.646       1.000
Final RAS Transform: 
0.981659 -0.00695319 -0.014214 -0.263689 
-0.00298971 1.02627 0.0752168 0.772022 
0.014905 -0.0108409 1.01947 -0.0894123 
0 0 0 1 

Final RAS Transform: 
0.981659 -0.00695319 -0.014214 -0.263689 
-0.00298971 1.02627 0.0752168 0.772022 
0.014905 -0.0108409 1.01947 -0.0894123 
0 0 0 1 


real	0m10.645s
user	0m18.604s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.429936
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1006
Level     0,  Iter     1:    Energy =   0.1070
Level     0,  Iter     2:    Energy =   0.1110
Level     0,  Iter     3:    Energy =   0.1152
Level     0,  Iter     4:    Energy =   0.1171
Level     0,  Iter     5:    Energy =   0.1187
Level     0,  Iter     6:    Energy =   0.1198
Level     0,  Iter     7:    Energy =   0.1210
Level     0,  Iter     8:    Energy =   0.1219
Level     0,  Iter     9:    Energy =   0.1226
Level     0,  Iter    10:    Energy =   0.1234
Level     0,  Iter    11:    Energy =   0.1238
Level     0,  Iter    12:    Energy =   0.1244
Level     0,  Iter    13:    Energy =   0.1247
Level     0,  Iter    14:    Energy =   0.1251
Level     0,  Iter    15:    Energy =   0.1253
Level     0,  Iter    16:    Energy =   0.1257
Level     0,  Iter    17:    Energy =   0.1258
Level     0,  Iter    18:    Energy =   0.1262
Level     0,  Iter    19:    Energy =   0.1264
Level     0,  Iter    20:    Energy =   0.1267
Level     0,  Iter    21:    Energy =   0.1267
Level     0,  Iter    22:    Energy =   0.1271
Level     0,  Iter    23:    Energy =   0.1271
Level     0,  Iter    24:    Energy =   0.1274
Level     0,  Iter    25:    Energy =   0.1275
Level     0,  Iter    26:    Energy =   0.1278
Level     0,  Iter    27:    Energy =   0.1278
Level     0,  Iter    28:    Energy =   0.1281
Level     0,  Iter    29:    Energy =   0.1280
Level     0,  Iter    30:    Energy =   0.1284
Level     0,  Iter    31:    Energy =   0.1284
Level     0,  Iter    32:    Energy =   0.1287
Level     0,  Iter    33:    Energy =   0.1286
Level     0,  Iter    34:    Energy =   0.1289
Level     0,  Iter    35:    Energy =   0.1288
Level     0,  Iter    36:    Energy =   0.1290
Level     0,  Iter    37:    Energy =   0.1289
Level     0,  Iter    38:    Energy =   0.1292
Level     0,  Iter    39:    Energy =   0.1291
Level     0,  Iter    40:    Energy =   0.1294
Level     0,  Iter    41:    Energy =   0.1291
Level     0,  Iter    42:    Energy =   0.1295
Level     0,  Iter    43:    Energy =   0.1295
Level     0,  Iter    44:    Energy =   0.1297
Level     0,  Iter    45:    Energy =   0.1296
Level     0,  Iter    46:    Energy =   0.1298
Level     0,  Iter    47:    Energy =   0.1297
Level     0,  Iter    48:    Energy =   0.1299
Level     0,  Iter    49:    Energy =   0.1298
Level     0,  Iter    50:    Energy =   0.1301
Level     0,  Iter    51:    Energy =   0.1300
Level     0,  Iter    52:    Energy =   0.1301
Level     0,  Iter    53:    Energy =   0.1301
Level     0,  Iter    54:    Energy =   0.1303
Level     0,  Iter    55:    Energy =   0.1302
Level     0,  Iter    56:    Energy =   0.1303
Level     0,  Iter    57:    Energy =   0.1302
Level     0,  Iter    58:    Energy =   0.1305
Level     0,  Iter    59:    Energy =   0.1303
END OF LEVEL     0    DetJac Range:   0.2237  to   2.2767 
  Avg. Gradient Time  : 0.0087s  34.87% 
  Avg. Gaussian Time  : 0.0123s  49.33% 
  Avg. Iteration Time : 0.0249s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0940
Level     1,  Iter     1:    Energy =   0.0985
Level     1,  Iter     2:    Energy =   0.1025
Level     1,  Iter     3:    Energy =   0.1047
Level     1,  Iter     4:    Energy =   0.1067
Level     1,  Iter     5:    Energy =   0.1092
Level     1,  Iter     6:    Energy =   0.1114
Level     1,  Iter     7:    Energy =   0.1131
Level     1,  Iter     8:    Energy =   0.1146
Level     1,  Iter     9:    Energy =   0.1159
Level     1,  Iter    10:    Energy =   0.1166
Level     1,  Iter    11:    Energy =   0.1165
Level     1,  Iter    12:    Energy =   0.1176
Level     1,  Iter    13:    Energy =   0.1173
Level     1,  Iter    14:    Energy =   0.1182
Level     1,  Iter    15:    Energy =   0.1180
Level     1,  Iter    16:    Energy =   0.1186
Level     1,  Iter    17:    Energy =   0.1183
Level     1,  Iter    18:    Energy =   0.1189
Level     1,  Iter    19:    Energy =   0.1187
Level     1,  Iter    20:    Energy =   0.1194
Level     1,  Iter    21:    Energy =   0.1189
Level     1,  Iter    22:    Energy =   0.1195
Level     1,  Iter    23:    Energy =   0.1193
Level     1,  Iter    24:    Energy =   0.1197
Level     1,  Iter    25:    Energy =   0.1192
Level     1,  Iter    26:    Energy =   0.1198
Level     1,  Iter    27:    Energy =   0.1195
Level     1,  Iter    28:    Energy =   0.1200
Level     1,  Iter    29:    Energy =   0.1195
Level     1,  Iter    30:    Energy =   0.1201
Level     1,  Iter    31:    Energy =   0.1197
Level     1,  Iter    32:    Energy =   0.1203
Level     1,  Iter    33:    Energy =   0.1198
Level     1,  Iter    34:    Energy =   0.1204
Level     1,  Iter    35:    Energy =   0.1200
Level     1,  Iter    36:    Energy =   0.1205
Level     1,  Iter    37:    Energy =   0.1201
Level     1,  Iter    38:    Energy =   0.1206
Level     1,  Iter    39:    Energy =   0.1203
Level     1,  Iter    40:    Energy =   0.1206
Level     1,  Iter    41:    Energy =   0.1202
Level     1,  Iter    42:    Energy =   0.1208
Level     1,  Iter    43:    Energy =   0.1204
Level     1,  Iter    44:    Energy =   0.1207
Level     1,  Iter    45:    Energy =   0.1203
Level     1,  Iter    46:    Energy =   0.1209
Level     1,  Iter    47:    Energy =   0.1205
Level     1,  Iter    48:    Energy =   0.1210
Level     1,  Iter    49:    Energy =   0.1206
Level     1,  Iter    50:    Energy =   0.1210
Level     1,  Iter    51:    Energy =   0.1206
Level     1,  Iter    52:    Energy =   0.1211
Level     1,  Iter    53:    Energy =   0.1207
Level     1,  Iter    54:    Energy =   0.1212
Level     1,  Iter    55:    Energy =   0.1207
Level     1,  Iter    56:    Energy =   0.1212
Level     1,  Iter    57:    Energy =   0.1208
Level     1,  Iter    58:    Energy =   0.1212
Level     1,  Iter    59:    Energy =   0.1208
END OF LEVEL     1    DetJac Range:   0.0563  to   3.2306 
  Avg. Gradient Time  : 0.0488s  32.49% 
  Avg. Gaussian Time  : 0.0818s  54.45% 
  Avg. Iteration Time : 0.1501s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0651
Level     2,  Iter     1:    Energy =   0.0677
Level     2,  Iter     2:    Energy =   0.0702
Level     2,  Iter     3:    Energy =   0.0722
Level     2,  Iter     4:    Energy =   0.0740
Level     2,  Iter     5:    Energy =   0.0755
Level     2,  Iter     6:    Energy =   0.0769
Level     2,  Iter     7:    Energy =   0.0784
Level     2,  Iter     8:    Energy =   0.0798
Level     2,  Iter     9:    Energy =   0.0810
Level     2,  Iter    10:    Energy =   0.0820
Level     2,  Iter    11:    Energy =   0.0828
Level     2,  Iter    12:    Energy =   0.0835
Level     2,  Iter    13:    Energy =   0.0840
Level     2,  Iter    14:    Energy =   0.0845
Level     2,  Iter    15:    Energy =   0.0850
Level     2,  Iter    16:    Energy =   0.0854
Level     2,  Iter    17:    Energy =   0.0857
Level     2,  Iter    18:    Energy =   0.0860
Level     2,  Iter    19:    Energy =   0.0863
END OF LEVEL     2    DetJac Range:   0.0283  to   4.5471 
  Avg. Gradient Time  : 0.3291s  27.59% 
  Avg. Gaussian Time  : 0.7170s  60.10% 
  Avg. Iteration Time : 1.1929s 

real	0m39.721s
user	1m12.148s
sys	0m2.464s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.390385 0.396154
+ echo 'CHUNK 0.390385 0.396154 1'
CHUNK 0.390385 0.396154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.390385 0.396154 1
====================================
         PROGRESS: 0.390385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.414324
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2648.73   GNORM= 481.993
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2733.619     228.952       0.001
   2    4     -2763.667     205.134       1.000
   3    5     -2835.763     206.874       1.000
   4    6     -2863.383     116.253       1.000
   5    7     -2893.711     132.330       1.000
   6    8     -2914.529     120.914       1.000
   7    9     -2936.664      97.222       1.000
   8   10     -2971.942     149.364       1.000
   9   11     -2980.017     102.094       1.000
  10   12     -2984.524      46.135       1.000
  11   13     -2987.895      58.420       1.000
  12   14     -2995.019      92.951       1.000
  13   15     -3012.909      80.620       1.000
  14   17     -3021.894      61.121       0.440
  15   18     -3027.806      52.891       1.000
  16   20     -3029.974      85.280       0.394
  17   21     -3031.956      41.072       1.000
  18   22     -3033.330      21.382       1.000
  19   23     -3033.642      39.089       1.000
  20   24     -3034.253      17.877       1.000
  21   25     -3034.456      12.827       1.000
  22   26     -3034.906      16.648       1.000
  23   27     -3035.648      24.281       1.000
  24   28     -3036.307      13.495       1.000
  25   29     -3036.532       9.780       1.000
  26   30     -3037.040      25.250       1.000
  27   31     -3037.354      11.236       1.000
  28   33     -3037.394       8.020       0.182
  29   34     -3037.502       8.870       1.000
  30   35     -3037.779      15.653       1.000
  31   37     -3037.925      14.305       0.500
  32   38     -3037.955      18.421       1.000
  33   39     -3038.145      14.338       1.000
  34   40     -3038.249       8.777       1.000
  35   41     -3038.360       7.230       1.000
  36   42     -3038.475       8.233       1.000
  37   44     -3038.518       9.308       0.177
  38   45     -3038.538       5.996       1.000
  39   46     -3038.578       9.975       1.000
  40   47     -3038.647       6.180       1.000
  41   49     -3038.649       3.707       0.233
  42   50     -3038.664       3.680       1.000
  43   51     -3038.679       4.717       1.000
  44   52     -3038.685       7.538       1.000
  45   53     -3038.700       2.292       1.000
  46   54     -3038.702       1.715       1.000
  47   55     -3038.709       3.759       1.000
  48   56     -3038.719       3.811       1.000
  49   59     -3038.721       2.783       0.095
  50   60     -3038.725       1.464       1.000
Final RAS Transform: 
0.917631 0.0253463 -0.0547408 1.75482 
0.00747519 1.01433 0.0887866 0.226717 
0.0272871 -0.0276488 1.01808 -0.854423 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2191.65   GNORM= 135.442
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2197.055      46.259       0.001
   2    4     -2198.412      48.488       1.000
   3    5     -2203.857     104.879       1.000
   4    6     -2210.688     118.938       1.000
   5    7     -2241.564     184.668       1.000
   6    8     -2252.163     142.526       1.000
   7    9     -2264.791      52.263       1.000
   8   10     -2267.487      22.717       1.000
   9   11     -2268.493      43.279       1.000
  10   12     -2269.518      35.169       1.000
  11   13     -2273.864      54.535       1.000
  12   14     -2279.825      74.231       1.000
  13   15     -2284.285      38.297       1.000
  14   16     -2287.046      28.617       1.000
  15   18     -2287.533      20.394       0.290
  16   19     -2288.163      26.973       1.000
  17   20     -2289.574      19.328       1.000
  18   21     -2291.073      13.389       1.000
  19   22     -2292.434      26.595       1.000
  20   23     -2293.756      15.448       1.000
  21   24     -2294.572      19.554       1.000
  22   26     -2295.159      21.902       0.428
  23   27     -2295.535       9.491       1.000
  24   28     -2295.794      14.543       1.000
  25   29     -2295.922      25.758       1.000
  26   30     -2296.072      14.217       1.000
  27   31     -2296.217       9.896       1.000
  28   32     -2296.513       6.673       1.000
  29   33     -2297.123      13.937       1.000
  30   34     -2297.743      16.192       1.000
  31   36     -2298.525      14.767       0.447
  32   38     -2298.674      20.652       0.206
  33   39     -2298.864      11.796       1.000
  34   40     -2299.029       9.690       1.000
  35   41     -2299.215       7.736       1.000
  36   42     -2300.208      26.263       1.000
  37   43     -2301.049      26.598       1.000
  38   45     -2301.543      42.115       0.274
  39   46     -2302.119      18.053       1.000
  40   47     -2302.380       6.020       1.000
  41   48     -2302.507       8.033       1.000
  42   49     -2302.701      11.185       1.000
  43   50     -2303.295      16.595       1.000
  44   51     -2303.775      27.488       1.000
  45   52     -2304.183      11.055       1.000
  46   53     -2304.274       8.756       1.000
  47   54     -2304.307       4.197       1.000
  48   55     -2304.337       3.762       1.000
  49   56     -2304.373       3.728       1.000
  50   57     -2304.402       8.177       1.000
  51   58     -2304.439       5.880       1.000
  52   59     -2304.479       2.703       1.000
  53   60     -2304.511       2.260       1.000
Final RAS Transform: 
0.969814 0.0356967 -0.0314415 0.921554 
-0.0359738 1.00557 0.0804024 0.946188 
0.0276958 -0.00850965 1.06004 -0.0750194 
0 0 0 1 

Final RAS Transform: 
0.969814 0.0356967 -0.0314415 0.921554 
-0.0359738 1.00557 0.0804024 0.946188 
0.0276958 -0.00850965 1.06004 -0.0750194 
0 0 0 1 


real	0m10.242s
user	0m17.860s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.419854
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0842
Level     0,  Iter     1:    Energy =   0.0893
Level     0,  Iter     2:    Energy =   0.0934
Level     0,  Iter     3:    Energy =   0.0966
Level     0,  Iter     4:    Energy =   0.0986
Level     0,  Iter     5:    Energy =   0.0998
Level     0,  Iter     6:    Energy =   0.1013
Level     0,  Iter     7:    Energy =   0.1021
Level     0,  Iter     8:    Energy =   0.1033
Level     0,  Iter     9:    Energy =   0.1040
Level     0,  Iter    10:    Energy =   0.1048
Level     0,  Iter    11:    Energy =   0.1052
Level     0,  Iter    12:    Energy =   0.1059
Level     0,  Iter    13:    Energy =   0.1062
Level     0,  Iter    14:    Energy =   0.1068
Level     0,  Iter    15:    Energy =   0.1070
Level     0,  Iter    16:    Energy =   0.1074
Level     0,  Iter    17:    Energy =   0.1076
Level     0,  Iter    18:    Energy =   0.1079
Level     0,  Iter    19:    Energy =   0.1081
Level     0,  Iter    20:    Energy =   0.1081
Level     0,  Iter    21:    Energy =   0.1083
Level     0,  Iter    22:    Energy =   0.1086
Level     0,  Iter    23:    Energy =   0.1086
Level     0,  Iter    24:    Energy =   0.1086
Level     0,  Iter    25:    Energy =   0.1087
Level     0,  Iter    26:    Energy =   0.1088
Level     0,  Iter    27:    Energy =   0.1089
Level     0,  Iter    28:    Energy =   0.1088
Level     0,  Iter    29:    Energy =   0.1089
Level     0,  Iter    30:    Energy =   0.1092
Level     0,  Iter    31:    Energy =   0.1092
Level     0,  Iter    32:    Energy =   0.1091
Level     0,  Iter    33:    Energy =   0.1091
Level     0,  Iter    34:    Energy =   0.1091
Level     0,  Iter    35:    Energy =   0.1092
Level     0,  Iter    36:    Energy =   0.1094
Level     0,  Iter    37:    Energy =   0.1094
Level     0,  Iter    38:    Energy =   0.1093
Level     0,  Iter    39:    Energy =   0.1094
Level     0,  Iter    40:    Energy =   0.1096
Level     0,  Iter    41:    Energy =   0.1096
Level     0,  Iter    42:    Energy =   0.1094
Level     0,  Iter    43:    Energy =   0.1095
Level     0,  Iter    44:    Energy =   0.1097
Level     0,  Iter    45:    Energy =   0.1097
Level     0,  Iter    46:    Energy =   0.1095
Level     0,  Iter    47:    Energy =   0.1096
Level     0,  Iter    48:    Energy =   0.1098
Level     0,  Iter    49:    Energy =   0.1098
Level     0,  Iter    50:    Energy =   0.1096
Level     0,  Iter    51:    Energy =   0.1097
Level     0,  Iter    52:    Energy =   0.1099
Level     0,  Iter    53:    Energy =   0.1099
Level     0,  Iter    54:    Energy =   0.1097
Level     0,  Iter    55:    Energy =   0.1098
Level     0,  Iter    56:    Energy =   0.1099
Level     0,  Iter    57:    Energy =   0.1099
Level     0,  Iter    58:    Energy =   0.1098
Level     0,  Iter    59:    Energy =   0.1099
END OF LEVEL     0    DetJac Range:   0.2341  to   1.9511 
  Avg. Gradient Time  : 0.0077s  34.59% 
  Avg. Gaussian Time  : 0.0111s  49.83% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0772
Level     1,  Iter     1:    Energy =   0.0805
Level     1,  Iter     2:    Energy =   0.0836
Level     1,  Iter     3:    Energy =   0.0869
Level     1,  Iter     4:    Energy =   0.0894
Level     1,  Iter     5:    Energy =   0.0918
Level     1,  Iter     6:    Energy =   0.0940
Level     1,  Iter     7:    Energy =   0.0958
Level     1,  Iter     8:    Energy =   0.0970
Level     1,  Iter     9:    Energy =   0.0978
Level     1,  Iter    10:    Energy =   0.0989
Level     1,  Iter    11:    Energy =   0.0996
Level     1,  Iter    12:    Energy =   0.0998
Level     1,  Iter    13:    Energy =   0.1004
Level     1,  Iter    14:    Energy =   0.1005
Level     1,  Iter    15:    Energy =   0.1010
Level     1,  Iter    16:    Energy =   0.1011
Level     1,  Iter    17:    Energy =   0.1016
Level     1,  Iter    18:    Energy =   0.1016
Level     1,  Iter    19:    Energy =   0.1020
Level     1,  Iter    20:    Energy =   0.1020
Level     1,  Iter    21:    Energy =   0.1024
Level     1,  Iter    22:    Energy =   0.1024
Level     1,  Iter    23:    Energy =   0.1027
Level     1,  Iter    24:    Energy =   0.1026
Level     1,  Iter    25:    Energy =   0.1029
Level     1,  Iter    26:    Energy =   0.1028
Level     1,  Iter    27:    Energy =   0.1031
Level     1,  Iter    28:    Energy =   0.1031
Level     1,  Iter    29:    Energy =   0.1033
Level     1,  Iter    30:    Energy =   0.1032
Level     1,  Iter    31:    Energy =   0.1035
Level     1,  Iter    32:    Energy =   0.1034
Level     1,  Iter    33:    Energy =   0.1036
Level     1,  Iter    34:    Energy =   0.1035
Level     1,  Iter    35:    Energy =   0.1038
Level     1,  Iter    36:    Energy =   0.1037
Level     1,  Iter    37:    Energy =   0.1040
Level     1,  Iter    38:    Energy =   0.1038
Level     1,  Iter    39:    Energy =   0.1041
Level     1,  Iter    40:    Energy =   0.1039
Level     1,  Iter    41:    Energy =   0.1042
Level     1,  Iter    42:    Energy =   0.1041
Level     1,  Iter    43:    Energy =   0.1044
Level     1,  Iter    44:    Energy =   0.1042
Level     1,  Iter    45:    Energy =   0.1045
Level     1,  Iter    46:    Energy =   0.1044
Level     1,  Iter    47:    Energy =   0.1046
Level     1,  Iter    48:    Energy =   0.1044
Level     1,  Iter    49:    Energy =   0.1047
Level     1,  Iter    50:    Energy =   0.1046
Level     1,  Iter    51:    Energy =   0.1048
Level     1,  Iter    52:    Energy =   0.1047
Level     1,  Iter    53:    Energy =   0.1049
Level     1,  Iter    54:    Energy =   0.1047
Level     1,  Iter    55:    Energy =   0.1050
Level     1,  Iter    56:    Energy =   0.1048
Level     1,  Iter    57:    Energy =   0.1050
Level     1,  Iter    58:    Energy =   0.1049
Level     1,  Iter    59:    Energy =   0.1051
END OF LEVEL     1    DetJac Range:   0.0686  to   3.0022 
  Avg. Gradient Time  : 0.0431s  32.80% 
  Avg. Gaussian Time  : 0.0713s  54.30% 
  Avg. Iteration Time : 0.1313s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0561
Level     2,  Iter     1:    Energy =   0.0587
Level     2,  Iter     2:    Energy =   0.0604
Level     2,  Iter     3:    Energy =   0.0621
Level     2,  Iter     4:    Energy =   0.0636
Level     2,  Iter     5:    Energy =   0.0649
Level     2,  Iter     6:    Energy =   0.0662
Level     2,  Iter     7:    Energy =   0.0674
Level     2,  Iter     8:    Energy =   0.0687
Level     2,  Iter     9:    Energy =   0.0698
Level     2,  Iter    10:    Energy =   0.0709
Level     2,  Iter    11:    Energy =   0.0720
Level     2,  Iter    12:    Energy =   0.0732
Level     2,  Iter    13:    Energy =   0.0741
Level     2,  Iter    14:    Energy =   0.0748
Level     2,  Iter    15:    Energy =   0.0753
Level     2,  Iter    16:    Energy =   0.0758
Level     2,  Iter    17:    Energy =   0.0761
Level     2,  Iter    18:    Energy =   0.0764
Level     2,  Iter    19:    Energy =   0.0767
END OF LEVEL     2    DetJac Range:   0.0427  to   4.4874 
  Avg. Gradient Time  : 0.3063s  26.67% 
  Avg. Gaussian Time  : 0.7044s  61.34% 
  Avg. Iteration Time : 1.1485s 

real	0m37.170s
user	1m7.396s
sys	0m2.208s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.396154 0.401923
+ echo 'CHUNK 0.396154 0.401923 1'
CHUNK 0.396154 0.401923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.396154 0.401923 1
====================================
         PROGRESS: 0.396154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.777078
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3769.73   GNORM= 500.96
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3831.798     657.377       0.002
   2    3     -3946.383     269.706       1.000
   3    4     -3964.386     125.523       1.000
   4    5     -3977.125     124.995       1.000
   5    6     -4006.598     185.855       1.000
   6    7     -4030.143     159.229       1.000
   7    8     -4059.658     111.556       1.000
   8    9     -4107.077     123.084       1.000
   9   10     -4109.234     299.032       1.000
  10   11     -4133.245      66.411       1.000
  11   12     -4135.497      44.320       1.000
  12   13     -4138.397      50.066       1.000
  13   15     -4142.402      82.743       0.338
  14   16     -4146.008      36.155       1.000
  15   17     -4147.070      21.764       1.000
  16   18     -4147.858      18.570       1.000
  17   19     -4148.762      24.983       1.000
  18   21     -4149.176      21.485       0.414
  19   22     -4149.453      24.521       1.000
  20   23     -4149.968      31.806       1.000
  21   24     -4150.239      19.512       1.000
  22   25     -4150.443      17.689       1.000
  23   26     -4150.589      13.770       1.000
  24   27     -4150.703      10.859       1.000
  25   28     -4150.918       9.629       1.000
  26   29     -4151.046       7.138       1.000
  27   31     -4151.093       5.873       0.184
  28   32     -4151.112       9.397       1.000
  29   33     -4151.148       5.807       1.000
  30   34     -4151.172       4.401       1.000
  31   35     -4151.212       7.112       1.000
  32   36     -4151.272       6.646       1.000
  33   38     -4151.317       6.410       0.466
  34   39     -4151.330       6.377       1.000
  35   40     -4151.352       5.021       1.000
  36   41     -4151.363       3.809       1.000
  37   42     -4151.375       4.058       1.000
  38   44     -4151.386       3.734       0.494
  39   46     -4151.391       4.128       0.193
  40   47     -4151.395       3.632       1.000
Final RAS Transform: 
0.956525 0.0217912 0.000649185 1.034 
0.014789 1.00611 0.0258064 -0.0321058 
0.0574496 -0.00888137 1.03795 -0.578376 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2908.37   GNORM= 132.638
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2914.357      94.379       0.001
   2    4     -2918.039      57.005       1.000
   3    5     -2920.973      51.906       1.000
   4    6     -2924.437      64.692       1.000
   5    7     -2941.515     150.007       1.000
   6    8     -2951.519     109.494       1.000
   7    9     -2961.236     109.663       1.000
   8   11     -2964.691      49.137       0.410
   9   12     -2966.005      49.457       1.000
  10   13     -2973.405      34.957       1.000
  11   14     -2975.810      34.463       1.000
  12   15     -2976.943      36.426       1.000
  13   16     -2978.373      30.687       1.000
  14   17     -2980.362     124.237       1.000
  15   18     -2982.776      36.325       1.000
  16   19     -2983.196      12.443       1.000
  17   20     -2983.328      12.310       1.000
  18   21     -2983.830      19.404       1.000
  19   22     -2984.902      39.445       1.000
  20   23     -2986.171      46.345       1.000
  21   25     -2986.711      51.072       0.205
  22   26     -2988.165      15.528       1.000
  23   27     -2988.409      12.914       1.000
  24   28     -2988.710      12.425       1.000
  25   29     -2989.097      11.162       1.000
  26   31     -2989.409      20.415       0.497
  27   32     -2989.834      13.308       1.000
  28   33     -2990.276      17.727       1.000
  29   34     -2990.527      23.713       1.000
  30   35     -2990.772      20.896       1.000
  31   37     -2991.068      13.118       0.390
  32   38     -2991.158       7.268       1.000
  33   39     -2991.303       7.750       1.000
  34   40     -2991.451      12.406       1.000
  35   42     -2991.520       9.568       0.288
  36   43     -2991.658       7.899       1.000
  37   44     -2991.759      23.026       1.000
  38   45     -2991.870       5.436       1.000
  39   46     -2991.891       4.725       1.000
  40   47     -2991.940       3.736       1.000
  41   49     -2991.989      10.021       0.427
  42   50     -2992.056       8.625       1.000
  43   51     -2992.157      10.240       1.000
  44   52     -2992.281       7.200       1.000
  45   54     -2992.321      12.008       0.422
  46   55     -2992.372       4.941       1.000
  47   56     -2992.422       5.511       1.000
  48   58     -2992.445       6.011       0.368
  49   59     -2992.464       6.789       1.000
  50   60     -2992.517       6.053       1.000
  51   61     -2992.552       4.226       1.000
Final RAS Transform: 
0.96737 0.00884221 -0.00710523 0.466573 
0.026361 1.01157 0.0457607 -0.105243 
0.0137118 -0.00940387 1.01526 0.147946 
0 0 0 1 

Final RAS Transform: 
0.96737 0.00884221 -0.00710523 0.466573 
0.026361 1.01157 0.0457607 -0.105243 
0.0137118 -0.00940387 1.01526 0.147946 
0 0 0 1 


real	0m10.295s
user	0m17.972s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.77412
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1174
Level     0,  Iter     1:    Energy =   0.1235
Level     0,  Iter     2:    Energy =   0.1294
Level     0,  Iter     3:    Energy =   0.1327
Level     0,  Iter     4:    Energy =   0.1350
Level     0,  Iter     5:    Energy =   0.1363
Level     0,  Iter     6:    Energy =   0.1374
Level     0,  Iter     7:    Energy =   0.1381
Level     0,  Iter     8:    Energy =   0.1390
Level     0,  Iter     9:    Energy =   0.1394
Level     0,  Iter    10:    Energy =   0.1402
Level     0,  Iter    11:    Energy =   0.1405
Level     0,  Iter    12:    Energy =   0.1411
Level     0,  Iter    13:    Energy =   0.1413
Level     0,  Iter    14:    Energy =   0.1419
Level     0,  Iter    15:    Energy =   0.1420
Level     0,  Iter    16:    Energy =   0.1426
Level     0,  Iter    17:    Energy =   0.1425
Level     0,  Iter    18:    Energy =   0.1429
Level     0,  Iter    19:    Energy =   0.1430
Level     0,  Iter    20:    Energy =   0.1433
Level     0,  Iter    21:    Energy =   0.1432
Level     0,  Iter    22:    Energy =   0.1436
Level     0,  Iter    23:    Energy =   0.1436
Level     0,  Iter    24:    Energy =   0.1438
Level     0,  Iter    25:    Energy =   0.1436
Level     0,  Iter    26:    Energy =   0.1439
Level     0,  Iter    27:    Energy =   0.1438
Level     0,  Iter    28:    Energy =   0.1441
Level     0,  Iter    29:    Energy =   0.1439
Level     0,  Iter    30:    Energy =   0.1443
Level     0,  Iter    31:    Energy =   0.1442
Level     0,  Iter    32:    Energy =   0.1446
Level     0,  Iter    33:    Energy =   0.1444
Level     0,  Iter    34:    Energy =   0.1447
Level     0,  Iter    35:    Energy =   0.1446
Level     0,  Iter    36:    Energy =   0.1450
Level     0,  Iter    37:    Energy =   0.1447
Level     0,  Iter    38:    Energy =   0.1450
Level     0,  Iter    39:    Energy =   0.1448
Level     0,  Iter    40:    Energy =   0.1451
Level     0,  Iter    41:    Energy =   0.1447
Level     0,  Iter    42:    Energy =   0.1450
Level     0,  Iter    43:    Energy =   0.1448
Level     0,  Iter    44:    Energy =   0.1451
Level     0,  Iter    45:    Energy =   0.1448
Level     0,  Iter    46:    Energy =   0.1450
Level     0,  Iter    47:    Energy =   0.1448
Level     0,  Iter    48:    Energy =   0.1451
Level     0,  Iter    49:    Energy =   0.1448
Level     0,  Iter    50:    Energy =   0.1450
Level     0,  Iter    51:    Energy =   0.1448
Level     0,  Iter    52:    Energy =   0.1451
Level     0,  Iter    53:    Energy =   0.1448
Level     0,  Iter    54:    Energy =   0.1451
Level     0,  Iter    55:    Energy =   0.1449
Level     0,  Iter    56:    Energy =   0.1451
Level     0,  Iter    57:    Energy =   0.1448
Level     0,  Iter    58:    Energy =   0.1451
Level     0,  Iter    59:    Energy =   0.1449
END OF LEVEL     0    DetJac Range:   0.2773  to   2.4879 
  Avg. Gradient Time  : 0.0086s  34.69% 
  Avg. Gaussian Time  : 0.0123s  49.35% 
  Avg. Iteration Time : 0.0249s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0984
Level     1,  Iter     1:    Energy =   0.1024
Level     1,  Iter     2:    Energy =   0.1055
Level     1,  Iter     3:    Energy =   0.1082
Level     1,  Iter     4:    Energy =   0.1109
Level     1,  Iter     5:    Energy =   0.1136
Level     1,  Iter     6:    Energy =   0.1158
Level     1,  Iter     7:    Energy =   0.1177
Level     1,  Iter     8:    Energy =   0.1193
Level     1,  Iter     9:    Energy =   0.1207
Level     1,  Iter    10:    Energy =   0.1220
Level     1,  Iter    11:    Energy =   0.1229
Level     1,  Iter    12:    Energy =   0.1228
Level     1,  Iter    13:    Energy =   0.1238
Level     1,  Iter    14:    Energy =   0.1240
Level     1,  Iter    15:    Energy =   0.1241
Level     1,  Iter    16:    Energy =   0.1243
Level     1,  Iter    17:    Energy =   0.1246
Level     1,  Iter    18:    Energy =   0.1244
Level     1,  Iter    19:    Energy =   0.1250
Level     1,  Iter    20:    Energy =   0.1248
Level     1,  Iter    21:    Energy =   0.1252
Level     1,  Iter    22:    Energy =   0.1250
Level     1,  Iter    23:    Energy =   0.1253
Level     1,  Iter    24:    Energy =   0.1250
Level     1,  Iter    25:    Energy =   0.1253
Level     1,  Iter    26:    Energy =   0.1251
Level     1,  Iter    27:    Energy =   0.1252
Level     1,  Iter    28:    Energy =   0.1252
Level     1,  Iter    29:    Energy =   0.1252
Level     1,  Iter    30:    Energy =   0.1252
Level     1,  Iter    31:    Energy =   0.1252
Level     1,  Iter    32:    Energy =   0.1254
Level     1,  Iter    33:    Energy =   0.1252
Level     1,  Iter    34:    Energy =   0.1255
Level     1,  Iter    35:    Energy =   0.1253
Level     1,  Iter    36:    Energy =   0.1256
Level     1,  Iter    37:    Energy =   0.1254
Level     1,  Iter    38:    Energy =   0.1257
Level     1,  Iter    39:    Energy =   0.1255
Level     1,  Iter    40:    Energy =   0.1257
Level     1,  Iter    41:    Energy =   0.1256
Level     1,  Iter    42:    Energy =   0.1258
Level     1,  Iter    43:    Energy =   0.1256
Level     1,  Iter    44:    Energy =   0.1258
Level     1,  Iter    45:    Energy =   0.1257
Level     1,  Iter    46:    Energy =   0.1259
Level     1,  Iter    47:    Energy =   0.1258
Level     1,  Iter    48:    Energy =   0.1260
Level     1,  Iter    49:    Energy =   0.1258
Level     1,  Iter    50:    Energy =   0.1260
Level     1,  Iter    51:    Energy =   0.1258
Level     1,  Iter    52:    Energy =   0.1260
Level     1,  Iter    53:    Energy =   0.1259
Level     1,  Iter    54:    Energy =   0.1260
Level     1,  Iter    55:    Energy =   0.1259
Level     1,  Iter    56:    Energy =   0.1261
Level     1,  Iter    57:    Energy =   0.1260
Level     1,  Iter    58:    Energy =   0.1261
Level     1,  Iter    59:    Energy =   0.1260
END OF LEVEL     1    DetJac Range:   0.1033  to   3.4948 
  Avg. Gradient Time  : 0.0485s  32.52% 
  Avg. Gaussian Time  : 0.0812s  54.41% 
  Avg. Iteration Time : 0.1492s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0647
Level     2,  Iter     1:    Energy =   0.0671
Level     2,  Iter     2:    Energy =   0.0692
Level     2,  Iter     3:    Energy =   0.0711
Level     2,  Iter     4:    Energy =   0.0732
Level     2,  Iter     5:    Energy =   0.0750
Level     2,  Iter     6:    Energy =   0.0768
Level     2,  Iter     7:    Energy =   0.0784
Level     2,  Iter     8:    Energy =   0.0797
Level     2,  Iter     9:    Energy =   0.0805
Level     2,  Iter    10:    Energy =   0.0812
Level     2,  Iter    11:    Energy =   0.0818
Level     2,  Iter    12:    Energy =   0.0824
Level     2,  Iter    13:    Energy =   0.0829
Level     2,  Iter    14:    Energy =   0.0835
Level     2,  Iter    15:    Energy =   0.0840
Level     2,  Iter    16:    Energy =   0.0845
Level     2,  Iter    17:    Energy =   0.0850
Level     2,  Iter    18:    Energy =   0.0850
Level     2,  Iter    19:    Energy =   0.0852
END OF LEVEL     2    DetJac Range:   0.0596  to   4.8807 
  Avg. Gradient Time  : 0.3477s  27.38% 
  Avg. Gaussian Time  : 0.7638s  60.16% 
  Avg. Iteration Time : 1.2697s 

real	0m41.368s
user	1m15.400s
sys	0m2.328s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401923 0.407692
+ echo 'CHUNK 0.401923 0.407692 1'
CHUNK 0.401923 0.407692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401923 0.407692 1
====================================
         PROGRESS: 0.401923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.482932
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3497.86   GNORM= 497.839
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3636.022     297.162       0.001
   2    4     -3665.171     227.441       1.000
   3    5     -3682.217     175.720       1.000
   4    6     -3735.611     123.840       1.000
   5    7     -3751.106      84.213       1.000
   6    8     -3758.753      71.960       1.000
   7    9     -3810.102     212.499       1.000
   8   11     -3818.537      88.508       0.374
   9   12     -3821.962      65.875       1.000
  10   13     -3826.278      51.518       1.000
  11   14     -3828.620      54.404       1.000
  12   15     -3835.832      70.966       1.000
  13   16     -3839.452      27.664       1.000
  14   17     -3840.447      30.183       1.000
  15   18     -3841.442      36.977       1.000
  16   19     -3842.876      20.202       1.000
  17   20     -3843.892      25.097       1.000
  18   22     -3844.619      18.280       0.322
  19   23     -3845.390      16.177       1.000
  20   24     -3845.909      19.368       1.000
  21   25     -3846.332      15.781       1.000
  22   26     -3846.839      33.062       1.000
  23   27     -3847.495      16.993       1.000
  24   29     -3848.102      16.261       0.419
  25   31     -3848.283      11.992       0.398
  26   32     -3848.375       6.533       1.000
  27   33     -3848.414       7.235       1.000
  28   34     -3848.463       8.079       1.000
  29   35     -3848.485       9.144       1.000
  30   36     -3848.562       9.308       1.000
  31   37     -3848.676       7.191       1.000
  32   38     -3848.742      11.373       1.000
  33   39     -3848.845       5.097       1.000
  34   40     -3848.866       4.305       1.000
  35   41     -3848.874       6.202       1.000
  36   42     -3848.895       5.216       1.000
Final RAS Transform: 
0.965296 0.014031 0.00209522 0.6063 
-0.036793 1.02143 0.0583827 1.4187 
0.045877 -0.0170475 1.0278 -0.778489 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2790.73   GNORM= 161.689
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2814.763     115.718       0.002
   2    5     -2818.181      41.534       0.387
   3    6     -2818.937      37.546       1.000
   4    7     -2824.552      58.888       1.000
   5    8     -2829.015      59.411       1.000
   6    9     -2834.579      42.885       1.000
   7   10     -2835.858      38.391       1.000
   8   11     -2837.140      37.433       1.000
   9   12     -2840.490      47.928       1.000
  10   14     -2841.065      25.584       0.397
  11   15     -2841.491      15.394       1.000
  12   16     -2841.680      15.014       1.000
  13   17     -2842.027      18.595       1.000
  14   18     -2842.672      22.432       1.000
  15   19     -2843.541      22.017       1.000
  16   20     -2844.446      41.515       1.000
  17   21     -2845.416      24.408       1.000
  18   22     -2845.846       9.966       1.000
  19   23     -2845.948       8.592       1.000
  20   24     -2845.994       9.131       1.000
  21   25     -2846.128       7.961       1.000
  22   27     -2846.472      22.486       0.221
  23   28     -2846.715      12.534       1.000
  24   29     -2846.813       9.341       1.000
  25   30     -2846.889       9.732       1.000
  26   31     -2846.925       5.335       1.000
  27   32     -2846.941       4.225       1.000
  28   33     -2846.990      21.946       1.000
  29   34     -2847.057       5.462       1.000
  30   35     -2847.066       3.789       1.000
  31   36     -2847.088       5.217       1.000
  32   37     -2847.153       8.719       1.000
  33   39     -2847.216      10.650       0.474
  34   40     -2847.236       6.844       1.000
  35   41     -2847.267       5.327       1.000
  36   43     -2847.314      21.025       5.000
  37   44     -2847.378      15.681       1.000
  38   45     -2847.457       3.319       1.000
  39   46     -2847.516       7.881       1.000
  40   47     -2847.563       4.383       1.000
  41   48     -2847.606      11.731       1.000
  42   49     -2847.640       3.904       1.000
  43   50     -2847.657       2.573       1.000
  44   51     -2847.662       2.988       1.000
  45   52     -2847.704       6.581       1.000
  46   54     -2847.726       6.123       0.422
  47   55     -2847.748       3.025       1.000
  48   56     -2847.766       4.829       1.000
  49   57     -2847.778       3.792       1.000
  50   59     -2847.800       2.605       0.184
Final RAS Transform: 
0.972415 0.003157 -0.00689379 0.171487 
-0.0200902 1.0162 0.052516 0.84991 
0.0378218 -0.0092178 1.05314 -0.219339 
0 0 0 1 

Final RAS Transform: 
0.972415 0.003157 -0.00689379 0.171487 
-0.0200902 1.0162 0.052516 0.84991 
0.0378218 -0.0092178 1.05314 -0.219339 
0 0 0 1 


real	0m10.779s
user	0m18.864s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.489469
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1083
Level     0,  Iter     1:    Energy =   0.1148
Level     0,  Iter     2:    Energy =   0.1198
Level     0,  Iter     3:    Energy =   0.1229
Level     0,  Iter     4:    Energy =   0.1255
Level     0,  Iter     5:    Energy =   0.1268
Level     0,  Iter     6:    Energy =   0.1286
Level     0,  Iter     7:    Energy =   0.1294
Level     0,  Iter     8:    Energy =   0.1309
Level     0,  Iter     9:    Energy =   0.1315
Level     0,  Iter    10:    Energy =   0.1326
Level     0,  Iter    11:    Energy =   0.1330
Level     0,  Iter    12:    Energy =   0.1337
Level     0,  Iter    13:    Energy =   0.1339
Level     0,  Iter    14:    Energy =   0.1342
Level     0,  Iter    15:    Energy =   0.1343
Level     0,  Iter    16:    Energy =   0.1347
Level     0,  Iter    17:    Energy =   0.1348
Level     0,  Iter    18:    Energy =   0.1351
Level     0,  Iter    19:    Energy =   0.1353
Level     0,  Iter    20:    Energy =   0.1355
Level     0,  Iter    21:    Energy =   0.1359
Level     0,  Iter    22:    Energy =   0.1362
Level     0,  Iter    23:    Energy =   0.1363
Level     0,  Iter    24:    Energy =   0.1362
Level     0,  Iter    25:    Energy =   0.1365
Level     0,  Iter    26:    Energy =   0.1366
Level     0,  Iter    27:    Energy =   0.1369
Level     0,  Iter    28:    Energy =   0.1370
Level     0,  Iter    29:    Energy =   0.1374
Level     0,  Iter    30:    Energy =   0.1373
Level     0,  Iter    31:    Energy =   0.1378
Level     0,  Iter    32:    Energy =   0.1379
Level     0,  Iter    33:    Energy =   0.1381
Level     0,  Iter    34:    Energy =   0.1377
Level     0,  Iter    35:    Energy =   0.1380
Level     0,  Iter    36:    Energy =   0.1378
Level     0,  Iter    37:    Energy =   0.1384
Level     0,  Iter    38:    Energy =   0.1385
Level     0,  Iter    39:    Energy =   0.1387
Level     0,  Iter    40:    Energy =   0.1383
Level     0,  Iter    41:    Energy =   0.1386
Level     0,  Iter    42:    Energy =   0.1384
Level     0,  Iter    43:    Energy =   0.1388
Level     0,  Iter    44:    Energy =   0.1383
Level     0,  Iter    45:    Energy =   0.1390
Level     0,  Iter    46:    Energy =   0.1391
Level     0,  Iter    47:    Energy =   0.1391
Level     0,  Iter    48:    Energy =   0.1386
Level     0,  Iter    49:    Energy =   0.1386
Level     0,  Iter    50:    Energy =   0.1384
Level     0,  Iter    51:    Energy =   0.1384
Level     0,  Iter    52:    Energy =   0.1381
Level     0,  Iter    53:    Energy =   0.1384
Level     0,  Iter    54:    Energy =   0.1383
Level     0,  Iter    55:    Energy =   0.1385
Level     0,  Iter    56:    Energy =   0.1381
Level     0,  Iter    57:    Energy =   0.1385
Level     0,  Iter    58:    Energy =   0.1384
Level     0,  Iter    59:    Energy =   0.1387
END OF LEVEL     0    DetJac Range:   0.2529  to   2.8171 
  Avg. Gradient Time  : 0.0075s  34.76% 
  Avg. Gaussian Time  : 0.0107s  49.45% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0929
Level     1,  Iter     1:    Energy =   0.0972
Level     1,  Iter     2:    Energy =   0.1012
Level     1,  Iter     3:    Energy =   0.1047
Level     1,  Iter     4:    Energy =   0.1080
Level     1,  Iter     5:    Energy =   0.1108
Level     1,  Iter     6:    Energy =   0.1128
Level     1,  Iter     7:    Energy =   0.1141
Level     1,  Iter     8:    Energy =   0.1149
Level     1,  Iter     9:    Energy =   0.1158
Level     1,  Iter    10:    Energy =   0.1169
Level     1,  Iter    11:    Energy =   0.1180
Level     1,  Iter    12:    Energy =   0.1190
Level     1,  Iter    13:    Energy =   0.1191
Level     1,  Iter    14:    Energy =   0.1193
Level     1,  Iter    15:    Energy =   0.1193
Level     1,  Iter    16:    Energy =   0.1195
Level     1,  Iter    17:    Energy =   0.1195
Level     1,  Iter    18:    Energy =   0.1198
Level     1,  Iter    19:    Energy =   0.1198
Level     1,  Iter    20:    Energy =   0.1200
Level     1,  Iter    21:    Energy =   0.1200
Level     1,  Iter    22:    Energy =   0.1203
Level     1,  Iter    23:    Energy =   0.1202
Level     1,  Iter    24:    Energy =   0.1205
Level     1,  Iter    25:    Energy =   0.1205
Level     1,  Iter    26:    Energy =   0.1208
Level     1,  Iter    27:    Energy =   0.1207
Level     1,  Iter    28:    Energy =   0.1210
Level     1,  Iter    29:    Energy =   0.1209
Level     1,  Iter    30:    Energy =   0.1212
Level     1,  Iter    31:    Energy =   0.1210
Level     1,  Iter    32:    Energy =   0.1213
Level     1,  Iter    33:    Energy =   0.1212
Level     1,  Iter    34:    Energy =   0.1215
Level     1,  Iter    35:    Energy =   0.1213
Level     1,  Iter    36:    Energy =   0.1217
Level     1,  Iter    37:    Energy =   0.1215
Level     1,  Iter    38:    Energy =   0.1218
Level     1,  Iter    39:    Energy =   0.1216
Level     1,  Iter    40:    Energy =   0.1219
Level     1,  Iter    41:    Energy =   0.1217
Level     1,  Iter    42:    Energy =   0.1220
Level     1,  Iter    43:    Energy =   0.1218
Level     1,  Iter    44:    Energy =   0.1220
Level     1,  Iter    45:    Energy =   0.1219
Level     1,  Iter    46:    Energy =   0.1220
Level     1,  Iter    47:    Energy =   0.1219
Level     1,  Iter    48:    Energy =   0.1221
Level     1,  Iter    49:    Energy =   0.1220
Level     1,  Iter    50:    Energy =   0.1222
Level     1,  Iter    51:    Energy =   0.1221
Level     1,  Iter    52:    Energy =   0.1222
Level     1,  Iter    53:    Energy =   0.1222
Level     1,  Iter    54:    Energy =   0.1223
Level     1,  Iter    55:    Energy =   0.1222
Level     1,  Iter    56:    Energy =   0.1223
Level     1,  Iter    57:    Energy =   0.1223
Level     1,  Iter    58:    Energy =   0.1224
Level     1,  Iter    59:    Energy =   0.1224
END OF LEVEL     1    DetJac Range:   0.1378  to   3.6247 
  Avg. Gradient Time  : 0.0429s  32.66% 
  Avg. Gaussian Time  : 0.0715s  54.42% 
  Avg. Iteration Time : 0.1313s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0661
Level     2,  Iter     1:    Energy =   0.0688
Level     2,  Iter     2:    Energy =   0.0712
Level     2,  Iter     3:    Energy =   0.0736
Level     2,  Iter     4:    Energy =   0.0759
Level     2,  Iter     5:    Energy =   0.0776
Level     2,  Iter     6:    Energy =   0.0791
Level     2,  Iter     7:    Energy =   0.0802
Level     2,  Iter     8:    Energy =   0.0810
Level     2,  Iter     9:    Energy =   0.0817
Level     2,  Iter    10:    Energy =   0.0825
Level     2,  Iter    11:    Energy =   0.0832
Level     2,  Iter    12:    Energy =   0.0839
Level     2,  Iter    13:    Energy =   0.0846
Level     2,  Iter    14:    Energy =   0.0852
Level     2,  Iter    15:    Energy =   0.0857
Level     2,  Iter    16:    Energy =   0.0862
Level     2,  Iter    17:    Energy =   0.0868
Level     2,  Iter    18:    Energy =   0.0873
Level     2,  Iter    19:    Energy =   0.0879
END OF LEVEL     2    DetJac Range:   0.0915  to   5.0383 
  Avg. Gradient Time  : 0.3086s  27.46% 
  Avg. Gaussian Time  : 0.6774s  60.26% 
  Avg. Iteration Time : 1.1241s 

real	0m36.675s
user	1m6.476s
sys	0m2.192s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.407692 0.413462
+ echo 'CHUNK 0.407692 0.413462 1'
CHUNK 0.407692 0.413462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.407692 0.413462 1
====================================
         PROGRESS: 0.407692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.463675
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3501.06   GNORM= 356.453
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3560.218     262.018       0.001
   2    4     -3585.639     174.638       1.000
   3    5     -3605.746     150.140       1.000
   4    6     -3656.603     197.124       1.000
   5    7     -3682.652     134.559       1.000
   6    8     -3714.439     127.970       1.000
   7    9     -3726.411     100.102       1.000
   8   10     -3739.463      67.377       1.000
   9   11     -3748.090      64.191       1.000
  10   12     -3758.345     108.164       1.000
  11   13     -3768.406      91.746       1.000
  12   14     -3774.333      68.790       1.000
  13   15     -3777.694      63.709       1.000
  14   16     -3778.697      26.746       1.000
  15   17     -3779.088      23.674       1.000
  16   19     -3780.629      37.429       0.457
  17   20     -3782.321      23.808       1.000
  18   22     -3782.702      17.293       0.367
  19   23     -3782.999       8.700       1.000
  20   24     -3783.016      33.642       1.000
  21   25     -3783.223      13.539       1.000
  22   26     -3783.305      13.192       1.000
  23   27     -3783.461       7.658       1.000
  24   28     -3783.495       9.183       1.000
  25   30     -3783.512       5.369       0.453
  26   31     -3783.530       3.492       1.000
  27   32     -3783.537       7.473       1.000
  28   33     -3783.545       3.074       1.000
  29   34     -3783.560       2.702       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.954291 0.000581071 -0.0595645 0.381536 
0.00304665 1.00962 0.0665378 0.646381 
0.0271026 -0.000783824 1.03913 -0.0220164 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2789.42   GNORM= 189.569
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2813.575      54.005       0.001
   2    4     -2815.904      65.477       1.000
   3    5     -2818.311      51.793       1.000
   4    6     -2821.978      73.165       1.000
   5    7     -2833.271      95.898       1.000
   6    8     -2840.087      36.553       1.000
   7    9     -2841.135      20.047       1.000
   8   10     -2841.742      24.259       1.000
   9   11     -2842.240      31.049       1.000
  10   12     -2843.194      26.724       1.000
  11   13     -2844.338      61.523       1.000
  12   14     -2845.641      19.030       1.000
  13   15     -2846.028      29.378       1.000
  14   16     -2846.465      37.075       1.000
  15   17     -2849.523      60.035       1.000
  16   18     -2850.692      75.769       1.000
  17   20     -2851.289      43.550       0.386
  18   21     -2851.859      22.584       1.000
  19   22     -2852.138      13.483       1.000
  20   23     -2852.191       9.902       1.000
  21   24     -2852.274       9.563       1.000
  22   26     -2852.716      14.283       0.354
  23   27     -2852.865      16.358       1.000
  24   28     -2852.951      32.680       1.000
  25   29     -2853.214      29.600       1.000
  26   30     -2853.359       6.766       1.000
  27   31     -2853.392       5.805       1.000
  28   32     -2853.446       7.275       1.000
  29   33     -2853.475       4.794       1.000
  30   34     -2853.496       7.620       1.000
  31   35     -2853.540      10.182       1.000
  32   36     -2853.622       7.026       1.000
  33   38     -2853.643       4.473       0.523
  34   39     -2853.650       2.142       1.000
  35   40     -2853.656       1.677       1.000
  36   43     -2853.662       5.653       0.880
  37   44     -2853.664       3.079       1.000
  38   45     -2853.677       2.303       1.000
  39   46     -2853.688       1.985       1.000
  40   48     -2853.694       3.531       0.463
Final RAS Transform: 
0.976301 -0.000641235 -0.0334594 -0.0384861 
-0.00557584 1.01904 0.06129 0.772056 
0.0173219 0.00286291 1.03808 0.357649 
0 0 0 1 

Final RAS Transform: 
0.976301 -0.000641235 -0.0334594 -0.0384861 
-0.00557584 1.01904 0.06129 0.772056 
0.0173219 0.00286291 1.03808 0.357649 
0 0 0 1 


real	0m10.536s
user	0m18.384s
sys	0m0.568s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.474814
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1081
Level     0,  Iter     1:    Energy =   0.1138
Level     0,  Iter     2:    Energy =   0.1182
Level     0,  Iter     3:    Energy =   0.1204
Level     0,  Iter     4:    Energy =   0.1221
Level     0,  Iter     5:    Energy =   0.1234
Level     0,  Iter     6:    Energy =   0.1244
Level     0,  Iter     7:    Energy =   0.1251
Level     0,  Iter     8:    Energy =   0.1259
Level     0,  Iter     9:    Energy =   0.1264
Level     0,  Iter    10:    Energy =   0.1271
Level     0,  Iter    11:    Energy =   0.1274
Level     0,  Iter    12:    Energy =   0.1279
Level     0,  Iter    13:    Energy =   0.1282
Level     0,  Iter    14:    Energy =   0.1285
Level     0,  Iter    15:    Energy =   0.1287
Level     0,  Iter    16:    Energy =   0.1290
Level     0,  Iter    17:    Energy =   0.1292
Level     0,  Iter    18:    Energy =   0.1294
Level     0,  Iter    19:    Energy =   0.1295
Level     0,  Iter    20:    Energy =   0.1298
Level     0,  Iter    21:    Energy =   0.1299
Level     0,  Iter    22:    Energy =   0.1301
Level     0,  Iter    23:    Energy =   0.1302
Level     0,  Iter    24:    Energy =   0.1303
Level     0,  Iter    25:    Energy =   0.1304
Level     0,  Iter    26:    Energy =   0.1305
Level     0,  Iter    27:    Energy =   0.1306
Level     0,  Iter    28:    Energy =   0.1307
Level     0,  Iter    29:    Energy =   0.1308
Level     0,  Iter    30:    Energy =   0.1309
Level     0,  Iter    31:    Energy =   0.1310
Level     0,  Iter    32:    Energy =   0.1310
Level     0,  Iter    33:    Energy =   0.1312
Level     0,  Iter    34:    Energy =   0.1311
Level     0,  Iter    35:    Energy =   0.1313
Level     0,  Iter    36:    Energy =   0.1313
Level     0,  Iter    37:    Energy =   0.1315
Level     0,  Iter    38:    Energy =   0.1314
Level     0,  Iter    39:    Energy =   0.1316
Level     0,  Iter    40:    Energy =   0.1316
Level     0,  Iter    41:    Energy =   0.1318
Level     0,  Iter    42:    Energy =   0.1317
Level     0,  Iter    43:    Energy =   0.1321
Level     0,  Iter    44:    Energy =   0.1325
Level     0,  Iter    45:    Energy =   0.1325
Level     0,  Iter    46:    Energy =   0.1324
Level     0,  Iter    47:    Energy =   0.1324
Level     0,  Iter    48:    Energy =   0.1324
Level     0,  Iter    49:    Energy =   0.1324
Level     0,  Iter    50:    Energy =   0.1324
Level     0,  Iter    51:    Energy =   0.1325
Level     0,  Iter    52:    Energy =   0.1325
Level     0,  Iter    53:    Energy =   0.1327
Level     0,  Iter    54:    Energy =   0.1327
Level     0,  Iter    55:    Energy =   0.1329
Level     0,  Iter    56:    Energy =   0.1329
Level     0,  Iter    57:    Energy =   0.1331
Level     0,  Iter    58:    Energy =   0.1331
Level     0,  Iter    59:    Energy =   0.1333
END OF LEVEL     0    DetJac Range:   0.2463  to   2.2562 
  Avg. Gradient Time  : 0.0077s  34.31% 
  Avg. Gaussian Time  : 0.0113s  50.26% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0936
Level     1,  Iter     1:    Energy =   0.0980
Level     1,  Iter     2:    Energy =   0.1017
Level     1,  Iter     3:    Energy =   0.1051
Level     1,  Iter     4:    Energy =   0.1078
Level     1,  Iter     5:    Energy =   0.1103
Level     1,  Iter     6:    Energy =   0.1126
Level     1,  Iter     7:    Energy =   0.1145
Level     1,  Iter     8:    Energy =   0.1157
Level     1,  Iter     9:    Energy =   0.1159
Level     1,  Iter    10:    Energy =   0.1162
Level     1,  Iter    11:    Energy =   0.1167
Level     1,  Iter    12:    Energy =   0.1167
Level     1,  Iter    13:    Energy =   0.1176
Level     1,  Iter    14:    Energy =   0.1174
Level     1,  Iter    15:    Energy =   0.1184
Level     1,  Iter    16:    Energy =   0.1182
Level     1,  Iter    17:    Energy =   0.1188
Level     1,  Iter    18:    Energy =   0.1185
Level     1,  Iter    19:    Energy =   0.1193
Level     1,  Iter    20:    Energy =   0.1191
Level     1,  Iter    21:    Energy =   0.1197
Level     1,  Iter    22:    Energy =   0.1194
Level     1,  Iter    23:    Energy =   0.1202
Level     1,  Iter    24:    Energy =   0.1200
Level     1,  Iter    25:    Energy =   0.1204
Level     1,  Iter    26:    Energy =   0.1200
Level     1,  Iter    27:    Energy =   0.1209
Level     1,  Iter    28:    Energy =   0.1205
Level     1,  Iter    29:    Energy =   0.1212
Level     1,  Iter    30:    Energy =   0.1208
Level     1,  Iter    31:    Energy =   0.1215
Level     1,  Iter    32:    Energy =   0.1212
Level     1,  Iter    33:    Energy =   0.1214
Level     1,  Iter    34:    Energy =   0.1210
Level     1,  Iter    35:    Energy =   0.1218
Level     1,  Iter    36:    Energy =   0.1214
Level     1,  Iter    37:    Energy =   0.1221
Level     1,  Iter    38:    Energy =   0.1216
Level     1,  Iter    39:    Energy =   0.1223
Level     1,  Iter    40:    Energy =   0.1218
Level     1,  Iter    41:    Energy =   0.1225
Level     1,  Iter    42:    Energy =   0.1221
Level     1,  Iter    43:    Energy =   0.1223
Level     1,  Iter    44:    Energy =   0.1218
Level     1,  Iter    45:    Energy =   0.1225
Level     1,  Iter    46:    Energy =   0.1220
Level     1,  Iter    47:    Energy =   0.1226
Level     1,  Iter    48:    Energy =   0.1222
Level     1,  Iter    49:    Energy =   0.1227
Level     1,  Iter    50:    Energy =   0.1223
Level     1,  Iter    51:    Energy =   0.1227
Level     1,  Iter    52:    Energy =   0.1222
Level     1,  Iter    53:    Energy =   0.1227
Level     1,  Iter    54:    Energy =   0.1224
Level     1,  Iter    55:    Energy =   0.1224
Level     1,  Iter    56:    Energy =   0.1220
Level     1,  Iter    57:    Energy =   0.1226
Level     1,  Iter    58:    Energy =   0.1222
Level     1,  Iter    59:    Energy =   0.1227
END OF LEVEL     1    DetJac Range:   0.1365  to   3.8505 
  Avg. Gradient Time  : 0.0436s  33.03% 
  Avg. Gaussian Time  : 0.0715s  54.14% 
  Avg. Iteration Time : 0.1322s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0668
Level     2,  Iter     1:    Energy =   0.0697
Level     2,  Iter     2:    Energy =   0.0721
Level     2,  Iter     3:    Energy =   0.0742
Level     2,  Iter     4:    Energy =   0.0759
Level     2,  Iter     5:    Energy =   0.0771
Level     2,  Iter     6:    Energy =   0.0784
Level     2,  Iter     7:    Energy =   0.0793
Level     2,  Iter     8:    Energy =   0.0804
Level     2,  Iter     9:    Energy =   0.0815
Level     2,  Iter    10:    Energy =   0.0828
Level     2,  Iter    11:    Energy =   0.0840
Level     2,  Iter    12:    Energy =   0.0852
Level     2,  Iter    13:    Energy =   0.0862
Level     2,  Iter    14:    Energy =   0.0872
Level     2,  Iter    15:    Energy =   0.0879
Level     2,  Iter    16:    Energy =   0.0882
Level     2,  Iter    17:    Energy =   0.0888
Level     2,  Iter    18:    Energy =   0.0887
Level     2,  Iter    19:    Energy =   0.0894
END OF LEVEL     2    DetJac Range:   0.0581  to   5.0609 
  Avg. Gradient Time  : 0.3055s  29.88% 
  Avg. Gaussian Time  : 0.5794s  56.66% 
  Avg. Iteration Time : 1.0226s 

real	0m34.727s
user	1m2.536s
sys	0m2.184s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.413462 0.419231
+ echo 'CHUNK 0.413462 0.419231 1'
CHUNK 0.413462 0.419231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.413462 0.419231 1
====================================
         PROGRESS: 0.413462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.82589
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3577.23   GNORM= 714.509
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3742.165     418.010       0.001
   2    4     -3799.572     278.119       1.000
   3    5     -3869.191     158.560       1.000
   4    6     -3914.380     152.472       1.000
   5    7     -3936.448     139.047       1.000
   6    8     -3949.343      64.705       1.000
   7    9     -3956.597      85.536       1.000
   8   10     -3972.522     110.963       1.000
   9   11     -3984.207     130.379       1.000
  10   13     -3987.300      37.646       0.295
  11   14     -3988.051      19.645       1.000
  12   15     -3988.586      24.822       1.000
  13   16     -3990.940      32.750       1.000
  14   18     -3992.447      24.773       0.412
  15   19     -3993.053      16.940       1.000
  16   20     -3993.845      22.299       1.000
  17   21     -3995.657      36.751       1.000
  18   23     -3995.856      20.513       0.299
  19   24     -3996.158      10.449       1.000
  20   25     -3996.536      15.759       1.000
  21   26     -3996.585      20.547       1.000
  22   27     -3996.744       9.363       1.000
  23   28     -3996.784       7.672       1.000
  24   29     -3996.862       7.393       1.000
  25   30     -3996.877      14.662       1.000
  26   32     -3996.961      16.754       0.452
  27   33     -3997.075      10.202       1.000
  28   34     -3997.131       3.944       1.000
  29   35     -3997.173       5.020       1.000
  30   36     -3997.189      10.399       1.000
  31   37     -3997.225       4.882       1.000
  32   38     -3997.232       6.192       1.000
  33   39     -3997.241       5.141       1.000
  34   40     -3997.251       7.448       1.000
  35   41     -3997.267       4.600       1.000
  36   43     -3997.280       4.589       0.499
  37   44     -3997.284       3.822       1.000
  38   45     -3997.292       2.912       1.000
  39   46     -3997.304       6.170       1.000
  40   47     -3997.315       2.069       1.000
  41   48     -3997.319       2.468       1.000
  42   50     -3997.323       2.146       0.235
  43   51     -3997.325       4.050       1.000
  44   52     -3997.330       2.104       1.000
  45   54     -3997.331       2.280       0.274
  46   57     -3997.341       2.975       2.498
  47   58     -3997.346       4.677       1.000
  48   59     -3997.351       2.862       1.000
  49   60     -3997.352       2.017       1.000
Final RAS Transform: 
1.00705 0.0023313 0.00460297 -0.4729 
0.0167231 1.01829 0.0762025 0.186611 
0.0260954 -0.00871813 1.03398 -0.299527 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2798.61   GNORM= 154.558
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2809.673      80.205       0.001
   2    4     -2811.909      64.895       1.000
   3    5     -2813.229      42.911       1.000
   4    6     -2816.877      58.885       1.000
   5    7     -2820.212      63.100       1.000
   6    8     -2824.829      45.014       1.000
   7   10     -2825.606      42.013       0.359
   8   11     -2826.709      34.326       1.000
   9   12     -2828.232      37.612       1.000
  10   13     -2830.116      37.561       1.000
  11   14     -2830.821     112.047       1.000
  12   15     -2834.025      12.900       1.000
  13   16     -2834.159       6.884       1.000
  14   17     -2834.216       9.184       1.000
  15   18     -2834.272       7.327       1.000
  16   19     -2834.429      18.671       1.000
  17   20     -2834.518      13.255       1.000
  18   21     -2834.618       8.987       1.000
  19   22     -2834.693       9.458       1.000
  20   23     -2834.812      32.015       1.000
  21   24     -2835.017      12.351       1.000
  22   25     -2835.059       7.076       1.000
  23   26     -2835.106       9.183       1.000
  24   27     -2835.136      13.898       1.000
  25   28     -2835.199      16.201       1.000
  26   29     -2835.269      10.896       1.000
  27   30     -2835.331       4.416       1.000
  28   31     -2835.388      10.880       1.000
  29   32     -2835.490      20.922       1.000
  30   33     -2835.644      23.552       1.000
  31   34     -2835.850       7.177       1.000
  32   35     -2835.933       3.760       1.000
  33   36     -2835.966       4.573       1.000
  34   37     -2835.999       3.465       1.000
  35   38     -2836.021       4.592       1.000
  36   39     -2836.035       4.026       1.000
  37   40     -2836.087       3.992       1.000
  38   41     -2836.114       4.563       1.000
  39   42     -2836.132       3.228       1.000
  40   43     -2836.145       3.517       1.000
  41   45     -2836.160       5.883       0.265
  42   46     -2836.163       3.100       1.000
  43   47     -2836.176       1.354       1.000
Final RAS Transform: 
1.00068 0.00474348 0.00499651 -0.39572 
-0.000131829 1.02238 0.0662803 0.413961 
0.0154004 -0.00699612 1.02477 -0.0153732 
0 0 0 1 

Final RAS Transform: 
1.00068 0.00474348 0.00499651 -0.39572 
-0.000131829 1.02238 0.0662803 0.413961 
0.0154004 -0.00699612 1.02477 -0.0153732 
0 0 0 1 


real	0m10.310s
user	0m17.952s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.829128
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1119
Level     0,  Iter     1:    Energy =   0.1201
Level     0,  Iter     2:    Energy =   0.1268
Level     0,  Iter     3:    Energy =   0.1307
Level     0,  Iter     4:    Energy =   0.1332
Level     0,  Iter     5:    Energy =   0.1348
Level     0,  Iter     6:    Energy =   0.1367
Level     0,  Iter     7:    Energy =   0.1375
Level     0,  Iter     8:    Energy =   0.1391
Level     0,  Iter     9:    Energy =   0.1395
Level     0,  Iter    10:    Energy =   0.1404
Level     0,  Iter    11:    Energy =   0.1407
Level     0,  Iter    12:    Energy =   0.1416
Level     0,  Iter    13:    Energy =   0.1418
Level     0,  Iter    14:    Energy =   0.1424
Level     0,  Iter    15:    Energy =   0.1425
Level     0,  Iter    16:    Energy =   0.1428
Level     0,  Iter    17:    Energy =   0.1429
Level     0,  Iter    18:    Energy =   0.1431
Level     0,  Iter    19:    Energy =   0.1433
Level     0,  Iter    20:    Energy =   0.1435
Level     0,  Iter    21:    Energy =   0.1435
Level     0,  Iter    22:    Energy =   0.1437
Level     0,  Iter    23:    Energy =   0.1437
Level     0,  Iter    24:    Energy =   0.1440
Level     0,  Iter    25:    Energy =   0.1439
Level     0,  Iter    26:    Energy =   0.1442
Level     0,  Iter    27:    Energy =   0.1442
Level     0,  Iter    28:    Energy =   0.1444
Level     0,  Iter    29:    Energy =   0.1444
Level     0,  Iter    30:    Energy =   0.1446
Level     0,  Iter    31:    Energy =   0.1446
Level     0,  Iter    32:    Energy =   0.1447
Level     0,  Iter    33:    Energy =   0.1447
Level     0,  Iter    34:    Energy =   0.1447
Level     0,  Iter    35:    Energy =   0.1448
Level     0,  Iter    36:    Energy =   0.1449
Level     0,  Iter    37:    Energy =   0.1448
Level     0,  Iter    38:    Energy =   0.1449
Level     0,  Iter    39:    Energy =   0.1448
Level     0,  Iter    40:    Energy =   0.1450
Level     0,  Iter    41:    Energy =   0.1449
Level     0,  Iter    42:    Energy =   0.1450
Level     0,  Iter    43:    Energy =   0.1449
Level     0,  Iter    44:    Energy =   0.1451
Level     0,  Iter    45:    Energy =   0.1450
Level     0,  Iter    46:    Energy =   0.1451
Level     0,  Iter    47:    Energy =   0.1450
Level     0,  Iter    48:    Energy =   0.1450
Level     0,  Iter    49:    Energy =   0.1449
Level     0,  Iter    50:    Energy =   0.1449
Level     0,  Iter    51:    Energy =   0.1450
Level     0,  Iter    52:    Energy =   0.1448
Level     0,  Iter    53:    Energy =   0.1448
Level     0,  Iter    54:    Energy =   0.1446
Level     0,  Iter    55:    Energy =   0.1445
Level     0,  Iter    56:    Energy =   0.1444
Level     0,  Iter    57:    Energy =   0.1443
Level     0,  Iter    58:    Energy =   0.1442
Level     0,  Iter    59:    Energy =   0.1442
END OF LEVEL     0    DetJac Range:   0.3718  to   1.9630 
  Avg. Gradient Time  : 0.0076s  34.80% 
  Avg. Gaussian Time  : 0.0109s  49.48% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0975
Level     1,  Iter     1:    Energy =   0.1031
Level     1,  Iter     2:    Energy =   0.1078
Level     1,  Iter     3:    Energy =   0.1114
Level     1,  Iter     4:    Energy =   0.1140
Level     1,  Iter     5:    Energy =   0.1164
Level     1,  Iter     6:    Energy =   0.1181
Level     1,  Iter     7:    Energy =   0.1195
Level     1,  Iter     8:    Energy =   0.1207
Level     1,  Iter     9:    Energy =   0.1210
Level     1,  Iter    10:    Energy =   0.1220
Level     1,  Iter    11:    Energy =   0.1227
Level     1,  Iter    12:    Energy =   0.1227
Level     1,  Iter    13:    Energy =   0.1236
Level     1,  Iter    14:    Energy =   0.1237
Level     1,  Iter    15:    Energy =   0.1243
Level     1,  Iter    16:    Energy =   0.1242
Level     1,  Iter    17:    Energy =   0.1250
Level     1,  Iter    18:    Energy =   0.1248
Level     1,  Iter    19:    Energy =   0.1252
Level     1,  Iter    20:    Energy =   0.1251
Level     1,  Iter    21:    Energy =   0.1254
Level     1,  Iter    22:    Energy =   0.1253
Level     1,  Iter    23:    Energy =   0.1258
Level     1,  Iter    24:    Energy =   0.1256
Level     1,  Iter    25:    Energy =   0.1261
Level     1,  Iter    26:    Energy =   0.1259
Level     1,  Iter    27:    Energy =   0.1265
Level     1,  Iter    28:    Energy =   0.1262
Level     1,  Iter    29:    Energy =   0.1267
Level     1,  Iter    30:    Energy =   0.1264
Level     1,  Iter    31:    Energy =   0.1267
Level     1,  Iter    32:    Energy =   0.1264
Level     1,  Iter    33:    Energy =   0.1269
Level     1,  Iter    34:    Energy =   0.1266
Level     1,  Iter    35:    Energy =   0.1269
Level     1,  Iter    36:    Energy =   0.1265
Level     1,  Iter    37:    Energy =   0.1269
Level     1,  Iter    38:    Energy =   0.1265
Level     1,  Iter    39:    Energy =   0.1269
Level     1,  Iter    40:    Energy =   0.1265
Level     1,  Iter    41:    Energy =   0.1270
Level     1,  Iter    42:    Energy =   0.1266
Level     1,  Iter    43:    Energy =   0.1270
Level     1,  Iter    44:    Energy =   0.1266
Level     1,  Iter    45:    Energy =   0.1271
Level     1,  Iter    46:    Energy =   0.1267
Level     1,  Iter    47:    Energy =   0.1272
Level     1,  Iter    48:    Energy =   0.1268
Level     1,  Iter    49:    Energy =   0.1272
Level     1,  Iter    50:    Energy =   0.1268
Level     1,  Iter    51:    Energy =   0.1272
Level     1,  Iter    52:    Energy =   0.1268
Level     1,  Iter    53:    Energy =   0.1273
Level     1,  Iter    54:    Energy =   0.1268
Level     1,  Iter    55:    Energy =   0.1273
Level     1,  Iter    56:    Energy =   0.1269
Level     1,  Iter    57:    Energy =   0.1273
Level     1,  Iter    58:    Energy =   0.1269
Level     1,  Iter    59:    Energy =   0.1274
END OF LEVEL     1    DetJac Range:   0.1944  to   3.3463 
  Avg. Gradient Time  : 0.0426s  32.60% 
  Avg. Gaussian Time  : 0.0712s  54.45% 
  Avg. Iteration Time : 0.1308s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0678
Level     2,  Iter     1:    Energy =   0.0707
Level     2,  Iter     2:    Energy =   0.0729
Level     2,  Iter     3:    Energy =   0.0748
Level     2,  Iter     4:    Energy =   0.0766
Level     2,  Iter     5:    Energy =   0.0781
Level     2,  Iter     6:    Energy =   0.0794
Level     2,  Iter     7:    Energy =   0.0804
Level     2,  Iter     8:    Energy =   0.0813
Level     2,  Iter     9:    Energy =   0.0820
Level     2,  Iter    10:    Energy =   0.0826
Level     2,  Iter    11:    Energy =   0.0832
Level     2,  Iter    12:    Energy =   0.0837
Level     2,  Iter    13:    Energy =   0.0841
Level     2,  Iter    14:    Energy =   0.0845
Level     2,  Iter    15:    Energy =   0.0849
Level     2,  Iter    16:    Energy =   0.0853
Level     2,  Iter    17:    Energy =   0.0856
Level     2,  Iter    18:    Energy =   0.0859
Level     2,  Iter    19:    Energy =   0.0862
END OF LEVEL     2    DetJac Range:   0.1317  to   4.1474 
  Avg. Gradient Time  : 0.3047s  27.09% 
  Avg. Gaussian Time  : 0.6823s  60.67% 
  Avg. Iteration Time : 1.1246s 

real	0m36.702s
user	1m6.616s
sys	0m2.068s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.419231 0.425
+ echo 'CHUNK 0.419231 0.425 1'
CHUNK 0.419231 0.425 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.419231 0.425 1
====================================
         PROGRESS: 0.419231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.699131
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3191.84   GNORM= 531.709
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3272.821     210.548       0.001
   2    4     -3294.180     185.843       1.000
   3    5     -3339.971     121.918       1.000
   4    6     -3365.582     149.910       1.000
   5    7     -3452.910     142.352       1.000
   6    9     -3469.153     136.818       0.438
   7   10     -3488.082     113.089       1.000
   8   12     -3510.561     105.577       0.514
   9   14     -3514.742      66.805       0.383
  10   15     -3518.403      52.646       1.000
  11   16     -3524.416      55.674       1.000
  12   17     -3537.647      74.690       1.000
  13   19     -3545.884      69.423       0.433
  14   20     -3550.862      35.584       1.000
  15   21     -3551.878      35.139       1.000
  16   22     -3552.199      29.765       1.000
  17   23     -3552.595      18.982       1.000
  18   24     -3553.032      20.709       1.000
  19   25     -3553.323      15.695       1.000
  20   26     -3554.059      14.336       1.000
  21   27     -3554.514      20.662       1.000
  22   28     -3554.663      14.604       1.000
  23   29     -3554.753      12.158       1.000
  24   30     -3554.809       7.354       1.000
  25   32     -3554.971       9.306       5.000
  26   33     -3555.174       8.832       1.000
  27   34     -3555.692      13.536       1.000
  28   36     -3555.848      18.385       0.513
  29   37     -3555.944      11.652       1.000
  30   38     -3556.065       6.296       1.000
  31   40     -3556.112      14.274       0.250
  32   41     -3556.175      10.627       1.000
  33   42     -3556.200      12.929       1.000
  34   43     -3556.257       6.661       1.000
  35   44     -3556.273       9.145       1.000
  36   45     -3556.299       4.060       1.000
  37   46     -3556.305       5.411       1.000
  38   47     -3556.331       5.128       1.000
  39   48     -3556.362       4.132       1.000
  40   49     -3556.417       7.221       1.000
  41   50     -3556.439      10.638       1.000
  42   51     -3556.472       3.881       1.000
Final RAS Transform: 
0.915423 0.0307021 -0.0120695 2.19905 
-0.0224004 0.998029 0.0363834 0.0384083 
0.0367223 0.00290175 1.02586 -0.208738 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2515.05   GNORM= 210.9
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2525.609      57.247       0.000
   2    4     -2527.226      50.685       1.000
   3    5     -2530.761      70.915       1.000
   4    6     -2533.255      52.396       1.000
   5    7     -2546.343     127.900       1.000
   6    8     -2553.072     115.084       1.000
   7   10     -2559.944      71.683       0.480
   8   11     -2564.793      44.783       1.000
   9   12     -2566.247      86.315       1.000
  10   13     -2568.390      40.419       1.000
  11   14     -2570.916      23.210       1.000
  12   15     -2573.026      45.685       1.000
  13   16     -2574.230      31.209       1.000
  14   17     -2574.850      26.924       1.000
  15   18     -2575.527      24.626       1.000
  16   19     -2577.327      53.684       1.000
  17   20     -2579.957      67.200       1.000
  18   21     -2585.935      51.663       1.000
  19   22     -2586.734      44.848       1.000
  20   23     -2587.389       9.693       1.000
  21   24     -2587.465       8.959       1.000
  22   25     -2587.549      13.864       1.000
  23   26     -2587.795       7.588       1.000
  24   27     -2588.227      12.461       1.000
  25   29     -2588.655      11.870       0.492
  26   30     -2588.788      36.264       1.000
  27   31     -2589.112      18.177       1.000
  28   32     -2589.488      15.956       1.000
  29   33     -2589.614       8.886       1.000
  30   34     -2589.747      11.982       1.000
  31   35     -2589.923      10.735       1.000
  32   36     -2590.210      14.200       1.000
  33   37     -2590.225      23.756       1.000
  34   38     -2590.392       8.079       1.000
  35   39     -2590.435       6.892       1.000
  36   40     -2590.465       5.647       1.000
  37   41     -2590.497      10.098       1.000
  38   42     -2590.532       9.067       1.000
  39   43     -2590.696       5.897       1.000
  40   44     -2590.813       9.598       1.000
  41   45     -2590.860       9.765       1.000
  42   46     -2590.904       6.758       1.000
  43   47     -2590.922       3.518       1.000
  44   49     -2590.939       6.680       0.359
  45   50     -2590.950       4.281       1.000
  46   51     -2590.975      13.352       1.000
  47   52     -2591.032       9.945       1.000
  48   53     -2591.058       9.194       1.000
  49   54     -2591.092       5.052       1.000
  50   55     -2591.104       4.917       1.000
  51   56     -2591.106       2.058       1.000
  52   57     -2591.117       2.045       1.000
  53   58     -2591.135       7.902       1.000
  54   59     -2591.148       5.015       1.000
  55   60     -2591.174       6.623       1.000
Final RAS Transform: 
0.961326 0.0187868 0.00513479 1.05211 
-0.0215792 1.00455 0.0310871 0.300092 
0.0201246 0.000450084 1.02342 -0.152599 
0 0 0 1 

Final RAS Transform: 
0.961326 0.0187868 0.00513479 1.05211 
-0.0215792 1.00455 0.0310871 0.300092 
0.0201246 0.000450084 1.02342 -0.152599 
0 0 0 1 


real	0m10.017s
user	0m17.580s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.702411
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1008
Level     0,  Iter     1:    Energy =   0.1058
Level     0,  Iter     2:    Energy =   0.1102
Level     0,  Iter     3:    Energy =   0.1141
Level     0,  Iter     4:    Energy =   0.1165
Level     0,  Iter     5:    Energy =   0.1177
Level     0,  Iter     6:    Energy =   0.1188
Level     0,  Iter     7:    Energy =   0.1194
Level     0,  Iter     8:    Energy =   0.1201
Level     0,  Iter     9:    Energy =   0.1205
Level     0,  Iter    10:    Energy =   0.1210
Level     0,  Iter    11:    Energy =   0.1213
Level     0,  Iter    12:    Energy =   0.1217
Level     0,  Iter    13:    Energy =   0.1219
Level     0,  Iter    14:    Energy =   0.1223
Level     0,  Iter    15:    Energy =   0.1224
Level     0,  Iter    16:    Energy =   0.1228
Level     0,  Iter    17:    Energy =   0.1228
Level     0,  Iter    18:    Energy =   0.1231
Level     0,  Iter    19:    Energy =   0.1231
Level     0,  Iter    20:    Energy =   0.1234
Level     0,  Iter    21:    Energy =   0.1234
Level     0,  Iter    22:    Energy =   0.1237
Level     0,  Iter    23:    Energy =   0.1237
Level     0,  Iter    24:    Energy =   0.1240
Level     0,  Iter    25:    Energy =   0.1240
Level     0,  Iter    26:    Energy =   0.1242
Level     0,  Iter    27:    Energy =   0.1242
Level     0,  Iter    28:    Energy =   0.1245
Level     0,  Iter    29:    Energy =   0.1245
Level     0,  Iter    30:    Energy =   0.1247
Level     0,  Iter    31:    Energy =   0.1247
Level     0,  Iter    32:    Energy =   0.1249
Level     0,  Iter    33:    Energy =   0.1249
Level     0,  Iter    34:    Energy =   0.1251
Level     0,  Iter    35:    Energy =   0.1251
Level     0,  Iter    36:    Energy =   0.1252
Level     0,  Iter    37:    Energy =   0.1252
Level     0,  Iter    38:    Energy =   0.1254
Level     0,  Iter    39:    Energy =   0.1253
Level     0,  Iter    40:    Energy =   0.1255
Level     0,  Iter    41:    Energy =   0.1255
Level     0,  Iter    42:    Energy =   0.1256
Level     0,  Iter    43:    Energy =   0.1256
Level     0,  Iter    44:    Energy =   0.1257
Level     0,  Iter    45:    Energy =   0.1257
Level     0,  Iter    46:    Energy =   0.1258
Level     0,  Iter    47:    Energy =   0.1258
Level     0,  Iter    48:    Energy =   0.1259
Level     0,  Iter    49:    Energy =   0.1259
Level     0,  Iter    50:    Energy =   0.1260
Level     0,  Iter    51:    Energy =   0.1259
Level     0,  Iter    52:    Energy =   0.1261
Level     0,  Iter    53:    Energy =   0.1260
Level     0,  Iter    54:    Energy =   0.1261
Level     0,  Iter    55:    Energy =   0.1261
Level     0,  Iter    56:    Energy =   0.1262
Level     0,  Iter    57:    Energy =   0.1261
Level     0,  Iter    58:    Energy =   0.1262
Level     0,  Iter    59:    Energy =   0.1261
END OF LEVEL     0    DetJac Range:   0.3341  to   1.8586 
  Avg. Gradient Time  : 0.0076s  34.90% 
  Avg. Gaussian Time  : 0.0107s  49.30% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0862
Level     1,  Iter     1:    Energy =   0.0904
Level     1,  Iter     2:    Energy =   0.0946
Level     1,  Iter     3:    Energy =   0.0976
Level     1,  Iter     4:    Energy =   0.1004
Level     1,  Iter     5:    Energy =   0.1029
Level     1,  Iter     6:    Energy =   0.1050
Level     1,  Iter     7:    Energy =   0.1066
Level     1,  Iter     8:    Energy =   0.1078
Level     1,  Iter     9:    Energy =   0.1090
Level     1,  Iter    10:    Energy =   0.1099
Level     1,  Iter    11:    Energy =   0.1099
Level     1,  Iter    12:    Energy =   0.1103
Level     1,  Iter    13:    Energy =   0.1105
Level     1,  Iter    14:    Energy =   0.1107
Level     1,  Iter    15:    Energy =   0.1110
Level     1,  Iter    16:    Energy =   0.1111
Level     1,  Iter    17:    Energy =   0.1114
Level     1,  Iter    18:    Energy =   0.1115
Level     1,  Iter    19:    Energy =   0.1118
Level     1,  Iter    20:    Energy =   0.1118
Level     1,  Iter    21:    Energy =   0.1122
Level     1,  Iter    22:    Energy =   0.1122
Level     1,  Iter    23:    Energy =   0.1124
Level     1,  Iter    24:    Energy =   0.1124
Level     1,  Iter    25:    Energy =   0.1126
Level     1,  Iter    26:    Energy =   0.1127
Level     1,  Iter    27:    Energy =   0.1128
Level     1,  Iter    28:    Energy =   0.1129
Level     1,  Iter    29:    Energy =   0.1130
Level     1,  Iter    30:    Energy =   0.1131
Level     1,  Iter    31:    Energy =   0.1132
Level     1,  Iter    32:    Energy =   0.1133
Level     1,  Iter    33:    Energy =   0.1133
Level     1,  Iter    34:    Energy =   0.1135
Level     1,  Iter    35:    Energy =   0.1135
Level     1,  Iter    36:    Energy =   0.1136
Level     1,  Iter    37:    Energy =   0.1136
Level     1,  Iter    38:    Energy =   0.1138
Level     1,  Iter    39:    Energy =   0.1137
Level     1,  Iter    40:    Energy =   0.1139
Level     1,  Iter    41:    Energy =   0.1138
Level     1,  Iter    42:    Energy =   0.1140
Level     1,  Iter    43:    Energy =   0.1139
Level     1,  Iter    44:    Energy =   0.1141
Level     1,  Iter    45:    Energy =   0.1140
Level     1,  Iter    46:    Energy =   0.1143
Level     1,  Iter    47:    Energy =   0.1141
Level     1,  Iter    48:    Energy =   0.1144
Level     1,  Iter    49:    Energy =   0.1142
Level     1,  Iter    50:    Energy =   0.1144
Level     1,  Iter    51:    Energy =   0.1143
Level     1,  Iter    52:    Energy =   0.1145
Level     1,  Iter    53:    Energy =   0.1144
Level     1,  Iter    54:    Energy =   0.1146
Level     1,  Iter    55:    Energy =   0.1144
Level     1,  Iter    56:    Energy =   0.1146
Level     1,  Iter    57:    Energy =   0.1145
Level     1,  Iter    58:    Energy =   0.1147
Level     1,  Iter    59:    Energy =   0.1145
END OF LEVEL     1    DetJac Range:   0.0388  to   3.7533 
  Avg. Gradient Time  : 0.0429s  32.58% 
  Avg. Gaussian Time  : 0.0718s  54.50% 
  Avg. Iteration Time : 0.1318s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0585
Level     2,  Iter     1:    Energy =   0.0612
Level     2,  Iter     2:    Energy =   0.0636
Level     2,  Iter     3:    Energy =   0.0655
Level     2,  Iter     4:    Energy =   0.0670
Level     2,  Iter     5:    Energy =   0.0683
Level     2,  Iter     6:    Energy =   0.0693
Level     2,  Iter     7:    Energy =   0.0703
Level     2,  Iter     8:    Energy =   0.0713
Level     2,  Iter     9:    Energy =   0.0723
Level     2,  Iter    10:    Energy =   0.0732
Level     2,  Iter    11:    Energy =   0.0741
Level     2,  Iter    12:    Energy =   0.0750
Level     2,  Iter    13:    Energy =   0.0758
Level     2,  Iter    14:    Energy =   0.0767
Level     2,  Iter    15:    Energy =   0.0776
Level     2,  Iter    16:    Energy =   0.0782
Level     2,  Iter    17:    Energy =   0.0789
Level     2,  Iter    18:    Energy =   0.0794
Level     2,  Iter    19:    Energy =   0.0799
END OF LEVEL     2    DetJac Range:   0.0275  to   4.6986 
  Avg. Gradient Time  : 0.3080s  26.94% 
  Avg. Gaussian Time  : 0.6971s  60.97% 
  Avg. Iteration Time : 1.1434s 

real	0m37.053s
user	1m7.396s
sys	0m2.052s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.425 0.430769
+ echo 'CHUNK 0.425 0.430769 1'
CHUNK 0.425 0.430769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.425 0.430769 1
====================================
         PROGRESS: 0.425               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.543471
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2969.36   GNORM= 441.875
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3061.701     322.948       0.001
   2    4     -3108.114     175.266       1.000
   3    5     -3141.781     124.752       1.000
   4    6     -3180.759     163.734       1.000
   5    7     -3235.089     199.050       1.000
   6    8     -3305.528     200.652       1.000
   7    9     -3329.869     258.643       1.000
   8   10     -3364.098     156.785       1.000
   9   11     -3373.882      60.960       1.000
  10   12     -3379.832      69.564       1.000
  11   13     -3398.760      88.893       1.000
  12   14     -3416.823      72.413       1.000
  13   15     -3426.521      35.424       1.000
  14   17     -3428.486      45.188       0.497
  15   18     -3429.418      17.876       1.000
  16   19     -3429.637      17.861       1.000
  17   20     -3430.111      19.531       1.000
  18   21     -3430.825      17.495       1.000
  19   22     -3432.219      35.455       1.000
  20   23     -3432.971      29.222       1.000
  21   24     -3433.205      12.979       1.000
  22   25     -3433.327       6.169       1.000
  23   26     -3433.434       5.880       1.000
  24   28     -3433.628      13.146       0.423
  25   29     -3433.702      24.632       1.000
  26   30     -3433.981       8.146       1.000
  27   31     -3434.085       9.799       1.000
  28   32     -3434.117       8.140       1.000
  29   33     -3434.210       9.164       1.000
  30   34     -3434.359      11.237       1.000
  31   35     -3434.494       7.884       1.000
  32   36     -3434.594       6.728       1.000
  33   37     -3434.619      18.013       1.000
  34   38     -3434.660       7.834       1.000
  35   39     -3434.691       5.793       1.000
  36   41     -3434.697       5.726       0.376
  37   42     -3434.711       4.348       1.000
  38   43     -3434.731       4.284       1.000
  39   44     -3434.766      13.867       1.000
  40   45     -3434.838      11.160       1.000
  41   47     -3434.868       4.510       0.266
  42   48     -3434.884       5.478       1.000
  43   50     -3434.931       7.991       0.404
  44   52     -3434.952       8.761       0.142
  45   53     -3434.968       3.477       1.000
  46   54     -3434.981       3.259       1.000
  47   56     -3434.983       3.413       0.147
  48   57     -3434.993       4.582       1.000
  49   58     -3434.998       5.784       1.000
  50   59     -3435.005       1.760       1.000
Final RAS Transform: 
0.893448 0.0409445 0.00584317 2.74135 
0.0366336 0.998728 0.0441329 -0.782278 
0.025577 -0.00629294 1.02986 -0.134228 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2412.96   GNORM= 153.911
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2420.544      80.416       0.001
   2    4     -2423.906      58.609       1.000
   3    5     -2426.515      39.266       1.000
   4    6     -2428.666      47.207       1.000
   5    7     -2434.473      61.194       1.000
   6    8     -2441.111      76.860       1.000
   7   10     -2442.785     115.781       0.225
   8   11     -2447.081      89.049       1.000
   9   12     -2452.441      56.917       1.000
  10   13     -2455.657      47.981       1.000
  11   14     -2466.936      24.247       1.000
  12   16     -2469.229      27.668       0.506
  13   17     -2470.182      63.875       1.000
  14   18     -2471.746      26.538       1.000
  15   19     -2473.393      28.021       1.000
  16   21     -2474.338      50.757       0.157
  17   22     -2476.083      26.015       1.000
  18   23     -2476.549       7.996       1.000
  19   24     -2476.631       6.611       1.000
  20   25     -2476.708      11.868       1.000
  21   26     -2476.907      21.695       1.000
  22   27     -2477.469      20.368       1.000
  23   28     -2478.577      22.156       1.000
  24   29     -2478.948       9.981       1.000
  25   30     -2479.198      11.853       1.000
  26   31     -2479.409      11.449       1.000
  27   33     -2479.559      11.139       0.425
  28   34     -2479.737       6.067       1.000
  29   35     -2479.874       7.991       1.000
  30   36     -2480.074       5.861       1.000
  31   38     -2480.287      14.466       0.416
  32   40     -2480.330       8.727       0.342
  33   41     -2480.391       5.450       1.000
  34   42     -2480.476       7.749       1.000
  35   43     -2480.497       5.157       1.000
  36   44     -2480.518       4.666       1.000
  37   45     -2480.558      22.082       1.000
  38   46     -2480.615      14.576       1.000
  39   47     -2480.853       9.402       1.000
  40   48     -2480.899       7.926       1.000
  41   49     -2481.053       4.679       1.000
  42   50     -2481.085       9.891       1.000
  43   51     -2481.118       4.242       1.000
  44   52     -2481.134       3.645       1.000
  45   53     -2481.145       5.759       1.000
  46   55     -2481.162       5.268       0.458
  47   56     -2481.171       3.341       1.000
  48   57     -2481.191       3.656       1.000
  49   59     -2481.210       4.477       0.259
  50   60     -2481.221       5.596       1.000
  51   61     -2481.250       5.182       1.000
Final RAS Transform: 
0.931882 0.020787 -0.00103895 1.42651 
0.0461915 0.99051 0.0347565 -0.966669 
0.00101604 -0.00185647 1.02332 0.257077 
0 0 0 1 

Final RAS Transform: 
0.931882 0.020787 -0.00103895 1.42651 
0.0461915 0.99051 0.0347565 -0.966669 
0.00101604 -0.00185647 1.02332 0.257077 
0 0 0 1 


real	0m10.850s
user	0m18.984s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.539866
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0958
Level     0,  Iter     1:    Energy =   0.1009
Level     0,  Iter     2:    Energy =   0.1052
Level     0,  Iter     3:    Energy =   0.1096
Level     0,  Iter     4:    Energy =   0.1121
Level     0,  Iter     5:    Energy =   0.1132
Level     0,  Iter     6:    Energy =   0.1149
Level     0,  Iter     7:    Energy =   0.1157
Level     0,  Iter     8:    Energy =   0.1169
Level     0,  Iter     9:    Energy =   0.1174
Level     0,  Iter    10:    Energy =   0.1185
Level     0,  Iter    11:    Energy =   0.1188
Level     0,  Iter    12:    Energy =   0.1196
Level     0,  Iter    13:    Energy =   0.1198
Level     0,  Iter    14:    Energy =   0.1206
Level     0,  Iter    15:    Energy =   0.1206
Level     0,  Iter    16:    Energy =   0.1213
Level     0,  Iter    17:    Energy =   0.1213
Level     0,  Iter    18:    Energy =   0.1218
Level     0,  Iter    19:    Energy =   0.1218
Level     0,  Iter    20:    Energy =   0.1222
Level     0,  Iter    21:    Energy =   0.1221
Level     0,  Iter    22:    Energy =   0.1225
Level     0,  Iter    23:    Energy =   0.1223
Level     0,  Iter    24:    Energy =   0.1227
Level     0,  Iter    25:    Energy =   0.1225
Level     0,  Iter    26:    Energy =   0.1229
Level     0,  Iter    27:    Energy =   0.1227
Level     0,  Iter    28:    Energy =   0.1231
Level     0,  Iter    29:    Energy =   0.1229
Level     0,  Iter    30:    Energy =   0.1232
Level     0,  Iter    31:    Energy =   0.1230
Level     0,  Iter    32:    Energy =   0.1233
Level     0,  Iter    33:    Energy =   0.1231
Level     0,  Iter    34:    Energy =   0.1234
Level     0,  Iter    35:    Energy =   0.1232
Level     0,  Iter    36:    Energy =   0.1236
Level     0,  Iter    37:    Energy =   0.1233
Level     0,  Iter    38:    Energy =   0.1236
Level     0,  Iter    39:    Energy =   0.1234
Level     0,  Iter    40:    Energy =   0.1238
Level     0,  Iter    41:    Energy =   0.1235
Level     0,  Iter    42:    Energy =   0.1238
Level     0,  Iter    43:    Energy =   0.1236
Level     0,  Iter    44:    Energy =   0.1239
Level     0,  Iter    45:    Energy =   0.1236
Level     0,  Iter    46:    Energy =   0.1240
Level     0,  Iter    47:    Energy =   0.1237
Level     0,  Iter    48:    Energy =   0.1240
Level     0,  Iter    49:    Energy =   0.1237
Level     0,  Iter    50:    Energy =   0.1240
Level     0,  Iter    51:    Energy =   0.1238
Level     0,  Iter    52:    Energy =   0.1241
Level     0,  Iter    53:    Energy =   0.1238
Level     0,  Iter    54:    Energy =   0.1241
Level     0,  Iter    55:    Energy =   0.1239
Level     0,  Iter    56:    Energy =   0.1242
Level     0,  Iter    57:    Energy =   0.1239
Level     0,  Iter    58:    Energy =   0.1242
Level     0,  Iter    59:    Energy =   0.1239
END OF LEVEL     0    DetJac Range:   0.2333  to   2.0146 
  Avg. Gradient Time  : 0.0077s  34.57% 
  Avg. Gaussian Time  : 0.0111s  49.91% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0853
Level     1,  Iter     1:    Energy =   0.0889
Level     1,  Iter     2:    Energy =   0.0927
Level     1,  Iter     3:    Energy =   0.0954
Level     1,  Iter     4:    Energy =   0.0982
Level     1,  Iter     5:    Energy =   0.1009
Level     1,  Iter     6:    Energy =   0.1031
Level     1,  Iter     7:    Energy =   0.1049
Level     1,  Iter     8:    Energy =   0.1062
Level     1,  Iter     9:    Energy =   0.1072
Level     1,  Iter    10:    Energy =   0.1081
Level     1,  Iter    11:    Energy =   0.1083
Level     1,  Iter    12:    Energy =   0.1093
Level     1,  Iter    13:    Energy =   0.1093
Level     1,  Iter    14:    Energy =   0.1103
Level     1,  Iter    15:    Energy =   0.1103
Level     1,  Iter    16:    Energy =   0.1111
Level     1,  Iter    17:    Energy =   0.1109
Level     1,  Iter    18:    Energy =   0.1115
Level     1,  Iter    19:    Energy =   0.1116
Level     1,  Iter    20:    Energy =   0.1118
Level     1,  Iter    21:    Energy =   0.1116
Level     1,  Iter    22:    Energy =   0.1122
Level     1,  Iter    23:    Energy =   0.1125
Level     1,  Iter    24:    Energy =   0.1123
Level     1,  Iter    25:    Energy =   0.1122
Level     1,  Iter    26:    Energy =   0.1126
Level     1,  Iter    27:    Energy =   0.1124
Level     1,  Iter    28:    Energy =   0.1130
Level     1,  Iter    29:    Energy =   0.1128
Level     1,  Iter    30:    Energy =   0.1131
Level     1,  Iter    31:    Energy =   0.1129
Level     1,  Iter    32:    Energy =   0.1132
Level     1,  Iter    33:    Energy =   0.1130
Level     1,  Iter    34:    Energy =   0.1131
Level     1,  Iter    35:    Energy =   0.1130
Level     1,  Iter    36:    Energy =   0.1133
Level     1,  Iter    37:    Energy =   0.1132
Level     1,  Iter    38:    Energy =   0.1132
Level     1,  Iter    39:    Energy =   0.1132
Level     1,  Iter    40:    Energy =   0.1133
Level     1,  Iter    41:    Energy =   0.1132
Level     1,  Iter    42:    Energy =   0.1132
Level     1,  Iter    43:    Energy =   0.1132
Level     1,  Iter    44:    Energy =   0.1132
Level     1,  Iter    45:    Energy =   0.1133
Level     1,  Iter    46:    Energy =   0.1133
Level     1,  Iter    47:    Energy =   0.1133
Level     1,  Iter    48:    Energy =   0.1133
Level     1,  Iter    49:    Energy =   0.1134
Level     1,  Iter    50:    Energy =   0.1134
Level     1,  Iter    51:    Energy =   0.1134
Level     1,  Iter    52:    Energy =   0.1134
Level     1,  Iter    53:    Energy =   0.1134
Level     1,  Iter    54:    Energy =   0.1135
Level     1,  Iter    55:    Energy =   0.1135
Level     1,  Iter    56:    Energy =   0.1136
Level     1,  Iter    57:    Energy =   0.1135
Level     1,  Iter    58:    Energy =   0.1138
Level     1,  Iter    59:    Energy =   0.1137
END OF LEVEL     1    DetJac Range:   0.0317  to   3.5626 
  Avg. Gradient Time  : 0.0436s  33.03% 
  Avg. Gaussian Time  : 0.0715s  54.14% 
  Avg. Iteration Time : 0.1320s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0587
Level     2,  Iter     1:    Energy =   0.0611
Level     2,  Iter     2:    Energy =   0.0632
Level     2,  Iter     3:    Energy =   0.0651
Level     2,  Iter     4:    Energy =   0.0668
Level     2,  Iter     5:    Energy =   0.0685
Level     2,  Iter     6:    Energy =   0.0702
Level     2,  Iter     7:    Energy =   0.0717
Level     2,  Iter     8:    Energy =   0.0730
Level     2,  Iter     9:    Energy =   0.0744
Level     2,  Iter    10:    Energy =   0.0756
Level     2,  Iter    11:    Energy =   0.0766
Level     2,  Iter    12:    Energy =   0.0776
Level     2,  Iter    13:    Energy =   0.0784
Level     2,  Iter    14:    Energy =   0.0792
Level     2,  Iter    15:    Energy =   0.0801
Level     2,  Iter    16:    Energy =   0.0808
Level     2,  Iter    17:    Energy =   0.0814
Level     2,  Iter    18:    Energy =   0.0819
Level     2,  Iter    19:    Energy =   0.0817
END OF LEVEL     2    DetJac Range:   0.0243  to   4.0965 
  Avg. Gradient Time  : 0.3051s  26.64% 
  Avg. Gaussian Time  : 0.7029s  61.37% 
  Avg. Iteration Time : 1.1454s 

real	0m37.225s
user	1m7.424s
sys	0m2.248s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.430769 0.436538
+ echo 'CHUNK 0.430769 0.436538 1'
CHUNK 0.430769 0.436538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.430769 0.436538 1
====================================
         PROGRESS: 0.430769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.755546
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3975.5   GNORM= 849.18
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4120.183     254.533       0.000
   2    4     -4143.530     206.441       1.000
   3    5     -4179.675     191.476       1.000
   4    6     -4204.571     167.409       1.000
   5    7     -4255.805     148.651       1.000
   6    8     -4273.098     145.030       1.000
   7    9     -4281.721     108.339       1.000
   8   10     -4290.492      70.291       1.000
   9   11     -4298.218      76.952       1.000
  10   12     -4302.042     176.128       1.000
  11   13     -4308.887      58.133       1.000
  12   14     -4311.237      30.447       1.000
  13   15     -4313.413      41.939       1.000
  14   16     -4314.026      27.801       1.000
  15   17     -4314.821      18.475       1.000
  16   18     -4315.541      19.046       1.000
  17   19     -4316.370      35.243       1.000
  18   20     -4316.459      47.319       1.000
  19   21     -4317.073      14.688       1.000
  20   22     -4317.195       9.706       1.000
  21   23     -4317.322      26.280       1.000
  22   24     -4317.448      17.144       1.000
  23   25     -4317.639      21.052       1.000
  24   26     -4317.755      10.424       1.000
  25   27     -4317.854      10.660       1.000
  26   28     -4317.962      19.940       1.000
  27   29     -4318.104      28.539       1.000
  28   30     -4318.285      16.866       1.000
  29   31     -4318.391      11.269       1.000
  30   32     -4318.446       8.014       1.000
  31   33     -4318.505       9.844       1.000
  32   34     -4318.578       7.844       1.000
  33   36     -4318.619       2.586       0.222
  34   37     -4318.639       3.330       1.000
  35   39     -4318.651       3.979       0.444
  36   41     -4318.668       5.023       0.293
  37   42     -4318.678       8.322       1.000
  38   43     -4318.715       7.341       1.000
  39   44     -4318.743       3.682       1.000
Final RAS Transform: 
0.97146 0.024649 -0.0120731 0.731216 
-0.00150343 1.01107 0.0622796 0.665775 
0.0192291 -0.00661921 1.03468 -0.29191 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3006.91   GNORM= 240.714
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3019.148     122.875       0.000
   2    4     -3024.390     101.030       1.000
   3    5     -3030.761      50.526       1.000
   4    6     -3032.582      40.672       1.000
   5    7     -3040.519      57.415       1.000
   6    8     -3047.508      91.901       1.000
   7    9     -3052.446      29.008       1.000
   8   10     -3053.499      40.239       1.000
   9   11     -3053.897      44.818       1.000
  10   12     -3054.258      29.377       1.000
  11   13     -3055.343      28.511       1.000
  12   14     -3055.884      42.345       1.000
  13   15     -3056.455      25.674       1.000
  14   16     -3056.692      13.756       1.000
  15   17     -3056.849      13.568       1.000
  16   18     -3057.199      23.151       1.000
  17   19     -3057.739      51.762       1.000
  18   20     -3058.647      58.604       1.000
  19   21     -3059.207      71.449       1.000
  20   22     -3060.360      24.530       1.000
  21   23     -3060.672       7.839       1.000
  22   24     -3060.705       6.966       1.000
  23   25     -3060.868       9.826       1.000
  24   26     -3061.108       8.638       1.000
  25   27     -3061.338      12.365       1.000
  26   28     -3061.550      13.118       1.000
  27   30     -3061.596      21.183       0.150
  28   31     -3061.707       8.333       1.000
  29   32     -3061.743       6.394       1.000
  30   33     -3061.770       5.449       1.000
  31   34     -3061.854       4.984       1.000
  32   35     -3062.005      11.273       1.000
  33   36     -3062.093       3.248       1.000
  34   37     -3062.118       5.193       1.000
  35   38     -3062.163       5.372       1.000
  36   39     -3062.211       5.934       1.000
  37   41     -3062.227       5.889       0.346
  38   42     -3062.266       6.695       1.000
  39   43     -3062.355       4.467       1.000
  40   44     -3062.405       4.952       1.000
  41   45     -3062.444       9.843       1.000
  42   46     -3062.474       5.377       1.000
  43   47     -3062.477       2.685       1.000
  44   48     -3062.490       1.519       1.000
  45   49     -3062.497       1.690       1.000
  46   50     -3062.503       3.032       1.000
  47   51     -3062.521       3.621       1.000
Final RAS Transform: 
0.983642 0.00790852 0.00472039 0.290931 
-0.0026385 1.01074 0.0437667 0.540299 
0.00680988 -0.0036868 1.03426 -0.0852878 
0 0 0 1 

Final RAS Transform: 
0.983642 0.00790852 0.00472039 0.290931 
-0.0026385 1.01074 0.0437667 0.540299 
0.00680988 -0.0036868 1.03426 -0.0852878 
0 0 0 1 


real	0m10.718s
user	0m18.772s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.763445
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1220
Level     0,  Iter     1:    Energy =   0.1289
Level     0,  Iter     2:    Energy =   0.1331
Level     0,  Iter     3:    Energy =   0.1373
Level     0,  Iter     4:    Energy =   0.1391
Level     0,  Iter     5:    Energy =   0.1399
Level     0,  Iter     6:    Energy =   0.1414
Level     0,  Iter     7:    Energy =   0.1420
Level     0,  Iter     8:    Energy =   0.1431
Level     0,  Iter     9:    Energy =   0.1436
Level     0,  Iter    10:    Energy =   0.1445
Level     0,  Iter    11:    Energy =   0.1450
Level     0,  Iter    12:    Energy =   0.1457
Level     0,  Iter    13:    Energy =   0.1461
Level     0,  Iter    14:    Energy =   0.1463
Level     0,  Iter    15:    Energy =   0.1467
Level     0,  Iter    16:    Energy =   0.1472
Level     0,  Iter    17:    Energy =   0.1474
Level     0,  Iter    18:    Energy =   0.1468
Level     0,  Iter    19:    Energy =   0.1473
Level     0,  Iter    20:    Energy =   0.1477
Level     0,  Iter    21:    Energy =   0.1479
Level     0,  Iter    22:    Energy =   0.1481
Level     0,  Iter    23:    Energy =   0.1484
Level     0,  Iter    24:    Energy =   0.1485
Level     0,  Iter    25:    Energy =   0.1486
Level     0,  Iter    26:    Energy =   0.1486
Level     0,  Iter    27:    Energy =   0.1485
Level     0,  Iter    28:    Energy =   0.1482
Level     0,  Iter    29:    Energy =   0.1486
Level     0,  Iter    30:    Energy =   0.1489
Level     0,  Iter    31:    Energy =   0.1487
Level     0,  Iter    32:    Energy =   0.1485
Level     0,  Iter    33:    Energy =   0.1485
Level     0,  Iter    34:    Energy =   0.1487
Level     0,  Iter    35:    Energy =   0.1487
Level     0,  Iter    36:    Energy =   0.1488
Level     0,  Iter    37:    Energy =   0.1488
Level     0,  Iter    38:    Energy =   0.1489
Level     0,  Iter    39:    Energy =   0.1489
Level     0,  Iter    40:    Energy =   0.1488
Level     0,  Iter    41:    Energy =   0.1489
Level     0,  Iter    42:    Energy =   0.1491
Level     0,  Iter    43:    Energy =   0.1490
Level     0,  Iter    44:    Energy =   0.1488
Level     0,  Iter    45:    Energy =   0.1489
Level     0,  Iter    46:    Energy =   0.1492
Level     0,  Iter    47:    Energy =   0.1490
Level     0,  Iter    48:    Energy =   0.1487
Level     0,  Iter    49:    Energy =   0.1488
Level     0,  Iter    50:    Energy =   0.1489
Level     0,  Iter    51:    Energy =   0.1489
Level     0,  Iter    52:    Energy =   0.1488
Level     0,  Iter    53:    Energy =   0.1490
Level     0,  Iter    54:    Energy =   0.1492
Level     0,  Iter    55:    Energy =   0.1490
Level     0,  Iter    56:    Energy =   0.1487
Level     0,  Iter    57:    Energy =   0.1487
Level     0,  Iter    58:    Energy =   0.1487
Level     0,  Iter    59:    Energy =   0.1489
END OF LEVEL     0    DetJac Range:   0.2687  to   2.5641 
  Avg. Gradient Time  : 0.0076s  34.65% 
  Avg. Gaussian Time  : 0.0109s  49.65% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1009
Level     1,  Iter     1:    Energy =   0.1048
Level     1,  Iter     2:    Energy =   0.1089
Level     1,  Iter     3:    Energy =   0.1118
Level     1,  Iter     4:    Energy =   0.1145
Level     1,  Iter     5:    Energy =   0.1165
Level     1,  Iter     6:    Energy =   0.1180
Level     1,  Iter     7:    Energy =   0.1187
Level     1,  Iter     8:    Energy =   0.1196
Level     1,  Iter     9:    Energy =   0.1202
Level     1,  Iter    10:    Energy =   0.1207
Level     1,  Iter    11:    Energy =   0.1214
Level     1,  Iter    12:    Energy =   0.1217
Level     1,  Iter    13:    Energy =   0.1223
Level     1,  Iter    14:    Energy =   0.1224
Level     1,  Iter    15:    Energy =   0.1230
Level     1,  Iter    16:    Energy =   0.1230
Level     1,  Iter    17:    Energy =   0.1236
Level     1,  Iter    18:    Energy =   0.1235
Level     1,  Iter    19:    Energy =   0.1240
Level     1,  Iter    20:    Energy =   0.1239
Level     1,  Iter    21:    Energy =   0.1243
Level     1,  Iter    22:    Energy =   0.1242
Level     1,  Iter    23:    Energy =   0.1247
Level     1,  Iter    24:    Energy =   0.1245
Level     1,  Iter    25:    Energy =   0.1249
Level     1,  Iter    26:    Energy =   0.1247
Level     1,  Iter    27:    Energy =   0.1251
Level     1,  Iter    28:    Energy =   0.1249
Level     1,  Iter    29:    Energy =   0.1252
Level     1,  Iter    30:    Energy =   0.1251
Level     1,  Iter    31:    Energy =   0.1253
Level     1,  Iter    32:    Energy =   0.1252
Level     1,  Iter    33:    Energy =   0.1255
Level     1,  Iter    34:    Energy =   0.1253
Level     1,  Iter    35:    Energy =   0.1257
Level     1,  Iter    36:    Energy =   0.1255
Level     1,  Iter    37:    Energy =   0.1258
Level     1,  Iter    38:    Energy =   0.1256
Level     1,  Iter    39:    Energy =   0.1257
Level     1,  Iter    40:    Energy =   0.1256
Level     1,  Iter    41:    Energy =   0.1258
Level     1,  Iter    42:    Energy =   0.1256
Level     1,  Iter    43:    Energy =   0.1259
Level     1,  Iter    44:    Energy =   0.1258
Level     1,  Iter    45:    Energy =   0.1260
Level     1,  Iter    46:    Energy =   0.1258
Level     1,  Iter    47:    Energy =   0.1259
Level     1,  Iter    48:    Energy =   0.1257
Level     1,  Iter    49:    Energy =   0.1260
Level     1,  Iter    50:    Energy =   0.1258
Level     1,  Iter    51:    Energy =   0.1261
Level     1,  Iter    52:    Energy =   0.1259
Level     1,  Iter    53:    Energy =   0.1261
Level     1,  Iter    54:    Energy =   0.1259
Level     1,  Iter    55:    Energy =   0.1261
Level     1,  Iter    56:    Energy =   0.1259
Level     1,  Iter    57:    Energy =   0.1261
Level     1,  Iter    58:    Energy =   0.1259
Level     1,  Iter    59:    Energy =   0.1262
END OF LEVEL     1    DetJac Range:   0.1455  to   2.8711 
  Avg. Gradient Time  : 0.0432s  32.77% 
  Avg. Gaussian Time  : 0.0716s  54.36% 
  Avg. Iteration Time : 0.1317s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0666
Level     2,  Iter     1:    Energy =   0.0696
Level     2,  Iter     2:    Energy =   0.0720
Level     2,  Iter     3:    Energy =   0.0738
Level     2,  Iter     4:    Energy =   0.0756
Level     2,  Iter     5:    Energy =   0.0772
Level     2,  Iter     6:    Energy =   0.0786
Level     2,  Iter     7:    Energy =   0.0801
Level     2,  Iter     8:    Energy =   0.0814
Level     2,  Iter     9:    Energy =   0.0826
Level     2,  Iter    10:    Energy =   0.0838
Level     2,  Iter    11:    Energy =   0.0850
Level     2,  Iter    12:    Energy =   0.0861
Level     2,  Iter    13:    Energy =   0.0871
Level     2,  Iter    14:    Energy =   0.0873
Level     2,  Iter    15:    Energy =   0.0872
Level     2,  Iter    16:    Energy =   0.0880
Level     2,  Iter    17:    Energy =   0.0877
Level     2,  Iter    18:    Energy =   0.0886
Level     2,  Iter    19:    Energy =   0.0883
END OF LEVEL     2    DetJac Range:   0.0785  to   4.4962 
  Avg. Gradient Time  : 0.3045s  26.69% 
  Avg. Gaussian Time  : 0.6993s  61.29% 
  Avg. Iteration Time : 1.1410s 

real	0m36.971s
user	1m7.140s
sys	0m2.140s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.436538 0.442308
+ echo 'CHUNK 0.436538 0.442308 1'
CHUNK 0.436538 0.442308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.436538 0.442308 1
====================================
         PROGRESS: 0.436538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.683794
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3630.27   GNORM= 397.111
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3674.939     216.376       0.001
   2    4     -3693.445     174.503       1.000
   3    5     -3731.253     116.995       1.000
   4    6     -3752.637      95.797       1.000
   5    7     -3771.069     107.703       1.000
   6    8     -3778.389     147.381       1.000
   7    9     -3789.537      84.850       1.000
   8   10     -3795.330     110.129       1.000
   9   11     -3801.118      49.190       1.000
  10   12     -3805.849      54.888       1.000
  11   13     -3810.232      63.822       1.000
  12   14     -3817.120      47.550       1.000
  13   15     -3824.362      65.324       1.000
  14   16     -3828.257      23.448       1.000
  15   17     -3829.174      14.210       1.000
  16   19     -3829.276      14.271       0.404
  17   20     -3829.459      15.237       1.000
  18   21     -3829.691      18.901       1.000
  19   22     -3830.019      14.735       1.000
  20   23     -3830.233      12.085       1.000
  21   24     -3830.444      10.347       1.000
  22   25     -3830.583      18.067       1.000
  23   26     -3830.680      11.171       1.000
  24   27     -3830.734       5.954       1.000
  25   29     -3830.786       4.298       0.226
  26   31     -3830.807       6.981       0.471
  27   32     -3830.842       3.670       1.000
  28   33     -3830.888       7.115       1.000
  29   35     -3830.925       6.767       0.458
  30   36     -3830.978       6.420       1.000
  31   37     -3831.053       4.208       1.000
  32   39     -3831.079      10.353       0.435
  33   40     -3831.124       3.084       1.000
  34   42     -3831.153       6.688       5.000
  35   43     -3831.161       3.165       1.000
  36   44     -3831.170       6.908       1.000
  37   45     -3831.201       7.293       1.000
  38   46     -3831.222       5.329       1.000
  39   48     -3831.225       2.255       0.322
  40   51     -3831.228       2.171       0.038
  41   54     -3831.228       2.291       0.024
  42   56     -3831.231       2.613       0.218
  43   57     -3831.232       1.771       1.000
Final RAS Transform: 
0.950798 -0.00324658 -0.0356158 0.694489 
0.0157153 1.00924 0.0542438 0.140218 
0.0264839 -0.0050362 1.02336 -0.354958 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2778.29   GNORM= 267.726
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2798.119     159.890       0.000
   2    4     -2807.686      71.580       1.000
   3    5     -2810.801      44.710       1.000
   4    6     -2813.103      52.029       1.000
   5    7     -2819.959      97.113       1.000
   6    8     -2828.111     116.127       1.000
   7    9     -2828.443     183.394       1.000
   8   10     -2834.247      57.965       1.000
   9   11     -2835.349      31.059       1.000
  10   12     -2835.905      12.183       1.000
  11   13     -2836.171      15.163       1.000
  12   14     -2838.001      41.502       1.000
  13   15     -2839.767      44.689       1.000
  14   17     -2840.221      52.065       0.254
  15   18     -2841.523      27.977       1.000
  16   19     -2842.227      11.987       1.000
  17   20     -2842.505      10.405       1.000
  18   22     -2843.162      22.739       0.481
  19   23     -2844.080      37.153       1.000
  20   24     -2844.732      71.906       1.000
  21   25     -2845.742      17.788       1.000
  22   26     -2845.905      13.163       1.000
  23   27     -2846.087      17.193       1.000
  24   28     -2846.270      15.472       1.000
  25   29     -2847.180      18.974       1.000
  26   30     -2847.334      24.259       1.000
  27   31     -2847.481      20.063       1.000
  28   32     -2847.594       6.329       1.000
  29   33     -2847.618       7.727       1.000
  30   34     -2847.672      13.776       1.000
  31   35     -2847.807      14.813       1.000
  32   36     -2848.096      11.358       1.000
  33   37     -2848.406      21.299       1.000
  34   38     -2848.463      32.777       1.000
  35   39     -2848.654       5.380       1.000
  36   40     -2848.669       7.970       1.000
  37   41     -2848.701       8.222       1.000
  38   42     -2848.772       9.100       1.000
  39   44     -2848.884       5.127       0.516
  40   45     -2848.936      14.743       1.000
  41   46     -2848.986       5.339       1.000
  42   47     -2849.004       3.175       1.000
  43   48     -2849.014       2.919       1.000
  44   49     -2849.018       4.136       1.000
  45   50     -2849.039       3.144       1.000
  46   51     -2849.077       3.212       1.000
  47   52     -2849.094       2.240       1.000
  48   53     -2849.105       2.049       1.000
  49   55     -2849.110       2.179       0.340
  50   56     -2849.114       1.326       1.000
Final RAS Transform: 
0.977987 0.00136671 -0.0154061 0.0842533 
0.00544112 1.01166 0.0538109 0.292251 
0.00832679 -0.00257594 1.02405 0.123674 
0 0 0 1 

Final RAS Transform: 
0.977987 0.00136671 -0.0154061 0.0842533 
0.00544112 1.01166 0.0538109 0.292251 
0.00832679 -0.00257594 1.02405 0.123674 
0 0 0 1 


real	0m10.482s
user	0m18.444s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.684434
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1093
Level     0,  Iter     1:    Energy =   0.1158
Level     0,  Iter     2:    Energy =   0.1201
Level     0,  Iter     3:    Energy =   0.1242
Level     0,  Iter     4:    Energy =   0.1283
Level     0,  Iter     5:    Energy =   0.1317
Level     0,  Iter     6:    Energy =   0.1334
Level     0,  Iter     7:    Energy =   0.1341
Level     0,  Iter     8:    Energy =   0.1352
Level     0,  Iter     9:    Energy =   0.1355
Level     0,  Iter    10:    Energy =   0.1364
Level     0,  Iter    11:    Energy =   0.1364
Level     0,  Iter    12:    Energy =   0.1366
Level     0,  Iter    13:    Energy =   0.1366
Level     0,  Iter    14:    Energy =   0.1369
Level     0,  Iter    15:    Energy =   0.1369
Level     0,  Iter    16:    Energy =   0.1371
Level     0,  Iter    17:    Energy =   0.1371
Level     0,  Iter    18:    Energy =   0.1374
Level     0,  Iter    19:    Energy =   0.1373
Level     0,  Iter    20:    Energy =   0.1375
Level     0,  Iter    21:    Energy =   0.1374
Level     0,  Iter    22:    Energy =   0.1376
Level     0,  Iter    23:    Energy =   0.1375
Level     0,  Iter    24:    Energy =   0.1377
Level     0,  Iter    25:    Energy =   0.1376
Level     0,  Iter    26:    Energy =   0.1378
Level     0,  Iter    27:    Energy =   0.1377
Level     0,  Iter    28:    Energy =   0.1379
Level     0,  Iter    29:    Energy =   0.1378
Level     0,  Iter    30:    Energy =   0.1380
Level     0,  Iter    31:    Energy =   0.1379
Level     0,  Iter    32:    Energy =   0.1381
Level     0,  Iter    33:    Energy =   0.1380
Level     0,  Iter    34:    Energy =   0.1382
Level     0,  Iter    35:    Energy =   0.1381
Level     0,  Iter    36:    Energy =   0.1383
Level     0,  Iter    37:    Energy =   0.1382
Level     0,  Iter    38:    Energy =   0.1384
Level     0,  Iter    39:    Energy =   0.1383
Level     0,  Iter    40:    Energy =   0.1385
Level     0,  Iter    41:    Energy =   0.1384
Level     0,  Iter    42:    Energy =   0.1385
Level     0,  Iter    43:    Energy =   0.1384
Level     0,  Iter    44:    Energy =   0.1385
Level     0,  Iter    45:    Energy =   0.1384
Level     0,  Iter    46:    Energy =   0.1386
Level     0,  Iter    47:    Energy =   0.1384
Level     0,  Iter    48:    Energy =   0.1386
Level     0,  Iter    49:    Energy =   0.1384
Level     0,  Iter    50:    Energy =   0.1385
Level     0,  Iter    51:    Energy =   0.1384
Level     0,  Iter    52:    Energy =   0.1386
Level     0,  Iter    53:    Energy =   0.1384
Level     0,  Iter    54:    Energy =   0.1386
Level     0,  Iter    55:    Energy =   0.1384
Level     0,  Iter    56:    Energy =   0.1386
Level     0,  Iter    57:    Energy =   0.1385
Level     0,  Iter    58:    Energy =   0.1386
Level     0,  Iter    59:    Energy =   0.1385
END OF LEVEL     0    DetJac Range:   0.3078  to   1.9071 
  Avg. Gradient Time  : 0.0077s  34.50% 
  Avg. Gaussian Time  : 0.0111s  49.91% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0959
Level     1,  Iter     1:    Energy =   0.1007
Level     1,  Iter     2:    Energy =   0.1042
Level     1,  Iter     3:    Energy =   0.1066
Level     1,  Iter     4:    Energy =   0.1093
Level     1,  Iter     5:    Energy =   0.1112
Level     1,  Iter     6:    Energy =   0.1132
Level     1,  Iter     7:    Energy =   0.1151
Level     1,  Iter     8:    Energy =   0.1158
Level     1,  Iter     9:    Energy =   0.1159
Level     1,  Iter    10:    Energy =   0.1174
Level     1,  Iter    11:    Energy =   0.1174
Level     1,  Iter    12:    Energy =   0.1182
Level     1,  Iter    13:    Energy =   0.1180
Level     1,  Iter    14:    Energy =   0.1185
Level     1,  Iter    15:    Energy =   0.1183
Level     1,  Iter    16:    Energy =   0.1188
Level     1,  Iter    17:    Energy =   0.1186
Level     1,  Iter    18:    Energy =   0.1190
Level     1,  Iter    19:    Energy =   0.1189
Level     1,  Iter    20:    Energy =   0.1193
Level     1,  Iter    21:    Energy =   0.1191
Level     1,  Iter    22:    Energy =   0.1195
Level     1,  Iter    23:    Energy =   0.1193
Level     1,  Iter    24:    Energy =   0.1197
Level     1,  Iter    25:    Energy =   0.1195
Level     1,  Iter    26:    Energy =   0.1199
Level     1,  Iter    27:    Energy =   0.1197
Level     1,  Iter    28:    Energy =   0.1201
Level     1,  Iter    29:    Energy =   0.1199
Level     1,  Iter    30:    Energy =   0.1203
Level     1,  Iter    31:    Energy =   0.1201
Level     1,  Iter    32:    Energy =   0.1205
Level     1,  Iter    33:    Energy =   0.1203
Level     1,  Iter    34:    Energy =   0.1207
Level     1,  Iter    35:    Energy =   0.1204
Level     1,  Iter    36:    Energy =   0.1208
Level     1,  Iter    37:    Energy =   0.1205
Level     1,  Iter    38:    Energy =   0.1210
Level     1,  Iter    39:    Energy =   0.1207
Level     1,  Iter    40:    Energy =   0.1211
Level     1,  Iter    41:    Energy =   0.1208
Level     1,  Iter    42:    Energy =   0.1212
Level     1,  Iter    43:    Energy =   0.1209
Level     1,  Iter    44:    Energy =   0.1212
Level     1,  Iter    45:    Energy =   0.1209
Level     1,  Iter    46:    Energy =   0.1213
Level     1,  Iter    47:    Energy =   0.1210
Level     1,  Iter    48:    Energy =   0.1213
Level     1,  Iter    49:    Energy =   0.1210
Level     1,  Iter    50:    Energy =   0.1214
Level     1,  Iter    51:    Energy =   0.1211
Level     1,  Iter    52:    Energy =   0.1214
Level     1,  Iter    53:    Energy =   0.1211
Level     1,  Iter    54:    Energy =   0.1215
Level     1,  Iter    55:    Energy =   0.1212
Level     1,  Iter    56:    Energy =   0.1215
Level     1,  Iter    57:    Energy =   0.1212
Level     1,  Iter    58:    Energy =   0.1215
Level     1,  Iter    59:    Energy =   0.1212
END OF LEVEL     1    DetJac Range:   0.1954  to   3.2123 
  Avg. Gradient Time  : 0.0432s  32.78% 
  Avg. Gaussian Time  : 0.0716s  54.32% 
  Avg. Iteration Time : 0.1318s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0654
Level     2,  Iter     1:    Energy =   0.0682
Level     2,  Iter     2:    Energy =   0.0706
Level     2,  Iter     3:    Energy =   0.0728
Level     2,  Iter     4:    Energy =   0.0748
Level     2,  Iter     5:    Energy =   0.0765
Level     2,  Iter     6:    Energy =   0.0779
Level     2,  Iter     7:    Energy =   0.0793
Level     2,  Iter     8:    Energy =   0.0804
Level     2,  Iter     9:    Energy =   0.0812
Level     2,  Iter    10:    Energy =   0.0818
Level     2,  Iter    11:    Energy =   0.0824
Level     2,  Iter    12:    Energy =   0.0830
Level     2,  Iter    13:    Energy =   0.0835
Level     2,  Iter    14:    Energy =   0.0842
Level     2,  Iter    15:    Energy =   0.0848
Level     2,  Iter    16:    Energy =   0.0854
Level     2,  Iter    17:    Energy =   0.0859
Level     2,  Iter    18:    Energy =   0.0864
Level     2,  Iter    19:    Energy =   0.0865
END OF LEVEL     2    DetJac Range:   0.0667  to   4.3998 
  Avg. Gradient Time  : 0.3047s  29.79% 
  Avg. Gaussian Time  : 0.5806s  56.76% 
  Avg. Iteration Time : 1.0229s 

real	0m34.708s
user	1m2.496s
sys	0m2.236s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.442308 0.448077
+ echo 'CHUNK 0.442308 0.448077 1'
CHUNK 0.442308 0.448077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.442308 0.448077 1
====================================
         PROGRESS: 0.442308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.409406
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3164.38   GNORM= 770.57
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3332.174     286.340       0.001
   2    4     -3363.456     193.985       1.000
   3    5     -3402.146     125.169       1.000
   4    6     -3429.093     131.555       1.000
   5    7     -3452.839      94.518       1.000
   6    8     -3470.026      91.786       1.000
   7    9     -3490.205     171.578       1.000
   8   10     -3515.711     189.260       1.000
   9   11     -3550.963      78.400       1.000
  10   12     -3560.987      61.610       1.000
  11   13     -3565.389      46.945       1.000
  12   14     -3568.216      54.435       1.000
  13   16     -3571.178      54.938       0.351
  14   17     -3572.347      82.579       1.000
  15   18     -3574.113      10.340       1.000
  16   19     -3574.319       8.345       1.000
  17   20     -3574.524      15.164       1.000
  18   21     -3574.822      15.164       1.000
  19   22     -3575.066      12.018       1.000
  20   23     -3575.155       7.733       1.000
  21   24     -3575.202       6.944       1.000
  22   25     -3575.273       5.535       1.000
  23   26     -3575.402      10.601       1.000
  24   28     -3575.476      15.154       0.326
  25   29     -3575.606       8.352       1.000
  26   30     -3575.641      10.014       1.000
  27   31     -3575.684       6.592       1.000
  28   32     -3575.710       4.708       1.000
  29   33     -3575.739       3.804       1.000
  30   34     -3575.775       8.340       1.000
  31   35     -3575.800       8.944       1.000
  32   36     -3575.839       5.307       1.000
  33   37     -3575.857       5.590       1.000
  34   38     -3575.861       4.654       1.000
  35   39     -3575.862      12.813       1.000
  36   40     -3575.906       3.737       1.000
  37   41     -3575.924       3.147       1.000
  38   43     -3575.937       4.560       0.163
Final RAS Transform: 
0.927268 0.0114494 -0.0179896 1.13159 
0.022825 0.990256 0.0168837 -0.31807 
0.040752 -0.00465732 1.04369 -0.789804 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2563.11   GNORM= 141.202
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2567.942      56.453       0.000
   2    4     -2569.598      53.503       1.000
   3    5     -2573.610      70.084       1.000
   4    6     -2577.771      69.099       1.000
   5    7     -2599.630      90.038       1.000
   6    9     -2605.493     101.339       0.472
   7   10     -2609.850      56.016       1.000
   8   11     -2611.672      33.736       1.000
   9   12     -2612.990      24.233       1.000
  10   13     -2614.127      27.974       1.000
  11   14     -2615.316      24.369       1.000
  12   15     -2616.379      13.825       1.000
  13   16     -2617.629      29.819       1.000
  14   17     -2618.771      41.160       1.000
  15   18     -2619.542      30.209       1.000
  16   19     -2619.828      28.006       1.000
  17   20     -2620.124       7.067       1.000
  18   22     -2620.349       9.271       5.000
  19   23     -2620.827      13.357       1.000
  20   25     -2621.206      26.871       0.381
  21   26     -2621.750      10.729       1.000
  22   27     -2621.949       9.771       1.000
  23   28     -2621.952      13.349       1.000
  24   29     -2622.056       8.425       1.000
  25   31     -2622.118       5.172       0.297
  26   33     -2622.234      18.392       0.336
  27   34     -2622.344       9.505       1.000
  28   35     -2622.414       6.215       1.000
  29   36     -2622.439       5.637       1.000
  30   37     -2622.524       8.521       1.000
  31   39     -2622.556      12.642       0.379
  32   40     -2622.611       5.011       1.000
  33   41     -2622.640       4.434       1.000
  34   42     -2622.662       6.011       1.000
  35   43     -2622.699       3.483       1.000
  36   44     -2622.739       4.995       1.000
  37   45     -2622.782       3.821       1.000
  38   47     -2622.793       5.247       0.415
  39   48     -2622.805       2.700       1.000
  40   49     -2622.822       3.120       1.000
  41   50     -2622.841       3.774       1.000
  42   51     -2622.850       2.436       1.000
  43   52     -2622.867       6.551       1.000
  44   53     -2622.869       3.532       1.000
  45   54     -2622.873       1.383       1.000
  46   55     -2622.875       2.673       1.000
  47   56     -2622.883       1.735       1.000
  48   57     -2622.889       2.017       1.000
Final RAS Transform: 
0.94912 0.00606572 -0.00994137 0.614948 
0.016285 0.987944 0.0182769 -0.26646 
0.0167615 0.00530779 1.05157 -0.0992 
0 0 0 1 

Final RAS Transform: 
0.94912 0.00606572 -0.00994137 0.614948 
0.016285 0.987944 0.0182769 -0.26646 
0.0167615 0.00530779 1.05157 -0.0992 
0 0 0 1 


real	0m10.594s
user	0m18.536s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.423474
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1015
Level     0,  Iter     1:    Energy =   0.1090
Level     0,  Iter     2:    Energy =   0.1142
Level     0,  Iter     3:    Energy =   0.1186
Level     0,  Iter     4:    Energy =   0.1213
Level     0,  Iter     5:    Energy =   0.1222
Level     0,  Iter     6:    Energy =   0.1243
Level     0,  Iter     7:    Energy =   0.1249
Level     0,  Iter     8:    Energy =   0.1263
Level     0,  Iter     9:    Energy =   0.1265
Level     0,  Iter    10:    Energy =   0.1272
Level     0,  Iter    11:    Energy =   0.1274
Level     0,  Iter    12:    Energy =   0.1281
Level     0,  Iter    13:    Energy =   0.1280
Level     0,  Iter    14:    Energy =   0.1284
Level     0,  Iter    15:    Energy =   0.1284
Level     0,  Iter    16:    Energy =   0.1288
Level     0,  Iter    17:    Energy =   0.1288
Level     0,  Iter    18:    Energy =   0.1292
Level     0,  Iter    19:    Energy =   0.1292
Level     0,  Iter    20:    Energy =   0.1296
Level     0,  Iter    21:    Energy =   0.1297
Level     0,  Iter    22:    Energy =   0.1301
Level     0,  Iter    23:    Energy =   0.1301
Level     0,  Iter    24:    Energy =   0.1304
Level     0,  Iter    25:    Energy =   0.1304
Level     0,  Iter    26:    Energy =   0.1307
Level     0,  Iter    27:    Energy =   0.1306
Level     0,  Iter    28:    Energy =   0.1307
Level     0,  Iter    29:    Energy =   0.1307
Level     0,  Iter    30:    Energy =   0.1309
Level     0,  Iter    31:    Energy =   0.1309
Level     0,  Iter    32:    Energy =   0.1310
Level     0,  Iter    33:    Energy =   0.1310
Level     0,  Iter    34:    Energy =   0.1312
Level     0,  Iter    35:    Energy =   0.1311
Level     0,  Iter    36:    Energy =   0.1312
Level     0,  Iter    37:    Energy =   0.1311
Level     0,  Iter    38:    Energy =   0.1313
Level     0,  Iter    39:    Energy =   0.1313
Level     0,  Iter    40:    Energy =   0.1314
Level     0,  Iter    41:    Energy =   0.1314
Level     0,  Iter    42:    Energy =   0.1315
Level     0,  Iter    43:    Energy =   0.1316
Level     0,  Iter    44:    Energy =   0.1316
Level     0,  Iter    45:    Energy =   0.1316
Level     0,  Iter    46:    Energy =   0.1318
Level     0,  Iter    47:    Energy =   0.1317
Level     0,  Iter    48:    Energy =   0.1318
Level     0,  Iter    49:    Energy =   0.1317
Level     0,  Iter    50:    Energy =   0.1319
Level     0,  Iter    51:    Energy =   0.1318
Level     0,  Iter    52:    Energy =   0.1319
Level     0,  Iter    53:    Energy =   0.1317
Level     0,  Iter    54:    Energy =   0.1318
Level     0,  Iter    55:    Energy =   0.1316
Level     0,  Iter    56:    Energy =   0.1316
Level     0,  Iter    57:    Energy =   0.1314
Level     0,  Iter    58:    Energy =   0.1314
Level     0,  Iter    59:    Energy =   0.1312
END OF LEVEL     0    DetJac Range:   0.2693  to   2.3152 
  Avg. Gradient Time  : 0.0086s  34.85% 
  Avg. Gaussian Time  : 0.0122s  49.29% 
  Avg. Iteration Time : 0.0248s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0888
Level     1,  Iter     1:    Energy =   0.0926
Level     1,  Iter     2:    Energy =   0.0961
Level     1,  Iter     3:    Energy =   0.0989
Level     1,  Iter     4:    Energy =   0.1007
Level     1,  Iter     5:    Energy =   0.1032
Level     1,  Iter     6:    Energy =   0.1057
Level     1,  Iter     7:    Energy =   0.1078
Level     1,  Iter     8:    Energy =   0.1094
Level     1,  Iter     9:    Energy =   0.1104
Level     1,  Iter    10:    Energy =   0.1116
Level     1,  Iter    11:    Energy =   0.1116
Level     1,  Iter    12:    Energy =   0.1127
Level     1,  Iter    13:    Energy =   0.1129
Level     1,  Iter    14:    Energy =   0.1130
Level     1,  Iter    15:    Energy =   0.1134
Level     1,  Iter    16:    Energy =   0.1134
Level     1,  Iter    17:    Energy =   0.1139
Level     1,  Iter    18:    Energy =   0.1138
Level     1,  Iter    19:    Energy =   0.1143
Level     1,  Iter    20:    Energy =   0.1142
Level     1,  Iter    21:    Energy =   0.1146
Level     1,  Iter    22:    Energy =   0.1145
Level     1,  Iter    23:    Energy =   0.1149
Level     1,  Iter    24:    Energy =   0.1148
Level     1,  Iter    25:    Energy =   0.1152
Level     1,  Iter    26:    Energy =   0.1150
Level     1,  Iter    27:    Energy =   0.1153
Level     1,  Iter    28:    Energy =   0.1152
Level     1,  Iter    29:    Energy =   0.1155
Level     1,  Iter    30:    Energy =   0.1153
Level     1,  Iter    31:    Energy =   0.1156
Level     1,  Iter    32:    Energy =   0.1154
Level     1,  Iter    33:    Energy =   0.1156
Level     1,  Iter    34:    Energy =   0.1155
Level     1,  Iter    35:    Energy =   0.1157
Level     1,  Iter    36:    Energy =   0.1156
Level     1,  Iter    37:    Energy =   0.1158
Level     1,  Iter    38:    Energy =   0.1157
Level     1,  Iter    39:    Energy =   0.1159
Level     1,  Iter    40:    Energy =   0.1157
Level     1,  Iter    41:    Energy =   0.1159
Level     1,  Iter    42:    Energy =   0.1158
Level     1,  Iter    43:    Energy =   0.1160
Level     1,  Iter    44:    Energy =   0.1158
Level     1,  Iter    45:    Energy =   0.1161
Level     1,  Iter    46:    Energy =   0.1159
Level     1,  Iter    47:    Energy =   0.1162
Level     1,  Iter    48:    Energy =   0.1160
Level     1,  Iter    49:    Energy =   0.1163
Level     1,  Iter    50:    Energy =   0.1160
Level     1,  Iter    51:    Energy =   0.1163
Level     1,  Iter    52:    Energy =   0.1161
Level     1,  Iter    53:    Energy =   0.1164
Level     1,  Iter    54:    Energy =   0.1161
Level     1,  Iter    55:    Energy =   0.1164
Level     1,  Iter    56:    Energy =   0.1162
Level     1,  Iter    57:    Energy =   0.1164
Level     1,  Iter    58:    Energy =   0.1162
Level     1,  Iter    59:    Energy =   0.1164
END OF LEVEL     1    DetJac Range:   0.1463  to   3.0052 
  Avg. Gradient Time  : 0.0489s  32.56% 
  Avg. Gaussian Time  : 0.0816s  54.39% 
  Avg. Iteration Time : 0.1501s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0594
Level     2,  Iter     1:    Energy =   0.0619
Level     2,  Iter     2:    Energy =   0.0640
Level     2,  Iter     3:    Energy =   0.0661
Level     2,  Iter     4:    Energy =   0.0683
Level     2,  Iter     5:    Energy =   0.0702
Level     2,  Iter     6:    Energy =   0.0717
Level     2,  Iter     7:    Energy =   0.0731
Level     2,  Iter     8:    Energy =   0.0742
Level     2,  Iter     9:    Energy =   0.0754
Level     2,  Iter    10:    Energy =   0.0765
Level     2,  Iter    11:    Energy =   0.0770
Level     2,  Iter    12:    Energy =   0.0775
Level     2,  Iter    13:    Energy =   0.0779
Level     2,  Iter    14:    Energy =   0.0785
Level     2,  Iter    15:    Energy =   0.0793
Level     2,  Iter    16:    Energy =   0.0799
Level     2,  Iter    17:    Energy =   0.0805
Level     2,  Iter    18:    Energy =   0.0810
Level     2,  Iter    19:    Energy =   0.0813
END OF LEVEL     2    DetJac Range:   0.0440  to   4.4516 
  Avg. Gradient Time  : 0.3157s  26.73% 
  Avg. Gaussian Time  : 0.7234s  61.25% 
  Avg. Iteration Time : 1.1812s 

real	0m39.535s
user	1m11.648s
sys	0m2.480s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.448077 0.453846
+ echo 'CHUNK 0.448077 0.453846 1'
CHUNK 0.448077 0.453846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.448077 0.453846 1
====================================
         PROGRESS: 0.448077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.634007
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3768.75   GNORM= 899.541
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3945.289     313.162       0.000
   2    4     -3979.498     277.282       1.000
   3    5     -4052.850     217.276       1.000
   4    6     -4084.024     138.274       1.000
   5    7     -4128.734     152.156       1.000
   6    8     -4153.941     143.859       1.000
   7    9     -4196.187     123.590       1.000
   8   10     -4211.567     296.584       1.000
   9   11     -4236.142      77.837       1.000
  10   12     -4239.624      70.848       1.000
  11   13     -4248.228      95.325       1.000
  12   14     -4262.152      88.248       1.000
  13   16     -4268.306     142.119       0.340
  14   17     -4273.230      32.609       1.000
  15   18     -4273.764      14.740       1.000
  16   19     -4273.965      12.432       1.000
  17   20     -4274.164      21.813       1.000
  18   21     -4274.575      18.291       1.000
  19   23     -4274.812      23.786       0.421
  20   24     -4275.192      27.216       1.000
  21   25     -4275.487      17.402       1.000
  22   27     -4275.532       6.527       0.346
  23   28     -4275.560       9.286       1.000
  24   29     -4275.611       9.052       1.000
  25   30     -4275.617      15.703       1.000
  26   31     -4275.691       7.335       1.000
  27   32     -4275.736       3.833       1.000
  28   33     -4275.780       7.958       1.000
  29   34     -4275.805      10.559       1.000
  30   35     -4275.828       7.015       1.000
  31   36     -4275.838       8.600       1.000
  32   37     -4275.848       4.138       1.000
  33   38     -4275.849       3.864       1.000
  34   39     -4275.863       5.169       1.000
  35   41     -4275.865       6.368       0.408
  36   42     -4275.872       4.011       1.000
  37   43     -4275.874       2.777       1.000
  38   44     -4275.881       1.470       1.000
Final RAS Transform: 
0.943548 -0.00271943 -0.0724393 0.509055 
-0.00890326 1.01257 0.0651273 0.36892 
0.0420556 0.000406926 1.03775 -0.432252 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2978.23   GNORM= 142.717
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2984.345      91.880       0.001
   2    4     -2987.231      52.429       1.000
   3    5     -2990.038      48.762       1.000
   4    6     -2993.401      68.364       1.000
   5    7     -3003.853     105.631       1.000
   6    8     -3011.478     136.628       1.000
   7    9     -3018.213      87.134       1.000
   8   10     -3018.743     124.279       1.000
   9   11     -3020.983      33.615       1.000
  10   12     -3021.426      30.255       1.000
  11   13     -3024.209      36.851       1.000
  12   14     -3025.387      19.220       1.000
  13   15     -3026.062      15.177       1.000
  14   16     -3027.044      73.298       1.000
  15   17     -3028.974      36.276       1.000
  16   18     -3030.543      24.023       1.000
  17   19     -3032.482      43.793       1.000
  18   20     -3032.555      47.078       1.000
  19   21     -3033.265      19.690       1.000
  20   22     -3033.540      14.984       1.000
  21   23     -3034.013      17.519       1.000
  22   24     -3034.872      32.706       1.000
  23   26     -3035.128      16.448       0.456
  24   27     -3035.307      10.750       1.000
  25   28     -3035.509      10.237       1.000
  26   30     -3035.810      19.872       0.461
  27   31     -3036.186      16.554       1.000
  28   32     -3037.249      17.919       1.000
  29   33     -3037.602      10.442       1.000
  30   34     -3037.650      10.105       1.000
  31   35     -3037.730       9.189       1.000
  32   36     -3037.881      13.941       1.000
  33   37     -3037.949       9.002       1.000
  34   38     -3037.981       5.346       1.000
  35   39     -3038.003       4.111       1.000
  36   40     -3038.030       7.676       1.000
  37   41     -3038.054       7.158       1.000
  38   42     -3038.123       8.911       1.000
  39   43     -3038.160       2.221       1.000
  40   44     -3038.176       2.639       1.000
  41   45     -3038.215       2.885       1.000
  42   47     -3038.253       7.171       0.378
  43   49     -3038.259       2.354       0.253
  44   50     -3038.268       3.697       1.000
  45   51     -3038.279       2.150       1.000
  46   52     -3038.298       2.642       1.000
  47   54     -3038.310       2.405       0.359
Final RAS Transform: 
0.965206 0.00103256 -0.0317977 0.331181 
-0.0020758 1.01868 0.0599037 0.377974 
0.0258145 0.00216302 1.03586 -0.122275 
0 0 0 1 

Final RAS Transform: 
0.965206 0.00103256 -0.0317977 0.331181 
-0.0020758 1.01868 0.0599037 0.377974 
0.0258145 0.00216302 1.03586 -0.122275 
0 0 0 1 


real	0m10.630s
user	0m18.632s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.64413
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1214
Level     0,  Iter     1:    Energy =   0.1277
Level     0,  Iter     2:    Energy =   0.1326
Level     0,  Iter     3:    Energy =   0.1355
Level     0,  Iter     4:    Energy =   0.1373
Level     0,  Iter     5:    Energy =   0.1387
Level     0,  Iter     6:    Energy =   0.1398
Level     0,  Iter     7:    Energy =   0.1407
Level     0,  Iter     8:    Energy =   0.1414
Level     0,  Iter     9:    Energy =   0.1419
Level     0,  Iter    10:    Energy =   0.1424
Level     0,  Iter    11:    Energy =   0.1427
Level     0,  Iter    12:    Energy =   0.1430
Level     0,  Iter    13:    Energy =   0.1432
Level     0,  Iter    14:    Energy =   0.1434
Level     0,  Iter    15:    Energy =   0.1435
Level     0,  Iter    16:    Energy =   0.1437
Level     0,  Iter    17:    Energy =   0.1438
Level     0,  Iter    18:    Energy =   0.1440
Level     0,  Iter    19:    Energy =   0.1440
Level     0,  Iter    20:    Energy =   0.1442
Level     0,  Iter    21:    Energy =   0.1442
Level     0,  Iter    22:    Energy =   0.1444
Level     0,  Iter    23:    Energy =   0.1444
Level     0,  Iter    24:    Energy =   0.1445
Level     0,  Iter    25:    Energy =   0.1446
Level     0,  Iter    26:    Energy =   0.1447
Level     0,  Iter    27:    Energy =   0.1447
Level     0,  Iter    28:    Energy =   0.1448
Level     0,  Iter    29:    Energy =   0.1448
Level     0,  Iter    30:    Energy =   0.1449
Level     0,  Iter    31:    Energy =   0.1449
Level     0,  Iter    32:    Energy =   0.1450
Level     0,  Iter    33:    Energy =   0.1450
Level     0,  Iter    34:    Energy =   0.1451
Level     0,  Iter    35:    Energy =   0.1451
Level     0,  Iter    36:    Energy =   0.1451
Level     0,  Iter    37:    Energy =   0.1452
Level     0,  Iter    38:    Energy =   0.1452
Level     0,  Iter    39:    Energy =   0.1452
Level     0,  Iter    40:    Energy =   0.1453
Level     0,  Iter    41:    Energy =   0.1453
Level     0,  Iter    42:    Energy =   0.1453
Level     0,  Iter    43:    Energy =   0.1454
Level     0,  Iter    44:    Energy =   0.1454
Level     0,  Iter    45:    Energy =   0.1454
Level     0,  Iter    46:    Energy =   0.1455
Level     0,  Iter    47:    Energy =   0.1455
Level     0,  Iter    48:    Energy =   0.1455
Level     0,  Iter    49:    Energy =   0.1455
Level     0,  Iter    50:    Energy =   0.1456
Level     0,  Iter    51:    Energy =   0.1456
Level     0,  Iter    52:    Energy =   0.1456
Level     0,  Iter    53:    Energy =   0.1457
Level     0,  Iter    54:    Energy =   0.1457
Level     0,  Iter    55:    Energy =   0.1457
Level     0,  Iter    56:    Energy =   0.1457
Level     0,  Iter    57:    Energy =   0.1457
Level     0,  Iter    58:    Energy =   0.1458
Level     0,  Iter    59:    Energy =   0.1458
END OF LEVEL     0    DetJac Range:   0.3762  to   1.9234 
  Avg. Gradient Time  : 0.0076s  34.89% 
  Avg. Gaussian Time  : 0.0107s  49.17% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0972
Level     1,  Iter     1:    Energy =   0.1020
Level     1,  Iter     2:    Energy =   0.1054
Level     1,  Iter     3:    Energy =   0.1083
Level     1,  Iter     4:    Energy =   0.1107
Level     1,  Iter     5:    Energy =   0.1130
Level     1,  Iter     6:    Energy =   0.1146
Level     1,  Iter     7:    Energy =   0.1158
Level     1,  Iter     8:    Energy =   0.1169
Level     1,  Iter     9:    Energy =   0.1178
Level     1,  Iter    10:    Energy =   0.1188
Level     1,  Iter    11:    Energy =   0.1196
Level     1,  Iter    12:    Energy =   0.1204
Level     1,  Iter    13:    Energy =   0.1211
Level     1,  Iter    14:    Energy =   0.1216
Level     1,  Iter    15:    Energy =   0.1216
Level     1,  Iter    16:    Energy =   0.1221
Level     1,  Iter    17:    Energy =   0.1222
Level     1,  Iter    18:    Energy =   0.1226
Level     1,  Iter    19:    Energy =   0.1224
Level     1,  Iter    20:    Energy =   0.1229
Level     1,  Iter    21:    Energy =   0.1229
Level     1,  Iter    22:    Energy =   0.1232
Level     1,  Iter    23:    Energy =   0.1230
Level     1,  Iter    24:    Energy =   0.1234
Level     1,  Iter    25:    Energy =   0.1235
Level     1,  Iter    26:    Energy =   0.1236
Level     1,  Iter    27:    Energy =   0.1235
Level     1,  Iter    28:    Energy =   0.1239
Level     1,  Iter    29:    Energy =   0.1238
Level     1,  Iter    30:    Energy =   0.1241
Level     1,  Iter    31:    Energy =   0.1239
Level     1,  Iter    32:    Energy =   0.1242
Level     1,  Iter    33:    Energy =   0.1241
Level     1,  Iter    34:    Energy =   0.1242
Level     1,  Iter    35:    Energy =   0.1242
Level     1,  Iter    36:    Energy =   0.1242
Level     1,  Iter    37:    Energy =   0.1244
Level     1,  Iter    38:    Energy =   0.1243
Level     1,  Iter    39:    Energy =   0.1246
Level     1,  Iter    40:    Energy =   0.1245
Level     1,  Iter    41:    Energy =   0.1247
Level     1,  Iter    42:    Energy =   0.1247
Level     1,  Iter    43:    Energy =   0.1247
Level     1,  Iter    44:    Energy =   0.1248
Level     1,  Iter    45:    Energy =   0.1247
Level     1,  Iter    46:    Energy =   0.1250
Level     1,  Iter    47:    Energy =   0.1247
Level     1,  Iter    48:    Energy =   0.1250
Level     1,  Iter    49:    Energy =   0.1249
Level     1,  Iter    50:    Energy =   0.1250
Level     1,  Iter    51:    Energy =   0.1249
Level     1,  Iter    52:    Energy =   0.1250
Level     1,  Iter    53:    Energy =   0.1249
Level     1,  Iter    54:    Energy =   0.1249
Level     1,  Iter    55:    Energy =   0.1250
Level     1,  Iter    56:    Energy =   0.1249
Level     1,  Iter    57:    Energy =   0.1251
Level     1,  Iter    58:    Energy =   0.1249
Level     1,  Iter    59:    Energy =   0.1252
END OF LEVEL     1    DetJac Range:   0.0582  to   2.8953 
  Avg. Gradient Time  : 0.0429s  32.65% 
  Avg. Gaussian Time  : 0.0716s  54.44% 
  Avg. Iteration Time : 0.1315s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0657
Level     2,  Iter     1:    Energy =   0.0685
Level     2,  Iter     2:    Energy =   0.0710
Level     2,  Iter     3:    Energy =   0.0730
Level     2,  Iter     4:    Energy =   0.0749
Level     2,  Iter     5:    Energy =   0.0767
Level     2,  Iter     6:    Energy =   0.0782
Level     2,  Iter     7:    Energy =   0.0795
Level     2,  Iter     8:    Energy =   0.0808
Level     2,  Iter     9:    Energy =   0.0820
Level     2,  Iter    10:    Energy =   0.0827
Level     2,  Iter    11:    Energy =   0.0834
Level     2,  Iter    12:    Energy =   0.0845
Level     2,  Iter    13:    Energy =   0.0849
Level     2,  Iter    14:    Energy =   0.0849
Level     2,  Iter    15:    Energy =   0.0852
Level     2,  Iter    16:    Energy =   0.0854
Level     2,  Iter    17:    Energy =   0.0855
Level     2,  Iter    18:    Energy =   0.0857
Level     2,  Iter    19:    Energy =   0.0858
END OF LEVEL     2    DetJac Range:   0.0383  to   4.3440 
  Avg. Gradient Time  : 0.3033s  27.05% 
  Avg. Gaussian Time  : 0.6807s  60.70% 
  Avg. Iteration Time : 1.1215s 

real	0m36.593s
user	1m6.348s
sys	0m2.160s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.453846 0.459615
+ echo 'CHUNK 0.453846 0.459615 1'
CHUNK 0.453846 0.459615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.453846 0.459615 1
====================================
         PROGRESS: 0.453846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.479351
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2831.31   GNORM= 599.465
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2947.515     211.530       0.001
   2    4     -2970.734     167.896       1.000
   3    5     -3018.555     119.280       1.000
   4    6     -3047.355     124.876       1.000
   5    7     -3086.588     113.428       1.000
   6    8     -3118.968      92.247       1.000
   7    9     -3131.879     286.999       1.000
   8   10     -3146.216     320.817       1.000
   9   11     -3170.593      39.425       1.000
  10   12     -3171.417      37.782       1.000
  11   13     -3174.483      45.706       1.000
  12   14     -3180.213      60.902       1.000
  13   15     -3188.026      87.600       1.000
  14   16     -3192.454      37.644       1.000
  15   17     -3193.262      15.653       1.000
  16   18     -3193.438       7.684       1.000
  17   19     -3193.539       8.484       1.000
  18   20     -3193.671      19.047       1.000
  19   21     -3193.804       9.718       1.000
  20   22     -3193.851       5.736       1.000
  21   23     -3193.900       6.616       1.000
  22   24     -3193.923       9.109       1.000
  23   26     -3193.993       8.001       0.451
  24   27     -3194.072      10.165       1.000
  25   28     -3194.158       5.039       1.000
  26   29     -3194.204       8.377       1.000
  27   30     -3194.232       8.829       1.000
  28   32     -3194.293       5.410       0.164
  29   33     -3194.329       4.022       1.000
  30   34     -3194.340       1.717       1.000
  31   35     -3194.344       1.758       1.000
  32   37     -3194.349       1.196       0.285
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.929395 0.0391756 -0.0121494 1.78993 
-0.0158669 0.999543 0.036109 0.130039 
0.0211651 -0.0102075 1.02489 -0.287238 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2528.41   GNORM= 214.623
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2539.068      74.932       0.000
   2    4     -2541.186      54.750       1.000
   3    5     -2544.086      35.808       1.000
   4    6     -2546.143      36.898       1.000
   5    7     -2554.653     106.831       1.000
   6    8     -2561.441      81.627       1.000
   7    9     -2563.224     179.603       1.000
   8   10     -2569.282      17.546       1.000
   9   11     -2569.383      12.379       1.000
  10   12     -2569.562      13.524       1.000
  11   13     -2569.956      23.665       1.000
  12   14     -2571.259      33.555       1.000
  13   15     -2572.924      63.617       1.000
  14   16     -2574.129      47.889       1.000
  15   17     -2574.770      31.381       1.000
  16   18     -2575.091      11.472       1.000
  17   19     -2575.125       4.860       1.000
  18   20     -2575.158       5.624       1.000
  19   21     -2575.214      14.113       1.000
  20   22     -2575.354       7.156       1.000
  21   23     -2575.452       3.883       1.000
  22   24     -2575.479       6.140       1.000
  23   26     -2575.514       8.977       0.303
  24   27     -2575.563       7.464       1.000
  25   28     -2575.663       9.956       1.000
  26   29     -2575.720       4.993       1.000
  27   30     -2575.756       2.838       1.000
  28   31     -2575.775       5.277       1.000
  29   32     -2575.780      10.428       1.000
  30   33     -2575.800       4.051       1.000
  31   34     -2575.812       2.158       1.000
  32   35     -2575.854       3.664       1.000
  33   36     -2575.894       3.945       1.000
  34   38     -2575.903       6.274       0.162
  35   39     -2575.909       2.879       1.000
  36   40     -2575.921       2.389       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.952669 0.0284373 -5.0126e-05 1.34569 
-0.012002 1.00482 0.0293806 0.241649 
0.018532 -0.00567998 1.03108 -0.305995 
0 0 0 1 

Final RAS Transform: 
0.952669 0.0284373 -5.0126e-05 1.34569 
-0.012002 1.00482 0.0293806 0.241649 
0.018532 -0.00567998 1.03108 -0.305995 
0 0 0 1 


real	0m10.522s
user	0m18.428s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.486736
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0913
Level     0,  Iter     1:    Energy =   0.0956
Level     0,  Iter     2:    Energy =   0.0997
Level     0,  Iter     3:    Energy =   0.1026
Level     0,  Iter     4:    Energy =   0.1045
Level     0,  Iter     5:    Energy =   0.1059
Level     0,  Iter     6:    Energy =   0.1072
Level     0,  Iter     7:    Energy =   0.1079
Level     0,  Iter     8:    Energy =   0.1088
Level     0,  Iter     9:    Energy =   0.1092
Level     0,  Iter    10:    Energy =   0.1098
Level     0,  Iter    11:    Energy =   0.1101
Level     0,  Iter    12:    Energy =   0.1106
Level     0,  Iter    13:    Energy =   0.1108
Level     0,  Iter    14:    Energy =   0.1111
Level     0,  Iter    15:    Energy =   0.1113
Level     0,  Iter    16:    Energy =   0.1115
Level     0,  Iter    17:    Energy =   0.1116
Level     0,  Iter    18:    Energy =   0.1118
Level     0,  Iter    19:    Energy =   0.1119
Level     0,  Iter    20:    Energy =   0.1120
Level     0,  Iter    21:    Energy =   0.1121
Level     0,  Iter    22:    Energy =   0.1123
Level     0,  Iter    23:    Energy =   0.1124
Level     0,  Iter    24:    Energy =   0.1125
Level     0,  Iter    25:    Energy =   0.1125
Level     0,  Iter    26:    Energy =   0.1126
Level     0,  Iter    27:    Energy =   0.1127
Level     0,  Iter    28:    Energy =   0.1128
Level     0,  Iter    29:    Energy =   0.1128
Level     0,  Iter    30:    Energy =   0.1129
Level     0,  Iter    31:    Energy =   0.1129
Level     0,  Iter    32:    Energy =   0.1130
Level     0,  Iter    33:    Energy =   0.1130
Level     0,  Iter    34:    Energy =   0.1131
Level     0,  Iter    35:    Energy =   0.1131
Level     0,  Iter    36:    Energy =   0.1132
Level     0,  Iter    37:    Energy =   0.1132
Level     0,  Iter    38:    Energy =   0.1133
Level     0,  Iter    39:    Energy =   0.1133
Level     0,  Iter    40:    Energy =   0.1134
Level     0,  Iter    41:    Energy =   0.1134
Level     0,  Iter    42:    Energy =   0.1135
Level     0,  Iter    43:    Energy =   0.1134
Level     0,  Iter    44:    Energy =   0.1135
Level     0,  Iter    45:    Energy =   0.1135
Level     0,  Iter    46:    Energy =   0.1136
Level     0,  Iter    47:    Energy =   0.1135
Level     0,  Iter    48:    Energy =   0.1137
Level     0,  Iter    49:    Energy =   0.1136
Level     0,  Iter    50:    Energy =   0.1137
Level     0,  Iter    51:    Energy =   0.1137
Level     0,  Iter    52:    Energy =   0.1138
Level     0,  Iter    53:    Energy =   0.1137
Level     0,  Iter    54:    Energy =   0.1138
Level     0,  Iter    55:    Energy =   0.1137
Level     0,  Iter    56:    Energy =   0.1139
Level     0,  Iter    57:    Energy =   0.1138
Level     0,  Iter    58:    Energy =   0.1139
Level     0,  Iter    59:    Energy =   0.1138
END OF LEVEL     0    DetJac Range:   0.1933  to   2.2103 
  Avg. Gradient Time  : 0.0088s  34.73% 
  Avg. Gaussian Time  : 0.0126s  49.67% 
  Avg. Iteration Time : 0.0253s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0841
Level     1,  Iter     1:    Energy =   0.0873
Level     1,  Iter     2:    Energy =   0.0903
Level     1,  Iter     3:    Energy =   0.0939
Level     1,  Iter     4:    Energy =   0.0972
Level     1,  Iter     5:    Energy =   0.0999
Level     1,  Iter     6:    Energy =   0.1019
Level     1,  Iter     7:    Energy =   0.1029
Level     1,  Iter     8:    Energy =   0.1036
Level     1,  Iter     9:    Energy =   0.1043
Level     1,  Iter    10:    Energy =   0.1048
Level     1,  Iter    11:    Energy =   0.1053
Level     1,  Iter    12:    Energy =   0.1057
Level     1,  Iter    13:    Energy =   0.1062
Level     1,  Iter    14:    Energy =   0.1064
Level     1,  Iter    15:    Energy =   0.1069
Level     1,  Iter    16:    Energy =   0.1070
Level     1,  Iter    17:    Energy =   0.1074
Level     1,  Iter    18:    Energy =   0.1075
Level     1,  Iter    19:    Energy =   0.1079
Level     1,  Iter    20:    Energy =   0.1079
Level     1,  Iter    21:    Energy =   0.1082
Level     1,  Iter    22:    Energy =   0.1082
Level     1,  Iter    23:    Energy =   0.1086
Level     1,  Iter    24:    Energy =   0.1085
Level     1,  Iter    25:    Energy =   0.1089
Level     1,  Iter    26:    Energy =   0.1088
Level     1,  Iter    27:    Energy =   0.1092
Level     1,  Iter    28:    Energy =   0.1091
Level     1,  Iter    29:    Energy =   0.1094
Level     1,  Iter    30:    Energy =   0.1093
Level     1,  Iter    31:    Energy =   0.1096
Level     1,  Iter    32:    Energy =   0.1095
Level     1,  Iter    33:    Energy =   0.1098
Level     1,  Iter    34:    Energy =   0.1097
Level     1,  Iter    35:    Energy =   0.1100
Level     1,  Iter    36:    Energy =   0.1098
Level     1,  Iter    37:    Energy =   0.1101
Level     1,  Iter    38:    Energy =   0.1100
Level     1,  Iter    39:    Energy =   0.1103
Level     1,  Iter    40:    Energy =   0.1101
Level     1,  Iter    41:    Energy =   0.1104
Level     1,  Iter    42:    Energy =   0.1102
Level     1,  Iter    43:    Energy =   0.1105
Level     1,  Iter    44:    Energy =   0.1103
Level     1,  Iter    45:    Energy =   0.1106
Level     1,  Iter    46:    Energy =   0.1104
Level     1,  Iter    47:    Energy =   0.1107
Level     1,  Iter    48:    Energy =   0.1105
Level     1,  Iter    49:    Energy =   0.1107
Level     1,  Iter    50:    Energy =   0.1105
Level     1,  Iter    51:    Energy =   0.1108
Level     1,  Iter    52:    Energy =   0.1106
Level     1,  Iter    53:    Energy =   0.1108
Level     1,  Iter    54:    Energy =   0.1106
Level     1,  Iter    55:    Energy =   0.1108
Level     1,  Iter    56:    Energy =   0.1106
Level     1,  Iter    57:    Energy =   0.1109
Level     1,  Iter    58:    Energy =   0.1107
Level     1,  Iter    59:    Energy =   0.1109
END OF LEVEL     1    DetJac Range:   0.0393  to   2.8891 
  Avg. Gradient Time  : 0.0492s  32.79% 
  Avg. Gaussian Time  : 0.0812s  54.18% 
  Avg. Iteration Time : 0.1499s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0585
Level     2,  Iter     1:    Energy =   0.0611
Level     2,  Iter     2:    Energy =   0.0633
Level     2,  Iter     3:    Energy =   0.0652
Level     2,  Iter     4:    Energy =   0.0668
Level     2,  Iter     5:    Energy =   0.0682
Level     2,  Iter     6:    Energy =   0.0696
Level     2,  Iter     7:    Energy =   0.0710
Level     2,  Iter     8:    Energy =   0.0724
Level     2,  Iter     9:    Energy =   0.0735
Level     2,  Iter    10:    Energy =   0.0742
Level     2,  Iter    11:    Energy =   0.0746
Level     2,  Iter    12:    Energy =   0.0749
Level     2,  Iter    13:    Energy =   0.0752
Level     2,  Iter    14:    Energy =   0.0755
Level     2,  Iter    15:    Energy =   0.0758
Level     2,  Iter    16:    Energy =   0.0762
Level     2,  Iter    17:    Energy =   0.0766
Level     2,  Iter    18:    Energy =   0.0771
Level     2,  Iter    19:    Energy =   0.0775
END OF LEVEL     2    DetJac Range:   0.0365  to   4.4459 
  Avg. Gradient Time  : 0.3460s  26.54% 
  Avg. Gaussian Time  : 0.7989s  61.29% 
  Avg. Iteration Time : 1.3035s 

real	0m42.105s
user	1m16.800s
sys	0m2.400s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.459615 0.465385
+ echo 'CHUNK 0.459615 0.465385 1'
CHUNK 0.459615 0.465385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.459615 0.465385 1
====================================
         PROGRESS: 0.459615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.477857
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2721.69   GNORM= 356.454
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2760.812     157.131       0.001
   2    4     -2774.758     151.346       1.000
   3    5     -2833.556     205.079       1.000
   4    6     -2862.594     127.913       1.000
   5    7     -2897.851      98.971       1.000
   6    8     -2918.684     139.700       1.000
   7    9     -2992.744     141.590       1.000
   8   11     -3003.840     234.447       0.100
   9   12     -3031.126     162.198       1.000
  10   13     -3052.649      68.910       1.000
  11   14     -3068.189      95.642       1.000
  12   15     -3076.518      94.171       1.000
  13   16     -3080.464      35.963       1.000
  14   17     -3081.779      35.846       1.000
  15   18     -3082.443      29.087       1.000
  16   19     -3085.786      32.039       1.000
  17   20     -3088.213      48.881       1.000
  18   21     -3088.752      77.315       1.000
  19   22     -3090.523      17.152       1.000
  20   23     -3090.603      10.991       1.000
  21   24     -3090.695       7.128       1.000
  22   25     -3090.718      14.544       1.000
  23   26     -3090.836      16.147       1.000
  24   27     -3090.993      17.663       1.000
  25   28     -3091.168      19.501       1.000
  26   29     -3091.347      12.665       1.000
  27   30     -3091.423       8.685       1.000
  28   33     -3091.564      10.157       2.533
  29   35     -3091.591       3.977       0.334
  30   36     -3091.600       5.970       1.000
  31   37     -3091.628       5.182       1.000
  32   38     -3091.724       7.834       1.000
  33   39     -3091.775      14.479       1.000
  34   40     -3091.833      10.396       1.000
  35   42     -3091.870       5.218       0.332
  36   43     -3091.892       4.658       1.000
  37   44     -3091.945       4.948       1.000
  38   46     -3091.998       5.564       0.349
  39   47     -3092.040      12.861       1.000
  40   48     -3092.076       5.283       1.000
  41   49     -3092.088       3.697       1.000
  42   50     -3092.098       2.952       1.000
  43   51     -3092.103       4.285       1.000
  44   53     -3092.108       3.385       0.193
  45   54     -3092.117       2.556       1.000
  46   56     -3092.127       3.800       0.428
  47   57     -3092.127       2.799       1.000
  48   59     -3092.143       3.591       0.362
Final RAS Transform: 
0.885939 0.00610708 -0.0496999 2.08054 
-0.00963226 1.02065 0.0323132 0.887061 
0.0721114 -0.0115698 1.06096 -1.28693 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2286.58   GNORM= 202.118
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2295.070      57.851       0.000
   2    4     -2296.470      49.587       1.000
   3    5     -2299.549      44.255       1.000
   4    6     -2301.970      47.322       1.000
   5    7     -2308.970      54.319       1.000
   6    8     -2321.139      88.882       1.000
   7    9     -2333.822     102.271       1.000
   8   11     -2337.508     128.346       0.304
   9   12     -2344.483      59.033       1.000
  10   13     -2347.018      33.649       1.000
  11   14     -2347.926      22.581       1.000
  12   15     -2349.930      21.625       1.000
  13   16     -2353.843      42.095       1.000
  14   17     -2357.348      87.317       1.000
  15   18     -2359.885      84.100       1.000
  16   19     -2361.792      31.892       1.000
  17   20     -2362.285      16.504       1.000
  18   21     -2362.649      22.243       1.000
  19   22     -2363.190      28.446       1.000
  20   23     -2364.428      33.109       1.000
  21   25     -2364.644      23.331       0.225
  22   26     -2365.034      17.889       1.000
  23   27     -2365.250       6.757       1.000
  24   28     -2365.363      11.567       1.000
  25   29     -2365.546      19.865       1.000
  26   30     -2365.959      15.550       1.000
  27   32     -2366.081      13.324       0.330
  28   33     -2366.337      13.399       1.000
  29   34     -2366.528      11.383       1.000
  30   35     -2366.674      11.328       1.000
  31   36     -2366.728       7.383       1.000
  32   37     -2366.768       3.558       1.000
  33   38     -2366.782       2.379       1.000
  34   41     -2366.790       3.776       1.899
  35   43     -2366.813       4.682       0.483
  36   45     -2366.825       4.581       0.322
  37   46     -2366.854       4.208       1.000
  38   47     -2366.896       4.375       1.000
  39   48     -2366.962      10.086       1.000
  40   49     -2367.015       8.130       1.000
  41   50     -2367.053       5.339       1.000
  42   52     -2367.070       3.279       0.316
  43   53     -2367.092       2.542       1.000
  44   55     -2367.109       3.469       0.425
  45   56     -2367.127       4.828       1.000
  46   57     -2367.137       7.672       1.000
  47   58     -2367.163       5.375       1.000
  48   59     -2367.210       3.725       1.000
  49   60     -2367.211       1.309       1.000
  50   61     -2367.215       2.652       1.000
Final RAS Transform: 
0.919189 -0.0118522 -0.0669045 0.778452 
0.00130397 1.01689 0.0369489 0.588817 
0.0520333 0.00898766 1.08958 -0.217039 
0 0 0 1 

Final RAS Transform: 
0.919189 -0.0118522 -0.0669045 0.778452 
0.00130397 1.01689 0.0369489 0.588817 
0.0520333 0.00898766 1.08958 -0.217039 
0 0 0 1 


real	0m10.638s
user	0m18.560s
sys	0m0.564s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.479111
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0862
Level     0,  Iter     1:    Energy =   0.0915
Level     0,  Iter     2:    Energy =   0.0960
Level     0,  Iter     3:    Energy =   0.1008
Level     0,  Iter     4:    Energy =   0.1039
Level     0,  Iter     5:    Energy =   0.1054
Level     0,  Iter     6:    Energy =   0.1076
Level     0,  Iter     7:    Energy =   0.1084
Level     0,  Iter     8:    Energy =   0.1100
Level     0,  Iter     9:    Energy =   0.1105
Level     0,  Iter    10:    Energy =   0.1117
Level     0,  Iter    11:    Energy =   0.1121
Level     0,  Iter    12:    Energy =   0.1132
Level     0,  Iter    13:    Energy =   0.1135
Level     0,  Iter    14:    Energy =   0.1143
Level     0,  Iter    15:    Energy =   0.1145
Level     0,  Iter    16:    Energy =   0.1153
Level     0,  Iter    17:    Energy =   0.1153
Level     0,  Iter    18:    Energy =   0.1159
Level     0,  Iter    19:    Energy =   0.1160
Level     0,  Iter    20:    Energy =   0.1166
Level     0,  Iter    21:    Energy =   0.1166
Level     0,  Iter    22:    Energy =   0.1171
Level     0,  Iter    23:    Energy =   0.1171
Level     0,  Iter    24:    Energy =   0.1177
Level     0,  Iter    25:    Energy =   0.1175
Level     0,  Iter    26:    Energy =   0.1180
Level     0,  Iter    27:    Energy =   0.1178
Level     0,  Iter    28:    Energy =   0.1183
Level     0,  Iter    29:    Energy =   0.1181
Level     0,  Iter    30:    Energy =   0.1186
Level     0,  Iter    31:    Energy =   0.1184
Level     0,  Iter    32:    Energy =   0.1189
Level     0,  Iter    33:    Energy =   0.1187
Level     0,  Iter    34:    Energy =   0.1191
Level     0,  Iter    35:    Energy =   0.1190
Level     0,  Iter    36:    Energy =   0.1193
Level     0,  Iter    37:    Energy =   0.1191
Level     0,  Iter    38:    Energy =   0.1195
Level     0,  Iter    39:    Energy =   0.1193
Level     0,  Iter    40:    Energy =   0.1195
Level     0,  Iter    41:    Energy =   0.1194
Level     0,  Iter    42:    Energy =   0.1197
Level     0,  Iter    43:    Energy =   0.1195
Level     0,  Iter    44:    Energy =   0.1198
Level     0,  Iter    45:    Energy =   0.1196
Level     0,  Iter    46:    Energy =   0.1198
Level     0,  Iter    47:    Energy =   0.1196
Level     0,  Iter    48:    Energy =   0.1199
Level     0,  Iter    49:    Energy =   0.1197
Level     0,  Iter    50:    Energy =   0.1199
Level     0,  Iter    51:    Energy =   0.1197
Level     0,  Iter    52:    Energy =   0.1200
Level     0,  Iter    53:    Energy =   0.1197
Level     0,  Iter    54:    Energy =   0.1200
Level     0,  Iter    55:    Energy =   0.1198
Level     0,  Iter    56:    Energy =   0.1201
Level     0,  Iter    57:    Energy =   0.1199
Level     0,  Iter    58:    Energy =   0.1201
Level     0,  Iter    59:    Energy =   0.1199
END OF LEVEL     0    DetJac Range:   0.1498  to   2.0812 
  Avg. Gradient Time  : 0.0078s  34.41% 
  Avg. Gaussian Time  : 0.0113s  49.98% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0815
Level     1,  Iter     1:    Energy =   0.0855
Level     1,  Iter     2:    Energy =   0.0886
Level     1,  Iter     3:    Energy =   0.0918
Level     1,  Iter     4:    Energy =   0.0947
Level     1,  Iter     5:    Energy =   0.0965
Level     1,  Iter     6:    Energy =   0.0979
Level     1,  Iter     7:    Energy =   0.0989
Level     1,  Iter     8:    Energy =   0.0997
Level     1,  Iter     9:    Energy =   0.1004
Level     1,  Iter    10:    Energy =   0.1009
Level     1,  Iter    11:    Energy =   0.1014
Level     1,  Iter    12:    Energy =   0.1019
Level     1,  Iter    13:    Energy =   0.1023
Level     1,  Iter    14:    Energy =   0.1027
Level     1,  Iter    15:    Energy =   0.1030
Level     1,  Iter    16:    Energy =   0.1034
Level     1,  Iter    17:    Energy =   0.1037
Level     1,  Iter    18:    Energy =   0.1040
Level     1,  Iter    19:    Energy =   0.1043
Level     1,  Iter    20:    Energy =   0.1046
Level     1,  Iter    21:    Energy =   0.1049
Level     1,  Iter    22:    Energy =   0.1051
Level     1,  Iter    23:    Energy =   0.1054
Level     1,  Iter    24:    Energy =   0.1056
Level     1,  Iter    25:    Energy =   0.1058
Level     1,  Iter    26:    Energy =   0.1060
Level     1,  Iter    27:    Energy =   0.1062
Level     1,  Iter    28:    Energy =   0.1064
Level     1,  Iter    29:    Energy =   0.1066
Level     1,  Iter    30:    Energy =   0.1067
Level     1,  Iter    31:    Energy =   0.1069
Level     1,  Iter    32:    Energy =   0.1070
Level     1,  Iter    33:    Energy =   0.1071
Level     1,  Iter    34:    Energy =   0.1073
Level     1,  Iter    35:    Energy =   0.1074
Level     1,  Iter    36:    Energy =   0.1075
Level     1,  Iter    37:    Energy =   0.1077
Level     1,  Iter    38:    Energy =   0.1078
Level     1,  Iter    39:    Energy =   0.1078
Level     1,  Iter    40:    Energy =   0.1079
Level     1,  Iter    41:    Energy =   0.1080
Level     1,  Iter    42:    Energy =   0.1081
Level     1,  Iter    43:    Energy =   0.1081
Level     1,  Iter    44:    Energy =   0.1082
Level     1,  Iter    45:    Energy =   0.1083
Level     1,  Iter    46:    Energy =   0.1083
Level     1,  Iter    47:    Energy =   0.1084
Level     1,  Iter    48:    Energy =   0.1084
Level     1,  Iter    49:    Energy =   0.1085
Level     1,  Iter    50:    Energy =   0.1086
Level     1,  Iter    51:    Energy =   0.1086
Level     1,  Iter    52:    Energy =   0.1087
Level     1,  Iter    53:    Energy =   0.1087
Level     1,  Iter    54:    Energy =   0.1088
Level     1,  Iter    55:    Energy =   0.1088
Level     1,  Iter    56:    Energy =   0.1089
Level     1,  Iter    57:    Energy =   0.1089
Level     1,  Iter    58:    Energy =   0.1090
Level     1,  Iter    59:    Energy =   0.1090
END OF LEVEL     1    DetJac Range:   0.0419  to   3.6093 
  Avg. Gradient Time  : 0.0428s  32.64% 
  Avg. Gaussian Time  : 0.0714s  54.45% 
  Avg. Iteration Time : 0.1312s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0562
Level     2,  Iter     1:    Energy =   0.0588
Level     2,  Iter     2:    Energy =   0.0608
Level     2,  Iter     3:    Energy =   0.0624
Level     2,  Iter     4:    Energy =   0.0637
Level     2,  Iter     5:    Energy =   0.0648
Level     2,  Iter     6:    Energy =   0.0659
Level     2,  Iter     7:    Energy =   0.0669
Level     2,  Iter     8:    Energy =   0.0678
Level     2,  Iter     9:    Energy =   0.0686
Level     2,  Iter    10:    Energy =   0.0692
Level     2,  Iter    11:    Energy =   0.0699
Level     2,  Iter    12:    Energy =   0.0705
Level     2,  Iter    13:    Energy =   0.0711
Level     2,  Iter    14:    Energy =   0.0715
Level     2,  Iter    15:    Energy =   0.0718
Level     2,  Iter    16:    Energy =   0.0722
Level     2,  Iter    17:    Energy =   0.0726
Level     2,  Iter    18:    Energy =   0.0729
Level     2,  Iter    19:    Energy =   0.0732
END OF LEVEL     2    DetJac Range:   0.0220  to   4.0847 
  Avg. Gradient Time  : 0.3048s  26.71% 
  Avg. Gaussian Time  : 0.6991s  61.27% 
  Avg. Iteration Time : 1.1412s 

real	0m37.014s
user	1m7.108s
sys	0m2.284s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.465385 0.471154
+ echo 'CHUNK 0.465385 0.471154 1'
CHUNK 0.465385 0.471154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.465385 0.471154 1
====================================
         PROGRESS: 0.465385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.693105
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3170.06   GNORM= 563.66
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3246.942     134.625       0.000
   2    4     -3255.087     121.346       1.000
   3    5     -3286.773     135.422       1.000
   4    6     -3312.741     117.541       1.000
   5    7     -3345.305      99.438       1.000
   6    8     -3378.064      82.028       1.000
   7   10     -3388.129     147.703       0.490
   8   11     -3398.831      65.182       1.000
   9   12     -3404.525      64.279       1.000
  10   13     -3430.056      56.518       1.000
  11   14     -3437.733      43.512       1.000
  12   15     -3439.769      60.808       1.000
  13   16     -3442.253      29.953       1.000
  14   17     -3443.339      51.816       1.000
  15   18     -3444.498      37.938       1.000
  16   19     -3445.861      44.460       1.000
  17   20     -3448.052      51.395       1.000
  18   22     -3449.660      60.380       0.372
  19   23     -3450.859      29.860       1.000
  20   24     -3451.684      16.690       1.000
  21   25     -3452.285      11.327       1.000
  22   26     -3452.369      34.343       1.000
  23   27     -3452.797      24.141       1.000
  24   28     -3453.026      17.318       1.000
  25   29     -3453.227      14.965       1.000
  26   30     -3453.474      17.917       1.000
  27   31     -3454.161       8.265       1.000
  28   33     -3454.806      13.408       0.119
  29   34     -3455.166      20.391       1.000
  30   36     -3455.425      19.379       0.420
  31   37     -3455.702      11.562       1.000
  32   38     -3455.941      12.993       1.000
  33   39     -3456.074      31.362       1.000
  34   40     -3456.342      28.424       1.000
  35   41     -3456.350      26.623       1.000
  36   42     -3456.688       8.739       1.000
  37   44     -3456.779      10.431       0.479
  38   45     -3456.910      15.085       1.000
  39   46     -3457.093      12.265       1.000
  40   47     -3457.187       9.953       1.000
  41   48     -3457.258       8.104       1.000
  42   49     -3457.306       6.104       1.000
  43   50     -3457.342      10.104       1.000
  44   51     -3457.392       7.251       1.000
  45   52     -3457.418       9.058       1.000
  46   53     -3457.437       6.290       1.000
  47   54     -3457.454       7.681       1.000
  48   55     -3457.466       3.273       1.000
Final RAS Transform: 
0.927062 -0.00582 -0.0742096 0.903291 
-0.000112563 0.97561 -0.0223301 -0.355472 
0.0541477 0.0173444 1.08243 -0.346814 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2355.32   GNORM= 374.678
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2393.811      98.013       0.000
   2    4     -2398.343      62.409       1.000
   3    5     -2401.633      52.005       1.000
   4    6     -2406.387      57.167       1.000
   5    7     -2416.727      93.048       1.000
   6    8     -2426.281      79.291       1.000
   7    9     -2432.605      78.647       1.000
   8   10     -2434.650      69.968       1.000
   9   11     -2435.946      38.430       1.000
  10   12     -2437.570      33.213       1.000
  11   13     -2440.364      48.161       1.000
  12   14     -2444.205      49.415       1.000
  13   15     -2444.630      66.953       1.000
  14   16     -2446.575      38.802       1.000
  15   17     -2447.717      25.193       1.000
  16   18     -2449.161      39.749       1.000
  17   19     -2450.693      27.878       1.000
  18   20     -2453.528      33.475       1.000
  19   21     -2454.398      15.816       1.000
  20   22     -2455.412      18.886       1.000
  21   23     -2456.123      19.410       1.000
  22   25     -2456.583      52.950       0.228
  23   26     -2458.206      31.540       1.000
  24   27     -2459.642      14.763       1.000
  25   28     -2461.161      31.118       1.000
  26   29     -2461.872      20.712       1.000
  27   30     -2462.048      36.344       1.000
  28   31     -2462.232      28.484       1.000
  29   32     -2462.561      12.069       1.000
  30   33     -2462.704       7.590       1.000
  31   34     -2462.836      12.663       1.000
  32   35     -2463.002      12.339       1.000
  33   36     -2463.235      10.925       1.000
  34   37     -2463.427       7.771       1.000
  35   38     -2463.447      13.112       1.000
  36   39     -2463.500       6.303       1.000
  37   40     -2463.520       5.672       1.000
  38   41     -2463.543       4.296       1.000
  39   42     -2463.586      10.409       1.000
  40   43     -2463.651       8.761       1.000
  41   44     -2463.696       9.983       1.000
  42   45     -2463.735       3.899       1.000
  43   47     -2463.779       4.384       5.000
  44   48     -2463.843       4.948       1.000
  45   50     -2463.877       5.101       0.115
  46   51     -2463.920       8.658       1.000
  47   52     -2463.950       7.598       1.000
  48   53     -2463.974       3.165       1.000
  49   54     -2463.981       2.764       1.000
  50   55     -2463.988       2.659       1.000
  51   56     -2463.998       2.559       1.000
  52   57     -2464.009       3.399       1.000
  53   58     -2464.023       1.931       1.000
  54   60     -2464.034       2.863       0.513
  55   61     -2464.049       1.974       1.000
Final RAS Transform: 
0.952948 0.00110653 -0.0312752 0.50943 
-0.0206896 0.969525 -0.0485813 -0.250744 
0.031191 0.0229097 1.09401 0.146014 
0 0 0 1 

Final RAS Transform: 
0.952948 0.00110653 -0.0312752 0.50943 
-0.0206896 0.969525 -0.0485813 -0.250744 
0.031191 0.0229097 1.09401 0.146014 
0 0 0 1 


real	0m10.556s
user	0m18.496s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.689985
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0966
Level     0,  Iter     1:    Energy =   0.1042
Level     0,  Iter     2:    Energy =   0.1100
Level     0,  Iter     3:    Energy =   0.1150
Level     0,  Iter     4:    Energy =   0.1173
Level     0,  Iter     5:    Energy =   0.1188
Level     0,  Iter     6:    Energy =   0.1198
Level     0,  Iter     7:    Energy =   0.1207
Level     0,  Iter     8:    Energy =   0.1212
Level     0,  Iter     9:    Energy =   0.1219
Level     0,  Iter    10:    Energy =   0.1222
Level     0,  Iter    11:    Energy =   0.1227
Level     0,  Iter    12:    Energy =   0.1229
Level     0,  Iter    13:    Energy =   0.1233
Level     0,  Iter    14:    Energy =   0.1234
Level     0,  Iter    15:    Energy =   0.1237
Level     0,  Iter    16:    Energy =   0.1238
Level     0,  Iter    17:    Energy =   0.1240
Level     0,  Iter    18:    Energy =   0.1241
Level     0,  Iter    19:    Energy =   0.1243
Level     0,  Iter    20:    Energy =   0.1244
Level     0,  Iter    21:    Energy =   0.1246
Level     0,  Iter    22:    Energy =   0.1246
Level     0,  Iter    23:    Energy =   0.1248
Level     0,  Iter    24:    Energy =   0.1248
Level     0,  Iter    25:    Energy =   0.1249
Level     0,  Iter    26:    Energy =   0.1250
Level     0,  Iter    27:    Energy =   0.1251
Level     0,  Iter    28:    Energy =   0.1251
Level     0,  Iter    29:    Energy =   0.1252
Level     0,  Iter    30:    Energy =   0.1252
Level     0,  Iter    31:    Energy =   0.1253
Level     0,  Iter    32:    Energy =   0.1253
Level     0,  Iter    33:    Energy =   0.1254
Level     0,  Iter    34:    Energy =   0.1254
Level     0,  Iter    35:    Energy =   0.1254
Level     0,  Iter    36:    Energy =   0.1254
Level     0,  Iter    37:    Energy =   0.1255
Level     0,  Iter    38:    Energy =   0.1255
Level     0,  Iter    39:    Energy =   0.1255
Level     0,  Iter    40:    Energy =   0.1255
Level     0,  Iter    41:    Energy =   0.1256
Level     0,  Iter    42:    Energy =   0.1255
Level     0,  Iter    43:    Energy =   0.1256
Level     0,  Iter    44:    Energy =   0.1256
Level     0,  Iter    45:    Energy =   0.1256
Level     0,  Iter    46:    Energy =   0.1256
Level     0,  Iter    47:    Energy =   0.1256
Level     0,  Iter    48:    Energy =   0.1256
Level     0,  Iter    49:    Energy =   0.1257
Level     0,  Iter    50:    Energy =   0.1256
Level     0,  Iter    51:    Energy =   0.1257
Level     0,  Iter    52:    Energy =   0.1256
Level     0,  Iter    53:    Energy =   0.1257
Level     0,  Iter    54:    Energy =   0.1257
Level     0,  Iter    55:    Energy =   0.1257
Level     0,  Iter    56:    Energy =   0.1257
Level     0,  Iter    57:    Energy =   0.1257
Level     0,  Iter    58:    Energy =   0.1257
Level     0,  Iter    59:    Energy =   0.1258
END OF LEVEL     0    DetJac Range:   0.2963  to   2.1499 
  Avg. Gradient Time  : 0.0076s  34.91% 
  Avg. Gaussian Time  : 0.0107s  49.35% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0814
Level     1,  Iter     1:    Energy =   0.0859
Level     1,  Iter     2:    Energy =   0.0892
Level     1,  Iter     3:    Energy =   0.0921
Level     1,  Iter     4:    Energy =   0.0953
Level     1,  Iter     5:    Energy =   0.0980
Level     1,  Iter     6:    Energy =   0.0999
Level     1,  Iter     7:    Energy =   0.1012
Level     1,  Iter     8:    Energy =   0.1024
Level     1,  Iter     9:    Energy =   0.1035
Level     1,  Iter    10:    Energy =   0.1046
Level     1,  Iter    11:    Energy =   0.1057
Level     1,  Iter    12:    Energy =   0.1067
Level     1,  Iter    13:    Energy =   0.1075
Level     1,  Iter    14:    Energy =   0.1080
Level     1,  Iter    15:    Energy =   0.1080
Level     1,  Iter    16:    Energy =   0.1083
Level     1,  Iter    17:    Energy =   0.1083
Level     1,  Iter    18:    Energy =   0.1083
Level     1,  Iter    19:    Energy =   0.1088
Level     1,  Iter    20:    Energy =   0.1085
Level     1,  Iter    21:    Energy =   0.1092
Level     1,  Iter    22:    Energy =   0.1090
Level     1,  Iter    23:    Energy =   0.1092
Level     1,  Iter    24:    Energy =   0.1090
Level     1,  Iter    25:    Energy =   0.1097
Level     1,  Iter    26:    Energy =   0.1094
Level     1,  Iter    27:    Energy =   0.1101
Level     1,  Iter    28:    Energy =   0.1099
Level     1,  Iter    29:    Energy =   0.1101
Level     1,  Iter    30:    Energy =   0.1097
Level     1,  Iter    31:    Energy =   0.1104
Level     1,  Iter    32:    Energy =   0.1103
Level     1,  Iter    33:    Energy =   0.1103
Level     1,  Iter    34:    Energy =   0.1099
Level     1,  Iter    35:    Energy =   0.1106
Level     1,  Iter    36:    Energy =   0.1103
Level     1,  Iter    37:    Energy =   0.1109
Level     1,  Iter    38:    Energy =   0.1104
Level     1,  Iter    39:    Energy =   0.1111
Level     1,  Iter    40:    Energy =   0.1110
Level     1,  Iter    41:    Energy =   0.1109
Level     1,  Iter    42:    Energy =   0.1104
Level     1,  Iter    43:    Energy =   0.1111
Level     1,  Iter    44:    Energy =   0.1109
Level     1,  Iter    45:    Energy =   0.1110
Level     1,  Iter    46:    Energy =   0.1106
Level     1,  Iter    47:    Energy =   0.1112
Level     1,  Iter    48:    Energy =   0.1110
Level     1,  Iter    49:    Energy =   0.1111
Level     1,  Iter    50:    Energy =   0.1107
Level     1,  Iter    51:    Energy =   0.1113
Level     1,  Iter    52:    Energy =   0.1111
Level     1,  Iter    53:    Energy =   0.1112
Level     1,  Iter    54:    Energy =   0.1107
Level     1,  Iter    55:    Energy =   0.1115
Level     1,  Iter    56:    Energy =   0.1112
Level     1,  Iter    57:    Energy =   0.1114
Level     1,  Iter    58:    Energy =   0.1109
Level     1,  Iter    59:    Energy =   0.1115
END OF LEVEL     1    DetJac Range:   0.0479  to   3.7471 
  Avg. Gradient Time  : 0.0430s  32.63% 
  Avg. Gaussian Time  : 0.0718s  54.46% 
  Avg. Iteration Time : 0.1318s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0577
Level     2,  Iter     1:    Energy =   0.0603
Level     2,  Iter     2:    Energy =   0.0627
Level     2,  Iter     3:    Energy =   0.0644
Level     2,  Iter     4:    Energy =   0.0658
Level     2,  Iter     5:    Energy =   0.0670
Level     2,  Iter     6:    Energy =   0.0686
Level     2,  Iter     7:    Energy =   0.0702
Level     2,  Iter     8:    Energy =   0.0716
Level     2,  Iter     9:    Energy =   0.0728
Level     2,  Iter    10:    Energy =   0.0737
Level     2,  Iter    11:    Energy =   0.0745
Level     2,  Iter    12:    Energy =   0.0751
Level     2,  Iter    13:    Energy =   0.0756
Level     2,  Iter    14:    Energy =   0.0761
Level     2,  Iter    15:    Energy =   0.0765
Level     2,  Iter    16:    Energy =   0.0768
Level     2,  Iter    17:    Energy =   0.0772
Level     2,  Iter    18:    Energy =   0.0774
Level     2,  Iter    19:    Energy =   0.0777
END OF LEVEL     2    DetJac Range:   0.0378  to   4.5850 
  Avg. Gradient Time  : 0.3059s  26.98% 
  Avg. Gaussian Time  : 0.6903s  60.89% 
  Avg. Iteration Time : 1.1336s 

real	0m36.867s
user	1m6.784s
sys	0m2.264s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.471154 0.476923
+ echo 'CHUNK 0.471154 0.476923 1'
CHUNK 0.471154 0.476923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.471154 0.476923 1
====================================
         PROGRESS: 0.471154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.601767
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3535.79   GNORM= 507.559
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3621.438     361.158       0.001
   2    4     -3664.385     230.890       1.000
   3    5     -3701.574     157.800       1.000
   4    6     -3730.554     165.561       1.000
   5    7     -3786.947     241.438       1.000
   6    8     -3848.486     154.862       1.000
   7    9     -3900.040     201.724       1.000
   8   10     -3918.936     129.614       1.000
   9   11     -3930.238      93.013       1.000
  10   12     -3943.460      87.285       1.000
  11   13     -3955.680      88.524       1.000
  12   14     -3979.630     202.726       1.000
  13   15     -3990.071     167.313       1.000
  14   16     -3999.897      30.040       1.000
  15   17     -4001.100      35.973       1.000
  16   19     -4001.721      25.881       0.366
  17   20     -4002.246      17.040       1.000
  18   21     -4002.788      20.132       1.000
  19   22     -4004.132      31.736       1.000
  20   23     -4005.610      25.111       1.000
  21   24     -4005.780      55.471       1.000
  22   25     -4006.403      16.134       1.000
  23   26     -4006.566      15.753       1.000
  24   27     -4006.913      21.508       1.000
  25   28     -4007.418      20.627       1.000
  26   30     -4008.198      24.868       0.471
  27   31     -4008.977      17.107       1.000
  28   32     -4009.324      10.518       1.000
  29   33     -4009.557      26.167       1.000
  30   34     -4010.078      25.220       1.000
  31   36     -4010.470      20.006       0.204
  32   37     -4010.723      12.465       1.000
  33   38     -4010.804      15.533       1.000
  34   39     -4010.895      10.041       1.000
  35   40     -4010.934      17.773       1.000
  36   41     -4010.999       6.836       1.000
  37   42     -4011.036       5.188       1.000
  38   44     -4011.081      14.160       0.399
  39   45     -4011.101       9.018       1.000
  40   46     -4011.121       5.871       1.000
  41   47     -4011.135       7.403       1.000
  42   48     -4011.158       6.413       1.000
  43   49     -4011.178       4.148       1.000
  44   50     -4011.188       3.320       1.000
  45   51     -4011.194       3.255       1.000
  46   52     -4011.199       5.250       1.000
  47   53     -4011.200       4.630       1.000
  48   54     -4011.206       6.394       1.000
  49   55     -4011.212       3.551       1.000
  50   56     -4011.221       3.802       1.000
Final RAS Transform: 
0.914821 0.00337088 -0.051176 1.09918 
0.061534 1.0266 0.115752 -0.201217 
0.0152558 -0.0119678 1.00412 -0.199106 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2895.24   GNORM= 311.564
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2913.270      92.574       0.000
   2    4     -2916.415      67.214       1.000
   3    5     -2919.930      54.654       1.000
   4    6     -2923.916      63.264       1.000
   5    7     -2930.511      88.598       1.000
   6    8     -2936.876      56.164       1.000
   7    9     -2937.362     124.714       1.000
   8   10     -2939.846      38.031       1.000
   9   11     -2940.456      27.921       1.000
  10   12     -2942.085      52.924       1.000
  11   13     -2945.029      80.346       1.000
  12   14     -2949.720     118.073       1.000
  13   15     -2952.328      57.971       1.000
  14   16     -2953.473      16.797       1.000
  15   17     -2953.758      20.267       1.000
  16   18     -2954.058      21.546       1.000
  17   19     -2954.721      19.307       1.000
  18   21     -2955.227      23.868       0.363
  19   22     -2955.880      25.119       1.000
  20   23     -2956.309      48.526       1.000
  21   24     -2957.366      27.539       1.000
  22   25     -2958.239      27.330       1.000
  23   26     -2959.063      28.851       1.000
  24   28     -2959.707      27.482       0.415
  25   29     -2960.093      37.323       1.000
  26   30     -2960.315      15.493       1.000
  27   31     -2960.455       7.904       1.000
  28   32     -2960.589      16.112       1.000
  29   33     -2960.731      14.958       1.000
  30   35     -2960.872       8.842       0.385
  31   36     -2961.001      10.244       1.000
  32   37     -2961.104       9.224       1.000
  33   38     -2961.227       8.126       1.000
  34   39     -2961.442      10.794       1.000
  35   40     -2962.072      22.377       1.000
  36   41     -2962.672      15.983       1.000
  37   43     -2962.761      18.379       0.300
  38   44     -2962.858       7.126       1.000
  39   45     -2962.895       5.293       1.000
  40   46     -2962.912       5.388       1.000
  41   47     -2962.932       4.829       1.000
  42   48     -2962.964       4.651       1.000
  43   49     -2963.044       5.393       1.000
  44   50     -2963.054      13.470       1.000
  45   51     -2963.102       3.931       1.000
  46   52     -2963.124       2.949       1.000
  47   53     -2963.224       7.174       1.000
  48   54     -2963.250      18.568       1.000
  49   55     -2963.293       9.086       1.000
  50   56     -2963.318       5.227       1.000
  51   57     -2963.333       6.977       1.000
  52   58     -2963.337       3.434       1.000
  53   59     -2963.343       1.828       1.000
  54   60     -2963.346       1.796       1.000
Final RAS Transform: 
0.944247 0.00695176 -0.0322855 0.507311 
0.0368896 1.03125 0.108488 0.273366 
0.00947059 -0.0159886 1.01391 -0.15554 
0 0 0 1 

Final RAS Transform: 
0.944247 0.00695176 -0.0322855 0.507311 
0.0368896 1.03125 0.108488 0.273366 
0.00947059 -0.0159886 1.01391 -0.15554 
0 0 0 1 


real	0m10.659s
user	0m18.632s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.606648
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1149
Level     0,  Iter     1:    Energy =   0.1219
Level     0,  Iter     2:    Energy =   0.1264
Level     0,  Iter     3:    Energy =   0.1311
Level     0,  Iter     4:    Energy =   0.1335
Level     0,  Iter     5:    Energy =   0.1350
Level     0,  Iter     6:    Energy =   0.1363
Level     0,  Iter     7:    Energy =   0.1372
Level     0,  Iter     8:    Energy =   0.1380
Level     0,  Iter     9:    Energy =   0.1386
Level     0,  Iter    10:    Energy =   0.1392
Level     0,  Iter    11:    Energy =   0.1395
Level     0,  Iter    12:    Energy =   0.1399
Level     0,  Iter    13:    Energy =   0.1402
Level     0,  Iter    14:    Energy =   0.1405
Level     0,  Iter    15:    Energy =   0.1407
Level     0,  Iter    16:    Energy =   0.1410
Level     0,  Iter    17:    Energy =   0.1411
Level     0,  Iter    18:    Energy =   0.1413
Level     0,  Iter    19:    Energy =   0.1414
Level     0,  Iter    20:    Energy =   0.1415
Level     0,  Iter    21:    Energy =   0.1416
Level     0,  Iter    22:    Energy =   0.1417
Level     0,  Iter    23:    Energy =   0.1418
Level     0,  Iter    24:    Energy =   0.1419
Level     0,  Iter    25:    Energy =   0.1419
Level     0,  Iter    26:    Energy =   0.1420
Level     0,  Iter    27:    Energy =   0.1420
Level     0,  Iter    28:    Energy =   0.1421
Level     0,  Iter    29:    Energy =   0.1422
Level     0,  Iter    30:    Energy =   0.1422
Level     0,  Iter    31:    Energy =   0.1423
Level     0,  Iter    32:    Energy =   0.1423
Level     0,  Iter    33:    Energy =   0.1423
Level     0,  Iter    34:    Energy =   0.1424
Level     0,  Iter    35:    Energy =   0.1424
Level     0,  Iter    36:    Energy =   0.1425
Level     0,  Iter    37:    Energy =   0.1425
Level     0,  Iter    38:    Energy =   0.1426
Level     0,  Iter    39:    Energy =   0.1426
Level     0,  Iter    40:    Energy =   0.1427
Level     0,  Iter    41:    Energy =   0.1427
Level     0,  Iter    42:    Energy =   0.1427
Level     0,  Iter    43:    Energy =   0.1428
Level     0,  Iter    44:    Energy =   0.1428
Level     0,  Iter    45:    Energy =   0.1428
Level     0,  Iter    46:    Energy =   0.1429
Level     0,  Iter    47:    Energy =   0.1429
Level     0,  Iter    48:    Energy =   0.1429
Level     0,  Iter    49:    Energy =   0.1429
Level     0,  Iter    50:    Energy =   0.1430
Level     0,  Iter    51:    Energy =   0.1430
Level     0,  Iter    52:    Energy =   0.1430
Level     0,  Iter    53:    Energy =   0.1430
Level     0,  Iter    54:    Energy =   0.1431
Level     0,  Iter    55:    Energy =   0.1431
Level     0,  Iter    56:    Energy =   0.1431
Level     0,  Iter    57:    Energy =   0.1431
Level     0,  Iter    58:    Energy =   0.1431
Level     0,  Iter    59:    Energy =   0.1432
END OF LEVEL     0    DetJac Range:   0.3741  to   1.8816 
  Avg. Gradient Time  : 0.0076s  34.99% 
  Avg. Gaussian Time  : 0.0107s  49.12% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1002
Level     1,  Iter     1:    Energy =   0.1048
Level     1,  Iter     2:    Energy =   0.1090
Level     1,  Iter     3:    Energy =   0.1127
Level     1,  Iter     4:    Energy =   0.1150
Level     1,  Iter     5:    Energy =   0.1170
Level     1,  Iter     6:    Energy =   0.1186
Level     1,  Iter     7:    Energy =   0.1194
Level     1,  Iter     8:    Energy =   0.1197
Level     1,  Iter     9:    Energy =   0.1202
Level     1,  Iter    10:    Energy =   0.1205
Level     1,  Iter    11:    Energy =   0.1208
Level     1,  Iter    12:    Energy =   0.1212
Level     1,  Iter    13:    Energy =   0.1213
Level     1,  Iter    14:    Energy =   0.1218
Level     1,  Iter    15:    Energy =   0.1218
Level     1,  Iter    16:    Energy =   0.1224
Level     1,  Iter    17:    Energy =   0.1223
Level     1,  Iter    18:    Energy =   0.1229
Level     1,  Iter    19:    Energy =   0.1227
Level     1,  Iter    20:    Energy =   0.1231
Level     1,  Iter    21:    Energy =   0.1229
Level     1,  Iter    22:    Energy =   0.1234
Level     1,  Iter    23:    Energy =   0.1231
Level     1,  Iter    24:    Energy =   0.1237
Level     1,  Iter    25:    Energy =   0.1234
Level     1,  Iter    26:    Energy =   0.1239
Level     1,  Iter    27:    Energy =   0.1236
Level     1,  Iter    28:    Energy =   0.1240
Level     1,  Iter    29:    Energy =   0.1237
Level     1,  Iter    30:    Energy =   0.1241
Level     1,  Iter    31:    Energy =   0.1238
Level     1,  Iter    32:    Energy =   0.1241
Level     1,  Iter    33:    Energy =   0.1238
Level     1,  Iter    34:    Energy =   0.1242
Level     1,  Iter    35:    Energy =   0.1239
Level     1,  Iter    36:    Energy =   0.1241
Level     1,  Iter    37:    Energy =   0.1239
Level     1,  Iter    38:    Energy =   0.1241
Level     1,  Iter    39:    Energy =   0.1239
Level     1,  Iter    40:    Energy =   0.1241
Level     1,  Iter    41:    Energy =   0.1239
Level     1,  Iter    42:    Energy =   0.1241
Level     1,  Iter    43:    Energy =   0.1239
Level     1,  Iter    44:    Energy =   0.1241
Level     1,  Iter    45:    Energy =   0.1240
Level     1,  Iter    46:    Energy =   0.1241
Level     1,  Iter    47:    Energy =   0.1240
Level     1,  Iter    48:    Energy =   0.1241
Level     1,  Iter    49:    Energy =   0.1239
Level     1,  Iter    50:    Energy =   0.1241
Level     1,  Iter    51:    Energy =   0.1240
Level     1,  Iter    52:    Energy =   0.1240
Level     1,  Iter    53:    Energy =   0.1239
Level     1,  Iter    54:    Energy =   0.1240
Level     1,  Iter    55:    Energy =   0.1239
Level     1,  Iter    56:    Energy =   0.1241
Level     1,  Iter    57:    Energy =   0.1240
Level     1,  Iter    58:    Energy =   0.1240
Level     1,  Iter    59:    Energy =   0.1239
END OF LEVEL     1    DetJac Range:   0.1942  to   2.9234 
  Avg. Gradient Time  : 0.0429s  32.55% 
  Avg. Gaussian Time  : 0.0719s  54.55% 
  Avg. Iteration Time : 0.1319s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0638
Level     2,  Iter     1:    Energy =   0.0663
Level     2,  Iter     2:    Energy =   0.0690
Level     2,  Iter     3:    Energy =   0.0709
Level     2,  Iter     4:    Energy =   0.0728
Level     2,  Iter     5:    Energy =   0.0745
Level     2,  Iter     6:    Energy =   0.0762
Level     2,  Iter     7:    Energy =   0.0777
Level     2,  Iter     8:    Energy =   0.0790
Level     2,  Iter     9:    Energy =   0.0804
Level     2,  Iter    10:    Energy =   0.0815
Level     2,  Iter    11:    Energy =   0.0825
Level     2,  Iter    12:    Energy =   0.0832
Level     2,  Iter    13:    Energy =   0.0837
Level     2,  Iter    14:    Energy =   0.0840
Level     2,  Iter    15:    Energy =   0.0844
Level     2,  Iter    16:    Energy =   0.0848
Level     2,  Iter    17:    Energy =   0.0850
Level     2,  Iter    18:    Energy =   0.0853
Level     2,  Iter    19:    Energy =   0.0855
END OF LEVEL     2    DetJac Range:   0.0854  to   4.5471 
  Avg. Gradient Time  : 0.3069s  30.04% 
  Avg. Gaussian Time  : 0.5768s  56.47% 
  Avg. Iteration Time : 1.0214s 

real	0m34.632s
user	1m2.384s
sys	0m2.152s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.476923 0.482692
+ echo 'CHUNK 0.476923 0.482692 1'
CHUNK 0.476923 0.482692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.476923 0.482692 1
====================================
         PROGRESS: 0.476923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.813393
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3857.55   GNORM= 839.073
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4017.129     337.071       0.000
   2    4     -4054.978     259.497       1.000
   3    5     -4125.950     172.704       1.000
   4    6     -4162.402     156.878       1.000
   5    7     -4207.723      80.401       1.000
   6    8     -4228.361      83.687       1.000
   7   10     -4231.999      83.270       0.259
   8   11     -4237.964      46.676       1.000
   9   12     -4240.977      40.338       1.000
  10   13     -4243.438      51.888       1.000
  11   14     -4247.886      44.889       1.000
  12   15     -4251.825      49.561       1.000
  13   16     -4252.488      65.701       1.000
  14   17     -4253.458      21.378       1.000
  15   18     -4253.803      21.171       1.000
  16   19     -4254.735      24.179       1.000
  17   21     -4255.161      38.364       0.287
  18   22     -4255.871      33.597       1.000
  19   23     -4256.303      13.044       1.000
  20   24     -4256.417      13.066       1.000
  21   26     -4256.499      10.091       0.302
  22   27     -4256.543      14.044       1.000
  23   28     -4256.663       6.272       1.000
  24   29     -4256.711       4.793       1.000
  25   30     -4256.762      10.335       1.000
  26   31     -4256.828       5.300       1.000
  27   32     -4256.864       8.231       1.000
  28   33     -4256.903       8.215       1.000
  29   35     -4256.912       3.434       0.458
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.99195 0.0123427 -0.00870238 0.0861673 
0.0192317 1.00385 0.0602969 -0.266052 
0.0259152 -0.00224382 1.03046 -0.186732 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3082.83   GNORM= 191.541
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3093.461     108.750       0.001
   2    4     -3098.389      58.099       1.000
   3    5     -3100.560      31.813       1.000
   4    6     -3101.400      24.781       1.000
   5    7     -3105.494      63.189       1.000
   6    8     -3109.873      78.352       1.000
   7   10     -3110.979      38.281       0.190
   8   11     -3111.956      25.477       1.000
   9   12     -3112.652      20.887       1.000
  10   13     -3113.061      15.757       1.000
  11   14     -3113.522      33.304       1.000
  12   15     -3113.797      11.310       1.000
  13   16     -3113.861       7.327       1.000
  14   17     -3113.943      10.999       1.000
  15   18     -3114.166      11.713       1.000
  16   19     -3114.701       8.013       1.000
  17   21     -3114.825      13.276       0.233
  18   22     -3114.876      14.724       1.000
  19   23     -3114.936       5.440       1.000
  20   24     -3114.951       5.877       1.000
  21   25     -3114.981       5.175       1.000
  22   26     -3115.145      13.832       1.000
  23   27     -3115.309      10.003       1.000
  24   28     -3115.498       8.143       1.000
  25   30     -3115.580      14.387       0.434
  26   31     -3115.645      12.182       1.000
  27   32     -3115.759       7.097       1.000
  28   34     -3115.792       5.306       0.477
  29   35     -3115.819       5.284       1.000
  30   37     -3115.839       5.567       0.415
  31   38     -3115.861       2.078       1.000
  32   39     -3115.884       4.886       1.000
  33   40     -3115.895       4.274       1.000
  34   41     -3115.898       2.301       1.000
  35   42     -3115.901       2.442       1.000
  36   43     -3115.910       4.236       1.000
  37   44     -3115.924       4.052       1.000
  38   45     -3115.934       4.466       1.000
  39   46     -3115.942       2.854       1.000
  40   48     -3115.960       3.506       0.439
  41   49     -3115.964       4.906       1.000
  42   50     -3115.970       8.050       1.000
  43   51     -3115.979       4.146       1.000
  44   52     -3115.987       2.559       1.000
Final RAS Transform: 
0.991256 0.00850817 -0.00457109 -0.0751654 
0.0163228 0.99978 0.044501 -0.451067 
0.0127112 0.00123143 1.03186 0.17664 
0 0 0 1 

Final RAS Transform: 
0.991256 0.00850817 -0.00457109 -0.0751654 
0.0163228 0.99978 0.044501 -0.451067 
0.0127112 0.00123143 1.03186 0.17664 
0 0 0 1 


real	0m10.616s
user	0m18.604s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.829775
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1219
Level     0,  Iter     1:    Energy =   0.1289
Level     0,  Iter     2:    Energy =   0.1337
Level     0,  Iter     3:    Energy =   0.1367
Level     0,  Iter     4:    Energy =   0.1388
Level     0,  Iter     5:    Energy =   0.1401
Level     0,  Iter     6:    Energy =   0.1415
Level     0,  Iter     7:    Energy =   0.1423
Level     0,  Iter     8:    Energy =   0.1435
Level     0,  Iter     9:    Energy =   0.1441
Level     0,  Iter    10:    Energy =   0.1448
Level     0,  Iter    11:    Energy =   0.1452
Level     0,  Iter    12:    Energy =   0.1458
Level     0,  Iter    13:    Energy =   0.1461
Level     0,  Iter    14:    Energy =   0.1464
Level     0,  Iter    15:    Energy =   0.1468
Level     0,  Iter    16:    Energy =   0.1470
Level     0,  Iter    17:    Energy =   0.1473
Level     0,  Iter    18:    Energy =   0.1474
Level     0,  Iter    19:    Energy =   0.1477
Level     0,  Iter    20:    Energy =   0.1478
Level     0,  Iter    21:    Energy =   0.1481
Level     0,  Iter    22:    Energy =   0.1482
Level     0,  Iter    23:    Energy =   0.1486
Level     0,  Iter    24:    Energy =   0.1487
Level     0,  Iter    25:    Energy =   0.1489
Level     0,  Iter    26:    Energy =   0.1489
Level     0,  Iter    27:    Energy =   0.1492
Level     0,  Iter    28:    Energy =   0.1493
Level     0,  Iter    29:    Energy =   0.1496
Level     0,  Iter    30:    Energy =   0.1496
Level     0,  Iter    31:    Energy =   0.1499
Level     0,  Iter    32:    Energy =   0.1498
Level     0,  Iter    33:    Energy =   0.1501
Level     0,  Iter    34:    Energy =   0.1500
Level     0,  Iter    35:    Energy =   0.1502
Level     0,  Iter    36:    Energy =   0.1501
Level     0,  Iter    37:    Energy =   0.1503
Level     0,  Iter    38:    Energy =   0.1502
Level     0,  Iter    39:    Energy =   0.1504
Level     0,  Iter    40:    Energy =   0.1502
Level     0,  Iter    41:    Energy =   0.1505
Level     0,  Iter    42:    Energy =   0.1503
Level     0,  Iter    43:    Energy =   0.1505
Level     0,  Iter    44:    Energy =   0.1503
Level     0,  Iter    45:    Energy =   0.1506
Level     0,  Iter    46:    Energy =   0.1504
Level     0,  Iter    47:    Energy =   0.1506
Level     0,  Iter    48:    Energy =   0.1504
Level     0,  Iter    49:    Energy =   0.1506
Level     0,  Iter    50:    Energy =   0.1504
Level     0,  Iter    51:    Energy =   0.1507
Level     0,  Iter    52:    Energy =   0.1504
Level     0,  Iter    53:    Energy =   0.1507
Level     0,  Iter    54:    Energy =   0.1505
Level     0,  Iter    55:    Energy =   0.1507
Level     0,  Iter    56:    Energy =   0.1505
Level     0,  Iter    57:    Energy =   0.1507
Level     0,  Iter    58:    Energy =   0.1505
Level     0,  Iter    59:    Energy =   0.1508
END OF LEVEL     0    DetJac Range:   0.3571  to   2.2593 
  Avg. Gradient Time  : 0.0089s  34.26% 
  Avg. Gaussian Time  : 0.0130s  50.36% 
  Avg. Iteration Time : 0.0259s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1039
Level     1,  Iter     1:    Energy =   0.1081
Level     1,  Iter     2:    Energy =   0.1119
Level     1,  Iter     3:    Energy =   0.1156
Level     1,  Iter     4:    Energy =   0.1182
Level     1,  Iter     5:    Energy =   0.1212
Level     1,  Iter     6:    Energy =   0.1232
Level     1,  Iter     7:    Energy =   0.1245
Level     1,  Iter     8:    Energy =   0.1253
Level     1,  Iter     9:    Energy =   0.1256
Level     1,  Iter    10:    Energy =   0.1270
Level     1,  Iter    11:    Energy =   0.1270
Level     1,  Iter    12:    Energy =   0.1283
Level     1,  Iter    13:    Energy =   0.1282
Level     1,  Iter    14:    Energy =   0.1292
Level     1,  Iter    15:    Energy =   0.1290
Level     1,  Iter    16:    Energy =   0.1299
Level     1,  Iter    17:    Energy =   0.1299
Level     1,  Iter    18:    Energy =   0.1301
Level     1,  Iter    19:    Energy =   0.1299
Level     1,  Iter    20:    Energy =   0.1307
Level     1,  Iter    21:    Energy =   0.1304
Level     1,  Iter    22:    Energy =   0.1309
Level     1,  Iter    23:    Energy =   0.1306
Level     1,  Iter    24:    Energy =   0.1314
Level     1,  Iter    25:    Energy =   0.1310
Level     1,  Iter    26:    Energy =   0.1316
Level     1,  Iter    27:    Energy =   0.1312
Level     1,  Iter    28:    Energy =   0.1319
Level     1,  Iter    29:    Energy =   0.1316
Level     1,  Iter    30:    Energy =   0.1322
Level     1,  Iter    31:    Energy =   0.1317
Level     1,  Iter    32:    Energy =   0.1324
Level     1,  Iter    33:    Energy =   0.1322
Level     1,  Iter    34:    Energy =   0.1322
Level     1,  Iter    35:    Energy =   0.1318
Level     1,  Iter    36:    Energy =   0.1325
Level     1,  Iter    37:    Energy =   0.1321
Level     1,  Iter    38:    Energy =   0.1326
Level     1,  Iter    39:    Energy =   0.1322
Level     1,  Iter    40:    Energy =   0.1328
Level     1,  Iter    41:    Energy =   0.1324
Level     1,  Iter    42:    Energy =   0.1328
Level     1,  Iter    43:    Energy =   0.1324
Level     1,  Iter    44:    Energy =   0.1329
Level     1,  Iter    45:    Energy =   0.1326
Level     1,  Iter    46:    Energy =   0.1328
Level     1,  Iter    47:    Energy =   0.1325
Level     1,  Iter    48:    Energy =   0.1329
Level     1,  Iter    49:    Energy =   0.1326
Level     1,  Iter    50:    Energy =   0.1330
Level     1,  Iter    51:    Energy =   0.1328
Level     1,  Iter    52:    Energy =   0.1330
Level     1,  Iter    53:    Energy =   0.1326
Level     1,  Iter    54:    Energy =   0.1331
Level     1,  Iter    55:    Energy =   0.1329
Level     1,  Iter    56:    Energy =   0.1330
Level     1,  Iter    57:    Energy =   0.1327
Level     1,  Iter    58:    Energy =   0.1332
Level     1,  Iter    59:    Energy =   0.1329
END OF LEVEL     1    DetJac Range:   0.1481  to   4.0161 
  Avg. Gradient Time  : 0.0486s  32.53% 
  Avg. Gaussian Time  : 0.0812s  54.41% 
  Avg. Iteration Time : 0.1493s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0725
Level     2,  Iter     1:    Energy =   0.0750
Level     2,  Iter     2:    Energy =   0.0770
Level     2,  Iter     3:    Energy =   0.0791
Level     2,  Iter     4:    Energy =   0.0808
Level     2,  Iter     5:    Energy =   0.0824
Level     2,  Iter     6:    Energy =   0.0838
Level     2,  Iter     7:    Energy =   0.0853
Level     2,  Iter     8:    Energy =   0.0867
Level     2,  Iter     9:    Energy =   0.0876
Level     2,  Iter    10:    Energy =   0.0883
Level     2,  Iter    11:    Energy =   0.0888
Level     2,  Iter    12:    Energy =   0.0893
Level     2,  Iter    13:    Energy =   0.0897
Level     2,  Iter    14:    Energy =   0.0902
Level     2,  Iter    15:    Energy =   0.0906
Level     2,  Iter    16:    Energy =   0.0911
Level     2,  Iter    17:    Energy =   0.0915
Level     2,  Iter    18:    Energy =   0.0919
Level     2,  Iter    19:    Energy =   0.0923
END OF LEVEL     2    DetJac Range:   0.1423  to   4.8951 
  Avg. Gradient Time  : 0.3384s  26.60% 
  Avg. Gaussian Time  : 0.7785s  61.19% 
  Avg. Iteration Time : 1.2723s 

real	0m41.253s
user	1m15.080s
sys	0m2.528s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.482692 0.488462
+ echo 'CHUNK 0.482692 0.488462 1'
CHUNK 0.482692 0.488462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.482692 0.488462 1
====================================
         PROGRESS: 0.482692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.680361
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2779.21   GNORM= 678.967
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2805.000     623.639       0.001
   2    3     -2971.505     107.545       1.000
   3    4     -2979.994      92.552       1.000
   4    5     -3011.957     134.203       1.000
   5    6     -3043.706     150.676       1.000
   6    7     -3096.773     188.925       1.000
   7    8     -3142.626     179.055       1.000
   8    9     -3180.588      83.678       1.000
   9   10     -3191.209     114.294       1.000
  10   11     -3197.986      70.954       1.000
  11   12     -3200.986      57.050       1.000
  12   13     -3214.872      55.243       1.000
  13   14     -3226.269      53.374       1.000
  14   15     -3230.074      62.944       1.000
  15   16     -3238.764      19.723       1.000
  16   17     -3238.917      42.958       1.000
  17   18     -3239.973      58.142       1.000
  18   19     -3241.785      22.212       1.000
  19   20     -3242.364      22.178       1.000
  20   21     -3243.004      22.917       1.000
  21   22     -3243.485      38.328       1.000
  22   23     -3245.113      26.715       1.000
  23   24     -3245.797      30.930       1.000
  24   25     -3246.623      16.084       1.000
  25   26     -3246.822      16.772       1.000
  26   27     -3247.349      18.773       1.000
  27   28     -3247.946      16.765       1.000
  28   29     -3248.666      23.911       1.000
  29   30     -3249.343      11.989       1.000
  30   31     -3249.839      13.892       1.000
  31   32     -3250.189      15.801       1.000
  32   34     -3250.453      24.624       0.363
  33   35     -3250.780      14.936       1.000
  34   36     -3250.969       8.683       1.000
  35   37     -3251.113       6.479       1.000
  36   38     -3251.223       4.586       1.000
  37   40     -3251.252       4.755       0.450
  38   42     -3251.257       6.710       0.132
  39   43     -3251.270       3.932       1.000
  40   44     -3251.284       5.258       1.000
  41   45     -3251.291       2.745       1.000
  42   46     -3251.312       2.560       1.000
  43   47     -3251.330       3.033       1.000
  44   48     -3251.338       4.118       1.000
  45   49     -3251.348       2.405       1.000
  46   50     -3251.353       3.465       1.000
  47   51     -3251.366       5.498       1.000
  48   52     -3251.382       7.676       1.000
  49   53     -3251.409       4.573       1.000
  50   55     -3251.420       4.380       0.257
  51   56     -3251.426       2.784       1.000
  52   57     -3251.433       6.366       1.000
  53   58     -3251.446       2.953       1.000
  54   59     -3251.459       5.037       1.000
  55   60     -3251.467       2.041       1.000
Final RAS Transform: 
0.911738 0.0303142 -0.0075762 2.1018 
-0.0284013 0.985036 -0.032906 -0.186394 
0.107425 0.0198468 1.08471 -1.30676 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2061.79   GNORM= 291.596
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2091.092      83.364       0.001
   2    4     -2095.608      74.149       1.000
   3    5     -2109.894      61.246       1.000
   4    6     -2118.325      58.986       1.000
   5    7     -2133.395      50.375       1.000
   6    8     -2138.146      43.495       1.000
   7    9     -2140.441      30.506       1.000
   8   10     -2143.685      28.182       1.000
   9   11     -2145.941      48.344       1.000
  10   12     -2146.934      12.624       1.000
  11   13     -2147.102      16.361       1.000
  12   14     -2147.238      13.033       1.000
  13   15     -2148.756      14.870       1.000
  14   16     -2151.755      36.361       1.000
  15   17     -2154.757      34.576       1.000
  16   19     -2155.702      56.981       0.193
  17   20     -2157.004      19.443       1.000
  18   21     -2157.426      15.437       1.000
  19   22     -2157.736      11.189       1.000
  20   23     -2157.914      10.529       1.000
  21   25     -2158.217      12.488       0.316
  22   26     -2158.430      10.346       1.000
  23   27     -2158.881      14.473       1.000
  24   28     -2159.550      22.407       1.000
  25   29     -2159.853      12.132       1.000
  26   30     -2160.161       8.967       1.000
  27   32     -2160.281       5.321       0.512
  28   33     -2160.325       4.900       1.000
  29   34     -2160.366      13.675       1.000
  30   35     -2160.519       6.617       1.000
  31   36     -2160.866      20.466       1.000
  32   37     -2161.021       9.631       1.000
  33   38     -2161.127       4.711       1.000
  34   39     -2161.171       4.510       1.000
  35   40     -2161.271      13.374       1.000
  36   41     -2161.409       5.434       1.000
  37   42     -2161.528      10.064       1.000
  38   43     -2161.592      12.848       1.000
  39   44     -2161.689       7.492       1.000
  40   45     -2161.744       7.535       1.000
  41   46     -2161.783       4.798       1.000
  42   47     -2161.854       6.279       1.000
  43   48     -2161.911       4.498       1.000
  44   50     -2161.919       3.971       0.270
  45   51     -2161.962       7.433       1.000
  46   52     -2162.012       5.376       1.000
  47   53     -2162.093       3.108       1.000
  48   54     -2162.117      10.038       1.000
  49   55     -2162.187       4.333       1.000
  50   56     -2162.201       3.446       1.000
  51   57     -2162.234       2.831       1.000
  52   58     -2162.322      12.180       1.000
  53   59     -2162.449      10.158       1.000
  54   60     -2162.497       6.636       1.000
Final RAS Transform: 
0.958316 0.0257817 0.0087704 1.24475 
-0.0188513 0.981824 -0.0350272 -0.362096 
0.0783343 0.0139468 1.10189 -0.615534 
0 0 0 1 

Final RAS Transform: 
0.958316 0.0257817 0.0087704 1.24475 
-0.0188513 0.981824 -0.0350272 -0.362096 
0.0783343 0.0139468 1.10189 -0.615534 
0 0 0 1 


real	0m10.268s
user	0m17.988s
sys	0m0.440s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.680303
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0872
Level     0,  Iter     1:    Energy =   0.0936
Level     0,  Iter     2:    Energy =   0.0996
Level     0,  Iter     3:    Energy =   0.1051
Level     0,  Iter     4:    Energy =   0.1088
Level     0,  Iter     5:    Energy =   0.1113
Level     0,  Iter     6:    Energy =   0.1134
Level     0,  Iter     7:    Energy =   0.1147
Level     0,  Iter     8:    Energy =   0.1163
Level     0,  Iter     9:    Energy =   0.1169
Level     0,  Iter    10:    Energy =   0.1177
Level     0,  Iter    11:    Energy =   0.1180
Level     0,  Iter    12:    Energy =   0.1186
Level     0,  Iter    13:    Energy =   0.1189
Level     0,  Iter    14:    Energy =   0.1196
Level     0,  Iter    15:    Energy =   0.1197
Level     0,  Iter    16:    Energy =   0.1202
Level     0,  Iter    17:    Energy =   0.1203
Level     0,  Iter    18:    Energy =   0.1207
Level     0,  Iter    19:    Energy =   0.1208
Level     0,  Iter    20:    Energy =   0.1212
Level     0,  Iter    21:    Energy =   0.1213
Level     0,  Iter    22:    Energy =   0.1217
Level     0,  Iter    23:    Energy =   0.1218
Level     0,  Iter    24:    Energy =   0.1221
Level     0,  Iter    25:    Energy =   0.1221
Level     0,  Iter    26:    Energy =   0.1224
Level     0,  Iter    27:    Energy =   0.1225
Level     0,  Iter    28:    Energy =   0.1228
Level     0,  Iter    29:    Energy =   0.1228
Level     0,  Iter    30:    Energy =   0.1231
Level     0,  Iter    31:    Energy =   0.1231
Level     0,  Iter    32:    Energy =   0.1233
Level     0,  Iter    33:    Energy =   0.1233
Level     0,  Iter    34:    Energy =   0.1236
Level     0,  Iter    35:    Energy =   0.1236
Level     0,  Iter    36:    Energy =   0.1238
Level     0,  Iter    37:    Energy =   0.1238
Level     0,  Iter    38:    Energy =   0.1240
Level     0,  Iter    39:    Energy =   0.1239
Level     0,  Iter    40:    Energy =   0.1241
Level     0,  Iter    41:    Energy =   0.1241
Level     0,  Iter    42:    Energy =   0.1243
Level     0,  Iter    43:    Energy =   0.1243
Level     0,  Iter    44:    Energy =   0.1245
Level     0,  Iter    45:    Energy =   0.1244
Level     0,  Iter    46:    Energy =   0.1245
Level     0,  Iter    47:    Energy =   0.1245
Level     0,  Iter    48:    Energy =   0.1246
Level     0,  Iter    49:    Energy =   0.1246
Level     0,  Iter    50:    Energy =   0.1247
Level     0,  Iter    51:    Energy =   0.1247
Level     0,  Iter    52:    Energy =   0.1248
Level     0,  Iter    53:    Energy =   0.1247
Level     0,  Iter    54:    Energy =   0.1248
Level     0,  Iter    55:    Energy =   0.1248
Level     0,  Iter    56:    Energy =   0.1249
Level     0,  Iter    57:    Energy =   0.1249
Level     0,  Iter    58:    Energy =   0.1250
Level     0,  Iter    59:    Energy =   0.1249
END OF LEVEL     0    DetJac Range:   0.1472  to   2.0745 
  Avg. Gradient Time  : 0.0077s  34.59% 
  Avg. Gaussian Time  : 0.0111s  49.77% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0793
Level     1,  Iter     1:    Energy =   0.0828
Level     1,  Iter     2:    Energy =   0.0860
Level     1,  Iter     3:    Energy =   0.0894
Level     1,  Iter     4:    Energy =   0.0922
Level     1,  Iter     5:    Energy =   0.0945
Level     1,  Iter     6:    Energy =   0.0961
Level     1,  Iter     7:    Energy =   0.0975
Level     1,  Iter     8:    Energy =   0.0988
Level     1,  Iter     9:    Energy =   0.1000
Level     1,  Iter    10:    Energy =   0.1010
Level     1,  Iter    11:    Energy =   0.1017
Level     1,  Iter    12:    Energy =   0.1027
Level     1,  Iter    13:    Energy =   0.1035
Level     1,  Iter    14:    Energy =   0.1036
Level     1,  Iter    15:    Energy =   0.1037
Level     1,  Iter    16:    Energy =   0.1039
Level     1,  Iter    17:    Energy =   0.1039
Level     1,  Iter    18:    Energy =   0.1041
Level     1,  Iter    19:    Energy =   0.1042
Level     1,  Iter    20:    Energy =   0.1044
Level     1,  Iter    21:    Energy =   0.1044
Level     1,  Iter    22:    Energy =   0.1046
Level     1,  Iter    23:    Energy =   0.1046
Level     1,  Iter    24:    Energy =   0.1048
Level     1,  Iter    25:    Energy =   0.1048
Level     1,  Iter    26:    Energy =   0.1050
Level     1,  Iter    27:    Energy =   0.1049
Level     1,  Iter    28:    Energy =   0.1051
Level     1,  Iter    29:    Energy =   0.1051
Level     1,  Iter    30:    Energy =   0.1052
Level     1,  Iter    31:    Energy =   0.1053
Level     1,  Iter    32:    Energy =   0.1055
Level     1,  Iter    33:    Energy =   0.1054
Level     1,  Iter    34:    Energy =   0.1056
Level     1,  Iter    35:    Energy =   0.1056
Level     1,  Iter    36:    Energy =   0.1058
Level     1,  Iter    37:    Energy =   0.1057
Level     1,  Iter    38:    Energy =   0.1059
Level     1,  Iter    39:    Energy =   0.1059
Level     1,  Iter    40:    Energy =   0.1060
Level     1,  Iter    41:    Energy =   0.1060
Level     1,  Iter    42:    Energy =   0.1062
Level     1,  Iter    43:    Energy =   0.1061
Level     1,  Iter    44:    Energy =   0.1064
Level     1,  Iter    45:    Energy =   0.1063
Level     1,  Iter    46:    Energy =   0.1065
Level     1,  Iter    47:    Energy =   0.1064
Level     1,  Iter    48:    Energy =   0.1066
Level     1,  Iter    49:    Energy =   0.1065
Level     1,  Iter    50:    Energy =   0.1067
Level     1,  Iter    51:    Energy =   0.1066
Level     1,  Iter    52:    Energy =   0.1069
Level     1,  Iter    53:    Energy =   0.1067
Level     1,  Iter    54:    Energy =   0.1069
Level     1,  Iter    55:    Energy =   0.1068
Level     1,  Iter    56:    Energy =   0.1070
Level     1,  Iter    57:    Energy =   0.1069
Level     1,  Iter    58:    Energy =   0.1071
Level     1,  Iter    59:    Energy =   0.1069
END OF LEVEL     1    DetJac Range:   0.0385  to   3.4209 
  Avg. Gradient Time  : 0.0432s  32.71% 
  Avg. Gaussian Time  : 0.0718s  54.39% 
  Avg. Iteration Time : 0.1320s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0529
Level     2,  Iter     1:    Energy =   0.0553
Level     2,  Iter     2:    Energy =   0.0576
Level     2,  Iter     3:    Energy =   0.0594
Level     2,  Iter     4:    Energy =   0.0610
Level     2,  Iter     5:    Energy =   0.0625
Level     2,  Iter     6:    Energy =   0.0638
Level     2,  Iter     7:    Energy =   0.0651
Level     2,  Iter     8:    Energy =   0.0661
Level     2,  Iter     9:    Energy =   0.0670
Level     2,  Iter    10:    Energy =   0.0678
Level     2,  Iter    11:    Energy =   0.0686
Level     2,  Iter    12:    Energy =   0.0693
Level     2,  Iter    13:    Energy =   0.0700
Level     2,  Iter    14:    Energy =   0.0706
Level     2,  Iter    15:    Energy =   0.0710
Level     2,  Iter    16:    Energy =   0.0715
Level     2,  Iter    17:    Energy =   0.0718
Level     2,  Iter    18:    Energy =   0.0722
Level     2,  Iter    19:    Energy =   0.0725
END OF LEVEL     2    DetJac Range:   0.0181  to   5.4717 
  Avg. Gradient Time  : 0.3062s  26.87% 
  Avg. Gaussian Time  : 0.6959s  61.05% 
  Avg. Iteration Time : 1.1397s 

real	0m37.001s
user	1m7.212s
sys	0m2.144s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.488462 0.494231
+ echo 'CHUNK 0.488462 0.494231 1'
CHUNK 0.488462 0.494231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.488462 0.494231 1
====================================
         PROGRESS: 0.488462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local side=right
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.447635
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2532.12   GNORM= 467.755
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2636.660     226.475       0.001
   2    4     -2667.736     156.484       1.000
   3    5     -2711.392      81.093       1.000
   4    6     -2738.989      92.203       1.000
   5    7     -2757.023      67.554       1.000
   6    8     -2783.495      67.216       1.000
   7    9     -2795.013     163.084       1.000
   8   10     -2807.102     146.164       1.000
   9   11     -2815.237      39.681       1.000
  10   12     -2816.910      34.390       1.000
  11   13     -2821.063      49.730       1.000
  12   14     -2828.149      47.252       1.000
  13   16     -2831.452      45.507       0.063
  14   17     -2836.512      33.791       1.000
  15   18     -2837.241      35.564       1.000
  16   19     -2838.013      26.131       1.000
  17   21     -2838.175      23.498       0.379
  18   22     -2838.349      13.643       1.000
  19   23     -2838.426       9.901       1.000
  20   24     -2838.579       6.850       1.000
  21   25     -2838.781       9.599       1.000
  22   26     -2838.871      14.229       1.000
  23   27     -2839.028       6.107       1.000
  24   28     -2839.138       8.651       1.000
  25   29     -2839.239       7.127       1.000
  26   30     -2839.331      10.720       1.000
  27   32     -2839.371       9.697       0.122
  28   33     -2839.432      14.516       1.000
  29   34     -2839.815      19.704       1.000
  30   36     -2840.000      20.834       0.084
  31   38     -2840.103      20.263       0.145
  32   39     -2840.329      31.384       1.000
  33   40     -2840.887      17.790       1.000
  34   41     -2841.201      16.100       1.000
  35   42     -2842.242      21.682       1.000
  36   43     -2842.682      26.421       1.000
  37   44     -2842.968      32.751       1.000
  38   45     -2843.495       9.563       1.000
  39   46     -2843.599      16.163       1.000
  40   47     -2843.671       6.684       1.000
  41   48     -2843.737       5.890       1.000
  42   49     -2843.936      19.661       1.000
  43   50     -2844.228      18.947       1.000
  44   51     -2844.405      12.259       1.000
  45   52     -2844.638      10.024       1.000
  46   53     -2844.745       9.688       1.000
  47   55     -2844.805       9.208       0.156
  48   56     -2844.863       7.737       1.000
  49   57     -2845.021       9.533       1.000
  50   58     -2845.078       9.182       1.000
  51   59     -2845.145       4.776       1.000
  52   60     -2845.188       4.638       1.000
  53   61     -2845.203      10.845       1.000
Final RAS Transform: 
0.929017 0.0213817 0.00446928 1.56003 
0.037794 0.987684 0.0195059 -0.880989 
0.0612717 0.011697 1.05641 -0.536445 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2022.57   GNORM= 105.017
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2028.763      70.681       0.001
   2    4     -2032.192      43.278       1.000
   3    5     -2034.356      21.271       1.000
   4    6     -2035.689      35.138       1.000
   5    7     -2036.752      33.530       1.000
   6    8     -2041.906      47.477       1.000
   7    9     -2046.800      64.606       1.000
   8   10     -2051.147      53.914       1.000
   9   11     -2053.689      27.958       1.000
  10   12     -2055.921      23.156       1.000
  11   13     -2058.143      58.137       1.000
  12   14     -2060.196      25.028       1.000
  13   15     -2061.370      16.615       1.000
  14   16     -2062.033      21.780       1.000
  15   17     -2062.688      14.453       1.000
  16   18     -2064.881      18.412       1.000
  17   19     -2069.840      69.916       1.000
  18   20     -2072.861      90.539       1.000
  19   21     -2076.202      20.722       1.000
  20   22     -2076.533       9.435       1.000
  21   23     -2076.684      11.530       1.000
  22   24     -2077.648      12.322       1.000
  23   25     -2078.884      32.152       1.000
  24   26     -2079.355      16.838       1.000
  25   27     -2079.489       9.100       1.000
  26   28     -2079.546      10.242       1.000
  27   29     -2079.686       6.803       1.000
  28   30     -2079.863       5.879       1.000
  29   32     -2079.990       7.128       0.417
  30   34     -2080.038      11.823       0.170
  31   35     -2080.135       7.118       1.000
  32   36     -2080.203       7.206       1.000
  33   37     -2080.262       4.132       1.000
  34   38     -2080.285       2.403       1.000
  35   39     -2080.305       2.581       1.000
  36   41     -2080.331       2.080       0.479
  37   42     -2080.332       9.735       1.000
  38   43     -2080.359       4.189       1.000
  39   44     -2080.375       3.307       1.000
  40   46     -2080.376       3.288       0.164
  41   47     -2080.387       3.690       1.000
  42   48     -2080.402       4.527       1.000
  43   49     -2080.412       5.142       1.000
  44   51     -2080.429       3.469       0.232
  45   52     -2080.445       1.822       1.000
  46   53     -2080.452       3.159       1.000
  47   54     -2080.465       3.265       1.000
  48   55     -2080.474       2.442       1.000
  49   56     -2080.477       1.123       1.000
  50   57     -2080.479       2.105       1.000
  51   58     -2080.485       1.552       1.000
Final RAS Transform: 
0.96568 -0.00418146 -0.0117075 0.408836 
0.0295118 1.01701 0.0483215 -0.325948 
0.0252551 -0.00242557 1.02801 -0.197758 
0 0 0 1 

Final RAS Transform: 
0.96568 -0.00418146 -0.0117075 0.408836 
0.0295118 1.01701 0.0483215 -0.325948 
0.0252551 -0.00242557 1.02801 -0.197758 
0 0 0 1 


real	0m10.834s
user	0m19.016s
sys	0m0.428s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.705, moving = 0.456565
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0795
Level     0,  Iter     1:    Energy =   0.0848
Level     0,  Iter     2:    Energy =   0.0915
Level     0,  Iter     3:    Energy =   0.0953
Level     0,  Iter     4:    Energy =   0.0987
Level     0,  Iter     5:    Energy =   0.1006
Level     0,  Iter     6:    Energy =   0.1024
Level     0,  Iter     7:    Energy =   0.1035
Level     0,  Iter     8:    Energy =   0.1048
Level     0,  Iter     9:    Energy =   0.1055
Level     0,  Iter    10:    Energy =   0.1065
Level     0,  Iter    11:    Energy =   0.1070
Level     0,  Iter    12:    Energy =   0.1078
Level     0,  Iter    13:    Energy =   0.1083
Level     0,  Iter    14:    Energy =   0.1091
Level     0,  Iter    15:    Energy =   0.1095
Level     0,  Iter    16:    Energy =   0.1103
Level     0,  Iter    17:    Energy =   0.1106
Level     0,  Iter    18:    Energy =   0.1113
Level     0,  Iter    19:    Energy =   0.1116
Level     0,  Iter    20:    Energy =   0.1124
Level     0,  Iter    21:    Energy =   0.1127
Level     0,  Iter    22:    Energy =   0.1135
Level     0,  Iter    23:    Energy =   0.1138
Level     0,  Iter    24:    Energy =   0.1148
Level     0,  Iter    25:    Energy =   0.1150
Level     0,  Iter    26:    Energy =   0.1158
Level     0,  Iter    27:    Energy =   0.1160
Level     0,  Iter    28:    Energy =   0.1169
Level     0,  Iter    29:    Energy =   0.1170
Level     0,  Iter    30:    Energy =   0.1176
Level     0,  Iter    31:    Energy =   0.1177
Level     0,  Iter    32:    Energy =   0.1184
Level     0,  Iter    33:    Energy =   0.1184
Level     0,  Iter    34:    Energy =   0.1188
Level     0,  Iter    35:    Energy =   0.1188
Level     0,  Iter    36:    Energy =   0.1195
Level     0,  Iter    37:    Energy =   0.1194
Level     0,  Iter    38:    Energy =   0.1200
Level     0,  Iter    39:    Energy =   0.1199
Level     0,  Iter    40:    Energy =   0.1203
Level     0,  Iter    41:    Energy =   0.1202
Level     0,  Iter    42:    Energy =   0.1207
Level     0,  Iter    43:    Energy =   0.1206
Level     0,  Iter    44:    Energy =   0.1212
Level     0,  Iter    45:    Energy =   0.1210
Level     0,  Iter    46:    Energy =   0.1214
Level     0,  Iter    47:    Energy =   0.1213
Level     0,  Iter    48:    Energy =   0.1217
Level     0,  Iter    49:    Energy =   0.1216
Level     0,  Iter    50:    Energy =   0.1220
Level     0,  Iter    51:    Energy =   0.1219
Level     0,  Iter    52:    Energy =   0.1222
Level     0,  Iter    53:    Energy =   0.1220
Level     0,  Iter    54:    Energy =   0.1222
Level     0,  Iter    55:    Energy =   0.1221
Level     0,  Iter    56:    Energy =   0.1224
Level     0,  Iter    57:    Energy =   0.1222
Level     0,  Iter    58:    Energy =   0.1225
Level     0,  Iter    59:    Energy =   0.1224
END OF LEVEL     0    DetJac Range:   0.1543  to   2.3186 
  Avg. Gradient Time  : 0.0086s  34.88% 
  Avg. Gaussian Time  : 0.0122s  49.35% 
  Avg. Iteration Time : 0.0248s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0794
Level     1,  Iter     1:    Energy =   0.0835
Level     1,  Iter     2:    Energy =   0.0875
Level     1,  Iter     3:    Energy =   0.0908
Level     1,  Iter     4:    Energy =   0.0937
Level     1,  Iter     5:    Energy =   0.0963
Level     1,  Iter     6:    Energy =   0.0984
Level     1,  Iter     7:    Energy =   0.1004
Level     1,  Iter     8:    Energy =   0.1023
Level     1,  Iter     9:    Energy =   0.1039
Level     1,  Iter    10:    Energy =   0.1050
Level     1,  Iter    11:    Energy =   0.1060
Level     1,  Iter    12:    Energy =   0.1069
Level     1,  Iter    13:    Energy =   0.1077
Level     1,  Iter    14:    Energy =   0.1081
Level     1,  Iter    15:    Energy =   0.1083
Level     1,  Iter    16:    Energy =   0.1084
Level     1,  Iter    17:    Energy =   0.1088
Level     1,  Iter    18:    Energy =   0.1089
Level     1,  Iter    19:    Energy =   0.1092
Level     1,  Iter    20:    Energy =   0.1092
Level     1,  Iter    21:    Energy =   0.1096
Level     1,  Iter    22:    Energy =   0.1097
Level     1,  Iter    23:    Energy =   0.1100
Level     1,  Iter    24:    Energy =   0.1101
Level     1,  Iter    25:    Energy =   0.1102
Level     1,  Iter    26:    Energy =   0.1103
Level     1,  Iter    27:    Energy =   0.1104
Level     1,  Iter    28:    Energy =   0.1105
Level     1,  Iter    29:    Energy =   0.1106
Level     1,  Iter    30:    Energy =   0.1108
Level     1,  Iter    31:    Energy =   0.1108
Level     1,  Iter    32:    Energy =   0.1110
Level     1,  Iter    33:    Energy =   0.1110
Level     1,  Iter    34:    Energy =   0.1112
Level     1,  Iter    35:    Energy =   0.1112
Level     1,  Iter    36:    Energy =   0.1114
Level     1,  Iter    37:    Energy =   0.1114
Level     1,  Iter    38:    Energy =   0.1116
Level     1,  Iter    39:    Energy =   0.1116
Level     1,  Iter    40:    Energy =   0.1118
Level     1,  Iter    41:    Energy =   0.1118
Level     1,  Iter    42:    Energy =   0.1120
Level     1,  Iter    43:    Energy =   0.1120
Level     1,  Iter    44:    Energy =   0.1121
Level     1,  Iter    45:    Energy =   0.1121
Level     1,  Iter    46:    Energy =   0.1122
Level     1,  Iter    47:    Energy =   0.1123
Level     1,  Iter    48:    Energy =   0.1123
Level     1,  Iter    49:    Energy =   0.1124
Level     1,  Iter    50:    Energy =   0.1124
Level     1,  Iter    51:    Energy =   0.1125
Level     1,  Iter    52:    Energy =   0.1125
Level     1,  Iter    53:    Energy =   0.1126
Level     1,  Iter    54:    Energy =   0.1126
Level     1,  Iter    55:    Energy =   0.1126
Level     1,  Iter    56:    Energy =   0.1127
Level     1,  Iter    57:    Energy =   0.1127
Level     1,  Iter    58:    Energy =   0.1127
Level     1,  Iter    59:    Energy =   0.1128
END OF LEVEL     1    DetJac Range:   0.0821  to   3.7542 
  Avg. Gradient Time  : 0.0486s  32.50% 
  Avg. Gaussian Time  : 0.0813s  54.43% 
  Avg. Iteration Time : 0.1494s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0581
Level     2,  Iter     1:    Energy =   0.0606
Level     2,  Iter     2:    Energy =   0.0627
Level     2,  Iter     3:    Energy =   0.0647
Level     2,  Iter     4:    Energy =   0.0664
Level     2,  Iter     5:    Energy =   0.0678
Level     2,  Iter     6:    Energy =   0.0691
Level     2,  Iter     7:    Energy =   0.0703
Level     2,  Iter     8:    Energy =   0.0714
Level     2,  Iter     9:    Energy =   0.0725
Level     2,  Iter    10:    Energy =   0.0733
Level     2,  Iter    11:    Energy =   0.0740
Level     2,  Iter    12:    Energy =   0.0746
Level     2,  Iter    13:    Energy =   0.0752
Level     2,  Iter    14:    Energy =   0.0757
Level     2,  Iter    15:    Energy =   0.0762
Level     2,  Iter    16:    Energy =   0.0764
Level     2,  Iter    17:    Energy =   0.0768
Level     2,  Iter    18:    Energy =   0.0771
Level     2,  Iter    19:    Energy =   0.0775
END OF LEVEL     2    DetJac Range:   0.0521  to   5.1713 
  Avg. Gradient Time  : 0.3210s  27.41% 
  Avg. Gaussian Time  : 0.7063s  60.30% 
  Avg. Iteration Time : 1.1713s 

real	0m39.167s
user	1m10.868s
sys	0m2.588s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.494231 0.5
+ echo 'CHUNK 0.494231 0.5 1'
CHUNK 0.494231 0.5 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.494231 0.5 1
====================================
         PROGRESS: 0.494231               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 2 successful
------------------------------------------------
[0m
****************************************
Starting stage 3: Initial joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 3: Initial joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 14, 4], [64, 61, 43] (167872 pixels)
Computing mask based on input segmentations
  Skipping 79108 out of 167872 voxels.
................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
76:90:53
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 345839
tc: 16681
mean intensity : sample #  175.522:27180
center location: (35.9529,46.4219,22.0917) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 1917
tc: 16681
center location: (30.6509,35.1494,11.5705) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2685
tc: 16681
center location: (33.2965,43.5586,21.4013) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 6855
tc: 16681
center location: (41.5805,47.7835,21.5334) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 256
tc: 16681
center location: (51.5913,52.4282,29.5558) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3915
tc: 16681
center location: (43.5069,49.3124,26.5412) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 411
tc: 16681
center location: (39.7138,53.0725,23.8924) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 7
tc: 16681
center location: (54.6941,47.2715,21.3489) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 635
tc: 16681
center location: (26.5029,56.2132,42.4266) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
76:90:53
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 345839
tc: 16681
center location: (35.9529,46.4219,22.0917) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 1917
tc: 16681
center location: (30.6509,35.1494,11.5705) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2685
tc: 16681
center location: (33.2965,43.5586,21.4013) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 6855
tc: 16681
center location: (41.5805,47.7835,21.5334) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 256
tc: 16681
center location: (51.5913,52.4282,29.5558) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3915
tc: 16681
center location: (43.5069,49.3124,26.5412) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 1 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 411
tc: 16681
center location: (39.7138,53.0725,23.8924) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 7
tc: 16681
center location: (54.6941,47.2715,21.3489) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 635
tc: 16681
center location: (26.5029,56.2132,42.4266) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc left multiatlas heur
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.jyzvOc47/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.jyzvOc47/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.jyzvOc47/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.jyzvOc47/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.jyzvOc47/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.jyzvOc47/sag_seg_%02d.png
++ ls /tmp/ashs.jyzvOc47/cor_mprage_00.png /tmp/ashs.jyzvOc47/cor_mprage_01.png /tmp/ashs.jyzvOc47/cor_mprage_02.png /tmp/ashs.jyzvOc47/cor_mprage_03.png /tmp/ashs.jyzvOc47/cor_mprage_04.png /tmp/ashs.jyzvOc47/cor_seg_00.png /tmp/ashs.jyzvOc47/cor_seg_03.png /tmp/ashs.jyzvOc47/cor_seg_06.png /tmp/ashs.jyzvOc47/cor_seg_09.png /tmp/ashs.jyzvOc47/cor_seg_12.png /tmp/ashs.jyzvOc47/cor_tse_00.png /tmp/ashs.jyzvOc47/cor_tse_01.png /tmp/ashs.jyzvOc47/cor_tse_02.png /tmp/ashs.jyzvOc47/cor_tse_03.png /tmp/ashs.jyzvOc47/cor_tse_04.png /tmp/ashs.jyzvOc47/sag_mprage_00.png /tmp/ashs.jyzvOc47/sag_mprage_01.png /tmp/ashs.jyzvOc47/sag_seg_00.png /tmp/ashs.jyzvOc47/sag_seg_03.png /tmp/ashs.jyzvOc47/sag_tse_00.png /tmp/ashs.jyzvOc47/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_00.png /tmp/ashs.jyzvOc47/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_01.png /tmp/ashs.jyzvOc47/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_02.png /tmp/ashs.jyzvOc47/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_03.png /tmp/ashs.jyzvOc47/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_04.png /tmp/ashs.jyzvOc47/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_00.png /tmp/ashs.jyzvOc47/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_03.png /tmp/ashs.jyzvOc47/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_06.png /tmp/ashs.jyzvOc47/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_09.png /tmp/ashs.jyzvOc47/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_12.png /tmp/ashs.jyzvOc47/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_00.png /tmp/ashs.jyzvOc47/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_01.png /tmp/ashs.jyzvOc47/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_02.png /tmp/ashs.jyzvOc47/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_03.png /tmp/ashs.jyzvOc47/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_04.png /tmp/ashs.jyzvOc47/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_mprage_00.png /tmp/ashs.jyzvOc47/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_mprage_01.png /tmp/ashs.jyzvOc47/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_seg_00.png /tmp/ashs.jyzvOc47/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_seg_03.png /tmp/ashs.jyzvOc47/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_tse_00.png /tmp/ashs.jyzvOc47/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_tse_01.png /tmp/ashs.jyzvOc47/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.jyzvOc47/cor_tse_00.png /tmp/ashs.jyzvOc47/cor_tse_01.png /tmp/ashs.jyzvOc47/cor_tse_02.png /tmp/ashs.jyzvOc47/cor_tse_03.png /tmp/ashs.jyzvOc47/cor_tse_04.png /tmp/ashs.jyzvOc47/sag_tse_00.png /tmp/ashs.jyzvOc47/sag_tse_01.png /tmp/ashs.jyzvOc47/cor_mprage_00.png /tmp/ashs.jyzvOc47/cor_mprage_01.png /tmp/ashs.jyzvOc47/cor_mprage_02.png /tmp/ashs.jyzvOc47/cor_mprage_03.png /tmp/ashs.jyzvOc47/cor_mprage_04.png /tmp/ashs.jyzvOc47/sag_mprage_00.png /tmp/ashs.jyzvOc47/sag_mprage_01.png /tmp/ashs.jyzvOc47/cor_seg_00.png /tmp/ashs.jyzvOc47/cor_seg_03.png /tmp/ashs.jyzvOc47/cor_seg_06.png /tmp/ashs.jyzvOc47/cor_seg_09.png /tmp/ashs.jyzvOc47/cor_seg_12.png /tmp/ashs.jyzvOc47/sag_seg_00.png /tmp/ashs.jyzvOc47/sag_seg_03.png /tmp/ashs.jyzvOc47/qa.png
+ convert /tmp/ashs.jyzvOc47/qa.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:left /tmp/ashs.jyzvOc47/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_heur_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_usegray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.jyzvOc47/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.jyzvOc47/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.jyzvOc47/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.jyzvOc47/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.jyzvOc47/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.jyzvOc47/sag_seg_%02d.png
++ ls /tmp/ashs.jyzvOc47/cor_mprage_00.png /tmp/ashs.jyzvOc47/cor_mprage_01.png /tmp/ashs.jyzvOc47/cor_mprage_02.png /tmp/ashs.jyzvOc47/cor_mprage_03.png /tmp/ashs.jyzvOc47/cor_mprage_04.png /tmp/ashs.jyzvOc47/cor_seg_00.png /tmp/ashs.jyzvOc47/cor_seg_03.png /tmp/ashs.jyzvOc47/cor_seg_06.png /tmp/ashs.jyzvOc47/cor_seg_09.png /tmp/ashs.jyzvOc47/cor_seg_12.png /tmp/ashs.jyzvOc47/cor_tse_00.png /tmp/ashs.jyzvOc47/cor_tse_01.png /tmp/ashs.jyzvOc47/cor_tse_02.png /tmp/ashs.jyzvOc47/cor_tse_03.png /tmp/ashs.jyzvOc47/cor_tse_04.png /tmp/ashs.jyzvOc47/sag_mprage_00.png /tmp/ashs.jyzvOc47/sag_mprage_01.png /tmp/ashs.jyzvOc47/sag_seg_00.png /tmp/ashs.jyzvOc47/sag_seg_03.png /tmp/ashs.jyzvOc47/sag_tse_00.png /tmp/ashs.jyzvOc47/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_00.png /tmp/ashs.jyzvOc47/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_01.png /tmp/ashs.jyzvOc47/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_02.png /tmp/ashs.jyzvOc47/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_03.png /tmp/ashs.jyzvOc47/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_04.png /tmp/ashs.jyzvOc47/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_00.png /tmp/ashs.jyzvOc47/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_03.png /tmp/ashs.jyzvOc47/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_06.png /tmp/ashs.jyzvOc47/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_09.png /tmp/ashs.jyzvOc47/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_12.png /tmp/ashs.jyzvOc47/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_00.png /tmp/ashs.jyzvOc47/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_01.png /tmp/ashs.jyzvOc47/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_02.png /tmp/ashs.jyzvOc47/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_03.png /tmp/ashs.jyzvOc47/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_04.png /tmp/ashs.jyzvOc47/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_mprage_00.png /tmp/ashs.jyzvOc47/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_mprage_01.png /tmp/ashs.jyzvOc47/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_seg_00.png /tmp/ashs.jyzvOc47/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_seg_03.png /tmp/ashs.jyzvOc47/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_tse_00.png /tmp/ashs.jyzvOc47/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_tse_01.png /tmp/ashs.jyzvOc47/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.jyzvOc47/cor_tse_00.png /tmp/ashs.jyzvOc47/cor_tse_01.png /tmp/ashs.jyzvOc47/cor_tse_02.png /tmp/ashs.jyzvOc47/cor_tse_03.png /tmp/ashs.jyzvOc47/cor_tse_04.png /tmp/ashs.jyzvOc47/sag_tse_00.png /tmp/ashs.jyzvOc47/sag_tse_01.png /tmp/ashs.jyzvOc47/cor_mprage_00.png /tmp/ashs.jyzvOc47/cor_mprage_01.png /tmp/ashs.jyzvOc47/cor_mprage_02.png /tmp/ashs.jyzvOc47/cor_mprage_03.png /tmp/ashs.jyzvOc47/cor_mprage_04.png /tmp/ashs.jyzvOc47/sag_mprage_00.png /tmp/ashs.jyzvOc47/sag_mprage_01.png /tmp/ashs.jyzvOc47/cor_seg_00.png /tmp/ashs.jyzvOc47/cor_seg_03.png /tmp/ashs.jyzvOc47/cor_seg_06.png /tmp/ashs.jyzvOc47/cor_seg_09.png /tmp/ashs.jyzvOc47/cor_seg_12.png /tmp/ashs.jyzvOc47/sag_seg_00.png /tmp/ashs.jyzvOc47/sag_seg_03.png /tmp/ashs.jyzvOc47/qa.png
+ convert /tmp/ashs.jyzvOc47/qa.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:left /tmp/ashs.jyzvOc47/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_nogray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.jyzvOc47/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.jyzvOc47/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.jyzvOc47/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.jyzvOc47/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.jyzvOc47/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.jyzvOc47/sag_seg_%02d.png
++ ls /tmp/ashs.jyzvOc47/cor_mprage_00.png /tmp/ashs.jyzvOc47/cor_mprage_01.png /tmp/ashs.jyzvOc47/cor_mprage_02.png /tmp/ashs.jyzvOc47/cor_mprage_03.png /tmp/ashs.jyzvOc47/cor_mprage_04.png /tmp/ashs.jyzvOc47/cor_seg_00.png /tmp/ashs.jyzvOc47/cor_seg_03.png /tmp/ashs.jyzvOc47/cor_seg_06.png /tmp/ashs.jyzvOc47/cor_seg_09.png /tmp/ashs.jyzvOc47/cor_seg_12.png /tmp/ashs.jyzvOc47/cor_tse_00.png /tmp/ashs.jyzvOc47/cor_tse_01.png /tmp/ashs.jyzvOc47/cor_tse_02.png /tmp/ashs.jyzvOc47/cor_tse_03.png /tmp/ashs.jyzvOc47/cor_tse_04.png /tmp/ashs.jyzvOc47/sag_mprage_00.png /tmp/ashs.jyzvOc47/sag_mprage_01.png /tmp/ashs.jyzvOc47/sag_seg_00.png /tmp/ashs.jyzvOc47/sag_seg_03.png /tmp/ashs.jyzvOc47/sag_tse_00.png /tmp/ashs.jyzvOc47/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_00.png /tmp/ashs.jyzvOc47/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_01.png /tmp/ashs.jyzvOc47/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_02.png /tmp/ashs.jyzvOc47/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_03.png /tmp/ashs.jyzvOc47/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_mprage_04.png /tmp/ashs.jyzvOc47/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_00.png /tmp/ashs.jyzvOc47/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_03.png /tmp/ashs.jyzvOc47/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_06.png /tmp/ashs.jyzvOc47/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_09.png /tmp/ashs.jyzvOc47/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_seg_12.png /tmp/ashs.jyzvOc47/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_00.png /tmp/ashs.jyzvOc47/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_01.png /tmp/ashs.jyzvOc47/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_02.png /tmp/ashs.jyzvOc47/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_03.png /tmp/ashs.jyzvOc47/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/cor_tse_04.png /tmp/ashs.jyzvOc47/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_mprage_00.png /tmp/ashs.jyzvOc47/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_mprage_01.png /tmp/ashs.jyzvOc47/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_seg_00.png /tmp/ashs.jyzvOc47/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_seg_03.png /tmp/ashs.jyzvOc47/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_tse_00.png /tmp/ashs.jyzvOc47/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.jyzvOc47/sag_tse_01.png /tmp/ashs.jyzvOc47/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.jyzvOc47/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.jyzvOc47/cor_tse_00.png /tmp/ashs.jyzvOc47/cor_tse_01.png /tmp/ashs.jyzvOc47/cor_tse_02.png /tmp/ashs.jyzvOc47/cor_tse_03.png /tmp/ashs.jyzvOc47/cor_tse_04.png /tmp/ashs.jyzvOc47/sag_tse_00.png /tmp/ashs.jyzvOc47/sag_tse_01.png /tmp/ashs.jyzvOc47/cor_mprage_00.png /tmp/ashs.jyzvOc47/cor_mprage_01.png /tmp/ashs.jyzvOc47/cor_mprage_02.png /tmp/ashs.jyzvOc47/cor_mprage_03.png /tmp/ashs.jyzvOc47/cor_mprage_04.png /tmp/ashs.jyzvOc47/sag_mprage_00.png /tmp/ashs.jyzvOc47/sag_mprage_01.png /tmp/ashs.jyzvOc47/cor_seg_00.png /tmp/ashs.jyzvOc47/cor_seg_03.png /tmp/ashs.jyzvOc47/cor_seg_06.png /tmp/ashs.jyzvOc47/cor_seg_09.png /tmp/ashs.jyzvOc47/cor_seg_12.png /tmp/ashs.jyzvOc47/sag_seg_00.png /tmp/ashs.jyzvOc47/sag_seg_03.png /tmp/ashs.jyzvOc47/qa.png
+ convert /tmp/ashs.jyzvOc47/qa.png -bordercolor Black -border 1x1 /tmp/ashs.jyzvOc47/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:left /tmp/ashs.jyzvOc47/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.5 0.55
+ echo 'CHUNK 0.5 0.55 1'
CHUNK 0.5 0.55 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.5 0.55 1
====================================
         PROGRESS: 0.5               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 14, 4], [63, 60, 44] (166320 pixels)
Computing mask based on input segmentations
  Skipping 72786 out of 166320 voxels.
..................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
76:90:52
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 337805
tc: 17875
mean intensity : sample #  202.644:28953
center location: (39.1059,46.8857,22.2427) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 1652
tc: 17875
center location: (46.1373,35.6067,11.5557) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2550
tc: 17875
center location: (43.2058,44.4118,21.0568) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 1 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 8045
tc: 17875
center location: (32.755,47.5334,21.2465) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 296
tc: 17875
center location: (21.575,50.6697,29.3446) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4381
tc: 17875
center location: (30.2912,48.4873,25.6566) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 475
tc: 17875
center location: (34.0423,52.7059,23.8135) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 7
tc: 17875
center location: (16.3939,43.8439,23.9678) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 1 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 469
tc: 17875
center location: (47.2108,57.1137,42.7953) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
76:90:52
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 337805
tc: 17875
center location: (39.1059,46.8857,22.2427) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 1652
tc: 17875
center location: (46.1373,35.6067,11.5557) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2550
tc: 17875
center location: (43.2058,44.4118,21.0568) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 8045
tc: 17875
center location: (32.755,47.5334,21.2465) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 296
tc: 17875
center location: (21.575,50.6697,29.3446) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4381
tc: 17875
center location: (30.2912,48.4873,25.6566) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 475
tc: 17875
center location: (34.0423,52.7059,23.8135) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 7
tc: 17875
center location: (16.3939,43.8439,23.9678) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 469
tc: 17875
center location: (47.2108,57.1137,42.7953) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc right multiatlas heur
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.oCHO9oCc/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.oCHO9oCc/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.oCHO9oCc/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.oCHO9oCc/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.oCHO9oCc/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.oCHO9oCc/sag_seg_%02d.png
++ ls /tmp/ashs.oCHO9oCc/cor_mprage_00.png /tmp/ashs.oCHO9oCc/cor_mprage_01.png /tmp/ashs.oCHO9oCc/cor_mprage_02.png /tmp/ashs.oCHO9oCc/cor_mprage_03.png /tmp/ashs.oCHO9oCc/cor_mprage_04.png /tmp/ashs.oCHO9oCc/cor_seg_00.png /tmp/ashs.oCHO9oCc/cor_seg_03.png /tmp/ashs.oCHO9oCc/cor_seg_06.png /tmp/ashs.oCHO9oCc/cor_seg_09.png /tmp/ashs.oCHO9oCc/cor_seg_12.png /tmp/ashs.oCHO9oCc/cor_tse_00.png /tmp/ashs.oCHO9oCc/cor_tse_01.png /tmp/ashs.oCHO9oCc/cor_tse_02.png /tmp/ashs.oCHO9oCc/cor_tse_03.png /tmp/ashs.oCHO9oCc/cor_tse_04.png /tmp/ashs.oCHO9oCc/sag_mprage_00.png /tmp/ashs.oCHO9oCc/sag_mprage_01.png /tmp/ashs.oCHO9oCc/sag_seg_00.png /tmp/ashs.oCHO9oCc/sag_seg_03.png /tmp/ashs.oCHO9oCc/sag_tse_00.png /tmp/ashs.oCHO9oCc/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_00.png /tmp/ashs.oCHO9oCc/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_01.png /tmp/ashs.oCHO9oCc/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_02.png /tmp/ashs.oCHO9oCc/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_03.png /tmp/ashs.oCHO9oCc/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_04.png /tmp/ashs.oCHO9oCc/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_00.png /tmp/ashs.oCHO9oCc/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_03.png /tmp/ashs.oCHO9oCc/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_06.png /tmp/ashs.oCHO9oCc/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_09.png /tmp/ashs.oCHO9oCc/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_12.png /tmp/ashs.oCHO9oCc/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_00.png /tmp/ashs.oCHO9oCc/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_01.png /tmp/ashs.oCHO9oCc/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_02.png /tmp/ashs.oCHO9oCc/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_03.png /tmp/ashs.oCHO9oCc/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_04.png /tmp/ashs.oCHO9oCc/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_mprage_00.png /tmp/ashs.oCHO9oCc/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_mprage_01.png /tmp/ashs.oCHO9oCc/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_seg_00.png /tmp/ashs.oCHO9oCc/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_seg_03.png /tmp/ashs.oCHO9oCc/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_tse_00.png /tmp/ashs.oCHO9oCc/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_tse_01.png /tmp/ashs.oCHO9oCc/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.oCHO9oCc/cor_tse_00.png /tmp/ashs.oCHO9oCc/cor_tse_01.png /tmp/ashs.oCHO9oCc/cor_tse_02.png /tmp/ashs.oCHO9oCc/cor_tse_03.png /tmp/ashs.oCHO9oCc/cor_tse_04.png /tmp/ashs.oCHO9oCc/sag_tse_00.png /tmp/ashs.oCHO9oCc/sag_tse_01.png /tmp/ashs.oCHO9oCc/cor_mprage_00.png /tmp/ashs.oCHO9oCc/cor_mprage_01.png /tmp/ashs.oCHO9oCc/cor_mprage_02.png /tmp/ashs.oCHO9oCc/cor_mprage_03.png /tmp/ashs.oCHO9oCc/cor_mprage_04.png /tmp/ashs.oCHO9oCc/sag_mprage_00.png /tmp/ashs.oCHO9oCc/sag_mprage_01.png /tmp/ashs.oCHO9oCc/cor_seg_00.png /tmp/ashs.oCHO9oCc/cor_seg_03.png /tmp/ashs.oCHO9oCc/cor_seg_06.png /tmp/ashs.oCHO9oCc/cor_seg_09.png /tmp/ashs.oCHO9oCc/cor_seg_12.png /tmp/ashs.oCHO9oCc/sag_seg_00.png /tmp/ashs.oCHO9oCc/sag_seg_03.png /tmp/ashs.oCHO9oCc/qa.png
+ convert /tmp/ashs.oCHO9oCc/qa.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:right /tmp/ashs.oCHO9oCc/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_heur_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_usegray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.oCHO9oCc/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.oCHO9oCc/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.oCHO9oCc/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.oCHO9oCc/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.oCHO9oCc/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.oCHO9oCc/sag_seg_%02d.png
++ ls /tmp/ashs.oCHO9oCc/cor_mprage_00.png /tmp/ashs.oCHO9oCc/cor_mprage_01.png /tmp/ashs.oCHO9oCc/cor_mprage_02.png /tmp/ashs.oCHO9oCc/cor_mprage_03.png /tmp/ashs.oCHO9oCc/cor_mprage_04.png /tmp/ashs.oCHO9oCc/cor_seg_00.png /tmp/ashs.oCHO9oCc/cor_seg_03.png /tmp/ashs.oCHO9oCc/cor_seg_06.png /tmp/ashs.oCHO9oCc/cor_seg_09.png /tmp/ashs.oCHO9oCc/cor_seg_12.png /tmp/ashs.oCHO9oCc/cor_tse_00.png /tmp/ashs.oCHO9oCc/cor_tse_01.png /tmp/ashs.oCHO9oCc/cor_tse_02.png /tmp/ashs.oCHO9oCc/cor_tse_03.png /tmp/ashs.oCHO9oCc/cor_tse_04.png /tmp/ashs.oCHO9oCc/sag_mprage_00.png /tmp/ashs.oCHO9oCc/sag_mprage_01.png /tmp/ashs.oCHO9oCc/sag_seg_00.png /tmp/ashs.oCHO9oCc/sag_seg_03.png /tmp/ashs.oCHO9oCc/sag_tse_00.png /tmp/ashs.oCHO9oCc/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_00.png /tmp/ashs.oCHO9oCc/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_01.png /tmp/ashs.oCHO9oCc/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_02.png /tmp/ashs.oCHO9oCc/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_03.png /tmp/ashs.oCHO9oCc/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_04.png /tmp/ashs.oCHO9oCc/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_00.png /tmp/ashs.oCHO9oCc/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_03.png /tmp/ashs.oCHO9oCc/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_06.png /tmp/ashs.oCHO9oCc/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_09.png /tmp/ashs.oCHO9oCc/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_12.png /tmp/ashs.oCHO9oCc/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_00.png /tmp/ashs.oCHO9oCc/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_01.png /tmp/ashs.oCHO9oCc/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_02.png /tmp/ashs.oCHO9oCc/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_03.png /tmp/ashs.oCHO9oCc/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_04.png /tmp/ashs.oCHO9oCc/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_mprage_00.png /tmp/ashs.oCHO9oCc/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_mprage_01.png /tmp/ashs.oCHO9oCc/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_seg_00.png /tmp/ashs.oCHO9oCc/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_seg_03.png /tmp/ashs.oCHO9oCc/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_tse_00.png /tmp/ashs.oCHO9oCc/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_tse_01.png /tmp/ashs.oCHO9oCc/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.oCHO9oCc/cor_tse_00.png /tmp/ashs.oCHO9oCc/cor_tse_01.png /tmp/ashs.oCHO9oCc/cor_tse_02.png /tmp/ashs.oCHO9oCc/cor_tse_03.png /tmp/ashs.oCHO9oCc/cor_tse_04.png /tmp/ashs.oCHO9oCc/sag_tse_00.png /tmp/ashs.oCHO9oCc/sag_tse_01.png /tmp/ashs.oCHO9oCc/cor_mprage_00.png /tmp/ashs.oCHO9oCc/cor_mprage_01.png /tmp/ashs.oCHO9oCc/cor_mprage_02.png /tmp/ashs.oCHO9oCc/cor_mprage_03.png /tmp/ashs.oCHO9oCc/cor_mprage_04.png /tmp/ashs.oCHO9oCc/sag_mprage_00.png /tmp/ashs.oCHO9oCc/sag_mprage_01.png /tmp/ashs.oCHO9oCc/cor_seg_00.png /tmp/ashs.oCHO9oCc/cor_seg_03.png /tmp/ashs.oCHO9oCc/cor_seg_06.png /tmp/ashs.oCHO9oCc/cor_seg_09.png /tmp/ashs.oCHO9oCc/cor_seg_12.png /tmp/ashs.oCHO9oCc/sag_seg_00.png /tmp/ashs.oCHO9oCc/sag_seg_03.png /tmp/ashs.oCHO9oCc/qa.png
+ convert /tmp/ashs.oCHO9oCc/qa.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:right /tmp/ashs.oCHO9oCc/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_nogray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.oCHO9oCc/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.oCHO9oCc/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.oCHO9oCc/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.oCHO9oCc/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.oCHO9oCc/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.oCHO9oCc/sag_seg_%02d.png
++ ls /tmp/ashs.oCHO9oCc/cor_mprage_00.png /tmp/ashs.oCHO9oCc/cor_mprage_01.png /tmp/ashs.oCHO9oCc/cor_mprage_02.png /tmp/ashs.oCHO9oCc/cor_mprage_03.png /tmp/ashs.oCHO9oCc/cor_mprage_04.png /tmp/ashs.oCHO9oCc/cor_seg_00.png /tmp/ashs.oCHO9oCc/cor_seg_03.png /tmp/ashs.oCHO9oCc/cor_seg_06.png /tmp/ashs.oCHO9oCc/cor_seg_09.png /tmp/ashs.oCHO9oCc/cor_seg_12.png /tmp/ashs.oCHO9oCc/cor_tse_00.png /tmp/ashs.oCHO9oCc/cor_tse_01.png /tmp/ashs.oCHO9oCc/cor_tse_02.png /tmp/ashs.oCHO9oCc/cor_tse_03.png /tmp/ashs.oCHO9oCc/cor_tse_04.png /tmp/ashs.oCHO9oCc/sag_mprage_00.png /tmp/ashs.oCHO9oCc/sag_mprage_01.png /tmp/ashs.oCHO9oCc/sag_seg_00.png /tmp/ashs.oCHO9oCc/sag_seg_03.png /tmp/ashs.oCHO9oCc/sag_tse_00.png /tmp/ashs.oCHO9oCc/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_00.png /tmp/ashs.oCHO9oCc/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_01.png /tmp/ashs.oCHO9oCc/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_02.png /tmp/ashs.oCHO9oCc/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_03.png /tmp/ashs.oCHO9oCc/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_mprage_04.png /tmp/ashs.oCHO9oCc/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_00.png /tmp/ashs.oCHO9oCc/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_03.png /tmp/ashs.oCHO9oCc/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_06.png /tmp/ashs.oCHO9oCc/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_09.png /tmp/ashs.oCHO9oCc/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_seg_12.png /tmp/ashs.oCHO9oCc/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_00.png /tmp/ashs.oCHO9oCc/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_01.png /tmp/ashs.oCHO9oCc/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_02.png /tmp/ashs.oCHO9oCc/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_03.png /tmp/ashs.oCHO9oCc/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/cor_tse_04.png /tmp/ashs.oCHO9oCc/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_mprage_00.png /tmp/ashs.oCHO9oCc/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_mprage_01.png /tmp/ashs.oCHO9oCc/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_seg_00.png /tmp/ashs.oCHO9oCc/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_seg_03.png /tmp/ashs.oCHO9oCc/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_tse_00.png /tmp/ashs.oCHO9oCc/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.oCHO9oCc/sag_tse_01.png /tmp/ashs.oCHO9oCc/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.oCHO9oCc/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.oCHO9oCc/cor_tse_00.png /tmp/ashs.oCHO9oCc/cor_tse_01.png /tmp/ashs.oCHO9oCc/cor_tse_02.png /tmp/ashs.oCHO9oCc/cor_tse_03.png /tmp/ashs.oCHO9oCc/cor_tse_04.png /tmp/ashs.oCHO9oCc/sag_tse_00.png /tmp/ashs.oCHO9oCc/sag_tse_01.png /tmp/ashs.oCHO9oCc/cor_mprage_00.png /tmp/ashs.oCHO9oCc/cor_mprage_01.png /tmp/ashs.oCHO9oCc/cor_mprage_02.png /tmp/ashs.oCHO9oCc/cor_mprage_03.png /tmp/ashs.oCHO9oCc/cor_mprage_04.png /tmp/ashs.oCHO9oCc/sag_mprage_00.png /tmp/ashs.oCHO9oCc/sag_mprage_01.png /tmp/ashs.oCHO9oCc/cor_seg_00.png /tmp/ashs.oCHO9oCc/cor_seg_03.png /tmp/ashs.oCHO9oCc/cor_seg_06.png /tmp/ashs.oCHO9oCc/cor_seg_09.png /tmp/ashs.oCHO9oCc/cor_seg_12.png /tmp/ashs.oCHO9oCc/sag_seg_00.png /tmp/ashs.oCHO9oCc/sag_seg_03.png /tmp/ashs.oCHO9oCc/qa.png
+ convert /tmp/ashs.oCHO9oCc/qa.png -bordercolor Black -border 1x1 /tmp/ashs.oCHO9oCc/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:right /tmp/ashs.oCHO9oCc/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.55 0.6
+ echo 'CHUNK 0.55 0.6 1'
CHUNK 0.55 0.6 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.55 0.6 1
====================================
         PROGRESS: 0.55               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 3 successful
------------------------------------------------
[0m
****************************************
Starting stage 4: Boostrapped ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 4: Boostrapped ROI registration 
to all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 000
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2329.75 	 OutFr   0.0000 	 RMSD     4.1196
Iter 002 	 Temp     3.72 	 Delta  2359.09 	 OutFr   0.0000 	 RMSD     2.4801
Iter 003 	 Temp     3.46 	 Delta  2241.79 	 OutFr   0.0000 	 RMSD     2.4190
Iter 004 	 Temp     3.22 	 Delta  2123.06 	 OutFr   0.0000 	 RMSD     2.4086
Iter 005 	 Temp     2.99 	 Delta  2016.21 	 OutFr   0.0000 	 RMSD     2.3988
Iter 006 	 Temp     2.78 	 Delta  1915.54 	 OutFr   0.0000 	 RMSD     2.3864
Iter 007 	 Temp     2.59 	 Delta  1816.74 	 OutFr   0.0000 	 RMSD     2.3743
Iter 008 	 Temp     2.41 	 Delta  1717.91 	 OutFr   0.0000 	 RMSD     2.3629
Iter 009 	 Temp     2.24 	 Delta  1620.05 	 OutFr   0.0000 	 RMSD     2.3520
Iter 010 	 Temp     2.08 	 Delta  1525.89 	 OutFr   0.0000 	 RMSD     2.3428
Iter 011 	 Temp     1.94 	 Delta  1434.40 	 OutFr   0.0000 	 RMSD     2.3351
Iter 012 	 Temp     1.80 	 Delta  1341.87 	 OutFr   0.0000 	 RMSD     2.3289
Iter 013 	 Temp     1.67 	 Delta  1248.48 	 OutFr   0.0000 	 RMSD     2.3249
Iter 014 	 Temp     1.56 	 Delta  1158.52 	 OutFr   0.0000 	 RMSD     2.3217
Iter 015 	 Temp     1.45 	 Delta  1075.56 	 OutFr   0.0078 	 RMSD     2.3183
Iter 016 	 Temp     1.35 	 Delta   999.34 	 OutFr   0.0155 	 RMSD     2.3152
Iter 017 	 Temp     1.25 	 Delta   928.65 	 OutFr   0.0181 	 RMSD     2.3125
Iter 018 	 Temp     1.16 	 Delta   861.26 	 OutFr   0.0207 	 RMSD     2.3109
Iter 019 	 Temp     1.08 	 Delta   796.48 	 OutFr   0.0284 	 RMSD     2.3095
Iter 020 	 Temp     1.01 	 Delta   735.53 	 OutFr   0.0336 	 RMSD     2.3082
Iter 021 	 Temp     0.94 	 Delta   677.95 	 OutFr   0.0388 	 RMSD     2.3065
Iter 022 	 Temp     0.87 	 Delta   621.66 	 OutFr   0.0465 	 RMSD     2.3049
Iter 023 	 Temp     0.81 	 Delta   566.38 	 OutFr   0.0749 	 RMSD     2.3035
Iter 024 	 Temp     0.75 	 Delta   515.70 	 OutFr   0.1034 	 RMSD     2.3026
Iter 025 	 Temp     0.70 	 Delta   469.61 	 OutFr   0.1292 	 RMSD     2.3023
Iter 026 	 Temp     0.65 	 Delta   429.55 	 OutFr   0.1525 	 RMSD     2.3028
Iter 027 	 Temp     0.61 	 Delta   390.71 	 OutFr   0.1731 	 RMSD     2.3049
Iter 028 	 Temp     0.56 	 Delta   353.71 	 OutFr   0.1990 	 RMSD     2.3067
Iter 029 	 Temp     0.52 	 Delta   319.09 	 OutFr   0.2351 	 RMSD     2.3074
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.RfyuqArl/mybin.nii.gz
+ vtklevelset /tmp/ashs.RfyuqArl/mybin.nii.gz /tmp/ashs.RfyuqArl/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.RfyuqArl/mymesh.vtk /tmp/ashs.RfyuqArl/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2950.72139006   1.06583627
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.RfyuqArl/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.8553 to -11.9824
   Y : -19.4203 to 24.4771
   Z : -15.2614 to 16.4514
   Image resolution  : 98 by 156 by 120
   Image box origin  : {-40.8553, -24.4203, -20.2614}
   Image box size    : {34.0278, 54.1666, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.8553, 24.4203, -20.2614]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat -o /tmp/ashs.RfyuqArl/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat -o /tmp/ashs.RfyuqArl/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.RfyuqArl/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.6 0.605769
+ echo 'CHUNK 0.6 0.605769 0.5'
CHUNK 0.6 0.605769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.6 0.605769 0.5
====================================
         PROGRESS: 0.6               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.RfyuqArl/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.RfyuqArl/fixed_hw.nii.gz /tmp/ashs.RfyuqArl/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.552149, moving = 0.738288
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.40562, 2.42484], [0.96245, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0503
Level     0,  Iter     1:    Energy =   0.0566
Level     0,  Iter     2:    Energy =   0.0629
Level     0,  Iter     3:    Energy =   0.0679
Level     0,  Iter     4:    Energy =   0.0716
Level     0,  Iter     5:    Energy =   0.0752
Level     0,  Iter     6:    Energy =   0.0776
Level     0,  Iter     7:    Energy =   0.0796
Level     0,  Iter     8:    Energy =   0.0815
Level     0,  Iter     9:    Energy =   0.0833
Level     0,  Iter    10:    Energy =   0.0846
Level     0,  Iter    11:    Energy =   0.0853
Level     0,  Iter    12:    Energy =   0.0856
Level     0,  Iter    13:    Energy =   0.0858
Level     0,  Iter    14:    Energy =   0.0858
Level     0,  Iter    15:    Energy =   0.0859
Level     0,  Iter    16:    Energy =   0.0859
Level     0,  Iter    17:    Energy =   0.0860
Level     0,  Iter    18:    Energy =   0.0861
Level     0,  Iter    19:    Energy =   0.0862
Level     0,  Iter    20:    Energy =   0.0862
Level     0,  Iter    21:    Energy =   0.0863
Level     0,  Iter    22:    Energy =   0.0864
Level     0,  Iter    23:    Energy =   0.0866
Level     0,  Iter    24:    Energy =   0.0868
Level     0,  Iter    25:    Energy =   0.0869
Level     0,  Iter    26:    Energy =   0.0870
Level     0,  Iter    27:    Energy =   0.0871
Level     0,  Iter    28:    Energy =   0.0872
Level     0,  Iter    29:    Energy =   0.0874
Level     0,  Iter    30:    Energy =   0.0875
Level     0,  Iter    31:    Energy =   0.0877
Level     0,  Iter    32:    Energy =   0.0878
Level     0,  Iter    33:    Energy =   0.0879
Level     0,  Iter    34:    Energy =   0.0880
Level     0,  Iter    35:    Energy =   0.0880
Level     0,  Iter    36:    Energy =   0.0881
Level     0,  Iter    37:    Energy =   0.0882
Level     0,  Iter    38:    Energy =   0.0882
Level     0,  Iter    39:    Energy =   0.0883
Level     0,  Iter    40:    Energy =   0.0883
Level     0,  Iter    41:    Energy =   0.0883
Level     0,  Iter    42:    Energy =   0.0883
Level     0,  Iter    43:    Energy =   0.0884
Level     0,  Iter    44:    Energy =   0.0885
Level     0,  Iter    45:    Energy =   0.0885
Level     0,  Iter    46:    Energy =   0.0885
Level     0,  Iter    47:    Energy =   0.0886
Level     0,  Iter    48:    Energy =   0.0886
Level     0,  Iter    49:    Energy =   0.0886
Level     0,  Iter    50:    Energy =   0.0887
Level     0,  Iter    51:    Energy =   0.0888
Level     0,  Iter    52:    Energy =   0.0887
Level     0,  Iter    53:    Energy =   0.0888
Level     0,  Iter    54:    Energy =   0.0888
Level     0,  Iter    55:    Energy =   0.0888
Level     0,  Iter    56:    Energy =   0.0888
Level     0,  Iter    57:    Energy =   0.0888
Level     0,  Iter    58:    Energy =   0.0889
Level     0,  Iter    59:    Energy =   0.0890
END OF LEVEL     0    DetJac Range:   0.3997  to   1.8652 
  Avg. Gradient Time  : 0.0076s  37.56% 
  Avg. Gaussian Time  : 0.0095s  47.01% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0580
Level     1,  Iter     1:    Energy =   0.0628
Level     1,  Iter     2:    Energy =   0.0663
Level     1,  Iter     3:    Energy =   0.0688
Level     1,  Iter     4:    Energy =   0.0712
Level     1,  Iter     5:    Energy =   0.0735
Level     1,  Iter     6:    Energy =   0.0753
Level     1,  Iter     7:    Energy =   0.0767
Level     1,  Iter     8:    Energy =   0.0779
Level     1,  Iter     9:    Energy =   0.0790
Level     1,  Iter    10:    Energy =   0.0801
Level     1,  Iter    11:    Energy =   0.0802
Level     1,  Iter    12:    Energy =   0.0803
Level     1,  Iter    13:    Energy =   0.0803
Level     1,  Iter    14:    Energy =   0.0806
Level     1,  Iter    15:    Energy =   0.0804
Level     1,  Iter    16:    Energy =   0.0810
Level     1,  Iter    17:    Energy =   0.0808
Level     1,  Iter    18:    Energy =   0.0816
Level     1,  Iter    19:    Energy =   0.0813
Level     1,  Iter    20:    Energy =   0.0821
Level     1,  Iter    21:    Energy =   0.0818
Level     1,  Iter    22:    Energy =   0.0822
Level     1,  Iter    23:    Energy =   0.0818
Level     1,  Iter    24:    Energy =   0.0825
Level     1,  Iter    25:    Energy =   0.0822
Level     1,  Iter    26:    Energy =   0.0828
Level     1,  Iter    27:    Energy =   0.0824
Level     1,  Iter    28:    Energy =   0.0829
Level     1,  Iter    29:    Energy =   0.0825
Level     1,  Iter    30:    Energy =   0.0831
Level     1,  Iter    31:    Energy =   0.0828
Level     1,  Iter    32:    Energy =   0.0832
Level     1,  Iter    33:    Energy =   0.0828
Level     1,  Iter    34:    Energy =   0.0833
Level     1,  Iter    35:    Energy =   0.0829
Level     1,  Iter    36:    Energy =   0.0832
Level     1,  Iter    37:    Energy =   0.0828
Level     1,  Iter    38:    Energy =   0.0833
Level     1,  Iter    39:    Energy =   0.0830
Level     1,  Iter    40:    Energy =   0.0835
Level     1,  Iter    41:    Energy =   0.0832
Level     1,  Iter    42:    Energy =   0.0835
Level     1,  Iter    43:    Energy =   0.0831
Level     1,  Iter    44:    Energy =   0.0836
Level     1,  Iter    45:    Energy =   0.0832
Level     1,  Iter    46:    Energy =   0.0836
Level     1,  Iter    47:    Energy =   0.0832
Level     1,  Iter    48:    Energy =   0.0837
Level     1,  Iter    49:    Energy =   0.0834
Level     1,  Iter    50:    Energy =   0.0836
Level     1,  Iter    51:    Energy =   0.0831
Level     1,  Iter    52:    Energy =   0.0837
Level     1,  Iter    53:    Energy =   0.0833
Level     1,  Iter    54:    Energy =   0.0839
Level     1,  Iter    55:    Energy =   0.0835
Level     1,  Iter    56:    Energy =   0.0838
Level     1,  Iter    57:    Energy =   0.0833
Level     1,  Iter    58:    Energy =   0.0839
Level     1,  Iter    59:    Energy =   0.0835
END OF LEVEL     1    DetJac Range:   0.2465  to   3.4492 
  Avg. Gradient Time  : 0.0451s  39.85% 
  Avg. Gaussian Time  : 0.0544s  48.13% 
  Avg. Iteration Time : 0.1131s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0422
Level     2,  Iter     1:    Energy =   0.0444
Level     2,  Iter     2:    Energy =   0.0461
Level     2,  Iter     3:    Energy =   0.0476
Level     2,  Iter     4:    Energy =   0.0490
Level     2,  Iter     5:    Energy =   0.0502
Level     2,  Iter     6:    Energy =   0.0514
Level     2,  Iter     7:    Energy =   0.0526
Level     2,  Iter     8:    Energy =   0.0537
Level     2,  Iter     9:    Energy =   0.0546
Level     2,  Iter    10:    Energy =   0.0557
Level     2,  Iter    11:    Energy =   0.0563
Level     2,  Iter    12:    Energy =   0.0568
Level     2,  Iter    13:    Energy =   0.0574
Level     2,  Iter    14:    Energy =   0.0582
Level     2,  Iter    15:    Energy =   0.0589
Level     2,  Iter    16:    Energy =   0.0596
Level     2,  Iter    17:    Energy =   0.0603
Level     2,  Iter    18:    Energy =   0.0608
Level     2,  Iter    19:    Energy =   0.0614
END OF LEVEL     2    DetJac Range:   0.1158  to   5.1173 
  Avg. Gradient Time  : 0.3105s  37.55% 
  Avg. Gaussian Time  : 0.4320s  52.24% 
  Avg. Iteration Time : 0.8269s 

real	0m27.860s
user	0m49.328s
sys	0m2.904s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.6 0.605769
+ echo 'CHUNK 0.6 0.605769 1'
CHUNK 0.6 0.605769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.6 0.605769 1
====================================
         PROGRESS: 0.6               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 001
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2428.48 	 OutFr   0.0000 	 RMSD     3.2977
Iter 002 	 Temp     3.72 	 Delta  2382.89 	 OutFr   0.0000 	 RMSD     2.2242
Iter 003 	 Temp     3.46 	 Delta  2182.59 	 OutFr   0.0000 	 RMSD     2.2029
Iter 004 	 Temp     3.22 	 Delta  1994.44 	 OutFr   0.0000 	 RMSD     2.1842
Iter 005 	 Temp     2.99 	 Delta  1818.90 	 OutFr   0.0000 	 RMSD     2.1687
Iter 006 	 Temp     2.78 	 Delta  1658.08 	 OutFr   0.0000 	 RMSD     2.1561
Iter 007 	 Temp     2.59 	 Delta  1516.24 	 OutFr   0.0000 	 RMSD     2.1464
Iter 008 	 Temp     2.41 	 Delta  1394.20 	 OutFr   0.0000 	 RMSD     2.1390
Iter 009 	 Temp     2.24 	 Delta  1289.60 	 OutFr   0.0000 	 RMSD     2.1340
Iter 010 	 Temp     2.08 	 Delta  1198.42 	 OutFr   0.0000 	 RMSD     2.1306
Iter 011 	 Temp     1.94 	 Delta  1116.92 	 OutFr   0.0000 	 RMSD     2.1284
Iter 012 	 Temp     1.80 	 Delta  1042.21 	 OutFr   0.0026 	 RMSD     2.1272
Iter 013 	 Temp     1.67 	 Delta   972.24 	 OutFr   0.0052 	 RMSD     2.1262
Iter 014 	 Temp     1.56 	 Delta   905.56 	 OutFr   0.0052 	 RMSD     2.1256
Iter 015 	 Temp     1.45 	 Delta   841.37 	 OutFr   0.0078 	 RMSD     2.1251
Iter 016 	 Temp     1.35 	 Delta   781.13 	 OutFr   0.0078 	 RMSD     2.1244
Iter 017 	 Temp     1.25 	 Delta   727.07 	 OutFr   0.0181 	 RMSD     2.1233
Iter 018 	 Temp     1.16 	 Delta   677.43 	 OutFr   0.0233 	 RMSD     2.1217
Iter 019 	 Temp     1.08 	 Delta   628.03 	 OutFr   0.0310 	 RMSD     2.1196
Iter 020 	 Temp     1.01 	 Delta   577.38 	 OutFr   0.0336 	 RMSD     2.1170
Iter 021 	 Temp     0.94 	 Delta   527.78 	 OutFr   0.0413 	 RMSD     2.1142
Iter 022 	 Temp     0.87 	 Delta   481.90 	 OutFr   0.0568 	 RMSD     2.1117
Iter 023 	 Temp     0.81 	 Delta   442.21 	 OutFr   0.0801 	 RMSD     2.1093
Iter 024 	 Temp     0.75 	 Delta   409.26 	 OutFr   0.0956 	 RMSD     2.1068
Iter 025 	 Temp     0.70 	 Delta   381.09 	 OutFr   0.1059 	 RMSD     2.1045
Iter 026 	 Temp     0.65 	 Delta   356.20 	 OutFr   0.1111 	 RMSD     2.1018
Iter 027 	 Temp     0.61 	 Delta   333.16 	 OutFr   0.1370 	 RMSD     2.1000
Iter 028 	 Temp     0.56 	 Delta   312.62 	 OutFr   0.1705 	 RMSD     2.0986
Iter 029 	 Temp     0.52 	 Delta   295.05 	 OutFr   0.1938 	 RMSD     2.0983
Iter 030 	 Temp     0.49 	 Delta   275.12 	 OutFr   0.2145 	 RMSD     2.0984
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.imFUd9QB/mybin.nii.gz
+ vtklevelset /tmp/ashs.imFUd9QB/mybin.nii.gz /tmp/ashs.imFUd9QB/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.imFUd9QB/mymesh.vtk /tmp/ashs.imFUd9QB/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2845.84582534   1.02795395
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.imFUd9QB/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.9623 to -7.54641
   Y : -15.9953 to 25.8102
   Z : -11.907 to 20.2982
   Image resolution  : 100 by 150 by 121
   Image box origin  : {-36.9623, -20.9953, -16.907}
   Image box size    : {34.7222, 52.0833, 42.3495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.9623, 20.9953, -16.907]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat -o /tmp/ashs.imFUd9QB/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat -o /tmp/ashs.imFUd9QB/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.imFUd9QB/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.605769 0.611538
+ echo 'CHUNK 0.605769 0.611538 0.5'
CHUNK 0.605769 0.611538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.605769 0.611538 0.5
====================================
         PROGRESS: 0.605769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.imFUd9QB/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.imFUd9QB/fixed_hw.nii.gz /tmp/ashs.imFUd9QB/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.546395, moving = 0.716031
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37397, 2.36618], [0.982092, 0.96917, 0.965988]
Level     0,  Iter     0:    Energy =   0.0448
Level     0,  Iter     1:    Energy =   0.0518
Level     0,  Iter     2:    Energy =   0.0570
Level     0,  Iter     3:    Energy =   0.0610
Level     0,  Iter     4:    Energy =   0.0646
Level     0,  Iter     5:    Energy =   0.0676
Level     0,  Iter     6:    Energy =   0.0699
Level     0,  Iter     7:    Energy =   0.0719
Level     0,  Iter     8:    Energy =   0.0738
Level     0,  Iter     9:    Energy =   0.0753
Level     0,  Iter    10:    Energy =   0.0762
Level     0,  Iter    11:    Energy =   0.0771
Level     0,  Iter    12:    Energy =   0.0771
Level     0,  Iter    13:    Energy =   0.0775
Level     0,  Iter    14:    Energy =   0.0774
Level     0,  Iter    15:    Energy =   0.0776
Level     0,  Iter    16:    Energy =   0.0776
Level     0,  Iter    17:    Energy =   0.0778
Level     0,  Iter    18:    Energy =   0.0777
Level     0,  Iter    19:    Energy =   0.0780
Level     0,  Iter    20:    Energy =   0.0779
Level     0,  Iter    21:    Energy =   0.0782
Level     0,  Iter    22:    Energy =   0.0781
Level     0,  Iter    23:    Energy =   0.0784
Level     0,  Iter    24:    Energy =   0.0783
Level     0,  Iter    25:    Energy =   0.0786
Level     0,  Iter    26:    Energy =   0.0784
Level     0,  Iter    27:    Energy =   0.0787
Level     0,  Iter    28:    Energy =   0.0786
Level     0,  Iter    29:    Energy =   0.0788
Level     0,  Iter    30:    Energy =   0.0787
Level     0,  Iter    31:    Energy =   0.0789
Level     0,  Iter    32:    Energy =   0.0787
Level     0,  Iter    33:    Energy =   0.0789
Level     0,  Iter    34:    Energy =   0.0788
Level     0,  Iter    35:    Energy =   0.0790
Level     0,  Iter    36:    Energy =   0.0789
Level     0,  Iter    37:    Energy =   0.0790
Level     0,  Iter    38:    Energy =   0.0789
Level     0,  Iter    39:    Energy =   0.0791
Level     0,  Iter    40:    Energy =   0.0789
Level     0,  Iter    41:    Energy =   0.0791
Level     0,  Iter    42:    Energy =   0.0790
Level     0,  Iter    43:    Energy =   0.0792
Level     0,  Iter    44:    Energy =   0.0790
Level     0,  Iter    45:    Energy =   0.0792
Level     0,  Iter    46:    Energy =   0.0791
Level     0,  Iter    47:    Energy =   0.0792
Level     0,  Iter    48:    Energy =   0.0791
Level     0,  Iter    49:    Energy =   0.0793
Level     0,  Iter    50:    Energy =   0.0791
Level     0,  Iter    51:    Energy =   0.0793
Level     0,  Iter    52:    Energy =   0.0791
Level     0,  Iter    53:    Energy =   0.0793
Level     0,  Iter    54:    Energy =   0.0792
Level     0,  Iter    55:    Energy =   0.0793
Level     0,  Iter    56:    Energy =   0.0792
Level     0,  Iter    57:    Energy =   0.0794
Level     0,  Iter    58:    Energy =   0.0792
Level     0,  Iter    59:    Energy =   0.0794
END OF LEVEL     0    DetJac Range:   0.4503  to   2.4470 
  Avg. Gradient Time  : 0.0078s  37.74% 
  Avg. Gaussian Time  : 0.0097s  46.93% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20248], [0.491046, 0.491046, 0.490912]
Level     1,  Iter     0:    Energy =   0.0520
Level     1,  Iter     1:    Energy =   0.0561
Level     1,  Iter     2:    Energy =   0.0596
Level     1,  Iter     3:    Energy =   0.0628
Level     1,  Iter     4:    Energy =   0.0658
Level     1,  Iter     5:    Energy =   0.0677
Level     1,  Iter     6:    Energy =   0.0689
Level     1,  Iter     7:    Energy =   0.0700
Level     1,  Iter     8:    Energy =   0.0707
Level     1,  Iter     9:    Energy =   0.0714
Level     1,  Iter    10:    Energy =   0.0719
Level     1,  Iter    11:    Energy =   0.0725
Level     1,  Iter    12:    Energy =   0.0728
Level     1,  Iter    13:    Energy =   0.0733
Level     1,  Iter    14:    Energy =   0.0736
Level     1,  Iter    15:    Energy =   0.0738
Level     1,  Iter    16:    Energy =   0.0742
Level     1,  Iter    17:    Energy =   0.0744
Level     1,  Iter    18:    Energy =   0.0746
Level     1,  Iter    19:    Energy =   0.0749
Level     1,  Iter    20:    Energy =   0.0750
Level     1,  Iter    21:    Energy =   0.0751
Level     1,  Iter    22:    Energy =   0.0752
Level     1,  Iter    23:    Energy =   0.0754
Level     1,  Iter    24:    Energy =   0.0755
Level     1,  Iter    25:    Energy =   0.0756
Level     1,  Iter    26:    Energy =   0.0757
Level     1,  Iter    27:    Energy =   0.0757
Level     1,  Iter    28:    Energy =   0.0759
Level     1,  Iter    29:    Energy =   0.0759
Level     1,  Iter    30:    Energy =   0.0760
Level     1,  Iter    31:    Energy =   0.0760
Level     1,  Iter    32:    Energy =   0.0761
Level     1,  Iter    33:    Energy =   0.0761
Level     1,  Iter    34:    Energy =   0.0762
Level     1,  Iter    35:    Energy =   0.0762
Level     1,  Iter    36:    Energy =   0.0763
Level     1,  Iter    37:    Energy =   0.0763
Level     1,  Iter    38:    Energy =   0.0764
Level     1,  Iter    39:    Energy =   0.0764
Level     1,  Iter    40:    Energy =   0.0765
Level     1,  Iter    41:    Energy =   0.0765
Level     1,  Iter    42:    Energy =   0.0766
Level     1,  Iter    43:    Energy =   0.0766
Level     1,  Iter    44:    Energy =   0.0767
Level     1,  Iter    45:    Energy =   0.0767
Level     1,  Iter    46:    Energy =   0.0768
Level     1,  Iter    47:    Energy =   0.0768
Level     1,  Iter    48:    Energy =   0.0769
Level     1,  Iter    49:    Energy =   0.0769
Level     1,  Iter    50:    Energy =   0.0770
Level     1,  Iter    51:    Energy =   0.0769
Level     1,  Iter    52:    Energy =   0.0770
Level     1,  Iter    53:    Energy =   0.0770
Level     1,  Iter    54:    Energy =   0.0770
Level     1,  Iter    55:    Energy =   0.0770
Level     1,  Iter    56:    Energy =   0.0769
Level     1,  Iter    57:    Energy =   0.0771
Level     1,  Iter    58:    Energy =   0.0769
Level     1,  Iter    59:    Energy =   0.0771
END OF LEVEL     1    DetJac Range:   0.2534  to   3.1354 
  Avg. Gradient Time  : 0.0450s  39.44% 
  Avg. Gaussian Time  : 0.0552s  48.36% 
  Avg. Iteration Time : 0.1141s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0400
Level     2,  Iter     1:    Energy =   0.0424
Level     2,  Iter     2:    Energy =   0.0442
Level     2,  Iter     3:    Energy =   0.0458
Level     2,  Iter     4:    Energy =   0.0471
Level     2,  Iter     5:    Energy =   0.0483
Level     2,  Iter     6:    Energy =   0.0495
Level     2,  Iter     7:    Energy =   0.0507
Level     2,  Iter     8:    Energy =   0.0520
Level     2,  Iter     9:    Energy =   0.0532
Level     2,  Iter    10:    Energy =   0.0542
Level     2,  Iter    11:    Energy =   0.0550
Level     2,  Iter    12:    Energy =   0.0557
Level     2,  Iter    13:    Energy =   0.0565
Level     2,  Iter    14:    Energy =   0.0571
Level     2,  Iter    15:    Energy =   0.0577
Level     2,  Iter    16:    Energy =   0.0582
Level     2,  Iter    17:    Energy =   0.0585
Level     2,  Iter    18:    Energy =   0.0584
Level     2,  Iter    19:    Energy =   0.0588
END OF LEVEL     2    DetJac Range:   0.1118  to   5.0657 
  Avg. Gradient Time  : 0.3193s  37.38% 
  Avg. Gaussian Time  : 0.4448s  52.07% 
  Avg. Iteration Time : 0.8543s 

real	0m28.506s
user	0m50.480s
sys	0m2.772s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.605769 0.611538
+ echo 'CHUNK 0.605769 0.611538 1'
CHUNK 0.605769 0.611538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.605769 0.611538 1
====================================
         PROGRESS: 0.605769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 002
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1482.17 	 OutFr   0.0000 	 RMSD     2.3165
Iter 002 	 Temp     3.72 	 Delta  1427.74 	 OutFr   0.0000 	 RMSD     2.1974
Iter 003 	 Temp     3.46 	 Delta  1330.95 	 OutFr   0.0000 	 RMSD     2.1777
Iter 004 	 Temp     3.22 	 Delta  1238.85 	 OutFr   0.0000 	 RMSD     2.1595
Iter 005 	 Temp     2.99 	 Delta  1154.78 	 OutFr   0.0000 	 RMSD     2.1447
Iter 006 	 Temp     2.78 	 Delta  1078.52 	 OutFr   0.0000 	 RMSD     2.1334
Iter 007 	 Temp     2.59 	 Delta  1009.39 	 OutFr   0.0000 	 RMSD     2.1248
Iter 008 	 Temp     2.41 	 Delta   946.48 	 OutFr   0.0000 	 RMSD     2.1181
Iter 009 	 Temp     2.24 	 Delta   888.80 	 OutFr   0.0026 	 RMSD     2.1131
Iter 010 	 Temp     2.08 	 Delta   835.44 	 OutFr   0.0129 	 RMSD     2.1088
Iter 011 	 Temp     1.94 	 Delta   785.79 	 OutFr   0.0155 	 RMSD     2.1053
Iter 012 	 Temp     1.80 	 Delta   739.59 	 OutFr   0.0233 	 RMSD     2.1026
Iter 013 	 Temp     1.67 	 Delta   696.86 	 OutFr   0.0233 	 RMSD     2.1005
Iter 014 	 Temp     1.56 	 Delta   657.67 	 OutFr   0.0362 	 RMSD     2.0990
Iter 015 	 Temp     1.45 	 Delta   621.57 	 OutFr   0.0362 	 RMSD     2.0978
Iter 016 	 Temp     1.35 	 Delta   587.60 	 OutFr   0.0388 	 RMSD     2.0964
Iter 017 	 Temp     1.25 	 Delta   555.04 	 OutFr   0.0465 	 RMSD     2.0950
Iter 018 	 Temp     1.16 	 Delta   524.00 	 OutFr   0.0517 	 RMSD     2.0935
Iter 019 	 Temp     1.08 	 Delta   495.09 	 OutFr   0.0594 	 RMSD     2.0913
Iter 020 	 Temp     1.01 	 Delta   468.93 	 OutFr   0.0672 	 RMSD     2.0894
Iter 021 	 Temp     0.94 	 Delta   444.88 	 OutFr   0.0698 	 RMSD     2.0875
Iter 022 	 Temp     0.87 	 Delta   421.58 	 OutFr   0.0724 	 RMSD     2.0859
Iter 023 	 Temp     0.81 	 Delta   399.26 	 OutFr   0.0879 	 RMSD     2.0845
Iter 024 	 Temp     0.75 	 Delta   380.03 	 OutFr   0.0930 	 RMSD     2.0842
Iter 025 	 Temp     0.70 	 Delta   361.38 	 OutFr   0.1137 	 RMSD     2.0846
Iter 026 	 Temp     0.65 	 Delta   341.48 	 OutFr   0.1266 	 RMSD     2.0856
Iter 027 	 Temp     0.61 	 Delta   319.45 	 OutFr   0.1473 	 RMSD     2.0869
Iter 028 	 Temp     0.56 	 Delta   295.17 	 OutFr   0.1705 	 RMSD     2.0891
Iter 029 	 Temp     0.52 	 Delta   269.68 	 OutFr   0.1912 	 RMSD     2.0922
Iter 030 	 Temp     0.49 	 Delta   246.32 	 OutFr   0.2196 	 RMSD     2.0966
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.8K8VSEVU/mybin.nii.gz
+ vtklevelset /tmp/ashs.8K8VSEVU/mybin.nii.gz /tmp/ashs.8K8VSEVU/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.8K8VSEVU/mymesh.vtk /tmp/ashs.8K8VSEVU/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2889.15723692   1.04359856
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.8K8VSEVU/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.771 to -12.8671
   Y : -22.2901 to 16.8957
   Z : -6.17938 to 31.0532
   Image resolution  : 95 by 142 by 135
   Image box origin  : {-40.771, -27.2901, -11.1794}
   Image box size    : {32.9861, 49.3055, 47.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.771, 27.2901, -11.1794]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat -o /tmp/ashs.8K8VSEVU/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat -o /tmp/ashs.8K8VSEVU/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.8K8VSEVU/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.611538 0.617308
+ echo 'CHUNK 0.611538 0.617308 0.5'
CHUNK 0.611538 0.617308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.611538 0.617308 0.5
====================================
         PROGRESS: 0.611538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.8K8VSEVU/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.8K8VSEVU/fixed_hw.nii.gz /tmp/ashs.8K8VSEVU/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.540641, moving = 0.53201
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.37221, 2.40701], [0.971862, 0.968452, 0.982659]
Level     0,  Iter     0:    Energy =   0.0441
Level     0,  Iter     1:    Energy =   0.0520
Level     0,  Iter     2:    Energy =   0.0585
Level     0,  Iter     3:    Energy =   0.0648
Level     0,  Iter     4:    Energy =   0.0696
Level     0,  Iter     5:    Energy =   0.0736
Level     0,  Iter     6:    Energy =   0.0772
Level     0,  Iter     7:    Energy =   0.0798
Level     0,  Iter     8:    Energy =   0.0819
Level     0,  Iter     9:    Energy =   0.0835
Level     0,  Iter    10:    Energy =   0.0848
Level     0,  Iter    11:    Energy =   0.0853
Level     0,  Iter    12:    Energy =   0.0857
Level     0,  Iter    13:    Energy =   0.0861
Level     0,  Iter    14:    Energy =   0.0864
Level     0,  Iter    15:    Energy =   0.0868
Level     0,  Iter    16:    Energy =   0.0870
Level     0,  Iter    17:    Energy =   0.0871
Level     0,  Iter    18:    Energy =   0.0872
Level     0,  Iter    19:    Energy =   0.0877
Level     0,  Iter    20:    Energy =   0.0877
Level     0,  Iter    21:    Energy =   0.0879
Level     0,  Iter    22:    Energy =   0.0878
Level     0,  Iter    23:    Energy =   0.0880
Level     0,  Iter    24:    Energy =   0.0880
Level     0,  Iter    25:    Energy =   0.0882
Level     0,  Iter    26:    Energy =   0.0882
Level     0,  Iter    27:    Energy =   0.0883
Level     0,  Iter    28:    Energy =   0.0883
Level     0,  Iter    29:    Energy =   0.0885
Level     0,  Iter    30:    Energy =   0.0885
Level     0,  Iter    31:    Energy =   0.0885
Level     0,  Iter    32:    Energy =   0.0886
Level     0,  Iter    33:    Energy =   0.0887
Level     0,  Iter    34:    Energy =   0.0887
Level     0,  Iter    35:    Energy =   0.0887
Level     0,  Iter    36:    Energy =   0.0887
Level     0,  Iter    37:    Energy =   0.0888
Level     0,  Iter    38:    Energy =   0.0888
Level     0,  Iter    39:    Energy =   0.0888
Level     0,  Iter    40:    Energy =   0.0888
Level     0,  Iter    41:    Energy =   0.0889
Level     0,  Iter    42:    Energy =   0.0888
Level     0,  Iter    43:    Energy =   0.0889
Level     0,  Iter    44:    Energy =   0.0889
Level     0,  Iter    45:    Energy =   0.0890
Level     0,  Iter    46:    Energy =   0.0890
Level     0,  Iter    47:    Energy =   0.0890
Level     0,  Iter    48:    Energy =   0.0889
Level     0,  Iter    49:    Energy =   0.0890
Level     0,  Iter    50:    Energy =   0.0890
Level     0,  Iter    51:    Energy =   0.0890
Level     0,  Iter    52:    Energy =   0.0890
Level     0,  Iter    53:    Energy =   0.0891
Level     0,  Iter    54:    Energy =   0.0890
Level     0,  Iter    55:    Energy =   0.0891
Level     0,  Iter    56:    Energy =   0.0890
Level     0,  Iter    57:    Energy =   0.0891
Level     0,  Iter    58:    Energy =   0.0890
Level     0,  Iter    59:    Energy =   0.0891
END OF LEVEL     0    DetJac Range:   0.3063  to   2.0741 
  Avg. Gradient Time  : 0.0080s  37.81% 
  Avg. Gaussian Time  : 0.0098s  46.63% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.20281, 1.20351], [0.485931, 0.491046, 0.49133]
Level     1,  Iter     0:    Energy =   0.0594
Level     1,  Iter     1:    Energy =   0.0638
Level     1,  Iter     2:    Energy =   0.0678
Level     1,  Iter     3:    Energy =   0.0704
Level     1,  Iter     4:    Energy =   0.0724
Level     1,  Iter     5:    Energy =   0.0744
Level     1,  Iter     6:    Energy =   0.0762
Level     1,  Iter     7:    Energy =   0.0778
Level     1,  Iter     8:    Energy =   0.0793
Level     1,  Iter     9:    Energy =   0.0805
Level     1,  Iter    10:    Energy =   0.0811
Level     1,  Iter    11:    Energy =   0.0819
Level     1,  Iter    12:    Energy =   0.0821
Level     1,  Iter    13:    Energy =   0.0830
Level     1,  Iter    14:    Energy =   0.0831
Level     1,  Iter    15:    Energy =   0.0840
Level     1,  Iter    16:    Energy =   0.0841
Level     1,  Iter    17:    Energy =   0.0846
Level     1,  Iter    18:    Energy =   0.0845
Level     1,  Iter    19:    Energy =   0.0853
Level     1,  Iter    20:    Energy =   0.0852
Level     1,  Iter    21:    Energy =   0.0855
Level     1,  Iter    22:    Energy =   0.0854
Level     1,  Iter    23:    Energy =   0.0859
Level     1,  Iter    24:    Energy =   0.0855
Level     1,  Iter    25:    Energy =   0.0862
Level     1,  Iter    26:    Energy =   0.0862
Level     1,  Iter    27:    Energy =   0.0862
Level     1,  Iter    28:    Energy =   0.0859
Level     1,  Iter    29:    Energy =   0.0865
Level     1,  Iter    30:    Energy =   0.0861
Level     1,  Iter    31:    Energy =   0.0867
Level     1,  Iter    32:    Energy =   0.0865
Level     1,  Iter    33:    Energy =   0.0868
Level     1,  Iter    34:    Energy =   0.0864
Level     1,  Iter    35:    Energy =   0.0869
Level     1,  Iter    36:    Energy =   0.0867
Level     1,  Iter    37:    Energy =   0.0868
Level     1,  Iter    38:    Energy =   0.0865
Level     1,  Iter    39:    Energy =   0.0870
Level     1,  Iter    40:    Energy =   0.0867
Level     1,  Iter    41:    Energy =   0.0870
Level     1,  Iter    42:    Energy =   0.0867
Level     1,  Iter    43:    Energy =   0.0871
Level     1,  Iter    44:    Energy =   0.0868
Level     1,  Iter    45:    Energy =   0.0872
Level     1,  Iter    46:    Energy =   0.0868
Level     1,  Iter    47:    Energy =   0.0873
Level     1,  Iter    48:    Energy =   0.0870
Level     1,  Iter    49:    Energy =   0.0872
Level     1,  Iter    50:    Energy =   0.0869
Level     1,  Iter    51:    Energy =   0.0872
Level     1,  Iter    52:    Energy =   0.0869
Level     1,  Iter    53:    Energy =   0.0873
Level     1,  Iter    54:    Energy =   0.0870
Level     1,  Iter    55:    Energy =   0.0873
Level     1,  Iter    56:    Energy =   0.0870
Level     1,  Iter    57:    Energy =   0.0874
Level     1,  Iter    58:    Energy =   0.0871
Level     1,  Iter    59:    Energy =   0.0875
END OF LEVEL     1    DetJac Range:   0.0945  to   3.7197 
  Avg. Gradient Time  : 0.0469s  39.97% 
  Avg. Gaussian Time  : 0.0560s  47.67% 
  Avg. Iteration Time : 0.1174s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0481
Level     2,  Iter     1:    Energy =   0.0503
Level     2,  Iter     2:    Energy =   0.0521
Level     2,  Iter     3:    Energy =   0.0539
Level     2,  Iter     4:    Energy =   0.0552
Level     2,  Iter     5:    Energy =   0.0561
Level     2,  Iter     6:    Energy =   0.0568
Level     2,  Iter     7:    Energy =   0.0574
Level     2,  Iter     8:    Energy =   0.0579
Level     2,  Iter     9:    Energy =   0.0584
Level     2,  Iter    10:    Energy =   0.0588
Level     2,  Iter    11:    Energy =   0.0593
Level     2,  Iter    12:    Energy =   0.0596
Level     2,  Iter    13:    Energy =   0.0600
Level     2,  Iter    14:    Energy =   0.0604
Level     2,  Iter    15:    Energy =   0.0607
Level     2,  Iter    16:    Energy =   0.0611
Level     2,  Iter    17:    Energy =   0.0614
Level     2,  Iter    18:    Energy =   0.0617
Level     2,  Iter    19:    Energy =   0.0620
END OF LEVEL     2    DetJac Range:   0.0554  to   3.6593 
  Avg. Gradient Time  : 0.3234s  37.38% 
  Avg. Gaussian Time  : 0.4501s  52.03% 
  Avg. Iteration Time : 0.8652s 

real	0m28.969s
user	0m50.852s
sys	0m3.316s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.611538 0.617308
+ echo 'CHUNK 0.611538 0.617308 1'
CHUNK 0.611538 0.617308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.611538 0.617308 1
====================================
         PROGRESS: 0.611538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 003
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2375.00 	 OutFr   0.0000 	 RMSD     4.0964
Iter 002 	 Temp     3.72 	 Delta  2154.23 	 OutFr   0.0000 	 RMSD     2.2108
Iter 003 	 Temp     3.46 	 Delta  1939.92 	 OutFr   0.0000 	 RMSD     2.2218
Iter 004 	 Temp     3.22 	 Delta  1781.93 	 OutFr   0.0000 	 RMSD     2.2102
Iter 005 	 Temp     2.99 	 Delta  1646.30 	 OutFr   0.0000 	 RMSD     2.1931
Iter 006 	 Temp     2.78 	 Delta  1527.44 	 OutFr   0.0000 	 RMSD     2.1770
Iter 007 	 Temp     2.59 	 Delta  1424.32 	 OutFr   0.0000 	 RMSD     2.1644
Iter 008 	 Temp     2.41 	 Delta  1335.00 	 OutFr   0.0000 	 RMSD     2.1551
Iter 009 	 Temp     2.24 	 Delta  1255.62 	 OutFr   0.0000 	 RMSD     2.1483
Iter 010 	 Temp     2.08 	 Delta  1180.72 	 OutFr   0.0000 	 RMSD     2.1431
Iter 011 	 Temp     1.94 	 Delta  1104.51 	 OutFr   0.0000 	 RMSD     2.1393
Iter 012 	 Temp     1.80 	 Delta  1023.30 	 OutFr   0.0000 	 RMSD     2.1362
Iter 013 	 Temp     1.67 	 Delta   938.07 	 OutFr   0.0000 	 RMSD     2.1339
Iter 014 	 Temp     1.56 	 Delta   854.45 	 OutFr   0.0026 	 RMSD     2.1321
Iter 015 	 Temp     1.45 	 Delta   779.23 	 OutFr   0.0052 	 RMSD     2.1311
Iter 016 	 Temp     1.35 	 Delta   716.32 	 OutFr   0.0052 	 RMSD     2.1307
Iter 017 	 Temp     1.25 	 Delta   665.89 	 OutFr   0.0052 	 RMSD     2.1304
Iter 018 	 Temp     1.16 	 Delta   626.90 	 OutFr   0.0052 	 RMSD     2.1304
Iter 019 	 Temp     1.08 	 Delta   596.41 	 OutFr   0.0103 	 RMSD     2.1306
Iter 020 	 Temp     1.01 	 Delta   569.64 	 OutFr   0.0103 	 RMSD     2.1302
Iter 021 	 Temp     0.94 	 Delta   543.60 	 OutFr   0.0103 	 RMSD     2.1290
Iter 022 	 Temp     0.87 	 Delta   517.44 	 OutFr   0.0181 	 RMSD     2.1265
Iter 023 	 Temp     0.81 	 Delta   492.80 	 OutFr   0.0258 	 RMSD     2.1233
Iter 024 	 Temp     0.75 	 Delta   470.36 	 OutFr   0.0362 	 RMSD     2.1195
Iter 025 	 Temp     0.70 	 Delta   447.06 	 OutFr   0.0388 	 RMSD     2.1154
Iter 026 	 Temp     0.65 	 Delta   419.18 	 OutFr   0.0568 	 RMSD     2.1121
Iter 027 	 Temp     0.61 	 Delta   385.51 	 OutFr   0.0646 	 RMSD     2.1092
Iter 028 	 Temp     0.56 	 Delta   350.62 	 OutFr   0.0879 	 RMSD     2.1070
Iter 029 	 Temp     0.52 	 Delta   318.11 	 OutFr   0.1111 	 RMSD     2.1050
Iter 030 	 Temp     0.49 	 Delta   288.89 	 OutFr   0.1318 	 RMSD     2.1037
Iter 031 	 Temp     0.45 	 Delta   261.76 	 OutFr   0.1757 	 RMSD     2.1029
Iter 032 	 Temp     0.42 	 Delta   232.18 	 OutFr   0.2119 	 RMSD     2.1025
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.sAoze11U/mybin.nii.gz
+ vtklevelset /tmp/ashs.sAoze11U/mybin.nii.gz /tmp/ashs.sAoze11U/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.sAoze11U/mymesh.vtk /tmp/ashs.sAoze11U/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2585.12835821   0.93377965
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.sAoze11U/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.6948 to -10.6559
   Y : -17.4422 to 23.3922
   Z : -19.4626 to 10.513
   Image resolution  : 93 by 147 by 115
   Image box origin  : {-37.6948, -22.4422, -24.4626}
   Image box size    : {32.2916, 51.0416, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.6948, 22.4422, -24.4626]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat -o /tmp/ashs.sAoze11U/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat -o /tmp/ashs.sAoze11U/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.sAoze11U/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.617308 0.623077
+ echo 'CHUNK 0.617308 0.623077 0.5'
CHUNK 0.617308 0.623077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.617308 0.623077 0.5
====================================
         PROGRESS: 0.617308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.sAoze11U/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.sAoze11U/fixed_hw.nii.gz /tmp/ashs.sAoze11U/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.553774, moving = 0.227483
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.38937, 2.40394], [0.951402, 0.975456, 0.981404]
Level     0,  Iter     0:    Energy =   0.0547
Level     0,  Iter     1:    Energy =   0.0593
Level     0,  Iter     2:    Energy =   0.0634
Level     0,  Iter     3:    Energy =   0.0674
Level     0,  Iter     4:    Energy =   0.0705
Level     0,  Iter     5:    Energy =   0.0732
Level     0,  Iter     6:    Energy =   0.0739
Level     0,  Iter     7:    Energy =   0.0749
Level     0,  Iter     8:    Energy =   0.0755
Level     0,  Iter     9:    Energy =   0.0763
Level     0,  Iter    10:    Energy =   0.0766
Level     0,  Iter    11:    Energy =   0.0773
Level     0,  Iter    12:    Energy =   0.0775
Level     0,  Iter    13:    Energy =   0.0780
Level     0,  Iter    14:    Energy =   0.0782
Level     0,  Iter    15:    Energy =   0.0786
Level     0,  Iter    16:    Energy =   0.0787
Level     0,  Iter    17:    Energy =   0.0790
Level     0,  Iter    18:    Energy =   0.0791
Level     0,  Iter    19:    Energy =   0.0794
Level     0,  Iter    20:    Energy =   0.0794
Level     0,  Iter    21:    Energy =   0.0797
Level     0,  Iter    22:    Energy =   0.0797
Level     0,  Iter    23:    Energy =   0.0799
Level     0,  Iter    24:    Energy =   0.0798
Level     0,  Iter    25:    Energy =   0.0800
Level     0,  Iter    26:    Energy =   0.0799
Level     0,  Iter    27:    Energy =   0.0801
Level     0,  Iter    28:    Energy =   0.0801
Level     0,  Iter    29:    Energy =   0.0802
Level     0,  Iter    30:    Energy =   0.0802
Level     0,  Iter    31:    Energy =   0.0804
Level     0,  Iter    32:    Energy =   0.0803
Level     0,  Iter    33:    Energy =   0.0805
Level     0,  Iter    34:    Energy =   0.0804
Level     0,  Iter    35:    Energy =   0.0806
Level     0,  Iter    36:    Energy =   0.0805
Level     0,  Iter    37:    Energy =   0.0806
Level     0,  Iter    38:    Energy =   0.0806
Level     0,  Iter    39:    Energy =   0.0807
Level     0,  Iter    40:    Energy =   0.0806
Level     0,  Iter    41:    Energy =   0.0808
Level     0,  Iter    42:    Energy =   0.0807
Level     0,  Iter    43:    Energy =   0.0808
Level     0,  Iter    44:    Energy =   0.0807
Level     0,  Iter    45:    Energy =   0.0808
Level     0,  Iter    46:    Energy =   0.0807
Level     0,  Iter    47:    Energy =   0.0808
Level     0,  Iter    48:    Energy =   0.0807
Level     0,  Iter    49:    Energy =   0.0809
Level     0,  Iter    50:    Energy =   0.0807
Level     0,  Iter    51:    Energy =   0.0809
Level     0,  Iter    52:    Energy =   0.0807
Level     0,  Iter    53:    Energy =   0.0809
Level     0,  Iter    54:    Energy =   0.0808
Level     0,  Iter    55:    Energy =   0.0809
Level     0,  Iter    56:    Energy =   0.0808
Level     0,  Iter    57:    Energy =   0.0809
Level     0,  Iter    58:    Energy =   0.0808
Level     0,  Iter    59:    Energy =   0.0809
END OF LEVEL     0    DetJac Range:   0.3230  to   1.9018 
  Avg. Gradient Time  : 0.0070s  37.38% 
  Avg. Gaussian Time  : 0.0088s  47.16% 
  Avg. Iteration Time : 0.0187s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.19469, 1.20197], [0.485822, 0.487728, 0.490702]
Level     1,  Iter     0:    Energy =   0.0555
Level     1,  Iter     1:    Energy =   0.0592
Level     1,  Iter     2:    Energy =   0.0622
Level     1,  Iter     3:    Energy =   0.0648
Level     1,  Iter     4:    Energy =   0.0666
Level     1,  Iter     5:    Energy =   0.0682
Level     1,  Iter     6:    Energy =   0.0695
Level     1,  Iter     7:    Energy =   0.0706
Level     1,  Iter     8:    Energy =   0.0714
Level     1,  Iter     9:    Energy =   0.0719
Level     1,  Iter    10:    Energy =   0.0725
Level     1,  Iter    11:    Energy =   0.0727
Level     1,  Iter    12:    Energy =   0.0732
Level     1,  Iter    13:    Energy =   0.0733
Level     1,  Iter    14:    Energy =   0.0737
Level     1,  Iter    15:    Energy =   0.0737
Level     1,  Iter    16:    Energy =   0.0741
Level     1,  Iter    17:    Energy =   0.0740
Level     1,  Iter    18:    Energy =   0.0744
Level     1,  Iter    19:    Energy =   0.0743
Level     1,  Iter    20:    Energy =   0.0746
Level     1,  Iter    21:    Energy =   0.0745
Level     1,  Iter    22:    Energy =   0.0748
Level     1,  Iter    23:    Energy =   0.0747
Level     1,  Iter    24:    Energy =   0.0750
Level     1,  Iter    25:    Energy =   0.0749
Level     1,  Iter    26:    Energy =   0.0752
Level     1,  Iter    27:    Energy =   0.0751
Level     1,  Iter    28:    Energy =   0.0754
Level     1,  Iter    29:    Energy =   0.0752
Level     1,  Iter    30:    Energy =   0.0755
Level     1,  Iter    31:    Energy =   0.0754
Level     1,  Iter    32:    Energy =   0.0756
Level     1,  Iter    33:    Energy =   0.0755
Level     1,  Iter    34:    Energy =   0.0757
Level     1,  Iter    35:    Energy =   0.0756
Level     1,  Iter    36:    Energy =   0.0758
Level     1,  Iter    37:    Energy =   0.0757
Level     1,  Iter    38:    Energy =   0.0759
Level     1,  Iter    39:    Energy =   0.0758
Level     1,  Iter    40:    Energy =   0.0760
Level     1,  Iter    41:    Energy =   0.0758
Level     1,  Iter    42:    Energy =   0.0761
Level     1,  Iter    43:    Energy =   0.0759
Level     1,  Iter    44:    Energy =   0.0762
Level     1,  Iter    45:    Energy =   0.0760
Level     1,  Iter    46:    Energy =   0.0762
Level     1,  Iter    47:    Energy =   0.0760
Level     1,  Iter    48:    Energy =   0.0763
Level     1,  Iter    49:    Energy =   0.0761
Level     1,  Iter    50:    Energy =   0.0763
Level     1,  Iter    51:    Energy =   0.0762
Level     1,  Iter    52:    Energy =   0.0764
Level     1,  Iter    53:    Energy =   0.0762
Level     1,  Iter    54:    Energy =   0.0764
Level     1,  Iter    55:    Energy =   0.0763
Level     1,  Iter    56:    Energy =   0.0765
Level     1,  Iter    57:    Energy =   0.0763
Level     1,  Iter    58:    Energy =   0.0765
Level     1,  Iter    59:    Energy =   0.0763
END OF LEVEL     1    DetJac Range:   0.0952  to   2.9735 
  Avg. Gradient Time  : 0.0405s  40.01% 
  Avg. Gaussian Time  : 0.0486s  48.03% 
  Avg. Iteration Time : 0.1012s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0413
Level     2,  Iter     1:    Energy =   0.0433
Level     2,  Iter     2:    Energy =   0.0456
Level     2,  Iter     3:    Energy =   0.0473
Level     2,  Iter     4:    Energy =   0.0486
Level     2,  Iter     5:    Energy =   0.0497
Level     2,  Iter     6:    Energy =   0.0506
Level     2,  Iter     7:    Energy =   0.0515
Level     2,  Iter     8:    Energy =   0.0524
Level     2,  Iter     9:    Energy =   0.0534
Level     2,  Iter    10:    Energy =   0.0544
Level     2,  Iter    11:    Energy =   0.0553
Level     2,  Iter    12:    Energy =   0.0562
Level     2,  Iter    13:    Energy =   0.0567
Level     2,  Iter    14:    Energy =   0.0571
Level     2,  Iter    15:    Energy =   0.0575
Level     2,  Iter    16:    Energy =   0.0581
Level     2,  Iter    17:    Energy =   0.0586
Level     2,  Iter    18:    Energy =   0.0590
Level     2,  Iter    19:    Energy =   0.0593
END OF LEVEL     2    DetJac Range:   0.0669  to   4.9700 
  Avg. Gradient Time  : 0.2788s  37.40% 
  Avg. Gaussian Time  : 0.3870s  51.90% 
  Avg. Iteration Time : 0.7456s 

real	0m25.096s
user	0m43.872s
sys	0m2.716s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.617308 0.623077
+ echo 'CHUNK 0.617308 0.623077 1'
CHUNK 0.617308 0.623077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.617308 0.623077 1
====================================
         PROGRESS: 0.617308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 004
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1769.22 	 OutFr   0.0000 	 RMSD     3.0358
Iter 002 	 Temp     3.72 	 Delta  1698.78 	 OutFr   0.0000 	 RMSD     2.0269
Iter 003 	 Temp     3.46 	 Delta  1558.14 	 OutFr   0.0000 	 RMSD     2.0478
Iter 004 	 Temp     3.22 	 Delta  1424.21 	 OutFr   0.0000 	 RMSD     2.0272
Iter 005 	 Temp     2.99 	 Delta  1302.18 	 OutFr   0.0000 	 RMSD     2.0042
Iter 006 	 Temp     2.78 	 Delta  1194.56 	 OutFr   0.0000 	 RMSD     1.9838
Iter 007 	 Temp     2.59 	 Delta  1098.33 	 OutFr   0.0000 	 RMSD     1.9674
Iter 008 	 Temp     2.41 	 Delta  1011.98 	 OutFr   0.0000 	 RMSD     1.9550
Iter 009 	 Temp     2.24 	 Delta   936.20 	 OutFr   0.0000 	 RMSD     1.9455
Iter 010 	 Temp     2.08 	 Delta   870.41 	 OutFr   0.0000 	 RMSD     1.9391
Iter 011 	 Temp     1.94 	 Delta   810.95 	 OutFr   0.0000 	 RMSD     1.9345
Iter 012 	 Temp     1.80 	 Delta   754.64 	 OutFr   0.0000 	 RMSD     1.9314
Iter 013 	 Temp     1.67 	 Delta   702.38 	 OutFr   0.0000 	 RMSD     1.9291
Iter 014 	 Temp     1.56 	 Delta   657.23 	 OutFr   0.0000 	 RMSD     1.9275
Iter 015 	 Temp     1.45 	 Delta   619.17 	 OutFr   0.0026 	 RMSD     1.9260
Iter 016 	 Temp     1.35 	 Delta   585.12 	 OutFr   0.0026 	 RMSD     1.9244
Iter 017 	 Temp     1.25 	 Delta   553.09 	 OutFr   0.0026 	 RMSD     1.9221
Iter 018 	 Temp     1.16 	 Delta   522.70 	 OutFr   0.0026 	 RMSD     1.9198
Iter 019 	 Temp     1.08 	 Delta   494.31 	 OutFr   0.0052 	 RMSD     1.9172
Iter 020 	 Temp     1.01 	 Delta   468.49 	 OutFr   0.0078 	 RMSD     1.9136
Iter 021 	 Temp     0.94 	 Delta   446.04 	 OutFr   0.0129 	 RMSD     1.9101
Iter 022 	 Temp     0.87 	 Delta   427.27 	 OutFr   0.0155 	 RMSD     1.9069
Iter 023 	 Temp     0.81 	 Delta   410.74 	 OutFr   0.0207 	 RMSD     1.9041
Iter 024 	 Temp     0.75 	 Delta   394.16 	 OutFr   0.0362 	 RMSD     1.9020
Iter 025 	 Temp     0.70 	 Delta   377.03 	 OutFr   0.0388 	 RMSD     1.9007
Iter 026 	 Temp     0.65 	 Delta   359.58 	 OutFr   0.0517 	 RMSD     1.8997
Iter 027 	 Temp     0.61 	 Delta   341.91 	 OutFr   0.0646 	 RMSD     1.8990
Iter 028 	 Temp     0.56 	 Delta   323.03 	 OutFr   0.0749 	 RMSD     1.8991
Iter 029 	 Temp     0.52 	 Delta   300.61 	 OutFr   0.0982 	 RMSD     1.8996
Iter 030 	 Temp     0.49 	 Delta   274.56 	 OutFr   0.1344 	 RMSD     1.9008
Iter 031 	 Temp     0.45 	 Delta   246.72 	 OutFr   0.1731 	 RMSD     1.9026
Iter 032 	 Temp     0.42 	 Delta   218.31 	 OutFr   0.1990 	 RMSD     1.9052
Iter 033 	 Temp     0.39 	 Delta   192.38 	 OutFr   0.2455 	 RMSD     1.9089
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Lk2yf6C5/mybin.nii.gz
+ vtklevelset /tmp/ashs.Lk2yf6C5/mybin.nii.gz /tmp/ashs.Lk2yf6C5/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Lk2yf6C5/mymesh.vtk /tmp/ashs.Lk2yf6C5/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2557.48252002   0.92379363
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Lk2yf6C5/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -29.5058 to -7.73955
   Y : -13.2678 to 27.5425
   Z : -16.3618 to 15.0816
   Image resolution  : 92 by 147 by 119
   Image box origin  : {-34.5058, -18.2678, -21.3618}
   Image box size    : {31.9444, 51.0416, 41.6495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [34.5058, 18.2678, -21.3618]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat -o /tmp/ashs.Lk2yf6C5/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat -o /tmp/ashs.Lk2yf6C5/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Lk2yf6C5/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.623077 0.628846
+ echo 'CHUNK 0.623077 0.628846 0.5'
CHUNK 0.623077 0.628846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.623077 0.628846 0.5
====================================
         PROGRESS: 0.623077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Lk2yf6C5/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Lk2yf6C5/fixed_hw.nii.gz /tmp/ashs.Lk2yf6C5/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.542989, moving = 0.610465
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.38937, 2.40464], [0.982092, 0.975456, 0.981689]
Level     0,  Iter     0:    Energy =   0.0664
Level     0,  Iter     1:    Energy =   0.0745
Level     0,  Iter     2:    Energy =   0.0807
Level     0,  Iter     3:    Energy =   0.0846
Level     0,  Iter     4:    Energy =   0.0890
Level     0,  Iter     5:    Energy =   0.0922
Level     0,  Iter     6:    Energy =   0.0949
Level     0,  Iter     7:    Energy =   0.0958
Level     0,  Iter     8:    Energy =   0.0968
Level     0,  Iter     9:    Energy =   0.0973
Level     0,  Iter    10:    Energy =   0.0976
Level     0,  Iter    11:    Energy =   0.0980
Level     0,  Iter    12:    Energy =   0.0982
Level     0,  Iter    13:    Energy =   0.0984
Level     0,  Iter    14:    Energy =   0.0987
Level     0,  Iter    15:    Energy =   0.0989
Level     0,  Iter    16:    Energy =   0.0991
Level     0,  Iter    17:    Energy =   0.0993
Level     0,  Iter    18:    Energy =   0.0995
Level     0,  Iter    19:    Energy =   0.0997
Level     0,  Iter    20:    Energy =   0.0996
Level     0,  Iter    21:    Energy =   0.0999
Level     0,  Iter    22:    Energy =   0.0998
Level     0,  Iter    23:    Energy =   0.1000
Level     0,  Iter    24:    Energy =   0.0999
Level     0,  Iter    25:    Energy =   0.1001
Level     0,  Iter    26:    Energy =   0.1000
Level     0,  Iter    27:    Energy =   0.1002
Level     0,  Iter    28:    Energy =   0.1003
Level     0,  Iter    29:    Energy =   0.1005
Level     0,  Iter    30:    Energy =   0.1004
Level     0,  Iter    31:    Energy =   0.1006
Level     0,  Iter    32:    Energy =   0.1005
Level     0,  Iter    33:    Energy =   0.1007
Level     0,  Iter    34:    Energy =   0.1005
Level     0,  Iter    35:    Energy =   0.1007
Level     0,  Iter    36:    Energy =   0.1006
Level     0,  Iter    37:    Energy =   0.1007
Level     0,  Iter    38:    Energy =   0.1006
Level     0,  Iter    39:    Energy =   0.1007
Level     0,  Iter    40:    Energy =   0.1006
Level     0,  Iter    41:    Energy =   0.1008
Level     0,  Iter    42:    Energy =   0.1006
Level     0,  Iter    43:    Energy =   0.1008
Level     0,  Iter    44:    Energy =   0.1007
Level     0,  Iter    45:    Energy =   0.1008
Level     0,  Iter    46:    Energy =   0.1008
Level     0,  Iter    47:    Energy =   0.1009
Level     0,  Iter    48:    Energy =   0.1007
Level     0,  Iter    49:    Energy =   0.1009
Level     0,  Iter    50:    Energy =   0.1007
Level     0,  Iter    51:    Energy =   0.1009
Level     0,  Iter    52:    Energy =   0.1007
Level     0,  Iter    53:    Energy =   0.1009
Level     0,  Iter    54:    Energy =   0.1008
Level     0,  Iter    55:    Energy =   0.1009
Level     0,  Iter    56:    Energy =   0.1008
Level     0,  Iter    57:    Energy =   0.1009
Level     0,  Iter    58:    Energy =   0.1007
Level     0,  Iter    59:    Energy =   0.1009
END OF LEVEL     0    DetJac Range:   0.5912  to   2.2832 
  Avg. Gradient Time  : 0.0072s  37.63% 
  Avg. Gaussian Time  : 0.0090s  46.83% 
  Avg. Iteration Time : 0.0191s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19469, 1.20232], [0.491046, 0.487728, 0.490844]
Level     1,  Iter     0:    Energy =   0.0697
Level     1,  Iter     1:    Energy =   0.0741
Level     1,  Iter     2:    Energy =   0.0781
Level     1,  Iter     3:    Energy =   0.0808
Level     1,  Iter     4:    Energy =   0.0833
Level     1,  Iter     5:    Energy =   0.0854
Level     1,  Iter     6:    Energy =   0.0869
Level     1,  Iter     7:    Energy =   0.0883
Level     1,  Iter     8:    Energy =   0.0896
Level     1,  Iter     9:    Energy =   0.0906
Level     1,  Iter    10:    Energy =   0.0909
Level     1,  Iter    11:    Energy =   0.0911
Level     1,  Iter    12:    Energy =   0.0913
Level     1,  Iter    13:    Energy =   0.0915
Level     1,  Iter    14:    Energy =   0.0916
Level     1,  Iter    15:    Energy =   0.0919
Level     1,  Iter    16:    Energy =   0.0919
Level     1,  Iter    17:    Energy =   0.0921
Level     1,  Iter    18:    Energy =   0.0922
Level     1,  Iter    19:    Energy =   0.0924
Level     1,  Iter    20:    Energy =   0.0924
Level     1,  Iter    21:    Energy =   0.0926
Level     1,  Iter    22:    Energy =   0.0926
Level     1,  Iter    23:    Energy =   0.0928
Level     1,  Iter    24:    Energy =   0.0927
Level     1,  Iter    25:    Energy =   0.0929
Level     1,  Iter    26:    Energy =   0.0928
Level     1,  Iter    27:    Energy =   0.0930
Level     1,  Iter    28:    Energy =   0.0929
Level     1,  Iter    29:    Energy =   0.0932
Level     1,  Iter    30:    Energy =   0.0930
Level     1,  Iter    31:    Energy =   0.0933
Level     1,  Iter    32:    Energy =   0.0931
Level     1,  Iter    33:    Energy =   0.0933
Level     1,  Iter    34:    Energy =   0.0932
Level     1,  Iter    35:    Energy =   0.0934
Level     1,  Iter    36:    Energy =   0.0933
Level     1,  Iter    37:    Energy =   0.0934
Level     1,  Iter    38:    Energy =   0.0933
Level     1,  Iter    39:    Energy =   0.0934
Level     1,  Iter    40:    Energy =   0.0934
Level     1,  Iter    41:    Energy =   0.0935
Level     1,  Iter    42:    Energy =   0.0934
Level     1,  Iter    43:    Energy =   0.0935
Level     1,  Iter    44:    Energy =   0.0934
Level     1,  Iter    45:    Energy =   0.0935
Level     1,  Iter    46:    Energy =   0.0934
Level     1,  Iter    47:    Energy =   0.0936
Level     1,  Iter    48:    Energy =   0.0935
Level     1,  Iter    49:    Energy =   0.0936
Level     1,  Iter    50:    Energy =   0.0935
Level     1,  Iter    51:    Energy =   0.0936
Level     1,  Iter    52:    Energy =   0.0936
Level     1,  Iter    53:    Energy =   0.0937
Level     1,  Iter    54:    Energy =   0.0936
Level     1,  Iter    55:    Energy =   0.0937
Level     1,  Iter    56:    Energy =   0.0936
Level     1,  Iter    57:    Energy =   0.0937
Level     1,  Iter    58:    Energy =   0.0936
Level     1,  Iter    59:    Energy =   0.0937
END OF LEVEL     1    DetJac Range:   0.2412  to   3.5108 
  Avg. Gradient Time  : 0.0404s  39.93% 
  Avg. Gaussian Time  : 0.0485s  47.95% 
  Avg. Iteration Time : 0.1011s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0514
Level     2,  Iter     1:    Energy =   0.0540
Level     2,  Iter     2:    Energy =   0.0558
Level     2,  Iter     3:    Energy =   0.0573
Level     2,  Iter     4:    Energy =   0.0589
Level     2,  Iter     5:    Energy =   0.0603
Level     2,  Iter     6:    Energy =   0.0617
Level     2,  Iter     7:    Energy =   0.0627
Level     2,  Iter     8:    Energy =   0.0637
Level     2,  Iter     9:    Energy =   0.0644
Level     2,  Iter    10:    Energy =   0.0651
Level     2,  Iter    11:    Energy =   0.0654
Level     2,  Iter    12:    Energy =   0.0655
Level     2,  Iter    13:    Energy =   0.0656
Level     2,  Iter    14:    Energy =   0.0659
Level     2,  Iter    15:    Energy =   0.0660
Level     2,  Iter    16:    Energy =   0.0663
Level     2,  Iter    17:    Energy =   0.0663
Level     2,  Iter    18:    Energy =   0.0666
Level     2,  Iter    19:    Energy =   0.0666
END OF LEVEL     2    DetJac Range:   0.2052  to   6.0303 
  Avg. Gradient Time  : 0.2848s  36.38% 
  Avg. Gaussian Time  : 0.4170s  53.26% 
  Avg. Iteration Time : 0.7830s 

real	0m25.843s
user	0m45.748s
sys	0m2.632s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.623077 0.628846
+ echo 'CHUNK 0.623077 0.628846 1'
CHUNK 0.623077 0.628846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.623077 0.628846 1
====================================
         PROGRESS: 0.623077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 005
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2616.64 	 OutFr   0.0000 	 RMSD     3.2681
Iter 002 	 Temp     3.72 	 Delta  2561.14 	 OutFr   0.0000 	 RMSD     2.4166
Iter 003 	 Temp     3.46 	 Delta  2405.08 	 OutFr   0.0000 	 RMSD     2.4262
Iter 004 	 Temp     3.22 	 Delta  2244.57 	 OutFr   0.0000 	 RMSD     2.4176
Iter 005 	 Temp     2.99 	 Delta  2093.83 	 OutFr   0.0000 	 RMSD     2.4045
Iter 006 	 Temp     2.78 	 Delta  1955.52 	 OutFr   0.0000 	 RMSD     2.3923
Iter 007 	 Temp     2.59 	 Delta  1829.45 	 OutFr   0.0000 	 RMSD     2.3816
Iter 008 	 Temp     2.41 	 Delta  1713.65 	 OutFr   0.0000 	 RMSD     2.3724
Iter 009 	 Temp     2.24 	 Delta  1604.60 	 OutFr   0.0000 	 RMSD     2.3646
Iter 010 	 Temp     2.08 	 Delta  1497.84 	 OutFr   0.0000 	 RMSD     2.3572
Iter 011 	 Temp     1.94 	 Delta  1389.67 	 OutFr   0.0000 	 RMSD     2.3502
Iter 012 	 Temp     1.80 	 Delta  1278.17 	 OutFr   0.0000 	 RMSD     2.3429
Iter 013 	 Temp     1.67 	 Delta  1165.35 	 OutFr   0.0026 	 RMSD     2.3355
Iter 014 	 Temp     1.56 	 Delta  1060.73 	 OutFr   0.0026 	 RMSD     2.3284
Iter 015 	 Temp     1.45 	 Delta   970.15 	 OutFr   0.0129 	 RMSD     2.3222
Iter 016 	 Temp     1.35 	 Delta   889.65 	 OutFr   0.0258 	 RMSD     2.3171
Iter 017 	 Temp     1.25 	 Delta   814.77 	 OutFr   0.0284 	 RMSD     2.3115
Iter 018 	 Temp     1.16 	 Delta   742.79 	 OutFr   0.0413 	 RMSD     2.3055
Iter 019 	 Temp     1.08 	 Delta   676.25 	 OutFr   0.0517 	 RMSD     2.3011
Iter 020 	 Temp     1.01 	 Delta   619.57 	 OutFr   0.0568 	 RMSD     2.2989
Iter 021 	 Temp     0.94 	 Delta   575.37 	 OutFr   0.0775 	 RMSD     2.2986
Iter 022 	 Temp     0.87 	 Delta   541.48 	 OutFr   0.0930 	 RMSD     2.2991
Iter 023 	 Temp     0.81 	 Delta   512.50 	 OutFr   0.1008 	 RMSD     2.2997
Iter 024 	 Temp     0.75 	 Delta   483.16 	 OutFr   0.1034 	 RMSD     2.3009
Iter 025 	 Temp     0.70 	 Delta   451.03 	 OutFr   0.1085 	 RMSD     2.3024
Iter 026 	 Temp     0.65 	 Delta   417.06 	 OutFr   0.1214 	 RMSD     2.3042
Iter 027 	 Temp     0.61 	 Delta   383.71 	 OutFr   0.1395 	 RMSD     2.3059
Iter 028 	 Temp     0.56 	 Delta   351.05 	 OutFr   0.1654 	 RMSD     2.3073
Iter 029 	 Temp     0.52 	 Delta   318.96 	 OutFr   0.1990 	 RMSD     2.3089
Iter 030 	 Temp     0.49 	 Delta   286.72 	 OutFr   0.2351 	 RMSD     2.3102
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.DARyoDzb/mybin.nii.gz
+ vtklevelset /tmp/ashs.DARyoDzb/mybin.nii.gz /tmp/ashs.DARyoDzb/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.DARyoDzb/mymesh.vtk /tmp/ashs.DARyoDzb/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2895.79065498   1.04599463
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.DARyoDzb/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -29.0965 to -6.82911
   Y : -13.7843 to 29.748
   Z : -1.72274 to 33.8379
   Image resolution  : 93 by 155 by 131
   Image box origin  : {-34.0965, -18.7843, -6.72274}
   Image box size    : {32.2916, 53.8194, 45.8495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [34.0965, 18.7843, -6.72274]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat -o /tmp/ashs.DARyoDzb/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat -o /tmp/ashs.DARyoDzb/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.DARyoDzb/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.628846 0.634615
+ echo 'CHUNK 0.628846 0.634615 0.5'
CHUNK 0.628846 0.634615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.628846 0.634615 0.5
====================================
         PROGRESS: 0.628846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.DARyoDzb/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.DARyoDzb/fixed_hw.nii.gz /tmp/ashs.DARyoDzb/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.541706, moving = 0.672284
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.3902, 2.40647], [0.951402, 0.975797, 0.982439]
Level     0,  Iter     0:    Energy =   0.0378
Level     0,  Iter     1:    Energy =   0.0450
Level     0,  Iter     2:    Energy =   0.0521
Level     0,  Iter     3:    Energy =   0.0571
Level     0,  Iter     4:    Energy =   0.0617
Level     0,  Iter     5:    Energy =   0.0655
Level     0,  Iter     6:    Energy =   0.0685
Level     0,  Iter     7:    Energy =   0.0711
Level     0,  Iter     8:    Energy =   0.0731
Level     0,  Iter     9:    Energy =   0.0754
Level     0,  Iter    10:    Energy =   0.0764
Level     0,  Iter    11:    Energy =   0.0776
Level     0,  Iter    12:    Energy =   0.0784
Level     0,  Iter    13:    Energy =   0.0796
Level     0,  Iter    14:    Energy =   0.0802
Level     0,  Iter    15:    Energy =   0.0809
Level     0,  Iter    16:    Energy =   0.0810
Level     0,  Iter    17:    Energy =   0.0817
Level     0,  Iter    18:    Energy =   0.0818
Level     0,  Iter    19:    Energy =   0.0822
Level     0,  Iter    20:    Energy =   0.0823
Level     0,  Iter    21:    Energy =   0.0828
Level     0,  Iter    22:    Energy =   0.0828
Level     0,  Iter    23:    Energy =   0.0832
Level     0,  Iter    24:    Energy =   0.0832
Level     0,  Iter    25:    Energy =   0.0836
Level     0,  Iter    26:    Energy =   0.0836
Level     0,  Iter    27:    Energy =   0.0839
Level     0,  Iter    28:    Energy =   0.0841
Level     0,  Iter    29:    Energy =   0.0844
Level     0,  Iter    30:    Energy =   0.0844
Level     0,  Iter    31:    Energy =   0.0849
Level     0,  Iter    32:    Energy =   0.0849
Level     0,  Iter    33:    Energy =   0.0853
Level     0,  Iter    34:    Energy =   0.0853
Level     0,  Iter    35:    Energy =   0.0858
Level     0,  Iter    36:    Energy =   0.0857
Level     0,  Iter    37:    Energy =   0.0862
Level     0,  Iter    38:    Energy =   0.0861
Level     0,  Iter    39:    Energy =   0.0865
Level     0,  Iter    40:    Energy =   0.0864
Level     0,  Iter    41:    Energy =   0.0867
Level     0,  Iter    42:    Energy =   0.0865
Level     0,  Iter    43:    Energy =   0.0871
Level     0,  Iter    44:    Energy =   0.0869
Level     0,  Iter    45:    Energy =   0.0870
Level     0,  Iter    46:    Energy =   0.0868
Level     0,  Iter    47:    Energy =   0.0872
Level     0,  Iter    48:    Energy =   0.0870
Level     0,  Iter    49:    Energy =   0.0875
Level     0,  Iter    50:    Energy =   0.0873
Level     0,  Iter    51:    Energy =   0.0873
Level     0,  Iter    52:    Energy =   0.0871
Level     0,  Iter    53:    Energy =   0.0873
Level     0,  Iter    54:    Energy =   0.0871
Level     0,  Iter    55:    Energy =   0.0872
Level     0,  Iter    56:    Energy =   0.0870
Level     0,  Iter    57:    Energy =   0.0873
Level     0,  Iter    58:    Energy =   0.0871
Level     0,  Iter    59:    Energy =   0.0875
END OF LEVEL     0    DetJac Range:   0.3871  to   2.7499 
  Avg. Gradient Time  : 0.0084s  37.64% 
  Avg. Gaussian Time  : 0.0106s  47.25% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.1951, 1.20324], [0.485822, 0.487898, 0.491219]
Level     1,  Iter     0:    Energy =   0.0564
Level     1,  Iter     1:    Energy =   0.0613
Level     1,  Iter     2:    Energy =   0.0645
Level     1,  Iter     3:    Energy =   0.0671
Level     1,  Iter     4:    Energy =   0.0691
Level     1,  Iter     5:    Energy =   0.0709
Level     1,  Iter     6:    Energy =   0.0723
Level     1,  Iter     7:    Energy =   0.0734
Level     1,  Iter     8:    Energy =   0.0745
Level     1,  Iter     9:    Energy =   0.0752
Level     1,  Iter    10:    Energy =   0.0758
Level     1,  Iter    11:    Energy =   0.0762
Level     1,  Iter    12:    Energy =   0.0767
Level     1,  Iter    13:    Energy =   0.0771
Level     1,  Iter    14:    Energy =   0.0775
Level     1,  Iter    15:    Energy =   0.0779
Level     1,  Iter    16:    Energy =   0.0779
Level     1,  Iter    17:    Energy =   0.0780
Level     1,  Iter    18:    Energy =   0.0780
Level     1,  Iter    19:    Energy =   0.0781
Level     1,  Iter    20:    Energy =   0.0782
Level     1,  Iter    21:    Energy =   0.0783
Level     1,  Iter    22:    Energy =   0.0783
Level     1,  Iter    23:    Energy =   0.0784
Level     1,  Iter    24:    Energy =   0.0784
Level     1,  Iter    25:    Energy =   0.0785
Level     1,  Iter    26:    Energy =   0.0785
Level     1,  Iter    27:    Energy =   0.0786
Level     1,  Iter    28:    Energy =   0.0786
Level     1,  Iter    29:    Energy =   0.0787
Level     1,  Iter    30:    Energy =   0.0786
Level     1,  Iter    31:    Energy =   0.0788
Level     1,  Iter    32:    Energy =   0.0787
Level     1,  Iter    33:    Energy =   0.0788
Level     1,  Iter    34:    Energy =   0.0787
Level     1,  Iter    35:    Energy =   0.0788
Level     1,  Iter    36:    Energy =   0.0788
Level     1,  Iter    37:    Energy =   0.0789
Level     1,  Iter    38:    Energy =   0.0788
Level     1,  Iter    39:    Energy =   0.0789
Level     1,  Iter    40:    Energy =   0.0788
Level     1,  Iter    41:    Energy =   0.0789
Level     1,  Iter    42:    Energy =   0.0789
Level     1,  Iter    43:    Energy =   0.0789
Level     1,  Iter    44:    Energy =   0.0789
Level     1,  Iter    45:    Energy =   0.0790
Level     1,  Iter    46:    Energy =   0.0789
Level     1,  Iter    47:    Energy =   0.0790
Level     1,  Iter    48:    Energy =   0.0790
Level     1,  Iter    49:    Energy =   0.0790
Level     1,  Iter    50:    Energy =   0.0790
Level     1,  Iter    51:    Energy =   0.0791
Level     1,  Iter    52:    Energy =   0.0790
Level     1,  Iter    53:    Energy =   0.0791
Level     1,  Iter    54:    Energy =   0.0791
Level     1,  Iter    55:    Energy =   0.0792
Level     1,  Iter    56:    Energy =   0.0792
Level     1,  Iter    57:    Energy =   0.0792
Level     1,  Iter    58:    Energy =   0.0792
Level     1,  Iter    59:    Energy =   0.0793
END OF LEVEL     1    DetJac Range:   0.1018  to   3.9005 
  Avg. Gradient Time  : 0.0481s  39.87% 
  Avg. Gaussian Time  : 0.0580s  48.11% 
  Avg. Iteration Time : 0.1205s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0422
Level     2,  Iter     1:    Energy =   0.0445
Level     2,  Iter     2:    Energy =   0.0466
Level     2,  Iter     3:    Energy =   0.0485
Level     2,  Iter     4:    Energy =   0.0502
Level     2,  Iter     5:    Energy =   0.0517
Level     2,  Iter     6:    Energy =   0.0530
Level     2,  Iter     7:    Energy =   0.0539
Level     2,  Iter     8:    Energy =   0.0545
Level     2,  Iter     9:    Energy =   0.0550
Level     2,  Iter    10:    Energy =   0.0554
Level     2,  Iter    11:    Energy =   0.0557
Level     2,  Iter    12:    Energy =   0.0560
Level     2,  Iter    13:    Energy =   0.0563
Level     2,  Iter    14:    Energy =   0.0565
Level     2,  Iter    15:    Energy =   0.0569
Level     2,  Iter    16:    Energy =   0.0572
Level     2,  Iter    17:    Energy =   0.0576
Level     2,  Iter    18:    Energy =   0.0579
Level     2,  Iter    19:    Energy =   0.0583
END OF LEVEL     2    DetJac Range:   0.0479  to   4.6176 
  Avg. Gradient Time  : 0.3371s  37.75% 
  Avg. Gaussian Time  : 0.4610s  51.61% 
  Avg. Iteration Time : 0.8932s 

real	0m29.966s
user	0m52.932s
sys	0m3.164s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.628846 0.634615
+ echo 'CHUNK 0.628846 0.634615 1'
CHUNK 0.628846 0.634615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.628846 0.634615 1
====================================
         PROGRESS: 0.628846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 006
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1793.13 	 OutFr   0.0000 	 RMSD     2.8782
Iter 002 	 Temp     3.72 	 Delta  1767.88 	 OutFr   0.0000 	 RMSD     2.0020
Iter 003 	 Temp     3.46 	 Delta  1626.19 	 OutFr   0.0000 	 RMSD     2.0328
Iter 004 	 Temp     3.22 	 Delta  1472.42 	 OutFr   0.0000 	 RMSD     2.0078
Iter 005 	 Temp     2.99 	 Delta  1344.61 	 OutFr   0.0000 	 RMSD     1.9767
Iter 006 	 Temp     2.78 	 Delta  1242.14 	 OutFr   0.0000 	 RMSD     1.9487
Iter 007 	 Temp     2.59 	 Delta  1152.29 	 OutFr   0.0000 	 RMSD     1.9256
Iter 008 	 Temp     2.41 	 Delta  1072.06 	 OutFr   0.0000 	 RMSD     1.9068
Iter 009 	 Temp     2.24 	 Delta  1000.13 	 OutFr   0.0000 	 RMSD     1.8921
Iter 010 	 Temp     2.08 	 Delta   935.02 	 OutFr   0.0000 	 RMSD     1.8803
Iter 011 	 Temp     1.94 	 Delta   875.85 	 OutFr   0.0000 	 RMSD     1.8712
Iter 012 	 Temp     1.80 	 Delta   822.28 	 OutFr   0.0000 	 RMSD     1.8643
Iter 013 	 Temp     1.67 	 Delta   773.75 	 OutFr   0.0000 	 RMSD     1.8587
Iter 014 	 Temp     1.56 	 Delta   729.17 	 OutFr   0.0052 	 RMSD     1.8542
Iter 015 	 Temp     1.45 	 Delta   687.39 	 OutFr   0.0103 	 RMSD     1.8508
Iter 016 	 Temp     1.35 	 Delta   647.42 	 OutFr   0.0233 	 RMSD     1.8477
Iter 017 	 Temp     1.25 	 Delta   608.10 	 OutFr   0.0310 	 RMSD     1.8455
Iter 018 	 Temp     1.16 	 Delta   568.58 	 OutFr   0.0310 	 RMSD     1.8439
Iter 019 	 Temp     1.08 	 Delta   528.26 	 OutFr   0.0336 	 RMSD     1.8427
Iter 020 	 Temp     1.01 	 Delta   486.05 	 OutFr   0.0388 	 RMSD     1.8425
Iter 021 	 Temp     0.94 	 Delta   445.11 	 OutFr   0.0413 	 RMSD     1.8449
Iter 022 	 Temp     0.87 	 Delta   409.34 	 OutFr   0.0543 	 RMSD     1.8497
Iter 023 	 Temp     0.81 	 Delta   380.70 	 OutFr   0.0646 	 RMSD     1.8557
Iter 024 	 Temp     0.75 	 Delta   358.22 	 OutFr   0.0775 	 RMSD     1.8618
Iter 025 	 Temp     0.70 	 Delta   340.90 	 OutFr   0.0982 	 RMSD     1.8664
Iter 026 	 Temp     0.65 	 Delta   325.97 	 OutFr   0.1137 	 RMSD     1.8689
Iter 027 	 Temp     0.61 	 Delta   311.71 	 OutFr   0.1214 	 RMSD     1.8700
Iter 028 	 Temp     0.56 	 Delta   296.95 	 OutFr   0.1266 	 RMSD     1.8703
Iter 029 	 Temp     0.52 	 Delta   280.33 	 OutFr   0.1344 	 RMSD     1.8706
Iter 030 	 Temp     0.49 	 Delta   260.73 	 OutFr   0.1576 	 RMSD     1.8711
Iter 031 	 Temp     0.45 	 Delta   238.61 	 OutFr   0.1757 	 RMSD     1.8715
Iter 032 	 Temp     0.42 	 Delta   216.38 	 OutFr   0.2171 	 RMSD     1.8720
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.h4tJnpqj/mybin.nii.gz
+ vtklevelset /tmp/ashs.h4tJnpqj/mybin.nii.gz /tmp/ashs.h4tJnpqj/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.h4tJnpqj/mymesh.vtk /tmp/ashs.h4tJnpqj/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2587.98398857   0.93481113
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.h4tJnpqj/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.9309 to -12.5299
   Y : -13.7979 to 26.3988
   Z : -14.02 to 20.06
   Image resolution  : 88 by 145 by 126
   Image box origin  : {-37.9309, -18.7979, -19.02}
   Image box size    : {30.5555, 50.3472, 44.0995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.9309, 18.7979, -19.02]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat -o /tmp/ashs.h4tJnpqj/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat -o /tmp/ashs.h4tJnpqj/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.h4tJnpqj/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.634615 0.640385
+ echo 'CHUNK 0.634615 0.640385 0.5'
CHUNK 0.634615 0.640385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.634615 0.640385 0.5
====================================
         PROGRESS: 0.634615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.h4tJnpqj/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.h4tJnpqj/fixed_hw.nii.gz /tmp/ashs.h4tJnpqj/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.531785, moving = 0.520111
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.35686, 2.38696], [0.982092, 0.962185, 0.97447]
Level     0,  Iter     0:    Energy =   0.0480
Level     0,  Iter     1:    Energy =   0.0553
Level     0,  Iter     2:    Energy =   0.0617
Level     0,  Iter     3:    Energy =   0.0666
Level     0,  Iter     4:    Energy =   0.0702
Level     0,  Iter     5:    Energy =   0.0735
Level     0,  Iter     6:    Energy =   0.0761
Level     0,  Iter     7:    Energy =   0.0783
Level     0,  Iter     8:    Energy =   0.0799
Level     0,  Iter     9:    Energy =   0.0809
Level     0,  Iter    10:    Energy =   0.0825
Level     0,  Iter    11:    Energy =   0.0831
Level     0,  Iter    12:    Energy =   0.0838
Level     0,  Iter    13:    Energy =   0.0843
Level     0,  Iter    14:    Energy =   0.0849
Level     0,  Iter    15:    Energy =   0.0851
Level     0,  Iter    16:    Energy =   0.0859
Level     0,  Iter    17:    Energy =   0.0861
Level     0,  Iter    18:    Energy =   0.0865
Level     0,  Iter    19:    Energy =   0.0868
Level     0,  Iter    20:    Energy =   0.0876
Level     0,  Iter    21:    Energy =   0.0879
Level     0,  Iter    22:    Energy =   0.0880
Level     0,  Iter    23:    Energy =   0.0880
Level     0,  Iter    24:    Energy =   0.0883
Level     0,  Iter    25:    Energy =   0.0882
Level     0,  Iter    26:    Energy =   0.0885
Level     0,  Iter    27:    Energy =   0.0885
Level     0,  Iter    28:    Energy =   0.0888
Level     0,  Iter    29:    Energy =   0.0887
Level     0,  Iter    30:    Energy =   0.0890
Level     0,  Iter    31:    Energy =   0.0888
Level     0,  Iter    32:    Energy =   0.0891
Level     0,  Iter    33:    Energy =   0.0890
Level     0,  Iter    34:    Energy =   0.0892
Level     0,  Iter    35:    Energy =   0.0891
Level     0,  Iter    36:    Energy =   0.0893
Level     0,  Iter    37:    Energy =   0.0892
Level     0,  Iter    38:    Energy =   0.0895
Level     0,  Iter    39:    Energy =   0.0893
Level     0,  Iter    40:    Energy =   0.0896
Level     0,  Iter    41:    Energy =   0.0894
Level     0,  Iter    42:    Energy =   0.0897
Level     0,  Iter    43:    Energy =   0.0895
Level     0,  Iter    44:    Energy =   0.0898
Level     0,  Iter    45:    Energy =   0.0896
Level     0,  Iter    46:    Energy =   0.0898
Level     0,  Iter    47:    Energy =   0.0897
Level     0,  Iter    48:    Energy =   0.0899
Level     0,  Iter    49:    Energy =   0.0897
Level     0,  Iter    50:    Energy =   0.0900
Level     0,  Iter    51:    Energy =   0.0898
Level     0,  Iter    52:    Energy =   0.0900
Level     0,  Iter    53:    Energy =   0.0898
Level     0,  Iter    54:    Energy =   0.0901
Level     0,  Iter    55:    Energy =   0.0899
Level     0,  Iter    56:    Energy =   0.0901
Level     0,  Iter    57:    Energy =   0.0899
Level     0,  Iter    58:    Energy =   0.0902
Level     0,  Iter    59:    Energy =   0.0900
END OF LEVEL     0    DetJac Range:   0.4099  to   2.2663 
  Avg. Gradient Time  : 0.0074s  38.01% 
  Avg. Gaussian Time  : 0.0090s  46.63% 
  Avg. Iteration Time : 0.0194s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19457, 1.21242], [0.491046, 0.487683, 0.494969]
Level     1,  Iter     0:    Energy =   0.0619
Level     1,  Iter     1:    Energy =   0.0667
Level     1,  Iter     2:    Energy =   0.0701
Level     1,  Iter     3:    Energy =   0.0728
Level     1,  Iter     4:    Energy =   0.0749
Level     1,  Iter     5:    Energy =   0.0769
Level     1,  Iter     6:    Energy =   0.0788
Level     1,  Iter     7:    Energy =   0.0806
Level     1,  Iter     8:    Energy =   0.0820
Level     1,  Iter     9:    Energy =   0.0832
Level     1,  Iter    10:    Energy =   0.0842
Level     1,  Iter    11:    Energy =   0.0850
Level     1,  Iter    12:    Energy =   0.0855
Level     1,  Iter    13:    Energy =   0.0856
Level     1,  Iter    14:    Energy =   0.0859
Level     1,  Iter    15:    Energy =   0.0860
Level     1,  Iter    16:    Energy =   0.0862
Level     1,  Iter    17:    Energy =   0.0863
Level     1,  Iter    18:    Energy =   0.0864
Level     1,  Iter    19:    Energy =   0.0865
Level     1,  Iter    20:    Energy =   0.0867
Level     1,  Iter    21:    Energy =   0.0867
Level     1,  Iter    22:    Energy =   0.0869
Level     1,  Iter    23:    Energy =   0.0869
Level     1,  Iter    24:    Energy =   0.0870
Level     1,  Iter    25:    Energy =   0.0870
Level     1,  Iter    26:    Energy =   0.0871
Level     1,  Iter    27:    Energy =   0.0872
Level     1,  Iter    28:    Energy =   0.0872
Level     1,  Iter    29:    Energy =   0.0872
Level     1,  Iter    30:    Energy =   0.0874
Level     1,  Iter    31:    Energy =   0.0874
Level     1,  Iter    32:    Energy =   0.0874
Level     1,  Iter    33:    Energy =   0.0875
Level     1,  Iter    34:    Energy =   0.0876
Level     1,  Iter    35:    Energy =   0.0876
Level     1,  Iter    36:    Energy =   0.0876
Level     1,  Iter    37:    Energy =   0.0876
Level     1,  Iter    38:    Energy =   0.0877
Level     1,  Iter    39:    Energy =   0.0877
Level     1,  Iter    40:    Energy =   0.0877
Level     1,  Iter    41:    Energy =   0.0878
Level     1,  Iter    42:    Energy =   0.0878
Level     1,  Iter    43:    Energy =   0.0879
Level     1,  Iter    44:    Energy =   0.0879
Level     1,  Iter    45:    Energy =   0.0879
Level     1,  Iter    46:    Energy =   0.0879
Level     1,  Iter    47:    Energy =   0.0880
Level     1,  Iter    48:    Energy =   0.0879
Level     1,  Iter    49:    Energy =   0.0879
Level     1,  Iter    50:    Energy =   0.0880
Level     1,  Iter    51:    Energy =   0.0880
Level     1,  Iter    52:    Energy =   0.0880
Level     1,  Iter    53:    Energy =   0.0880
Level     1,  Iter    54:    Energy =   0.0881
Level     1,  Iter    55:    Energy =   0.0881
Level     1,  Iter    56:    Energy =   0.0880
Level     1,  Iter    57:    Energy =   0.0881
Level     1,  Iter    58:    Energy =   0.0881
Level     1,  Iter    59:    Energy =   0.0881
END OF LEVEL     1    DetJac Range:   0.2043  to   3.5952 
  Avg. Gradient Time  : 0.0418s  40.57% 
  Avg. Gaussian Time  : 0.0486s  47.18% 
  Avg. Iteration Time : 0.1029s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0450
Level     2,  Iter     1:    Energy =   0.0472
Level     2,  Iter     2:    Energy =   0.0493
Level     2,  Iter     3:    Energy =   0.0514
Level     2,  Iter     4:    Energy =   0.0533
Level     2,  Iter     5:    Energy =   0.0548
Level     2,  Iter     6:    Energy =   0.0559
Level     2,  Iter     7:    Energy =   0.0568
Level     2,  Iter     8:    Energy =   0.0576
Level     2,  Iter     9:    Energy =   0.0583
Level     2,  Iter    10:    Energy =   0.0591
Level     2,  Iter    11:    Energy =   0.0598
Level     2,  Iter    12:    Energy =   0.0604
Level     2,  Iter    13:    Energy =   0.0609
Level     2,  Iter    14:    Energy =   0.0612
Level     2,  Iter    15:    Energy =   0.0616
Level     2,  Iter    16:    Energy =   0.0622
Level     2,  Iter    17:    Energy =   0.0627
Level     2,  Iter    18:    Energy =   0.0631
Level     2,  Iter    19:    Energy =   0.0635
END OF LEVEL     2    DetJac Range:   0.1343  to   7.2478 
  Avg. Gradient Time  : 0.2865s  37.66% 
  Avg. Gaussian Time  : 0.3928s  51.64% 
  Avg. Iteration Time : 0.7607s 

real	0m25.536s
user	0m44.716s
sys	0m2.688s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.634615 0.640385
+ echo 'CHUNK 0.634615 0.640385 1'
CHUNK 0.634615 0.640385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.634615 0.640385 1
====================================
         PROGRESS: 0.634615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 007
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1763.96 	 OutFr   0.0000 	 RMSD     2.1608
Iter 002 	 Temp     3.72 	 Delta  1712.17 	 OutFr   0.0000 	 RMSD     2.0819
Iter 003 	 Temp     3.46 	 Delta  1615.00 	 OutFr   0.0000 	 RMSD     2.0699
Iter 004 	 Temp     3.22 	 Delta  1525.92 	 OutFr   0.0000 	 RMSD     2.0446
Iter 005 	 Temp     2.99 	 Delta  1448.48 	 OutFr   0.0000 	 RMSD     2.0214
Iter 006 	 Temp     2.78 	 Delta  1381.73 	 OutFr   0.0000 	 RMSD     2.0027
Iter 007 	 Temp     2.59 	 Delta  1324.06 	 OutFr   0.0000 	 RMSD     1.9884
Iter 008 	 Temp     2.41 	 Delta  1273.33 	 OutFr   0.0000 	 RMSD     1.9771
Iter 009 	 Temp     2.24 	 Delta  1226.93 	 OutFr   0.0000 	 RMSD     1.9676
Iter 010 	 Temp     2.08 	 Delta  1181.71 	 OutFr   0.0000 	 RMSD     1.9599
Iter 011 	 Temp     1.94 	 Delta  1133.31 	 OutFr   0.0000 	 RMSD     1.9534
Iter 012 	 Temp     1.80 	 Delta  1076.77 	 OutFr   0.0000 	 RMSD     1.9478
Iter 013 	 Temp     1.67 	 Delta  1010.40 	 OutFr   0.0000 	 RMSD     1.9432
Iter 014 	 Temp     1.56 	 Delta   938.36 	 OutFr   0.0000 	 RMSD     1.9397
Iter 015 	 Temp     1.45 	 Delta   866.87 	 OutFr   0.0000 	 RMSD     1.9378
Iter 016 	 Temp     1.35 	 Delta   800.51 	 OutFr   0.0026 	 RMSD     1.9372
Iter 017 	 Temp     1.25 	 Delta   740.03 	 OutFr   0.0052 	 RMSD     1.9374
Iter 018 	 Temp     1.16 	 Delta   684.94 	 OutFr   0.0129 	 RMSD     1.9378
Iter 019 	 Temp     1.08 	 Delta   635.92 	 OutFr   0.0181 	 RMSD     1.9382
Iter 020 	 Temp     1.01 	 Delta   593.50 	 OutFr   0.0207 	 RMSD     1.9382
Iter 021 	 Temp     0.94 	 Delta   557.08 	 OutFr   0.0388 	 RMSD     1.9381
Iter 022 	 Temp     0.87 	 Delta   523.31 	 OutFr   0.0465 	 RMSD     1.9375
Iter 023 	 Temp     0.81 	 Delta   488.46 	 OutFr   0.0568 	 RMSD     1.9366
Iter 024 	 Temp     0.75 	 Delta   450.60 	 OutFr   0.0646 	 RMSD     1.9357
Iter 025 	 Temp     0.70 	 Delta   410.41 	 OutFr   0.0827 	 RMSD     1.9356
Iter 026 	 Temp     0.65 	 Delta   372.57 	 OutFr   0.1214 	 RMSD     1.9368
Iter 027 	 Temp     0.61 	 Delta   339.79 	 OutFr   0.1447 	 RMSD     1.9387
Iter 028 	 Temp     0.56 	 Delta   311.79 	 OutFr   0.1731 	 RMSD     1.9405
Iter 029 	 Temp     0.52 	 Delta   286.33 	 OutFr   0.1860 	 RMSD     1.9420
Iter 030 	 Temp     0.49 	 Delta   259.38 	 OutFr   0.2119 	 RMSD     1.9435
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.KVZQCaqX/mybin.nii.gz
+ vtklevelset /tmp/ashs.KVZQCaqX/mybin.nii.gz /tmp/ashs.KVZQCaqX/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.KVZQCaqX/mymesh.vtk /tmp/ashs.KVZQCaqX/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2810.67995482   1.01525161
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.KVZQCaqX/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.2272 to -11.7497
   Y : -17.1368 to 21.6613
   Z : -9.72104 to 27.3435
   Image resolution  : 94 by 141 by 135
   Image box origin  : {-39.2272, -22.1368, -14.721}
   Image box size    : {32.6389, 48.9583, 47.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.2272, 22.1368, -14.721]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat -o /tmp/ashs.KVZQCaqX/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat -o /tmp/ashs.KVZQCaqX/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.KVZQCaqX/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.640385 0.646154
+ echo 'CHUNK 0.640385 0.646154 0.5'
CHUNK 0.640385 0.646154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.640385 0.646154 0.5
====================================
         PROGRESS: 0.640385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.KVZQCaqX/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.KVZQCaqX/fixed_hw.nii.gz /tmp/ashs.KVZQCaqX/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.543725, moving = 0.393609
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.35551, 2.40701], [0.961632, 0.961632, 0.982659]
Level     0,  Iter     0:    Energy =   0.0383
Level     0,  Iter     1:    Energy =   0.0446
Level     0,  Iter     2:    Energy =   0.0509
Level     0,  Iter     3:    Energy =   0.0558
Level     0,  Iter     4:    Energy =   0.0604
Level     0,  Iter     5:    Energy =   0.0639
Level     0,  Iter     6:    Energy =   0.0668
Level     0,  Iter     7:    Energy =   0.0690
Level     0,  Iter     8:    Energy =   0.0709
Level     0,  Iter     9:    Energy =   0.0723
Level     0,  Iter    10:    Energy =   0.0730
Level     0,  Iter    11:    Energy =   0.0734
Level     0,  Iter    12:    Energy =   0.0736
Level     0,  Iter    13:    Energy =   0.0743
Level     0,  Iter    14:    Energy =   0.0743
Level     0,  Iter    15:    Energy =   0.0747
Level     0,  Iter    16:    Energy =   0.0746
Level     0,  Iter    17:    Energy =   0.0753
Level     0,  Iter    18:    Energy =   0.0752
Level     0,  Iter    19:    Energy =   0.0754
Level     0,  Iter    20:    Energy =   0.0753
Level     0,  Iter    21:    Energy =   0.0758
Level     0,  Iter    22:    Energy =   0.0757
Level     0,  Iter    23:    Energy =   0.0761
Level     0,  Iter    24:    Energy =   0.0760
Level     0,  Iter    25:    Energy =   0.0763
Level     0,  Iter    26:    Energy =   0.0762
Level     0,  Iter    27:    Energy =   0.0766
Level     0,  Iter    28:    Energy =   0.0764
Level     0,  Iter    29:    Energy =   0.0768
Level     0,  Iter    30:    Energy =   0.0766
Level     0,  Iter    31:    Energy =   0.0770
Level     0,  Iter    32:    Energy =   0.0769
Level     0,  Iter    33:    Energy =   0.0770
Level     0,  Iter    34:    Energy =   0.0769
Level     0,  Iter    35:    Energy =   0.0774
Level     0,  Iter    36:    Energy =   0.0772
Level     0,  Iter    37:    Energy =   0.0774
Level     0,  Iter    38:    Energy =   0.0773
Level     0,  Iter    39:    Energy =   0.0775
Level     0,  Iter    40:    Energy =   0.0774
Level     0,  Iter    41:    Energy =   0.0775
Level     0,  Iter    42:    Energy =   0.0774
Level     0,  Iter    43:    Energy =   0.0777
Level     0,  Iter    44:    Energy =   0.0776
Level     0,  Iter    45:    Energy =   0.0778
Level     0,  Iter    46:    Energy =   0.0777
Level     0,  Iter    47:    Energy =   0.0780
Level     0,  Iter    48:    Energy =   0.0779
Level     0,  Iter    49:    Energy =   0.0782
Level     0,  Iter    50:    Energy =   0.0780
Level     0,  Iter    51:    Energy =   0.0781
Level     0,  Iter    52:    Energy =   0.0780
Level     0,  Iter    53:    Energy =   0.0783
Level     0,  Iter    54:    Energy =   0.0782
Level     0,  Iter    55:    Energy =   0.0783
Level     0,  Iter    56:    Energy =   0.0781
Level     0,  Iter    57:    Energy =   0.0785
Level     0,  Iter    58:    Energy =   0.0783
Level     0,  Iter    59:    Energy =   0.0785
END OF LEVEL     0    DetJac Range:   0.1711  to   1.9494 
  Avg. Gradient Time  : 0.0078s  37.99% 
  Avg. Gaussian Time  : 0.0096s  46.60% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19434, 1.20351], [0.491046, 0.487588, 0.49133]
Level     1,  Iter     0:    Energy =   0.0571
Level     1,  Iter     1:    Energy =   0.0615
Level     1,  Iter     2:    Energy =   0.0651
Level     1,  Iter     3:    Energy =   0.0682
Level     1,  Iter     4:    Energy =   0.0704
Level     1,  Iter     5:    Energy =   0.0721
Level     1,  Iter     6:    Energy =   0.0731
Level     1,  Iter     7:    Energy =   0.0740
Level     1,  Iter     8:    Energy =   0.0749
Level     1,  Iter     9:    Energy =   0.0761
Level     1,  Iter    10:    Energy =   0.0772
Level     1,  Iter    11:    Energy =   0.0781
Level     1,  Iter    12:    Energy =   0.0789
Level     1,  Iter    13:    Energy =   0.0796
Level     1,  Iter    14:    Energy =   0.0802
Level     1,  Iter    15:    Energy =   0.0808
Level     1,  Iter    16:    Energy =   0.0814
Level     1,  Iter    17:    Energy =   0.0819
Level     1,  Iter    18:    Energy =   0.0822
Level     1,  Iter    19:    Energy =   0.0821
Level     1,  Iter    20:    Energy =   0.0825
Level     1,  Iter    21:    Energy =   0.0823
Level     1,  Iter    22:    Energy =   0.0828
Level     1,  Iter    23:    Energy =   0.0826
Level     1,  Iter    24:    Energy =   0.0830
Level     1,  Iter    25:    Energy =   0.0829
Level     1,  Iter    26:    Energy =   0.0832
Level     1,  Iter    27:    Energy =   0.0831
Level     1,  Iter    28:    Energy =   0.0833
Level     1,  Iter    29:    Energy =   0.0832
Level     1,  Iter    30:    Energy =   0.0834
Level     1,  Iter    31:    Energy =   0.0833
Level     1,  Iter    32:    Energy =   0.0835
Level     1,  Iter    33:    Energy =   0.0833
Level     1,  Iter    34:    Energy =   0.0836
Level     1,  Iter    35:    Energy =   0.0834
Level     1,  Iter    36:    Energy =   0.0837
Level     1,  Iter    37:    Energy =   0.0835
Level     1,  Iter    38:    Energy =   0.0838
Level     1,  Iter    39:    Energy =   0.0836
Level     1,  Iter    40:    Energy =   0.0838
Level     1,  Iter    41:    Energy =   0.0836
Level     1,  Iter    42:    Energy =   0.0838
Level     1,  Iter    43:    Energy =   0.0836
Level     1,  Iter    44:    Energy =   0.0838
Level     1,  Iter    45:    Energy =   0.0836
Level     1,  Iter    46:    Energy =   0.0838
Level     1,  Iter    47:    Energy =   0.0837
Level     1,  Iter    48:    Energy =   0.0838
Level     1,  Iter    49:    Energy =   0.0836
Level     1,  Iter    50:    Energy =   0.0839
Level     1,  Iter    51:    Energy =   0.0837
Level     1,  Iter    52:    Energy =   0.0839
Level     1,  Iter    53:    Energy =   0.0837
Level     1,  Iter    54:    Energy =   0.0839
Level     1,  Iter    55:    Energy =   0.0838
Level     1,  Iter    56:    Energy =   0.0838
Level     1,  Iter    57:    Energy =   0.0837
Level     1,  Iter    58:    Energy =   0.0839
Level     1,  Iter    59:    Energy =   0.0838
END OF LEVEL     1    DetJac Range:   0.1177  to   2.9439 
  Avg. Gradient Time  : 0.0459s  39.83% 
  Avg. Gaussian Time  : 0.0552s  47.93% 
  Avg. Iteration Time : 0.1153s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0463
Level     2,  Iter     1:    Energy =   0.0489
Level     2,  Iter     2:    Energy =   0.0509
Level     2,  Iter     3:    Energy =   0.0526
Level     2,  Iter     4:    Energy =   0.0539
Level     2,  Iter     5:    Energy =   0.0550
Level     2,  Iter     6:    Energy =   0.0559
Level     2,  Iter     7:    Energy =   0.0566
Level     2,  Iter     8:    Energy =   0.0571
Level     2,  Iter     9:    Energy =   0.0576
Level     2,  Iter    10:    Energy =   0.0580
Level     2,  Iter    11:    Energy =   0.0584
Level     2,  Iter    12:    Energy =   0.0587
Level     2,  Iter    13:    Energy =   0.0589
Level     2,  Iter    14:    Energy =   0.0591
Level     2,  Iter    15:    Energy =   0.0593
Level     2,  Iter    16:    Energy =   0.0594
Level     2,  Iter    17:    Energy =   0.0595
Level     2,  Iter    18:    Energy =   0.0597
Level     2,  Iter    19:    Energy =   0.0598
END OF LEVEL     2    DetJac Range:   0.0934  to   3.1572 
  Avg. Gradient Time  : 0.3219s  37.62% 
  Avg. Gaussian Time  : 0.4434s  51.83% 
  Avg. Iteration Time : 0.8555s 

real	0m28.617s
user	0m50.268s
sys	0m3.140s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.640385 0.646154
+ echo 'CHUNK 0.640385 0.646154 1'
CHUNK 0.640385 0.646154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.640385 0.646154 1
====================================
         PROGRESS: 0.640385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 008
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2104.15 	 OutFr   0.0000 	 RMSD     2.7232
Iter 002 	 Temp     3.72 	 Delta  1968.92 	 OutFr   0.0000 	 RMSD     2.4827
Iter 003 	 Temp     3.46 	 Delta  1841.15 	 OutFr   0.0000 	 RMSD     2.4971
Iter 004 	 Temp     3.22 	 Delta  1722.47 	 OutFr   0.0000 	 RMSD     2.4863
Iter 005 	 Temp     2.99 	 Delta  1612.57 	 OutFr   0.0000 	 RMSD     2.4693
Iter 006 	 Temp     2.78 	 Delta  1510.70 	 OutFr   0.0000 	 RMSD     2.4507
Iter 007 	 Temp     2.59 	 Delta  1414.52 	 OutFr   0.0026 	 RMSD     2.4331
Iter 008 	 Temp     2.41 	 Delta  1322.48 	 OutFr   0.0026 	 RMSD     2.4175
Iter 009 	 Temp     2.24 	 Delta  1235.52 	 OutFr   0.0026 	 RMSD     2.4039
Iter 010 	 Temp     2.08 	 Delta  1155.42 	 OutFr   0.0026 	 RMSD     2.3934
Iter 011 	 Temp     1.94 	 Delta  1083.16 	 OutFr   0.0103 	 RMSD     2.3850
Iter 012 	 Temp     1.80 	 Delta  1017.68 	 OutFr   0.0155 	 RMSD     2.3785
Iter 013 	 Temp     1.67 	 Delta   957.59 	 OutFr   0.0155 	 RMSD     2.3737
Iter 014 	 Temp     1.56 	 Delta   903.67 	 OutFr   0.0155 	 RMSD     2.3700
Iter 015 	 Temp     1.45 	 Delta   853.38 	 OutFr   0.0207 	 RMSD     2.3669
Iter 016 	 Temp     1.35 	 Delta   802.03 	 OutFr   0.0233 	 RMSD     2.3635
Iter 017 	 Temp     1.25 	 Delta   752.11 	 OutFr   0.0310 	 RMSD     2.3596
Iter 018 	 Temp     1.16 	 Delta   707.52 	 OutFr   0.0439 	 RMSD     2.3552
Iter 019 	 Temp     1.08 	 Delta   669.72 	 OutFr   0.0543 	 RMSD     2.3521
Iter 020 	 Temp     1.01 	 Delta   634.90 	 OutFr   0.0594 	 RMSD     2.3504
Iter 021 	 Temp     0.94 	 Delta   598.49 	 OutFr   0.0672 	 RMSD     2.3493
Iter 022 	 Temp     0.87 	 Delta   560.71 	 OutFr   0.0775 	 RMSD     2.3486
Iter 023 	 Temp     0.81 	 Delta   520.59 	 OutFr   0.0879 	 RMSD     2.3483
Iter 024 	 Temp     0.75 	 Delta   478.33 	 OutFr   0.1059 	 RMSD     2.3481
Iter 025 	 Temp     0.70 	 Delta   435.78 	 OutFr   0.1318 	 RMSD     2.3487
Iter 026 	 Temp     0.65 	 Delta   397.43 	 OutFr   0.1602 	 RMSD     2.3497
Iter 027 	 Temp     0.61 	 Delta   363.24 	 OutFr   0.1990 	 RMSD     2.3518
Iter 028 	 Temp     0.56 	 Delta   329.60 	 OutFr   0.2300 	 RMSD     2.3557
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.DLT40Sb4/mybin.nii.gz
+ vtklevelset /tmp/ashs.DLT40Sb4/mybin.nii.gz /tmp/ashs.DLT40Sb4/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.DLT40Sb4/mymesh.vtk /tmp/ashs.DLT40Sb4/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2840.51461469   1.02602825
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.DLT40Sb4/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.3113 to -9.98501
   Y : -19.0169 to 21.0336
   Z : -14.5833 to 21.292
   Image resolution  : 94 by 145 by 132
   Image box origin  : {-37.3113, -24.0169, -19.5833}
   Image box size    : {32.6389, 50.3472, 46.1995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.3113, 24.0169, -19.5833]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat -o /tmp/ashs.DLT40Sb4/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat -o /tmp/ashs.DLT40Sb4/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.DLT40Sb4/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.646154 0.651923
+ echo 'CHUNK 0.646154 0.651923 0.5'
CHUNK 0.646154 0.651923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.646154 0.651923 0.5
====================================
         PROGRESS: 0.646154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.DLT40Sb4/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.DLT40Sb4/fixed_hw.nii.gz /tmp/ashs.DLT40Sb4/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.547263, moving = 0.406964
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.35686, 2.42484], [0.961632, 0.962185, 0.989938]
Level     0,  Iter     0:    Energy =   0.0211
Level     0,  Iter     1:    Energy =   0.0265
Level     0,  Iter     2:    Energy =   0.0309
Level     0,  Iter     3:    Energy =   0.0353
Level     0,  Iter     4:    Energy =   0.0391
Level     0,  Iter     5:    Energy =   0.0426
Level     0,  Iter     6:    Energy =   0.0460
Level     0,  Iter     7:    Energy =   0.0492
Level     0,  Iter     8:    Energy =   0.0516
Level     0,  Iter     9:    Energy =   0.0534
Level     0,  Iter    10:    Energy =   0.0544
Level     0,  Iter    11:    Energy =   0.0559
Level     0,  Iter    12:    Energy =   0.0564
Level     0,  Iter    13:    Energy =   0.0575
Level     0,  Iter    14:    Energy =   0.0580
Level     0,  Iter    15:    Energy =   0.0588
Level     0,  Iter    16:    Energy =   0.0590
Level     0,  Iter    17:    Energy =   0.0598
Level     0,  Iter    18:    Energy =   0.0600
Level     0,  Iter    19:    Energy =   0.0607
Level     0,  Iter    20:    Energy =   0.0607
Level     0,  Iter    21:    Energy =   0.0617
Level     0,  Iter    22:    Energy =   0.0622
Level     0,  Iter    23:    Energy =   0.0625
Level     0,  Iter    24:    Energy =   0.0624
Level     0,  Iter    25:    Energy =   0.0630
Level     0,  Iter    26:    Energy =   0.0636
Level     0,  Iter    27:    Energy =   0.0637
Level     0,  Iter    28:    Energy =   0.0635
Level     0,  Iter    29:    Energy =   0.0640
Level     0,  Iter    30:    Energy =   0.0645
Level     0,  Iter    31:    Energy =   0.0646
Level     0,  Iter    32:    Energy =   0.0644
Level     0,  Iter    33:    Energy =   0.0648
Level     0,  Iter    34:    Energy =   0.0652
Level     0,  Iter    35:    Energy =   0.0650
Level     0,  Iter    36:    Energy =   0.0647
Level     0,  Iter    37:    Energy =   0.0652
Level     0,  Iter    38:    Energy =   0.0656
Level     0,  Iter    39:    Energy =   0.0654
Level     0,  Iter    40:    Energy =   0.0650
Level     0,  Iter    41:    Energy =   0.0655
Level     0,  Iter    42:    Energy =   0.0659
Level     0,  Iter    43:    Energy =   0.0657
Level     0,  Iter    44:    Energy =   0.0654
Level     0,  Iter    45:    Energy =   0.0659
Level     0,  Iter    46:    Energy =   0.0663
Level     0,  Iter    47:    Energy =   0.0661
Level     0,  Iter    48:    Energy =   0.0658
Level     0,  Iter    49:    Energy =   0.0663
Level     0,  Iter    50:    Energy =   0.0667
Level     0,  Iter    51:    Energy =   0.0668
Level     0,  Iter    52:    Energy =   0.0664
Level     0,  Iter    53:    Energy =   0.0667
Level     0,  Iter    54:    Energy =   0.0663
Level     0,  Iter    55:    Energy =   0.0666
Level     0,  Iter    56:    Energy =   0.0663
Level     0,  Iter    57:    Energy =   0.0667
Level     0,  Iter    58:    Energy =   0.0663
Level     0,  Iter    59:    Energy =   0.0667
END OF LEVEL     0    DetJac Range:   0.1999  to   2.3559 
  Avg. Gradient Time  : 0.0080s  37.94% 
  Avg. Gaussian Time  : 0.0098s  46.63% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19457, 1.21242], [0.491046, 0.487683, 0.494969]
Level     1,  Iter     0:    Energy =   0.0442
Level     1,  Iter     1:    Energy =   0.0474
Level     1,  Iter     2:    Energy =   0.0501
Level     1,  Iter     3:    Energy =   0.0523
Level     1,  Iter     4:    Energy =   0.0540
Level     1,  Iter     5:    Energy =   0.0556
Level     1,  Iter     6:    Energy =   0.0570
Level     1,  Iter     7:    Energy =   0.0580
Level     1,  Iter     8:    Energy =   0.0589
Level     1,  Iter     9:    Energy =   0.0596
Level     1,  Iter    10:    Energy =   0.0604
Level     1,  Iter    11:    Energy =   0.0612
Level     1,  Iter    12:    Energy =   0.0620
Level     1,  Iter    13:    Energy =   0.0628
Level     1,  Iter    14:    Energy =   0.0635
Level     1,  Iter    15:    Energy =   0.0640
Level     1,  Iter    16:    Energy =   0.0645
Level     1,  Iter    17:    Energy =   0.0650
Level     1,  Iter    18:    Energy =   0.0654
Level     1,  Iter    19:    Energy =   0.0656
Level     1,  Iter    20:    Energy =   0.0658
Level     1,  Iter    21:    Energy =   0.0661
Level     1,  Iter    22:    Energy =   0.0663
Level     1,  Iter    23:    Energy =   0.0662
Level     1,  Iter    24:    Energy =   0.0665
Level     1,  Iter    25:    Energy =   0.0665
Level     1,  Iter    26:    Energy =   0.0667
Level     1,  Iter    27:    Energy =   0.0667
Level     1,  Iter    28:    Energy =   0.0669
Level     1,  Iter    29:    Energy =   0.0669
Level     1,  Iter    30:    Energy =   0.0671
Level     1,  Iter    31:    Energy =   0.0671
Level     1,  Iter    32:    Energy =   0.0672
Level     1,  Iter    33:    Energy =   0.0673
Level     1,  Iter    34:    Energy =   0.0675
Level     1,  Iter    35:    Energy =   0.0675
Level     1,  Iter    36:    Energy =   0.0677
Level     1,  Iter    37:    Energy =   0.0677
Level     1,  Iter    38:    Energy =   0.0678
Level     1,  Iter    39:    Energy =   0.0678
Level     1,  Iter    40:    Energy =   0.0679
Level     1,  Iter    41:    Energy =   0.0680
Level     1,  Iter    42:    Energy =   0.0681
Level     1,  Iter    43:    Energy =   0.0681
Level     1,  Iter    44:    Energy =   0.0682
Level     1,  Iter    45:    Energy =   0.0682
Level     1,  Iter    46:    Energy =   0.0682
Level     1,  Iter    47:    Energy =   0.0683
Level     1,  Iter    48:    Energy =   0.0683
Level     1,  Iter    49:    Energy =   0.0683
Level     1,  Iter    50:    Energy =   0.0684
Level     1,  Iter    51:    Energy =   0.0684
Level     1,  Iter    52:    Energy =   0.0684
Level     1,  Iter    53:    Energy =   0.0685
Level     1,  Iter    54:    Energy =   0.0685
Level     1,  Iter    55:    Energy =   0.0685
Level     1,  Iter    56:    Energy =   0.0686
Level     1,  Iter    57:    Energy =   0.0685
Level     1,  Iter    58:    Energy =   0.0686
Level     1,  Iter    59:    Energy =   0.0686
END OF LEVEL     1    DetJac Range:   0.0894  to   3.4348 
  Avg. Gradient Time  : 0.0451s  39.83% 
  Avg. Gaussian Time  : 0.0543s  47.97% 
  Avg. Iteration Time : 0.1133s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0353
Level     2,  Iter     1:    Energy =   0.0366
Level     2,  Iter     2:    Energy =   0.0377
Level     2,  Iter     3:    Energy =   0.0388
Level     2,  Iter     4:    Energy =   0.0398
Level     2,  Iter     5:    Energy =   0.0408
Level     2,  Iter     6:    Energy =   0.0420
Level     2,  Iter     7:    Energy =   0.0431
Level     2,  Iter     8:    Energy =   0.0441
Level     2,  Iter     9:    Energy =   0.0451
Level     2,  Iter    10:    Energy =   0.0461
Level     2,  Iter    11:    Energy =   0.0469
Level     2,  Iter    12:    Energy =   0.0476
Level     2,  Iter    13:    Energy =   0.0483
Level     2,  Iter    14:    Energy =   0.0488
Level     2,  Iter    15:    Energy =   0.0494
Level     2,  Iter    16:    Energy =   0.0498
Level     2,  Iter    17:    Energy =   0.0501
Level     2,  Iter    18:    Energy =   0.0505
Level     2,  Iter    19:    Energy =   0.0509
END OF LEVEL     2    DetJac Range:   0.0439  to   4.4816 
  Avg. Gradient Time  : 0.3170s  37.14% 
  Avg. Gaussian Time  : 0.4450s  52.13% 
  Avg. Iteration Time : 0.8535s 

real	0m28.525s
user	0m50.252s
sys	0m2.996s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.646154 0.651923
+ echo 'CHUNK 0.646154 0.651923 1'
CHUNK 0.646154 0.651923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.646154 0.651923 1
====================================
         PROGRESS: 0.646154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 009
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2814.97 	 OutFr   0.0000 	 RMSD     3.1684
Iter 002 	 Temp     3.72 	 Delta  2667.75 	 OutFr   0.0000 	 RMSD     2.2078
Iter 003 	 Temp     3.46 	 Delta  2496.18 	 OutFr   0.0000 	 RMSD     2.2213
Iter 004 	 Temp     3.22 	 Delta  2320.53 	 OutFr   0.0000 	 RMSD     2.2132
Iter 005 	 Temp     2.99 	 Delta  2152.67 	 OutFr   0.0000 	 RMSD     2.1974
Iter 006 	 Temp     2.78 	 Delta  1995.87 	 OutFr   0.0000 	 RMSD     2.1798
Iter 007 	 Temp     2.59 	 Delta  1849.41 	 OutFr   0.0000 	 RMSD     2.1629
Iter 008 	 Temp     2.41 	 Delta  1711.11 	 OutFr   0.0000 	 RMSD     2.1473
Iter 009 	 Temp     2.24 	 Delta  1578.27 	 OutFr   0.0000 	 RMSD     2.1338
Iter 010 	 Temp     2.08 	 Delta  1448.44 	 OutFr   0.0000 	 RMSD     2.1230
Iter 011 	 Temp     1.94 	 Delta  1321.53 	 OutFr   0.0000 	 RMSD     2.1128
Iter 012 	 Temp     1.80 	 Delta  1201.23 	 OutFr   0.0026 	 RMSD     2.1019
Iter 013 	 Temp     1.67 	 Delta  1092.09 	 OutFr   0.0026 	 RMSD     2.0935
Iter 014 	 Temp     1.56 	 Delta   995.37 	 OutFr   0.0078 	 RMSD     2.0870
Iter 015 	 Temp     1.45 	 Delta   911.02 	 OutFr   0.0103 	 RMSD     2.0823
Iter 016 	 Temp     1.35 	 Delta   839.03 	 OutFr   0.0129 	 RMSD     2.0789
Iter 017 	 Temp     1.25 	 Delta   778.11 	 OutFr   0.0155 	 RMSD     2.0771
Iter 018 	 Temp     1.16 	 Delta   725.61 	 OutFr   0.0181 	 RMSD     2.0764
Iter 019 	 Temp     1.08 	 Delta   678.70 	 OutFr   0.0258 	 RMSD     2.0757
Iter 020 	 Temp     1.01 	 Delta   635.06 	 OutFr   0.0413 	 RMSD     2.0757
Iter 021 	 Temp     0.94 	 Delta   593.81 	 OutFr   0.0439 	 RMSD     2.0761
Iter 022 	 Temp     0.87 	 Delta   554.66 	 OutFr   0.0672 	 RMSD     2.0764
Iter 023 	 Temp     0.81 	 Delta   516.78 	 OutFr   0.0801 	 RMSD     2.0765
Iter 024 	 Temp     0.75 	 Delta   480.70 	 OutFr   0.0904 	 RMSD     2.0765
Iter 025 	 Temp     0.70 	 Delta   447.00 	 OutFr   0.1034 	 RMSD     2.0759
Iter 026 	 Temp     0.65 	 Delta   414.47 	 OutFr   0.1292 	 RMSD     2.0752
Iter 027 	 Temp     0.61 	 Delta   381.56 	 OutFr   0.1370 	 RMSD     2.0743
Iter 028 	 Temp     0.56 	 Delta   347.12 	 OutFr   0.1499 	 RMSD     2.0738
Iter 029 	 Temp     0.52 	 Delta   310.73 	 OutFr   0.1757 	 RMSD     2.0747
Iter 030 	 Temp     0.49 	 Delta   273.55 	 OutFr   0.2067 	 RMSD     2.0777
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.g65ZLf7H/mybin.nii.gz
+ vtklevelset /tmp/ashs.g65ZLf7H/mybin.nii.gz /tmp/ashs.g65ZLf7H/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.g65ZLf7H/mymesh.vtk /tmp/ashs.g65ZLf7H/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2864.64587489   1.03474476
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.g65ZLf7H/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.1938 to -8.15307
   Y : -15.2315 to 28.4103
   Z : -11.2482 to 22.5231
   Image resolution  : 93 by 155 by 126
   Image box origin  : {-35.1938, -20.2315, -16.2482}
   Image box size    : {32.2916, 53.8194, 44.0995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.1938, 20.2315, -16.2482]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat -o /tmp/ashs.g65ZLf7H/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat -o /tmp/ashs.g65ZLf7H/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.g65ZLf7H/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.651923 0.657692
+ echo 'CHUNK 0.651923 0.657692 0.5'
CHUNK 0.651923 0.657692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.651923 0.657692 0.5
====================================
         PROGRESS: 0.651923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.g65ZLf7H/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.g65ZLf7H/fixed_hw.nii.gz /tmp/ashs.g65ZLf7H/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.539389, moving = 0.69311
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.3902, 2.38696], [0.951402, 0.975797, 0.97447]
Level     0,  Iter     0:    Energy =   0.0493
Level     0,  Iter     1:    Energy =   0.0564
Level     0,  Iter     2:    Energy =   0.0642
Level     0,  Iter     3:    Energy =   0.0704
Level     0,  Iter     4:    Energy =   0.0739
Level     0,  Iter     5:    Energy =   0.0762
Level     0,  Iter     6:    Energy =   0.0786
Level     0,  Iter     7:    Energy =   0.0812
Level     0,  Iter     8:    Energy =   0.0840
Level     0,  Iter     9:    Energy =   0.0859
Level     0,  Iter    10:    Energy =   0.0874
Level     0,  Iter    11:    Energy =   0.0885
Level     0,  Iter    12:    Energy =   0.0894
Level     0,  Iter    13:    Energy =   0.0897
Level     0,  Iter    14:    Energy =   0.0904
Level     0,  Iter    15:    Energy =   0.0903
Level     0,  Iter    16:    Energy =   0.0909
Level     0,  Iter    17:    Energy =   0.0907
Level     0,  Iter    18:    Energy =   0.0911
Level     0,  Iter    19:    Energy =   0.0909
Level     0,  Iter    20:    Energy =   0.0914
Level     0,  Iter    21:    Energy =   0.0910
Level     0,  Iter    22:    Energy =   0.0916
Level     0,  Iter    23:    Energy =   0.0912
Level     0,  Iter    24:    Energy =   0.0918
Level     0,  Iter    25:    Energy =   0.0914
Level     0,  Iter    26:    Energy =   0.0920
Level     0,  Iter    27:    Energy =   0.0916
Level     0,  Iter    28:    Energy =   0.0923
Level     0,  Iter    29:    Energy =   0.0918
Level     0,  Iter    30:    Energy =   0.0925
Level     0,  Iter    31:    Energy =   0.0919
Level     0,  Iter    32:    Energy =   0.0927
Level     0,  Iter    33:    Energy =   0.0921
Level     0,  Iter    34:    Energy =   0.0929
Level     0,  Iter    35:    Energy =   0.0923
Level     0,  Iter    36:    Energy =   0.0929
Level     0,  Iter    37:    Energy =   0.0923
Level     0,  Iter    38:    Energy =   0.0931
Level     0,  Iter    39:    Energy =   0.0924
Level     0,  Iter    40:    Energy =   0.0930
Level     0,  Iter    41:    Energy =   0.0924
Level     0,  Iter    42:    Energy =   0.0931
Level     0,  Iter    43:    Energy =   0.0924
Level     0,  Iter    44:    Energy =   0.0931
Level     0,  Iter    45:    Energy =   0.0925
Level     0,  Iter    46:    Energy =   0.0933
Level     0,  Iter    47:    Energy =   0.0926
Level     0,  Iter    48:    Energy =   0.0935
Level     0,  Iter    49:    Energy =   0.0935
Level     0,  Iter    50:    Energy =   0.0939
Level     0,  Iter    51:    Energy =   0.0933
Level     0,  Iter    52:    Energy =   0.0940
Level     0,  Iter    53:    Energy =   0.0942
Level     0,  Iter    54:    Energy =   0.0945
Level     0,  Iter    55:    Energy =   0.0934
Level     0,  Iter    56:    Energy =   0.0942
Level     0,  Iter    57:    Energy =   0.0944
Level     0,  Iter    58:    Energy =   0.0946
Level     0,  Iter    59:    Energy =   0.0938
END OF LEVEL     0    DetJac Range:   0.3884  to   2.2067 
  Avg. Gradient Time  : 0.0079s  38.07% 
  Avg. Gaussian Time  : 0.0097s  46.72% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.1951, 1.21242], [0.485822, 0.487898, 0.494969]
Level     1,  Iter     0:    Energy =   0.0628
Level     1,  Iter     1:    Energy =   0.0673
Level     1,  Iter     2:    Energy =   0.0708
Level     1,  Iter     3:    Energy =   0.0737
Level     1,  Iter     4:    Energy =   0.0763
Level     1,  Iter     5:    Energy =   0.0782
Level     1,  Iter     6:    Energy =   0.0796
Level     1,  Iter     7:    Energy =   0.0808
Level     1,  Iter     8:    Energy =   0.0819
Level     1,  Iter     9:    Energy =   0.0830
Level     1,  Iter    10:    Energy =   0.0839
Level     1,  Iter    11:    Energy =   0.0840
Level     1,  Iter    12:    Energy =   0.0850
Level     1,  Iter    13:    Energy =   0.0854
Level     1,  Iter    14:    Energy =   0.0856
Level     1,  Iter    15:    Energy =   0.0855
Level     1,  Iter    16:    Energy =   0.0862
Level     1,  Iter    17:    Energy =   0.0861
Level     1,  Iter    18:    Energy =   0.0865
Level     1,  Iter    19:    Energy =   0.0862
Level     1,  Iter    20:    Energy =   0.0869
Level     1,  Iter    21:    Energy =   0.0867
Level     1,  Iter    22:    Energy =   0.0871
Level     1,  Iter    23:    Energy =   0.0868
Level     1,  Iter    24:    Energy =   0.0874
Level     1,  Iter    25:    Energy =   0.0871
Level     1,  Iter    26:    Energy =   0.0875
Level     1,  Iter    27:    Energy =   0.0872
Level     1,  Iter    28:    Energy =   0.0878
Level     1,  Iter    29:    Energy =   0.0875
Level     1,  Iter    30:    Energy =   0.0878
Level     1,  Iter    31:    Energy =   0.0874
Level     1,  Iter    32:    Energy =   0.0880
Level     1,  Iter    33:    Energy =   0.0877
Level     1,  Iter    34:    Energy =   0.0880
Level     1,  Iter    35:    Energy =   0.0876
Level     1,  Iter    36:    Energy =   0.0881
Level     1,  Iter    37:    Energy =   0.0878
Level     1,  Iter    38:    Energy =   0.0882
Level     1,  Iter    39:    Energy =   0.0877
Level     1,  Iter    40:    Energy =   0.0883
Level     1,  Iter    41:    Energy =   0.0879
Level     1,  Iter    42:    Energy =   0.0883
Level     1,  Iter    43:    Energy =   0.0878
Level     1,  Iter    44:    Energy =   0.0884
Level     1,  Iter    45:    Energy =   0.0880
Level     1,  Iter    46:    Energy =   0.0883
Level     1,  Iter    47:    Energy =   0.0879
Level     1,  Iter    48:    Energy =   0.0884
Level     1,  Iter    49:    Energy =   0.0881
Level     1,  Iter    50:    Energy =   0.0884
Level     1,  Iter    51:    Energy =   0.0880
Level     1,  Iter    52:    Energy =   0.0885
Level     1,  Iter    53:    Energy =   0.0881
Level     1,  Iter    54:    Energy =   0.0885
Level     1,  Iter    55:    Energy =   0.0880
Level     1,  Iter    56:    Energy =   0.0885
Level     1,  Iter    57:    Energy =   0.0882
Level     1,  Iter    58:    Energy =   0.0885
Level     1,  Iter    59:    Energy =   0.0880
END OF LEVEL     1    DetJac Range:   0.1802  to   3.6243 
  Avg. Gradient Time  : 0.0463s  39.92% 
  Avg. Gaussian Time  : 0.0555s  47.90% 
  Avg. Iteration Time : 0.1159s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0471
Level     2,  Iter     1:    Energy =   0.0498
Level     2,  Iter     2:    Energy =   0.0519
Level     2,  Iter     3:    Energy =   0.0536
Level     2,  Iter     4:    Energy =   0.0550
Level     2,  Iter     5:    Energy =   0.0563
Level     2,  Iter     6:    Energy =   0.0573
Level     2,  Iter     7:    Energy =   0.0584
Level     2,  Iter     8:    Energy =   0.0596
Level     2,  Iter     9:    Energy =   0.0609
Level     2,  Iter    10:    Energy =   0.0620
Level     2,  Iter    11:    Energy =   0.0629
Level     2,  Iter    12:    Energy =   0.0636
Level     2,  Iter    13:    Energy =   0.0641
Level     2,  Iter    14:    Energy =   0.0646
Level     2,  Iter    15:    Energy =   0.0648
Level     2,  Iter    16:    Energy =   0.0650
Level     2,  Iter    17:    Energy =   0.0651
Level     2,  Iter    18:    Energy =   0.0654
Level     2,  Iter    19:    Energy =   0.0658
END OF LEVEL     2    DetJac Range:   0.0859  to   5.2427 
  Avg. Gradient Time  : 0.3215s  37.52% 
  Avg. Gaussian Time  : 0.4438s  51.80% 
  Avg. Iteration Time : 0.8568s 

real	0m28.828s
user	0m50.564s
sys	0m2.972s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.651923 0.657692
+ echo 'CHUNK 0.651923 0.657692 1'
CHUNK 0.651923 0.657692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.651923 0.657692 1
====================================
         PROGRESS: 0.651923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 010
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1822.01 	 OutFr   0.0000 	 RMSD     2.3094
Iter 002 	 Temp     3.72 	 Delta  1775.23 	 OutFr   0.0000 	 RMSD     2.2155
Iter 003 	 Temp     3.46 	 Delta  1666.87 	 OutFr   0.0000 	 RMSD     2.1834
Iter 004 	 Temp     3.22 	 Delta  1563.21 	 OutFr   0.0000 	 RMSD     2.1515
Iter 005 	 Temp     2.99 	 Delta  1469.02 	 OutFr   0.0000 	 RMSD     2.1259
Iter 006 	 Temp     2.78 	 Delta  1383.33 	 OutFr   0.0000 	 RMSD     2.1064
Iter 007 	 Temp     2.59 	 Delta  1305.19 	 OutFr   0.0000 	 RMSD     2.0916
Iter 008 	 Temp     2.41 	 Delta  1235.16 	 OutFr   0.0052 	 RMSD     2.0805
Iter 009 	 Temp     2.24 	 Delta  1172.79 	 OutFr   0.0052 	 RMSD     2.0716
Iter 010 	 Temp     2.08 	 Delta  1113.81 	 OutFr   0.0052 	 RMSD     2.0637
Iter 011 	 Temp     1.94 	 Delta  1054.89 	 OutFr   0.0052 	 RMSD     2.0574
Iter 012 	 Temp     1.80 	 Delta   995.52 	 OutFr   0.0078 	 RMSD     2.0522
Iter 013 	 Temp     1.67 	 Delta   936.20 	 OutFr   0.0078 	 RMSD     2.0479
Iter 014 	 Temp     1.56 	 Delta   877.67 	 OutFr   0.0103 	 RMSD     2.0440
Iter 015 	 Temp     1.45 	 Delta   820.57 	 OutFr   0.0155 	 RMSD     2.0402
Iter 016 	 Temp     1.35 	 Delta   765.75 	 OutFr   0.0233 	 RMSD     2.0362
Iter 017 	 Temp     1.25 	 Delta   713.22 	 OutFr   0.0258 	 RMSD     2.0322
Iter 018 	 Temp     1.16 	 Delta   663.22 	 OutFr   0.0336 	 RMSD     2.0282
Iter 019 	 Temp     1.08 	 Delta   619.06 	 OutFr   0.0465 	 RMSD     2.0246
Iter 020 	 Temp     1.01 	 Delta   583.36 	 OutFr   0.0517 	 RMSD     2.0219
Iter 021 	 Temp     0.94 	 Delta   553.11 	 OutFr   0.0517 	 RMSD     2.0202
Iter 022 	 Temp     0.87 	 Delta   523.48 	 OutFr   0.0594 	 RMSD     2.0193
Iter 023 	 Temp     0.81 	 Delta   491.89 	 OutFr   0.0594 	 RMSD     2.0184
Iter 024 	 Temp     0.75 	 Delta   458.73 	 OutFr   0.0724 	 RMSD     2.0179
Iter 025 	 Temp     0.70 	 Delta   424.67 	 OutFr   0.0930 	 RMSD     2.0173
Iter 026 	 Temp     0.65 	 Delta   390.32 	 OutFr   0.1034 	 RMSD     2.0166
Iter 027 	 Temp     0.61 	 Delta   355.41 	 OutFr   0.1370 	 RMSD     2.0156
Iter 028 	 Temp     0.56 	 Delta   321.13 	 OutFr   0.1550 	 RMSD     2.0141
Iter 029 	 Temp     0.52 	 Delta   290.19 	 OutFr   0.1783 	 RMSD     2.0129
Iter 030 	 Temp     0.49 	 Delta   260.61 	 OutFr   0.2041 	 RMSD     2.0116
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.dRHQ26Yh/mybin.nii.gz
+ vtklevelset /tmp/ashs.dRHQ26Yh/mybin.nii.gz /tmp/ashs.dRHQ26Yh/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.dRHQ26Yh/mymesh.vtk /tmp/ashs.dRHQ26Yh/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2932.05146385   1.05909247
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.dRHQ26Yh/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.5672 to -9.42552
   Y : -16.3019 to 23.7352
   Z : -4.60827 to 33.2092
   Image resolution  : 96 by 145 by 137
   Image box origin  : {-37.5672, -21.3019, -9.60827}
   Image box size    : {33.3333, 50.3472, 47.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.5672, 21.3019, -9.60827]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat -o /tmp/ashs.dRHQ26Yh/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat -o /tmp/ashs.dRHQ26Yh/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.dRHQ26Yh/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.657692 0.663462
+ echo 'CHUNK 0.657692 0.663462 0.5'
CHUNK 0.657692 0.663462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.657692 0.663462 0.5
====================================
         PROGRESS: 0.657692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.dRHQ26Yh/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.dRHQ26Yh/fixed_hw.nii.gz /tmp/ashs.dRHQ26Yh/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.533565, moving = 0.45261
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.35686, 2.37288], [0.982092, 0.962185, 0.968725]
Level     0,  Iter     0:    Energy =   0.0437
Level     0,  Iter     1:    Energy =   0.0500
Level     0,  Iter     2:    Energy =   0.0556
Level     0,  Iter     3:    Energy =   0.0604
Level     0,  Iter     4:    Energy =   0.0645
Level     0,  Iter     5:    Energy =   0.0685
Level     0,  Iter     6:    Energy =   0.0718
Level     0,  Iter     7:    Energy =   0.0741
Level     0,  Iter     8:    Energy =   0.0760
Level     0,  Iter     9:    Energy =   0.0772
Level     0,  Iter    10:    Energy =   0.0781
Level     0,  Iter    11:    Energy =   0.0785
Level     0,  Iter    12:    Energy =   0.0790
Level     0,  Iter    13:    Energy =   0.0794
Level     0,  Iter    14:    Energy =   0.0797
Level     0,  Iter    15:    Energy =   0.0801
Level     0,  Iter    16:    Energy =   0.0803
Level     0,  Iter    17:    Energy =   0.0807
Level     0,  Iter    18:    Energy =   0.0809
Level     0,  Iter    19:    Energy =   0.0812
Level     0,  Iter    20:    Energy =   0.0813
Level     0,  Iter    21:    Energy =   0.0817
Level     0,  Iter    22:    Energy =   0.0817
Level     0,  Iter    23:    Energy =   0.0820
Level     0,  Iter    24:    Energy =   0.0820
Level     0,  Iter    25:    Energy =   0.0827
Level     0,  Iter    26:    Energy =   0.0827
Level     0,  Iter    27:    Energy =   0.0828
Level     0,  Iter    28:    Energy =   0.0828
Level     0,  Iter    29:    Energy =   0.0830
Level     0,  Iter    30:    Energy =   0.0830
Level     0,  Iter    31:    Energy =   0.0835
Level     0,  Iter    32:    Energy =   0.0833
Level     0,  Iter    33:    Energy =   0.0835
Level     0,  Iter    34:    Energy =   0.0835
Level     0,  Iter    35:    Energy =   0.0839
Level     0,  Iter    36:    Energy =   0.0838
Level     0,  Iter    37:    Energy =   0.0840
Level     0,  Iter    38:    Energy =   0.0839
Level     0,  Iter    39:    Energy =   0.0843
Level     0,  Iter    40:    Energy =   0.0842
Level     0,  Iter    41:    Energy =   0.0844
Level     0,  Iter    42:    Energy =   0.0843
Level     0,  Iter    43:    Energy =   0.0846
Level     0,  Iter    44:    Energy =   0.0845
Level     0,  Iter    45:    Energy =   0.0847
Level     0,  Iter    46:    Energy =   0.0846
Level     0,  Iter    47:    Energy =   0.0849
Level     0,  Iter    48:    Energy =   0.0848
Level     0,  Iter    49:    Energy =   0.0848
Level     0,  Iter    50:    Energy =   0.0847
Level     0,  Iter    51:    Energy =   0.0850
Level     0,  Iter    52:    Energy =   0.0849
Level     0,  Iter    53:    Energy =   0.0850
Level     0,  Iter    54:    Energy =   0.0849
Level     0,  Iter    55:    Energy =   0.0852
Level     0,  Iter    56:    Energy =   0.0851
Level     0,  Iter    57:    Energy =   0.0851
Level     0,  Iter    58:    Energy =   0.0850
Level     0,  Iter    59:    Energy =   0.0851
END OF LEVEL     0    DetJac Range:   0.2395  to   2.4223 
  Avg. Gradient Time  : 0.0084s  37.96% 
  Avg. Gaussian Time  : 0.0102s  46.36% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19457, 1.20364], [0.491046, 0.487683, 0.491382]
Level     1,  Iter     0:    Energy =   0.0551
Level     1,  Iter     1:    Energy =   0.0588
Level     1,  Iter     2:    Energy =   0.0618
Level     1,  Iter     3:    Energy =   0.0649
Level     1,  Iter     4:    Energy =   0.0674
Level     1,  Iter     5:    Energy =   0.0693
Level     1,  Iter     6:    Energy =   0.0712
Level     1,  Iter     7:    Energy =   0.0727
Level     1,  Iter     8:    Energy =   0.0738
Level     1,  Iter     9:    Energy =   0.0747
Level     1,  Iter    10:    Energy =   0.0756
Level     1,  Iter    11:    Energy =   0.0765
Level     1,  Iter    12:    Energy =   0.0772
Level     1,  Iter    13:    Energy =   0.0779
Level     1,  Iter    14:    Energy =   0.0785
Level     1,  Iter    15:    Energy =   0.0785
Level     1,  Iter    16:    Energy =   0.0787
Level     1,  Iter    17:    Energy =   0.0787
Level     1,  Iter    18:    Energy =   0.0789
Level     1,  Iter    19:    Energy =   0.0790
Level     1,  Iter    20:    Energy =   0.0789
Level     1,  Iter    21:    Energy =   0.0794
Level     1,  Iter    22:    Energy =   0.0795
Level     1,  Iter    23:    Energy =   0.0797
Level     1,  Iter    24:    Energy =   0.0796
Level     1,  Iter    25:    Energy =   0.0798
Level     1,  Iter    26:    Energy =   0.0800
Level     1,  Iter    27:    Energy =   0.0800
Level     1,  Iter    28:    Energy =   0.0799
Level     1,  Iter    29:    Energy =   0.0800
Level     1,  Iter    30:    Energy =   0.0801
Level     1,  Iter    31:    Energy =   0.0803
Level     1,  Iter    32:    Energy =   0.0802
Level     1,  Iter    33:    Energy =   0.0804
Level     1,  Iter    34:    Energy =   0.0804
Level     1,  Iter    35:    Energy =   0.0805
Level     1,  Iter    36:    Energy =   0.0805
Level     1,  Iter    37:    Energy =   0.0807
Level     1,  Iter    38:    Energy =   0.0806
Level     1,  Iter    39:    Energy =   0.0808
Level     1,  Iter    40:    Energy =   0.0806
Level     1,  Iter    41:    Energy =   0.0809
Level     1,  Iter    42:    Energy =   0.0809
Level     1,  Iter    43:    Energy =   0.0810
Level     1,  Iter    44:    Energy =   0.0808
Level     1,  Iter    45:    Energy =   0.0810
Level     1,  Iter    46:    Energy =   0.0809
Level     1,  Iter    47:    Energy =   0.0811
Level     1,  Iter    48:    Energy =   0.0809
Level     1,  Iter    49:    Energy =   0.0811
Level     1,  Iter    50:    Energy =   0.0809
Level     1,  Iter    51:    Energy =   0.0811
Level     1,  Iter    52:    Energy =   0.0809
Level     1,  Iter    53:    Energy =   0.0811
Level     1,  Iter    54:    Energy =   0.0810
Level     1,  Iter    55:    Energy =   0.0812
Level     1,  Iter    56:    Energy =   0.0810
Level     1,  Iter    57:    Energy =   0.0813
Level     1,  Iter    58:    Energy =   0.0811
Level     1,  Iter    59:    Energy =   0.0813
END OF LEVEL     1    DetJac Range:   0.1209  to   3.7745 
  Avg. Gradient Time  : 0.0492s  40.40% 
  Avg. Gaussian Time  : 0.0577s  47.36% 
  Avg. Iteration Time : 0.1219s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0428
Level     2,  Iter     1:    Energy =   0.0448
Level     2,  Iter     2:    Energy =   0.0465
Level     2,  Iter     3:    Energy =   0.0479
Level     2,  Iter     4:    Energy =   0.0495
Level     2,  Iter     5:    Energy =   0.0508
Level     2,  Iter     6:    Energy =   0.0520
Level     2,  Iter     7:    Energy =   0.0532
Level     2,  Iter     8:    Energy =   0.0544
Level     2,  Iter     9:    Energy =   0.0553
Level     2,  Iter    10:    Energy =   0.0560
Level     2,  Iter    11:    Energy =   0.0566
Level     2,  Iter    12:    Energy =   0.0571
Level     2,  Iter    13:    Energy =   0.0576
Level     2,  Iter    14:    Energy =   0.0580
Level     2,  Iter    15:    Energy =   0.0583
Level     2,  Iter    16:    Energy =   0.0586
Level     2,  Iter    17:    Energy =   0.0589
Level     2,  Iter    18:    Energy =   0.0591
Level     2,  Iter    19:    Energy =   0.0593
END OF LEVEL     2    DetJac Range:   0.0696  to   5.3357 
  Avg. Gradient Time  : 0.3404s  37.64% 
  Avg. Gaussian Time  : 0.4674s  51.67% 
  Avg. Iteration Time : 0.9046s 

real	0m30.326s
user	0m53.140s
sys	0m3.292s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.657692 0.663462
+ echo 'CHUNK 0.657692 0.663462 1'
CHUNK 0.657692 0.663462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.657692 0.663462 1
====================================
         PROGRESS: 0.657692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 011
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  3049.74 	 OutFr   0.0000 	 RMSD     3.1150
Iter 002 	 Temp     3.72 	 Delta  2765.10 	 OutFr   0.0000 	 RMSD     2.6433
Iter 003 	 Temp     3.46 	 Delta  2436.51 	 OutFr   0.0000 	 RMSD     2.6192
Iter 004 	 Temp     3.22 	 Delta  2152.96 	 OutFr   0.0000 	 RMSD     2.5953
Iter 005 	 Temp     2.99 	 Delta  1912.88 	 OutFr   0.0000 	 RMSD     2.5761
Iter 006 	 Temp     2.78 	 Delta  1710.94 	 OutFr   0.0000 	 RMSD     2.5607
Iter 007 	 Temp     2.59 	 Delta  1539.98 	 OutFr   0.0000 	 RMSD     2.5486
Iter 008 	 Temp     2.41 	 Delta  1393.31 	 OutFr   0.0000 	 RMSD     2.5399
Iter 009 	 Temp     2.24 	 Delta  1265.85 	 OutFr   0.0000 	 RMSD     2.5341
Iter 010 	 Temp     2.08 	 Delta  1154.40 	 OutFr   0.0000 	 RMSD     2.5307
Iter 011 	 Temp     1.94 	 Delta  1057.01 	 OutFr   0.0000 	 RMSD     2.5289
Iter 012 	 Temp     1.80 	 Delta   971.90 	 OutFr   0.0000 	 RMSD     2.5278
Iter 013 	 Temp     1.67 	 Delta   897.41 	 OutFr   0.0000 	 RMSD     2.5267
Iter 014 	 Temp     1.56 	 Delta   832.27 	 OutFr   0.0078 	 RMSD     2.5255
Iter 015 	 Temp     1.45 	 Delta   774.75 	 OutFr   0.0078 	 RMSD     2.5238
Iter 016 	 Temp     1.35 	 Delta   722.84 	 OutFr   0.0103 	 RMSD     2.5214
Iter 017 	 Temp     1.25 	 Delta   673.81 	 OutFr   0.0207 	 RMSD     2.5184
Iter 018 	 Temp     1.16 	 Delta   626.86 	 OutFr   0.0233 	 RMSD     2.5148
Iter 019 	 Temp     1.08 	 Delta   585.54 	 OutFr   0.0284 	 RMSD     2.5112
Iter 020 	 Temp     1.01 	 Delta   551.49 	 OutFr   0.0439 	 RMSD     2.5082
Iter 021 	 Temp     0.94 	 Delta   520.50 	 OutFr   0.0646 	 RMSD     2.5061
Iter 022 	 Temp     0.87 	 Delta   490.70 	 OutFr   0.0698 	 RMSD     2.5050
Iter 023 	 Temp     0.81 	 Delta   463.48 	 OutFr   0.0801 	 RMSD     2.5043
Iter 024 	 Temp     0.75 	 Delta   438.92 	 OutFr   0.0904 	 RMSD     2.5039
Iter 025 	 Temp     0.70 	 Delta   415.11 	 OutFr   0.1111 	 RMSD     2.5038
Iter 026 	 Temp     0.65 	 Delta   390.64 	 OutFr   0.1292 	 RMSD     2.5037
Iter 027 	 Temp     0.61 	 Delta   364.61 	 OutFr   0.1447 	 RMSD     2.5040
Iter 028 	 Temp     0.56 	 Delta   336.11 	 OutFr   0.1576 	 RMSD     2.5043
Iter 029 	 Temp     0.52 	 Delta   308.21 	 OutFr   0.1886 	 RMSD     2.5049
Iter 030 	 Temp     0.49 	 Delta   280.71 	 OutFr   0.2145 	 RMSD     2.5062
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.4Ikvu2rH/mybin.nii.gz
+ vtklevelset /tmp/ashs.4Ikvu2rH/mybin.nii.gz /tmp/ashs.4Ikvu2rH/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.4Ikvu2rH/mymesh.vtk /tmp/ashs.4Ikvu2rH/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2881.91543197   1.04098273
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.4Ikvu2rH/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.9606 to -9.99373
   Y : -19.9447 to 22.245
   Z : -11.3902 to 22.6844
   Image resolution  : 98 by 151 by 126
   Image box origin  : {-38.9606, -24.9447, -16.3902}
   Image box size    : {34.0278, 52.4305, 44.0995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.9606, 24.9447, -16.3902]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat -o /tmp/ashs.4Ikvu2rH/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat -o /tmp/ashs.4Ikvu2rH/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.4Ikvu2rH/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.663462 0.669231
+ echo 'CHUNK 0.663462 0.669231 0.5'
CHUNK 0.663462 0.669231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.663462 0.669231 0.5
====================================
         PROGRESS: 0.663462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.4Ikvu2rH/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.4Ikvu2rH/fixed_hw.nii.gz /tmp/ashs.4Ikvu2rH/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.543362, moving = 0.432046
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.3898, 2.38696], [0.96245, 0.975631, 0.97447]
Level     0,  Iter     0:    Energy =   0.0405
Level     0,  Iter     1:    Energy =   0.0459
Level     0,  Iter     2:    Energy =   0.0502
Level     0,  Iter     3:    Energy =   0.0546
Level     0,  Iter     4:    Energy =   0.0584
Level     0,  Iter     5:    Energy =   0.0610
Level     0,  Iter     6:    Energy =   0.0633
Level     0,  Iter     7:    Energy =   0.0654
Level     0,  Iter     8:    Energy =   0.0671
Level     0,  Iter     9:    Energy =   0.0687
Level     0,  Iter    10:    Energy =   0.0700
Level     0,  Iter    11:    Energy =   0.0714
Level     0,  Iter    12:    Energy =   0.0716
Level     0,  Iter    13:    Energy =   0.0721
Level     0,  Iter    14:    Energy =   0.0725
Level     0,  Iter    15:    Energy =   0.0728
Level     0,  Iter    16:    Energy =   0.0734
Level     0,  Iter    17:    Energy =   0.0736
Level     0,  Iter    18:    Energy =   0.0743
Level     0,  Iter    19:    Energy =   0.0743
Level     0,  Iter    20:    Energy =   0.0745
Level     0,  Iter    21:    Energy =   0.0746
Level     0,  Iter    22:    Energy =   0.0748
Level     0,  Iter    23:    Energy =   0.0749
Level     0,  Iter    24:    Energy =   0.0752
Level     0,  Iter    25:    Energy =   0.0752
Level     0,  Iter    26:    Energy =   0.0753
Level     0,  Iter    27:    Energy =   0.0754
Level     0,  Iter    28:    Energy =   0.0755
Level     0,  Iter    29:    Energy =   0.0755
Level     0,  Iter    30:    Energy =   0.0757
Level     0,  Iter    31:    Energy =   0.0757
Level     0,  Iter    32:    Energy =   0.0757
Level     0,  Iter    33:    Energy =   0.0758
Level     0,  Iter    34:    Energy =   0.0759
Level     0,  Iter    35:    Energy =   0.0760
Level     0,  Iter    36:    Energy =   0.0760
Level     0,  Iter    37:    Energy =   0.0760
Level     0,  Iter    38:    Energy =   0.0761
Level     0,  Iter    39:    Energy =   0.0762
Level     0,  Iter    40:    Energy =   0.0763
Level     0,  Iter    41:    Energy =   0.0763
Level     0,  Iter    42:    Energy =   0.0763
Level     0,  Iter    43:    Energy =   0.0763
Level     0,  Iter    44:    Energy =   0.0763
Level     0,  Iter    45:    Energy =   0.0763
Level     0,  Iter    46:    Energy =   0.0764
Level     0,  Iter    47:    Energy =   0.0764
Level     0,  Iter    48:    Energy =   0.0765
Level     0,  Iter    49:    Energy =   0.0765
Level     0,  Iter    50:    Energy =   0.0765
Level     0,  Iter    51:    Energy =   0.0765
Level     0,  Iter    52:    Energy =   0.0766
Level     0,  Iter    53:    Energy =   0.0766
Level     0,  Iter    54:    Energy =   0.0766
Level     0,  Iter    55:    Energy =   0.0766
Level     0,  Iter    56:    Energy =   0.0767
Level     0,  Iter    57:    Energy =   0.0767
Level     0,  Iter    58:    Energy =   0.0766
Level     0,  Iter    59:    Energy =   0.0766
END OF LEVEL     0    DetJac Range:   0.2733  to   2.3738 
  Avg. Gradient Time  : 0.0081s  37.87% 
  Avg. Gaussian Time  : 0.0101s  46.90% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1949, 1.21242], [0.491046, 0.487815, 0.494969]
Level     1,  Iter     0:    Energy =   0.0552
Level     1,  Iter     1:    Energy =   0.0581
Level     1,  Iter     2:    Energy =   0.0612
Level     1,  Iter     3:    Energy =   0.0637
Level     1,  Iter     4:    Energy =   0.0658
Level     1,  Iter     5:    Energy =   0.0670
Level     1,  Iter     6:    Energy =   0.0678
Level     1,  Iter     7:    Energy =   0.0690
Level     1,  Iter     8:    Energy =   0.0703
Level     1,  Iter     9:    Energy =   0.0715
Level     1,  Iter    10:    Energy =   0.0724
Level     1,  Iter    11:    Energy =   0.0729
Level     1,  Iter    12:    Energy =   0.0730
Level     1,  Iter    13:    Energy =   0.0731
Level     1,  Iter    14:    Energy =   0.0733
Level     1,  Iter    15:    Energy =   0.0736
Level     1,  Iter    16:    Energy =   0.0740
Level     1,  Iter    17:    Energy =   0.0746
Level     1,  Iter    18:    Energy =   0.0750
Level     1,  Iter    19:    Energy =   0.0756
Level     1,  Iter    20:    Energy =   0.0761
Level     1,  Iter    21:    Energy =   0.0763
Level     1,  Iter    22:    Energy =   0.0766
Level     1,  Iter    23:    Energy =   0.0769
Level     1,  Iter    24:    Energy =   0.0769
Level     1,  Iter    25:    Energy =   0.0772
Level     1,  Iter    26:    Energy =   0.0770
Level     1,  Iter    27:    Energy =   0.0773
Level     1,  Iter    28:    Energy =   0.0772
Level     1,  Iter    29:    Energy =   0.0771
Level     1,  Iter    30:    Energy =   0.0772
Level     1,  Iter    31:    Energy =   0.0771
Level     1,  Iter    32:    Energy =   0.0772
Level     1,  Iter    33:    Energy =   0.0771
Level     1,  Iter    34:    Energy =   0.0772
Level     1,  Iter    35:    Energy =   0.0771
Level     1,  Iter    36:    Energy =   0.0772
Level     1,  Iter    37:    Energy =   0.0771
Level     1,  Iter    38:    Energy =   0.0772
Level     1,  Iter    39:    Energy =   0.0771
Level     1,  Iter    40:    Energy =   0.0772
Level     1,  Iter    41:    Energy =   0.0771
Level     1,  Iter    42:    Energy =   0.0772
Level     1,  Iter    43:    Energy =   0.0771
Level     1,  Iter    44:    Energy =   0.0772
Level     1,  Iter    45:    Energy =   0.0771
Level     1,  Iter    46:    Energy =   0.0772
Level     1,  Iter    47:    Energy =   0.0771
Level     1,  Iter    48:    Energy =   0.0772
Level     1,  Iter    49:    Energy =   0.0771
Level     1,  Iter    50:    Energy =   0.0772
Level     1,  Iter    51:    Energy =   0.0771
Level     1,  Iter    52:    Energy =   0.0772
Level     1,  Iter    53:    Energy =   0.0771
Level     1,  Iter    54:    Energy =   0.0772
Level     1,  Iter    55:    Energy =   0.0771
Level     1,  Iter    56:    Energy =   0.0772
Level     1,  Iter    57:    Energy =   0.0771
Level     1,  Iter    58:    Energy =   0.0771
Level     1,  Iter    59:    Energy =   0.0770
END OF LEVEL     1    DetJac Range:   0.1066  to   3.8416 
  Avg. Gradient Time  : 0.0467s  39.67% 
  Avg. Gaussian Time  : 0.0568s  48.18% 
  Avg. Iteration Time : 0.1178s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0408
Level     2,  Iter     1:    Energy =   0.0429
Level     2,  Iter     2:    Energy =   0.0444
Level     2,  Iter     3:    Energy =   0.0457
Level     2,  Iter     4:    Energy =   0.0469
Level     2,  Iter     5:    Energy =   0.0479
Level     2,  Iter     6:    Energy =   0.0489
Level     2,  Iter     7:    Energy =   0.0499
Level     2,  Iter     8:    Energy =   0.0508
Level     2,  Iter     9:    Energy =   0.0517
Level     2,  Iter    10:    Energy =   0.0522
Level     2,  Iter    11:    Energy =   0.0528
Level     2,  Iter    12:    Energy =   0.0534
Level     2,  Iter    13:    Energy =   0.0539
Level     2,  Iter    14:    Energy =   0.0545
Level     2,  Iter    15:    Energy =   0.0550
Level     2,  Iter    16:    Energy =   0.0556
Level     2,  Iter    17:    Energy =   0.0561
Level     2,  Iter    18:    Energy =   0.0567
Level     2,  Iter    19:    Energy =   0.0571
END OF LEVEL     2    DetJac Range:   0.0964  to   5.2143 
  Avg. Gradient Time  : 0.3259s  36.86% 
  Avg. Gaussian Time  : 0.4643s  52.51% 
  Avg. Iteration Time : 0.8841s 

real	0m29.545s
user	0m51.792s
sys	0m3.072s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.663462 0.669231
+ echo 'CHUNK 0.663462 0.669231 1'
CHUNK 0.663462 0.669231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.663462 0.669231 1
====================================
         PROGRESS: 0.663462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 012
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2787.92 	 OutFr   0.0000 	 RMSD     2.6136
Iter 002 	 Temp     3.72 	 Delta  2572.13 	 OutFr   0.0000 	 RMSD     2.4493
Iter 003 	 Temp     3.46 	 Delta  2298.89 	 OutFr   0.0000 	 RMSD     2.4251
Iter 004 	 Temp     3.22 	 Delta  2047.56 	 OutFr   0.0052 	 RMSD     2.3961
Iter 005 	 Temp     2.99 	 Delta  1829.60 	 OutFr   0.0078 	 RMSD     2.3720
Iter 006 	 Temp     2.78 	 Delta  1645.30 	 OutFr   0.0103 	 RMSD     2.3531
Iter 007 	 Temp     2.59 	 Delta  1490.96 	 OutFr   0.0129 	 RMSD     2.3393
Iter 008 	 Temp     2.41 	 Delta  1361.10 	 OutFr   0.0155 	 RMSD     2.3290
Iter 009 	 Temp     2.24 	 Delta  1249.63 	 OutFr   0.0181 	 RMSD     2.3208
Iter 010 	 Temp     2.08 	 Delta  1151.24 	 OutFr   0.0233 	 RMSD     2.3131
Iter 011 	 Temp     1.94 	 Delta  1062.52 	 OutFr   0.0336 	 RMSD     2.3063
Iter 012 	 Temp     1.80 	 Delta   981.20 	 OutFr   0.0413 	 RMSD     2.2999
Iter 013 	 Temp     1.67 	 Delta   905.77 	 OutFr   0.0517 	 RMSD     2.2939
Iter 014 	 Temp     1.56 	 Delta   834.85 	 OutFr   0.0620 	 RMSD     2.2881
Iter 015 	 Temp     1.45 	 Delta   767.82 	 OutFr   0.0724 	 RMSD     2.2821
Iter 016 	 Temp     1.35 	 Delta   705.66 	 OutFr   0.0853 	 RMSD     2.2763
Iter 017 	 Temp     1.25 	 Delta   650.35 	 OutFr   0.0930 	 RMSD     2.2696
Iter 018 	 Temp     1.16 	 Delta   600.96 	 OutFr   0.1059 	 RMSD     2.2638
Iter 019 	 Temp     1.08 	 Delta   553.56 	 OutFr   0.1189 	 RMSD     2.2599
Iter 020 	 Temp     1.01 	 Delta   507.89 	 OutFr   0.1214 	 RMSD     2.2572
Iter 021 	 Temp     0.94 	 Delta   469.07 	 OutFr   0.1292 	 RMSD     2.2562
Iter 022 	 Temp     0.87 	 Delta   437.28 	 OutFr   0.1447 	 RMSD     2.2561
Iter 023 	 Temp     0.81 	 Delta   408.44 	 OutFr   0.1499 	 RMSD     2.2568
Iter 024 	 Temp     0.75 	 Delta   383.53 	 OutFr   0.1757 	 RMSD     2.2576
Iter 025 	 Temp     0.70 	 Delta   360.86 	 OutFr   0.1912 	 RMSD     2.2587
Iter 026 	 Temp     0.65 	 Delta   339.52 	 OutFr   0.2016 	 RMSD     2.2602
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ovKqpvdm/mybin.nii.gz
+ vtklevelset /tmp/ashs.ovKqpvdm/mybin.nii.gz /tmp/ashs.ovKqpvdm/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ovKqpvdm/mymesh.vtk /tmp/ashs.ovKqpvdm/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2802.03423321   1.01212867
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ovKqpvdm/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -29.653 to -6.47091
   Y : -16.4837 to 21.813
   Z : -18.5482 to 19.4527
   Image resolution  : 96 by 140 by 138
   Image box origin  : {-34.653, -21.4837, -23.5482}
   Image box size    : {33.3333, 48.6111, 48.2994}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [34.653, 21.4837, -23.5482]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat -o /tmp/ashs.ovKqpvdm/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat -o /tmp/ashs.ovKqpvdm/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ovKqpvdm/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.669231 0.675
+ echo 'CHUNK 0.669231 0.675 0.5'
CHUNK 0.669231 0.675 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.669231 0.675 0.5
====================================
         PROGRESS: 0.669231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ovKqpvdm/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ovKqpvdm/fixed_hw.nii.gz /tmp/ashs.ovKqpvdm/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.540602, moving = 0.778124
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.3902], [0.982092, 0.982092, 0.975796]
Level     0,  Iter     0:    Energy =   0.0429
Level     0,  Iter     1:    Energy =   0.0481
Level     0,  Iter     2:    Energy =   0.0533
Level     0,  Iter     3:    Energy =   0.0586
Level     0,  Iter     4:    Energy =   0.0635
Level     0,  Iter     5:    Energy =   0.0683
Level     0,  Iter     6:    Energy =   0.0720
Level     0,  Iter     7:    Energy =   0.0751
Level     0,  Iter     8:    Energy =   0.0774
Level     0,  Iter     9:    Energy =   0.0800
Level     0,  Iter    10:    Energy =   0.0816
Level     0,  Iter    11:    Energy =   0.0833
Level     0,  Iter    12:    Energy =   0.0847
Level     0,  Iter    13:    Energy =   0.0856
Level     0,  Iter    14:    Energy =   0.0860
Level     0,  Iter    15:    Energy =   0.0868
Level     0,  Iter    16:    Energy =   0.0870
Level     0,  Iter    17:    Energy =   0.0877
Level     0,  Iter    18:    Energy =   0.0877
Level     0,  Iter    19:    Energy =   0.0884
Level     0,  Iter    20:    Energy =   0.0883
Level     0,  Iter    21:    Energy =   0.0890
Level     0,  Iter    22:    Energy =   0.0887
Level     0,  Iter    23:    Energy =   0.0893
Level     0,  Iter    24:    Energy =   0.0891
Level     0,  Iter    25:    Energy =   0.0895
Level     0,  Iter    26:    Energy =   0.0893
Level     0,  Iter    27:    Energy =   0.0896
Level     0,  Iter    28:    Energy =   0.0895
Level     0,  Iter    29:    Energy =   0.0897
Level     0,  Iter    30:    Energy =   0.0896
Level     0,  Iter    31:    Energy =   0.0900
Level     0,  Iter    32:    Energy =   0.0898
Level     0,  Iter    33:    Energy =   0.0902
Level     0,  Iter    34:    Energy =   0.0899
Level     0,  Iter    35:    Energy =   0.0902
Level     0,  Iter    36:    Energy =   0.0901
Level     0,  Iter    37:    Energy =   0.0902
Level     0,  Iter    38:    Energy =   0.0900
Level     0,  Iter    39:    Energy =   0.0904
Level     0,  Iter    40:    Energy =   0.0902
Level     0,  Iter    41:    Energy =   0.0906
Level     0,  Iter    42:    Energy =   0.0904
Level     0,  Iter    43:    Energy =   0.0905
Level     0,  Iter    44:    Energy =   0.0904
Level     0,  Iter    45:    Energy =   0.0906
Level     0,  Iter    46:    Energy =   0.0904
Level     0,  Iter    47:    Energy =   0.0908
Level     0,  Iter    48:    Energy =   0.0905
Level     0,  Iter    49:    Energy =   0.0911
Level     0,  Iter    50:    Energy =   0.0907
Level     0,  Iter    51:    Energy =   0.0911
Level     0,  Iter    52:    Energy =   0.0907
Level     0,  Iter    53:    Energy =   0.0910
Level     0,  Iter    54:    Energy =   0.0907
Level     0,  Iter    55:    Energy =   0.0909
Level     0,  Iter    56:    Energy =   0.0907
Level     0,  Iter    57:    Energy =   0.0909
Level     0,  Iter    58:    Energy =   0.0908
Level     0,  Iter    59:    Energy =   0.0911
END OF LEVEL     0    DetJac Range:   0.2150  to   2.2496 
  Avg. Gradient Time  : 0.0080s  37.91% 
  Avg. Gaussian Time  : 0.0098s  46.30% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0622
Level     1,  Iter     1:    Energy =   0.0664
Level     1,  Iter     2:    Energy =   0.0695
Level     1,  Iter     3:    Energy =   0.0723
Level     1,  Iter     4:    Energy =   0.0744
Level     1,  Iter     5:    Energy =   0.0762
Level     1,  Iter     6:    Energy =   0.0781
Level     1,  Iter     7:    Energy =   0.0799
Level     1,  Iter     8:    Energy =   0.0811
Level     1,  Iter     9:    Energy =   0.0817
Level     1,  Iter    10:    Energy =   0.0825
Level     1,  Iter    11:    Energy =   0.0826
Level     1,  Iter    12:    Energy =   0.0833
Level     1,  Iter    13:    Energy =   0.0836
Level     1,  Iter    14:    Energy =   0.0839
Level     1,  Iter    15:    Energy =   0.0839
Level     1,  Iter    16:    Energy =   0.0843
Level     1,  Iter    17:    Energy =   0.0844
Level     1,  Iter    18:    Energy =   0.0846
Level     1,  Iter    19:    Energy =   0.0846
Level     1,  Iter    20:    Energy =   0.0849
Level     1,  Iter    21:    Energy =   0.0849
Level     1,  Iter    22:    Energy =   0.0851
Level     1,  Iter    23:    Energy =   0.0850
Level     1,  Iter    24:    Energy =   0.0853
Level     1,  Iter    25:    Energy =   0.0853
Level     1,  Iter    26:    Energy =   0.0854
Level     1,  Iter    27:    Energy =   0.0854
Level     1,  Iter    28:    Energy =   0.0856
Level     1,  Iter    29:    Energy =   0.0855
Level     1,  Iter    30:    Energy =   0.0855
Level     1,  Iter    31:    Energy =   0.0858
Level     1,  Iter    32:    Energy =   0.0857
Level     1,  Iter    33:    Energy =   0.0858
Level     1,  Iter    34:    Energy =   0.0857
Level     1,  Iter    35:    Energy =   0.0858
Level     1,  Iter    36:    Energy =   0.0858
Level     1,  Iter    37:    Energy =   0.0859
Level     1,  Iter    38:    Energy =   0.0859
Level     1,  Iter    39:    Energy =   0.0859
Level     1,  Iter    40:    Energy =   0.0859
Level     1,  Iter    41:    Energy =   0.0860
Level     1,  Iter    42:    Energy =   0.0860
Level     1,  Iter    43:    Energy =   0.0860
Level     1,  Iter    44:    Energy =   0.0860
Level     1,  Iter    45:    Energy =   0.0861
Level     1,  Iter    46:    Energy =   0.0860
Level     1,  Iter    47:    Energy =   0.0860
Level     1,  Iter    48:    Energy =   0.0860
Level     1,  Iter    49:    Energy =   0.0860
Level     1,  Iter    50:    Energy =   0.0860
Level     1,  Iter    51:    Energy =   0.0861
Level     1,  Iter    52:    Energy =   0.0860
Level     1,  Iter    53:    Energy =   0.0861
Level     1,  Iter    54:    Energy =   0.0860
Level     1,  Iter    55:    Energy =   0.0861
Level     1,  Iter    56:    Energy =   0.0860
Level     1,  Iter    57:    Energy =   0.0861
Level     1,  Iter    58:    Energy =   0.0860
Level     1,  Iter    59:    Energy =   0.0862
END OF LEVEL     1    DetJac Range:   0.0933  to   2.8136 
  Avg. Gradient Time  : 0.0469s  39.63% 
  Avg. Gaussian Time  : 0.0572s  48.28% 
  Avg. Iteration Time : 0.1184s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0451
Level     2,  Iter     1:    Energy =   0.0470
Level     2,  Iter     2:    Energy =   0.0485
Level     2,  Iter     3:    Energy =   0.0498
Level     2,  Iter     4:    Energy =   0.0509
Level     2,  Iter     5:    Energy =   0.0520
Level     2,  Iter     6:    Energy =   0.0531
Level     2,  Iter     7:    Energy =   0.0541
Level     2,  Iter     8:    Energy =   0.0551
Level     2,  Iter     9:    Energy =   0.0560
Level     2,  Iter    10:    Energy =   0.0569
Level     2,  Iter    11:    Energy =   0.0577
Level     2,  Iter    12:    Energy =   0.0584
Level     2,  Iter    13:    Energy =   0.0591
Level     2,  Iter    14:    Energy =   0.0598
Level     2,  Iter    15:    Energy =   0.0602
Level     2,  Iter    16:    Energy =   0.0606
Level     2,  Iter    17:    Energy =   0.0610
Level     2,  Iter    18:    Energy =   0.0614
Level     2,  Iter    19:    Energy =   0.0618
END OF LEVEL     2    DetJac Range:   0.0718  to   4.7064 
  Avg. Gradient Time  : 0.3284s  36.11% 
  Avg. Gaussian Time  : 0.4867s  53.52% 
  Avg. Iteration Time : 0.9095s 

real	0m30.086s
user	0m52.652s
sys	0m3.308s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.669231 0.675
+ echo 'CHUNK 0.669231 0.675 1'
CHUNK 0.669231 0.675 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.669231 0.675 1
====================================
         PROGRESS: 0.669231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 013
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1952.14 	 OutFr   0.0000 	 RMSD     3.5409
Iter 002 	 Temp     3.72 	 Delta  1911.56 	 OutFr   0.0000 	 RMSD     2.1777
Iter 003 	 Temp     3.46 	 Delta  1727.65 	 OutFr   0.0000 	 RMSD     2.1688
Iter 004 	 Temp     3.22 	 Delta  1564.37 	 OutFr   0.0000 	 RMSD     2.1543
Iter 005 	 Temp     2.99 	 Delta  1423.29 	 OutFr   0.0000 	 RMSD     2.1361
Iter 006 	 Temp     2.78 	 Delta  1298.43 	 OutFr   0.0000 	 RMSD     2.1178
Iter 007 	 Temp     2.59 	 Delta  1188.14 	 OutFr   0.0000 	 RMSD     2.1029
Iter 008 	 Temp     2.41 	 Delta  1091.37 	 OutFr   0.0000 	 RMSD     2.0913
Iter 009 	 Temp     2.24 	 Delta  1006.48 	 OutFr   0.0000 	 RMSD     2.0824
Iter 010 	 Temp     2.08 	 Delta   931.47 	 OutFr   0.0000 	 RMSD     2.0744
Iter 011 	 Temp     1.94 	 Delta   864.20 	 OutFr   0.0000 	 RMSD     2.0670
Iter 012 	 Temp     1.80 	 Delta   802.65 	 OutFr   0.0052 	 RMSD     2.0622
Iter 013 	 Temp     1.67 	 Delta   746.69 	 OutFr   0.0078 	 RMSD     2.0587
Iter 014 	 Temp     1.56 	 Delta   698.70 	 OutFr   0.0129 	 RMSD     2.0549
Iter 015 	 Temp     1.45 	 Delta   660.35 	 OutFr   0.0207 	 RMSD     2.0519
Iter 016 	 Temp     1.35 	 Delta   629.54 	 OutFr   0.0233 	 RMSD     2.0501
Iter 017 	 Temp     1.25 	 Delta   601.95 	 OutFr   0.0310 	 RMSD     2.0480
Iter 018 	 Temp     1.16 	 Delta   573.40 	 OutFr   0.0388 	 RMSD     2.0471
Iter 019 	 Temp     1.08 	 Delta   541.38 	 OutFr   0.0491 	 RMSD     2.0464
Iter 020 	 Temp     1.01 	 Delta   505.81 	 OutFr   0.0646 	 RMSD     2.0457
Iter 021 	 Temp     0.94 	 Delta   467.56 	 OutFr   0.0724 	 RMSD     2.0454
Iter 022 	 Temp     0.87 	 Delta   426.73 	 OutFr   0.0801 	 RMSD     2.0449
Iter 023 	 Temp     0.81 	 Delta   387.06 	 OutFr   0.0956 	 RMSD     2.0449
Iter 024 	 Temp     0.75 	 Delta   354.53 	 OutFr   0.1111 	 RMSD     2.0448
Iter 025 	 Temp     0.70 	 Delta   328.82 	 OutFr   0.1266 	 RMSD     2.0464
Iter 026 	 Temp     0.65 	 Delta   306.05 	 OutFr   0.1395 	 RMSD     2.0500
Iter 027 	 Temp     0.61 	 Delta   286.16 	 OutFr   0.1525 	 RMSD     2.0546
Iter 028 	 Temp     0.56 	 Delta   267.67 	 OutFr   0.1680 	 RMSD     2.0598
Iter 029 	 Temp     0.52 	 Delta   250.22 	 OutFr   0.2016 	 RMSD     2.0646
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Fyw6eEc5/mybin.nii.gz
+ vtklevelset /tmp/ashs.Fyw6eEc5/mybin.nii.gz /tmp/ashs.Fyw6eEc5/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Fyw6eEc5/mymesh.vtk /tmp/ashs.Fyw6eEc5/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2554.58729759   0.92274785
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Fyw6eEc5/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -29.7174 to -9.23645
   Y : -16.8688 to 24.4241
   Z : -18.0972 to 14.8254
   Image resolution  : 88 by 148 by 123
   Image box origin  : {-34.7174, -21.8688, -23.0972}
   Image box size    : {30.5555, 51.3889, 43.0495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [34.7174, 21.8688, -23.0972]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat -o /tmp/ashs.Fyw6eEc5/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat -o /tmp/ashs.Fyw6eEc5/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Fyw6eEc5/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.675 0.680769
+ echo 'CHUNK 0.675 0.680769 0.5'
CHUNK 0.675 0.680769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.675 0.680769 0.5
====================================
         PROGRESS: 0.675               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Fyw6eEc5/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Fyw6eEc5/fixed_hw.nii.gz /tmp/ashs.Fyw6eEc5/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.532545, moving = 0.654043
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.40529], [0.982092, 0.982092, 0.981955]
Level     0,  Iter     0:    Energy =   0.0422
Level     0,  Iter     1:    Energy =   0.0489
Level     0,  Iter     2:    Energy =   0.0546
Level     0,  Iter     3:    Energy =   0.0587
Level     0,  Iter     4:    Energy =   0.0628
Level     0,  Iter     5:    Energy =   0.0653
Level     0,  Iter     6:    Energy =   0.0675
Level     0,  Iter     7:    Energy =   0.0703
Level     0,  Iter     8:    Energy =   0.0727
Level     0,  Iter     9:    Energy =   0.0746
Level     0,  Iter    10:    Energy =   0.0764
Level     0,  Iter    11:    Energy =   0.0777
Level     0,  Iter    12:    Energy =   0.0783
Level     0,  Iter    13:    Energy =   0.0787
Level     0,  Iter    14:    Energy =   0.0789
Level     0,  Iter    15:    Energy =   0.0793
Level     0,  Iter    16:    Energy =   0.0794
Level     0,  Iter    17:    Energy =   0.0795
Level     0,  Iter    18:    Energy =   0.0796
Level     0,  Iter    19:    Energy =   0.0796
Level     0,  Iter    20:    Energy =   0.0798
Level     0,  Iter    21:    Energy =   0.0798
Level     0,  Iter    22:    Energy =   0.0803
Level     0,  Iter    23:    Energy =   0.0804
Level     0,  Iter    24:    Energy =   0.0805
Level     0,  Iter    25:    Energy =   0.0807
Level     0,  Iter    26:    Energy =   0.0809
Level     0,  Iter    27:    Energy =   0.0807
Level     0,  Iter    28:    Energy =   0.0808
Level     0,  Iter    29:    Energy =   0.0806
Level     0,  Iter    30:    Energy =   0.0809
Level     0,  Iter    31:    Energy =   0.0809
Level     0,  Iter    32:    Energy =   0.0809
Level     0,  Iter    33:    Energy =   0.0809
Level     0,  Iter    34:    Energy =   0.0811
Level     0,  Iter    35:    Energy =   0.0810
Level     0,  Iter    36:    Energy =   0.0810
Level     0,  Iter    37:    Energy =   0.0810
Level     0,  Iter    38:    Energy =   0.0812
Level     0,  Iter    39:    Energy =   0.0812
Level     0,  Iter    40:    Energy =   0.0811
Level     0,  Iter    41:    Energy =   0.0811
Level     0,  Iter    42:    Energy =   0.0814
Level     0,  Iter    43:    Energy =   0.0815
Level     0,  Iter    44:    Energy =   0.0814
Level     0,  Iter    45:    Energy =   0.0813
Level     0,  Iter    46:    Energy =   0.0816
Level     0,  Iter    47:    Energy =   0.0818
Level     0,  Iter    48:    Energy =   0.0818
Level     0,  Iter    49:    Energy =   0.0815
Level     0,  Iter    50:    Energy =   0.0818
Level     0,  Iter    51:    Energy =   0.0819
Level     0,  Iter    52:    Energy =   0.0819
Level     0,  Iter    53:    Energy =   0.0816
Level     0,  Iter    54:    Energy =   0.0818
Level     0,  Iter    55:    Energy =   0.0818
Level     0,  Iter    56:    Energy =   0.0819
Level     0,  Iter    57:    Energy =   0.0816
Level     0,  Iter    58:    Energy =   0.0818
Level     0,  Iter    59:    Energy =   0.0819
END OF LEVEL     0    DetJac Range:   0.2623  to   2.5429 
  Avg. Gradient Time  : 0.0073s  37.58% 
  Avg. Gaussian Time  : 0.0092s  46.98% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20264], [0.491046, 0.491046, 0.490977]
Level     1,  Iter     0:    Energy =   0.0558
Level     1,  Iter     1:    Energy =   0.0594
Level     1,  Iter     2:    Energy =   0.0623
Level     1,  Iter     3:    Energy =   0.0648
Level     1,  Iter     4:    Energy =   0.0670
Level     1,  Iter     5:    Energy =   0.0687
Level     1,  Iter     6:    Energy =   0.0699
Level     1,  Iter     7:    Energy =   0.0709
Level     1,  Iter     8:    Energy =   0.0716
Level     1,  Iter     9:    Energy =   0.0723
Level     1,  Iter    10:    Energy =   0.0730
Level     1,  Iter    11:    Energy =   0.0737
Level     1,  Iter    12:    Energy =   0.0745
Level     1,  Iter    13:    Energy =   0.0752
Level     1,  Iter    14:    Energy =   0.0760
Level     1,  Iter    15:    Energy =   0.0766
Level     1,  Iter    16:    Energy =   0.0771
Level     1,  Iter    17:    Energy =   0.0775
Level     1,  Iter    18:    Energy =   0.0779
Level     1,  Iter    19:    Energy =   0.0779
Level     1,  Iter    20:    Energy =   0.0781
Level     1,  Iter    21:    Energy =   0.0779
Level     1,  Iter    22:    Energy =   0.0781
Level     1,  Iter    23:    Energy =   0.0783
Level     1,  Iter    24:    Energy =   0.0785
Level     1,  Iter    25:    Energy =   0.0782
Level     1,  Iter    26:    Energy =   0.0784
Level     1,  Iter    27:    Energy =   0.0786
Level     1,  Iter    28:    Energy =   0.0787
Level     1,  Iter    29:    Energy =   0.0785
Level     1,  Iter    30:    Energy =   0.0786
Level     1,  Iter    31:    Energy =   0.0787
Level     1,  Iter    32:    Energy =   0.0789
Level     1,  Iter    33:    Energy =   0.0786
Level     1,  Iter    34:    Energy =   0.0787
Level     1,  Iter    35:    Energy =   0.0788
Level     1,  Iter    36:    Energy =   0.0790
Level     1,  Iter    37:    Energy =   0.0787
Level     1,  Iter    38:    Energy =   0.0788
Level     1,  Iter    39:    Energy =   0.0789
Level     1,  Iter    40:    Energy =   0.0790
Level     1,  Iter    41:    Energy =   0.0788
Level     1,  Iter    42:    Energy =   0.0789
Level     1,  Iter    43:    Energy =   0.0790
Level     1,  Iter    44:    Energy =   0.0791
Level     1,  Iter    45:    Energy =   0.0789
Level     1,  Iter    46:    Energy =   0.0790
Level     1,  Iter    47:    Energy =   0.0791
Level     1,  Iter    48:    Energy =   0.0792
Level     1,  Iter    49:    Energy =   0.0789
Level     1,  Iter    50:    Energy =   0.0791
Level     1,  Iter    51:    Energy =   0.0791
Level     1,  Iter    52:    Energy =   0.0793
Level     1,  Iter    53:    Energy =   0.0791
Level     1,  Iter    54:    Energy =   0.0792
Level     1,  Iter    55:    Energy =   0.0792
Level     1,  Iter    56:    Energy =   0.0793
Level     1,  Iter    57:    Energy =   0.0791
Level     1,  Iter    58:    Energy =   0.0792
Level     1,  Iter    59:    Energy =   0.0793
END OF LEVEL     1    DetJac Range:   0.1480  to   4.4842 
  Avg. Gradient Time  : 0.0410s  40.13% 
  Avg. Gaussian Time  : 0.0486s  47.59% 
  Avg. Iteration Time : 0.1021s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0409
Level     2,  Iter     1:    Energy =   0.0434
Level     2,  Iter     2:    Energy =   0.0451
Level     2,  Iter     3:    Energy =   0.0463
Level     2,  Iter     4:    Energy =   0.0475
Level     2,  Iter     5:    Energy =   0.0487
Level     2,  Iter     6:    Energy =   0.0500
Level     2,  Iter     7:    Energy =   0.0510
Level     2,  Iter     8:    Energy =   0.0519
Level     2,  Iter     9:    Energy =   0.0527
Level     2,  Iter    10:    Energy =   0.0535
Level     2,  Iter    11:    Energy =   0.0544
Level     2,  Iter    12:    Energy =   0.0551
Level     2,  Iter    13:    Energy =   0.0557
Level     2,  Iter    14:    Energy =   0.0563
Level     2,  Iter    15:    Energy =   0.0569
Level     2,  Iter    16:    Energy =   0.0574
Level     2,  Iter    17:    Energy =   0.0578
Level     2,  Iter    18:    Energy =   0.0582
Level     2,  Iter    19:    Energy =   0.0585
END OF LEVEL     2    DetJac Range:   0.0815  to   5.4999 
  Avg. Gradient Time  : 0.2829s  37.48% 
  Avg. Gaussian Time  : 0.3910s  51.81% 
  Avg. Iteration Time : 0.7548s 

real	0m25.348s
user	0m44.292s
sys	0m2.808s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.675 0.680769
+ echo 'CHUNK 0.675 0.680769 1'
CHUNK 0.675 0.680769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.675 0.680769 1
====================================
         PROGRESS: 0.675               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 014
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1629.73 	 OutFr   0.0000 	 RMSD     2.5574
Iter 002 	 Temp     3.72 	 Delta  1559.85 	 OutFr   0.0000 	 RMSD     2.0646
Iter 003 	 Temp     3.46 	 Delta  1461.67 	 OutFr   0.0026 	 RMSD     2.0622
Iter 004 	 Temp     3.22 	 Delta  1369.80 	 OutFr   0.0052 	 RMSD     2.0444
Iter 005 	 Temp     2.99 	 Delta  1283.99 	 OutFr   0.0052 	 RMSD     2.0295
Iter 006 	 Temp     2.78 	 Delta  1204.45 	 OutFr   0.0052 	 RMSD     2.0177
Iter 007 	 Temp     2.59 	 Delta  1131.07 	 OutFr   0.0078 	 RMSD     2.0077
Iter 008 	 Temp     2.41 	 Delta  1061.87 	 OutFr   0.0078 	 RMSD     1.9996
Iter 009 	 Temp     2.24 	 Delta   994.48 	 OutFr   0.0078 	 RMSD     1.9920
Iter 010 	 Temp     2.08 	 Delta   928.52 	 OutFr   0.0129 	 RMSD     1.9853
Iter 011 	 Temp     1.94 	 Delta   865.56 	 OutFr   0.0181 	 RMSD     1.9796
Iter 012 	 Temp     1.80 	 Delta   808.11 	 OutFr   0.0207 	 RMSD     1.9747
Iter 013 	 Temp     1.67 	 Delta   758.29 	 OutFr   0.0258 	 RMSD     1.9706
Iter 014 	 Temp     1.56 	 Delta   716.60 	 OutFr   0.0258 	 RMSD     1.9669
Iter 015 	 Temp     1.45 	 Delta   682.06 	 OutFr   0.0258 	 RMSD     1.9636
Iter 016 	 Temp     1.35 	 Delta   652.52 	 OutFr   0.0258 	 RMSD     1.9607
Iter 017 	 Temp     1.25 	 Delta   623.94 	 OutFr   0.0310 	 RMSD     1.9569
Iter 018 	 Temp     1.16 	 Delta   592.89 	 OutFr   0.0336 	 RMSD     1.9528
Iter 019 	 Temp     1.08 	 Delta   558.78 	 OutFr   0.0413 	 RMSD     1.9460
Iter 020 	 Temp     1.01 	 Delta   522.43 	 OutFr   0.0439 	 RMSD     1.9374
Iter 021 	 Temp     0.94 	 Delta   485.03 	 OutFr   0.0465 	 RMSD     1.9290
Iter 022 	 Temp     0.87 	 Delta   450.37 	 OutFr   0.0543 	 RMSD     1.9209
Iter 023 	 Temp     0.81 	 Delta   422.27 	 OutFr   0.0646 	 RMSD     1.9136
Iter 024 	 Temp     0.75 	 Delta   401.75 	 OutFr   0.0853 	 RMSD     1.9098
Iter 025 	 Temp     0.70 	 Delta   384.07 	 OutFr   0.1034 	 RMSD     1.9092
Iter 026 	 Temp     0.65 	 Delta   364.70 	 OutFr   0.1137 	 RMSD     1.9093
Iter 027 	 Temp     0.61 	 Delta   341.45 	 OutFr   0.1344 	 RMSD     1.9089
Iter 028 	 Temp     0.56 	 Delta   316.50 	 OutFr   0.1602 	 RMSD     1.9093
Iter 029 	 Temp     0.52 	 Delta   290.94 	 OutFr   0.1886 	 RMSD     1.9102
Iter 030 	 Temp     0.49 	 Delta   264.36 	 OutFr   0.2119 	 RMSD     1.9115
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.NWbIDGKU/mybin.nii.gz
+ vtklevelset /tmp/ashs.NWbIDGKU/mybin.nii.gz /tmp/ashs.NWbIDGKU/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.NWbIDGKU/mymesh.vtk /tmp/ashs.NWbIDGKU/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2799.40782592   1.01117998
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.NWbIDGKU/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.6071 to -8.54218
   Y : -18.1746 to 21.242
   Z : -17.2255 to 18.7274
   Image resolution  : 96 by 143 by 132
   Image box origin  : {-36.6071, -23.1746, -22.2255}
   Image box size    : {33.3333, 49.6527, 46.1995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.6071, 23.1746, -22.2255]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat -o /tmp/ashs.NWbIDGKU/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat -o /tmp/ashs.NWbIDGKU/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.NWbIDGKU/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.680769 0.686538
+ echo 'CHUNK 0.680769 0.686538 0.5'
CHUNK 0.680769 0.686538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.680769 0.686538 0.5
====================================
         PROGRESS: 0.680769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.NWbIDGKU/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.NWbIDGKU/fixed_hw.nii.gz /tmp/ashs.NWbIDGKU/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.540863, moving = 0.525565
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.38892, 2.42484], [0.982092, 0.975272, 0.989938]
Level     0,  Iter     0:    Energy =   0.0377
Level     0,  Iter     1:    Energy =   0.0423
Level     0,  Iter     2:    Energy =   0.0467
Level     0,  Iter     3:    Energy =   0.0516
Level     0,  Iter     4:    Energy =   0.0548
Level     0,  Iter     5:    Energy =   0.0577
Level     0,  Iter     6:    Energy =   0.0605
Level     0,  Iter     7:    Energy =   0.0635
Level     0,  Iter     8:    Energy =   0.0661
Level     0,  Iter     9:    Energy =   0.0684
Level     0,  Iter    10:    Energy =   0.0699
Level     0,  Iter    11:    Energy =   0.0709
Level     0,  Iter    12:    Energy =   0.0717
Level     0,  Iter    13:    Energy =   0.0723
Level     0,  Iter    14:    Energy =   0.0723
Level     0,  Iter    15:    Energy =   0.0727
Level     0,  Iter    16:    Energy =   0.0727
Level     0,  Iter    17:    Energy =   0.0731
Level     0,  Iter    18:    Energy =   0.0730
Level     0,  Iter    19:    Energy =   0.0734
Level     0,  Iter    20:    Energy =   0.0733
Level     0,  Iter    21:    Energy =   0.0737
Level     0,  Iter    22:    Energy =   0.0736
Level     0,  Iter    23:    Energy =   0.0739
Level     0,  Iter    24:    Energy =   0.0738
Level     0,  Iter    25:    Energy =   0.0742
Level     0,  Iter    26:    Energy =   0.0741
Level     0,  Iter    27:    Energy =   0.0745
Level     0,  Iter    28:    Energy =   0.0744
Level     0,  Iter    29:    Energy =   0.0748
Level     0,  Iter    30:    Energy =   0.0746
Level     0,  Iter    31:    Energy =   0.0750
Level     0,  Iter    32:    Energy =   0.0749
Level     0,  Iter    33:    Energy =   0.0752
Level     0,  Iter    34:    Energy =   0.0750
Level     0,  Iter    35:    Energy =   0.0754
Level     0,  Iter    36:    Energy =   0.0752
Level     0,  Iter    37:    Energy =   0.0755
Level     0,  Iter    38:    Energy =   0.0754
Level     0,  Iter    39:    Energy =   0.0758
Level     0,  Iter    40:    Energy =   0.0756
Level     0,  Iter    41:    Energy =   0.0760
Level     0,  Iter    42:    Energy =   0.0758
Level     0,  Iter    43:    Energy =   0.0761
Level     0,  Iter    44:    Energy =   0.0759
Level     0,  Iter    45:    Energy =   0.0764
Level     0,  Iter    46:    Energy =   0.0761
Level     0,  Iter    47:    Energy =   0.0765
Level     0,  Iter    48:    Energy =   0.0762
Level     0,  Iter    49:    Energy =   0.0766
Level     0,  Iter    50:    Energy =   0.0763
Level     0,  Iter    51:    Energy =   0.0766
Level     0,  Iter    52:    Energy =   0.0764
Level     0,  Iter    53:    Energy =   0.0767
Level     0,  Iter    54:    Energy =   0.0764
Level     0,  Iter    55:    Energy =   0.0768
Level     0,  Iter    56:    Energy =   0.0765
Level     0,  Iter    57:    Energy =   0.0769
Level     0,  Iter    58:    Energy =   0.0766
Level     0,  Iter    59:    Energy =   0.0769
END OF LEVEL     0    DetJac Range:   0.1682  to   2.2821 
  Avg. Gradient Time  : 0.0079s  37.54% 
  Avg. Gaussian Time  : 0.0099s  47.07% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19446, 1.21242], [0.491046, 0.487636, 0.494969]
Level     1,  Iter     0:    Energy =   0.0489
Level     1,  Iter     1:    Energy =   0.0532
Level     1,  Iter     2:    Energy =   0.0565
Level     1,  Iter     3:    Energy =   0.0596
Level     1,  Iter     4:    Energy =   0.0623
Level     1,  Iter     5:    Energy =   0.0644
Level     1,  Iter     6:    Energy =   0.0662
Level     1,  Iter     7:    Energy =   0.0678
Level     1,  Iter     8:    Energy =   0.0691
Level     1,  Iter     9:    Energy =   0.0701
Level     1,  Iter    10:    Energy =   0.0710
Level     1,  Iter    11:    Energy =   0.0714
Level     1,  Iter    12:    Energy =   0.0717
Level     1,  Iter    13:    Energy =   0.0718
Level     1,  Iter    14:    Energy =   0.0720
Level     1,  Iter    15:    Energy =   0.0722
Level     1,  Iter    16:    Energy =   0.0723
Level     1,  Iter    17:    Energy =   0.0724
Level     1,  Iter    18:    Energy =   0.0725
Level     1,  Iter    19:    Energy =   0.0726
Level     1,  Iter    20:    Energy =   0.0728
Level     1,  Iter    21:    Energy =   0.0729
Level     1,  Iter    22:    Energy =   0.0731
Level     1,  Iter    23:    Energy =   0.0729
Level     1,  Iter    24:    Energy =   0.0730
Level     1,  Iter    25:    Energy =   0.0731
Level     1,  Iter    26:    Energy =   0.0732
Level     1,  Iter    27:    Energy =   0.0734
Level     1,  Iter    28:    Energy =   0.0736
Level     1,  Iter    29:    Energy =   0.0734
Level     1,  Iter    30:    Energy =   0.0736
Level     1,  Iter    31:    Energy =   0.0736
Level     1,  Iter    32:    Energy =   0.0737
Level     1,  Iter    33:    Energy =   0.0737
Level     1,  Iter    34:    Energy =   0.0737
Level     1,  Iter    35:    Energy =   0.0737
Level     1,  Iter    36:    Energy =   0.0738
Level     1,  Iter    37:    Energy =   0.0738
Level     1,  Iter    38:    Energy =   0.0738
Level     1,  Iter    39:    Energy =   0.0739
Level     1,  Iter    40:    Energy =   0.0739
Level     1,  Iter    41:    Energy =   0.0740
Level     1,  Iter    42:    Energy =   0.0739
Level     1,  Iter    43:    Energy =   0.0740
Level     1,  Iter    44:    Energy =   0.0740
Level     1,  Iter    45:    Energy =   0.0741
Level     1,  Iter    46:    Energy =   0.0740
Level     1,  Iter    47:    Energy =   0.0741
Level     1,  Iter    48:    Energy =   0.0741
Level     1,  Iter    49:    Energy =   0.0742
Level     1,  Iter    50:    Energy =   0.0741
Level     1,  Iter    51:    Energy =   0.0742
Level     1,  Iter    52:    Energy =   0.0741
Level     1,  Iter    53:    Energy =   0.0742
Level     1,  Iter    54:    Energy =   0.0742
Level     1,  Iter    55:    Energy =   0.0742
Level     1,  Iter    56:    Energy =   0.0742
Level     1,  Iter    57:    Energy =   0.0743
Level     1,  Iter    58:    Energy =   0.0742
Level     1,  Iter    59:    Energy =   0.0743
END OF LEVEL     1    DetJac Range:   0.0269  to   3.9962 
  Avg. Gradient Time  : 0.0458s  39.94% 
  Avg. Gaussian Time  : 0.0550s  47.97% 
  Avg. Iteration Time : 0.1147s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0365
Level     2,  Iter     1:    Energy =   0.0384
Level     2,  Iter     2:    Energy =   0.0402
Level     2,  Iter     3:    Energy =   0.0418
Level     2,  Iter     4:    Energy =   0.0435
Level     2,  Iter     5:    Energy =   0.0451
Level     2,  Iter     6:    Energy =   0.0466
Level     2,  Iter     7:    Energy =   0.0478
Level     2,  Iter     8:    Energy =   0.0489
Level     2,  Iter     9:    Energy =   0.0498
Level     2,  Iter    10:    Energy =   0.0506
Level     2,  Iter    11:    Energy =   0.0513
Level     2,  Iter    12:    Energy =   0.0517
Level     2,  Iter    13:    Energy =   0.0521
Level     2,  Iter    14:    Energy =   0.0524
Level     2,  Iter    15:    Energy =   0.0527
Level     2,  Iter    16:    Energy =   0.0530
Level     2,  Iter    17:    Energy =   0.0532
Level     2,  Iter    18:    Energy =   0.0533
Level     2,  Iter    19:    Energy =   0.0535
END OF LEVEL     2    DetJac Range:   0.0141  to   5.4065 
  Avg. Gradient Time  : 0.3205s  37.63% 
  Avg. Gaussian Time  : 0.4399s  51.65% 
  Avg. Iteration Time : 0.8517s 

real	0m28.539s
user	0m50.400s
sys	0m2.996s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.680769 0.686538
+ echo 'CHUNK 0.680769 0.686538 1'
CHUNK 0.680769 0.686538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.680769 0.686538 1
====================================
         PROGRESS: 0.680769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 015
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2421.12 	 OutFr   0.0000 	 RMSD     3.0138
Iter 002 	 Temp     3.72 	 Delta  2338.11 	 OutFr   0.0000 	 RMSD     2.3511
Iter 003 	 Temp     3.46 	 Delta  2269.89 	 OutFr   0.0000 	 RMSD     2.3386
Iter 004 	 Temp     3.22 	 Delta  2168.96 	 OutFr   0.0000 	 RMSD     2.3205
Iter 005 	 Temp     2.99 	 Delta  2045.85 	 OutFr   0.0000 	 RMSD     2.2953
Iter 006 	 Temp     2.78 	 Delta  1907.99 	 OutFr   0.0000 	 RMSD     2.2662
Iter 007 	 Temp     2.59 	 Delta  1761.50 	 OutFr   0.0000 	 RMSD     2.2358
Iter 008 	 Temp     2.41 	 Delta  1612.05 	 OutFr   0.0000 	 RMSD     2.2056
Iter 009 	 Temp     2.24 	 Delta  1464.49 	 OutFr   0.0026 	 RMSD     2.1761
Iter 010 	 Temp     2.08 	 Delta  1323.65 	 OutFr   0.0052 	 RMSD     2.1505
Iter 011 	 Temp     1.94 	 Delta  1196.47 	 OutFr   0.0052 	 RMSD     2.1284
Iter 012 	 Temp     1.80 	 Delta  1088.27 	 OutFr   0.0078 	 RMSD     2.1092
Iter 013 	 Temp     1.67 	 Delta   997.78 	 OutFr   0.0078 	 RMSD     2.0951
Iter 014 	 Temp     1.56 	 Delta   921.76 	 OutFr   0.0078 	 RMSD     2.0868
Iter 015 	 Temp     1.45 	 Delta   857.65 	 OutFr   0.0078 	 RMSD     2.0815
Iter 016 	 Temp     1.35 	 Delta   802.18 	 OutFr   0.0103 	 RMSD     2.0790
Iter 017 	 Temp     1.25 	 Delta   749.93 	 OutFr   0.0103 	 RMSD     2.0773
Iter 018 	 Temp     1.16 	 Delta   697.80 	 OutFr   0.0129 	 RMSD     2.0760
Iter 019 	 Temp     1.08 	 Delta   647.71 	 OutFr   0.0181 	 RMSD     2.0750
Iter 020 	 Temp     1.01 	 Delta   604.14 	 OutFr   0.0336 	 RMSD     2.0753
Iter 021 	 Temp     0.94 	 Delta   567.55 	 OutFr   0.0439 	 RMSD     2.0772
Iter 022 	 Temp     0.87 	 Delta   534.11 	 OutFr   0.0491 	 RMSD     2.0806
Iter 023 	 Temp     0.81 	 Delta   498.56 	 OutFr   0.0646 	 RMSD     2.0844
Iter 024 	 Temp     0.75 	 Delta   461.74 	 OutFr   0.0749 	 RMSD     2.0879
Iter 025 	 Temp     0.70 	 Delta   429.28 	 OutFr   0.1034 	 RMSD     2.0923
Iter 026 	 Temp     0.65 	 Delta   400.96 	 OutFr   0.1111 	 RMSD     2.0972
Iter 027 	 Temp     0.61 	 Delta   371.29 	 OutFr   0.1318 	 RMSD     2.1016
Iter 028 	 Temp     0.56 	 Delta   338.66 	 OutFr   0.1680 	 RMSD     2.1038
Iter 029 	 Temp     0.52 	 Delta   305.20 	 OutFr   0.1990 	 RMSD     2.1057
Iter 030 	 Temp     0.49 	 Delta   274.07 	 OutFr   0.2248 	 RMSD     2.1089
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.zTjEdDeR/mybin.nii.gz
+ vtklevelset /tmp/ashs.zTjEdDeR/mybin.nii.gz /tmp/ashs.zTjEdDeR/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.zTjEdDeR/mymesh.vtk /tmp/ashs.zTjEdDeR/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2953.88247016   1.06697809
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.zTjEdDeR/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.9366 to -9.26578
   Y : -21.3033 to 19.4155
   Z : -12.9754 to 22.6112
   Image resolution  : 97 by 147 by 131
   Image box origin  : {-37.9366, -26.3033, -17.9754}
   Image box size    : {33.6805, 51.0416, 45.8495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.9366, 26.3033, -17.9754]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat -o /tmp/ashs.zTjEdDeR/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat -o /tmp/ashs.zTjEdDeR/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.zTjEdDeR/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.686538 0.692308
+ echo 'CHUNK 0.686538 0.692308 0.5'
CHUNK 0.686538 0.692308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.686538 0.692308 0.5
====================================
         PROGRESS: 0.686538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.zTjEdDeR/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.zTjEdDeR/fixed_hw.nii.gz /tmp/ashs.zTjEdDeR/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.533972, moving = 0.723018
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.38937, 2.40647], [0.952629, 0.975456, 0.982439]
Level     0,  Iter     0:    Energy =   0.0546
Level     0,  Iter     1:    Energy =   0.0620
Level     0,  Iter     2:    Energy =   0.0680
Level     0,  Iter     3:    Energy =   0.0733
Level     0,  Iter     4:    Energy =   0.0772
Level     0,  Iter     5:    Energy =   0.0804
Level     0,  Iter     6:    Energy =   0.0837
Level     0,  Iter     7:    Energy =   0.0860
Level     0,  Iter     8:    Energy =   0.0877
Level     0,  Iter     9:    Energy =   0.0878
Level     0,  Iter    10:    Energy =   0.0883
Level     0,  Iter    11:    Energy =   0.0884
Level     0,  Iter    12:    Energy =   0.0888
Level     0,  Iter    13:    Energy =   0.0888
Level     0,  Iter    14:    Energy =   0.0894
Level     0,  Iter    15:    Energy =   0.0892
Level     0,  Iter    16:    Energy =   0.0896
Level     0,  Iter    17:    Energy =   0.0895
Level     0,  Iter    18:    Energy =   0.0901
Level     0,  Iter    19:    Energy =   0.0898
Level     0,  Iter    20:    Energy =   0.0902
Level     0,  Iter    21:    Energy =   0.0900
Level     0,  Iter    22:    Energy =   0.0904
Level     0,  Iter    23:    Energy =   0.0902
Level     0,  Iter    24:    Energy =   0.0906
Level     0,  Iter    25:    Energy =   0.0903
Level     0,  Iter    26:    Energy =   0.0905
Level     0,  Iter    27:    Energy =   0.0903
Level     0,  Iter    28:    Energy =   0.0907
Level     0,  Iter    29:    Energy =   0.0904
Level     0,  Iter    30:    Energy =   0.0907
Level     0,  Iter    31:    Energy =   0.0905
Level     0,  Iter    32:    Energy =   0.0909
Level     0,  Iter    33:    Energy =   0.0906
Level     0,  Iter    34:    Energy =   0.0909
Level     0,  Iter    35:    Energy =   0.0906
Level     0,  Iter    36:    Energy =   0.0909
Level     0,  Iter    37:    Energy =   0.0906
Level     0,  Iter    38:    Energy =   0.0910
Level     0,  Iter    39:    Energy =   0.0907
Level     0,  Iter    40:    Energy =   0.0910
Level     0,  Iter    41:    Energy =   0.0908
Level     0,  Iter    42:    Energy =   0.0911
Level     0,  Iter    43:    Energy =   0.0909
Level     0,  Iter    44:    Energy =   0.0912
Level     0,  Iter    45:    Energy =   0.0910
Level     0,  Iter    46:    Energy =   0.0912
Level     0,  Iter    47:    Energy =   0.0911
Level     0,  Iter    48:    Energy =   0.0913
Level     0,  Iter    49:    Energy =   0.0911
Level     0,  Iter    50:    Energy =   0.0914
Level     0,  Iter    51:    Energy =   0.0913
Level     0,  Iter    52:    Energy =   0.0915
Level     0,  Iter    53:    Energy =   0.0914
Level     0,  Iter    54:    Energy =   0.0916
Level     0,  Iter    55:    Energy =   0.0915
Level     0,  Iter    56:    Energy =   0.0918
Level     0,  Iter    57:    Energy =   0.0916
Level     0,  Iter    58:    Energy =   0.0918
Level     0,  Iter    59:    Energy =   0.0917
END OF LEVEL     0    DetJac Range:   0.4475  to   1.6993 
  Avg. Gradient Time  : 0.0082s  37.62% 
  Avg. Gaussian Time  : 0.0102s  46.89% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.19469, 1.20324], [0.486035, 0.487728, 0.491219]
Level     1,  Iter     0:    Energy =   0.0632
Level     1,  Iter     1:    Energy =   0.0674
Level     1,  Iter     2:    Energy =   0.0714
Level     1,  Iter     3:    Energy =   0.0742
Level     1,  Iter     4:    Energy =   0.0765
Level     1,  Iter     5:    Energy =   0.0784
Level     1,  Iter     6:    Energy =   0.0799
Level     1,  Iter     7:    Energy =   0.0812
Level     1,  Iter     8:    Energy =   0.0826
Level     1,  Iter     9:    Energy =   0.0835
Level     1,  Iter    10:    Energy =   0.0841
Level     1,  Iter    11:    Energy =   0.0845
Level     1,  Iter    12:    Energy =   0.0847
Level     1,  Iter    13:    Energy =   0.0850
Level     1,  Iter    14:    Energy =   0.0852
Level     1,  Iter    15:    Energy =   0.0855
Level     1,  Iter    16:    Energy =   0.0856
Level     1,  Iter    17:    Energy =   0.0859
Level     1,  Iter    18:    Energy =   0.0859
Level     1,  Iter    19:    Energy =   0.0863
Level     1,  Iter    20:    Energy =   0.0863
Level     1,  Iter    21:    Energy =   0.0867
Level     1,  Iter    22:    Energy =   0.0866
Level     1,  Iter    23:    Energy =   0.0869
Level     1,  Iter    24:    Energy =   0.0868
Level     1,  Iter    25:    Energy =   0.0871
Level     1,  Iter    26:    Energy =   0.0870
Level     1,  Iter    27:    Energy =   0.0873
Level     1,  Iter    28:    Energy =   0.0872
Level     1,  Iter    29:    Energy =   0.0875
Level     1,  Iter    30:    Energy =   0.0874
Level     1,  Iter    31:    Energy =   0.0876
Level     1,  Iter    32:    Energy =   0.0875
Level     1,  Iter    33:    Energy =   0.0877
Level     1,  Iter    34:    Energy =   0.0876
Level     1,  Iter    35:    Energy =   0.0878
Level     1,  Iter    36:    Energy =   0.0877
Level     1,  Iter    37:    Energy =   0.0879
Level     1,  Iter    38:    Energy =   0.0878
Level     1,  Iter    39:    Energy =   0.0880
Level     1,  Iter    40:    Energy =   0.0879
Level     1,  Iter    41:    Energy =   0.0881
Level     1,  Iter    42:    Energy =   0.0880
Level     1,  Iter    43:    Energy =   0.0882
Level     1,  Iter    44:    Energy =   0.0881
Level     1,  Iter    45:    Energy =   0.0883
Level     1,  Iter    46:    Energy =   0.0881
Level     1,  Iter    47:    Energy =   0.0883
Level     1,  Iter    48:    Energy =   0.0882
Level     1,  Iter    49:    Energy =   0.0883
Level     1,  Iter    50:    Energy =   0.0882
Level     1,  Iter    51:    Energy =   0.0883
Level     1,  Iter    52:    Energy =   0.0882
Level     1,  Iter    53:    Energy =   0.0882
Level     1,  Iter    54:    Energy =   0.0882
Level     1,  Iter    55:    Energy =   0.0882
Level     1,  Iter    56:    Energy =   0.0882
Level     1,  Iter    57:    Energy =   0.0882
Level     1,  Iter    58:    Energy =   0.0882
Level     1,  Iter    59:    Energy =   0.0881
END OF LEVEL     1    DetJac Range:   0.1931  to   2.6152 
  Avg. Gradient Time  : 0.0476s  39.61% 
  Avg. Gaussian Time  : 0.0579s  48.24% 
  Avg. Iteration Time : 0.1201s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0490
Level     2,  Iter     1:    Energy =   0.0517
Level     2,  Iter     2:    Energy =   0.0537
Level     2,  Iter     3:    Energy =   0.0554
Level     2,  Iter     4:    Energy =   0.0569
Level     2,  Iter     5:    Energy =   0.0584
Level     2,  Iter     6:    Energy =   0.0598
Level     2,  Iter     7:    Energy =   0.0611
Level     2,  Iter     8:    Energy =   0.0621
Level     2,  Iter     9:    Energy =   0.0630
Level     2,  Iter    10:    Energy =   0.0637
Level     2,  Iter    11:    Energy =   0.0642
Level     2,  Iter    12:    Energy =   0.0646
Level     2,  Iter    13:    Energy =   0.0649
Level     2,  Iter    14:    Energy =   0.0652
Level     2,  Iter    15:    Energy =   0.0655
Level     2,  Iter    16:    Energy =   0.0660
Level     2,  Iter    17:    Energy =   0.0666
Level     2,  Iter    18:    Energy =   0.0671
Level     2,  Iter    19:    Energy =   0.0674
END OF LEVEL     2    DetJac Range:   0.0852  to   3.4716 
  Avg. Gradient Time  : 0.3300s  37.22% 
  Avg. Gaussian Time  : 0.4632s  52.23% 
  Avg. Iteration Time : 0.8868s 

real	0m29.634s
user	0m52.128s
sys	0m3.240s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.686538 0.692308
+ echo 'CHUNK 0.686538 0.692308 1'
CHUNK 0.686538 0.692308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.686538 0.692308 1
====================================
         PROGRESS: 0.686538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 016
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2416.34 	 OutFr   0.0000 	 RMSD     2.3003
Iter 002 	 Temp     3.72 	 Delta  2376.42 	 OutFr   0.0000 	 RMSD     1.9774
Iter 003 	 Temp     3.46 	 Delta  2222.35 	 OutFr   0.0000 	 RMSD     1.9703
Iter 004 	 Temp     3.22 	 Delta  2066.97 	 OutFr   0.0000 	 RMSD     1.9473
Iter 005 	 Temp     2.99 	 Delta  1922.79 	 OutFr   0.0000 	 RMSD     1.9277
Iter 006 	 Temp     2.78 	 Delta  1792.57 	 OutFr   0.0000 	 RMSD     1.9120
Iter 007 	 Temp     2.59 	 Delta  1675.22 	 OutFr   0.0000 	 RMSD     1.8990
Iter 008 	 Temp     2.41 	 Delta  1567.34 	 OutFr   0.0000 	 RMSD     1.8881
Iter 009 	 Temp     2.24 	 Delta  1465.78 	 OutFr   0.0000 	 RMSD     1.8808
Iter 010 	 Temp     2.08 	 Delta  1368.66 	 OutFr   0.0026 	 RMSD     1.8757
Iter 011 	 Temp     1.94 	 Delta  1274.37 	 OutFr   0.0078 	 RMSD     1.8716
Iter 012 	 Temp     1.80 	 Delta  1180.72 	 OutFr   0.0103 	 RMSD     1.8689
Iter 013 	 Temp     1.67 	 Delta  1085.37 	 OutFr   0.0103 	 RMSD     1.8668
Iter 014 	 Temp     1.56 	 Delta   987.69 	 OutFr   0.0129 	 RMSD     1.8645
Iter 015 	 Temp     1.45 	 Delta   891.00 	 OutFr   0.0207 	 RMSD     1.8629
Iter 016 	 Temp     1.35 	 Delta   800.87 	 OutFr   0.0284 	 RMSD     1.8614
Iter 017 	 Temp     1.25 	 Delta   721.13 	 OutFr   0.0284 	 RMSD     1.8598
Iter 018 	 Temp     1.16 	 Delta   652.78 	 OutFr   0.0413 	 RMSD     1.8575
Iter 019 	 Temp     1.08 	 Delta   593.98 	 OutFr   0.0594 	 RMSD     1.8552
Iter 020 	 Temp     1.01 	 Delta   542.48 	 OutFr   0.0749 	 RMSD     1.8524
Iter 021 	 Temp     0.94 	 Delta   498.71 	 OutFr   0.0853 	 RMSD     1.8494
Iter 022 	 Temp     0.87 	 Delta   463.65 	 OutFr   0.1085 	 RMSD     1.8471
Iter 023 	 Temp     0.81 	 Delta   435.05 	 OutFr   0.1189 	 RMSD     1.8458
Iter 024 	 Temp     0.75 	 Delta   408.52 	 OutFr   0.1344 	 RMSD     1.8453
Iter 025 	 Temp     0.70 	 Delta   381.38 	 OutFr   0.1421 	 RMSD     1.8452
Iter 026 	 Temp     0.65 	 Delta   352.18 	 OutFr   0.1550 	 RMSD     1.8458
Iter 027 	 Temp     0.61 	 Delta   320.82 	 OutFr   0.1731 	 RMSD     1.8468
Iter 028 	 Temp     0.56 	 Delta   288.73 	 OutFr   0.1860 	 RMSD     1.8481
Iter 029 	 Temp     0.52 	 Delta   259.52 	 OutFr   0.2274 	 RMSD     1.8497
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.NQF8ufuz/mybin.nii.gz
+ vtklevelset /tmp/ashs.NQF8ufuz/mybin.nii.gz /tmp/ashs.NQF8ufuz/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.NQF8ufuz/mymesh.vtk /tmp/ashs.NQF8ufuz/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2625.06972623   0.94820695
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.NQF8ufuz/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.3054 to -11.4535
   Y : -14.2213 to 25.342
   Z : -24.635 to 11.9661
   Image resolution  : 86 by 143 by 134
   Image box origin  : {-36.3054, -19.2213, -29.635}
   Image box size    : {29.8611, 49.6527, 46.8995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.3054, 19.2213, -29.635]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat -o /tmp/ashs.NQF8ufuz/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat -o /tmp/ashs.NQF8ufuz/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.NQF8ufuz/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.692308 0.698077
+ echo 'CHUNK 0.692308 0.698077 0.5'
CHUNK 0.692308 0.698077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.692308 0.698077 0.5
====================================
         PROGRESS: 0.692308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.NQF8ufuz/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.NQF8ufuz/fixed_hw.nii.gz /tmp/ashs.NQF8ufuz/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.537055, moving = 0.656043
LEVEL 1 of 3
  Smoothing sigmas: [2.35095, 2.38892, 2.38918], [0.959772, 0.975272, 0.97538]
Level     0,  Iter     0:    Energy =   0.0426
Level     0,  Iter     1:    Energy =   0.0491
Level     0,  Iter     2:    Energy =   0.0560
Level     0,  Iter     3:    Energy =   0.0612
Level     0,  Iter     4:    Energy =   0.0654
Level     0,  Iter     5:    Energy =   0.0698
Level     0,  Iter     6:    Energy =   0.0731
Level     0,  Iter     7:    Energy =   0.0756
Level     0,  Iter     8:    Energy =   0.0780
Level     0,  Iter     9:    Energy =   0.0802
Level     0,  Iter    10:    Energy =   0.0815
Level     0,  Iter    11:    Energy =   0.0830
Level     0,  Iter    12:    Energy =   0.0836
Level     0,  Iter    13:    Energy =   0.0841
Level     0,  Iter    14:    Energy =   0.0846
Level     0,  Iter    15:    Energy =   0.0848
Level     0,  Iter    16:    Energy =   0.0849
Level     0,  Iter    17:    Energy =   0.0852
Level     0,  Iter    18:    Energy =   0.0852
Level     0,  Iter    19:    Energy =   0.0855
Level     0,  Iter    20:    Energy =   0.0855
Level     0,  Iter    21:    Energy =   0.0857
Level     0,  Iter    22:    Energy =   0.0857
Level     0,  Iter    23:    Energy =   0.0859
Level     0,  Iter    24:    Energy =   0.0859
Level     0,  Iter    25:    Energy =   0.0860
Level     0,  Iter    26:    Energy =   0.0861
Level     0,  Iter    27:    Energy =   0.0862
Level     0,  Iter    28:    Energy =   0.0863
Level     0,  Iter    29:    Energy =   0.0863
Level     0,  Iter    30:    Energy =   0.0863
Level     0,  Iter    31:    Energy =   0.0865
Level     0,  Iter    32:    Energy =   0.0865
Level     0,  Iter    33:    Energy =   0.0865
Level     0,  Iter    34:    Energy =   0.0865
Level     0,  Iter    35:    Energy =   0.0867
Level     0,  Iter    36:    Energy =   0.0866
Level     0,  Iter    37:    Energy =   0.0867
Level     0,  Iter    38:    Energy =   0.0867
Level     0,  Iter    39:    Energy =   0.0868
Level     0,  Iter    40:    Energy =   0.0867
Level     0,  Iter    41:    Energy =   0.0868
Level     0,  Iter    42:    Energy =   0.0868
Level     0,  Iter    43:    Energy =   0.0869
Level     0,  Iter    44:    Energy =   0.0868
Level     0,  Iter    45:    Energy =   0.0869
Level     0,  Iter    46:    Energy =   0.0869
Level     0,  Iter    47:    Energy =   0.0869
Level     0,  Iter    48:    Energy =   0.0869
Level     0,  Iter    49:    Energy =   0.0870
Level     0,  Iter    50:    Energy =   0.0870
Level     0,  Iter    51:    Energy =   0.0870
Level     0,  Iter    52:    Energy =   0.0870
Level     0,  Iter    53:    Energy =   0.0871
Level     0,  Iter    54:    Energy =   0.0870
Level     0,  Iter    55:    Energy =   0.0871
Level     0,  Iter    56:    Energy =   0.0870
Level     0,  Iter    57:    Energy =   0.0871
Level     0,  Iter    58:    Energy =   0.0871
Level     0,  Iter    59:    Energy =   0.0871
END OF LEVEL     0    DetJac Range:   0.4146  to   2.0652 
  Avg. Gradient Time  : 0.0068s  37.40% 
  Avg. Gaussian Time  : 0.0086s  47.25% 
  Avg. Iteration Time : 0.0182s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19446, 1.21242], [0.491046, 0.487636, 0.494969]
Level     1,  Iter     0:    Energy =   0.0651
Level     1,  Iter     1:    Energy =   0.0695
Level     1,  Iter     2:    Energy =   0.0731
Level     1,  Iter     3:    Energy =   0.0763
Level     1,  Iter     4:    Energy =   0.0781
Level     1,  Iter     5:    Energy =   0.0799
Level     1,  Iter     6:    Energy =   0.0812
Level     1,  Iter     7:    Energy =   0.0820
Level     1,  Iter     8:    Energy =   0.0827
Level     1,  Iter     9:    Energy =   0.0833
Level     1,  Iter    10:    Energy =   0.0838
Level     1,  Iter    11:    Energy =   0.0842
Level     1,  Iter    12:    Energy =   0.0847
Level     1,  Iter    13:    Energy =   0.0852
Level     1,  Iter    14:    Energy =   0.0856
Level     1,  Iter    15:    Energy =   0.0859
Level     1,  Iter    16:    Energy =   0.0862
Level     1,  Iter    17:    Energy =   0.0864
Level     1,  Iter    18:    Energy =   0.0865
Level     1,  Iter    19:    Energy =   0.0866
Level     1,  Iter    20:    Energy =   0.0867
Level     1,  Iter    21:    Energy =   0.0869
Level     1,  Iter    22:    Energy =   0.0870
Level     1,  Iter    23:    Energy =   0.0872
Level     1,  Iter    24:    Energy =   0.0874
Level     1,  Iter    25:    Energy =   0.0876
Level     1,  Iter    26:    Energy =   0.0879
Level     1,  Iter    27:    Energy =   0.0881
Level     1,  Iter    28:    Energy =   0.0884
Level     1,  Iter    29:    Energy =   0.0886
Level     1,  Iter    30:    Energy =   0.0889
Level     1,  Iter    31:    Energy =   0.0892
Level     1,  Iter    32:    Energy =   0.0895
Level     1,  Iter    33:    Energy =   0.0898
Level     1,  Iter    34:    Energy =   0.0901
Level     1,  Iter    35:    Energy =   0.0903
Level     1,  Iter    36:    Energy =   0.0906
Level     1,  Iter    37:    Energy =   0.0908
Level     1,  Iter    38:    Energy =   0.0911
Level     1,  Iter    39:    Energy =   0.0910
Level     1,  Iter    40:    Energy =   0.0909
Level     1,  Iter    41:    Energy =   0.0908
Level     1,  Iter    42:    Energy =   0.0909
Level     1,  Iter    43:    Energy =   0.0909
Level     1,  Iter    44:    Energy =   0.0907
Level     1,  Iter    45:    Energy =   0.0907
Level     1,  Iter    46:    Energy =   0.0908
Level     1,  Iter    47:    Energy =   0.0907
Level     1,  Iter    48:    Energy =   0.0906
Level     1,  Iter    49:    Energy =   0.0906
Level     1,  Iter    50:    Energy =   0.0906
Level     1,  Iter    51:    Energy =   0.0906
Level     1,  Iter    52:    Energy =   0.0906
Level     1,  Iter    53:    Energy =   0.0906
Level     1,  Iter    54:    Energy =   0.0906
Level     1,  Iter    55:    Energy =   0.0906
Level     1,  Iter    56:    Energy =   0.0906
Level     1,  Iter    57:    Energy =   0.0906
Level     1,  Iter    58:    Energy =   0.0906
Level     1,  Iter    59:    Energy =   0.0906
END OF LEVEL     1    DetJac Range:   0.1414  to   2.9315 
  Avg. Gradient Time  : 0.0387s  41.07% 
  Avg. Gaussian Time  : 0.0442s  46.97% 
  Avg. Iteration Time : 0.0942s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0489
Level     2,  Iter     1:    Energy =   0.0515
Level     2,  Iter     2:    Energy =   0.0537
Level     2,  Iter     3:    Energy =   0.0555
Level     2,  Iter     4:    Energy =   0.0571
Level     2,  Iter     5:    Energy =   0.0583
Level     2,  Iter     6:    Energy =   0.0593
Level     2,  Iter     7:    Energy =   0.0602
Level     2,  Iter     8:    Energy =   0.0610
Level     2,  Iter     9:    Energy =   0.0616
Level     2,  Iter    10:    Energy =   0.0621
Level     2,  Iter    11:    Energy =   0.0626
Level     2,  Iter    12:    Energy =   0.0631
Level     2,  Iter    13:    Energy =   0.0637
Level     2,  Iter    14:    Energy =   0.0643
Level     2,  Iter    15:    Energy =   0.0648
Level     2,  Iter    16:    Energy =   0.0652
Level     2,  Iter    17:    Energy =   0.0656
Level     2,  Iter    18:    Energy =   0.0659
Level     2,  Iter    19:    Energy =   0.0663
END OF LEVEL     2    DetJac Range:   0.1091  to   4.5242 
  Avg. Gradient Time  : 0.2678s  38.53% 
  Avg. Gaussian Time  : 0.3547s  51.02% 
  Avg. Iteration Time : 0.6952s 

real	0m23.387s
user	0m40.936s
sys	0m2.716s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.692308 0.698077
+ echo 'CHUNK 0.692308 0.698077 1'
CHUNK 0.692308 0.698077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.692308 0.698077 1
====================================
         PROGRESS: 0.692308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 017
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2429.75 	 OutFr   0.0000 	 RMSD     4.2302
Iter 002 	 Temp     3.72 	 Delta  2213.72 	 OutFr   0.0000 	 RMSD     2.1589
Iter 003 	 Temp     3.46 	 Delta  2070.46 	 OutFr   0.0000 	 RMSD     2.1235
Iter 004 	 Temp     3.22 	 Delta  1950.85 	 OutFr   0.0000 	 RMSD     2.1002
Iter 005 	 Temp     2.99 	 Delta  1843.50 	 OutFr   0.0000 	 RMSD     2.0842
Iter 006 	 Temp     2.78 	 Delta  1745.46 	 OutFr   0.0000 	 RMSD     2.0703
Iter 007 	 Temp     2.59 	 Delta  1655.14 	 OutFr   0.0000 	 RMSD     2.0574
Iter 008 	 Temp     2.41 	 Delta  1570.68 	 OutFr   0.0000 	 RMSD     2.0468
Iter 009 	 Temp     2.24 	 Delta  1490.25 	 OutFr   0.0000 	 RMSD     2.0388
Iter 010 	 Temp     2.08 	 Delta  1413.01 	 OutFr   0.0000 	 RMSD     2.0323
Iter 011 	 Temp     1.94 	 Delta  1339.01 	 OutFr   0.0000 	 RMSD     2.0271
Iter 012 	 Temp     1.80 	 Delta  1268.06 	 OutFr   0.0000 	 RMSD     2.0232
Iter 013 	 Temp     1.67 	 Delta  1199.06 	 OutFr   0.0000 	 RMSD     2.0198
Iter 014 	 Temp     1.56 	 Delta  1130.36 	 OutFr   0.0026 	 RMSD     2.0175
Iter 015 	 Temp     1.45 	 Delta  1061.66 	 OutFr   0.0052 	 RMSD     2.0159
Iter 016 	 Temp     1.35 	 Delta   995.39 	 OutFr   0.0129 	 RMSD     2.0142
Iter 017 	 Temp     1.25 	 Delta   934.14 	 OutFr   0.0129 	 RMSD     2.0133
Iter 018 	 Temp     1.16 	 Delta   876.74 	 OutFr   0.0181 	 RMSD     2.0128
Iter 019 	 Temp     1.08 	 Delta   821.31 	 OutFr   0.0233 	 RMSD     2.0121
Iter 020 	 Temp     1.01 	 Delta   768.60 	 OutFr   0.0362 	 RMSD     2.0120
Iter 021 	 Temp     0.94 	 Delta   718.36 	 OutFr   0.0413 	 RMSD     2.0117
Iter 022 	 Temp     0.87 	 Delta   667.14 	 OutFr   0.0517 	 RMSD     2.0114
Iter 023 	 Temp     0.81 	 Delta   612.86 	 OutFr   0.0672 	 RMSD     2.0110
Iter 024 	 Temp     0.75 	 Delta   557.97 	 OutFr   0.0904 	 RMSD     2.0106
Iter 025 	 Temp     0.70 	 Delta   503.24 	 OutFr   0.1059 	 RMSD     2.0106
Iter 026 	 Temp     0.65 	 Delta   445.56 	 OutFr   0.1318 	 RMSD     2.0114
Iter 027 	 Temp     0.61 	 Delta   390.10 	 OutFr   0.1860 	 RMSD     2.0142
Iter 028 	 Temp     0.56 	 Delta   348.41 	 OutFr   0.2119 	 RMSD     2.0201
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.LQO7JnS5/mybin.nii.gz
+ vtklevelset /tmp/ashs.LQO7JnS5/mybin.nii.gz /tmp/ashs.LQO7JnS5/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.LQO7JnS5/mymesh.vtk /tmp/ashs.LQO7JnS5/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2899.42728319   1.04730822
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.LQO7JnS5/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.2163 to -11.0491
   Y : -19.9033 to 23.4704
   Z : -11.2125 to 21.2971
   Image resolution  : 93 by 154 by 122
   Image box origin  : {-38.2163, -24.9033, -16.2125}
   Image box size    : {32.2916, 53.4722, 42.6995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.2163, 24.9033, -16.2125]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat -o /tmp/ashs.LQO7JnS5/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat -o /tmp/ashs.LQO7JnS5/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.LQO7JnS5/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.698077 0.703846
+ echo 'CHUNK 0.698077 0.703846 0.5'
CHUNK 0.698077 0.703846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.698077 0.703846 0.5
====================================
         PROGRESS: 0.698077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.LQO7JnS5/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.LQO7JnS5/fixed_hw.nii.gz /tmp/ashs.LQO7JnS5/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54238, moving = 0.402509
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.37478, 2.38573], [0.951402, 0.969501, 0.973971]
Level     0,  Iter     0:    Energy =   0.0428
Level     0,  Iter     1:    Energy =   0.0482
Level     0,  Iter     2:    Energy =   0.0524
Level     0,  Iter     3:    Energy =   0.0568
Level     0,  Iter     4:    Energy =   0.0615
Level     0,  Iter     5:    Energy =   0.0651
Level     0,  Iter     6:    Energy =   0.0680
Level     0,  Iter     7:    Energy =   0.0702
Level     0,  Iter     8:    Energy =   0.0722
Level     0,  Iter     9:    Energy =   0.0741
Level     0,  Iter    10:    Energy =   0.0757
Level     0,  Iter    11:    Energy =   0.0765
Level     0,  Iter    12:    Energy =   0.0771
Level     0,  Iter    13:    Energy =   0.0777
Level     0,  Iter    14:    Energy =   0.0781
Level     0,  Iter    15:    Energy =   0.0785
Level     0,  Iter    16:    Energy =   0.0787
Level     0,  Iter    17:    Energy =   0.0789
Level     0,  Iter    18:    Energy =   0.0792
Level     0,  Iter    19:    Energy =   0.0794
Level     0,  Iter    20:    Energy =   0.0796
Level     0,  Iter    21:    Energy =   0.0797
Level     0,  Iter    22:    Energy =   0.0799
Level     0,  Iter    23:    Energy =   0.0800
Level     0,  Iter    24:    Energy =   0.0802
Level     0,  Iter    25:    Energy =   0.0803
Level     0,  Iter    26:    Energy =   0.0804
Level     0,  Iter    27:    Energy =   0.0805
Level     0,  Iter    28:    Energy =   0.0806
Level     0,  Iter    29:    Energy =   0.0806
Level     0,  Iter    30:    Energy =   0.0807
Level     0,  Iter    31:    Energy =   0.0807
Level     0,  Iter    32:    Energy =   0.0809
Level     0,  Iter    33:    Energy =   0.0809
Level     0,  Iter    34:    Energy =   0.0810
Level     0,  Iter    35:    Energy =   0.0810
Level     0,  Iter    36:    Energy =   0.0811
Level     0,  Iter    37:    Energy =   0.0811
Level     0,  Iter    38:    Energy =   0.0812
Level     0,  Iter    39:    Energy =   0.0813
Level     0,  Iter    40:    Energy =   0.0814
Level     0,  Iter    41:    Energy =   0.0813
Level     0,  Iter    42:    Energy =   0.0814
Level     0,  Iter    43:    Energy =   0.0814
Level     0,  Iter    44:    Energy =   0.0814
Level     0,  Iter    45:    Energy =   0.0814
Level     0,  Iter    46:    Energy =   0.0815
Level     0,  Iter    47:    Energy =   0.0815
Level     0,  Iter    48:    Energy =   0.0816
Level     0,  Iter    49:    Energy =   0.0815
Level     0,  Iter    50:    Energy =   0.0816
Level     0,  Iter    51:    Energy =   0.0816
Level     0,  Iter    52:    Energy =   0.0817
Level     0,  Iter    53:    Energy =   0.0816
Level     0,  Iter    54:    Energy =   0.0817
Level     0,  Iter    55:    Energy =   0.0817
Level     0,  Iter    56:    Energy =   0.0818
Level     0,  Iter    57:    Energy =   0.0818
Level     0,  Iter    58:    Energy =   0.0818
Level     0,  Iter    59:    Energy =   0.0818
END OF LEVEL     0    DetJac Range:   0.3196  to   1.9837 
  Avg. Gradient Time  : 0.0078s  37.98% 
  Avg. Gaussian Time  : 0.0096s  46.84% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.20281, 1.21242], [0.485822, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0559
Level     1,  Iter     1:    Energy =   0.0598
Level     1,  Iter     2:    Energy =   0.0630
Level     1,  Iter     3:    Energy =   0.0663
Level     1,  Iter     4:    Energy =   0.0689
Level     1,  Iter     5:    Energy =   0.0708
Level     1,  Iter     6:    Energy =   0.0725
Level     1,  Iter     7:    Energy =   0.0739
Level     1,  Iter     8:    Energy =   0.0752
Level     1,  Iter     9:    Energy =   0.0762
Level     1,  Iter    10:    Energy =   0.0772
Level     1,  Iter    11:    Energy =   0.0780
Level     1,  Iter    12:    Energy =   0.0789
Level     1,  Iter    13:    Energy =   0.0797
Level     1,  Iter    14:    Energy =   0.0804
Level     1,  Iter    15:    Energy =   0.0810
Level     1,  Iter    16:    Energy =   0.0809
Level     1,  Iter    17:    Energy =   0.0810
Level     1,  Iter    18:    Energy =   0.0810
Level     1,  Iter    19:    Energy =   0.0811
Level     1,  Iter    20:    Energy =   0.0811
Level     1,  Iter    21:    Energy =   0.0813
Level     1,  Iter    22:    Energy =   0.0812
Level     1,  Iter    23:    Energy =   0.0815
Level     1,  Iter    24:    Energy =   0.0813
Level     1,  Iter    25:    Energy =   0.0818
Level     1,  Iter    26:    Energy =   0.0818
Level     1,  Iter    27:    Energy =   0.0818
Level     1,  Iter    28:    Energy =   0.0818
Level     1,  Iter    29:    Energy =   0.0818
Level     1,  Iter    30:    Energy =   0.0817
Level     1,  Iter    31:    Energy =   0.0820
Level     1,  Iter    32:    Energy =   0.0818
Level     1,  Iter    33:    Energy =   0.0822
Level     1,  Iter    34:    Energy =   0.0820
Level     1,  Iter    35:    Energy =   0.0823
Level     1,  Iter    36:    Energy =   0.0821
Level     1,  Iter    37:    Energy =   0.0823
Level     1,  Iter    38:    Energy =   0.0821
Level     1,  Iter    39:    Energy =   0.0825
Level     1,  Iter    40:    Energy =   0.0822
Level     1,  Iter    41:    Energy =   0.0826
Level     1,  Iter    42:    Energy =   0.0823
Level     1,  Iter    43:    Energy =   0.0827
Level     1,  Iter    44:    Energy =   0.0824
Level     1,  Iter    45:    Energy =   0.0828
Level     1,  Iter    46:    Energy =   0.0824
Level     1,  Iter    47:    Energy =   0.0828
Level     1,  Iter    48:    Energy =   0.0826
Level     1,  Iter    49:    Energy =   0.0828
Level     1,  Iter    50:    Energy =   0.0824
Level     1,  Iter    51:    Energy =   0.0828
Level     1,  Iter    52:    Energy =   0.0826
Level     1,  Iter    53:    Energy =   0.0829
Level     1,  Iter    54:    Energy =   0.0825
Level     1,  Iter    55:    Energy =   0.0829
Level     1,  Iter    56:    Energy =   0.0827
Level     1,  Iter    57:    Energy =   0.0830
Level     1,  Iter    58:    Energy =   0.0826
Level     1,  Iter    59:    Energy =   0.0830
END OF LEVEL     1    DetJac Range:   0.0525  to   2.6711 
  Avg. Gradient Time  : 0.0447s  39.86% 
  Avg. Gaussian Time  : 0.0537s  47.98% 
  Avg. Iteration Time : 0.1120s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0438
Level     2,  Iter     1:    Energy =   0.0463
Level     2,  Iter     2:    Energy =   0.0482
Level     2,  Iter     3:    Energy =   0.0499
Level     2,  Iter     4:    Energy =   0.0513
Level     2,  Iter     5:    Energy =   0.0524
Level     2,  Iter     6:    Energy =   0.0533
Level     2,  Iter     7:    Energy =   0.0542
Level     2,  Iter     8:    Energy =   0.0548
Level     2,  Iter     9:    Energy =   0.0555
Level     2,  Iter    10:    Energy =   0.0561
Level     2,  Iter    11:    Energy =   0.0565
Level     2,  Iter    12:    Energy =   0.0568
Level     2,  Iter    13:    Energy =   0.0572
Level     2,  Iter    14:    Energy =   0.0575
Level     2,  Iter    15:    Energy =   0.0578
Level     2,  Iter    16:    Energy =   0.0581
Level     2,  Iter    17:    Energy =   0.0585
Level     2,  Iter    18:    Energy =   0.0589
Level     2,  Iter    19:    Energy =   0.0592
END OF LEVEL     2    DetJac Range:   0.0370  to   3.4552 
  Avg. Gradient Time  : 0.3161s  37.98% 
  Avg. Gaussian Time  : 0.4275s  51.37% 
  Avg. Iteration Time : 0.8323s 

real	0m27.930s
user	0m49.284s
sys	0m2.788s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.698077 0.703846
+ echo 'CHUNK 0.698077 0.703846 1'
CHUNK 0.698077 0.703846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.698077 0.703846 1
====================================
         PROGRESS: 0.698077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 018
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2003.34 	 OutFr   0.0052 	 RMSD     3.3616
Iter 002 	 Temp     3.72 	 Delta  1799.94 	 OutFr   0.0026 	 RMSD     2.2247
Iter 003 	 Temp     3.46 	 Delta  1685.14 	 OutFr   0.0026 	 RMSD     2.2131
Iter 004 	 Temp     3.22 	 Delta  1594.77 	 OutFr   0.0026 	 RMSD     2.1991
Iter 005 	 Temp     2.99 	 Delta  1513.56 	 OutFr   0.0052 	 RMSD     2.1843
Iter 006 	 Temp     2.78 	 Delta  1438.80 	 OutFr   0.0052 	 RMSD     2.1706
Iter 007 	 Temp     2.59 	 Delta  1370.78 	 OutFr   0.0052 	 RMSD     2.1594
Iter 008 	 Temp     2.41 	 Delta  1309.85 	 OutFr   0.0052 	 RMSD     2.1505
Iter 009 	 Temp     2.24 	 Delta  1255.20 	 OutFr   0.0052 	 RMSD     2.1431
Iter 010 	 Temp     2.08 	 Delta  1204.80 	 OutFr   0.0078 	 RMSD     2.1375
Iter 011 	 Temp     1.94 	 Delta  1156.26 	 OutFr   0.0078 	 RMSD     2.1331
Iter 012 	 Temp     1.80 	 Delta  1108.04 	 OutFr   0.0078 	 RMSD     2.1292
Iter 013 	 Temp     1.67 	 Delta  1060.12 	 OutFr   0.0103 	 RMSD     2.1258
Iter 014 	 Temp     1.56 	 Delta  1013.43 	 OutFr   0.0129 	 RMSD     2.1225
Iter 015 	 Temp     1.45 	 Delta   968.31 	 OutFr   0.0155 	 RMSD     2.1197
Iter 016 	 Temp     1.35 	 Delta   923.59 	 OutFr   0.0181 	 RMSD     2.1174
Iter 017 	 Temp     1.25 	 Delta   877.38 	 OutFr   0.0181 	 RMSD     2.1157
Iter 018 	 Temp     1.16 	 Delta   827.87 	 OutFr   0.0181 	 RMSD     2.1146
Iter 019 	 Temp     1.08 	 Delta   773.65 	 OutFr   0.0258 	 RMSD     2.1138
Iter 020 	 Temp     1.01 	 Delta   713.44 	 OutFr   0.0284 	 RMSD     2.1132
Iter 021 	 Temp     0.94 	 Delta   646.48 	 OutFr   0.0465 	 RMSD     2.1125
Iter 022 	 Temp     0.87 	 Delta   578.16 	 OutFr   0.0594 	 RMSD     2.1125
Iter 023 	 Temp     0.81 	 Delta   523.78 	 OutFr   0.0749 	 RMSD     2.1133
Iter 024 	 Temp     0.75 	 Delta   482.28 	 OutFr   0.0904 	 RMSD     2.1136
Iter 025 	 Temp     0.70 	 Delta   441.29 	 OutFr   0.1034 	 RMSD     2.1138
Iter 026 	 Temp     0.65 	 Delta   401.39 	 OutFr   0.1240 	 RMSD     2.1143
Iter 027 	 Temp     0.61 	 Delta   363.95 	 OutFr   0.1370 	 RMSD     2.1153
Iter 028 	 Temp     0.56 	 Delta   328.92 	 OutFr   0.1731 	 RMSD     2.1167
Iter 029 	 Temp     0.52 	 Delta   297.67 	 OutFr   0.2067 	 RMSD     2.1190
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.SuU352rc/mybin.nii.gz
+ vtklevelset /tmp/ashs.SuU352rc/mybin.nii.gz /tmp/ashs.SuU352rc/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.SuU352rc/mymesh.vtk /tmp/ashs.SuU352rc/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2755.10449424   0.99517708
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.SuU352rc/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.1343 to -8.71418
   Y : -22.4818 to 17.4804
   Z : 3.70901 to 35.461
   Image resolution  : 100 by 144 by 120
   Image box origin  : {-38.1343, -27.4818, -1.29099}
   Image box size    : {34.7222, 50, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.1343, 27.4818, -1.29099]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat -o /tmp/ashs.SuU352rc/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat -o /tmp/ashs.SuU352rc/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.SuU352rc/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.703846 0.709615
+ echo 'CHUNK 0.703846 0.709615 0.5'
CHUNK 0.703846 0.709615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.703846 0.709615 0.5
====================================
         PROGRESS: 0.703846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.SuU352rc/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.SuU352rc/fixed_hw.nii.gz /tmp/ashs.SuU352rc/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.551641, moving = 0.590327
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.42484], [0.982092, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0436
Level     0,  Iter     1:    Energy =   0.0512
Level     0,  Iter     2:    Energy =   0.0565
Level     0,  Iter     3:    Energy =   0.0604
Level     0,  Iter     4:    Energy =   0.0645
Level     0,  Iter     5:    Energy =   0.0688
Level     0,  Iter     6:    Energy =   0.0720
Level     0,  Iter     7:    Energy =   0.0745
Level     0,  Iter     8:    Energy =   0.0766
Level     0,  Iter     9:    Energy =   0.0777
Level     0,  Iter    10:    Energy =   0.0786
Level     0,  Iter    11:    Energy =   0.0793
Level     0,  Iter    12:    Energy =   0.0801
Level     0,  Iter    13:    Energy =   0.0805
Level     0,  Iter    14:    Energy =   0.0812
Level     0,  Iter    15:    Energy =   0.0815
Level     0,  Iter    16:    Energy =   0.0820
Level     0,  Iter    17:    Energy =   0.0822
Level     0,  Iter    18:    Energy =   0.0826
Level     0,  Iter    19:    Energy =   0.0829
Level     0,  Iter    20:    Energy =   0.0833
Level     0,  Iter    21:    Energy =   0.0835
Level     0,  Iter    22:    Energy =   0.0839
Level     0,  Iter    23:    Energy =   0.0840
Level     0,  Iter    24:    Energy =   0.0843
Level     0,  Iter    25:    Energy =   0.0844
Level     0,  Iter    26:    Energy =   0.0847
Level     0,  Iter    27:    Energy =   0.0847
Level     0,  Iter    28:    Energy =   0.0849
Level     0,  Iter    29:    Energy =   0.0850
Level     0,  Iter    30:    Energy =   0.0852
Level     0,  Iter    31:    Energy =   0.0852
Level     0,  Iter    32:    Energy =   0.0855
Level     0,  Iter    33:    Energy =   0.0856
Level     0,  Iter    34:    Energy =   0.0858
Level     0,  Iter    35:    Energy =   0.0858
Level     0,  Iter    36:    Energy =   0.0859
Level     0,  Iter    37:    Energy =   0.0860
Level     0,  Iter    38:    Energy =   0.0861
Level     0,  Iter    39:    Energy =   0.0862
Level     0,  Iter    40:    Energy =   0.0863
Level     0,  Iter    41:    Energy =   0.0863
Level     0,  Iter    42:    Energy =   0.0864
Level     0,  Iter    43:    Energy =   0.0865
Level     0,  Iter    44:    Energy =   0.0865
Level     0,  Iter    45:    Energy =   0.0865
Level     0,  Iter    46:    Energy =   0.0866
Level     0,  Iter    47:    Energy =   0.0866
Level     0,  Iter    48:    Energy =   0.0867
Level     0,  Iter    49:    Energy =   0.0867
Level     0,  Iter    50:    Energy =   0.0868
Level     0,  Iter    51:    Energy =   0.0869
Level     0,  Iter    52:    Energy =   0.0870
Level     0,  Iter    53:    Energy =   0.0870
Level     0,  Iter    54:    Energy =   0.0871
Level     0,  Iter    55:    Energy =   0.0871
Level     0,  Iter    56:    Energy =   0.0873
Level     0,  Iter    57:    Energy =   0.0873
Level     0,  Iter    58:    Energy =   0.0874
Level     0,  Iter    59:    Energy =   0.0875
END OF LEVEL     0    DetJac Range:   0.4909  to   3.1355 
  Avg. Gradient Time  : 0.0073s  37.21% 
  Avg. Gaussian Time  : 0.0093s  47.34% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0593
Level     1,  Iter     1:    Energy =   0.0642
Level     1,  Iter     2:    Energy =   0.0681
Level     1,  Iter     3:    Energy =   0.0705
Level     1,  Iter     4:    Energy =   0.0723
Level     1,  Iter     5:    Energy =   0.0740
Level     1,  Iter     6:    Energy =   0.0760
Level     1,  Iter     7:    Energy =   0.0781
Level     1,  Iter     8:    Energy =   0.0795
Level     1,  Iter     9:    Energy =   0.0806
Level     1,  Iter    10:    Energy =   0.0817
Level     1,  Iter    11:    Energy =   0.0830
Level     1,  Iter    12:    Energy =   0.0841
Level     1,  Iter    13:    Energy =   0.0849
Level     1,  Iter    14:    Energy =   0.0855
Level     1,  Iter    15:    Energy =   0.0855
Level     1,  Iter    16:    Energy =   0.0861
Level     1,  Iter    17:    Energy =   0.0860
Level     1,  Iter    18:    Energy =   0.0864
Level     1,  Iter    19:    Energy =   0.0864
Level     1,  Iter    20:    Energy =   0.0866
Level     1,  Iter    21:    Energy =   0.0865
Level     1,  Iter    22:    Energy =   0.0867
Level     1,  Iter    23:    Energy =   0.0866
Level     1,  Iter    24:    Energy =   0.0868
Level     1,  Iter    25:    Energy =   0.0868
Level     1,  Iter    26:    Energy =   0.0869
Level     1,  Iter    27:    Energy =   0.0869
Level     1,  Iter    28:    Energy =   0.0869
Level     1,  Iter    29:    Energy =   0.0869
Level     1,  Iter    30:    Energy =   0.0870
Level     1,  Iter    31:    Energy =   0.0869
Level     1,  Iter    32:    Energy =   0.0870
Level     1,  Iter    33:    Energy =   0.0869
Level     1,  Iter    34:    Energy =   0.0871
Level     1,  Iter    35:    Energy =   0.0870
Level     1,  Iter    36:    Energy =   0.0871
Level     1,  Iter    37:    Energy =   0.0870
Level     1,  Iter    38:    Energy =   0.0873
Level     1,  Iter    39:    Energy =   0.0871
Level     1,  Iter    40:    Energy =   0.0874
Level     1,  Iter    41:    Energy =   0.0872
Level     1,  Iter    42:    Energy =   0.0874
Level     1,  Iter    43:    Energy =   0.0872
Level     1,  Iter    44:    Energy =   0.0875
Level     1,  Iter    45:    Energy =   0.0873
Level     1,  Iter    46:    Energy =   0.0875
Level     1,  Iter    47:    Energy =   0.0873
Level     1,  Iter    48:    Energy =   0.0876
Level     1,  Iter    49:    Energy =   0.0874
Level     1,  Iter    50:    Energy =   0.0876
Level     1,  Iter    51:    Energy =   0.0874
Level     1,  Iter    52:    Energy =   0.0876
Level     1,  Iter    53:    Energy =   0.0874
Level     1,  Iter    54:    Energy =   0.0876
Level     1,  Iter    55:    Energy =   0.0874
Level     1,  Iter    56:    Energy =   0.0876
Level     1,  Iter    57:    Energy =   0.0874
Level     1,  Iter    58:    Energy =   0.0877
Level     1,  Iter    59:    Energy =   0.0874
END OF LEVEL     1    DetJac Range:   0.1477  to   4.2934 
  Avg. Gradient Time  : 0.0433s  40.46% 
  Avg. Gaussian Time  : 0.0510s  47.65% 
  Avg. Iteration Time : 0.1071s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0466
Level     2,  Iter     1:    Energy =   0.0487
Level     2,  Iter     2:    Energy =   0.0505
Level     2,  Iter     3:    Energy =   0.0524
Level     2,  Iter     4:    Energy =   0.0542
Level     2,  Iter     5:    Energy =   0.0557
Level     2,  Iter     6:    Energy =   0.0568
Level     2,  Iter     7:    Energy =   0.0576
Level     2,  Iter     8:    Energy =   0.0582
Level     2,  Iter     9:    Energy =   0.0588
Level     2,  Iter    10:    Energy =   0.0593
Level     2,  Iter    11:    Energy =   0.0597
Level     2,  Iter    12:    Energy =   0.0600
Level     2,  Iter    13:    Energy =   0.0602
Level     2,  Iter    14:    Energy =   0.0605
Level     2,  Iter    15:    Energy =   0.0607
Level     2,  Iter    16:    Energy =   0.0609
Level     2,  Iter    17:    Energy =   0.0611
Level     2,  Iter    18:    Energy =   0.0613
Level     2,  Iter    19:    Energy =   0.0614
END OF LEVEL     2    DetJac Range:   0.0647  to   5.0433 
  Avg. Gradient Time  : 0.3031s  37.09% 
  Avg. Gaussian Time  : 0.4272s  52.29% 
  Avg. Iteration Time : 0.8171s 

real	0m27.195s
user	0m48.000s
sys	0m2.820s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.703846 0.709615
+ echo 'CHUNK 0.703846 0.709615 1'
CHUNK 0.703846 0.709615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.703846 0.709615 1
====================================
         PROGRESS: 0.703846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 019
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1968.15 	 OutFr   0.0000 	 RMSD     3.3733
Iter 002 	 Temp     3.72 	 Delta  1923.08 	 OutFr   0.0052 	 RMSD     2.5171
Iter 003 	 Temp     3.46 	 Delta  1823.49 	 OutFr   0.0052 	 RMSD     2.5065
Iter 004 	 Temp     3.22 	 Delta  1719.96 	 OutFr   0.0103 	 RMSD     2.5059
Iter 005 	 Temp     2.99 	 Delta  1619.28 	 OutFr   0.0103 	 RMSD     2.5004
Iter 006 	 Temp     2.78 	 Delta  1525.63 	 OutFr   0.0103 	 RMSD     2.4920
Iter 007 	 Temp     2.59 	 Delta  1440.24 	 OutFr   0.0129 	 RMSD     2.4825
Iter 008 	 Temp     2.41 	 Delta  1362.43 	 OutFr   0.0155 	 RMSD     2.4721
Iter 009 	 Temp     2.24 	 Delta  1290.46 	 OutFr   0.0181 	 RMSD     2.4620
Iter 010 	 Temp     2.08 	 Delta  1221.90 	 OutFr   0.0181 	 RMSD     2.4526
Iter 011 	 Temp     1.94 	 Delta  1155.80 	 OutFr   0.0207 	 RMSD     2.4435
Iter 012 	 Temp     1.80 	 Delta  1092.47 	 OutFr   0.0284 	 RMSD     2.4357
Iter 013 	 Temp     1.67 	 Delta  1029.61 	 OutFr   0.0336 	 RMSD     2.4283
Iter 014 	 Temp     1.56 	 Delta   964.30 	 OutFr   0.0336 	 RMSD     2.4214
Iter 015 	 Temp     1.45 	 Delta   897.36 	 OutFr   0.0362 	 RMSD     2.4158
Iter 016 	 Temp     1.35 	 Delta   829.34 	 OutFr   0.0413 	 RMSD     2.4121
Iter 017 	 Temp     1.25 	 Delta   761.17 	 OutFr   0.0543 	 RMSD     2.4117
Iter 018 	 Temp     1.16 	 Delta   696.22 	 OutFr   0.0775 	 RMSD     2.4132
Iter 019 	 Temp     1.08 	 Delta   632.35 	 OutFr   0.0904 	 RMSD     2.4149
Iter 020 	 Temp     1.01 	 Delta   574.67 	 OutFr   0.1137 	 RMSD     2.4169
Iter 021 	 Temp     0.94 	 Delta   527.57 	 OutFr   0.1266 	 RMSD     2.4188
Iter 022 	 Temp     0.87 	 Delta   490.38 	 OutFr   0.1344 	 RMSD     2.4195
Iter 023 	 Temp     0.81 	 Delta   457.00 	 OutFr   0.1473 	 RMSD     2.4175
Iter 024 	 Temp     0.75 	 Delta   423.82 	 OutFr   0.1576 	 RMSD     2.4120
Iter 025 	 Temp     0.70 	 Delta   391.64 	 OutFr   0.1654 	 RMSD     2.4049
Iter 026 	 Temp     0.65 	 Delta   360.86 	 OutFr   0.1938 	 RMSD     2.3968
Iter 027 	 Temp     0.61 	 Delta   327.65 	 OutFr   0.2016 	 RMSD     2.3905
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.4y6eFKGW/mybin.nii.gz
+ vtklevelset /tmp/ashs.4y6eFKGW/mybin.nii.gz /tmp/ashs.4y6eFKGW/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.4y6eFKGW/mymesh.vtk /tmp/ashs.4y6eFKGW/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 3041.41903835   1.09859736
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.4y6eFKGW/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.6301 to -8.913
   Y : -17.8181 to 23.5119
   Z : -9.65999 to 27.1441
   Image resolution  : 98 by 148 by 134
   Image box origin  : {-37.6301, -22.8181, -14.66}
   Image box size    : {34.0278, 51.3889, 46.8995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.6301, 22.8181, -14.66]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat -o /tmp/ashs.4y6eFKGW/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat -o /tmp/ashs.4y6eFKGW/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.4y6eFKGW/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.709615 0.715385
+ echo 'CHUNK 0.709615 0.715385 0.5'
CHUNK 0.709615 0.715385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.709615 0.715385 0.5
====================================
         PROGRESS: 0.709615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.4y6eFKGW/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.4y6eFKGW/fixed_hw.nii.gz /tmp/ashs.4y6eFKGW/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.536144, moving = 0.44862
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.40562, 2.38918], [0.96245, 0.982092, 0.97538]
Level     0,  Iter     0:    Energy =   0.0427
Level     0,  Iter     1:    Energy =   0.0498
Level     0,  Iter     2:    Energy =   0.0551
Level     0,  Iter     3:    Energy =   0.0602
Level     0,  Iter     4:    Energy =   0.0643
Level     0,  Iter     5:    Energy =   0.0680
Level     0,  Iter     6:    Energy =   0.0704
Level     0,  Iter     7:    Energy =   0.0727
Level     0,  Iter     8:    Energy =   0.0752
Level     0,  Iter     9:    Energy =   0.0769
Level     0,  Iter    10:    Energy =   0.0777
Level     0,  Iter    11:    Energy =   0.0778
Level     0,  Iter    12:    Energy =   0.0782
Level     0,  Iter    13:    Energy =   0.0787
Level     0,  Iter    14:    Energy =   0.0790
Level     0,  Iter    15:    Energy =   0.0791
Level     0,  Iter    16:    Energy =   0.0796
Level     0,  Iter    17:    Energy =   0.0797
Level     0,  Iter    18:    Energy =   0.0802
Level     0,  Iter    19:    Energy =   0.0801
Level     0,  Iter    20:    Energy =   0.0807
Level     0,  Iter    21:    Energy =   0.0805
Level     0,  Iter    22:    Energy =   0.0810
Level     0,  Iter    23:    Energy =   0.0808
Level     0,  Iter    24:    Energy =   0.0812
Level     0,  Iter    25:    Energy =   0.0809
Level     0,  Iter    26:    Energy =   0.0813
Level     0,  Iter    27:    Energy =   0.0811
Level     0,  Iter    28:    Energy =   0.0816
Level     0,  Iter    29:    Energy =   0.0812
Level     0,  Iter    30:    Energy =   0.0816
Level     0,  Iter    31:    Energy =   0.0814
Level     0,  Iter    32:    Energy =   0.0818
Level     0,  Iter    33:    Energy =   0.0815
Level     0,  Iter    34:    Energy =   0.0818
Level     0,  Iter    35:    Energy =   0.0816
Level     0,  Iter    36:    Energy =   0.0820
Level     0,  Iter    37:    Energy =   0.0816
Level     0,  Iter    38:    Energy =   0.0820
Level     0,  Iter    39:    Energy =   0.0818
Level     0,  Iter    40:    Energy =   0.0822
Level     0,  Iter    41:    Energy =   0.0818
Level     0,  Iter    42:    Energy =   0.0822
Level     0,  Iter    43:    Energy =   0.0819
Level     0,  Iter    44:    Energy =   0.0823
Level     0,  Iter    45:    Energy =   0.0819
Level     0,  Iter    46:    Energy =   0.0824
Level     0,  Iter    47:    Energy =   0.0821
Level     0,  Iter    48:    Energy =   0.0824
Level     0,  Iter    49:    Energy =   0.0821
Level     0,  Iter    50:    Energy =   0.0825
Level     0,  Iter    51:    Energy =   0.0821
Level     0,  Iter    52:    Energy =   0.0825
Level     0,  Iter    53:    Energy =   0.0821
Level     0,  Iter    54:    Energy =   0.0826
Level     0,  Iter    55:    Energy =   0.0823
Level     0,  Iter    56:    Energy =   0.0826
Level     0,  Iter    57:    Energy =   0.0822
Level     0,  Iter    58:    Energy =   0.0827
Level     0,  Iter    59:    Energy =   0.0824
END OF LEVEL     0    DetJac Range:   0.2104  to   2.1066 
  Avg. Gradient Time  : 0.0082s  37.71% 
  Avg. Gaussian Time  : 0.0102s  46.93% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0583
Level     1,  Iter     1:    Energy =   0.0625
Level     1,  Iter     2:    Energy =   0.0663
Level     1,  Iter     3:    Energy =   0.0695
Level     1,  Iter     4:    Energy =   0.0717
Level     1,  Iter     5:    Energy =   0.0733
Level     1,  Iter     6:    Energy =   0.0747
Level     1,  Iter     7:    Energy =   0.0758
Level     1,  Iter     8:    Energy =   0.0769
Level     1,  Iter     9:    Energy =   0.0780
Level     1,  Iter    10:    Energy =   0.0789
Level     1,  Iter    11:    Energy =   0.0793
Level     1,  Iter    12:    Energy =   0.0793
Level     1,  Iter    13:    Energy =   0.0798
Level     1,  Iter    14:    Energy =   0.0798
Level     1,  Iter    15:    Energy =   0.0802
Level     1,  Iter    16:    Energy =   0.0802
Level     1,  Iter    17:    Energy =   0.0805
Level     1,  Iter    18:    Energy =   0.0805
Level     1,  Iter    19:    Energy =   0.0808
Level     1,  Iter    20:    Energy =   0.0808
Level     1,  Iter    21:    Energy =   0.0811
Level     1,  Iter    22:    Energy =   0.0810
Level     1,  Iter    23:    Energy =   0.0814
Level     1,  Iter    24:    Energy =   0.0812
Level     1,  Iter    25:    Energy =   0.0817
Level     1,  Iter    26:    Energy =   0.0815
Level     1,  Iter    27:    Energy =   0.0819
Level     1,  Iter    28:    Energy =   0.0817
Level     1,  Iter    29:    Energy =   0.0821
Level     1,  Iter    30:    Energy =   0.0818
Level     1,  Iter    31:    Energy =   0.0823
Level     1,  Iter    32:    Energy =   0.0820
Level     1,  Iter    33:    Energy =   0.0825
Level     1,  Iter    34:    Energy =   0.0823
Level     1,  Iter    35:    Energy =   0.0824
Level     1,  Iter    36:    Energy =   0.0822
Level     1,  Iter    37:    Energy =   0.0827
Level     1,  Iter    38:    Energy =   0.0826
Level     1,  Iter    39:    Energy =   0.0826
Level     1,  Iter    40:    Energy =   0.0823
Level     1,  Iter    41:    Energy =   0.0828
Level     1,  Iter    42:    Energy =   0.0827
Level     1,  Iter    43:    Energy =   0.0828
Level     1,  Iter    44:    Energy =   0.0825
Level     1,  Iter    45:    Energy =   0.0830
Level     1,  Iter    46:    Energy =   0.0829
Level     1,  Iter    47:    Energy =   0.0830
Level     1,  Iter    48:    Energy =   0.0827
Level     1,  Iter    49:    Energy =   0.0831
Level     1,  Iter    50:    Energy =   0.0830
Level     1,  Iter    51:    Energy =   0.0830
Level     1,  Iter    52:    Energy =   0.0828
Level     1,  Iter    53:    Energy =   0.0832
Level     1,  Iter    54:    Energy =   0.0829
Level     1,  Iter    55:    Energy =   0.0832
Level     1,  Iter    56:    Energy =   0.0830
Level     1,  Iter    57:    Energy =   0.0833
Level     1,  Iter    58:    Energy =   0.0832
Level     1,  Iter    59:    Energy =   0.0832
END OF LEVEL     1    DetJac Range:   0.0453  to   2.8543 
  Avg. Gradient Time  : 0.0482s  39.72% 
  Avg. Gaussian Time  : 0.0584s  48.13% 
  Avg. Iteration Time : 0.1214s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0415
Level     2,  Iter     1:    Energy =   0.0438
Level     2,  Iter     2:    Energy =   0.0457
Level     2,  Iter     3:    Energy =   0.0476
Level     2,  Iter     4:    Energy =   0.0492
Level     2,  Iter     5:    Energy =   0.0509
Level     2,  Iter     6:    Energy =   0.0522
Level     2,  Iter     7:    Energy =   0.0532
Level     2,  Iter     8:    Energy =   0.0540
Level     2,  Iter     9:    Energy =   0.0549
Level     2,  Iter    10:    Energy =   0.0558
Level     2,  Iter    11:    Energy =   0.0567
Level     2,  Iter    12:    Energy =   0.0576
Level     2,  Iter    13:    Energy =   0.0584
Level     2,  Iter    14:    Energy =   0.0590
Level     2,  Iter    15:    Energy =   0.0594
Level     2,  Iter    16:    Energy =   0.0599
Level     2,  Iter    17:    Energy =   0.0602
Level     2,  Iter    18:    Energy =   0.0604
Level     2,  Iter    19:    Energy =   0.0609
END OF LEVEL     2    DetJac Range:   0.0500  to   4.9389 
  Avg. Gradient Time  : 0.3458s  37.55% 
  Avg. Gaussian Time  : 0.4785s  51.97% 
  Avg. Iteration Time : 0.9208s 

real	0m30.668s
user	0m54.296s
sys	0m3.036s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.709615 0.715385
+ echo 'CHUNK 0.709615 0.715385 1'
CHUNK 0.709615 0.715385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.709615 0.715385 1
====================================
         PROGRESS: 0.709615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 020
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2581.30 	 OutFr   0.0078 	 RMSD     2.7780
Iter 002 	 Temp     3.72 	 Delta  2510.35 	 OutFr   0.0078 	 RMSD     2.6117
Iter 003 	 Temp     3.46 	 Delta  2445.99 	 OutFr   0.0103 	 RMSD     2.6384
Iter 004 	 Temp     3.22 	 Delta  2356.46 	 OutFr   0.0103 	 RMSD     2.6338
Iter 005 	 Temp     2.99 	 Delta  2256.85 	 OutFr   0.0103 	 RMSD     2.6220
Iter 006 	 Temp     2.78 	 Delta  2152.53 	 OutFr   0.0129 	 RMSD     2.6100
Iter 007 	 Temp     2.59 	 Delta  2043.15 	 OutFr   0.0129 	 RMSD     2.5983
Iter 008 	 Temp     2.41 	 Delta  1927.12 	 OutFr   0.0129 	 RMSD     2.5880
Iter 009 	 Temp     2.24 	 Delta  1805.01 	 OutFr   0.0129 	 RMSD     2.5778
Iter 010 	 Temp     2.08 	 Delta  1680.20 	 OutFr   0.0155 	 RMSD     2.5663
Iter 011 	 Temp     1.94 	 Delta  1558.58 	 OutFr   0.0155 	 RMSD     2.5548
Iter 012 	 Temp     1.80 	 Delta  1445.00 	 OutFr   0.0181 	 RMSD     2.5429
Iter 013 	 Temp     1.67 	 Delta  1341.87 	 OutFr   0.0207 	 RMSD     2.5307
Iter 014 	 Temp     1.56 	 Delta  1251.28 	 OutFr   0.0258 	 RMSD     2.5196
Iter 015 	 Temp     1.45 	 Delta  1172.90 	 OutFr   0.0310 	 RMSD     2.5097
Iter 016 	 Temp     1.35 	 Delta  1101.23 	 OutFr   0.0336 	 RMSD     2.5014
Iter 017 	 Temp     1.25 	 Delta  1031.55 	 OutFr   0.0362 	 RMSD     2.4933
Iter 018 	 Temp     1.16 	 Delta   961.50 	 OutFr   0.0413 	 RMSD     2.4862
Iter 019 	 Temp     1.08 	 Delta   889.09 	 OutFr   0.0491 	 RMSD     2.4798
Iter 020 	 Temp     1.01 	 Delta   809.66 	 OutFr   0.0724 	 RMSD     2.4735
Iter 021 	 Temp     0.94 	 Delta   725.78 	 OutFr   0.0749 	 RMSD     2.4674
Iter 022 	 Temp     0.87 	 Delta   652.42 	 OutFr   0.1059 	 RMSD     2.4619
Iter 023 	 Temp     0.81 	 Delta   589.39 	 OutFr   0.1292 	 RMSD     2.4580
Iter 024 	 Temp     0.75 	 Delta   528.00 	 OutFr   0.1576 	 RMSD     2.4539
Iter 025 	 Temp     0.70 	 Delta   471.90 	 OutFr   0.1654 	 RMSD     2.4514
Iter 026 	 Temp     0.65 	 Delta   429.76 	 OutFr   0.1886 	 RMSD     2.4510
Iter 027 	 Temp     0.61 	 Delta   395.89 	 OutFr   0.2016 	 RMSD     2.4533
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.iVgVUhl3/mybin.nii.gz
+ vtklevelset /tmp/ashs.iVgVUhl3/mybin.nii.gz /tmp/ashs.iVgVUhl3/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.iVgVUhl3/mymesh.vtk /tmp/ashs.iVgVUhl3/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2982.91977059   1.07746672
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.iVgVUhl3/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -28.2765 to -4.79325
   Y : -18.0763 to 23.2491
   Z : -9.19174 to 30.2075
   Image resolution  : 97 by 148 by 142
   Image box origin  : {-33.2765, -23.0763, -14.1917}
   Image box size    : {33.6805, 51.3889, 49.6994}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [33.2765, 23.0763, -14.1917]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat -o /tmp/ashs.iVgVUhl3/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat -o /tmp/ashs.iVgVUhl3/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.iVgVUhl3/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.715385 0.721154
+ echo 'CHUNK 0.715385 0.721154 0.5'
CHUNK 0.715385 0.721154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.715385 0.721154 0.5
====================================
         PROGRESS: 0.715385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.iVgVUhl3/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.iVgVUhl3/fixed_hw.nii.gz /tmp/ashs.iVgVUhl3/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.551742, moving = 0.46518
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.40562, 2.39117], [0.952629, 0.982092, 0.976189]
Level     0,  Iter     0:    Energy =   0.0302
Level     0,  Iter     1:    Energy =   0.0342
Level     0,  Iter     2:    Energy =   0.0383
Level     0,  Iter     3:    Energy =   0.0424
Level     0,  Iter     4:    Energy =   0.0461
Level     0,  Iter     5:    Energy =   0.0496
Level     0,  Iter     6:    Energy =   0.0534
Level     0,  Iter     7:    Energy =   0.0566
Level     0,  Iter     8:    Energy =   0.0592
Level     0,  Iter     9:    Energy =   0.0613
Level     0,  Iter    10:    Energy =   0.0632
Level     0,  Iter    11:    Energy =   0.0639
Level     0,  Iter    12:    Energy =   0.0650
Level     0,  Iter    13:    Energy =   0.0663
Level     0,  Iter    14:    Energy =   0.0675
Level     0,  Iter    15:    Energy =   0.0682
Level     0,  Iter    16:    Energy =   0.0689
Level     0,  Iter    17:    Energy =   0.0687
Level     0,  Iter    18:    Energy =   0.0695
Level     0,  Iter    19:    Energy =   0.0701
Level     0,  Iter    20:    Energy =   0.0703
Level     0,  Iter    21:    Energy =   0.0699
Level     0,  Iter    22:    Energy =   0.0704
Level     0,  Iter    23:    Energy =   0.0704
Level     0,  Iter    24:    Energy =   0.0706
Level     0,  Iter    25:    Energy =   0.0703
Level     0,  Iter    26:    Energy =   0.0708
Level     0,  Iter    27:    Energy =   0.0707
Level     0,  Iter    28:    Energy =   0.0709
Level     0,  Iter    29:    Energy =   0.0706
Level     0,  Iter    30:    Energy =   0.0711
Level     0,  Iter    31:    Energy =   0.0709
Level     0,  Iter    32:    Energy =   0.0711
Level     0,  Iter    33:    Energy =   0.0709
Level     0,  Iter    34:    Energy =   0.0712
Level     0,  Iter    35:    Energy =   0.0710
Level     0,  Iter    36:    Energy =   0.0714
Level     0,  Iter    37:    Energy =   0.0713
Level     0,  Iter    38:    Energy =   0.0716
Level     0,  Iter    39:    Energy =   0.0715
Level     0,  Iter    40:    Energy =   0.0719
Level     0,  Iter    41:    Energy =   0.0717
Level     0,  Iter    42:    Energy =   0.0720
Level     0,  Iter    43:    Energy =   0.0718
Level     0,  Iter    44:    Energy =   0.0721
Level     0,  Iter    45:    Energy =   0.0719
Level     0,  Iter    46:    Energy =   0.0724
Level     0,  Iter    47:    Energy =   0.0722
Level     0,  Iter    48:    Energy =   0.0727
Level     0,  Iter    49:    Energy =   0.0724
Level     0,  Iter    50:    Energy =   0.0728
Level     0,  Iter    51:    Energy =   0.0725
Level     0,  Iter    52:    Energy =   0.0729
Level     0,  Iter    53:    Energy =   0.0727
Level     0,  Iter    54:    Energy =   0.0731
Level     0,  Iter    55:    Energy =   0.0727
Level     0,  Iter    56:    Energy =   0.0734
Level     0,  Iter    57:    Energy =   0.0731
Level     0,  Iter    58:    Energy =   0.0733
Level     0,  Iter    59:    Energy =   0.0729
END OF LEVEL     0    DetJac Range:   0.1029  to   2.4041 
  Avg. Gradient Time  : 0.0086s  37.85% 
  Avg. Gaussian Time  : 0.0106s  46.38% 
  Avg. Iteration Time : 0.0228s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.21242], [0.486035, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0505
Level     1,  Iter     1:    Energy =   0.0540
Level     1,  Iter     2:    Energy =   0.0569
Level     1,  Iter     3:    Energy =   0.0593
Level     1,  Iter     4:    Energy =   0.0613
Level     1,  Iter     5:    Energy =   0.0628
Level     1,  Iter     6:    Energy =   0.0644
Level     1,  Iter     7:    Energy =   0.0659
Level     1,  Iter     8:    Energy =   0.0671
Level     1,  Iter     9:    Energy =   0.0680
Level     1,  Iter    10:    Energy =   0.0680
Level     1,  Iter    11:    Energy =   0.0681
Level     1,  Iter    12:    Energy =   0.0680
Level     1,  Iter    13:    Energy =   0.0685
Level     1,  Iter    14:    Energy =   0.0683
Level     1,  Iter    15:    Energy =   0.0688
Level     1,  Iter    16:    Energy =   0.0685
Level     1,  Iter    17:    Energy =   0.0690
Level     1,  Iter    18:    Energy =   0.0687
Level     1,  Iter    19:    Energy =   0.0691
Level     1,  Iter    20:    Energy =   0.0689
Level     1,  Iter    21:    Energy =   0.0692
Level     1,  Iter    22:    Energy =   0.0690
Level     1,  Iter    23:    Energy =   0.0693
Level     1,  Iter    24:    Energy =   0.0690
Level     1,  Iter    25:    Energy =   0.0695
Level     1,  Iter    26:    Energy =   0.0692
Level     1,  Iter    27:    Energy =   0.0696
Level     1,  Iter    28:    Energy =   0.0693
Level     1,  Iter    29:    Energy =   0.0697
Level     1,  Iter    30:    Energy =   0.0694
Level     1,  Iter    31:    Energy =   0.0697
Level     1,  Iter    32:    Energy =   0.0694
Level     1,  Iter    33:    Energy =   0.0698
Level     1,  Iter    34:    Energy =   0.0695
Level     1,  Iter    35:    Energy =   0.0699
Level     1,  Iter    36:    Energy =   0.0696
Level     1,  Iter    37:    Energy =   0.0700
Level     1,  Iter    38:    Energy =   0.0696
Level     1,  Iter    39:    Energy =   0.0700
Level     1,  Iter    40:    Energy =   0.0696
Level     1,  Iter    41:    Energy =   0.0700
Level     1,  Iter    42:    Energy =   0.0696
Level     1,  Iter    43:    Energy =   0.0700
Level     1,  Iter    44:    Energy =   0.0696
Level     1,  Iter    45:    Energy =   0.0699
Level     1,  Iter    46:    Energy =   0.0696
Level     1,  Iter    47:    Energy =   0.0699
Level     1,  Iter    48:    Energy =   0.0696
Level     1,  Iter    49:    Energy =   0.0698
Level     1,  Iter    50:    Energy =   0.0695
Level     1,  Iter    51:    Energy =   0.0698
Level     1,  Iter    52:    Energy =   0.0695
Level     1,  Iter    53:    Energy =   0.0698
Level     1,  Iter    54:    Energy =   0.0695
Level     1,  Iter    55:    Energy =   0.0697
Level     1,  Iter    56:    Energy =   0.0695
Level     1,  Iter    57:    Energy =   0.0697
Level     1,  Iter    58:    Energy =   0.0695
Level     1,  Iter    59:    Energy =   0.0697
END OF LEVEL     1    DetJac Range:   0.0743  to   2.4701 
  Avg. Gradient Time  : 0.0511s  39.42% 
  Avg. Gaussian Time  : 0.0626s  48.35% 
  Avg. Iteration Time : 0.1296s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0354
Level     2,  Iter     1:    Energy =   0.0371
Level     2,  Iter     2:    Energy =   0.0386
Level     2,  Iter     3:    Energy =   0.0400
Level     2,  Iter     4:    Energy =   0.0414
Level     2,  Iter     5:    Energy =   0.0427
Level     2,  Iter     6:    Energy =   0.0441
Level     2,  Iter     7:    Energy =   0.0452
Level     2,  Iter     8:    Energy =   0.0462
Level     2,  Iter     9:    Energy =   0.0470
Level     2,  Iter    10:    Energy =   0.0476
Level     2,  Iter    11:    Energy =   0.0480
Level     2,  Iter    12:    Energy =   0.0484
Level     2,  Iter    13:    Energy =   0.0490
Level     2,  Iter    14:    Energy =   0.0496
Level     2,  Iter    15:    Energy =   0.0500
Level     2,  Iter    16:    Energy =   0.0504
Level     2,  Iter    17:    Energy =   0.0507
Level     2,  Iter    18:    Energy =   0.0509
Level     2,  Iter    19:    Energy =   0.0512
END OF LEVEL     2    DetJac Range:   0.0679  to   3.5690 
  Avg. Gradient Time  : 0.3545s  39.13% 
  Avg. Gaussian Time  : 0.4601s  50.79% 
  Avg. Iteration Time : 0.9059s 

real	0m30.949s
user	0m54.656s
sys	0m3.212s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.715385 0.721154
+ echo 'CHUNK 0.715385 0.721154 1'
CHUNK 0.715385 0.721154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.715385 0.721154 1
====================================
         PROGRESS: 0.715385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 021
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2035.80 	 OutFr   0.0000 	 RMSD     4.2101
Iter 002 	 Temp     3.72 	 Delta  1970.38 	 OutFr   0.0000 	 RMSD     2.1991
Iter 003 	 Temp     3.46 	 Delta  1852.09 	 OutFr   0.0000 	 RMSD     2.1494
Iter 004 	 Temp     3.22 	 Delta  1752.38 	 OutFr   0.0000 	 RMSD     2.1222
Iter 005 	 Temp     2.99 	 Delta  1662.33 	 OutFr   0.0000 	 RMSD     2.1027
Iter 006 	 Temp     2.78 	 Delta  1577.53 	 OutFr   0.0000 	 RMSD     2.0853
Iter 007 	 Temp     2.59 	 Delta  1494.81 	 OutFr   0.0000 	 RMSD     2.0718
Iter 008 	 Temp     2.41 	 Delta  1411.67 	 OutFr   0.0000 	 RMSD     2.0610
Iter 009 	 Temp     2.24 	 Delta  1326.91 	 OutFr   0.0000 	 RMSD     2.0518
Iter 010 	 Temp     2.08 	 Delta  1241.22 	 OutFr   0.0000 	 RMSD     2.0448
Iter 011 	 Temp     1.94 	 Delta  1157.61 	 OutFr   0.0000 	 RMSD     2.0392
Iter 012 	 Temp     1.80 	 Delta  1081.13 	 OutFr   0.0078 	 RMSD     2.0350
Iter 013 	 Temp     1.67 	 Delta  1015.22 	 OutFr   0.0103 	 RMSD     2.0315
Iter 014 	 Temp     1.56 	 Delta   957.68 	 OutFr   0.0103 	 RMSD     2.0289
Iter 015 	 Temp     1.45 	 Delta   904.62 	 OutFr   0.0129 	 RMSD     2.0267
Iter 016 	 Temp     1.35 	 Delta   854.49 	 OutFr   0.0129 	 RMSD     2.0250
Iter 017 	 Temp     1.25 	 Delta   806.77 	 OutFr   0.0129 	 RMSD     2.0234
Iter 018 	 Temp     1.16 	 Delta   760.85 	 OutFr   0.0129 	 RMSD     2.0216
Iter 019 	 Temp     1.08 	 Delta   716.64 	 OutFr   0.0181 	 RMSD     2.0202
Iter 020 	 Temp     1.01 	 Delta   674.42 	 OutFr   0.0233 	 RMSD     2.0190
Iter 021 	 Temp     0.94 	 Delta   633.30 	 OutFr   0.0336 	 RMSD     2.0176
Iter 022 	 Temp     0.87 	 Delta   593.47 	 OutFr   0.0413 	 RMSD     2.0164
Iter 023 	 Temp     0.81 	 Delta   554.39 	 OutFr   0.0517 	 RMSD     2.0149
Iter 024 	 Temp     0.75 	 Delta   515.65 	 OutFr   0.0620 	 RMSD     2.0138
Iter 025 	 Temp     0.70 	 Delta   477.68 	 OutFr   0.0801 	 RMSD     2.0132
Iter 026 	 Temp     0.65 	 Delta   439.17 	 OutFr   0.0956 	 RMSD     2.0125
Iter 027 	 Temp     0.61 	 Delta   397.71 	 OutFr   0.1240 	 RMSD     2.0117
Iter 028 	 Temp     0.56 	 Delta   354.12 	 OutFr   0.1550 	 RMSD     2.0118
Iter 029 	 Temp     0.52 	 Delta   314.48 	 OutFr   0.2016 	 RMSD     2.0129
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.iiv59WVr/mybin.nii.gz
+ vtklevelset /tmp/ashs.iiv59WVr/mybin.nii.gz /tmp/ashs.iiv59WVr/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.iiv59WVr/mymesh.vtk /tmp/ashs.iiv59WVr/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2831.29541376   1.02269817
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.iiv59WVr/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.6444 to -8.44373
   Y : -24.0674 to 19.1071
   Z : -28.6313 to 3.2927
   Image resolution  : 93 by 154 by 120
   Image box origin  : {-35.6444, -29.0674, -33.6313}
   Image box size    : {32.2916, 53.4722, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.6444, 29.0674, -33.6313]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat -o /tmp/ashs.iiv59WVr/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat -o /tmp/ashs.iiv59WVr/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.iiv59WVr/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.721154 0.726923
+ echo 'CHUNK 0.721154 0.726923 0.5'
CHUNK 0.721154 0.726923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.721154 0.726923 0.5
====================================
         PROGRESS: 0.721154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.iiv59WVr/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.iiv59WVr/fixed_hw.nii.gz /tmp/ashs.iiv59WVr/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.540056, moving = 0.673784
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.37478, 2.42484], [0.951402, 0.969501, 0.989938]
Level     0,  Iter     0:    Energy =   0.0375
Level     0,  Iter     1:    Energy =   0.0431
Level     0,  Iter     2:    Energy =   0.0481
Level     0,  Iter     3:    Energy =   0.0536
Level     0,  Iter     4:    Energy =   0.0586
Level     0,  Iter     5:    Energy =   0.0621
Level     0,  Iter     6:    Energy =   0.0654
Level     0,  Iter     7:    Energy =   0.0676
Level     0,  Iter     8:    Energy =   0.0699
Level     0,  Iter     9:    Energy =   0.0728
Level     0,  Iter    10:    Energy =   0.0753
Level     0,  Iter    11:    Energy =   0.0764
Level     0,  Iter    12:    Energy =   0.0772
Level     0,  Iter    13:    Energy =   0.0776
Level     0,  Iter    14:    Energy =   0.0782
Level     0,  Iter    15:    Energy =   0.0785
Level     0,  Iter    16:    Energy =   0.0790
Level     0,  Iter    17:    Energy =   0.0792
Level     0,  Iter    18:    Energy =   0.0796
Level     0,  Iter    19:    Energy =   0.0797
Level     0,  Iter    20:    Energy =   0.0801
Level     0,  Iter    21:    Energy =   0.0802
Level     0,  Iter    22:    Energy =   0.0805
Level     0,  Iter    23:    Energy =   0.0805
Level     0,  Iter    24:    Energy =   0.0808
Level     0,  Iter    25:    Energy =   0.0808
Level     0,  Iter    26:    Energy =   0.0811
Level     0,  Iter    27:    Energy =   0.0810
Level     0,  Iter    28:    Energy =   0.0813
Level     0,  Iter    29:    Energy =   0.0812
Level     0,  Iter    30:    Energy =   0.0815
Level     0,  Iter    31:    Energy =   0.0814
Level     0,  Iter    32:    Energy =   0.0816
Level     0,  Iter    33:    Energy =   0.0815
Level     0,  Iter    34:    Energy =   0.0817
Level     0,  Iter    35:    Energy =   0.0816
Level     0,  Iter    36:    Energy =   0.0818
Level     0,  Iter    37:    Energy =   0.0817
Level     0,  Iter    38:    Energy =   0.0819
Level     0,  Iter    39:    Energy =   0.0818
Level     0,  Iter    40:    Energy =   0.0820
Level     0,  Iter    41:    Energy =   0.0819
Level     0,  Iter    42:    Energy =   0.0821
Level     0,  Iter    43:    Energy =   0.0820
Level     0,  Iter    44:    Energy =   0.0822
Level     0,  Iter    45:    Energy =   0.0821
Level     0,  Iter    46:    Energy =   0.0823
Level     0,  Iter    47:    Energy =   0.0822
Level     0,  Iter    48:    Energy =   0.0824
Level     0,  Iter    49:    Energy =   0.0823
Level     0,  Iter    50:    Energy =   0.0824
Level     0,  Iter    51:    Energy =   0.0823
Level     0,  Iter    52:    Energy =   0.0824
Level     0,  Iter    53:    Energy =   0.0824
Level     0,  Iter    54:    Energy =   0.0825
Level     0,  Iter    55:    Energy =   0.0824
Level     0,  Iter    56:    Energy =   0.0826
Level     0,  Iter    57:    Energy =   0.0825
Level     0,  Iter    58:    Energy =   0.0827
Level     0,  Iter    59:    Energy =   0.0826
END OF LEVEL     0    DetJac Range:   0.3789  to   2.7243 
  Avg. Gradient Time  : 0.0077s  37.90% 
  Avg. Gaussian Time  : 0.0095s  46.82% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.20281, 1.21242], [0.485822, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0545
Level     1,  Iter     1:    Energy =   0.0584
Level     1,  Iter     2:    Energy =   0.0612
Level     1,  Iter     3:    Energy =   0.0637
Level     1,  Iter     4:    Energy =   0.0655
Level     1,  Iter     5:    Energy =   0.0673
Level     1,  Iter     6:    Energy =   0.0686
Level     1,  Iter     7:    Energy =   0.0696
Level     1,  Iter     8:    Energy =   0.0707
Level     1,  Iter     9:    Energy =   0.0717
Level     1,  Iter    10:    Energy =   0.0727
Level     1,  Iter    11:    Energy =   0.0734
Level     1,  Iter    12:    Energy =   0.0741
Level     1,  Iter    13:    Energy =   0.0746
Level     1,  Iter    14:    Energy =   0.0751
Level     1,  Iter    15:    Energy =   0.0752
Level     1,  Iter    16:    Energy =   0.0751
Level     1,  Iter    17:    Energy =   0.0752
Level     1,  Iter    18:    Energy =   0.0752
Level     1,  Iter    19:    Energy =   0.0752
Level     1,  Iter    20:    Energy =   0.0754
Level     1,  Iter    21:    Energy =   0.0753
Level     1,  Iter    22:    Energy =   0.0757
Level     1,  Iter    23:    Energy =   0.0755
Level     1,  Iter    24:    Energy =   0.0759
Level     1,  Iter    25:    Energy =   0.0758
Level     1,  Iter    26:    Energy =   0.0762
Level     1,  Iter    27:    Energy =   0.0760
Level     1,  Iter    28:    Energy =   0.0763
Level     1,  Iter    29:    Energy =   0.0762
Level     1,  Iter    30:    Energy =   0.0765
Level     1,  Iter    31:    Energy =   0.0763
Level     1,  Iter    32:    Energy =   0.0766
Level     1,  Iter    33:    Energy =   0.0764
Level     1,  Iter    34:    Energy =   0.0767
Level     1,  Iter    35:    Energy =   0.0766
Level     1,  Iter    36:    Energy =   0.0769
Level     1,  Iter    37:    Energy =   0.0767
Level     1,  Iter    38:    Energy =   0.0769
Level     1,  Iter    39:    Energy =   0.0768
Level     1,  Iter    40:    Energy =   0.0770
Level     1,  Iter    41:    Energy =   0.0769
Level     1,  Iter    42:    Energy =   0.0770
Level     1,  Iter    43:    Energy =   0.0769
Level     1,  Iter    44:    Energy =   0.0770
Level     1,  Iter    45:    Energy =   0.0769
Level     1,  Iter    46:    Energy =   0.0770
Level     1,  Iter    47:    Energy =   0.0769
Level     1,  Iter    48:    Energy =   0.0771
Level     1,  Iter    49:    Energy =   0.0770
Level     1,  Iter    50:    Energy =   0.0772
Level     1,  Iter    51:    Energy =   0.0771
Level     1,  Iter    52:    Energy =   0.0772
Level     1,  Iter    53:    Energy =   0.0772
Level     1,  Iter    54:    Energy =   0.0772
Level     1,  Iter    55:    Energy =   0.0772
Level     1,  Iter    56:    Energy =   0.0772
Level     1,  Iter    57:    Energy =   0.0772
Level     1,  Iter    58:    Energy =   0.0772
Level     1,  Iter    59:    Energy =   0.0772
END OF LEVEL     1    DetJac Range:   0.1723  to   4.2512 
  Avg. Gradient Time  : 0.0436s  40.33% 
  Avg. Gaussian Time  : 0.0515s  47.69% 
  Avg. Iteration Time : 0.1080s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0396
Level     2,  Iter     1:    Energy =   0.0418
Level     2,  Iter     2:    Energy =   0.0441
Level     2,  Iter     3:    Energy =   0.0458
Level     2,  Iter     4:    Energy =   0.0471
Level     2,  Iter     5:    Energy =   0.0481
Level     2,  Iter     6:    Energy =   0.0491
Level     2,  Iter     7:    Energy =   0.0500
Level     2,  Iter     8:    Energy =   0.0510
Level     2,  Iter     9:    Energy =   0.0520
Level     2,  Iter    10:    Energy =   0.0529
Level     2,  Iter    11:    Energy =   0.0536
Level     2,  Iter    12:    Energy =   0.0540
Level     2,  Iter    13:    Energy =   0.0544
Level     2,  Iter    14:    Energy =   0.0547
Level     2,  Iter    15:    Energy =   0.0549
Level     2,  Iter    16:    Energy =   0.0552
Level     2,  Iter    17:    Energy =   0.0556
Level     2,  Iter    18:    Energy =   0.0560
Level     2,  Iter    19:    Energy =   0.0563
END OF LEVEL     2    DetJac Range:   0.0572  to   6.2991 
  Avg. Gradient Time  : 0.2795s  38.10% 
  Avg. Gaussian Time  : 0.3760s  51.27% 
  Avg. Iteration Time : 0.7335s 

real	0m25.437s
user	0m44.636s
sys	0m2.864s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.721154 0.726923
+ echo 'CHUNK 0.721154 0.726923 1'
CHUNK 0.721154 0.726923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.721154 0.726923 1
====================================
         PROGRESS: 0.721154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 022
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1762.63 	 OutFr   0.0000 	 RMSD     2.3884
Iter 002 	 Temp     3.72 	 Delta  1740.07 	 OutFr   0.0000 	 RMSD     1.9528
Iter 003 	 Temp     3.46 	 Delta  1640.92 	 OutFr   0.0000 	 RMSD     1.9788
Iter 004 	 Temp     3.22 	 Delta  1538.14 	 OutFr   0.0000 	 RMSD     1.9608
Iter 005 	 Temp     2.99 	 Delta  1438.63 	 OutFr   0.0000 	 RMSD     1.9348
Iter 006 	 Temp     2.78 	 Delta  1343.90 	 OutFr   0.0000 	 RMSD     1.9084
Iter 007 	 Temp     2.59 	 Delta  1255.11 	 OutFr   0.0000 	 RMSD     1.8854
Iter 008 	 Temp     2.41 	 Delta  1172.74 	 OutFr   0.0000 	 RMSD     1.8663
Iter 009 	 Temp     2.24 	 Delta  1096.29 	 OutFr   0.0000 	 RMSD     1.8507
Iter 010 	 Temp     2.08 	 Delta  1024.96 	 OutFr   0.0026 	 RMSD     1.8378
Iter 011 	 Temp     1.94 	 Delta   958.22 	 OutFr   0.0052 	 RMSD     1.8281
Iter 012 	 Temp     1.80 	 Delta   895.61 	 OutFr   0.0052 	 RMSD     1.8212
Iter 013 	 Temp     1.67 	 Delta   836.35 	 OutFr   0.0052 	 RMSD     1.8166
Iter 014 	 Temp     1.56 	 Delta   779.99 	 OutFr   0.0078 	 RMSD     1.8131
Iter 015 	 Temp     1.45 	 Delta   727.12 	 OutFr   0.0103 	 RMSD     1.8106
Iter 016 	 Temp     1.35 	 Delta   678.73 	 OutFr   0.0103 	 RMSD     1.8086
Iter 017 	 Temp     1.25 	 Delta   634.86 	 OutFr   0.0155 	 RMSD     1.8069
Iter 018 	 Temp     1.16 	 Delta   594.06 	 OutFr   0.0284 	 RMSD     1.8051
Iter 019 	 Temp     1.08 	 Delta   554.31 	 OutFr   0.0284 	 RMSD     1.8032
Iter 020 	 Temp     1.01 	 Delta   514.35 	 OutFr   0.0284 	 RMSD     1.8011
Iter 021 	 Temp     0.94 	 Delta   476.26 	 OutFr   0.0336 	 RMSD     1.7991
Iter 022 	 Temp     0.87 	 Delta   443.89 	 OutFr   0.0491 	 RMSD     1.7970
Iter 023 	 Temp     0.81 	 Delta   417.08 	 OutFr   0.0517 	 RMSD     1.7949
Iter 024 	 Temp     0.75 	 Delta   393.54 	 OutFr   0.0543 	 RMSD     1.7932
Iter 025 	 Temp     0.70 	 Delta   371.53 	 OutFr   0.0724 	 RMSD     1.7919
Iter 026 	 Temp     0.65 	 Delta   350.33 	 OutFr   0.0853 	 RMSD     1.7907
Iter 027 	 Temp     0.61 	 Delta   328.45 	 OutFr   0.1008 	 RMSD     1.7896
Iter 028 	 Temp     0.56 	 Delta   303.86 	 OutFr   0.1163 	 RMSD     1.7883
Iter 029 	 Temp     0.52 	 Delta   279.09 	 OutFr   0.1292 	 RMSD     1.7866
Iter 030 	 Temp     0.49 	 Delta   258.27 	 OutFr   0.1525 	 RMSD     1.7846
Iter 031 	 Temp     0.45 	 Delta   237.98 	 OutFr   0.1809 	 RMSD     1.7835
Iter 032 	 Temp     0.42 	 Delta   217.02 	 OutFr   0.2041 	 RMSD     1.7834
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.4kpM5IyF/mybin.nii.gz
+ vtklevelset /tmp/ashs.4kpM5IyF/mybin.nii.gz /tmp/ashs.4kpM5IyF/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.4kpM5IyF/mymesh.vtk /tmp/ashs.4kpM5IyF/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2640.47887780   0.95377292
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.4kpM5IyF/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.8337 to -10.9233
   Y : -14.8625 to 25.2868
   Z : -19.7154 to 14.0943
   Image resolution  : 92 by 145 by 126
   Image box origin  : {-37.8337, -19.8625, -24.7154}
   Image box size    : {31.9444, 50.3472, 44.0995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.8337, 19.8625, -24.7154]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat -o /tmp/ashs.4kpM5IyF/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat -o /tmp/ashs.4kpM5IyF/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.4kpM5IyF/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.726923 0.732692
+ echo 'CHUNK 0.726923 0.732692 0.5'
CHUNK 0.726923 0.732692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.726923 0.732692 0.5
====================================
         PROGRESS: 0.726923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.4kpM5IyF/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.4kpM5IyF/fixed_hw.nii.gz /tmp/ashs.4kpM5IyF/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.556545, moving = 0.567482
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.35686, 2.38696], [0.982092, 0.962185, 0.97447]
Level     0,  Iter     0:    Energy =   0.0505
Level     0,  Iter     1:    Energy =   0.0569
Level     0,  Iter     2:    Energy =   0.0615
Level     0,  Iter     3:    Energy =   0.0656
Level     0,  Iter     4:    Energy =   0.0698
Level     0,  Iter     5:    Energy =   0.0739
Level     0,  Iter     6:    Energy =   0.0765
Level     0,  Iter     7:    Energy =   0.0793
Level     0,  Iter     8:    Energy =   0.0814
Level     0,  Iter     9:    Energy =   0.0837
Level     0,  Iter    10:    Energy =   0.0847
Level     0,  Iter    11:    Energy =   0.0858
Level     0,  Iter    12:    Energy =   0.0861
Level     0,  Iter    13:    Energy =   0.0867
Level     0,  Iter    14:    Energy =   0.0870
Level     0,  Iter    15:    Energy =   0.0877
Level     0,  Iter    16:    Energy =   0.0879
Level     0,  Iter    17:    Energy =   0.0884
Level     0,  Iter    18:    Energy =   0.0886
Level     0,  Iter    19:    Energy =   0.0890
Level     0,  Iter    20:    Energy =   0.0891
Level     0,  Iter    21:    Energy =   0.0892
Level     0,  Iter    22:    Energy =   0.0893
Level     0,  Iter    23:    Energy =   0.0895
Level     0,  Iter    24:    Energy =   0.0896
Level     0,  Iter    25:    Energy =   0.0898
Level     0,  Iter    26:    Energy =   0.0899
Level     0,  Iter    27:    Energy =   0.0901
Level     0,  Iter    28:    Energy =   0.0902
Level     0,  Iter    29:    Energy =   0.0904
Level     0,  Iter    30:    Energy =   0.0904
Level     0,  Iter    31:    Energy =   0.0904
Level     0,  Iter    32:    Energy =   0.0904
Level     0,  Iter    33:    Energy =   0.0905
Level     0,  Iter    34:    Energy =   0.0905
Level     0,  Iter    35:    Energy =   0.0906
Level     0,  Iter    36:    Energy =   0.0906
Level     0,  Iter    37:    Energy =   0.0907
Level     0,  Iter    38:    Energy =   0.0906
Level     0,  Iter    39:    Energy =   0.0908
Level     0,  Iter    40:    Energy =   0.0908
Level     0,  Iter    41:    Energy =   0.0910
Level     0,  Iter    42:    Energy =   0.0910
Level     0,  Iter    43:    Energy =   0.0911
Level     0,  Iter    44:    Energy =   0.0910
Level     0,  Iter    45:    Energy =   0.0911
Level     0,  Iter    46:    Energy =   0.0911
Level     0,  Iter    47:    Energy =   0.0912
Level     0,  Iter    48:    Energy =   0.0912
Level     0,  Iter    49:    Energy =   0.0914
Level     0,  Iter    50:    Energy =   0.0913
Level     0,  Iter    51:    Energy =   0.0915
Level     0,  Iter    52:    Energy =   0.0914
Level     0,  Iter    53:    Energy =   0.0914
Level     0,  Iter    54:    Energy =   0.0913
Level     0,  Iter    55:    Energy =   0.0914
Level     0,  Iter    56:    Energy =   0.0913
Level     0,  Iter    57:    Energy =   0.0914
Level     0,  Iter    58:    Energy =   0.0913
Level     0,  Iter    59:    Energy =   0.0914
END OF LEVEL     0    DetJac Range:   0.3297  to   2.2669 
  Avg. Gradient Time  : 0.0073s  37.90% 
  Avg. Gaussian Time  : 0.0090s  46.48% 
  Avg. Iteration Time : 0.0194s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19457, 1.21242], [0.491046, 0.487683, 0.494969]
Level     1,  Iter     0:    Energy =   0.0634
Level     1,  Iter     1:    Energy =   0.0679
Level     1,  Iter     2:    Energy =   0.0715
Level     1,  Iter     3:    Energy =   0.0744
Level     1,  Iter     4:    Energy =   0.0766
Level     1,  Iter     5:    Energy =   0.0782
Level     1,  Iter     6:    Energy =   0.0796
Level     1,  Iter     7:    Energy =   0.0808
Level     1,  Iter     8:    Energy =   0.0818
Level     1,  Iter     9:    Energy =   0.0826
Level     1,  Iter    10:    Energy =   0.0833
Level     1,  Iter    11:    Energy =   0.0838
Level     1,  Iter    12:    Energy =   0.0841
Level     1,  Iter    13:    Energy =   0.0842
Level     1,  Iter    14:    Energy =   0.0846
Level     1,  Iter    15:    Energy =   0.0848
Level     1,  Iter    16:    Energy =   0.0848
Level     1,  Iter    17:    Energy =   0.0850
Level     1,  Iter    18:    Energy =   0.0849
Level     1,  Iter    19:    Energy =   0.0854
Level     1,  Iter    20:    Energy =   0.0853
Level     1,  Iter    21:    Energy =   0.0858
Level     1,  Iter    22:    Energy =   0.0856
Level     1,  Iter    23:    Energy =   0.0859
Level     1,  Iter    24:    Energy =   0.0857
Level     1,  Iter    25:    Energy =   0.0860
Level     1,  Iter    26:    Energy =   0.0858
Level     1,  Iter    27:    Energy =   0.0863
Level     1,  Iter    28:    Energy =   0.0861
Level     1,  Iter    29:    Energy =   0.0863
Level     1,  Iter    30:    Energy =   0.0861
Level     1,  Iter    31:    Energy =   0.0865
Level     1,  Iter    32:    Energy =   0.0863
Level     1,  Iter    33:    Energy =   0.0866
Level     1,  Iter    34:    Energy =   0.0864
Level     1,  Iter    35:    Energy =   0.0868
Level     1,  Iter    36:    Energy =   0.0866
Level     1,  Iter    37:    Energy =   0.0867
Level     1,  Iter    38:    Energy =   0.0865
Level     1,  Iter    39:    Energy =   0.0868
Level     1,  Iter    40:    Energy =   0.0865
Level     1,  Iter    41:    Energy =   0.0870
Level     1,  Iter    42:    Energy =   0.0868
Level     1,  Iter    43:    Energy =   0.0868
Level     1,  Iter    44:    Energy =   0.0867
Level     1,  Iter    45:    Energy =   0.0869
Level     1,  Iter    46:    Energy =   0.0867
Level     1,  Iter    47:    Energy =   0.0870
Level     1,  Iter    48:    Energy =   0.0868
Level     1,  Iter    49:    Energy =   0.0869
Level     1,  Iter    50:    Energy =   0.0867
Level     1,  Iter    51:    Energy =   0.0870
Level     1,  Iter    52:    Energy =   0.0868
Level     1,  Iter    53:    Energy =   0.0870
Level     1,  Iter    54:    Energy =   0.0869
Level     1,  Iter    55:    Energy =   0.0870
Level     1,  Iter    56:    Energy =   0.0868
Level     1,  Iter    57:    Energy =   0.0870
Level     1,  Iter    58:    Energy =   0.0868
Level     1,  Iter    59:    Energy =   0.0870
END OF LEVEL     1    DetJac Range:   0.1691  to   3.8387 
  Avg. Gradient Time  : 0.0430s  40.18% 
  Avg. Gaussian Time  : 0.0510s  47.67% 
  Avg. Iteration Time : 0.1070s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0452
Level     2,  Iter     1:    Energy =   0.0479
Level     2,  Iter     2:    Energy =   0.0501
Level     2,  Iter     3:    Energy =   0.0518
Level     2,  Iter     4:    Energy =   0.0533
Level     2,  Iter     5:    Energy =   0.0545
Level     2,  Iter     6:    Energy =   0.0555
Level     2,  Iter     7:    Energy =   0.0566
Level     2,  Iter     8:    Energy =   0.0575
Level     2,  Iter     9:    Energy =   0.0580
Level     2,  Iter    10:    Energy =   0.0584
Level     2,  Iter    11:    Energy =   0.0587
Level     2,  Iter    12:    Energy =   0.0591
Level     2,  Iter    13:    Energy =   0.0595
Level     2,  Iter    14:    Energy =   0.0599
Level     2,  Iter    15:    Energy =   0.0604
Level     2,  Iter    16:    Energy =   0.0609
Level     2,  Iter    17:    Energy =   0.0614
Level     2,  Iter    18:    Energy =   0.0618
Level     2,  Iter    19:    Energy =   0.0620
END OF LEVEL     2    DetJac Range:   0.1012  to   5.8747 
  Avg. Gradient Time  : 0.3015s  37.66% 
  Avg. Gaussian Time  : 0.4143s  51.75% 
  Avg. Iteration Time : 0.8006s 

real	0m26.738s
user	0m46.904s
sys	0m2.752s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.726923 0.732692
+ echo 'CHUNK 0.726923 0.732692 1'
CHUNK 0.726923 0.732692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.726923 0.732692 1
====================================
         PROGRESS: 0.726923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 023
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1488.69 	 OutFr   0.0000 	 RMSD     1.9881
Iter 002 	 Temp     3.72 	 Delta  1419.93 	 OutFr   0.0000 	 RMSD     1.8382
Iter 003 	 Temp     3.46 	 Delta  1315.60 	 OutFr   0.0000 	 RMSD     1.8712
Iter 004 	 Temp     3.22 	 Delta  1225.84 	 OutFr   0.0000 	 RMSD     1.8505
Iter 005 	 Temp     2.99 	 Delta  1150.33 	 OutFr   0.0000 	 RMSD     1.8214
Iter 006 	 Temp     2.78 	 Delta  1086.47 	 OutFr   0.0000 	 RMSD     1.7937
Iter 007 	 Temp     2.59 	 Delta  1029.67 	 OutFr   0.0000 	 RMSD     1.7709
Iter 008 	 Temp     2.41 	 Delta   978.39 	 OutFr   0.0000 	 RMSD     1.7525
Iter 009 	 Temp     2.24 	 Delta   932.05 	 OutFr   0.0000 	 RMSD     1.7376
Iter 010 	 Temp     2.08 	 Delta   888.66 	 OutFr   0.0026 	 RMSD     1.7259
Iter 011 	 Temp     1.94 	 Delta   845.51 	 OutFr   0.0026 	 RMSD     1.7163
Iter 012 	 Temp     1.80 	 Delta   800.71 	 OutFr   0.0026 	 RMSD     1.7086
Iter 013 	 Temp     1.67 	 Delta   754.31 	 OutFr   0.0026 	 RMSD     1.7029
Iter 014 	 Temp     1.56 	 Delta   707.65 	 OutFr   0.0078 	 RMSD     1.6982
Iter 015 	 Temp     1.45 	 Delta   662.15 	 OutFr   0.0078 	 RMSD     1.6945
Iter 016 	 Temp     1.35 	 Delta   619.07 	 OutFr   0.0078 	 RMSD     1.6916
Iter 017 	 Temp     1.25 	 Delta   579.66 	 OutFr   0.0103 	 RMSD     1.6892
Iter 018 	 Temp     1.16 	 Delta   544.00 	 OutFr   0.0103 	 RMSD     1.6873
Iter 019 	 Temp     1.08 	 Delta   510.84 	 OutFr   0.0129 	 RMSD     1.6859
Iter 020 	 Temp     1.01 	 Delta   479.94 	 OutFr   0.0155 	 RMSD     1.6853
Iter 021 	 Temp     0.94 	 Delta   452.83 	 OutFr   0.0207 	 RMSD     1.6852
Iter 022 	 Temp     0.87 	 Delta   430.56 	 OutFr   0.0284 	 RMSD     1.6856
Iter 023 	 Temp     0.81 	 Delta   411.54 	 OutFr   0.0388 	 RMSD     1.6861
Iter 024 	 Temp     0.75 	 Delta   393.22 	 OutFr   0.0465 	 RMSD     1.6865
Iter 025 	 Temp     0.70 	 Delta   373.80 	 OutFr   0.0568 	 RMSD     1.6868
Iter 026 	 Temp     0.65 	 Delta   353.44 	 OutFr   0.0724 	 RMSD     1.6871
Iter 027 	 Temp     0.61 	 Delta   332.80 	 OutFr   0.0930 	 RMSD     1.6874
Iter 028 	 Temp     0.56 	 Delta   311.95 	 OutFr   0.1085 	 RMSD     1.6883
Iter 029 	 Temp     0.52 	 Delta   292.35 	 OutFr   0.1240 	 RMSD     1.6900
Iter 030 	 Temp     0.49 	 Delta   274.45 	 OutFr   0.1344 	 RMSD     1.6925
Iter 031 	 Temp     0.45 	 Delta   256.50 	 OutFr   0.1680 	 RMSD     1.6956
Iter 032 	 Temp     0.42 	 Delta   235.69 	 OutFr   0.1783 	 RMSD     1.6995
Iter 033 	 Temp     0.39 	 Delta   210.36 	 OutFr   0.1938 	 RMSD     1.7046
Iter 034 	 Temp     0.36 	 Delta   184.92 	 OutFr   0.2506 	 RMSD     1.7117
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.69zHxgGn/mybin.nii.gz
+ vtklevelset /tmp/ashs.69zHxgGn/mybin.nii.gz /tmp/ashs.69zHxgGn/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.69zHxgGn/mymesh.vtk /tmp/ashs.69zHxgGn/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2598.57016711   0.93863499
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.69zHxgGn/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -29.9426 to -7.23327
   Y : -16.4931 to 21.1993
   Z : -14.0489 to 20.3279
   Image resolution  : 95 by 138 by 127
   Image box origin  : {-34.9426, -21.4931, -19.0489}
   Image box size    : {32.9861, 47.9166, 44.4495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [34.9426, 21.4931, -19.0489]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat -o /tmp/ashs.69zHxgGn/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat -o /tmp/ashs.69zHxgGn/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.69zHxgGn/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.732692 0.738462
+ echo 'CHUNK 0.732692 0.738462 0.5'
CHUNK 0.732692 0.738462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.732692 0.738462 0.5
====================================
         PROGRESS: 0.732692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.69zHxgGn/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.69zHxgGn/fixed_hw.nii.gz /tmp/ashs.69zHxgGn/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.550604, moving = 0.763372
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.37126, 2.4059], [0.971862, 0.968062, 0.982204]
Level     0,  Iter     0:    Energy =   0.0514
Level     0,  Iter     1:    Energy =   0.0576
Level     0,  Iter     2:    Energy =   0.0645
Level     0,  Iter     3:    Energy =   0.0696
Level     0,  Iter     4:    Energy =   0.0737
Level     0,  Iter     5:    Energy =   0.0768
Level     0,  Iter     6:    Energy =   0.0791
Level     0,  Iter     7:    Energy =   0.0809
Level     0,  Iter     8:    Energy =   0.0822
Level     0,  Iter     9:    Energy =   0.0832
Level     0,  Iter    10:    Energy =   0.0843
Level     0,  Iter    11:    Energy =   0.0849
Level     0,  Iter    12:    Energy =   0.0853
Level     0,  Iter    13:    Energy =   0.0856
Level     0,  Iter    14:    Energy =   0.0859
Level     0,  Iter    15:    Energy =   0.0860
Level     0,  Iter    16:    Energy =   0.0860
Level     0,  Iter    17:    Energy =   0.0864
Level     0,  Iter    18:    Energy =   0.0865
Level     0,  Iter    19:    Energy =   0.0867
Level     0,  Iter    20:    Energy =   0.0867
Level     0,  Iter    21:    Energy =   0.0870
Level     0,  Iter    22:    Energy =   0.0869
Level     0,  Iter    23:    Energy =   0.0872
Level     0,  Iter    24:    Energy =   0.0871
Level     0,  Iter    25:    Energy =   0.0875
Level     0,  Iter    26:    Energy =   0.0874
Level     0,  Iter    27:    Energy =   0.0878
Level     0,  Iter    28:    Energy =   0.0877
Level     0,  Iter    29:    Energy =   0.0880
Level     0,  Iter    30:    Energy =   0.0878
Level     0,  Iter    31:    Energy =   0.0882
Level     0,  Iter    32:    Energy =   0.0880
Level     0,  Iter    33:    Energy =   0.0883
Level     0,  Iter    34:    Energy =   0.0882
Level     0,  Iter    35:    Energy =   0.0885
Level     0,  Iter    36:    Energy =   0.0884
Level     0,  Iter    37:    Energy =   0.0886
Level     0,  Iter    38:    Energy =   0.0884
Level     0,  Iter    39:    Energy =   0.0887
Level     0,  Iter    40:    Energy =   0.0886
Level     0,  Iter    41:    Energy =   0.0888
Level     0,  Iter    42:    Energy =   0.0887
Level     0,  Iter    43:    Energy =   0.0890
Level     0,  Iter    44:    Energy =   0.0888
Level     0,  Iter    45:    Energy =   0.0891
Level     0,  Iter    46:    Energy =   0.0888
Level     0,  Iter    47:    Energy =   0.0891
Level     0,  Iter    48:    Energy =   0.0889
Level     0,  Iter    49:    Energy =   0.0892
Level     0,  Iter    50:    Energy =   0.0890
Level     0,  Iter    51:    Energy =   0.0892
Level     0,  Iter    52:    Energy =   0.0890
Level     0,  Iter    53:    Energy =   0.0893
Level     0,  Iter    54:    Energy =   0.0890
Level     0,  Iter    55:    Energy =   0.0893
Level     0,  Iter    56:    Energy =   0.0891
Level     0,  Iter    57:    Energy =   0.0893
Level     0,  Iter    58:    Energy =   0.0891
Level     0,  Iter    59:    Energy =   0.0893
END OF LEVEL     0    DetJac Range:   0.5042  to   2.0552 
  Avg. Gradient Time  : 0.0073s  37.56% 
  Avg. Gaussian Time  : 0.0092s  47.09% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.20281, 1.20295], [0.485931, 0.491046, 0.491102]
Level     1,  Iter     0:    Energy =   0.0633
Level     1,  Iter     1:    Energy =   0.0683
Level     1,  Iter     2:    Energy =   0.0721
Level     1,  Iter     3:    Energy =   0.0746
Level     1,  Iter     4:    Energy =   0.0766
Level     1,  Iter     5:    Energy =   0.0783
Level     1,  Iter     6:    Energy =   0.0800
Level     1,  Iter     7:    Energy =   0.0812
Level     1,  Iter     8:    Energy =   0.0823
Level     1,  Iter     9:    Energy =   0.0833
Level     1,  Iter    10:    Energy =   0.0841
Level     1,  Iter    11:    Energy =   0.0849
Level     1,  Iter    12:    Energy =   0.0854
Level     1,  Iter    13:    Energy =   0.0855
Level     1,  Iter    14:    Energy =   0.0856
Level     1,  Iter    15:    Energy =   0.0860
Level     1,  Iter    16:    Energy =   0.0860
Level     1,  Iter    17:    Energy =   0.0863
Level     1,  Iter    18:    Energy =   0.0863
Level     1,  Iter    19:    Energy =   0.0865
Level     1,  Iter    20:    Energy =   0.0866
Level     1,  Iter    21:    Energy =   0.0867
Level     1,  Iter    22:    Energy =   0.0867
Level     1,  Iter    23:    Energy =   0.0868
Level     1,  Iter    24:    Energy =   0.0869
Level     1,  Iter    25:    Energy =   0.0870
Level     1,  Iter    26:    Energy =   0.0870
Level     1,  Iter    27:    Energy =   0.0871
Level     1,  Iter    28:    Energy =   0.0872
Level     1,  Iter    29:    Energy =   0.0872
Level     1,  Iter    30:    Energy =   0.0872
Level     1,  Iter    31:    Energy =   0.0873
Level     1,  Iter    32:    Energy =   0.0874
Level     1,  Iter    33:    Energy =   0.0874
Level     1,  Iter    34:    Energy =   0.0874
Level     1,  Iter    35:    Energy =   0.0874
Level     1,  Iter    36:    Energy =   0.0875
Level     1,  Iter    37:    Energy =   0.0874
Level     1,  Iter    38:    Energy =   0.0875
Level     1,  Iter    39:    Energy =   0.0875
Level     1,  Iter    40:    Energy =   0.0876
Level     1,  Iter    41:    Energy =   0.0876
Level     1,  Iter    42:    Energy =   0.0876
Level     1,  Iter    43:    Energy =   0.0876
Level     1,  Iter    44:    Energy =   0.0877
Level     1,  Iter    45:    Energy =   0.0877
Level     1,  Iter    46:    Energy =   0.0877
Level     1,  Iter    47:    Energy =   0.0877
Level     1,  Iter    48:    Energy =   0.0878
Level     1,  Iter    49:    Energy =   0.0878
Level     1,  Iter    50:    Energy =   0.0878
Level     1,  Iter    51:    Energy =   0.0878
Level     1,  Iter    52:    Energy =   0.0879
Level     1,  Iter    53:    Energy =   0.0878
Level     1,  Iter    54:    Energy =   0.0879
Level     1,  Iter    55:    Energy =   0.0878
Level     1,  Iter    56:    Energy =   0.0879
Level     1,  Iter    57:    Energy =   0.0879
Level     1,  Iter    58:    Energy =   0.0879
Level     1,  Iter    59:    Energy =   0.0879
END OF LEVEL     1    DetJac Range:   0.2534  to   3.2066 
  Avg. Gradient Time  : 0.0433s  40.20% 
  Avg. Gaussian Time  : 0.0508s  47.21% 
  Avg. Iteration Time : 0.1076s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0492
Level     2,  Iter     1:    Energy =   0.0516
Level     2,  Iter     2:    Energy =   0.0535
Level     2,  Iter     3:    Energy =   0.0552
Level     2,  Iter     4:    Energy =   0.0567
Level     2,  Iter     5:    Energy =   0.0577
Level     2,  Iter     6:    Energy =   0.0587
Level     2,  Iter     7:    Energy =   0.0598
Level     2,  Iter     8:    Energy =   0.0608
Level     2,  Iter     9:    Energy =   0.0617
Level     2,  Iter    10:    Energy =   0.0627
Level     2,  Iter    11:    Energy =   0.0635
Level     2,  Iter    12:    Energy =   0.0642
Level     2,  Iter    13:    Energy =   0.0648
Level     2,  Iter    14:    Energy =   0.0654
Level     2,  Iter    15:    Energy =   0.0658
Level     2,  Iter    16:    Energy =   0.0660
Level     2,  Iter    17:    Energy =   0.0663
Level     2,  Iter    18:    Energy =   0.0666
Level     2,  Iter    19:    Energy =   0.0668
END OF LEVEL     2    DetJac Range:   0.1140  to   4.4532 
  Avg. Gradient Time  : 0.3259s  35.43% 
  Avg. Gaussian Time  : 0.5101s  55.45% 
  Avg. Iteration Time : 0.9199s 

real	0m29.406s
user	0m52.320s
sys	0m2.840s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.732692 0.738462
+ echo 'CHUNK 0.732692 0.738462 1'
CHUNK 0.732692 0.738462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.732692 0.738462 1
====================================
         PROGRESS: 0.732692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 024
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1775.88 	 OutFr   0.0000 	 RMSD     3.4790
Iter 002 	 Temp     3.72 	 Delta  1670.55 	 OutFr   0.0000 	 RMSD     2.0775
Iter 003 	 Temp     3.46 	 Delta  1589.28 	 OutFr   0.0000 	 RMSD     2.0953
Iter 004 	 Temp     3.22 	 Delta  1505.56 	 OutFr   0.0000 	 RMSD     2.0793
Iter 005 	 Temp     2.99 	 Delta  1424.64 	 OutFr   0.0000 	 RMSD     2.0597
Iter 006 	 Temp     2.78 	 Delta  1348.82 	 OutFr   0.0000 	 RMSD     2.0415
Iter 007 	 Temp     2.59 	 Delta  1278.37 	 OutFr   0.0000 	 RMSD     2.0256
Iter 008 	 Temp     2.41 	 Delta  1211.96 	 OutFr   0.0000 	 RMSD     2.0125
Iter 009 	 Temp     2.24 	 Delta  1147.01 	 OutFr   0.0000 	 RMSD     2.0021
Iter 010 	 Temp     2.08 	 Delta  1082.08 	 OutFr   0.0000 	 RMSD     1.9933
Iter 011 	 Temp     1.94 	 Delta  1018.61 	 OutFr   0.0000 	 RMSD     1.9859
Iter 012 	 Temp     1.80 	 Delta   958.24 	 OutFr   0.0000 	 RMSD     1.9794
Iter 013 	 Temp     1.67 	 Delta   900.20 	 OutFr   0.0000 	 RMSD     1.9737
Iter 014 	 Temp     1.56 	 Delta   842.30 	 OutFr   0.0000 	 RMSD     1.9677
Iter 015 	 Temp     1.45 	 Delta   783.26 	 OutFr   0.0026 	 RMSD     1.9617
Iter 016 	 Temp     1.35 	 Delta   723.95 	 OutFr   0.0026 	 RMSD     1.9557
Iter 017 	 Temp     1.25 	 Delta   669.43 	 OutFr   0.0026 	 RMSD     1.9503
Iter 018 	 Temp     1.16 	 Delta   623.70 	 OutFr   0.0181 	 RMSD     1.9467
Iter 019 	 Temp     1.08 	 Delta   581.55 	 OutFr   0.0258 	 RMSD     1.9440
Iter 020 	 Temp     1.01 	 Delta   539.03 	 OutFr   0.0310 	 RMSD     1.9424
Iter 021 	 Temp     0.94 	 Delta   497.86 	 OutFr   0.0413 	 RMSD     1.9424
Iter 022 	 Temp     0.87 	 Delta   458.40 	 OutFr   0.0465 	 RMSD     1.9441
Iter 023 	 Temp     0.81 	 Delta   420.53 	 OutFr   0.0568 	 RMSD     1.9468
Iter 024 	 Temp     0.75 	 Delta   388.98 	 OutFr   0.0749 	 RMSD     1.9493
Iter 025 	 Temp     0.70 	 Delta   364.95 	 OutFr   0.0904 	 RMSD     1.9511
Iter 026 	 Temp     0.65 	 Delta   344.62 	 OutFr   0.0982 	 RMSD     1.9524
Iter 027 	 Temp     0.61 	 Delta   324.76 	 OutFr   0.1034 	 RMSD     1.9534
Iter 028 	 Temp     0.56 	 Delta   305.76 	 OutFr   0.1240 	 RMSD     1.9546
Iter 029 	 Temp     0.52 	 Delta   287.71 	 OutFr   0.1370 	 RMSD     1.9560
Iter 030 	 Temp     0.49 	 Delta   267.78 	 OutFr   0.1525 	 RMSD     1.9569
Iter 031 	 Temp     0.45 	 Delta   245.08 	 OutFr   0.1680 	 RMSD     1.9570
Iter 032 	 Temp     0.42 	 Delta   222.03 	 OutFr   0.2119 	 RMSD     1.9567
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.LphftO2y/mybin.nii.gz
+ vtklevelset /tmp/ashs.LphftO2y/mybin.nii.gz /tmp/ashs.LphftO2y/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.LphftO2y/mymesh.vtk /tmp/ashs.LphftO2y/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2711.48655371   0.97942176
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.LphftO2y/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -29.7499 to -7.43612
   Y : -13.5954 to 27.5997
   Z : -17.8271 to 15.953
   Image resolution  : 94 by 148 by 126
   Image box origin  : {-34.7499, -18.5954, -22.8271}
   Image box size    : {32.6389, 51.3889, 44.0995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [34.7499, 18.5954, -22.8271]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat -o /tmp/ashs.LphftO2y/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat -o /tmp/ashs.LphftO2y/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.LphftO2y/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.738462 0.744231
+ echo 'CHUNK 0.738462 0.744231 0.5'
CHUNK 0.738462 0.744231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.738462 0.744231 0.5
====================================
         PROGRESS: 0.738462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.LphftO2y/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.LphftO2y/fixed_hw.nii.gz /tmp/ashs.LphftO2y/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.545611, moving = 0.663075
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.40562, 2.38696], [0.961632, 0.982092, 0.97447]
Level     0,  Iter     0:    Energy =   0.0311
Level     0,  Iter     1:    Energy =   0.0358
Level     0,  Iter     2:    Energy =   0.0403
Level     0,  Iter     3:    Energy =   0.0443
Level     0,  Iter     4:    Energy =   0.0476
Level     0,  Iter     5:    Energy =   0.0508
Level     0,  Iter     6:    Energy =   0.0531
Level     0,  Iter     7:    Energy =   0.0553
Level     0,  Iter     8:    Energy =   0.0572
Level     0,  Iter     9:    Energy =   0.0578
Level     0,  Iter    10:    Energy =   0.0584
Level     0,  Iter    11:    Energy =   0.0589
Level     0,  Iter    12:    Energy =   0.0593
Level     0,  Iter    13:    Energy =   0.0598
Level     0,  Iter    14:    Energy =   0.0603
Level     0,  Iter    15:    Energy =   0.0608
Level     0,  Iter    16:    Energy =   0.0612
Level     0,  Iter    17:    Energy =   0.0616
Level     0,  Iter    18:    Energy =   0.0619
Level     0,  Iter    19:    Energy =   0.0623
Level     0,  Iter    20:    Energy =   0.0626
Level     0,  Iter    21:    Energy =   0.0632
Level     0,  Iter    22:    Energy =   0.0636
Level     0,  Iter    23:    Energy =   0.0642
Level     0,  Iter    24:    Energy =   0.0639
Level     0,  Iter    25:    Energy =   0.0645
Level     0,  Iter    26:    Energy =   0.0643
Level     0,  Iter    27:    Energy =   0.0649
Level     0,  Iter    28:    Energy =   0.0646
Level     0,  Iter    29:    Energy =   0.0653
Level     0,  Iter    30:    Energy =   0.0647
Level     0,  Iter    31:    Energy =   0.0653
Level     0,  Iter    32:    Energy =   0.0648
Level     0,  Iter    33:    Energy =   0.0655
Level     0,  Iter    34:    Energy =   0.0651
Level     0,  Iter    35:    Energy =   0.0657
Level     0,  Iter    36:    Energy =   0.0652
Level     0,  Iter    37:    Energy =   0.0658
Level     0,  Iter    38:    Energy =   0.0653
Level     0,  Iter    39:    Energy =   0.0659
Level     0,  Iter    40:    Energy =   0.0655
Level     0,  Iter    41:    Energy =   0.0660
Level     0,  Iter    42:    Energy =   0.0656
Level     0,  Iter    43:    Energy =   0.0662
Level     0,  Iter    44:    Energy =   0.0658
Level     0,  Iter    45:    Energy =   0.0663
Level     0,  Iter    46:    Energy =   0.0659
Level     0,  Iter    47:    Energy =   0.0665
Level     0,  Iter    48:    Energy =   0.0661
Level     0,  Iter    49:    Energy =   0.0666
Level     0,  Iter    50:    Energy =   0.0663
Level     0,  Iter    51:    Energy =   0.0668
Level     0,  Iter    52:    Energy =   0.0665
Level     0,  Iter    53:    Energy =   0.0670
Level     0,  Iter    54:    Energy =   0.0667
Level     0,  Iter    55:    Energy =   0.0672
Level     0,  Iter    56:    Energy =   0.0669
Level     0,  Iter    57:    Energy =   0.0674
Level     0,  Iter    58:    Energy =   0.0670
Level     0,  Iter    59:    Energy =   0.0674
END OF LEVEL     0    DetJac Range:   0.2058  to   2.2529 
  Avg. Gradient Time  : 0.0076s  37.94% 
  Avg. Gaussian Time  : 0.0094s  46.76% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0476
Level     1,  Iter     1:    Energy =   0.0504
Level     1,  Iter     2:    Energy =   0.0536
Level     1,  Iter     3:    Energy =   0.0565
Level     1,  Iter     4:    Energy =   0.0591
Level     1,  Iter     5:    Energy =   0.0612
Level     1,  Iter     6:    Energy =   0.0628
Level     1,  Iter     7:    Energy =   0.0641
Level     1,  Iter     8:    Energy =   0.0652
Level     1,  Iter     9:    Energy =   0.0662
Level     1,  Iter    10:    Energy =   0.0671
Level     1,  Iter    11:    Energy =   0.0678
Level     1,  Iter    12:    Energy =   0.0685
Level     1,  Iter    13:    Energy =   0.0692
Level     1,  Iter    14:    Energy =   0.0695
Level     1,  Iter    15:    Energy =   0.0697
Level     1,  Iter    16:    Energy =   0.0701
Level     1,  Iter    17:    Energy =   0.0701
Level     1,  Iter    18:    Energy =   0.0706
Level     1,  Iter    19:    Energy =   0.0705
Level     1,  Iter    20:    Energy =   0.0709
Level     1,  Iter    21:    Energy =   0.0709
Level     1,  Iter    22:    Energy =   0.0712
Level     1,  Iter    23:    Energy =   0.0711
Level     1,  Iter    24:    Energy =   0.0714
Level     1,  Iter    25:    Energy =   0.0712
Level     1,  Iter    26:    Energy =   0.0715
Level     1,  Iter    27:    Energy =   0.0714
Level     1,  Iter    28:    Energy =   0.0716
Level     1,  Iter    29:    Energy =   0.0715
Level     1,  Iter    30:    Energy =   0.0717
Level     1,  Iter    31:    Energy =   0.0716
Level     1,  Iter    32:    Energy =   0.0718
Level     1,  Iter    33:    Energy =   0.0717
Level     1,  Iter    34:    Energy =   0.0719
Level     1,  Iter    35:    Energy =   0.0717
Level     1,  Iter    36:    Energy =   0.0720
Level     1,  Iter    37:    Energy =   0.0718
Level     1,  Iter    38:    Energy =   0.0720
Level     1,  Iter    39:    Energy =   0.0719
Level     1,  Iter    40:    Energy =   0.0721
Level     1,  Iter    41:    Energy =   0.0718
Level     1,  Iter    42:    Energy =   0.0721
Level     1,  Iter    43:    Energy =   0.0719
Level     1,  Iter    44:    Energy =   0.0721
Level     1,  Iter    45:    Energy =   0.0719
Level     1,  Iter    46:    Energy =   0.0721
Level     1,  Iter    47:    Energy =   0.0719
Level     1,  Iter    48:    Energy =   0.0722
Level     1,  Iter    49:    Energy =   0.0720
Level     1,  Iter    50:    Energy =   0.0722
Level     1,  Iter    51:    Energy =   0.0720
Level     1,  Iter    52:    Energy =   0.0722
Level     1,  Iter    53:    Energy =   0.0721
Level     1,  Iter    54:    Energy =   0.0723
Level     1,  Iter    55:    Energy =   0.0721
Level     1,  Iter    56:    Energy =   0.0723
Level     1,  Iter    57:    Energy =   0.0721
Level     1,  Iter    58:    Energy =   0.0724
Level     1,  Iter    59:    Energy =   0.0721
END OF LEVEL     1    DetJac Range:   0.0683  to   3.9951 
  Avg. Gradient Time  : 0.0443s  39.82% 
  Avg. Gaussian Time  : 0.0533s  47.94% 
  Avg. Iteration Time : 0.1113s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0379
Level     2,  Iter     1:    Energy =   0.0402
Level     2,  Iter     2:    Energy =   0.0421
Level     2,  Iter     3:    Energy =   0.0439
Level     2,  Iter     4:    Energy =   0.0454
Level     2,  Iter     5:    Energy =   0.0466
Level     2,  Iter     6:    Energy =   0.0475
Level     2,  Iter     7:    Energy =   0.0485
Level     2,  Iter     8:    Energy =   0.0494
Level     2,  Iter     9:    Energy =   0.0502
Level     2,  Iter    10:    Energy =   0.0508
Level     2,  Iter    11:    Energy =   0.0513
Level     2,  Iter    12:    Energy =   0.0518
Level     2,  Iter    13:    Energy =   0.0522
Level     2,  Iter    14:    Energy =   0.0527
Level     2,  Iter    15:    Energy =   0.0532
Level     2,  Iter    16:    Energy =   0.0536
Level     2,  Iter    17:    Energy =   0.0540
Level     2,  Iter    18:    Energy =   0.0544
Level     2,  Iter    19:    Energy =   0.0542
END OF LEVEL     2    DetJac Range:   0.0517  to   4.7425 
  Avg. Gradient Time  : 0.3152s  37.67% 
  Avg. Gaussian Time  : 0.4325s  51.68% 
  Avg. Iteration Time : 0.8369s 

real	0m27.880s
user	0m48.772s
sys	0m2.948s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.738462 0.744231
+ echo 'CHUNK 0.738462 0.744231 1'
CHUNK 0.738462 0.744231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.738462 0.744231 1
====================================
         PROGRESS: 0.738462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 025
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1874.78 	 OutFr   0.0000 	 RMSD     2.8910
Iter 002 	 Temp     3.72 	 Delta  1938.11 	 OutFr   0.0026 	 RMSD     1.9248
Iter 003 	 Temp     3.46 	 Delta  1818.58 	 OutFr   0.0026 	 RMSD     1.9380
Iter 004 	 Temp     3.22 	 Delta  1687.40 	 OutFr   0.0026 	 RMSD     1.9205
Iter 005 	 Temp     2.99 	 Delta  1559.03 	 OutFr   0.0052 	 RMSD     1.9012
Iter 006 	 Temp     2.78 	 Delta  1437.65 	 OutFr   0.0052 	 RMSD     1.8840
Iter 007 	 Temp     2.59 	 Delta  1327.19 	 OutFr   0.0052 	 RMSD     1.8698
Iter 008 	 Temp     2.41 	 Delta  1229.71 	 OutFr   0.0052 	 RMSD     1.8580
Iter 009 	 Temp     2.24 	 Delta  1145.20 	 OutFr   0.0052 	 RMSD     1.8485
Iter 010 	 Temp     2.08 	 Delta  1072.37 	 OutFr   0.0078 	 RMSD     1.8409
Iter 011 	 Temp     1.94 	 Delta  1009.25 	 OutFr   0.0078 	 RMSD     1.8341
Iter 012 	 Temp     1.80 	 Delta   953.85 	 OutFr   0.0078 	 RMSD     1.8283
Iter 013 	 Temp     1.67 	 Delta   904.43 	 OutFr   0.0078 	 RMSD     1.8239
Iter 014 	 Temp     1.56 	 Delta   859.46 	 OutFr   0.0103 	 RMSD     1.8204
Iter 015 	 Temp     1.45 	 Delta   817.42 	 OutFr   0.0129 	 RMSD     1.8173
Iter 016 	 Temp     1.35 	 Delta   776.58 	 OutFr   0.0155 	 RMSD     1.8147
Iter 017 	 Temp     1.25 	 Delta   735.11 	 OutFr   0.0181 	 RMSD     1.8122
Iter 018 	 Temp     1.16 	 Delta   692.17 	 OutFr   0.0207 	 RMSD     1.8099
Iter 019 	 Temp     1.08 	 Delta   647.80 	 OutFr   0.0233 	 RMSD     1.8080
Iter 020 	 Temp     1.01 	 Delta   602.27 	 OutFr   0.0310 	 RMSD     1.8061
Iter 021 	 Temp     0.94 	 Delta   556.38 	 OutFr   0.0336 	 RMSD     1.8044
Iter 022 	 Temp     0.87 	 Delta   511.20 	 OutFr   0.0491 	 RMSD     1.8022
Iter 023 	 Temp     0.81 	 Delta   467.35 	 OutFr   0.0646 	 RMSD     1.7995
Iter 024 	 Temp     0.75 	 Delta   424.57 	 OutFr   0.0801 	 RMSD     1.7968
Iter 025 	 Temp     0.70 	 Delta   384.86 	 OutFr   0.0904 	 RMSD     1.7943
Iter 026 	 Temp     0.65 	 Delta   353.09 	 OutFr   0.1240 	 RMSD     1.7940
Iter 027 	 Temp     0.61 	 Delta   328.94 	 OutFr   0.1421 	 RMSD     1.7976
Iter 028 	 Temp     0.56 	 Delta   303.61 	 OutFr   0.1550 	 RMSD     1.8007
Iter 029 	 Temp     0.52 	 Delta   277.34 	 OutFr   0.1860 	 RMSD     1.8028
Iter 030 	 Temp     0.49 	 Delta   251.50 	 OutFr   0.2171 	 RMSD     1.8041
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.xTkFR8z3/mybin.nii.gz
+ vtklevelset /tmp/ashs.xTkFR8z3/mybin.nii.gz /tmp/ashs.xTkFR8z3/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.xTkFR8z3/mymesh.vtk /tmp/ashs.xTkFR8z3/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2768.45652878 2629.61966494   0.94985044
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.xTkFR8z3/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.3553 to -10.1352
   Y : -15.0991 to 24.0264
   Z : -6.58666 to 26.1544
   Image resolution  : 93 by 142 by 123
   Image box origin  : {-37.3553, -20.0991, -11.5867}
   Image box size    : {32.2916, 49.3055, 43.0495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.3553, 20.0991, -11.5867]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat -o /tmp/ashs.xTkFR8z3/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat -o /tmp/ashs.xTkFR8z3/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.xTkFR8z3/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.744231 0.75
+ echo 'CHUNK 0.744231 0.75 0.5'
CHUNK 0.744231 0.75 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.744231 0.75 0.5
====================================
         PROGRESS: 0.744231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.xTkFR8z3/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.xTkFR8z3/fixed_hw.nii.gz /tmp/ashs.xTkFR8z3/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.551788, moving = 0.408602
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.37221, 2.40529], [0.951402, 0.968452, 0.981955]
Level     0,  Iter     0:    Energy =   0.0451
Level     0,  Iter     1:    Energy =   0.0509
Level     0,  Iter     2:    Energy =   0.0561
Level     0,  Iter     3:    Energy =   0.0604
Level     0,  Iter     4:    Energy =   0.0643
Level     0,  Iter     5:    Energy =   0.0671
Level     0,  Iter     6:    Energy =   0.0694
Level     0,  Iter     7:    Energy =   0.0709
Level     0,  Iter     8:    Energy =   0.0725
Level     0,  Iter     9:    Energy =   0.0737
Level     0,  Iter    10:    Energy =   0.0744
Level     0,  Iter    11:    Energy =   0.0752
Level     0,  Iter    12:    Energy =   0.0754
Level     0,  Iter    13:    Energy =   0.0760
Level     0,  Iter    14:    Energy =   0.0763
Level     0,  Iter    15:    Energy =   0.0768
Level     0,  Iter    16:    Energy =   0.0770
Level     0,  Iter    17:    Energy =   0.0774
Level     0,  Iter    18:    Energy =   0.0776
Level     0,  Iter    19:    Energy =   0.0780
Level     0,  Iter    20:    Energy =   0.0781
Level     0,  Iter    21:    Energy =   0.0785
Level     0,  Iter    22:    Energy =   0.0786
Level     0,  Iter    23:    Energy =   0.0789
Level     0,  Iter    24:    Energy =   0.0789
Level     0,  Iter    25:    Energy =   0.0792
Level     0,  Iter    26:    Energy =   0.0792
Level     0,  Iter    27:    Energy =   0.0793
Level     0,  Iter    28:    Energy =   0.0794
Level     0,  Iter    29:    Energy =   0.0795
Level     0,  Iter    30:    Energy =   0.0795
Level     0,  Iter    31:    Energy =   0.0797
Level     0,  Iter    32:    Energy =   0.0797
Level     0,  Iter    33:    Energy =   0.0798
Level     0,  Iter    34:    Energy =   0.0799
Level     0,  Iter    35:    Energy =   0.0801
Level     0,  Iter    36:    Energy =   0.0801
Level     0,  Iter    37:    Energy =   0.0802
Level     0,  Iter    38:    Energy =   0.0802
Level     0,  Iter    39:    Energy =   0.0804
Level     0,  Iter    40:    Energy =   0.0804
Level     0,  Iter    41:    Energy =   0.0805
Level     0,  Iter    42:    Energy =   0.0805
Level     0,  Iter    43:    Energy =   0.0807
Level     0,  Iter    44:    Energy =   0.0806
Level     0,  Iter    45:    Energy =   0.0808
Level     0,  Iter    46:    Energy =   0.0808
Level     0,  Iter    47:    Energy =   0.0809
Level     0,  Iter    48:    Energy =   0.0808
Level     0,  Iter    49:    Energy =   0.0810
Level     0,  Iter    50:    Energy =   0.0809
Level     0,  Iter    51:    Energy =   0.0810
Level     0,  Iter    52:    Energy =   0.0810
Level     0,  Iter    53:    Energy =   0.0811
Level     0,  Iter    54:    Energy =   0.0811
Level     0,  Iter    55:    Energy =   0.0811
Level     0,  Iter    56:    Energy =   0.0811
Level     0,  Iter    57:    Energy =   0.0812
Level     0,  Iter    58:    Energy =   0.0811
Level     0,  Iter    59:    Energy =   0.0812
END OF LEVEL     0    DetJac Range:   0.4092  to   2.5460 
  Avg. Gradient Time  : 0.0073s  37.59% 
  Avg. Gaussian Time  : 0.0091s  46.82% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.20281, 1.20264], [0.485822, 0.491046, 0.490977]
Level     1,  Iter     0:    Energy =   0.0572
Level     1,  Iter     1:    Energy =   0.0614
Level     1,  Iter     2:    Energy =   0.0645
Level     1,  Iter     3:    Energy =   0.0679
Level     1,  Iter     4:    Energy =   0.0700
Level     1,  Iter     5:    Energy =   0.0717
Level     1,  Iter     6:    Energy =   0.0729
Level     1,  Iter     7:    Energy =   0.0738
Level     1,  Iter     8:    Energy =   0.0746
Level     1,  Iter     9:    Energy =   0.0754
Level     1,  Iter    10:    Energy =   0.0761
Level     1,  Iter    11:    Energy =   0.0768
Level     1,  Iter    12:    Energy =   0.0774
Level     1,  Iter    13:    Energy =   0.0781
Level     1,  Iter    14:    Energy =   0.0787
Level     1,  Iter    15:    Energy =   0.0792
Level     1,  Iter    16:    Energy =   0.0796
Level     1,  Iter    17:    Energy =   0.0800
Level     1,  Iter    18:    Energy =   0.0804
Level     1,  Iter    19:    Energy =   0.0808
Level     1,  Iter    20:    Energy =   0.0805
Level     1,  Iter    21:    Energy =   0.0807
Level     1,  Iter    22:    Energy =   0.0805
Level     1,  Iter    23:    Energy =   0.0807
Level     1,  Iter    24:    Energy =   0.0806
Level     1,  Iter    25:    Energy =   0.0808
Level     1,  Iter    26:    Energy =   0.0806
Level     1,  Iter    27:    Energy =   0.0809
Level     1,  Iter    28:    Energy =   0.0807
Level     1,  Iter    29:    Energy =   0.0810
Level     1,  Iter    30:    Energy =   0.0808
Level     1,  Iter    31:    Energy =   0.0811
Level     1,  Iter    32:    Energy =   0.0809
Level     1,  Iter    33:    Energy =   0.0812
Level     1,  Iter    34:    Energy =   0.0811
Level     1,  Iter    35:    Energy =   0.0813
Level     1,  Iter    36:    Energy =   0.0812
Level     1,  Iter    37:    Energy =   0.0814
Level     1,  Iter    38:    Energy =   0.0812
Level     1,  Iter    39:    Energy =   0.0815
Level     1,  Iter    40:    Energy =   0.0813
Level     1,  Iter    41:    Energy =   0.0815
Level     1,  Iter    42:    Energy =   0.0814
Level     1,  Iter    43:    Energy =   0.0816
Level     1,  Iter    44:    Energy =   0.0814
Level     1,  Iter    45:    Energy =   0.0816
Level     1,  Iter    46:    Energy =   0.0814
Level     1,  Iter    47:    Energy =   0.0816
Level     1,  Iter    48:    Energy =   0.0815
Level     1,  Iter    49:    Energy =   0.0817
Level     1,  Iter    50:    Energy =   0.0815
Level     1,  Iter    51:    Energy =   0.0817
Level     1,  Iter    52:    Energy =   0.0816
Level     1,  Iter    53:    Energy =   0.0818
Level     1,  Iter    54:    Energy =   0.0816
Level     1,  Iter    55:    Energy =   0.0818
Level     1,  Iter    56:    Energy =   0.0816
Level     1,  Iter    57:    Energy =   0.0818
Level     1,  Iter    58:    Energy =   0.0816
Level     1,  Iter    59:    Energy =   0.0818
END OF LEVEL     1    DetJac Range:   0.1338  to   3.6927 
  Avg. Gradient Time  : 0.0421s  39.88% 
  Avg. Gaussian Time  : 0.0506s  47.91% 
  Avg. Iteration Time : 0.1056s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0444
Level     2,  Iter     1:    Energy =   0.0466
Level     2,  Iter     2:    Energy =   0.0482
Level     2,  Iter     3:    Energy =   0.0501
Level     2,  Iter     4:    Energy =   0.0516
Level     2,  Iter     5:    Energy =   0.0529
Level     2,  Iter     6:    Energy =   0.0541
Level     2,  Iter     7:    Energy =   0.0552
Level     2,  Iter     8:    Energy =   0.0561
Level     2,  Iter     9:    Energy =   0.0568
Level     2,  Iter    10:    Energy =   0.0573
Level     2,  Iter    11:    Energy =   0.0580
Level     2,  Iter    12:    Energy =   0.0586
Level     2,  Iter    13:    Energy =   0.0592
Level     2,  Iter    14:    Energy =   0.0598
Level     2,  Iter    15:    Energy =   0.0603
Level     2,  Iter    16:    Energy =   0.0607
Level     2,  Iter    17:    Energy =   0.0610
Level     2,  Iter    18:    Energy =   0.0613
Level     2,  Iter    19:    Energy =   0.0616
END OF LEVEL     2    DetJac Range:   0.0747  to   5.3745 
  Avg. Gradient Time  : 0.2894s  37.56% 
  Avg. Gaussian Time  : 0.3982s  51.69% 
  Avg. Iteration Time : 0.7703s 

real	0m25.926s
user	0m45.584s
sys	0m2.752s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.744231 0.75
+ echo 'CHUNK 0.744231 0.75 1'
CHUNK 0.744231 0.75 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.744231 0.75 1
====================================
         PROGRESS: 0.744231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 000
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2213.29 	 OutFr   0.0054 	 RMSD     4.3234
Iter 002 	 Temp     3.72 	 Delta  1882.60 	 OutFr   0.0000 	 RMSD     2.2883
Iter 003 	 Temp     3.46 	 Delta  1721.02 	 OutFr   0.0000 	 RMSD     2.2107
Iter 004 	 Temp     3.22 	 Delta  1584.15 	 OutFr   0.0000 	 RMSD     2.1883
Iter 005 	 Temp     2.99 	 Delta  1457.16 	 OutFr   0.0027 	 RMSD     2.1709
Iter 006 	 Temp     2.78 	 Delta  1341.01 	 OutFr   0.0027 	 RMSD     2.1540
Iter 007 	 Temp     2.59 	 Delta  1240.88 	 OutFr   0.0054 	 RMSD     2.1391
Iter 008 	 Temp     2.41 	 Delta  1157.94 	 OutFr   0.0054 	 RMSD     2.1255
Iter 009 	 Temp     2.24 	 Delta  1087.45 	 OutFr   0.0054 	 RMSD     2.1149
Iter 010 	 Temp     2.08 	 Delta  1024.88 	 OutFr   0.0054 	 RMSD     2.1067
Iter 011 	 Temp     1.94 	 Delta   967.82 	 OutFr   0.0054 	 RMSD     2.1012
Iter 012 	 Temp     1.80 	 Delta   916.35 	 OutFr   0.0054 	 RMSD     2.0971
Iter 013 	 Temp     1.67 	 Delta   873.51 	 OutFr   0.0107 	 RMSD     2.0929
Iter 014 	 Temp     1.56 	 Delta   841.92 	 OutFr   0.0134 	 RMSD     2.0888
Iter 015 	 Temp     1.45 	 Delta   817.41 	 OutFr   0.0134 	 RMSD     2.0862
Iter 016 	 Temp     1.35 	 Delta   792.25 	 OutFr   0.0188 	 RMSD     2.0846
Iter 017 	 Temp     1.25 	 Delta   764.15 	 OutFr   0.0241 	 RMSD     2.0835
Iter 018 	 Temp     1.16 	 Delta   733.78 	 OutFr   0.0268 	 RMSD     2.0828
Iter 019 	 Temp     1.08 	 Delta   699.60 	 OutFr   0.0349 	 RMSD     2.0824
Iter 020 	 Temp     1.01 	 Delta   659.57 	 OutFr   0.0456 	 RMSD     2.0818
Iter 021 	 Temp     0.94 	 Delta   615.99 	 OutFr   0.0483 	 RMSD     2.0812
Iter 022 	 Temp     0.87 	 Delta   572.35 	 OutFr   0.0643 	 RMSD     2.0808
Iter 023 	 Temp     0.81 	 Delta   530.46 	 OutFr   0.0724 	 RMSD     2.0805
Iter 024 	 Temp     0.75 	 Delta   492.07 	 OutFr   0.0858 	 RMSD     2.0808
Iter 025 	 Temp     0.70 	 Delta   460.64 	 OutFr   0.1180 	 RMSD     2.0815
Iter 026 	 Temp     0.65 	 Delta   434.24 	 OutFr   0.1260 	 RMSD     2.0828
Iter 027 	 Temp     0.61 	 Delta   404.81 	 OutFr   0.1448 	 RMSD     2.0842
Iter 028 	 Temp     0.56 	 Delta   370.25 	 OutFr   0.1689 	 RMSD     2.0858
Iter 029 	 Temp     0.52 	 Delta   333.45 	 OutFr   0.2064 	 RMSD     2.0876
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.kJ5z9lEy/mybin.nii.gz
+ vtklevelset /tmp/ashs.kJ5z9lEy/mybin.nii.gz /tmp/ashs.kJ5z9lEy/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.kJ5z9lEy/mymesh.vtk /tmp/ashs.kJ5z9lEy/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 3029.72711245   1.03758142
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.kJ5z9lEy/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.51712 to 33.1624
   Y : -18.3017 to 24.8508
   Z : -13.0888 to 17.8536
   Image resolution  : 100 by 154 by 117
   Image box origin  : {3.51712, -23.3017, -18.0888}
   Image box size    : {34.7222, 53.4722, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.51712, 23.3017, -18.0888]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat -o /tmp/ashs.kJ5z9lEy/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat -o /tmp/ashs.kJ5z9lEy/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.kJ5z9lEy/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.75 0.755769
+ echo 'CHUNK 0.75 0.755769 0.5'
CHUNK 0.75 0.755769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.75 0.755769 0.5
====================================
         PROGRESS: 0.75               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.kJ5z9lEy/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.kJ5z9lEy/fixed_hw.nii.gz /tmp/ashs.kJ5z9lEy/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.652586, moving = 0.795632
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37478, 2.36422], [0.982092, 0.969501, 0.96519]
Level     0,  Iter     0:    Energy =   0.0754
Level     0,  Iter     1:    Energy =   0.0811
Level     0,  Iter     2:    Energy =   0.0861
Level     0,  Iter     3:    Energy =   0.0900
Level     0,  Iter     4:    Energy =   0.0933
Level     0,  Iter     5:    Energy =   0.0963
Level     0,  Iter     6:    Energy =   0.0977
Level     0,  Iter     7:    Energy =   0.0986
Level     0,  Iter     8:    Energy =   0.0991
Level     0,  Iter     9:    Energy =   0.0993
Level     0,  Iter    10:    Energy =   0.0997
Level     0,  Iter    11:    Energy =   0.1000
Level     0,  Iter    12:    Energy =   0.1001
Level     0,  Iter    13:    Energy =   0.1001
Level     0,  Iter    14:    Energy =   0.1004
Level     0,  Iter    15:    Energy =   0.1007
Level     0,  Iter    16:    Energy =   0.1007
Level     0,  Iter    17:    Energy =   0.1007
Level     0,  Iter    18:    Energy =   0.1009
Level     0,  Iter    19:    Energy =   0.1011
Level     0,  Iter    20:    Energy =   0.1012
Level     0,  Iter    21:    Energy =   0.1012
Level     0,  Iter    22:    Energy =   0.1014
Level     0,  Iter    23:    Energy =   0.1016
Level     0,  Iter    24:    Energy =   0.1017
Level     0,  Iter    25:    Energy =   0.1016
Level     0,  Iter    26:    Energy =   0.1018
Level     0,  Iter    27:    Energy =   0.1020
Level     0,  Iter    28:    Energy =   0.1021
Level     0,  Iter    29:    Energy =   0.1020
Level     0,  Iter    30:    Energy =   0.1022
Level     0,  Iter    31:    Energy =   0.1024
Level     0,  Iter    32:    Energy =   0.1024
Level     0,  Iter    33:    Energy =   0.1024
Level     0,  Iter    34:    Energy =   0.1026
Level     0,  Iter    35:    Energy =   0.1029
Level     0,  Iter    36:    Energy =   0.1029
Level     0,  Iter    37:    Energy =   0.1029
Level     0,  Iter    38:    Energy =   0.1031
Level     0,  Iter    39:    Energy =   0.1034
Level     0,  Iter    40:    Energy =   0.1036
Level     0,  Iter    41:    Energy =   0.1038
Level     0,  Iter    42:    Energy =   0.1039
Level     0,  Iter    43:    Energy =   0.1042
Level     0,  Iter    44:    Energy =   0.1043
Level     0,  Iter    45:    Energy =   0.1044
Level     0,  Iter    46:    Energy =   0.1046
Level     0,  Iter    47:    Energy =   0.1047
Level     0,  Iter    48:    Energy =   0.1048
Level     0,  Iter    49:    Energy =   0.1048
Level     0,  Iter    50:    Energy =   0.1049
Level     0,  Iter    51:    Energy =   0.1050
Level     0,  Iter    52:    Energy =   0.1050
Level     0,  Iter    53:    Energy =   0.1050
Level     0,  Iter    54:    Energy =   0.1050
Level     0,  Iter    55:    Energy =   0.1051
Level     0,  Iter    56:    Energy =   0.1051
Level     0,  Iter    57:    Energy =   0.1051
Level     0,  Iter    58:    Energy =   0.1051
Level     0,  Iter    59:    Energy =   0.1051
END OF LEVEL     0    DetJac Range:   0.1798  to   2.1869 
  Avg. Gradient Time  : 0.0078s  37.75% 
  Avg. Gaussian Time  : 0.0096s  46.87% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20215], [0.491046, 0.491046, 0.490774]
Level     1,  Iter     0:    Energy =   0.0757
Level     1,  Iter     1:    Energy =   0.0796
Level     1,  Iter     2:    Energy =   0.0833
Level     1,  Iter     3:    Energy =   0.0863
Level     1,  Iter     4:    Energy =   0.0884
Level     1,  Iter     5:    Energy =   0.0901
Level     1,  Iter     6:    Energy =   0.0913
Level     1,  Iter     7:    Energy =   0.0924
Level     1,  Iter     8:    Energy =   0.0931
Level     1,  Iter     9:    Energy =   0.0940
Level     1,  Iter    10:    Energy =   0.0940
Level     1,  Iter    11:    Energy =   0.0948
Level     1,  Iter    12:    Energy =   0.0949
Level     1,  Iter    13:    Energy =   0.0954
Level     1,  Iter    14:    Energy =   0.0954
Level     1,  Iter    15:    Energy =   0.0959
Level     1,  Iter    16:    Energy =   0.0959
Level     1,  Iter    17:    Energy =   0.0964
Level     1,  Iter    18:    Energy =   0.0963
Level     1,  Iter    19:    Energy =   0.0968
Level     1,  Iter    20:    Energy =   0.0968
Level     1,  Iter    21:    Energy =   0.0971
Level     1,  Iter    22:    Energy =   0.0971
Level     1,  Iter    23:    Energy =   0.0975
Level     1,  Iter    24:    Energy =   0.0973
Level     1,  Iter    25:    Energy =   0.0977
Level     1,  Iter    26:    Energy =   0.0976
Level     1,  Iter    27:    Energy =   0.0977
Level     1,  Iter    28:    Energy =   0.0976
Level     1,  Iter    29:    Energy =   0.0977
Level     1,  Iter    30:    Energy =   0.0976
Level     1,  Iter    31:    Energy =   0.0977
Level     1,  Iter    32:    Energy =   0.0977
Level     1,  Iter    33:    Energy =   0.0978
Level     1,  Iter    34:    Energy =   0.0977
Level     1,  Iter    35:    Energy =   0.0978
Level     1,  Iter    36:    Energy =   0.0978
Level     1,  Iter    37:    Energy =   0.0978
Level     1,  Iter    38:    Energy =   0.0978
Level     1,  Iter    39:    Energy =   0.0979
Level     1,  Iter    40:    Energy =   0.0979
Level     1,  Iter    41:    Energy =   0.0979
Level     1,  Iter    42:    Energy =   0.0979
Level     1,  Iter    43:    Energy =   0.0979
Level     1,  Iter    44:    Energy =   0.0980
Level     1,  Iter    45:    Energy =   0.0980
Level     1,  Iter    46:    Energy =   0.0980
Level     1,  Iter    47:    Energy =   0.0980
Level     1,  Iter    48:    Energy =   0.0980
Level     1,  Iter    49:    Energy =   0.0980
Level     1,  Iter    50:    Energy =   0.0980
Level     1,  Iter    51:    Energy =   0.0980
Level     1,  Iter    52:    Energy =   0.0980
Level     1,  Iter    53:    Energy =   0.0980
Level     1,  Iter    54:    Energy =   0.0981
Level     1,  Iter    55:    Energy =   0.0981
Level     1,  Iter    56:    Energy =   0.0981
Level     1,  Iter    57:    Energy =   0.0981
Level     1,  Iter    58:    Energy =   0.0981
Level     1,  Iter    59:    Energy =   0.0981
END OF LEVEL     1    DetJac Range:   0.0290  to   3.1047 
  Avg. Gradient Time  : 0.0455s  40.29% 
  Avg. Gaussian Time  : 0.0542s  47.97% 
  Avg. Iteration Time : 0.1130s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0526
Level     2,  Iter     1:    Energy =   0.0554
Level     2,  Iter     2:    Energy =   0.0574
Level     2,  Iter     3:    Energy =   0.0589
Level     2,  Iter     4:    Energy =   0.0602
Level     2,  Iter     5:    Energy =   0.0612
Level     2,  Iter     6:    Energy =   0.0620
Level     2,  Iter     7:    Energy =   0.0628
Level     2,  Iter     8:    Energy =   0.0635
Level     2,  Iter     9:    Energy =   0.0642
Level     2,  Iter    10:    Energy =   0.0648
Level     2,  Iter    11:    Energy =   0.0654
Level     2,  Iter    12:    Energy =   0.0659
Level     2,  Iter    13:    Energy =   0.0664
Level     2,  Iter    14:    Energy =   0.0669
Level     2,  Iter    15:    Energy =   0.0674
Level     2,  Iter    16:    Energy =   0.0678
Level     2,  Iter    17:    Energy =   0.0682
Level     2,  Iter    18:    Energy =   0.0685
Level     2,  Iter    19:    Energy =   0.0689
END OF LEVEL     2    DetJac Range:   0.0168  to   3.9084 
  Avg. Gradient Time  : 0.3157s  37.22% 
  Avg. Gaussian Time  : 0.4425s  52.16% 
  Avg. Iteration Time : 0.8483s 

real	0m28.289s
user	0m49.932s
sys	0m3.032s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.75 0.755769
+ echo 'CHUNK 0.75 0.755769 1'
CHUNK 0.75 0.755769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.75 0.755769 1
====================================
         PROGRESS: 0.75               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 001
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1869.15 	 OutFr   0.0000 	 RMSD     3.4710
Iter 002 	 Temp     3.72 	 Delta  1853.72 	 OutFr   0.0000 	 RMSD     2.3285
Iter 003 	 Temp     3.46 	 Delta  1795.37 	 OutFr   0.0000 	 RMSD     2.3532
Iter 004 	 Temp     3.22 	 Delta  1729.33 	 OutFr   0.0000 	 RMSD     2.3511
Iter 005 	 Temp     2.99 	 Delta  1659.56 	 OutFr   0.0000 	 RMSD     2.3397
Iter 006 	 Temp     2.78 	 Delta  1587.82 	 OutFr   0.0000 	 RMSD     2.3253
Iter 007 	 Temp     2.59 	 Delta  1515.13 	 OutFr   0.0000 	 RMSD     2.3108
Iter 008 	 Temp     2.41 	 Delta  1440.20 	 OutFr   0.0000 	 RMSD     2.2968
Iter 009 	 Temp     2.24 	 Delta  1360.25 	 OutFr   0.0000 	 RMSD     2.2837
Iter 010 	 Temp     2.08 	 Delta  1274.50 	 OutFr   0.0107 	 RMSD     2.2719
Iter 011 	 Temp     1.94 	 Delta  1185.91 	 OutFr   0.0107 	 RMSD     2.2610
Iter 012 	 Temp     1.80 	 Delta  1099.30 	 OutFr   0.0134 	 RMSD     2.2528
Iter 013 	 Temp     1.67 	 Delta  1018.37 	 OutFr   0.0241 	 RMSD     2.2459
Iter 014 	 Temp     1.56 	 Delta   942.97 	 OutFr   0.0295 	 RMSD     2.2397
Iter 015 	 Temp     1.45 	 Delta   871.56 	 OutFr   0.0322 	 RMSD     2.2340
Iter 016 	 Temp     1.35 	 Delta   806.14 	 OutFr   0.0429 	 RMSD     2.2304
Iter 017 	 Temp     1.25 	 Delta   748.57 	 OutFr   0.0563 	 RMSD     2.2294
Iter 018 	 Temp     1.16 	 Delta   696.39 	 OutFr   0.0643 	 RMSD     2.2309
Iter 019 	 Temp     1.08 	 Delta   648.15 	 OutFr   0.0804 	 RMSD     2.2345
Iter 020 	 Temp     1.01 	 Delta   603.82 	 OutFr   0.0938 	 RMSD     2.2396
Iter 021 	 Temp     0.94 	 Delta   562.34 	 OutFr   0.1099 	 RMSD     2.2447
Iter 022 	 Temp     0.87 	 Delta   523.78 	 OutFr   0.1287 	 RMSD     2.2507
Iter 023 	 Temp     0.81 	 Delta   486.75 	 OutFr   0.1448 	 RMSD     2.2565
Iter 024 	 Temp     0.75 	 Delta   449.09 	 OutFr   0.1662 	 RMSD     2.2627
Iter 025 	 Temp     0.70 	 Delta   411.78 	 OutFr   0.1957 	 RMSD     2.2687
Iter 026 	 Temp     0.65 	 Delta   375.08 	 OutFr   0.2172 	 RMSD     2.2741
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.4FKKXUJE/mybin.nii.gz
+ vtklevelset /tmp/ashs.4FKKXUJE/mybin.nii.gz /tmp/ashs.4FKKXUJE/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.4FKKXUJE/mymesh.vtk /tmp/ashs.4FKKXUJE/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2622.69058270   0.89818486
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.4FKKXUJE/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.6358 to 34.634
   Y : -12.6852 to 25.0946
   Z : -12.7666 to 19.3069
   Image resolution  : 107 by 138 by 121
   Image box origin  : {2.6358, -17.6852, -17.7666}
   Image box size    : {37.1528, 47.9166, 42.3495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.6358, 17.6852, -17.7666]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat -o /tmp/ashs.4FKKXUJE/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat -o /tmp/ashs.4FKKXUJE/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.4FKKXUJE/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.755769 0.761538
+ echo 'CHUNK 0.755769 0.761538 0.5'
CHUNK 0.755769 0.761538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.755769 0.761538 0.5
====================================
         PROGRESS: 0.755769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.4FKKXUJE/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.4FKKXUJE/fixed_hw.nii.gz /tmp/ashs.4FKKXUJE/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.630663, moving = 0.803007
LEVEL 1 of 3
  Smoothing sigmas: [2.38335, 2.37126, 2.36618], [0.972999, 0.968062, 0.965988]
Level     0,  Iter     0:    Energy =   0.0199
Level     0,  Iter     1:    Energy =   0.0241
Level     0,  Iter     2:    Energy =   0.0286
Level     0,  Iter     3:    Energy =   0.0325
Level     0,  Iter     4:    Energy =   0.0360
Level     0,  Iter     5:    Energy =   0.0392
Level     0,  Iter     6:    Energy =   0.0420
Level     0,  Iter     7:    Energy =   0.0443
Level     0,  Iter     8:    Energy =   0.0462
Level     0,  Iter     9:    Energy =   0.0482
Level     0,  Iter    10:    Energy =   0.0496
Level     0,  Iter    11:    Energy =   0.0506
Level     0,  Iter    12:    Energy =   0.0514
Level     0,  Iter    13:    Energy =   0.0524
Level     0,  Iter    14:    Energy =   0.0533
Level     0,  Iter    15:    Energy =   0.0544
Level     0,  Iter    16:    Energy =   0.0555
Level     0,  Iter    17:    Energy =   0.0564
Level     0,  Iter    18:    Energy =   0.0573
Level     0,  Iter    19:    Energy =   0.0581
Level     0,  Iter    20:    Energy =   0.0590
Level     0,  Iter    21:    Energy =   0.0598
Level     0,  Iter    22:    Energy =   0.0606
Level     0,  Iter    23:    Energy =   0.0606
Level     0,  Iter    24:    Energy =   0.0610
Level     0,  Iter    25:    Energy =   0.0608
Level     0,  Iter    26:    Energy =   0.0613
Level     0,  Iter    27:    Energy =   0.0611
Level     0,  Iter    28:    Energy =   0.0614
Level     0,  Iter    29:    Energy =   0.0612
Level     0,  Iter    30:    Energy =   0.0617
Level     0,  Iter    31:    Energy =   0.0615
Level     0,  Iter    32:    Energy =   0.0619
Level     0,  Iter    33:    Energy =   0.0617
Level     0,  Iter    34:    Energy =   0.0620
Level     0,  Iter    35:    Energy =   0.0619
Level     0,  Iter    36:    Energy =   0.0622
Level     0,  Iter    37:    Energy =   0.0621
Level     0,  Iter    38:    Energy =   0.0625
Level     0,  Iter    39:    Energy =   0.0624
Level     0,  Iter    40:    Energy =   0.0628
Level     0,  Iter    41:    Energy =   0.0626
Level     0,  Iter    42:    Energy =   0.0630
Level     0,  Iter    43:    Energy =   0.0629
Level     0,  Iter    44:    Energy =   0.0632
Level     0,  Iter    45:    Energy =   0.0630
Level     0,  Iter    46:    Energy =   0.0633
Level     0,  Iter    47:    Energy =   0.0632
Level     0,  Iter    48:    Energy =   0.0635
Level     0,  Iter    49:    Energy =   0.0633
Level     0,  Iter    50:    Energy =   0.0636
Level     0,  Iter    51:    Energy =   0.0634
Level     0,  Iter    52:    Energy =   0.0636
Level     0,  Iter    53:    Energy =   0.0635
Level     0,  Iter    54:    Energy =   0.0638
Level     0,  Iter    55:    Energy =   0.0636
Level     0,  Iter    56:    Energy =   0.0639
Level     0,  Iter    57:    Energy =   0.0637
Level     0,  Iter    58:    Energy =   0.0639
Level     0,  Iter    59:    Energy =   0.0637
END OF LEVEL     0    DetJac Range:   0.1612  to   3.2643 
  Avg. Gradient Time  : 0.0076s  37.19% 
  Avg. Gaussian Time  : 0.0097s  47.54% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19168, 1.20281, 1.20248], [0.486499, 0.491046, 0.490912]
Level     1,  Iter     0:    Energy =   0.0426
Level     1,  Iter     1:    Energy =   0.0462
Level     1,  Iter     2:    Energy =   0.0493
Level     1,  Iter     3:    Energy =   0.0519
Level     1,  Iter     4:    Energy =   0.0538
Level     1,  Iter     5:    Energy =   0.0554
Level     1,  Iter     6:    Energy =   0.0565
Level     1,  Iter     7:    Energy =   0.0578
Level     1,  Iter     8:    Energy =   0.0588
Level     1,  Iter     9:    Energy =   0.0598
Level     1,  Iter    10:    Energy =   0.0608
Level     1,  Iter    11:    Energy =   0.0614
Level     1,  Iter    12:    Energy =   0.0620
Level     1,  Iter    13:    Energy =   0.0625
Level     1,  Iter    14:    Energy =   0.0631
Level     1,  Iter    15:    Energy =   0.0636
Level     1,  Iter    16:    Energy =   0.0640
Level     1,  Iter    17:    Energy =   0.0644
Level     1,  Iter    18:    Energy =   0.0648
Level     1,  Iter    19:    Energy =   0.0651
Level     1,  Iter    20:    Energy =   0.0654
Level     1,  Iter    21:    Energy =   0.0657
Level     1,  Iter    22:    Energy =   0.0659
Level     1,  Iter    23:    Energy =   0.0661
Level     1,  Iter    24:    Energy =   0.0662
Level     1,  Iter    25:    Energy =   0.0663
Level     1,  Iter    26:    Energy =   0.0663
Level     1,  Iter    27:    Energy =   0.0665
Level     1,  Iter    28:    Energy =   0.0665
Level     1,  Iter    29:    Energy =   0.0666
Level     1,  Iter    30:    Energy =   0.0665
Level     1,  Iter    31:    Energy =   0.0666
Level     1,  Iter    32:    Energy =   0.0666
Level     1,  Iter    33:    Energy =   0.0666
Level     1,  Iter    34:    Energy =   0.0667
Level     1,  Iter    35:    Energy =   0.0668
Level     1,  Iter    36:    Energy =   0.0668
Level     1,  Iter    37:    Energy =   0.0669
Level     1,  Iter    38:    Energy =   0.0669
Level     1,  Iter    39:    Energy =   0.0669
Level     1,  Iter    40:    Energy =   0.0669
Level     1,  Iter    41:    Energy =   0.0669
Level     1,  Iter    42:    Energy =   0.0669
Level     1,  Iter    43:    Energy =   0.0669
Level     1,  Iter    44:    Energy =   0.0669
Level     1,  Iter    45:    Energy =   0.0669
Level     1,  Iter    46:    Energy =   0.0669
Level     1,  Iter    47:    Energy =   0.0669
Level     1,  Iter    48:    Energy =   0.0669
Level     1,  Iter    49:    Energy =   0.0670
Level     1,  Iter    50:    Energy =   0.0669
Level     1,  Iter    51:    Energy =   0.0669
Level     1,  Iter    52:    Energy =   0.0669
Level     1,  Iter    53:    Energy =   0.0669
Level     1,  Iter    54:    Energy =   0.0669
Level     1,  Iter    55:    Energy =   0.0669
Level     1,  Iter    56:    Energy =   0.0669
Level     1,  Iter    57:    Energy =   0.0669
Level     1,  Iter    58:    Energy =   0.0669
Level     1,  Iter    59:    Energy =   0.0670
END OF LEVEL     1    DetJac Range:   0.0872  to   3.2065 
  Avg. Gradient Time  : 0.0448s  39.43% 
  Avg. Gaussian Time  : 0.0551s  48.50% 
  Avg. Iteration Time : 0.1136s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0342
Level     2,  Iter     1:    Energy =   0.0363
Level     2,  Iter     2:    Energy =   0.0381
Level     2,  Iter     3:    Energy =   0.0397
Level     2,  Iter     4:    Energy =   0.0411
Level     2,  Iter     5:    Energy =   0.0423
Level     2,  Iter     6:    Energy =   0.0433
Level     2,  Iter     7:    Energy =   0.0442
Level     2,  Iter     8:    Energy =   0.0450
Level     2,  Iter     9:    Energy =   0.0456
Level     2,  Iter    10:    Energy =   0.0462
Level     2,  Iter    11:    Energy =   0.0466
Level     2,  Iter    12:    Energy =   0.0470
Level     2,  Iter    13:    Energy =   0.0473
Level     2,  Iter    14:    Energy =   0.0475
Level     2,  Iter    15:    Energy =   0.0477
Level     2,  Iter    16:    Energy =   0.0478
Level     2,  Iter    17:    Energy =   0.0479
Level     2,  Iter    18:    Energy =   0.0480
Level     2,  Iter    19:    Energy =   0.0482
END OF LEVEL     2    DetJac Range:   0.0362  to   3.4676 
  Avg. Gradient Time  : 0.3143s  37.51% 
  Avg. Gaussian Time  : 0.4336s  51.75% 
  Avg. Iteration Time : 0.8379s 

real	0m28.097s
user	0m49.564s
sys	0m2.844s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.755769 0.761538
+ echo 'CHUNK 0.755769 0.761538 1'
CHUNK 0.755769 0.761538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.755769 0.761538 1
====================================
         PROGRESS: 0.755769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 002
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1758.76 	 OutFr   0.0000 	 RMSD     2.4487
Iter 002 	 Temp     3.72 	 Delta  1525.61 	 OutFr   0.0000 	 RMSD     2.2634
Iter 003 	 Temp     3.46 	 Delta  1377.80 	 OutFr   0.0027 	 RMSD     2.2534
Iter 004 	 Temp     3.22 	 Delta  1269.66 	 OutFr   0.0027 	 RMSD     2.2299
Iter 005 	 Temp     2.99 	 Delta  1186.22 	 OutFr   0.0027 	 RMSD     2.2099
Iter 006 	 Temp     2.78 	 Delta  1118.43 	 OutFr   0.0027 	 RMSD     2.1939
Iter 007 	 Temp     2.59 	 Delta  1061.94 	 OutFr   0.0027 	 RMSD     2.1807
Iter 008 	 Temp     2.41 	 Delta  1013.75 	 OutFr   0.0027 	 RMSD     2.1689
Iter 009 	 Temp     2.24 	 Delta   971.20 	 OutFr   0.0054 	 RMSD     2.1584
Iter 010 	 Temp     2.08 	 Delta   932.13 	 OutFr   0.0054 	 RMSD     2.1491
Iter 011 	 Temp     1.94 	 Delta   894.52 	 OutFr   0.0080 	 RMSD     2.1413
Iter 012 	 Temp     1.80 	 Delta   856.53 	 OutFr   0.0080 	 RMSD     2.1339
Iter 013 	 Temp     1.67 	 Delta   816.64 	 OutFr   0.0080 	 RMSD     2.1269
Iter 014 	 Temp     1.56 	 Delta   775.31 	 OutFr   0.0080 	 RMSD     2.1201
Iter 015 	 Temp     1.45 	 Delta   734.63 	 OutFr   0.0161 	 RMSD     2.1137
Iter 016 	 Temp     1.35 	 Delta   694.80 	 OutFr   0.0214 	 RMSD     2.1082
Iter 017 	 Temp     1.25 	 Delta   656.26 	 OutFr   0.0295 	 RMSD     2.1042
Iter 018 	 Temp     1.16 	 Delta   621.51 	 OutFr   0.0375 	 RMSD     2.1011
Iter 019 	 Temp     1.08 	 Delta   590.43 	 OutFr   0.0456 	 RMSD     2.0996
Iter 020 	 Temp     1.01 	 Delta   558.78 	 OutFr   0.0483 	 RMSD     2.0993
Iter 021 	 Temp     0.94 	 Delta   526.98 	 OutFr   0.0536 	 RMSD     2.0995
Iter 022 	 Temp     0.87 	 Delta   499.42 	 OutFr   0.0563 	 RMSD     2.1000
Iter 023 	 Temp     0.81 	 Delta   473.83 	 OutFr   0.0751 	 RMSD     2.1007
Iter 024 	 Temp     0.75 	 Delta   447.34 	 OutFr   0.0858 	 RMSD     2.1014
Iter 025 	 Temp     0.70 	 Delta   419.69 	 OutFr   0.0912 	 RMSD     2.1016
Iter 026 	 Temp     0.65 	 Delta   390.59 	 OutFr   0.1099 	 RMSD     2.1006
Iter 027 	 Temp     0.61 	 Delta   360.10 	 OutFr   0.1180 	 RMSD     2.0986
Iter 028 	 Temp     0.56 	 Delta   328.60 	 OutFr   0.1448 	 RMSD     2.0960
Iter 029 	 Temp     0.52 	 Delta   298.64 	 OutFr   0.1743 	 RMSD     2.0939
Iter 030 	 Temp     0.49 	 Delta   270.94 	 OutFr   0.1930 	 RMSD     2.0931
Iter 031 	 Temp     0.45 	 Delta   244.27 	 OutFr   0.2225 	 RMSD     2.0941
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.cUvZ5vyz/mybin.nii.gz
+ vtklevelset /tmp/ashs.cUvZ5vyz/mybin.nii.gz /tmp/ashs.cUvZ5vyz/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.cUvZ5vyz/mymesh.vtk /tmp/ashs.cUvZ5vyz/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2919.43792097   0.99981102
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.cUvZ5vyz/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 5.56026 to 29.1732
   Y : -21.3981 to 17.9533
   Z : -7.80192 to 28.7749
   Image resolution  : 97 by 143 by 134
   Image box origin  : {0.56026, -26.3981, -12.8019}
   Image box size    : {33.6805, 49.6527, 46.8995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-0.56026, 26.3981, -12.8019]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat -o /tmp/ashs.cUvZ5vyz/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat -o /tmp/ashs.cUvZ5vyz/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.cUvZ5vyz/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.761538 0.767308
+ echo 'CHUNK 0.761538 0.767308 0.5'
CHUNK 0.761538 0.767308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.761538 0.767308 0.5
====================================
         PROGRESS: 0.761538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.cUvZ5vyz/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.cUvZ5vyz/fixed_hw.nii.gz /tmp/ashs.cUvZ5vyz/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.642779, moving = 0.519993
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.38892, 2.38918], [0.952629, 0.975272, 0.97538]
Level     0,  Iter     0:    Energy =   0.0635
Level     0,  Iter     1:    Energy =   0.0697
Level     0,  Iter     2:    Energy =   0.0740
Level     0,  Iter     3:    Energy =   0.0777
Level     0,  Iter     4:    Energy =   0.0809
Level     0,  Iter     5:    Energy =   0.0837
Level     0,  Iter     6:    Energy =   0.0862
Level     0,  Iter     7:    Energy =   0.0888
Level     0,  Iter     8:    Energy =   0.0906
Level     0,  Iter     9:    Energy =   0.0912
Level     0,  Iter    10:    Energy =   0.0913
Level     0,  Iter    11:    Energy =   0.0915
Level     0,  Iter    12:    Energy =   0.0916
Level     0,  Iter    13:    Energy =   0.0918
Level     0,  Iter    14:    Energy =   0.0919
Level     0,  Iter    15:    Energy =   0.0920
Level     0,  Iter    16:    Energy =   0.0920
Level     0,  Iter    17:    Energy =   0.0922
Level     0,  Iter    18:    Energy =   0.0922
Level     0,  Iter    19:    Energy =   0.0923
Level     0,  Iter    20:    Energy =   0.0924
Level     0,  Iter    21:    Energy =   0.0925
Level     0,  Iter    22:    Energy =   0.0925
Level     0,  Iter    23:    Energy =   0.0926
Level     0,  Iter    24:    Energy =   0.0926
Level     0,  Iter    25:    Energy =   0.0927
Level     0,  Iter    26:    Energy =   0.0927
Level     0,  Iter    27:    Energy =   0.0928
Level     0,  Iter    28:    Energy =   0.0929
Level     0,  Iter    29:    Energy =   0.0929
Level     0,  Iter    30:    Energy =   0.0930
Level     0,  Iter    31:    Energy =   0.0930
Level     0,  Iter    32:    Energy =   0.0930
Level     0,  Iter    33:    Energy =   0.0931
Level     0,  Iter    34:    Energy =   0.0931
Level     0,  Iter    35:    Energy =   0.0931
Level     0,  Iter    36:    Energy =   0.0932
Level     0,  Iter    37:    Energy =   0.0933
Level     0,  Iter    38:    Energy =   0.0933
Level     0,  Iter    39:    Energy =   0.0933
Level     0,  Iter    40:    Energy =   0.0933
Level     0,  Iter    41:    Energy =   0.0934
Level     0,  Iter    42:    Energy =   0.0934
Level     0,  Iter    43:    Energy =   0.0934
Level     0,  Iter    44:    Energy =   0.0934
Level     0,  Iter    45:    Energy =   0.0934
Level     0,  Iter    46:    Energy =   0.0935
Level     0,  Iter    47:    Energy =   0.0936
Level     0,  Iter    48:    Energy =   0.0935
Level     0,  Iter    49:    Energy =   0.0936
Level     0,  Iter    50:    Energy =   0.0936
Level     0,  Iter    51:    Energy =   0.0936
Level     0,  Iter    52:    Energy =   0.0936
Level     0,  Iter    53:    Energy =   0.0937
Level     0,  Iter    54:    Energy =   0.0937
Level     0,  Iter    55:    Energy =   0.0937
Level     0,  Iter    56:    Energy =   0.0937
Level     0,  Iter    57:    Energy =   0.0937
Level     0,  Iter    58:    Energy =   0.0937
Level     0,  Iter    59:    Energy =   0.0938
END OF LEVEL     0    DetJac Range:   0.3413  to   2.0303 
  Avg. Gradient Time  : 0.0073s  37.66% 
  Avg. Gaussian Time  : 0.0091s  47.18% 
  Avg. Iteration Time : 0.0193s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.19446, 1.21242], [0.486035, 0.487636, 0.494969]
Level     1,  Iter     0:    Energy =   0.0655
Level     1,  Iter     1:    Energy =   0.0690
Level     1,  Iter     2:    Energy =   0.0719
Level     1,  Iter     3:    Energy =   0.0743
Level     1,  Iter     4:    Energy =   0.0772
Level     1,  Iter     5:    Energy =   0.0793
Level     1,  Iter     6:    Energy =   0.0810
Level     1,  Iter     7:    Energy =   0.0825
Level     1,  Iter     8:    Energy =   0.0836
Level     1,  Iter     9:    Energy =   0.0847
Level     1,  Iter    10:    Energy =   0.0856
Level     1,  Iter    11:    Energy =   0.0860
Level     1,  Iter    12:    Energy =   0.0864
Level     1,  Iter    13:    Energy =   0.0863
Level     1,  Iter    14:    Energy =   0.0870
Level     1,  Iter    15:    Energy =   0.0870
Level     1,  Iter    16:    Energy =   0.0873
Level     1,  Iter    17:    Energy =   0.0874
Level     1,  Iter    18:    Energy =   0.0875
Level     1,  Iter    19:    Energy =   0.0877
Level     1,  Iter    20:    Energy =   0.0877
Level     1,  Iter    21:    Energy =   0.0880
Level     1,  Iter    22:    Energy =   0.0880
Level     1,  Iter    23:    Energy =   0.0882
Level     1,  Iter    24:    Energy =   0.0882
Level     1,  Iter    25:    Energy =   0.0883
Level     1,  Iter    26:    Energy =   0.0884
Level     1,  Iter    27:    Energy =   0.0884
Level     1,  Iter    28:    Energy =   0.0886
Level     1,  Iter    29:    Energy =   0.0886
Level     1,  Iter    30:    Energy =   0.0887
Level     1,  Iter    31:    Energy =   0.0889
Level     1,  Iter    32:    Energy =   0.0888
Level     1,  Iter    33:    Energy =   0.0891
Level     1,  Iter    34:    Energy =   0.0891
Level     1,  Iter    35:    Energy =   0.0891
Level     1,  Iter    36:    Energy =   0.0892
Level     1,  Iter    37:    Energy =   0.0892
Level     1,  Iter    38:    Energy =   0.0892
Level     1,  Iter    39:    Energy =   0.0893
Level     1,  Iter    40:    Energy =   0.0893
Level     1,  Iter    41:    Energy =   0.0894
Level     1,  Iter    42:    Energy =   0.0895
Level     1,  Iter    43:    Energy =   0.0894
Level     1,  Iter    44:    Energy =   0.0895
Level     1,  Iter    45:    Energy =   0.0895
Level     1,  Iter    46:    Energy =   0.0896
Level     1,  Iter    47:    Energy =   0.0896
Level     1,  Iter    48:    Energy =   0.0897
Level     1,  Iter    49:    Energy =   0.0896
Level     1,  Iter    50:    Energy =   0.0898
Level     1,  Iter    51:    Energy =   0.0897
Level     1,  Iter    52:    Energy =   0.0898
Level     1,  Iter    53:    Energy =   0.0898
Level     1,  Iter    54:    Energy =   0.0899
Level     1,  Iter    55:    Energy =   0.0898
Level     1,  Iter    56:    Energy =   0.0900
Level     1,  Iter    57:    Energy =   0.0899
Level     1,  Iter    58:    Energy =   0.0900
Level     1,  Iter    59:    Energy =   0.0899
END OF LEVEL     1    DetJac Range:   0.1172  to   3.1158 
  Avg. Gradient Time  : 0.0430s  40.55% 
  Avg. Gaussian Time  : 0.0504s  47.50% 
  Avg. Iteration Time : 0.1061s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0491
Level     2,  Iter     1:    Energy =   0.0515
Level     2,  Iter     2:    Energy =   0.0537
Level     2,  Iter     3:    Energy =   0.0555
Level     2,  Iter     4:    Energy =   0.0571
Level     2,  Iter     5:    Energy =   0.0586
Level     2,  Iter     6:    Energy =   0.0598
Level     2,  Iter     7:    Energy =   0.0608
Level     2,  Iter     8:    Energy =   0.0619
Level     2,  Iter     9:    Energy =   0.0627
Level     2,  Iter    10:    Energy =   0.0635
Level     2,  Iter    11:    Energy =   0.0642
Level     2,  Iter    12:    Energy =   0.0648
Level     2,  Iter    13:    Energy =   0.0654
Level     2,  Iter    14:    Energy =   0.0659
Level     2,  Iter    15:    Energy =   0.0665
Level     2,  Iter    16:    Energy =   0.0671
Level     2,  Iter    17:    Energy =   0.0674
Level     2,  Iter    18:    Energy =   0.0679
Level     2,  Iter    19:    Energy =   0.0682
END OF LEVEL     2    DetJac Range:   0.0419  to   4.7178 
  Avg. Gradient Time  : 0.2952s  37.74% 
  Avg. Gaussian Time  : 0.4059s  51.88% 
  Avg. Iteration Time : 0.7823s 

real	0m26.211s
user	0m46.060s
sys	0m2.892s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.761538 0.767308
+ echo 'CHUNK 0.761538 0.767308 1'
CHUNK 0.761538 0.767308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.761538 0.767308 1
====================================
         PROGRESS: 0.761538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 003
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2032.78 	 OutFr   0.0027 	 RMSD     4.0993
Iter 002 	 Temp     3.72 	 Delta  1926.91 	 OutFr   0.0000 	 RMSD     2.1200
Iter 003 	 Temp     3.46 	 Delta  1813.68 	 OutFr   0.0000 	 RMSD     2.1418
Iter 004 	 Temp     3.22 	 Delta  1725.02 	 OutFr   0.0000 	 RMSD     2.1410
Iter 005 	 Temp     2.99 	 Delta  1640.71 	 OutFr   0.0000 	 RMSD     2.1270
Iter 006 	 Temp     2.78 	 Delta  1557.36 	 OutFr   0.0000 	 RMSD     2.1098
Iter 007 	 Temp     2.59 	 Delta  1474.41 	 OutFr   0.0027 	 RMSD     2.0929
Iter 008 	 Temp     2.41 	 Delta  1390.18 	 OutFr   0.0054 	 RMSD     2.0778
Iter 009 	 Temp     2.24 	 Delta  1302.02 	 OutFr   0.0080 	 RMSD     2.0648
Iter 010 	 Temp     2.08 	 Delta  1210.97 	 OutFr   0.0080 	 RMSD     2.0545
Iter 011 	 Temp     1.94 	 Delta  1122.08 	 OutFr   0.0107 	 RMSD     2.0467
Iter 012 	 Temp     1.80 	 Delta  1037.95 	 OutFr   0.0107 	 RMSD     2.0410
Iter 013 	 Temp     1.67 	 Delta   958.27 	 OutFr   0.0107 	 RMSD     2.0358
Iter 014 	 Temp     1.56 	 Delta   883.34 	 OutFr   0.0134 	 RMSD     2.0314
Iter 015 	 Temp     1.45 	 Delta   814.03 	 OutFr   0.0188 	 RMSD     2.0282
Iter 016 	 Temp     1.35 	 Delta   752.07 	 OutFr   0.0214 	 RMSD     2.0277
Iter 017 	 Temp     1.25 	 Delta   700.29 	 OutFr   0.0295 	 RMSD     2.0303
Iter 018 	 Temp     1.16 	 Delta   658.71 	 OutFr   0.0295 	 RMSD     2.0332
Iter 019 	 Temp     1.08 	 Delta   623.62 	 OutFr   0.0402 	 RMSD     2.0356
Iter 020 	 Temp     1.01 	 Delta   590.75 	 OutFr   0.0429 	 RMSD     2.0380
Iter 021 	 Temp     0.94 	 Delta   556.78 	 OutFr   0.0429 	 RMSD     2.0395
Iter 022 	 Temp     0.87 	 Delta   521.22 	 OutFr   0.0536 	 RMSD     2.0408
Iter 023 	 Temp     0.81 	 Delta   485.52 	 OutFr   0.0697 	 RMSD     2.0424
Iter 024 	 Temp     0.75 	 Delta   450.39 	 OutFr   0.0858 	 RMSD     2.0445
Iter 025 	 Temp     0.70 	 Delta   418.20 	 OutFr   0.1072 	 RMSD     2.0465
Iter 026 	 Temp     0.65 	 Delta   390.77 	 OutFr   0.1233 	 RMSD     2.0479
Iter 027 	 Temp     0.61 	 Delta   364.23 	 OutFr   0.1421 	 RMSD     2.0500
Iter 028 	 Temp     0.56 	 Delta   333.89 	 OutFr   0.1501 	 RMSD     2.0533
Iter 029 	 Temp     0.52 	 Delta   299.54 	 OutFr   0.1823 	 RMSD     2.0577
Iter 030 	 Temp     0.49 	 Delta   263.53 	 OutFr   0.2225 	 RMSD     2.0636
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.c6uaUJDT/mybin.nii.gz
+ vtklevelset /tmp/ashs.c6uaUJDT/mybin.nii.gz /tmp/ashs.c6uaUJDT/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.c6uaUJDT/mymesh.vtk /tmp/ashs.c6uaUJDT/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2587.69558113   0.88620023
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.c6uaUJDT/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.55266 to 34.0636
   Y : -16.7293 to 22.3933
   Z : -20.7211 to 7.87823
   Image resolution  : 103 by 142 by 111
   Image box origin  : {3.55266, -21.7293, -25.7211}
   Image box size    : {35.7639, 49.3055, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.55266, 21.7293, -25.7211]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat -o /tmp/ashs.c6uaUJDT/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat -o /tmp/ashs.c6uaUJDT/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.c6uaUJDT/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.767308 0.773077
+ echo 'CHUNK 0.767308 0.773077 0.5'
CHUNK 0.767308 0.773077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.767308 0.773077 0.5
====================================
         PROGRESS: 0.767308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.c6uaUJDT/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.c6uaUJDT/fixed_hw.nii.gz /tmp/ashs.c6uaUJDT/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.651864, moving = 0.242465
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.37221, 2.40319], [0.972649, 0.968452, 0.981099]
Level     0,  Iter     0:    Energy =   0.0433
Level     0,  Iter     1:    Energy =   0.0492
Level     0,  Iter     2:    Energy =   0.0552
Level     0,  Iter     3:    Energy =   0.0594
Level     0,  Iter     4:    Energy =   0.0627
Level     0,  Iter     5:    Energy =   0.0655
Level     0,  Iter     6:    Energy =   0.0677
Level     0,  Iter     7:    Energy =   0.0695
Level     0,  Iter     8:    Energy =   0.0708
Level     0,  Iter     9:    Energy =   0.0720
Level     0,  Iter    10:    Energy =   0.0731
Level     0,  Iter    11:    Energy =   0.0744
Level     0,  Iter    12:    Energy =   0.0754
Level     0,  Iter    13:    Energy =   0.0765
Level     0,  Iter    14:    Energy =   0.0765
Level     0,  Iter    15:    Energy =   0.0767
Level     0,  Iter    16:    Energy =   0.0770
Level     0,  Iter    17:    Energy =   0.0771
Level     0,  Iter    18:    Energy =   0.0775
Level     0,  Iter    19:    Energy =   0.0776
Level     0,  Iter    20:    Energy =   0.0778
Level     0,  Iter    21:    Energy =   0.0778
Level     0,  Iter    22:    Energy =   0.0781
Level     0,  Iter    23:    Energy =   0.0782
Level     0,  Iter    24:    Energy =   0.0783
Level     0,  Iter    25:    Energy =   0.0783
Level     0,  Iter    26:    Energy =   0.0785
Level     0,  Iter    27:    Energy =   0.0786
Level     0,  Iter    28:    Energy =   0.0786
Level     0,  Iter    29:    Energy =   0.0786
Level     0,  Iter    30:    Energy =   0.0787
Level     0,  Iter    31:    Energy =   0.0788
Level     0,  Iter    32:    Energy =   0.0788
Level     0,  Iter    33:    Energy =   0.0788
Level     0,  Iter    34:    Energy =   0.0789
Level     0,  Iter    35:    Energy =   0.0790
Level     0,  Iter    36:    Energy =   0.0790
Level     0,  Iter    37:    Energy =   0.0791
Level     0,  Iter    38:    Energy =   0.0791
Level     0,  Iter    39:    Energy =   0.0791
Level     0,  Iter    40:    Energy =   0.0792
Level     0,  Iter    41:    Energy =   0.0793
Level     0,  Iter    42:    Energy =   0.0793
Level     0,  Iter    43:    Energy =   0.0793
Level     0,  Iter    44:    Energy =   0.0794
Level     0,  Iter    45:    Energy =   0.0794
Level     0,  Iter    46:    Energy =   0.0795
Level     0,  Iter    47:    Energy =   0.0795
Level     0,  Iter    48:    Energy =   0.0795
Level     0,  Iter    49:    Energy =   0.0795
Level     0,  Iter    50:    Energy =   0.0795
Level     0,  Iter    51:    Energy =   0.0795
Level     0,  Iter    52:    Energy =   0.0795
Level     0,  Iter    53:    Energy =   0.0796
Level     0,  Iter    54:    Energy =   0.0796
Level     0,  Iter    55:    Energy =   0.0796
Level     0,  Iter    56:    Energy =   0.0796
Level     0,  Iter    57:    Energy =   0.0796
Level     0,  Iter    58:    Energy =   0.0797
Level     0,  Iter    59:    Energy =   0.0797
END OF LEVEL     0    DetJac Range:   0.2452  to   2.1600 
  Avg. Gradient Time  : 0.0069s  37.26% 
  Avg. Gaussian Time  : 0.0088s  47.59% 
  Avg. Iteration Time : 0.0184s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.20281, 1.2016], [0.486324, 0.491046, 0.49055]
Level     1,  Iter     0:    Energy =   0.0543
Level     1,  Iter     1:    Energy =   0.0583
Level     1,  Iter     2:    Energy =   0.0622
Level     1,  Iter     3:    Energy =   0.0648
Level     1,  Iter     4:    Energy =   0.0668
Level     1,  Iter     5:    Energy =   0.0682
Level     1,  Iter     6:    Energy =   0.0695
Level     1,  Iter     7:    Energy =   0.0709
Level     1,  Iter     8:    Energy =   0.0721
Level     1,  Iter     9:    Energy =   0.0730
Level     1,  Iter    10:    Energy =   0.0737
Level     1,  Iter    11:    Energy =   0.0743
Level     1,  Iter    12:    Energy =   0.0750
Level     1,  Iter    13:    Energy =   0.0754
Level     1,  Iter    14:    Energy =   0.0757
Level     1,  Iter    15:    Energy =   0.0759
Level     1,  Iter    16:    Energy =   0.0761
Level     1,  Iter    17:    Energy =   0.0763
Level     1,  Iter    18:    Energy =   0.0765
Level     1,  Iter    19:    Energy =   0.0767
Level     1,  Iter    20:    Energy =   0.0768
Level     1,  Iter    21:    Energy =   0.0770
Level     1,  Iter    22:    Energy =   0.0771
Level     1,  Iter    23:    Energy =   0.0772
Level     1,  Iter    24:    Energy =   0.0773
Level     1,  Iter    25:    Energy =   0.0774
Level     1,  Iter    26:    Energy =   0.0774
Level     1,  Iter    27:    Energy =   0.0774
Level     1,  Iter    28:    Energy =   0.0776
Level     1,  Iter    29:    Energy =   0.0775
Level     1,  Iter    30:    Energy =   0.0776
Level     1,  Iter    31:    Energy =   0.0775
Level     1,  Iter    32:    Energy =   0.0775
Level     1,  Iter    33:    Energy =   0.0775
Level     1,  Iter    34:    Energy =   0.0776
Level     1,  Iter    35:    Energy =   0.0776
Level     1,  Iter    36:    Energy =   0.0776
Level     1,  Iter    37:    Energy =   0.0777
Level     1,  Iter    38:    Energy =   0.0777
Level     1,  Iter    39:    Energy =   0.0777
Level     1,  Iter    40:    Energy =   0.0778
Level     1,  Iter    41:    Energy =   0.0777
Level     1,  Iter    42:    Energy =   0.0778
Level     1,  Iter    43:    Energy =   0.0778
Level     1,  Iter    44:    Energy =   0.0778
Level     1,  Iter    45:    Energy =   0.0778
Level     1,  Iter    46:    Energy =   0.0778
Level     1,  Iter    47:    Energy =   0.0778
Level     1,  Iter    48:    Energy =   0.0778
Level     1,  Iter    49:    Energy =   0.0778
Level     1,  Iter    50:    Energy =   0.0779
Level     1,  Iter    51:    Energy =   0.0778
Level     1,  Iter    52:    Energy =   0.0779
Level     1,  Iter    53:    Energy =   0.0779
Level     1,  Iter    54:    Energy =   0.0779
Level     1,  Iter    55:    Energy =   0.0779
Level     1,  Iter    56:    Energy =   0.0779
Level     1,  Iter    57:    Energy =   0.0779
Level     1,  Iter    58:    Energy =   0.0779
Level     1,  Iter    59:    Energy =   0.0779
END OF LEVEL     1    DetJac Range:   0.1351  to   3.5573 
  Avg. Gradient Time  : 0.0409s  39.52% 
  Avg. Gaussian Time  : 0.0500s  48.39% 
  Avg. Iteration Time : 0.1034s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0402
Level     2,  Iter     1:    Energy =   0.0427
Level     2,  Iter     2:    Energy =   0.0448
Level     2,  Iter     3:    Energy =   0.0465
Level     2,  Iter     4:    Energy =   0.0481
Level     2,  Iter     5:    Energy =   0.0497
Level     2,  Iter     6:    Energy =   0.0509
Level     2,  Iter     7:    Energy =   0.0519
Level     2,  Iter     8:    Energy =   0.0529
Level     2,  Iter     9:    Energy =   0.0537
Level     2,  Iter    10:    Energy =   0.0545
Level     2,  Iter    11:    Energy =   0.0553
Level     2,  Iter    12:    Energy =   0.0558
Level     2,  Iter    13:    Energy =   0.0563
Level     2,  Iter    14:    Energy =   0.0567
Level     2,  Iter    15:    Energy =   0.0571
Level     2,  Iter    16:    Energy =   0.0575
Level     2,  Iter    17:    Energy =   0.0577
Level     2,  Iter    18:    Energy =   0.0580
Level     2,  Iter    19:    Energy =   0.0582
END OF LEVEL     2    DetJac Range:   0.0747  to   5.7126 
  Avg. Gradient Time  : 0.2954s  37.99% 
  Avg. Gaussian Time  : 0.3986s  51.27% 
  Avg. Iteration Time : 0.7774s 

real	0m25.888s
user	0m45.552s
sys	0m2.824s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.767308 0.773077
+ echo 'CHUNK 0.767308 0.773077 1'
CHUNK 0.767308 0.773077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.767308 0.773077 1
====================================
         PROGRESS: 0.767308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 004
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2068.29 	 OutFr   0.0054 	 RMSD     3.3557
Iter 002 	 Temp     3.72 	 Delta  1912.34 	 OutFr   0.0000 	 RMSD     2.2122
Iter 003 	 Temp     3.46 	 Delta  1781.92 	 OutFr   0.0000 	 RMSD     2.1803
Iter 004 	 Temp     3.22 	 Delta  1657.92 	 OutFr   0.0000 	 RMSD     2.1541
Iter 005 	 Temp     2.99 	 Delta  1542.74 	 OutFr   0.0000 	 RMSD     2.1310
Iter 006 	 Temp     2.78 	 Delta  1436.28 	 OutFr   0.0000 	 RMSD     2.1144
Iter 007 	 Temp     2.59 	 Delta  1336.78 	 OutFr   0.0000 	 RMSD     2.1030
Iter 008 	 Temp     2.41 	 Delta  1241.85 	 OutFr   0.0000 	 RMSD     2.0950
Iter 009 	 Temp     2.24 	 Delta  1149.90 	 OutFr   0.0000 	 RMSD     2.0893
Iter 010 	 Temp     2.08 	 Delta  1062.61 	 OutFr   0.0000 	 RMSD     2.0859
Iter 011 	 Temp     1.94 	 Delta   982.83 	 OutFr   0.0080 	 RMSD     2.0839
Iter 012 	 Temp     1.80 	 Delta   908.71 	 OutFr   0.0134 	 RMSD     2.0829
Iter 013 	 Temp     1.67 	 Delta   835.75 	 OutFr   0.0161 	 RMSD     2.0828
Iter 014 	 Temp     1.56 	 Delta   763.52 	 OutFr   0.0161 	 RMSD     2.0831
Iter 015 	 Temp     1.45 	 Delta   698.65 	 OutFr   0.0188 	 RMSD     2.0836
Iter 016 	 Temp     1.35 	 Delta   648.90 	 OutFr   0.0268 	 RMSD     2.0841
Iter 017 	 Temp     1.25 	 Delta   611.14 	 OutFr   0.0322 	 RMSD     2.0852
Iter 018 	 Temp     1.16 	 Delta   577.76 	 OutFr   0.0456 	 RMSD     2.0873
Iter 019 	 Temp     1.08 	 Delta   546.33 	 OutFr   0.0536 	 RMSD     2.0902
Iter 020 	 Temp     1.01 	 Delta   516.18 	 OutFr   0.0670 	 RMSD     2.0932
Iter 021 	 Temp     0.94 	 Delta   486.10 	 OutFr   0.0885 	 RMSD     2.0963
Iter 022 	 Temp     0.87 	 Delta   456.24 	 OutFr   0.0938 	 RMSD     2.0993
Iter 023 	 Temp     0.81 	 Delta   426.93 	 OutFr   0.0992 	 RMSD     2.1020
Iter 024 	 Temp     0.75 	 Delta   399.52 	 OutFr   0.1099 	 RMSD     2.1044
Iter 025 	 Temp     0.70 	 Delta   374.39 	 OutFr   0.1260 	 RMSD     2.1064
Iter 026 	 Temp     0.65 	 Delta   349.75 	 OutFr   0.1394 	 RMSD     2.1081
Iter 027 	 Temp     0.61 	 Delta   324.26 	 OutFr   0.1501 	 RMSD     2.1097
Iter 028 	 Temp     0.56 	 Delta   298.78 	 OutFr   0.1609 	 RMSD     2.1112
Iter 029 	 Temp     0.52 	 Delta   273.22 	 OutFr   0.1850 	 RMSD     2.1130
Iter 030 	 Temp     0.49 	 Delta   248.24 	 OutFr   0.2172 	 RMSD     2.1161
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ABWCsLXL/mybin.nii.gz
+ vtklevelset /tmp/ashs.ABWCsLXL/mybin.nii.gz /tmp/ashs.ABWCsLXL/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ABWCsLXL/mymesh.vtk /tmp/ashs.ABWCsLXL/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2711.43668050   0.92857747
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ABWCsLXL/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.8363 to 34.0823
   Y : -15.2995 to 27.1629
   Z : -15.0726 to 16.2375
   Image resolution  : 96 by 152 by 119
   Image box origin  : {5.8363, -20.2995, -20.0726}
   Image box size    : {33.3333, 52.7777, 41.6495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.8363, 20.2995, -20.0726]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat -o /tmp/ashs.ABWCsLXL/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat -o /tmp/ashs.ABWCsLXL/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ABWCsLXL/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.773077 0.778846
+ echo 'CHUNK 0.773077 0.778846 0.5'
CHUNK 0.773077 0.778846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.773077 0.778846 0.5
====================================
         PROGRESS: 0.773077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ABWCsLXL/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ABWCsLXL/fixed_hw.nii.gz /tmp/ashs.ABWCsLXL/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.627872, moving = 0.602669
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.40464], [0.982092, 0.982092, 0.981689]
Level     0,  Iter     0:    Energy =   0.0556
Level     0,  Iter     1:    Energy =   0.0627
Level     0,  Iter     2:    Energy =   0.0706
Level     0,  Iter     3:    Energy =   0.0759
Level     0,  Iter     4:    Energy =   0.0798
Level     0,  Iter     5:    Energy =   0.0825
Level     0,  Iter     6:    Energy =   0.0849
Level     0,  Iter     7:    Energy =   0.0859
Level     0,  Iter     8:    Energy =   0.0868
Level     0,  Iter     9:    Energy =   0.0877
Level     0,  Iter    10:    Energy =   0.0883
Level     0,  Iter    11:    Energy =   0.0883
Level     0,  Iter    12:    Energy =   0.0889
Level     0,  Iter    13:    Energy =   0.0888
Level     0,  Iter    14:    Energy =   0.0894
Level     0,  Iter    15:    Energy =   0.0894
Level     0,  Iter    16:    Energy =   0.0899
Level     0,  Iter    17:    Energy =   0.0899
Level     0,  Iter    18:    Energy =   0.0903
Level     0,  Iter    19:    Energy =   0.0902
Level     0,  Iter    20:    Energy =   0.0906
Level     0,  Iter    21:    Energy =   0.0906
Level     0,  Iter    22:    Energy =   0.0910
Level     0,  Iter    23:    Energy =   0.0908
Level     0,  Iter    24:    Energy =   0.0912
Level     0,  Iter    25:    Energy =   0.0911
Level     0,  Iter    26:    Energy =   0.0915
Level     0,  Iter    27:    Energy =   0.0913
Level     0,  Iter    28:    Energy =   0.0916
Level     0,  Iter    29:    Energy =   0.0914
Level     0,  Iter    30:    Energy =   0.0918
Level     0,  Iter    31:    Energy =   0.0915
Level     0,  Iter    32:    Energy =   0.0919
Level     0,  Iter    33:    Energy =   0.0916
Level     0,  Iter    34:    Energy =   0.0920
Level     0,  Iter    35:    Energy =   0.0917
Level     0,  Iter    36:    Energy =   0.0920
Level     0,  Iter    37:    Energy =   0.0918
Level     0,  Iter    38:    Energy =   0.0922
Level     0,  Iter    39:    Energy =   0.0918
Level     0,  Iter    40:    Energy =   0.0922
Level     0,  Iter    41:    Energy =   0.0919
Level     0,  Iter    42:    Energy =   0.0923
Level     0,  Iter    43:    Energy =   0.0920
Level     0,  Iter    44:    Energy =   0.0923
Level     0,  Iter    45:    Energy =   0.0920
Level     0,  Iter    46:    Energy =   0.0923
Level     0,  Iter    47:    Energy =   0.0921
Level     0,  Iter    48:    Energy =   0.0924
Level     0,  Iter    49:    Energy =   0.0921
Level     0,  Iter    50:    Energy =   0.0925
Level     0,  Iter    51:    Energy =   0.0921
Level     0,  Iter    52:    Energy =   0.0925
Level     0,  Iter    53:    Energy =   0.0922
Level     0,  Iter    54:    Energy =   0.0925
Level     0,  Iter    55:    Energy =   0.0923
Level     0,  Iter    56:    Energy =   0.0926
Level     0,  Iter    57:    Energy =   0.0923
Level     0,  Iter    58:    Energy =   0.0926
Level     0,  Iter    59:    Energy =   0.0923
END OF LEVEL     0    DetJac Range:   0.6073  to   1.9376 
  Avg. Gradient Time  : 0.0076s  37.40% 
  Avg. Gaussian Time  : 0.0096s  47.29% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20232], [0.491046, 0.491046, 0.490844]
Level     1,  Iter     0:    Energy =   0.0644
Level     1,  Iter     1:    Energy =   0.0684
Level     1,  Iter     2:    Energy =   0.0715
Level     1,  Iter     3:    Energy =   0.0737
Level     1,  Iter     4:    Energy =   0.0762
Level     1,  Iter     5:    Energy =   0.0782
Level     1,  Iter     6:    Energy =   0.0798
Level     1,  Iter     7:    Energy =   0.0804
Level     1,  Iter     8:    Energy =   0.0813
Level     1,  Iter     9:    Energy =   0.0818
Level     1,  Iter    10:    Energy =   0.0823
Level     1,  Iter    11:    Energy =   0.0829
Level     1,  Iter    12:    Energy =   0.0832
Level     1,  Iter    13:    Energy =   0.0832
Level     1,  Iter    14:    Energy =   0.0836
Level     1,  Iter    15:    Energy =   0.0836
Level     1,  Iter    16:    Energy =   0.0839
Level     1,  Iter    17:    Energy =   0.0839
Level     1,  Iter    18:    Energy =   0.0841
Level     1,  Iter    19:    Energy =   0.0841
Level     1,  Iter    20:    Energy =   0.0842
Level     1,  Iter    21:    Energy =   0.0842
Level     1,  Iter    22:    Energy =   0.0843
Level     1,  Iter    23:    Energy =   0.0844
Level     1,  Iter    24:    Energy =   0.0844
Level     1,  Iter    25:    Energy =   0.0845
Level     1,  Iter    26:    Energy =   0.0845
Level     1,  Iter    27:    Energy =   0.0846
Level     1,  Iter    28:    Energy =   0.0846
Level     1,  Iter    29:    Energy =   0.0847
Level     1,  Iter    30:    Energy =   0.0847
Level     1,  Iter    31:    Energy =   0.0848
Level     1,  Iter    32:    Energy =   0.0848
Level     1,  Iter    33:    Energy =   0.0849
Level     1,  Iter    34:    Energy =   0.0849
Level     1,  Iter    35:    Energy =   0.0850
Level     1,  Iter    36:    Energy =   0.0850
Level     1,  Iter    37:    Energy =   0.0851
Level     1,  Iter    38:    Energy =   0.0850
Level     1,  Iter    39:    Energy =   0.0852
Level     1,  Iter    40:    Energy =   0.0851
Level     1,  Iter    41:    Energy =   0.0852
Level     1,  Iter    42:    Energy =   0.0851
Level     1,  Iter    43:    Energy =   0.0853
Level     1,  Iter    44:    Energy =   0.0852
Level     1,  Iter    45:    Energy =   0.0854
Level     1,  Iter    46:    Energy =   0.0853
Level     1,  Iter    47:    Energy =   0.0854
Level     1,  Iter    48:    Energy =   0.0853
Level     1,  Iter    49:    Energy =   0.0854
Level     1,  Iter    50:    Energy =   0.0853
Level     1,  Iter    51:    Energy =   0.0855
Level     1,  Iter    52:    Energy =   0.0854
Level     1,  Iter    53:    Energy =   0.0855
Level     1,  Iter    54:    Energy =   0.0854
Level     1,  Iter    55:    Energy =   0.0855
Level     1,  Iter    56:    Energy =   0.0854
Level     1,  Iter    57:    Energy =   0.0856
Level     1,  Iter    58:    Energy =   0.0855
Level     1,  Iter    59:    Energy =   0.0856
END OF LEVEL     1    DetJac Range:   0.2813  to   3.3937 
  Avg. Gradient Time  : 0.0433s  39.95% 
  Avg. Gaussian Time  : 0.0520s  48.04% 
  Avg. Iteration Time : 0.1083s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0450
Level     2,  Iter     1:    Energy =   0.0473
Level     2,  Iter     2:    Energy =   0.0494
Level     2,  Iter     3:    Energy =   0.0514
Level     2,  Iter     4:    Energy =   0.0527
Level     2,  Iter     5:    Energy =   0.0542
Level     2,  Iter     6:    Energy =   0.0551
Level     2,  Iter     7:    Energy =   0.0560
Level     2,  Iter     8:    Energy =   0.0566
Level     2,  Iter     9:    Energy =   0.0573
Level     2,  Iter    10:    Energy =   0.0580
Level     2,  Iter    11:    Energy =   0.0585
Level     2,  Iter    12:    Energy =   0.0590
Level     2,  Iter    13:    Energy =   0.0595
Level     2,  Iter    14:    Energy =   0.0600
Level     2,  Iter    15:    Energy =   0.0605
Level     2,  Iter    16:    Energy =   0.0610
Level     2,  Iter    17:    Energy =   0.0614
Level     2,  Iter    18:    Energy =   0.0617
Level     2,  Iter    19:    Energy =   0.0619
END OF LEVEL     2    DetJac Range:   0.1205  to   3.9132 
  Avg. Gradient Time  : 0.2797s  37.80% 
  Avg. Gaussian Time  : 0.3829s  51.74% 
  Avg. Iteration Time : 0.7401s 

real	0m25.610s
user	0m45.048s
sys	0m2.872s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.773077 0.778846
+ echo 'CHUNK 0.773077 0.778846 1'
CHUNK 0.773077 0.778846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.773077 0.778846 1
====================================
         PROGRESS: 0.773077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 005
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2054.59 	 OutFr   0.0054 	 RMSD     3.0210
Iter 002 	 Temp     3.72 	 Delta  1880.76 	 OutFr   0.0000 	 RMSD     2.2781
Iter 003 	 Temp     3.46 	 Delta  1786.09 	 OutFr   0.0027 	 RMSD     2.2764
Iter 004 	 Temp     3.22 	 Delta  1688.26 	 OutFr   0.0027 	 RMSD     2.2729
Iter 005 	 Temp     2.99 	 Delta  1586.80 	 OutFr   0.0054 	 RMSD     2.2630
Iter 006 	 Temp     2.78 	 Delta  1486.36 	 OutFr   0.0054 	 RMSD     2.2515
Iter 007 	 Temp     2.59 	 Delta  1393.17 	 OutFr   0.0080 	 RMSD     2.2392
Iter 008 	 Temp     2.41 	 Delta  1311.69 	 OutFr   0.0107 	 RMSD     2.2273
Iter 009 	 Temp     2.24 	 Delta  1240.29 	 OutFr   0.0107 	 RMSD     2.2171
Iter 010 	 Temp     2.08 	 Delta  1174.68 	 OutFr   0.0107 	 RMSD     2.2085
Iter 011 	 Temp     1.94 	 Delta  1112.56 	 OutFr   0.0107 	 RMSD     2.2015
Iter 012 	 Temp     1.80 	 Delta  1053.50 	 OutFr   0.0107 	 RMSD     2.1950
Iter 013 	 Temp     1.67 	 Delta   996.02 	 OutFr   0.0107 	 RMSD     2.1897
Iter 014 	 Temp     1.56 	 Delta   937.14 	 OutFr   0.0107 	 RMSD     2.1847
Iter 015 	 Temp     1.45 	 Delta   876.31 	 OutFr   0.0161 	 RMSD     2.1805
Iter 016 	 Temp     1.35 	 Delta   815.84 	 OutFr   0.0241 	 RMSD     2.1761
Iter 017 	 Temp     1.25 	 Delta   759.75 	 OutFr   0.0268 	 RMSD     2.1724
Iter 018 	 Temp     1.16 	 Delta   711.21 	 OutFr   0.0402 	 RMSD     2.1694
Iter 019 	 Temp     1.08 	 Delta   667.55 	 OutFr   0.0483 	 RMSD     2.1671
Iter 020 	 Temp     1.01 	 Delta   626.18 	 OutFr   0.0509 	 RMSD     2.1656
Iter 021 	 Temp     0.94 	 Delta   586.87 	 OutFr   0.0643 	 RMSD     2.1646
Iter 022 	 Temp     0.87 	 Delta   546.83 	 OutFr   0.0724 	 RMSD     2.1642
Iter 023 	 Temp     0.81 	 Delta   505.86 	 OutFr   0.0858 	 RMSD     2.1649
Iter 024 	 Temp     0.75 	 Delta   463.10 	 OutFr   0.0938 	 RMSD     2.1666
Iter 025 	 Temp     0.70 	 Delta   420.55 	 OutFr   0.1099 	 RMSD     2.1696
Iter 026 	 Temp     0.65 	 Delta   381.92 	 OutFr   0.1421 	 RMSD     2.1729
Iter 027 	 Temp     0.61 	 Delta   348.95 	 OutFr   0.1582 	 RMSD     2.1770
Iter 028 	 Temp     0.56 	 Delta   319.10 	 OutFr   0.1823 	 RMSD     2.1811
Iter 029 	 Temp     0.52 	 Delta   289.27 	 OutFr   0.2172 	 RMSD     2.1859
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Yt0jF7ze/mybin.nii.gz
+ vtklevelset /tmp/ashs.Yt0jF7ze/mybin.nii.gz /tmp/ashs.Yt0jF7ze/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Yt0jF7ze/mymesh.vtk /tmp/ashs.Yt0jF7ze/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 3058.83968016   1.04755151
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Yt0jF7ze/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.4117 to 36.3774
   Y : -14.2224 to 28.7536
   Z : -0.154806 to 36.027
   Image resolution  : 98 by 153 by 132
   Image box origin  : {7.4117, -19.2224, -5.15481}
   Image box size    : {34.0278, 53.125, 46.1995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.4117, 19.2224, -5.15481]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat -o /tmp/ashs.Yt0jF7ze/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat -o /tmp/ashs.Yt0jF7ze/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Yt0jF7ze/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.778846 0.784615
+ echo 'CHUNK 0.778846 0.784615 0.5'
CHUNK 0.778846 0.784615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.778846 0.784615 0.5
====================================
         PROGRESS: 0.778846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Yt0jF7ze/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Yt0jF7ze/fixed_hw.nii.gz /tmp/ashs.Yt0jF7ze/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.609931, moving = 0.603853
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.35936, 2.42484], [0.96245, 0.963206, 0.989938]
Level     0,  Iter     0:    Energy =   0.0574
Level     0,  Iter     1:    Energy =   0.0626
Level     0,  Iter     2:    Energy =   0.0673
Level     0,  Iter     3:    Energy =   0.0710
Level     0,  Iter     4:    Energy =   0.0744
Level     0,  Iter     5:    Energy =   0.0773
Level     0,  Iter     6:    Energy =   0.0794
Level     0,  Iter     7:    Energy =   0.0812
Level     0,  Iter     8:    Energy =   0.0819
Level     0,  Iter     9:    Energy =   0.0826
Level     0,  Iter    10:    Energy =   0.0830
Level     0,  Iter    11:    Energy =   0.0836
Level     0,  Iter    12:    Energy =   0.0840
Level     0,  Iter    13:    Energy =   0.0847
Level     0,  Iter    14:    Energy =   0.0851
Level     0,  Iter    15:    Energy =   0.0856
Level     0,  Iter    16:    Energy =   0.0859
Level     0,  Iter    17:    Energy =   0.0864
Level     0,  Iter    18:    Energy =   0.0867
Level     0,  Iter    19:    Energy =   0.0872
Level     0,  Iter    20:    Energy =   0.0873
Level     0,  Iter    21:    Energy =   0.0879
Level     0,  Iter    22:    Energy =   0.0880
Level     0,  Iter    23:    Energy =   0.0885
Level     0,  Iter    24:    Energy =   0.0885
Level     0,  Iter    25:    Energy =   0.0890
Level     0,  Iter    26:    Energy =   0.0892
Level     0,  Iter    27:    Energy =   0.0896
Level     0,  Iter    28:    Energy =   0.0896
Level     0,  Iter    29:    Energy =   0.0899
Level     0,  Iter    30:    Energy =   0.0900
Level     0,  Iter    31:    Energy =   0.0903
Level     0,  Iter    32:    Energy =   0.0902
Level     0,  Iter    33:    Energy =   0.0904
Level     0,  Iter    34:    Energy =   0.0903
Level     0,  Iter    35:    Energy =   0.0907
Level     0,  Iter    36:    Energy =   0.0905
Level     0,  Iter    37:    Energy =   0.0909
Level     0,  Iter    38:    Energy =   0.0907
Level     0,  Iter    39:    Energy =   0.0911
Level     0,  Iter    40:    Energy =   0.0911
Level     0,  Iter    41:    Energy =   0.0914
Level     0,  Iter    42:    Energy =   0.0911
Level     0,  Iter    43:    Energy =   0.0913
Level     0,  Iter    44:    Energy =   0.0912
Level     0,  Iter    45:    Energy =   0.0914
Level     0,  Iter    46:    Energy =   0.0911
Level     0,  Iter    47:    Energy =   0.0912
Level     0,  Iter    48:    Energy =   0.0909
Level     0,  Iter    49:    Energy =   0.0912
Level     0,  Iter    50:    Energy =   0.0910
Level     0,  Iter    51:    Energy =   0.0912
Level     0,  Iter    52:    Energy =   0.0912
Level     0,  Iter    53:    Energy =   0.0914
Level     0,  Iter    54:    Energy =   0.0911
Level     0,  Iter    55:    Energy =   0.0913
Level     0,  Iter    56:    Energy =   0.0911
Level     0,  Iter    57:    Energy =   0.0912
Level     0,  Iter    58:    Energy =   0.0910
Level     0,  Iter    59:    Energy =   0.0911
END OF LEVEL     0    DetJac Range:   0.1609  to   2.2205 
  Avg. Gradient Time  : 0.0085s  37.74% 
  Avg. Gaussian Time  : 0.0106s  46.97% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.195, 1.21242], [0.491046, 0.487857, 0.494969]
Level     1,  Iter     0:    Energy =   0.0610
Level     1,  Iter     1:    Energy =   0.0645
Level     1,  Iter     2:    Energy =   0.0671
Level     1,  Iter     3:    Energy =   0.0693
Level     1,  Iter     4:    Energy =   0.0714
Level     1,  Iter     5:    Energy =   0.0735
Level     1,  Iter     6:    Energy =   0.0753
Level     1,  Iter     7:    Energy =   0.0769
Level     1,  Iter     8:    Energy =   0.0782
Level     1,  Iter     9:    Energy =   0.0791
Level     1,  Iter    10:    Energy =   0.0801
Level     1,  Iter    11:    Energy =   0.0809
Level     1,  Iter    12:    Energy =   0.0815
Level     1,  Iter    13:    Energy =   0.0820
Level     1,  Iter    14:    Energy =   0.0822
Level     1,  Iter    15:    Energy =   0.0821
Level     1,  Iter    16:    Energy =   0.0824
Level     1,  Iter    17:    Energy =   0.0826
Level     1,  Iter    18:    Energy =   0.0828
Level     1,  Iter    19:    Energy =   0.0827
Level     1,  Iter    20:    Energy =   0.0831
Level     1,  Iter    21:    Energy =   0.0830
Level     1,  Iter    22:    Energy =   0.0833
Level     1,  Iter    23:    Energy =   0.0832
Level     1,  Iter    24:    Energy =   0.0834
Level     1,  Iter    25:    Energy =   0.0835
Level     1,  Iter    26:    Energy =   0.0836
Level     1,  Iter    27:    Energy =   0.0837
Level     1,  Iter    28:    Energy =   0.0838
Level     1,  Iter    29:    Energy =   0.0838
Level     1,  Iter    30:    Energy =   0.0838
Level     1,  Iter    31:    Energy =   0.0839
Level     1,  Iter    32:    Energy =   0.0839
Level     1,  Iter    33:    Energy =   0.0838
Level     1,  Iter    34:    Energy =   0.0840
Level     1,  Iter    35:    Energy =   0.0839
Level     1,  Iter    36:    Energy =   0.0841
Level     1,  Iter    37:    Energy =   0.0841
Level     1,  Iter    38:    Energy =   0.0842
Level     1,  Iter    39:    Energy =   0.0841
Level     1,  Iter    40:    Energy =   0.0842
Level     1,  Iter    41:    Energy =   0.0842
Level     1,  Iter    42:    Energy =   0.0842
Level     1,  Iter    43:    Energy =   0.0841
Level     1,  Iter    44:    Energy =   0.0842
Level     1,  Iter    45:    Energy =   0.0841
Level     1,  Iter    46:    Energy =   0.0842
Level     1,  Iter    47:    Energy =   0.0842
Level     1,  Iter    48:    Energy =   0.0842
Level     1,  Iter    49:    Energy =   0.0842
Level     1,  Iter    50:    Energy =   0.0842
Level     1,  Iter    51:    Energy =   0.0841
Level     1,  Iter    52:    Energy =   0.0842
Level     1,  Iter    53:    Energy =   0.0841
Level     1,  Iter    54:    Energy =   0.0842
Level     1,  Iter    55:    Energy =   0.0841
Level     1,  Iter    56:    Energy =   0.0842
Level     1,  Iter    57:    Energy =   0.0841
Level     1,  Iter    58:    Energy =   0.0842
Level     1,  Iter    59:    Energy =   0.0841
END OF LEVEL     1    DetJac Range:   0.0534  to   3.4997 
  Avg. Gradient Time  : 0.0502s  40.02% 
  Avg. Gaussian Time  : 0.0600s  47.90% 
  Avg. Iteration Time : 0.1253s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0431
Level     2,  Iter     1:    Energy =   0.0457
Level     2,  Iter     2:    Energy =   0.0477
Level     2,  Iter     3:    Energy =   0.0493
Level     2,  Iter     4:    Energy =   0.0505
Level     2,  Iter     5:    Energy =   0.0515
Level     2,  Iter     6:    Energy =   0.0523
Level     2,  Iter     7:    Energy =   0.0530
Level     2,  Iter     8:    Energy =   0.0536
Level     2,  Iter     9:    Energy =   0.0543
Level     2,  Iter    10:    Energy =   0.0550
Level     2,  Iter    11:    Energy =   0.0557
Level     2,  Iter    12:    Energy =   0.0566
Level     2,  Iter    13:    Energy =   0.0575
Level     2,  Iter    14:    Energy =   0.0584
Level     2,  Iter    15:    Energy =   0.0591
Level     2,  Iter    16:    Energy =   0.0598
Level     2,  Iter    17:    Energy =   0.0603
Level     2,  Iter    18:    Energy =   0.0607
Level     2,  Iter    19:    Energy =   0.0613
END OF LEVEL     2    DetJac Range:   0.0551  to   4.9672 
  Avg. Gradient Time  : 0.3466s  37.21% 
  Avg. Gaussian Time  : 0.4857s  52.14% 
  Avg. Iteration Time : 0.9315s 

real	0m31.181s
user	0m55.116s
sys	0m3.188s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.778846 0.784615
+ echo 'CHUNK 0.778846 0.784615 1'
CHUNK 0.778846 0.784615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.778846 0.784615 1
====================================
         PROGRESS: 0.778846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 006
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1872.15 	 OutFr   0.0107 	 RMSD     2.8507
Iter 002 	 Temp     3.72 	 Delta  1821.65 	 OutFr   0.0054 	 RMSD     2.0663
Iter 003 	 Temp     3.46 	 Delta  1746.15 	 OutFr   0.0054 	 RMSD     2.0753
Iter 004 	 Temp     3.22 	 Delta  1667.87 	 OutFr   0.0054 	 RMSD     2.0616
Iter 005 	 Temp     2.99 	 Delta  1588.25 	 OutFr   0.0080 	 RMSD     2.0432
Iter 006 	 Temp     2.78 	 Delta  1506.96 	 OutFr   0.0080 	 RMSD     2.0252
Iter 007 	 Temp     2.59 	 Delta  1424.29 	 OutFr   0.0107 	 RMSD     2.0096
Iter 008 	 Temp     2.41 	 Delta  1340.49 	 OutFr   0.0107 	 RMSD     1.9963
Iter 009 	 Temp     2.24 	 Delta  1254.74 	 OutFr   0.0107 	 RMSD     1.9833
Iter 010 	 Temp     2.08 	 Delta  1166.66 	 OutFr   0.0107 	 RMSD     1.9735
Iter 011 	 Temp     1.94 	 Delta  1082.59 	 OutFr   0.0134 	 RMSD     1.9651
Iter 012 	 Temp     1.80 	 Delta  1012.88 	 OutFr   0.0188 	 RMSD     1.9583
Iter 013 	 Temp     1.67 	 Delta   955.13 	 OutFr   0.0241 	 RMSD     1.9531
Iter 014 	 Temp     1.56 	 Delta   898.09 	 OutFr   0.0268 	 RMSD     1.9488
Iter 015 	 Temp     1.45 	 Delta   836.17 	 OutFr   0.0295 	 RMSD     1.9454
Iter 016 	 Temp     1.35 	 Delta   771.18 	 OutFr   0.0322 	 RMSD     1.9419
Iter 017 	 Temp     1.25 	 Delta   707.96 	 OutFr   0.0349 	 RMSD     1.9386
Iter 018 	 Temp     1.16 	 Delta   649.61 	 OutFr   0.0375 	 RMSD     1.9356
Iter 019 	 Temp     1.08 	 Delta   594.33 	 OutFr   0.0456 	 RMSD     1.9330
Iter 020 	 Temp     1.01 	 Delta   536.82 	 OutFr   0.0563 	 RMSD     1.9311
Iter 021 	 Temp     0.94 	 Delta   477.19 	 OutFr   0.0697 	 RMSD     1.9309
Iter 022 	 Temp     0.87 	 Delta   423.65 	 OutFr   0.0831 	 RMSD     1.9321
Iter 023 	 Temp     0.81 	 Delta   385.22 	 OutFr   0.0938 	 RMSD     1.9348
Iter 024 	 Temp     0.75 	 Delta   356.53 	 OutFr   0.0965 	 RMSD     1.9386
Iter 025 	 Temp     0.70 	 Delta   330.31 	 OutFr   0.1072 	 RMSD     1.9409
Iter 026 	 Temp     0.65 	 Delta   306.44 	 OutFr   0.1260 	 RMSD     1.9428
Iter 027 	 Temp     0.61 	 Delta   287.35 	 OutFr   0.1340 	 RMSD     1.9438
Iter 028 	 Temp     0.56 	 Delta   273.12 	 OutFr   0.1475 	 RMSD     1.9441
Iter 029 	 Temp     0.52 	 Delta   259.70 	 OutFr   0.1582 	 RMSD     1.9440
Iter 030 	 Temp     0.49 	 Delta   244.24 	 OutFr   0.1823 	 RMSD     1.9437
Iter 031 	 Temp     0.45 	 Delta   225.27 	 OutFr   0.2064 	 RMSD     1.9433
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.3KPdppG4/mybin.nii.gz
+ vtklevelset /tmp/ashs.3KPdppG4/mybin.nii.gz /tmp/ashs.3KPdppG4/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.3KPdppG4/mymesh.vtk /tmp/ashs.3KPdppG4/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2719.02944998   0.93117774
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.3KPdppG4/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.6045 to 33.5647
   Y : -11.8869 to 28.4229
   Z : -12.8189 to 19.471
   Image resolution  : 95 by 145 by 121
   Image box origin  : {5.6045, -16.8869, -17.8189}
   Image box size    : {32.9861, 50.3472, 42.3495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.6045, 16.8869, -17.8189]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat -o /tmp/ashs.3KPdppG4/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat -o /tmp/ashs.3KPdppG4/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.3KPdppG4/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.784615 0.790385
+ echo 'CHUNK 0.784615 0.790385 0.5'
CHUNK 0.784615 0.790385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.784615 0.790385 0.5
====================================
         PROGRESS: 0.784615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.3KPdppG4/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.3KPdppG4/fixed_hw.nii.gz /tmp/ashs.3KPdppG4/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.636638, moving = 0.487587
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.35686, 2.36618], [0.971862, 0.962185, 0.965988]
Level     0,  Iter     0:    Energy =   0.0585
Level     0,  Iter     1:    Energy =   0.0658
Level     0,  Iter     2:    Energy =   0.0729
Level     0,  Iter     3:    Energy =   0.0784
Level     0,  Iter     4:    Energy =   0.0830
Level     0,  Iter     5:    Energy =   0.0865
Level     0,  Iter     6:    Energy =   0.0892
Level     0,  Iter     7:    Energy =   0.0911
Level     0,  Iter     8:    Energy =   0.0928
Level     0,  Iter     9:    Energy =   0.0942
Level     0,  Iter    10:    Energy =   0.0955
Level     0,  Iter    11:    Energy =   0.0965
Level     0,  Iter    12:    Energy =   0.0973
Level     0,  Iter    13:    Energy =   0.0974
Level     0,  Iter    14:    Energy =   0.0975
Level     0,  Iter    15:    Energy =   0.0978
Level     0,  Iter    16:    Energy =   0.0979
Level     0,  Iter    17:    Energy =   0.0983
Level     0,  Iter    18:    Energy =   0.0983
Level     0,  Iter    19:    Energy =   0.0986
Level     0,  Iter    20:    Energy =   0.0987
Level     0,  Iter    21:    Energy =   0.0991
Level     0,  Iter    22:    Energy =   0.0991
Level     0,  Iter    23:    Energy =   0.0991
Level     0,  Iter    24:    Energy =   0.0992
Level     0,  Iter    25:    Energy =   0.0994
Level     0,  Iter    26:    Energy =   0.0994
Level     0,  Iter    27:    Energy =   0.0995
Level     0,  Iter    28:    Energy =   0.0997
Level     0,  Iter    29:    Energy =   0.0998
Level     0,  Iter    30:    Energy =   0.0999
Level     0,  Iter    31:    Energy =   0.1000
Level     0,  Iter    32:    Energy =   0.1001
Level     0,  Iter    33:    Energy =   0.1003
Level     0,  Iter    34:    Energy =   0.1003
Level     0,  Iter    35:    Energy =   0.1002
Level     0,  Iter    36:    Energy =   0.1003
Level     0,  Iter    37:    Energy =   0.1003
Level     0,  Iter    38:    Energy =   0.1004
Level     0,  Iter    39:    Energy =   0.1005
Level     0,  Iter    40:    Energy =   0.1005
Level     0,  Iter    41:    Energy =   0.1005
Level     0,  Iter    42:    Energy =   0.1004
Level     0,  Iter    43:    Energy =   0.1005
Level     0,  Iter    44:    Energy =   0.1006
Level     0,  Iter    45:    Energy =   0.1006
Level     0,  Iter    46:    Energy =   0.1006
Level     0,  Iter    47:    Energy =   0.1008
Level     0,  Iter    48:    Energy =   0.1008
Level     0,  Iter    49:    Energy =   0.1009
Level     0,  Iter    50:    Energy =   0.1009
Level     0,  Iter    51:    Energy =   0.1010
Level     0,  Iter    52:    Energy =   0.1010
Level     0,  Iter    53:    Energy =   0.1011
Level     0,  Iter    54:    Energy =   0.1011
Level     0,  Iter    55:    Energy =   0.1013
Level     0,  Iter    56:    Energy =   0.1012
Level     0,  Iter    57:    Energy =   0.1011
Level     0,  Iter    58:    Energy =   0.1011
Level     0,  Iter    59:    Energy =   0.1014
END OF LEVEL     0    DetJac Range:   0.3425  to   2.1044 
  Avg. Gradient Time  : 0.0076s  37.96% 
  Avg. Gaussian Time  : 0.0093s  46.58% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.19457, 1.20248], [0.485931, 0.487683, 0.490912]
Level     1,  Iter     0:    Energy =   0.0698
Level     1,  Iter     1:    Energy =   0.0737
Level     1,  Iter     2:    Energy =   0.0767
Level     1,  Iter     3:    Energy =   0.0790
Level     1,  Iter     4:    Energy =   0.0810
Level     1,  Iter     5:    Energy =   0.0830
Level     1,  Iter     6:    Energy =   0.0845
Level     1,  Iter     7:    Energy =   0.0857
Level     1,  Iter     8:    Energy =   0.0871
Level     1,  Iter     9:    Energy =   0.0881
Level     1,  Iter    10:    Energy =   0.0889
Level     1,  Iter    11:    Energy =   0.0898
Level     1,  Iter    12:    Energy =   0.0904
Level     1,  Iter    13:    Energy =   0.0904
Level     1,  Iter    14:    Energy =   0.0904
Level     1,  Iter    15:    Energy =   0.0904
Level     1,  Iter    16:    Energy =   0.0903
Level     1,  Iter    17:    Energy =   0.0903
Level     1,  Iter    18:    Energy =   0.0905
Level     1,  Iter    19:    Energy =   0.0904
Level     1,  Iter    20:    Energy =   0.0905
Level     1,  Iter    21:    Energy =   0.0905
Level     1,  Iter    22:    Energy =   0.0906
Level     1,  Iter    23:    Energy =   0.0905
Level     1,  Iter    24:    Energy =   0.0907
Level     1,  Iter    25:    Energy =   0.0906
Level     1,  Iter    26:    Energy =   0.0909
Level     1,  Iter    27:    Energy =   0.0908
Level     1,  Iter    28:    Energy =   0.0908
Level     1,  Iter    29:    Energy =   0.0907
Level     1,  Iter    30:    Energy =   0.0909
Level     1,  Iter    31:    Energy =   0.0908
Level     1,  Iter    32:    Energy =   0.0911
Level     1,  Iter    33:    Energy =   0.0910
Level     1,  Iter    34:    Energy =   0.0910
Level     1,  Iter    35:    Energy =   0.0910
Level     1,  Iter    36:    Energy =   0.0910
Level     1,  Iter    37:    Energy =   0.0910
Level     1,  Iter    38:    Energy =   0.0911
Level     1,  Iter    39:    Energy =   0.0911
Level     1,  Iter    40:    Energy =   0.0912
Level     1,  Iter    41:    Energy =   0.0911
Level     1,  Iter    42:    Energy =   0.0912
Level     1,  Iter    43:    Energy =   0.0912
Level     1,  Iter    44:    Energy =   0.0912
Level     1,  Iter    45:    Energy =   0.0912
Level     1,  Iter    46:    Energy =   0.0913
Level     1,  Iter    47:    Energy =   0.0913
Level     1,  Iter    48:    Energy =   0.0913
Level     1,  Iter    49:    Energy =   0.0913
Level     1,  Iter    50:    Energy =   0.0914
Level     1,  Iter    51:    Energy =   0.0913
Level     1,  Iter    52:    Energy =   0.0913
Level     1,  Iter    53:    Energy =   0.0913
Level     1,  Iter    54:    Energy =   0.0914
Level     1,  Iter    55:    Energy =   0.0913
Level     1,  Iter    56:    Energy =   0.0914
Level     1,  Iter    57:    Energy =   0.0914
Level     1,  Iter    58:    Energy =   0.0914
Level     1,  Iter    59:    Energy =   0.0913
END OF LEVEL     1    DetJac Range:   0.2018  to   3.0366 
  Avg. Gradient Time  : 0.0427s  40.02% 
  Avg. Gaussian Time  : 0.0509s  47.69% 
  Avg. Iteration Time : 0.1066s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0476
Level     2,  Iter     1:    Energy =   0.0503
Level     2,  Iter     2:    Energy =   0.0523
Level     2,  Iter     3:    Energy =   0.0542
Level     2,  Iter     4:    Energy =   0.0557
Level     2,  Iter     5:    Energy =   0.0571
Level     2,  Iter     6:    Energy =   0.0583
Level     2,  Iter     7:    Energy =   0.0591
Level     2,  Iter     8:    Energy =   0.0599
Level     2,  Iter     9:    Energy =   0.0609
Level     2,  Iter    10:    Energy =   0.0617
Level     2,  Iter    11:    Energy =   0.0624
Level     2,  Iter    12:    Energy =   0.0631
Level     2,  Iter    13:    Energy =   0.0637
Level     2,  Iter    14:    Energy =   0.0643
Level     2,  Iter    15:    Energy =   0.0648
Level     2,  Iter    16:    Energy =   0.0651
Level     2,  Iter    17:    Energy =   0.0654
Level     2,  Iter    18:    Energy =   0.0656
Level     2,  Iter    19:    Energy =   0.0659
END OF LEVEL     2    DetJac Range:   0.0946  to   4.6132 
  Avg. Gradient Time  : 0.2945s  37.39% 
  Avg. Gaussian Time  : 0.4096s  52.01% 
  Avg. Iteration Time : 0.7876s 

real	0m26.443s
user	0m46.640s
sys	0m2.704s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.784615 0.790385
+ echo 'CHUNK 0.784615 0.790385 1'
CHUNK 0.784615 0.790385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.784615 0.790385 1
====================================
         PROGRESS: 0.784615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 007
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1806.34 	 OutFr   0.0000 	 RMSD     2.3734
Iter 002 	 Temp     3.72 	 Delta  1733.52 	 OutFr   0.0000 	 RMSD     2.1532
Iter 003 	 Temp     3.46 	 Delta  1627.32 	 OutFr   0.0000 	 RMSD     2.1574
Iter 004 	 Temp     3.22 	 Delta  1526.97 	 OutFr   0.0000 	 RMSD     2.1363
Iter 005 	 Temp     2.99 	 Delta  1439.03 	 OutFr   0.0000 	 RMSD     2.1151
Iter 006 	 Temp     2.78 	 Delta  1359.80 	 OutFr   0.0000 	 RMSD     2.0971
Iter 007 	 Temp     2.59 	 Delta  1283.28 	 OutFr   0.0000 	 RMSD     2.0814
Iter 008 	 Temp     2.41 	 Delta  1208.63 	 OutFr   0.0000 	 RMSD     2.0685
Iter 009 	 Temp     2.24 	 Delta  1138.61 	 OutFr   0.0000 	 RMSD     2.0579
Iter 010 	 Temp     2.08 	 Delta  1073.39 	 OutFr   0.0000 	 RMSD     2.0489
Iter 011 	 Temp     1.94 	 Delta  1013.37 	 OutFr   0.0000 	 RMSD     2.0403
Iter 012 	 Temp     1.80 	 Delta   958.50 	 OutFr   0.0027 	 RMSD     2.0313
Iter 013 	 Temp     1.67 	 Delta   902.93 	 OutFr   0.0027 	 RMSD     2.0219
Iter 014 	 Temp     1.56 	 Delta   845.04 	 OutFr   0.0027 	 RMSD     2.0121
Iter 015 	 Temp     1.45 	 Delta   786.47 	 OutFr   0.0054 	 RMSD     2.0017
Iter 016 	 Temp     1.35 	 Delta   725.77 	 OutFr   0.0080 	 RMSD     1.9902
Iter 017 	 Temp     1.25 	 Delta   661.38 	 OutFr   0.0214 	 RMSD     1.9787
Iter 018 	 Temp     1.16 	 Delta   601.39 	 OutFr   0.0295 	 RMSD     1.9695
Iter 019 	 Temp     1.08 	 Delta   555.25 	 OutFr   0.0375 	 RMSD     1.9631
Iter 020 	 Temp     1.01 	 Delta   518.98 	 OutFr   0.0483 	 RMSD     1.9595
Iter 021 	 Temp     0.94 	 Delta   487.01 	 OutFr   0.0590 	 RMSD     1.9581
Iter 022 	 Temp     0.87 	 Delta   457.81 	 OutFr   0.0697 	 RMSD     1.9574
Iter 023 	 Temp     0.81 	 Delta   431.72 	 OutFr   0.0777 	 RMSD     1.9570
Iter 024 	 Temp     0.75 	 Delta   406.25 	 OutFr   0.0992 	 RMSD     1.9569
Iter 025 	 Temp     0.70 	 Delta   379.55 	 OutFr   0.1046 	 RMSD     1.9568
Iter 026 	 Temp     0.65 	 Delta   352.58 	 OutFr   0.1126 	 RMSD     1.9563
Iter 027 	 Temp     0.61 	 Delta   327.03 	 OutFr   0.1367 	 RMSD     1.9560
Iter 028 	 Temp     0.56 	 Delta   301.97 	 OutFr   0.1475 	 RMSD     1.9557
Iter 029 	 Temp     0.52 	 Delta   276.15 	 OutFr   0.1609 	 RMSD     1.9558
Iter 030 	 Temp     0.49 	 Delta   249.35 	 OutFr   0.1957 	 RMSD     1.9567
Iter 031 	 Temp     0.45 	 Delta   224.61 	 OutFr   0.2413 	 RMSD     1.9590
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.WG1aekPr/mybin.nii.gz
+ vtklevelset /tmp/ashs.WG1aekPr/mybin.nii.gz /tmp/ashs.WG1aekPr/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.WG1aekPr/mymesh.vtk /tmp/ashs.WG1aekPr/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2916.64899338   0.99885590
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.WG1aekPr/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.51029 to 32.2119
   Y : -17.7003 to 20.9835
   Z : -8.73017 to 28.5892
   Image resolution  : 98 by 141 by 136
   Image box origin  : {3.51029, -22.7003, -13.7302}
   Image box size    : {34.0278, 48.9583, 47.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.51029, 22.7003, -13.7302]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat -o /tmp/ashs.WG1aekPr/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat -o /tmp/ashs.WG1aekPr/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.WG1aekPr/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.790385 0.796154
+ echo 'CHUNK 0.790385 0.796154 0.5'
CHUNK 0.790385 0.796154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.790385 0.796154 0.5
====================================
         PROGRESS: 0.790385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.WG1aekPr/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.WG1aekPr/fixed_hw.nii.gz /tmp/ashs.WG1aekPr/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.636669, moving = 0.408957
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.35551, 2.42484], [0.96245, 0.961632, 0.989938]
Level     0,  Iter     0:    Energy =   0.0444
Level     0,  Iter     1:    Energy =   0.0511
Level     0,  Iter     2:    Energy =   0.0570
Level     0,  Iter     3:    Energy =   0.0621
Level     0,  Iter     4:    Energy =   0.0666
Level     0,  Iter     5:    Energy =   0.0699
Level     0,  Iter     6:    Energy =   0.0727
Level     0,  Iter     7:    Energy =   0.0747
Level     0,  Iter     8:    Energy =   0.0762
Level     0,  Iter     9:    Energy =   0.0765
Level     0,  Iter    10:    Energy =   0.0774
Level     0,  Iter    11:    Energy =   0.0779
Level     0,  Iter    12:    Energy =   0.0779
Level     0,  Iter    13:    Energy =   0.0781
Level     0,  Iter    14:    Energy =   0.0784
Level     0,  Iter    15:    Energy =   0.0786
Level     0,  Iter    16:    Energy =   0.0787
Level     0,  Iter    17:    Energy =   0.0789
Level     0,  Iter    18:    Energy =   0.0791
Level     0,  Iter    19:    Energy =   0.0793
Level     0,  Iter    20:    Energy =   0.0793
Level     0,  Iter    21:    Energy =   0.0795
Level     0,  Iter    22:    Energy =   0.0797
Level     0,  Iter    23:    Energy =   0.0798
Level     0,  Iter    24:    Energy =   0.0798
Level     0,  Iter    25:    Energy =   0.0800
Level     0,  Iter    26:    Energy =   0.0800
Level     0,  Iter    27:    Energy =   0.0801
Level     0,  Iter    28:    Energy =   0.0800
Level     0,  Iter    29:    Energy =   0.0802
Level     0,  Iter    30:    Energy =   0.0800
Level     0,  Iter    31:    Energy =   0.0802
Level     0,  Iter    32:    Energy =   0.0801
Level     0,  Iter    33:    Energy =   0.0802
Level     0,  Iter    34:    Energy =   0.0802
Level     0,  Iter    35:    Energy =   0.0803
Level     0,  Iter    36:    Energy =   0.0802
Level     0,  Iter    37:    Energy =   0.0804
Level     0,  Iter    38:    Energy =   0.0803
Level     0,  Iter    39:    Energy =   0.0804
Level     0,  Iter    40:    Energy =   0.0804
Level     0,  Iter    41:    Energy =   0.0806
Level     0,  Iter    42:    Energy =   0.0806
Level     0,  Iter    43:    Energy =   0.0807
Level     0,  Iter    44:    Energy =   0.0806
Level     0,  Iter    45:    Energy =   0.0808
Level     0,  Iter    46:    Energy =   0.0808
Level     0,  Iter    47:    Energy =   0.0812
Level     0,  Iter    48:    Energy =   0.0811
Level     0,  Iter    49:    Energy =   0.0812
Level     0,  Iter    50:    Energy =   0.0812
Level     0,  Iter    51:    Energy =   0.0812
Level     0,  Iter    52:    Energy =   0.0812
Level     0,  Iter    53:    Energy =   0.0815
Level     0,  Iter    54:    Energy =   0.0815
Level     0,  Iter    55:    Energy =   0.0816
Level     0,  Iter    56:    Energy =   0.0815
Level     0,  Iter    57:    Energy =   0.0818
Level     0,  Iter    58:    Energy =   0.0817
Level     0,  Iter    59:    Energy =   0.0818
END OF LEVEL     0    DetJac Range:   0.2265  to   2.2662 
  Avg. Gradient Time  : 0.0072s  37.69% 
  Avg. Gaussian Time  : 0.0089s  46.93% 
  Avg. Iteration Time : 0.0190s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19434, 1.21242], [0.491046, 0.487588, 0.494969]
Level     1,  Iter     0:    Energy =   0.0628
Level     1,  Iter     1:    Energy =   0.0662
Level     1,  Iter     2:    Energy =   0.0686
Level     1,  Iter     3:    Energy =   0.0716
Level     1,  Iter     4:    Energy =   0.0734
Level     1,  Iter     5:    Energy =   0.0750
Level     1,  Iter     6:    Energy =   0.0763
Level     1,  Iter     7:    Energy =   0.0776
Level     1,  Iter     8:    Energy =   0.0788
Level     1,  Iter     9:    Energy =   0.0799
Level     1,  Iter    10:    Energy =   0.0805
Level     1,  Iter    11:    Energy =   0.0810
Level     1,  Iter    12:    Energy =   0.0814
Level     1,  Iter    13:    Energy =   0.0818
Level     1,  Iter    14:    Energy =   0.0823
Level     1,  Iter    15:    Energy =   0.0827
Level     1,  Iter    16:    Energy =   0.0832
Level     1,  Iter    17:    Energy =   0.0837
Level     1,  Iter    18:    Energy =   0.0841
Level     1,  Iter    19:    Energy =   0.0842
Level     1,  Iter    20:    Energy =   0.0844
Level     1,  Iter    21:    Energy =   0.0841
Level     1,  Iter    22:    Energy =   0.0845
Level     1,  Iter    23:    Energy =   0.0846
Level     1,  Iter    24:    Energy =   0.0847
Level     1,  Iter    25:    Energy =   0.0844
Level     1,  Iter    26:    Energy =   0.0848
Level     1,  Iter    27:    Energy =   0.0848
Level     1,  Iter    28:    Energy =   0.0849
Level     1,  Iter    29:    Energy =   0.0847
Level     1,  Iter    30:    Energy =   0.0850
Level     1,  Iter    31:    Energy =   0.0849
Level     1,  Iter    32:    Energy =   0.0851
Level     1,  Iter    33:    Energy =   0.0849
Level     1,  Iter    34:    Energy =   0.0852
Level     1,  Iter    35:    Energy =   0.0850
Level     1,  Iter    36:    Energy =   0.0852
Level     1,  Iter    37:    Energy =   0.0850
Level     1,  Iter    38:    Energy =   0.0853
Level     1,  Iter    39:    Energy =   0.0851
Level     1,  Iter    40:    Energy =   0.0853
Level     1,  Iter    41:    Energy =   0.0851
Level     1,  Iter    42:    Energy =   0.0854
Level     1,  Iter    43:    Energy =   0.0852
Level     1,  Iter    44:    Energy =   0.0854
Level     1,  Iter    45:    Energy =   0.0852
Level     1,  Iter    46:    Energy =   0.0855
Level     1,  Iter    47:    Energy =   0.0853
Level     1,  Iter    48:    Energy =   0.0855
Level     1,  Iter    49:    Energy =   0.0853
Level     1,  Iter    50:    Energy =   0.0856
Level     1,  Iter    51:    Energy =   0.0854
Level     1,  Iter    52:    Energy =   0.0856
Level     1,  Iter    53:    Energy =   0.0854
Level     1,  Iter    54:    Energy =   0.0856
Level     1,  Iter    55:    Energy =   0.0854
Level     1,  Iter    56:    Energy =   0.0856
Level     1,  Iter    57:    Energy =   0.0855
Level     1,  Iter    58:    Energy =   0.0857
Level     1,  Iter    59:    Energy =   0.0855
END OF LEVEL     1    DetJac Range:   0.0853  to   2.8617 
  Avg. Gradient Time  : 0.0427s  40.24% 
  Avg. Gaussian Time  : 0.0505s  47.58% 
  Avg. Iteration Time : 0.1061s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0461
Level     2,  Iter     1:    Energy =   0.0486
Level     2,  Iter     2:    Energy =   0.0508
Level     2,  Iter     3:    Energy =   0.0526
Level     2,  Iter     4:    Energy =   0.0543
Level     2,  Iter     5:    Energy =   0.0557
Level     2,  Iter     6:    Energy =   0.0570
Level     2,  Iter     7:    Energy =   0.0581
Level     2,  Iter     8:    Energy =   0.0588
Level     2,  Iter     9:    Energy =   0.0597
Level     2,  Iter    10:    Energy =   0.0603
Level     2,  Iter    11:    Energy =   0.0609
Level     2,  Iter    12:    Energy =   0.0616
Level     2,  Iter    13:    Energy =   0.0622
Level     2,  Iter    14:    Energy =   0.0626
Level     2,  Iter    15:    Energy =   0.0631
Level     2,  Iter    16:    Energy =   0.0635
Level     2,  Iter    17:    Energy =   0.0638
Level     2,  Iter    18:    Energy =   0.0639
Level     2,  Iter    19:    Energy =   0.0642
END OF LEVEL     2    DetJac Range:   0.0651  to   3.3562 
  Avg. Gradient Time  : 0.3011s  37.88% 
  Avg. Gaussian Time  : 0.4101s  51.59% 
  Avg. Iteration Time : 0.7950s 

real	0m26.494s
user	0m46.444s
sys	0m2.896s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.790385 0.796154
+ echo 'CHUNK 0.790385 0.796154 1'
CHUNK 0.790385 0.796154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.790385 0.796154 1
====================================
         PROGRESS: 0.790385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 008
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1724.37 	 OutFr   0.0000 	 RMSD     2.5499
Iter 002 	 Temp     3.72 	 Delta  1599.88 	 OutFr   0.0027 	 RMSD     2.2260
Iter 003 	 Temp     3.46 	 Delta  1488.21 	 OutFr   0.0027 	 RMSD     2.2093
Iter 004 	 Temp     3.22 	 Delta  1384.77 	 OutFr   0.0027 	 RMSD     2.1860
Iter 005 	 Temp     2.99 	 Delta  1286.99 	 OutFr   0.0027 	 RMSD     2.1634
Iter 006 	 Temp     2.78 	 Delta  1194.36 	 OutFr   0.0027 	 RMSD     2.1430
Iter 007 	 Temp     2.59 	 Delta  1106.68 	 OutFr   0.0027 	 RMSD     2.1235
Iter 008 	 Temp     2.41 	 Delta  1024.22 	 OutFr   0.0027 	 RMSD     2.1060
Iter 009 	 Temp     2.24 	 Delta   948.42 	 OutFr   0.0027 	 RMSD     2.0901
Iter 010 	 Temp     2.08 	 Delta   880.89 	 OutFr   0.0027 	 RMSD     2.0762
Iter 011 	 Temp     1.94 	 Delta   821.50 	 OutFr   0.0027 	 RMSD     2.0649
Iter 012 	 Temp     1.80 	 Delta   768.53 	 OutFr   0.0027 	 RMSD     2.0551
Iter 013 	 Temp     1.67 	 Delta   720.33 	 OutFr   0.0027 	 RMSD     2.0468
Iter 014 	 Temp     1.56 	 Delta   675.10 	 OutFr   0.0054 	 RMSD     2.0389
Iter 015 	 Temp     1.45 	 Delta   629.98 	 OutFr   0.0080 	 RMSD     2.0308
Iter 016 	 Temp     1.35 	 Delta   588.93 	 OutFr   0.0161 	 RMSD     2.0234
Iter 017 	 Temp     1.25 	 Delta   554.48 	 OutFr   0.0188 	 RMSD     2.0171
Iter 018 	 Temp     1.16 	 Delta   522.85 	 OutFr   0.0214 	 RMSD     2.0117
Iter 019 	 Temp     1.08 	 Delta   495.01 	 OutFr   0.0241 	 RMSD     2.0071
Iter 020 	 Temp     1.01 	 Delta   470.45 	 OutFr   0.0349 	 RMSD     2.0029
Iter 021 	 Temp     0.94 	 Delta   447.65 	 OutFr   0.0483 	 RMSD     1.9992
Iter 022 	 Temp     0.87 	 Delta   424.55 	 OutFr   0.0536 	 RMSD     1.9968
Iter 023 	 Temp     0.81 	 Delta   401.20 	 OutFr   0.0724 	 RMSD     1.9954
Iter 024 	 Temp     0.75 	 Delta   378.22 	 OutFr   0.0777 	 RMSD     1.9945
Iter 025 	 Temp     0.70 	 Delta   355.03 	 OutFr   0.0938 	 RMSD     1.9941
Iter 026 	 Temp     0.65 	 Delta   332.07 	 OutFr   0.0992 	 RMSD     1.9940
Iter 027 	 Temp     0.61 	 Delta   311.64 	 OutFr   0.1206 	 RMSD     1.9939
Iter 028 	 Temp     0.56 	 Delta   294.41 	 OutFr   0.1475 	 RMSD     1.9935
Iter 029 	 Temp     0.52 	 Delta   277.14 	 OutFr   0.1609 	 RMSD     1.9927
Iter 030 	 Temp     0.49 	 Delta   256.93 	 OutFr   0.1850 	 RMSD     1.9914
Iter 031 	 Temp     0.45 	 Delta   234.16 	 OutFr   0.2198 	 RMSD     1.9898
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Z1WHccF9/mybin.nii.gz
+ vtklevelset /tmp/ashs.Z1WHccF9/mybin.nii.gz /tmp/ashs.Z1WHccF9/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Z1WHccF9/mymesh.vtk /tmp/ashs.Z1WHccF9/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2863.73847008   0.98073580
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Z1WHccF9/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.4711 to 33.391
   Y : -18.1302 to 20.0842
   Z : -12.5545 to 22.4621
   Image resolution  : 101 by 139 by 129
   Image box origin  : {3.4711, -23.1302, -17.5545}
   Image box size    : {35.0694, 48.2639, 45.1495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.4711, 23.1302, -17.5545]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat -o /tmp/ashs.Z1WHccF9/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat -o /tmp/ashs.Z1WHccF9/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Z1WHccF9/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.796154 0.801923
+ echo 'CHUNK 0.796154 0.801923 0.5'
CHUNK 0.796154 0.801923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.796154 0.801923 0.5
====================================
         PROGRESS: 0.796154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Z1WHccF9/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Z1WHccF9/fixed_hw.nii.gz /tmp/ashs.Z1WHccF9/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.647611, moving = 0.400398
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.38844, 2.36973], [0.953763, 0.975077, 0.96744]
Level     0,  Iter     0:    Energy =   0.0455
Level     0,  Iter     1:    Energy =   0.0501
Level     0,  Iter     2:    Energy =   0.0533
Level     0,  Iter     3:    Energy =   0.0562
Level     0,  Iter     4:    Energy =   0.0589
Level     0,  Iter     5:    Energy =   0.0610
Level     0,  Iter     6:    Energy =   0.0627
Level     0,  Iter     7:    Energy =   0.0643
Level     0,  Iter     8:    Energy =   0.0658
Level     0,  Iter     9:    Energy =   0.0671
Level     0,  Iter    10:    Energy =   0.0683
Level     0,  Iter    11:    Energy =   0.0688
Level     0,  Iter    12:    Energy =   0.0691
Level     0,  Iter    13:    Energy =   0.0696
Level     0,  Iter    14:    Energy =   0.0699
Level     0,  Iter    15:    Energy =   0.0702
Level     0,  Iter    16:    Energy =   0.0705
Level     0,  Iter    17:    Energy =   0.0706
Level     0,  Iter    18:    Energy =   0.0708
Level     0,  Iter    19:    Energy =   0.0707
Level     0,  Iter    20:    Energy =   0.0713
Level     0,  Iter    21:    Energy =   0.0712
Level     0,  Iter    22:    Energy =   0.0715
Level     0,  Iter    23:    Energy =   0.0714
Level     0,  Iter    24:    Energy =   0.0721
Level     0,  Iter    25:    Energy =   0.0719
Level     0,  Iter    26:    Energy =   0.0721
Level     0,  Iter    27:    Energy =   0.0719
Level     0,  Iter    28:    Energy =   0.0723
Level     0,  Iter    29:    Energy =   0.0722
Level     0,  Iter    30:    Energy =   0.0725
Level     0,  Iter    31:    Energy =   0.0724
Level     0,  Iter    32:    Energy =   0.0728
Level     0,  Iter    33:    Energy =   0.0727
Level     0,  Iter    34:    Energy =   0.0730
Level     0,  Iter    35:    Energy =   0.0728
Level     0,  Iter    36:    Energy =   0.0731
Level     0,  Iter    37:    Energy =   0.0730
Level     0,  Iter    38:    Energy =   0.0733
Level     0,  Iter    39:    Energy =   0.0731
Level     0,  Iter    40:    Energy =   0.0734
Level     0,  Iter    41:    Energy =   0.0733
Level     0,  Iter    42:    Energy =   0.0735
Level     0,  Iter    43:    Energy =   0.0734
Level     0,  Iter    44:    Energy =   0.0736
Level     0,  Iter    45:    Energy =   0.0735
Level     0,  Iter    46:    Energy =   0.0738
Level     0,  Iter    47:    Energy =   0.0736
Level     0,  Iter    48:    Energy =   0.0738
Level     0,  Iter    49:    Energy =   0.0737
Level     0,  Iter    50:    Energy =   0.0741
Level     0,  Iter    51:    Energy =   0.0739
Level     0,  Iter    52:    Energy =   0.0740
Level     0,  Iter    53:    Energy =   0.0739
Level     0,  Iter    54:    Energy =   0.0742
Level     0,  Iter    55:    Energy =   0.0740
Level     0,  Iter    56:    Energy =   0.0742
Level     0,  Iter    57:    Energy =   0.0740
Level     0,  Iter    58:    Energy =   0.0742
Level     0,  Iter    59:    Energy =   0.0740
END OF LEVEL     0    DetJac Range:   0.1815  to   2.0670 
  Avg. Gradient Time  : 0.0081s  37.16% 
  Avg. Gaussian Time  : 0.0104s  47.68% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.19422, 1.2031], [0.486232, 0.487539, 0.491162]
Level     1,  Iter     0:    Energy =   0.0512
Level     1,  Iter     1:    Energy =   0.0541
Level     1,  Iter     2:    Energy =   0.0568
Level     1,  Iter     3:    Energy =   0.0590
Level     1,  Iter     4:    Energy =   0.0608
Level     1,  Iter     5:    Energy =   0.0624
Level     1,  Iter     6:    Energy =   0.0637
Level     1,  Iter     7:    Energy =   0.0649
Level     1,  Iter     8:    Energy =   0.0656
Level     1,  Iter     9:    Energy =   0.0665
Level     1,  Iter    10:    Energy =   0.0672
Level     1,  Iter    11:    Energy =   0.0679
Level     1,  Iter    12:    Energy =   0.0685
Level     1,  Iter    13:    Energy =   0.0692
Level     1,  Iter    14:    Energy =   0.0698
Level     1,  Iter    15:    Energy =   0.0703
Level     1,  Iter    16:    Energy =   0.0708
Level     1,  Iter    17:    Energy =   0.0713
Level     1,  Iter    18:    Energy =   0.0717
Level     1,  Iter    19:    Energy =   0.0721
Level     1,  Iter    20:    Energy =   0.0725
Level     1,  Iter    21:    Energy =   0.0728
Level     1,  Iter    22:    Energy =   0.0729
Level     1,  Iter    23:    Energy =   0.0730
Level     1,  Iter    24:    Energy =   0.0728
Level     1,  Iter    25:    Energy =   0.0729
Level     1,  Iter    26:    Energy =   0.0731
Level     1,  Iter    27:    Energy =   0.0732
Level     1,  Iter    28:    Energy =   0.0730
Level     1,  Iter    29:    Energy =   0.0733
Level     1,  Iter    30:    Energy =   0.0733
Level     1,  Iter    31:    Energy =   0.0734
Level     1,  Iter    32:    Energy =   0.0733
Level     1,  Iter    33:    Energy =   0.0735
Level     1,  Iter    34:    Energy =   0.0735
Level     1,  Iter    35:    Energy =   0.0736
Level     1,  Iter    36:    Energy =   0.0735
Level     1,  Iter    37:    Energy =   0.0737
Level     1,  Iter    38:    Energy =   0.0736
Level     1,  Iter    39:    Energy =   0.0737
Level     1,  Iter    40:    Energy =   0.0736
Level     1,  Iter    41:    Energy =   0.0738
Level     1,  Iter    42:    Energy =   0.0737
Level     1,  Iter    43:    Energy =   0.0739
Level     1,  Iter    44:    Energy =   0.0737
Level     1,  Iter    45:    Energy =   0.0739
Level     1,  Iter    46:    Energy =   0.0738
Level     1,  Iter    47:    Energy =   0.0740
Level     1,  Iter    48:    Energy =   0.0738
Level     1,  Iter    49:    Energy =   0.0740
Level     1,  Iter    50:    Energy =   0.0739
Level     1,  Iter    51:    Energy =   0.0740
Level     1,  Iter    52:    Energy =   0.0739
Level     1,  Iter    53:    Energy =   0.0740
Level     1,  Iter    54:    Energy =   0.0740
Level     1,  Iter    55:    Energy =   0.0741
Level     1,  Iter    56:    Energy =   0.0739
Level     1,  Iter    57:    Energy =   0.0740
Level     1,  Iter    58:    Energy =   0.0742
Level     1,  Iter    59:    Energy =   0.0742
END OF LEVEL     1    DetJac Range:   0.0765  to   3.3216 
  Avg. Gradient Time  : 0.0460s  39.63% 
  Avg. Gaussian Time  : 0.0561s  48.34% 
  Avg. Iteration Time : 0.1161s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0397
Level     2,  Iter     1:    Energy =   0.0419
Level     2,  Iter     2:    Energy =   0.0438
Level     2,  Iter     3:    Energy =   0.0453
Level     2,  Iter     4:    Energy =   0.0465
Level     2,  Iter     5:    Energy =   0.0476
Level     2,  Iter     6:    Energy =   0.0488
Level     2,  Iter     7:    Energy =   0.0497
Level     2,  Iter     8:    Energy =   0.0506
Level     2,  Iter     9:    Energy =   0.0515
Level     2,  Iter    10:    Energy =   0.0523
Level     2,  Iter    11:    Energy =   0.0530
Level     2,  Iter    12:    Energy =   0.0537
Level     2,  Iter    13:    Energy =   0.0543
Level     2,  Iter    14:    Energy =   0.0549
Level     2,  Iter    15:    Energy =   0.0556
Level     2,  Iter    16:    Energy =   0.0561
Level     2,  Iter    17:    Energy =   0.0567
Level     2,  Iter    18:    Energy =   0.0570
Level     2,  Iter    19:    Energy =   0.0574
END OF LEVEL     2    DetJac Range:   0.0315  to   5.1161 
  Avg. Gradient Time  : 0.3174s  36.99% 
  Avg. Gaussian Time  : 0.4508s  52.54% 
  Avg. Iteration Time : 0.8580s 

real	0m28.946s
user	0m50.836s
sys	0m3.172s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.796154 0.801923
+ echo 'CHUNK 0.796154 0.801923 1'
CHUNK 0.796154 0.801923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.796154 0.801923 1
====================================
         PROGRESS: 0.796154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 009
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2322.02 	 OutFr   0.0054 	 RMSD     3.0279
Iter 002 	 Temp     3.72 	 Delta  2115.33 	 OutFr   0.0000 	 RMSD     2.0226
Iter 003 	 Temp     3.46 	 Delta  1976.39 	 OutFr   0.0000 	 RMSD     1.9660
Iter 004 	 Temp     3.22 	 Delta  1843.96 	 OutFr   0.0000 	 RMSD     1.9399
Iter 005 	 Temp     2.99 	 Delta  1721.43 	 OutFr   0.0000 	 RMSD     1.9162
Iter 006 	 Temp     2.78 	 Delta  1608.02 	 OutFr   0.0000 	 RMSD     1.8959
Iter 007 	 Temp     2.59 	 Delta  1502.01 	 OutFr   0.0000 	 RMSD     1.8785
Iter 008 	 Temp     2.41 	 Delta  1403.09 	 OutFr   0.0000 	 RMSD     1.8641
Iter 009 	 Temp     2.24 	 Delta  1311.73 	 OutFr   0.0000 	 RMSD     1.8521
Iter 010 	 Temp     2.08 	 Delta  1227.36 	 OutFr   0.0000 	 RMSD     1.8415
Iter 011 	 Temp     1.94 	 Delta  1147.34 	 OutFr   0.0000 	 RMSD     1.8330
Iter 012 	 Temp     1.80 	 Delta  1068.74 	 OutFr   0.0000 	 RMSD     1.8262
Iter 013 	 Temp     1.67 	 Delta   990.56 	 OutFr   0.0027 	 RMSD     1.8209
Iter 014 	 Temp     1.56 	 Delta   914.29 	 OutFr   0.0027 	 RMSD     1.8166
Iter 015 	 Temp     1.45 	 Delta   843.42 	 OutFr   0.0027 	 RMSD     1.8131
Iter 016 	 Temp     1.35 	 Delta   781.82 	 OutFr   0.0027 	 RMSD     1.8099
Iter 017 	 Temp     1.25 	 Delta   729.84 	 OutFr   0.0027 	 RMSD     1.8066
Iter 018 	 Temp     1.16 	 Delta   685.14 	 OutFr   0.0027 	 RMSD     1.8034
Iter 019 	 Temp     1.08 	 Delta   644.25 	 OutFr   0.0080 	 RMSD     1.8010
Iter 020 	 Temp     1.01 	 Delta   603.37 	 OutFr   0.0080 	 RMSD     1.7993
Iter 021 	 Temp     0.94 	 Delta   562.11 	 OutFr   0.0188 	 RMSD     1.7981
Iter 022 	 Temp     0.87 	 Delta   522.32 	 OutFr   0.0268 	 RMSD     1.7971
Iter 023 	 Temp     0.81 	 Delta   483.84 	 OutFr   0.0456 	 RMSD     1.7965
Iter 024 	 Temp     0.75 	 Delta   445.19 	 OutFr   0.0563 	 RMSD     1.7966
Iter 025 	 Temp     0.70 	 Delta   407.26 	 OutFr   0.0804 	 RMSD     1.7973
Iter 026 	 Temp     0.65 	 Delta   373.78 	 OutFr   0.1046 	 RMSD     1.7988
Iter 027 	 Temp     0.61 	 Delta   345.22 	 OutFr   0.1260 	 RMSD     1.8014
Iter 028 	 Temp     0.56 	 Delta   319.11 	 OutFr   0.1609 	 RMSD     1.8042
Iter 029 	 Temp     0.52 	 Delta   293.69 	 OutFr   0.1796 	 RMSD     1.8062
Iter 030 	 Temp     0.49 	 Delta   267.33 	 OutFr   0.1984 	 RMSD     1.8081
Iter 031 	 Temp     0.45 	 Delta   239.89 	 OutFr   0.2440 	 RMSD     1.8105
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.yMWkl9sa/mybin.nii.gz
+ vtklevelset /tmp/ashs.yMWkl9sa/mybin.nii.gz /tmp/ashs.yMWkl9sa/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.yMWkl9sa/mymesh.vtk /tmp/ashs.yMWkl9sa/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2929.09324392   1.00311765
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.yMWkl9sa/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.7244 to 34.5343
   Y : -13.9884 to 27.2968
   Z : -11.6507 to 23.4274
   Image resolution  : 98 by 148 by 129
   Image box origin  : {5.7244, -18.9884, -16.6507}
   Image box size    : {34.0278, 51.3889, 45.1495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.7244, 18.9884, -16.6507]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat -o /tmp/ashs.yMWkl9sa/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat -o /tmp/ashs.yMWkl9sa/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.yMWkl9sa/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.801923 0.807692
+ echo 'CHUNK 0.801923 0.807692 0.5'
CHUNK 0.801923 0.807692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.801923 0.807692 0.5
====================================
         PROGRESS: 0.801923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.yMWkl9sa/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.yMWkl9sa/fixed_hw.nii.gz /tmp/ashs.yMWkl9sa/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.638848, moving = 0.707374
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.40562, 2.36973], [0.96245, 0.982092, 0.96744]
Level     0,  Iter     0:    Energy =   0.0461
Level     0,  Iter     1:    Energy =   0.0533
Level     0,  Iter     2:    Energy =   0.0607
Level     0,  Iter     3:    Energy =   0.0649
Level     0,  Iter     4:    Energy =   0.0682
Level     0,  Iter     5:    Energy =   0.0712
Level     0,  Iter     6:    Energy =   0.0744
Level     0,  Iter     7:    Energy =   0.0767
Level     0,  Iter     8:    Energy =   0.0782
Level     0,  Iter     9:    Energy =   0.0796
Level     0,  Iter    10:    Energy =   0.0805
Level     0,  Iter    11:    Energy =   0.0815
Level     0,  Iter    12:    Energy =   0.0820
Level     0,  Iter    13:    Energy =   0.0826
Level     0,  Iter    14:    Energy =   0.0820
Level     0,  Iter    15:    Energy =   0.0826
Level     0,  Iter    16:    Energy =   0.0825
Level     0,  Iter    17:    Energy =   0.0828
Level     0,  Iter    18:    Energy =   0.0826
Level     0,  Iter    19:    Energy =   0.0829
Level     0,  Iter    20:    Energy =   0.0829
Level     0,  Iter    21:    Energy =   0.0831
Level     0,  Iter    22:    Energy =   0.0830
Level     0,  Iter    23:    Energy =   0.0832
Level     0,  Iter    24:    Energy =   0.0832
Level     0,  Iter    25:    Energy =   0.0834
Level     0,  Iter    26:    Energy =   0.0833
Level     0,  Iter    27:    Energy =   0.0835
Level     0,  Iter    28:    Energy =   0.0835
Level     0,  Iter    29:    Energy =   0.0836
Level     0,  Iter    30:    Energy =   0.0836
Level     0,  Iter    31:    Energy =   0.0837
Level     0,  Iter    32:    Energy =   0.0838
Level     0,  Iter    33:    Energy =   0.0839
Level     0,  Iter    34:    Energy =   0.0838
Level     0,  Iter    35:    Energy =   0.0840
Level     0,  Iter    36:    Energy =   0.0840
Level     0,  Iter    37:    Energy =   0.0841
Level     0,  Iter    38:    Energy =   0.0840
Level     0,  Iter    39:    Energy =   0.0842
Level     0,  Iter    40:    Energy =   0.0842
Level     0,  Iter    41:    Energy =   0.0843
Level     0,  Iter    42:    Energy =   0.0842
Level     0,  Iter    43:    Energy =   0.0843
Level     0,  Iter    44:    Energy =   0.0843
Level     0,  Iter    45:    Energy =   0.0844
Level     0,  Iter    46:    Energy =   0.0843
Level     0,  Iter    47:    Energy =   0.0844
Level     0,  Iter    48:    Energy =   0.0844
Level     0,  Iter    49:    Energy =   0.0845
Level     0,  Iter    50:    Energy =   0.0844
Level     0,  Iter    51:    Energy =   0.0845
Level     0,  Iter    52:    Energy =   0.0845
Level     0,  Iter    53:    Energy =   0.0845
Level     0,  Iter    54:    Energy =   0.0845
Level     0,  Iter    55:    Energy =   0.0845
Level     0,  Iter    56:    Energy =   0.0846
Level     0,  Iter    57:    Energy =   0.0846
Level     0,  Iter    58:    Energy =   0.0845
Level     0,  Iter    59:    Energy =   0.0846
END OF LEVEL     0    DetJac Range:   0.3839  to   2.1363 
  Avg. Gradient Time  : 0.0081s  37.80% 
  Avg. Gaussian Time  : 0.0101s  46.82% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.2031], [0.491046, 0.491046, 0.491162]
Level     1,  Iter     0:    Energy =   0.0596
Level     1,  Iter     1:    Energy =   0.0638
Level     1,  Iter     2:    Energy =   0.0670
Level     1,  Iter     3:    Energy =   0.0692
Level     1,  Iter     4:    Energy =   0.0712
Level     1,  Iter     5:    Energy =   0.0727
Level     1,  Iter     6:    Energy =   0.0741
Level     1,  Iter     7:    Energy =   0.0751
Level     1,  Iter     8:    Energy =   0.0760
Level     1,  Iter     9:    Energy =   0.0769
Level     1,  Iter    10:    Energy =   0.0775
Level     1,  Iter    11:    Energy =   0.0777
Level     1,  Iter    12:    Energy =   0.0782
Level     1,  Iter    13:    Energy =   0.0785
Level     1,  Iter    14:    Energy =   0.0787
Level     1,  Iter    15:    Energy =   0.0789
Level     1,  Iter    16:    Energy =   0.0791
Level     1,  Iter    17:    Energy =   0.0793
Level     1,  Iter    18:    Energy =   0.0795
Level     1,  Iter    19:    Energy =   0.0796
Level     1,  Iter    20:    Energy =   0.0797
Level     1,  Iter    21:    Energy =   0.0798
Level     1,  Iter    22:    Energy =   0.0798
Level     1,  Iter    23:    Energy =   0.0798
Level     1,  Iter    24:    Energy =   0.0800
Level     1,  Iter    25:    Energy =   0.0801
Level     1,  Iter    26:    Energy =   0.0802
Level     1,  Iter    27:    Energy =   0.0803
Level     1,  Iter    28:    Energy =   0.0803
Level     1,  Iter    29:    Energy =   0.0804
Level     1,  Iter    30:    Energy =   0.0804
Level     1,  Iter    31:    Energy =   0.0806
Level     1,  Iter    32:    Energy =   0.0804
Level     1,  Iter    33:    Energy =   0.0807
Level     1,  Iter    34:    Energy =   0.0806
Level     1,  Iter    35:    Energy =   0.0808
Level     1,  Iter    36:    Energy =   0.0806
Level     1,  Iter    37:    Energy =   0.0810
Level     1,  Iter    38:    Energy =   0.0808
Level     1,  Iter    39:    Energy =   0.0810
Level     1,  Iter    40:    Energy =   0.0809
Level     1,  Iter    41:    Energy =   0.0811
Level     1,  Iter    42:    Energy =   0.0810
Level     1,  Iter    43:    Energy =   0.0811
Level     1,  Iter    44:    Energy =   0.0811
Level     1,  Iter    45:    Energy =   0.0813
Level     1,  Iter    46:    Energy =   0.0811
Level     1,  Iter    47:    Energy =   0.0811
Level     1,  Iter    48:    Energy =   0.0812
Level     1,  Iter    49:    Energy =   0.0812
Level     1,  Iter    50:    Energy =   0.0813
Level     1,  Iter    51:    Energy =   0.0812
Level     1,  Iter    52:    Energy =   0.0813
Level     1,  Iter    53:    Energy =   0.0812
Level     1,  Iter    54:    Energy =   0.0815
Level     1,  Iter    55:    Energy =   0.0813
Level     1,  Iter    56:    Energy =   0.0815
Level     1,  Iter    57:    Energy =   0.0813
Level     1,  Iter    58:    Energy =   0.0816
Level     1,  Iter    59:    Energy =   0.0814
END OF LEVEL     1    DetJac Range:   0.1571  to   2.7950 
  Avg. Gradient Time  : 0.0469s  39.59% 
  Avg. Gaussian Time  : 0.0571s  48.20% 
  Avg. Iteration Time : 0.1185s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0420
Level     2,  Iter     1:    Energy =   0.0441
Level     2,  Iter     2:    Energy =   0.0460
Level     2,  Iter     3:    Energy =   0.0477
Level     2,  Iter     4:    Energy =   0.0492
Level     2,  Iter     5:    Energy =   0.0504
Level     2,  Iter     6:    Energy =   0.0517
Level     2,  Iter     7:    Energy =   0.0529
Level     2,  Iter     8:    Energy =   0.0538
Level     2,  Iter     9:    Energy =   0.0547
Level     2,  Iter    10:    Energy =   0.0556
Level     2,  Iter    11:    Energy =   0.0563
Level     2,  Iter    12:    Energy =   0.0571
Level     2,  Iter    13:    Energy =   0.0578
Level     2,  Iter    14:    Energy =   0.0585
Level     2,  Iter    15:    Energy =   0.0590
Level     2,  Iter    16:    Energy =   0.0590
Level     2,  Iter    17:    Energy =   0.0591
Level     2,  Iter    18:    Energy =   0.0593
Level     2,  Iter    19:    Energy =   0.0594
END OF LEVEL     2    DetJac Range:   0.0861  to   3.6279 
  Avg. Gradient Time  : 0.3269s  37.16% 
  Avg. Gaussian Time  : 0.4592s  52.20% 
  Avg. Iteration Time : 0.8797s 

real	0m29.473s
user	0m51.992s
sys	0m2.996s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.801923 0.807692
+ echo 'CHUNK 0.801923 0.807692 1'
CHUNK 0.801923 0.807692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.801923 0.807692 1
====================================
         PROGRESS: 0.801923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 010
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2097.96 	 OutFr   0.0000 	 RMSD     2.4857
Iter 002 	 Temp     3.72 	 Delta  1830.39 	 OutFr   0.0000 	 RMSD     2.0653
Iter 003 	 Temp     3.46 	 Delta  1651.16 	 OutFr   0.0000 	 RMSD     2.0100
Iter 004 	 Temp     3.22 	 Delta  1500.76 	 OutFr   0.0000 	 RMSD     1.9582
Iter 005 	 Temp     2.99 	 Delta  1368.99 	 OutFr   0.0000 	 RMSD     1.9174
Iter 006 	 Temp     2.78 	 Delta  1253.04 	 OutFr   0.0000 	 RMSD     1.8846
Iter 007 	 Temp     2.59 	 Delta  1151.32 	 OutFr   0.0000 	 RMSD     1.8583
Iter 008 	 Temp     2.41 	 Delta  1062.02 	 OutFr   0.0000 	 RMSD     1.8371
Iter 009 	 Temp     2.24 	 Delta   983.37 	 OutFr   0.0000 	 RMSD     1.8187
Iter 010 	 Temp     2.08 	 Delta   914.22 	 OutFr   0.0000 	 RMSD     1.8038
Iter 011 	 Temp     1.94 	 Delta   854.62 	 OutFr   0.0000 	 RMSD     1.7922
Iter 012 	 Temp     1.80 	 Delta   805.48 	 OutFr   0.0000 	 RMSD     1.7833
Iter 013 	 Temp     1.67 	 Delta   763.91 	 OutFr   0.0027 	 RMSD     1.7759
Iter 014 	 Temp     1.56 	 Delta   724.24 	 OutFr   0.0027 	 RMSD     1.7701
Iter 015 	 Temp     1.45 	 Delta   687.16 	 OutFr   0.0054 	 RMSD     1.7657
Iter 016 	 Temp     1.35 	 Delta   655.73 	 OutFr   0.0107 	 RMSD     1.7626
Iter 017 	 Temp     1.25 	 Delta   627.09 	 OutFr   0.0107 	 RMSD     1.7612
Iter 018 	 Temp     1.16 	 Delta   599.99 	 OutFr   0.0161 	 RMSD     1.7608
Iter 019 	 Temp     1.08 	 Delta   574.31 	 OutFr   0.0241 	 RMSD     1.7612
Iter 020 	 Temp     1.01 	 Delta   548.88 	 OutFr   0.0268 	 RMSD     1.7619
Iter 021 	 Temp     0.94 	 Delta   522.58 	 OutFr   0.0402 	 RMSD     1.7625
Iter 022 	 Temp     0.87 	 Delta   496.12 	 OutFr   0.0402 	 RMSD     1.7631
Iter 023 	 Temp     0.81 	 Delta   470.03 	 OutFr   0.0563 	 RMSD     1.7633
Iter 024 	 Temp     0.75 	 Delta   444.04 	 OutFr   0.0697 	 RMSD     1.7635
Iter 025 	 Temp     0.70 	 Delta   418.40 	 OutFr   0.0751 	 RMSD     1.7636
Iter 026 	 Temp     0.65 	 Delta   393.00 	 OutFr   0.0831 	 RMSD     1.7636
Iter 027 	 Temp     0.61 	 Delta   368.86 	 OutFr   0.0938 	 RMSD     1.7635
Iter 028 	 Temp     0.56 	 Delta   346.54 	 OutFr   0.1072 	 RMSD     1.7632
Iter 029 	 Temp     0.52 	 Delta   324.03 	 OutFr   0.1314 	 RMSD     1.7633
Iter 030 	 Temp     0.49 	 Delta   299.06 	 OutFr   0.1555 	 RMSD     1.7634
Iter 031 	 Temp     0.45 	 Delta   269.87 	 OutFr   0.1903 	 RMSD     1.7637
Iter 032 	 Temp     0.42 	 Delta   239.42 	 OutFr   0.2332 	 RMSD     1.7646
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Gy7vIaqE/mybin.nii.gz
+ vtklevelset /tmp/ashs.Gy7vIaqE/mybin.nii.gz /tmp/ashs.Gy7vIaqE/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Gy7vIaqE/mymesh.vtk /tmp/ashs.Gy7vIaqE/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 3085.03717789   1.05652329
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Gy7vIaqE/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.91609 to 34.3246
   Y : -12.7603 to 25.2664
   Z : -3.85352 to 34.3368
   Image resolution  : 102 by 139 by 138
   Image box origin  : {3.91609, -17.7603, -8.85352}
   Image box size    : {35.4166, 48.2639, 48.2994}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.91609, 17.7603, -8.85352]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat -o /tmp/ashs.Gy7vIaqE/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat -o /tmp/ashs.Gy7vIaqE/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Gy7vIaqE/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.807692 0.813462
+ echo 'CHUNK 0.807692 0.813462 0.5'
CHUNK 0.807692 0.813462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.807692 0.813462 0.5
====================================
         PROGRESS: 0.807692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Gy7vIaqE/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Gy7vIaqE/fixed_hw.nii.gz /tmp/ashs.Gy7vIaqE/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.654906, moving = 0.471385
LEVEL 1 of 3
  Smoothing sigmas: [2.35936, 2.38844, 2.3902], [0.963206, 0.975077, 0.975796]
Level     0,  Iter     0:    Energy =   0.0512
Level     0,  Iter     1:    Energy =   0.0572
Level     0,  Iter     2:    Energy =   0.0631
Level     0,  Iter     3:    Energy =   0.0679
Level     0,  Iter     4:    Energy =   0.0723
Level     0,  Iter     5:    Energy =   0.0758
Level     0,  Iter     6:    Energy =   0.0778
Level     0,  Iter     7:    Energy =   0.0791
Level     0,  Iter     8:    Energy =   0.0798
Level     0,  Iter     9:    Energy =   0.0802
Level     0,  Iter    10:    Energy =   0.0806
Level     0,  Iter    11:    Energy =   0.0809
Level     0,  Iter    12:    Energy =   0.0814
Level     0,  Iter    13:    Energy =   0.0816
Level     0,  Iter    14:    Energy =   0.0820
Level     0,  Iter    15:    Energy =   0.0821
Level     0,  Iter    16:    Energy =   0.0825
Level     0,  Iter    17:    Energy =   0.0826
Level     0,  Iter    18:    Energy =   0.0829
Level     0,  Iter    19:    Energy =   0.0830
Level     0,  Iter    20:    Energy =   0.0833
Level     0,  Iter    21:    Energy =   0.0834
Level     0,  Iter    22:    Energy =   0.0836
Level     0,  Iter    23:    Energy =   0.0836
Level     0,  Iter    24:    Energy =   0.0838
Level     0,  Iter    25:    Energy =   0.0838
Level     0,  Iter    26:    Energy =   0.0840
Level     0,  Iter    27:    Energy =   0.0841
Level     0,  Iter    28:    Energy =   0.0843
Level     0,  Iter    29:    Energy =   0.0843
Level     0,  Iter    30:    Energy =   0.0845
Level     0,  Iter    31:    Energy =   0.0845
Level     0,  Iter    32:    Energy =   0.0846
Level     0,  Iter    33:    Energy =   0.0847
Level     0,  Iter    34:    Energy =   0.0849
Level     0,  Iter    35:    Energy =   0.0848
Level     0,  Iter    36:    Energy =   0.0850
Level     0,  Iter    37:    Energy =   0.0849
Level     0,  Iter    38:    Energy =   0.0851
Level     0,  Iter    39:    Energy =   0.0850
Level     0,  Iter    40:    Energy =   0.0852
Level     0,  Iter    41:    Energy =   0.0851
Level     0,  Iter    42:    Energy =   0.0853
Level     0,  Iter    43:    Energy =   0.0852
Level     0,  Iter    44:    Energy =   0.0853
Level     0,  Iter    45:    Energy =   0.0852
Level     0,  Iter    46:    Energy =   0.0854
Level     0,  Iter    47:    Energy =   0.0853
Level     0,  Iter    48:    Energy =   0.0854
Level     0,  Iter    49:    Energy =   0.0854
Level     0,  Iter    50:    Energy =   0.0855
Level     0,  Iter    51:    Energy =   0.0854
Level     0,  Iter    52:    Energy =   0.0856
Level     0,  Iter    53:    Energy =   0.0855
Level     0,  Iter    54:    Energy =   0.0856
Level     0,  Iter    55:    Energy =   0.0856
Level     0,  Iter    56:    Energy =   0.0857
Level     0,  Iter    57:    Energy =   0.0856
Level     0,  Iter    58:    Energy =   0.0858
Level     0,  Iter    59:    Energy =   0.0857
END OF LEVEL     0    DetJac Range:   0.2383  to   2.3318 
  Avg. Gradient Time  : 0.0085s  37.51% 
  Avg. Gaussian Time  : 0.0106s  46.96% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19422, 1.21242], [0.491046, 0.487539, 0.494969]
Level     1,  Iter     0:    Energy =   0.0647
Level     1,  Iter     1:    Energy =   0.0688
Level     1,  Iter     2:    Energy =   0.0719
Level     1,  Iter     3:    Energy =   0.0747
Level     1,  Iter     4:    Energy =   0.0773
Level     1,  Iter     5:    Energy =   0.0792
Level     1,  Iter     6:    Energy =   0.0810
Level     1,  Iter     7:    Energy =   0.0824
Level     1,  Iter     8:    Energy =   0.0834
Level     1,  Iter     9:    Energy =   0.0840
Level     1,  Iter    10:    Energy =   0.0843
Level     1,  Iter    11:    Energy =   0.0846
Level     1,  Iter    12:    Energy =   0.0850
Level     1,  Iter    13:    Energy =   0.0853
Level     1,  Iter    14:    Energy =   0.0856
Level     1,  Iter    15:    Energy =   0.0860
Level     1,  Iter    16:    Energy =   0.0860
Level     1,  Iter    17:    Energy =   0.0863
Level     1,  Iter    18:    Energy =   0.0864
Level     1,  Iter    19:    Energy =   0.0867
Level     1,  Iter    20:    Energy =   0.0866
Level     1,  Iter    21:    Energy =   0.0868
Level     1,  Iter    22:    Energy =   0.0869
Level     1,  Iter    23:    Energy =   0.0870
Level     1,  Iter    24:    Energy =   0.0870
Level     1,  Iter    25:    Energy =   0.0871
Level     1,  Iter    26:    Energy =   0.0871
Level     1,  Iter    27:    Energy =   0.0870
Level     1,  Iter    28:    Energy =   0.0869
Level     1,  Iter    29:    Energy =   0.0869
Level     1,  Iter    30:    Energy =   0.0868
Level     1,  Iter    31:    Energy =   0.0868
Level     1,  Iter    32:    Energy =   0.0868
Level     1,  Iter    33:    Energy =   0.0868
Level     1,  Iter    34:    Energy =   0.0868
Level     1,  Iter    35:    Energy =   0.0869
Level     1,  Iter    36:    Energy =   0.0869
Level     1,  Iter    37:    Energy =   0.0869
Level     1,  Iter    38:    Energy =   0.0870
Level     1,  Iter    39:    Energy =   0.0870
Level     1,  Iter    40:    Energy =   0.0870
Level     1,  Iter    41:    Energy =   0.0870
Level     1,  Iter    42:    Energy =   0.0871
Level     1,  Iter    43:    Energy =   0.0870
Level     1,  Iter    44:    Energy =   0.0870
Level     1,  Iter    45:    Energy =   0.0869
Level     1,  Iter    46:    Energy =   0.0869
Level     1,  Iter    47:    Energy =   0.0869
Level     1,  Iter    48:    Energy =   0.0869
Level     1,  Iter    49:    Energy =   0.0868
Level     1,  Iter    50:    Energy =   0.0868
Level     1,  Iter    51:    Energy =   0.0868
Level     1,  Iter    52:    Energy =   0.0867
Level     1,  Iter    53:    Energy =   0.0867
Level     1,  Iter    54:    Energy =   0.0867
Level     1,  Iter    55:    Energy =   0.0867
Level     1,  Iter    56:    Energy =   0.0867
Level     1,  Iter    57:    Energy =   0.0868
Level     1,  Iter    58:    Energy =   0.0868
Level     1,  Iter    59:    Energy =   0.0868
END OF LEVEL     1    DetJac Range:   0.1476  to   2.8760 
  Avg. Gradient Time  : 0.0495s  39.87% 
  Avg. Gaussian Time  : 0.0597s  48.06% 
  Avg. Iteration Time : 0.1242s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0478
Level     2,  Iter     1:    Energy =   0.0506
Level     2,  Iter     2:    Energy =   0.0530
Level     2,  Iter     3:    Energy =   0.0552
Level     2,  Iter     4:    Energy =   0.0570
Level     2,  Iter     5:    Energy =   0.0584
Level     2,  Iter     6:    Energy =   0.0596
Level     2,  Iter     7:    Energy =   0.0606
Level     2,  Iter     8:    Energy =   0.0614
Level     2,  Iter     9:    Energy =   0.0622
Level     2,  Iter    10:    Energy =   0.0628
Level     2,  Iter    11:    Energy =   0.0634
Level     2,  Iter    12:    Energy =   0.0639
Level     2,  Iter    13:    Energy =   0.0644
Level     2,  Iter    14:    Energy =   0.0649
Level     2,  Iter    15:    Energy =   0.0654
Level     2,  Iter    16:    Energy =   0.0658
Level     2,  Iter    17:    Energy =   0.0662
Level     2,  Iter    18:    Energy =   0.0666
Level     2,  Iter    19:    Energy =   0.0670
END OF LEVEL     2    DetJac Range:   0.1005  to   3.1185 
  Avg. Gradient Time  : 0.3445s  37.25% 
  Avg. Gaussian Time  : 0.4816s  52.07% 
  Avg. Iteration Time : 0.9248s 

real	0m31.005s
user	0m54.480s
sys	0m3.204s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.807692 0.813462
+ echo 'CHUNK 0.807692 0.813462 1'
CHUNK 0.807692 0.813462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.807692 0.813462 1
====================================
         PROGRESS: 0.807692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 011
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2440.34 	 OutFr   0.0054 	 RMSD     2.8838
Iter 002 	 Temp     3.72 	 Delta  2382.79 	 OutFr   0.0027 	 RMSD     2.3098
Iter 003 	 Temp     3.46 	 Delta  2249.87 	 OutFr   0.0027 	 RMSD     2.2729
Iter 004 	 Temp     3.22 	 Delta  2115.10 	 OutFr   0.0027 	 RMSD     2.2594
Iter 005 	 Temp     2.99 	 Delta  1987.31 	 OutFr   0.0027 	 RMSD     2.2487
Iter 006 	 Temp     2.78 	 Delta  1864.67 	 OutFr   0.0027 	 RMSD     2.2395
Iter 007 	 Temp     2.59 	 Delta  1743.21 	 OutFr   0.0054 	 RMSD     2.2320
Iter 008 	 Temp     2.41 	 Delta  1621.71 	 OutFr   0.0054 	 RMSD     2.2262
Iter 009 	 Temp     2.24 	 Delta  1502.15 	 OutFr   0.0054 	 RMSD     2.2222
Iter 010 	 Temp     2.08 	 Delta  1385.86 	 OutFr   0.0054 	 RMSD     2.2197
Iter 011 	 Temp     1.94 	 Delta  1273.43 	 OutFr   0.0080 	 RMSD     2.2175
Iter 012 	 Temp     1.80 	 Delta  1166.45 	 OutFr   0.0134 	 RMSD     2.2150
Iter 013 	 Temp     1.67 	 Delta  1066.51 	 OutFr   0.0134 	 RMSD     2.2125
Iter 014 	 Temp     1.56 	 Delta   976.20 	 OutFr   0.0161 	 RMSD     2.2097
Iter 015 	 Temp     1.45 	 Delta   899.05 	 OutFr   0.0268 	 RMSD     2.2058
Iter 016 	 Temp     1.35 	 Delta   833.80 	 OutFr   0.0375 	 RMSD     2.2018
Iter 017 	 Temp     1.25 	 Delta   772.54 	 OutFr   0.0429 	 RMSD     2.1985
Iter 018 	 Temp     1.16 	 Delta   709.80 	 OutFr   0.0563 	 RMSD     2.1959
Iter 019 	 Temp     1.08 	 Delta   648.99 	 OutFr   0.0777 	 RMSD     2.1938
Iter 020 	 Temp     1.01 	 Delta   600.01 	 OutFr   0.0992 	 RMSD     2.1926
Iter 021 	 Temp     0.94 	 Delta   564.32 	 OutFr   0.1046 	 RMSD     2.1922
Iter 022 	 Temp     0.87 	 Delta   534.17 	 OutFr   0.1206 	 RMSD     2.1925
Iter 023 	 Temp     0.81 	 Delta   503.64 	 OutFr   0.1260 	 RMSD     2.1928
Iter 024 	 Temp     0.75 	 Delta   468.84 	 OutFr   0.1394 	 RMSD     2.1938
Iter 025 	 Temp     0.70 	 Delta   428.79 	 OutFr   0.1609 	 RMSD     2.1959
Iter 026 	 Temp     0.65 	 Delta   385.58 	 OutFr   0.1743 	 RMSD     2.1990
Iter 027 	 Temp     0.61 	 Delta   342.72 	 OutFr   0.2198 	 RMSD     2.2029
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.uXuxbUNJ/mybin.nii.gz
+ vtklevelset /tmp/ashs.uXuxbUNJ/mybin.nii.gz /tmp/ashs.uXuxbUNJ/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.uXuxbUNJ/mymesh.vtk /tmp/ashs.uXuxbUNJ/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 3042.26482276   1.04187517
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.uXuxbUNJ/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.44895 to 34.0443
   Y : -19.0276 to 22.4835
   Z : -13.3591 to 22.5238
   Image resolution  : 100 by 149 by 132
   Image box origin  : {4.44895, -24.0276, -18.3591}
   Image box size    : {34.7222, 51.7361, 46.1995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.44895, 24.0276, -18.3591]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat -o /tmp/ashs.uXuxbUNJ/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat -o /tmp/ashs.uXuxbUNJ/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.uXuxbUNJ/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.813462 0.819231
+ echo 'CHUNK 0.813462 0.819231 0.5'
CHUNK 0.813462 0.819231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.813462 0.819231 0.5
====================================
         PROGRESS: 0.813462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.uXuxbUNJ/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.uXuxbUNJ/fixed_hw.nii.gz /tmp/ashs.uXuxbUNJ/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.626033, moving = 0.441791
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.35815, 2.42484], [0.982092, 0.962709, 0.989938]
Level     0,  Iter     0:    Energy =   0.0546
Level     0,  Iter     1:    Energy =   0.0603
Level     0,  Iter     2:    Energy =   0.0646
Level     0,  Iter     3:    Energy =   0.0680
Level     0,  Iter     4:    Energy =   0.0708
Level     0,  Iter     5:    Energy =   0.0727
Level     0,  Iter     6:    Energy =   0.0739
Level     0,  Iter     7:    Energy =   0.0752
Level     0,  Iter     8:    Energy =   0.0760
Level     0,  Iter     9:    Energy =   0.0770
Level     0,  Iter    10:    Energy =   0.0775
Level     0,  Iter    11:    Energy =   0.0782
Level     0,  Iter    12:    Energy =   0.0785
Level     0,  Iter    13:    Energy =   0.0789
Level     0,  Iter    14:    Energy =   0.0791
Level     0,  Iter    15:    Energy =   0.0795
Level     0,  Iter    16:    Energy =   0.0797
Level     0,  Iter    17:    Energy =   0.0800
Level     0,  Iter    18:    Energy =   0.0801
Level     0,  Iter    19:    Energy =   0.0804
Level     0,  Iter    20:    Energy =   0.0805
Level     0,  Iter    21:    Energy =   0.0807
Level     0,  Iter    22:    Energy =   0.0809
Level     0,  Iter    23:    Energy =   0.0810
Level     0,  Iter    24:    Energy =   0.0812
Level     0,  Iter    25:    Energy =   0.0812
Level     0,  Iter    26:    Energy =   0.0814
Level     0,  Iter    27:    Energy =   0.0814
Level     0,  Iter    28:    Energy =   0.0815
Level     0,  Iter    29:    Energy =   0.0815
Level     0,  Iter    30:    Energy =   0.0816
Level     0,  Iter    31:    Energy =   0.0816
Level     0,  Iter    32:    Energy =   0.0817
Level     0,  Iter    33:    Energy =   0.0817
Level     0,  Iter    34:    Energy =   0.0818
Level     0,  Iter    35:    Energy =   0.0818
Level     0,  Iter    36:    Energy =   0.0819
Level     0,  Iter    37:    Energy =   0.0819
Level     0,  Iter    38:    Energy =   0.0819
Level     0,  Iter    39:    Energy =   0.0819
Level     0,  Iter    40:    Energy =   0.0820
Level     0,  Iter    41:    Energy =   0.0820
Level     0,  Iter    42:    Energy =   0.0821
Level     0,  Iter    43:    Energy =   0.0820
Level     0,  Iter    44:    Energy =   0.0821
Level     0,  Iter    45:    Energy =   0.0820
Level     0,  Iter    46:    Energy =   0.0821
Level     0,  Iter    47:    Energy =   0.0820
Level     0,  Iter    48:    Energy =   0.0821
Level     0,  Iter    49:    Energy =   0.0821
Level     0,  Iter    50:    Energy =   0.0822
Level     0,  Iter    51:    Energy =   0.0821
Level     0,  Iter    52:    Energy =   0.0822
Level     0,  Iter    53:    Energy =   0.0821
Level     0,  Iter    54:    Energy =   0.0822
Level     0,  Iter    55:    Energy =   0.0822
Level     0,  Iter    56:    Energy =   0.0823
Level     0,  Iter    57:    Energy =   0.0822
Level     0,  Iter    58:    Energy =   0.0823
Level     0,  Iter    59:    Energy =   0.0822
END OF LEVEL     0    DetJac Range:   0.3225  to   2.4132 
  Avg. Gradient Time  : 0.0085s  37.80% 
  Avg. Gaussian Time  : 0.0106s  47.12% 
  Avg. Iteration Time : 0.0225s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19479, 1.21242], [0.491046, 0.487772, 0.494969]
Level     1,  Iter     0:    Energy =   0.0653
Level     1,  Iter     1:    Energy =   0.0688
Level     1,  Iter     2:    Energy =   0.0718
Level     1,  Iter     3:    Energy =   0.0748
Level     1,  Iter     4:    Energy =   0.0772
Level     1,  Iter     5:    Energy =   0.0790
Level     1,  Iter     6:    Energy =   0.0805
Level     1,  Iter     7:    Energy =   0.0817
Level     1,  Iter     8:    Energy =   0.0820
Level     1,  Iter     9:    Energy =   0.0821
Level     1,  Iter    10:    Energy =   0.0824
Level     1,  Iter    11:    Energy =   0.0824
Level     1,  Iter    12:    Energy =   0.0827
Level     1,  Iter    13:    Energy =   0.0827
Level     1,  Iter    14:    Energy =   0.0829
Level     1,  Iter    15:    Energy =   0.0829
Level     1,  Iter    16:    Energy =   0.0832
Level     1,  Iter    17:    Energy =   0.0832
Level     1,  Iter    18:    Energy =   0.0833
Level     1,  Iter    19:    Energy =   0.0833
Level     1,  Iter    20:    Energy =   0.0835
Level     1,  Iter    21:    Energy =   0.0835
Level     1,  Iter    22:    Energy =   0.0836
Level     1,  Iter    23:    Energy =   0.0836
Level     1,  Iter    24:    Energy =   0.0838
Level     1,  Iter    25:    Energy =   0.0838
Level     1,  Iter    26:    Energy =   0.0839
Level     1,  Iter    27:    Energy =   0.0839
Level     1,  Iter    28:    Energy =   0.0840
Level     1,  Iter    29:    Energy =   0.0840
Level     1,  Iter    30:    Energy =   0.0841
Level     1,  Iter    31:    Energy =   0.0841
Level     1,  Iter    32:    Energy =   0.0842
Level     1,  Iter    33:    Energy =   0.0842
Level     1,  Iter    34:    Energy =   0.0843
Level     1,  Iter    35:    Energy =   0.0843
Level     1,  Iter    36:    Energy =   0.0845
Level     1,  Iter    37:    Energy =   0.0844
Level     1,  Iter    38:    Energy =   0.0845
Level     1,  Iter    39:    Energy =   0.0845
Level     1,  Iter    40:    Energy =   0.0846
Level     1,  Iter    41:    Energy =   0.0846
Level     1,  Iter    42:    Energy =   0.0847
Level     1,  Iter    43:    Energy =   0.0846
Level     1,  Iter    44:    Energy =   0.0847
Level     1,  Iter    45:    Energy =   0.0847
Level     1,  Iter    46:    Energy =   0.0848
Level     1,  Iter    47:    Energy =   0.0847
Level     1,  Iter    48:    Energy =   0.0848
Level     1,  Iter    49:    Energy =   0.0848
Level     1,  Iter    50:    Energy =   0.0849
Level     1,  Iter    51:    Energy =   0.0849
Level     1,  Iter    52:    Energy =   0.0849
Level     1,  Iter    53:    Energy =   0.0849
Level     1,  Iter    54:    Energy =   0.0849
Level     1,  Iter    55:    Energy =   0.0850
Level     1,  Iter    56:    Energy =   0.0849
Level     1,  Iter    57:    Energy =   0.0850
Level     1,  Iter    58:    Energy =   0.0850
Level     1,  Iter    59:    Energy =   0.0850
END OF LEVEL     1    DetJac Range:   0.1743  to   2.5278 
  Avg. Gradient Time  : 0.0495s  39.96% 
  Avg. Gaussian Time  : 0.0596s  48.13% 
  Avg. Iteration Time : 0.1238s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0474
Level     2,  Iter     1:    Energy =   0.0502
Level     2,  Iter     2:    Energy =   0.0528
Level     2,  Iter     3:    Energy =   0.0547
Level     2,  Iter     4:    Energy =   0.0564
Level     2,  Iter     5:    Energy =   0.0580
Level     2,  Iter     6:    Energy =   0.0591
Level     2,  Iter     7:    Energy =   0.0602
Level     2,  Iter     8:    Energy =   0.0613
Level     2,  Iter     9:    Energy =   0.0624
Level     2,  Iter    10:    Energy =   0.0632
Level     2,  Iter    11:    Energy =   0.0639
Level     2,  Iter    12:    Energy =   0.0646
Level     2,  Iter    13:    Energy =   0.0652
Level     2,  Iter    14:    Energy =   0.0659
Level     2,  Iter    15:    Energy =   0.0665
Level     2,  Iter    16:    Energy =   0.0670
Level     2,  Iter    17:    Energy =   0.0675
Level     2,  Iter    18:    Energy =   0.0679
Level     2,  Iter    19:    Energy =   0.0682
END OF LEVEL     2    DetJac Range:   0.0546  to   5.1983 
  Avg. Gradient Time  : 0.3456s  37.19% 
  Avg. Gaussian Time  : 0.4851s  52.20% 
  Avg. Iteration Time : 0.9293s 

real	0m31.028s
user	0m54.796s
sys	0m3.172s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.813462 0.819231
+ echo 'CHUNK 0.813462 0.819231 1'
CHUNK 0.813462 0.819231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.813462 0.819231 1
====================================
         PROGRESS: 0.813462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 012
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1802.87 	 OutFr   0.0000 	 RMSD     2.3645
Iter 002 	 Temp     3.72 	 Delta  1773.14 	 OutFr   0.0000 	 RMSD     2.0928
Iter 003 	 Temp     3.46 	 Delta  1680.10 	 OutFr   0.0000 	 RMSD     2.1600
Iter 004 	 Temp     3.22 	 Delta  1581.47 	 OutFr   0.0000 	 RMSD     2.1684
Iter 005 	 Temp     2.99 	 Delta  1480.65 	 OutFr   0.0000 	 RMSD     2.1558
Iter 006 	 Temp     2.78 	 Delta  1376.09 	 OutFr   0.0000 	 RMSD     2.1369
Iter 007 	 Temp     2.59 	 Delta  1274.17 	 OutFr   0.0000 	 RMSD     2.1170
Iter 008 	 Temp     2.41 	 Delta  1182.82 	 OutFr   0.0000 	 RMSD     2.0985
Iter 009 	 Temp     2.24 	 Delta  1100.43 	 OutFr   0.0027 	 RMSD     2.0806
Iter 010 	 Temp     2.08 	 Delta  1023.43 	 OutFr   0.0027 	 RMSD     2.0636
Iter 011 	 Temp     1.94 	 Delta   950.35 	 OutFr   0.0027 	 RMSD     2.0470
Iter 012 	 Temp     1.80 	 Delta   880.09 	 OutFr   0.0054 	 RMSD     2.0303
Iter 013 	 Temp     1.67 	 Delta   813.48 	 OutFr   0.0080 	 RMSD     2.0141
Iter 014 	 Temp     1.56 	 Delta   753.28 	 OutFr   0.0107 	 RMSD     1.9998
Iter 015 	 Temp     1.45 	 Delta   702.10 	 OutFr   0.0241 	 RMSD     1.9870
Iter 016 	 Temp     1.35 	 Delta   659.36 	 OutFr   0.0322 	 RMSD     1.9767
Iter 017 	 Temp     1.25 	 Delta   619.85 	 OutFr   0.0429 	 RMSD     1.9674
Iter 018 	 Temp     1.16 	 Delta   581.92 	 OutFr   0.0590 	 RMSD     1.9603
Iter 019 	 Temp     1.08 	 Delta   547.44 	 OutFr   0.0724 	 RMSD     1.9545
Iter 020 	 Temp     1.01 	 Delta   514.83 	 OutFr   0.0777 	 RMSD     1.9501
Iter 021 	 Temp     0.94 	 Delta   483.79 	 OutFr   0.0858 	 RMSD     1.9474
Iter 022 	 Temp     0.87 	 Delta   454.98 	 OutFr   0.1072 	 RMSD     1.9456
Iter 023 	 Temp     0.81 	 Delta   427.22 	 OutFr   0.1180 	 RMSD     1.9453
Iter 024 	 Temp     0.75 	 Delta   398.13 	 OutFr   0.1340 	 RMSD     1.9466
Iter 025 	 Temp     0.70 	 Delta   369.03 	 OutFr   0.1475 	 RMSD     1.9500
Iter 026 	 Temp     0.65 	 Delta   340.81 	 OutFr   0.1609 	 RMSD     1.9544
Iter 027 	 Temp     0.61 	 Delta   311.94 	 OutFr   0.1796 	 RMSD     1.9585
Iter 028 	 Temp     0.56 	 Delta   283.57 	 OutFr   0.1903 	 RMSD     1.9640
Iter 029 	 Temp     0.52 	 Delta   255.92 	 OutFr   0.2198 	 RMSD     1.9706
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.8gkYWbAc/mybin.nii.gz
+ vtklevelset /tmp/ashs.8gkYWbAc/mybin.nii.gz /tmp/ashs.8gkYWbAc/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.8gkYWbAc/mymesh.vtk /tmp/ashs.8gkYWbAc/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2697.15629882   0.92368691
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.8gkYWbAc/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.403 to 35.2078
   Y : -14.9286 to 22.2989
   Z : -18.3678 to 18.5366
   Image resolution  : 95 by 137 by 135
   Image box origin  : {7.403, -19.9286, -23.3678}
   Image box size    : {32.9861, 47.5694, 47.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.403, 19.9286, -23.3678]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat -o /tmp/ashs.8gkYWbAc/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat -o /tmp/ashs.8gkYWbAc/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.8gkYWbAc/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.819231 0.825
+ echo 'CHUNK 0.819231 0.825 0.5'
CHUNK 0.819231 0.825 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.819231 0.825 0.5
====================================
         PROGRESS: 0.819231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.8gkYWbAc/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.8gkYWbAc/fixed_hw.nii.gz /tmp/ashs.8gkYWbAc/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.639018, moving = 0.798379
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.35408, 2.40701], [0.971862, 0.961047, 0.982659]
Level     0,  Iter     0:    Energy =   0.0461
Level     0,  Iter     1:    Energy =   0.0536
Level     0,  Iter     2:    Energy =   0.0615
Level     0,  Iter     3:    Energy =   0.0679
Level     0,  Iter     4:    Energy =   0.0726
Level     0,  Iter     5:    Energy =   0.0760
Level     0,  Iter     6:    Energy =   0.0786
Level     0,  Iter     7:    Energy =   0.0804
Level     0,  Iter     8:    Energy =   0.0815
Level     0,  Iter     9:    Energy =   0.0823
Level     0,  Iter    10:    Energy =   0.0830
Level     0,  Iter    11:    Energy =   0.0837
Level     0,  Iter    12:    Energy =   0.0843
Level     0,  Iter    13:    Energy =   0.0848
Level     0,  Iter    14:    Energy =   0.0855
Level     0,  Iter    15:    Energy =   0.0860
Level     0,  Iter    16:    Energy =   0.0866
Level     0,  Iter    17:    Energy =   0.0872
Level     0,  Iter    18:    Energy =   0.0879
Level     0,  Iter    19:    Energy =   0.0888
Level     0,  Iter    20:    Energy =   0.0896
Level     0,  Iter    21:    Energy =   0.0899
Level     0,  Iter    22:    Energy =   0.0900
Level     0,  Iter    23:    Energy =   0.0902
Level     0,  Iter    24:    Energy =   0.0905
Level     0,  Iter    25:    Energy =   0.0902
Level     0,  Iter    26:    Energy =   0.0906
Level     0,  Iter    27:    Energy =   0.0904
Level     0,  Iter    28:    Energy =   0.0907
Level     0,  Iter    29:    Energy =   0.0905
Level     0,  Iter    30:    Energy =   0.0908
Level     0,  Iter    31:    Energy =   0.0906
Level     0,  Iter    32:    Energy =   0.0908
Level     0,  Iter    33:    Energy =   0.0907
Level     0,  Iter    34:    Energy =   0.0909
Level     0,  Iter    35:    Energy =   0.0908
Level     0,  Iter    36:    Energy =   0.0910
Level     0,  Iter    37:    Energy =   0.0909
Level     0,  Iter    38:    Energy =   0.0911
Level     0,  Iter    39:    Energy =   0.0910
Level     0,  Iter    40:    Energy =   0.0912
Level     0,  Iter    41:    Energy =   0.0910
Level     0,  Iter    42:    Energy =   0.0912
Level     0,  Iter    43:    Energy =   0.0910
Level     0,  Iter    44:    Energy =   0.0912
Level     0,  Iter    45:    Energy =   0.0910
Level     0,  Iter    46:    Energy =   0.0912
Level     0,  Iter    47:    Energy =   0.0909
Level     0,  Iter    48:    Energy =   0.0912
Level     0,  Iter    49:    Energy =   0.0910
Level     0,  Iter    50:    Energy =   0.0912
Level     0,  Iter    51:    Energy =   0.0910
Level     0,  Iter    52:    Energy =   0.0913
Level     0,  Iter    53:    Energy =   0.0910
Level     0,  Iter    54:    Energy =   0.0913
Level     0,  Iter    55:    Energy =   0.0910
Level     0,  Iter    56:    Energy =   0.0913
Level     0,  Iter    57:    Energy =   0.0910
Level     0,  Iter    58:    Energy =   0.0912
Level     0,  Iter    59:    Energy =   0.0910
END OF LEVEL     0    DetJac Range:   0.2553  to   2.8303 
  Avg. Gradient Time  : 0.0079s  37.48% 
  Avg. Gaussian Time  : 0.0100s  47.21% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.1941, 1.20351], [0.485931, 0.487488, 0.49133]
Level     1,  Iter     0:    Energy =   0.0608
Level     1,  Iter     1:    Energy =   0.0661
Level     1,  Iter     2:    Energy =   0.0697
Level     1,  Iter     3:    Energy =   0.0723
Level     1,  Iter     4:    Energy =   0.0748
Level     1,  Iter     5:    Energy =   0.0769
Level     1,  Iter     6:    Energy =   0.0788
Level     1,  Iter     7:    Energy =   0.0809
Level     1,  Iter     8:    Energy =   0.0825
Level     1,  Iter     9:    Energy =   0.0838
Level     1,  Iter    10:    Energy =   0.0845
Level     1,  Iter    11:    Energy =   0.0851
Level     1,  Iter    12:    Energy =   0.0857
Level     1,  Iter    13:    Energy =   0.0861
Level     1,  Iter    14:    Energy =   0.0863
Level     1,  Iter    15:    Energy =   0.0865
Level     1,  Iter    16:    Energy =   0.0866
Level     1,  Iter    17:    Energy =   0.0869
Level     1,  Iter    18:    Energy =   0.0870
Level     1,  Iter    19:    Energy =   0.0872
Level     1,  Iter    20:    Energy =   0.0872
Level     1,  Iter    21:    Energy =   0.0874
Level     1,  Iter    22:    Energy =   0.0874
Level     1,  Iter    23:    Energy =   0.0876
Level     1,  Iter    24:    Energy =   0.0876
Level     1,  Iter    25:    Energy =   0.0877
Level     1,  Iter    26:    Energy =   0.0877
Level     1,  Iter    27:    Energy =   0.0879
Level     1,  Iter    28:    Energy =   0.0879
Level     1,  Iter    29:    Energy =   0.0881
Level     1,  Iter    30:    Energy =   0.0880
Level     1,  Iter    31:    Energy =   0.0882
Level     1,  Iter    32:    Energy =   0.0881
Level     1,  Iter    33:    Energy =   0.0882
Level     1,  Iter    34:    Energy =   0.0881
Level     1,  Iter    35:    Energy =   0.0883
Level     1,  Iter    36:    Energy =   0.0881
Level     1,  Iter    37:    Energy =   0.0883
Level     1,  Iter    38:    Energy =   0.0882
Level     1,  Iter    39:    Energy =   0.0884
Level     1,  Iter    40:    Energy =   0.0882
Level     1,  Iter    41:    Energy =   0.0884
Level     1,  Iter    42:    Energy =   0.0883
Level     1,  Iter    43:    Energy =   0.0884
Level     1,  Iter    44:    Energy =   0.0883
Level     1,  Iter    45:    Energy =   0.0884
Level     1,  Iter    46:    Energy =   0.0883
Level     1,  Iter    47:    Energy =   0.0884
Level     1,  Iter    48:    Energy =   0.0883
Level     1,  Iter    49:    Energy =   0.0885
Level     1,  Iter    50:    Energy =   0.0883
Level     1,  Iter    51:    Energy =   0.0885
Level     1,  Iter    52:    Energy =   0.0883
Level     1,  Iter    53:    Energy =   0.0885
Level     1,  Iter    54:    Energy =   0.0883
Level     1,  Iter    55:    Energy =   0.0885
Level     1,  Iter    56:    Energy =   0.0883
Level     1,  Iter    57:    Energy =   0.0885
Level     1,  Iter    58:    Energy =   0.0884
Level     1,  Iter    59:    Energy =   0.0886
END OF LEVEL     1    DetJac Range:   0.1879  to   2.9322 
  Avg. Gradient Time  : 0.0460s  40.32% 
  Avg. Gaussian Time  : 0.0542s  47.48% 
  Avg. Iteration Time : 0.1142s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0480
Level     2,  Iter     1:    Energy =   0.0510
Level     2,  Iter     2:    Energy =   0.0537
Level     2,  Iter     3:    Energy =   0.0556
Level     2,  Iter     4:    Energy =   0.0573
Level     2,  Iter     5:    Energy =   0.0588
Level     2,  Iter     6:    Energy =   0.0602
Level     2,  Iter     7:    Energy =   0.0613
Level     2,  Iter     8:    Energy =   0.0622
Level     2,  Iter     9:    Energy =   0.0629
Level     2,  Iter    10:    Energy =   0.0635
Level     2,  Iter    11:    Energy =   0.0640
Level     2,  Iter    12:    Energy =   0.0644
Level     2,  Iter    13:    Energy =   0.0648
Level     2,  Iter    14:    Energy =   0.0652
Level     2,  Iter    15:    Energy =   0.0658
Level     2,  Iter    16:    Energy =   0.0664
Level     2,  Iter    17:    Energy =   0.0669
Level     2,  Iter    18:    Energy =   0.0670
Level     2,  Iter    19:    Energy =   0.0669
END OF LEVEL     2    DetJac Range:   0.1476  to   4.4270 
  Avg. Gradient Time  : 0.3119s  37.00% 
  Avg. Gaussian Time  : 0.4421s  52.45% 
  Avg. Iteration Time : 0.8430s 

real	0m28.276s
user	0m49.632s
sys	0m3.096s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.819231 0.825
+ echo 'CHUNK 0.819231 0.825 1'
CHUNK 0.819231 0.825 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.819231 0.825 1
====================================
         PROGRESS: 0.819231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 013
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2011.66 	 OutFr   0.0054 	 RMSD     2.3644
Iter 002 	 Temp     3.72 	 Delta  1838.31 	 OutFr   0.0027 	 RMSD     2.1021
Iter 003 	 Temp     3.46 	 Delta  1701.34 	 OutFr   0.0000 	 RMSD     2.1069
Iter 004 	 Temp     3.22 	 Delta  1580.42 	 OutFr   0.0027 	 RMSD     2.0984
Iter 005 	 Temp     2.99 	 Delta  1470.63 	 OutFr   0.0027 	 RMSD     2.0842
Iter 006 	 Temp     2.78 	 Delta  1370.89 	 OutFr   0.0054 	 RMSD     2.0691
Iter 007 	 Temp     2.59 	 Delta  1280.53 	 OutFr   0.0080 	 RMSD     2.0558
Iter 008 	 Temp     2.41 	 Delta  1198.43 	 OutFr   0.0080 	 RMSD     2.0444
Iter 009 	 Temp     2.24 	 Delta  1122.55 	 OutFr   0.0107 	 RMSD     2.0348
Iter 010 	 Temp     2.08 	 Delta  1050.23 	 OutFr   0.0107 	 RMSD     2.0267
Iter 011 	 Temp     1.94 	 Delta   979.07 	 OutFr   0.0107 	 RMSD     2.0201
Iter 012 	 Temp     1.80 	 Delta   908.43 	 OutFr   0.0107 	 RMSD     2.0141
Iter 013 	 Temp     1.67 	 Delta   841.27 	 OutFr   0.0134 	 RMSD     2.0093
Iter 014 	 Temp     1.56 	 Delta   780.60 	 OutFr   0.0134 	 RMSD     2.0050
Iter 015 	 Temp     1.45 	 Delta   724.95 	 OutFr   0.0214 	 RMSD     2.0020
Iter 016 	 Temp     1.35 	 Delta   677.94 	 OutFr   0.0349 	 RMSD     2.0002
Iter 017 	 Temp     1.25 	 Delta   638.01 	 OutFr   0.0375 	 RMSD     1.9996
Iter 018 	 Temp     1.16 	 Delta   599.68 	 OutFr   0.0402 	 RMSD     1.9993
Iter 019 	 Temp     1.08 	 Delta   562.45 	 OutFr   0.0509 	 RMSD     1.9994
Iter 020 	 Temp     1.01 	 Delta   526.58 	 OutFr   0.0590 	 RMSD     2.0002
Iter 021 	 Temp     0.94 	 Delta   495.18 	 OutFr   0.0804 	 RMSD     2.0018
Iter 022 	 Temp     0.87 	 Delta   468.89 	 OutFr   0.0912 	 RMSD     2.0036
Iter 023 	 Temp     0.81 	 Delta   442.97 	 OutFr   0.0965 	 RMSD     2.0054
Iter 024 	 Temp     0.75 	 Delta   416.30 	 OutFr   0.1046 	 RMSD     2.0073
Iter 025 	 Temp     0.70 	 Delta   392.33 	 OutFr   0.1233 	 RMSD     2.0090
Iter 026 	 Temp     0.65 	 Delta   370.24 	 OutFr   0.1287 	 RMSD     2.0108
Iter 027 	 Temp     0.61 	 Delta   347.34 	 OutFr   0.1501 	 RMSD     2.0123
Iter 028 	 Temp     0.56 	 Delta   321.71 	 OutFr   0.1689 	 RMSD     2.0135
Iter 029 	 Temp     0.52 	 Delta   293.32 	 OutFr   0.1877 	 RMSD     2.0144
Iter 030 	 Temp     0.49 	 Delta   263.84 	 OutFr   0.2198 	 RMSD     2.0154
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.R3zpaRjA/mybin.nii.gz
+ vtklevelset /tmp/ashs.R3zpaRjA/mybin.nii.gz /tmp/ashs.R3zpaRjA/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.R3zpaRjA/mymesh.vtk /tmp/ashs.R3zpaRjA/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2803.37654401   0.96006383
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.R3zpaRjA/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 14.0544 to 37.4304
   Y : -15.2399 to 25.1856
   Z : -19.0142 to 15.6852
   Image resolution  : 97 by 146 by 128
   Image box origin  : {9.0544, -20.2399, -24.0142}
   Image box size    : {33.6805, 50.6944, 44.7995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-9.0544, 20.2399, -24.0142]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat -o /tmp/ashs.R3zpaRjA/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat -o /tmp/ashs.R3zpaRjA/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.R3zpaRjA/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.825 0.830769
+ echo 'CHUNK 0.825 0.830769 0.5'
CHUNK 0.825 0.830769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.825 0.830769 0.5
====================================
         PROGRESS: 0.825               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.R3zpaRjA/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.R3zpaRjA/fixed_hw.nii.gz /tmp/ashs.R3zpaRjA/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.632757, moving = 0.621619
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.37312, 2.42484], [0.952629, 0.968821, 0.989938]
Level     0,  Iter     0:    Energy =   0.0525
Level     0,  Iter     1:    Energy =   0.0570
Level     0,  Iter     2:    Energy =   0.0608
Level     0,  Iter     3:    Energy =   0.0650
Level     0,  Iter     4:    Energy =   0.0679
Level     0,  Iter     5:    Energy =   0.0703
Level     0,  Iter     6:    Energy =   0.0726
Level     0,  Iter     7:    Energy =   0.0744
Level     0,  Iter     8:    Energy =   0.0760
Level     0,  Iter     9:    Energy =   0.0772
Level     0,  Iter    10:    Energy =   0.0778
Level     0,  Iter    11:    Energy =   0.0781
Level     0,  Iter    12:    Energy =   0.0784
Level     0,  Iter    13:    Energy =   0.0787
Level     0,  Iter    14:    Energy =   0.0789
Level     0,  Iter    15:    Energy =   0.0792
Level     0,  Iter    16:    Energy =   0.0792
Level     0,  Iter    17:    Energy =   0.0795
Level     0,  Iter    18:    Energy =   0.0794
Level     0,  Iter    19:    Energy =   0.0797
Level     0,  Iter    20:    Energy =   0.0797
Level     0,  Iter    21:    Energy =   0.0799
Level     0,  Iter    22:    Energy =   0.0799
Level     0,  Iter    23:    Energy =   0.0802
Level     0,  Iter    24:    Energy =   0.0802
Level     0,  Iter    25:    Energy =   0.0804
Level     0,  Iter    26:    Energy =   0.0804
Level     0,  Iter    27:    Energy =   0.0806
Level     0,  Iter    28:    Energy =   0.0806
Level     0,  Iter    29:    Energy =   0.0808
Level     0,  Iter    30:    Energy =   0.0807
Level     0,  Iter    31:    Energy =   0.0808
Level     0,  Iter    32:    Energy =   0.0808
Level     0,  Iter    33:    Energy =   0.0810
Level     0,  Iter    34:    Energy =   0.0810
Level     0,  Iter    35:    Energy =   0.0811
Level     0,  Iter    36:    Energy =   0.0811
Level     0,  Iter    37:    Energy =   0.0812
Level     0,  Iter    38:    Energy =   0.0812
Level     0,  Iter    39:    Energy =   0.0813
Level     0,  Iter    40:    Energy =   0.0812
Level     0,  Iter    41:    Energy =   0.0814
Level     0,  Iter    42:    Energy =   0.0813
Level     0,  Iter    43:    Energy =   0.0815
Level     0,  Iter    44:    Energy =   0.0813
Level     0,  Iter    45:    Energy =   0.0815
Level     0,  Iter    46:    Energy =   0.0813
Level     0,  Iter    47:    Energy =   0.0816
Level     0,  Iter    48:    Energy =   0.0814
Level     0,  Iter    49:    Energy =   0.0816
Level     0,  Iter    50:    Energy =   0.0815
Level     0,  Iter    51:    Energy =   0.0818
Level     0,  Iter    52:    Energy =   0.0816
Level     0,  Iter    53:    Energy =   0.0819
Level     0,  Iter    54:    Energy =   0.0817
Level     0,  Iter    55:    Energy =   0.0820
Level     0,  Iter    56:    Energy =   0.0818
Level     0,  Iter    57:    Energy =   0.0820
Level     0,  Iter    58:    Energy =   0.0819
Level     0,  Iter    59:    Energy =   0.0821
END OF LEVEL     0    DetJac Range:   0.3771  to   2.1995 
  Avg. Gradient Time  : 0.0069s  37.67% 
  Avg. Gaussian Time  : 0.0085s  46.75% 
  Avg. Iteration Time : 0.0183s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.21242], [0.486035, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0556
Level     1,  Iter     1:    Energy =   0.0591
Level     1,  Iter     2:    Energy =   0.0620
Level     1,  Iter     3:    Energy =   0.0645
Level     1,  Iter     4:    Energy =   0.0660
Level     1,  Iter     5:    Energy =   0.0672
Level     1,  Iter     6:    Energy =   0.0683
Level     1,  Iter     7:    Energy =   0.0694
Level     1,  Iter     8:    Energy =   0.0705
Level     1,  Iter     9:    Energy =   0.0716
Level     1,  Iter    10:    Energy =   0.0726
Level     1,  Iter    11:    Energy =   0.0734
Level     1,  Iter    12:    Energy =   0.0742
Level     1,  Iter    13:    Energy =   0.0748
Level     1,  Iter    14:    Energy =   0.0755
Level     1,  Iter    15:    Energy =   0.0761
Level     1,  Iter    16:    Energy =   0.0766
Level     1,  Iter    17:    Energy =   0.0770
Level     1,  Iter    18:    Energy =   0.0774
Level     1,  Iter    19:    Energy =   0.0777
Level     1,  Iter    20:    Energy =   0.0779
Level     1,  Iter    21:    Energy =   0.0780
Level     1,  Iter    22:    Energy =   0.0781
Level     1,  Iter    23:    Energy =   0.0780
Level     1,  Iter    24:    Energy =   0.0781
Level     1,  Iter    25:    Energy =   0.0780
Level     1,  Iter    26:    Energy =   0.0782
Level     1,  Iter    27:    Energy =   0.0782
Level     1,  Iter    28:    Energy =   0.0783
Level     1,  Iter    29:    Energy =   0.0782
Level     1,  Iter    30:    Energy =   0.0784
Level     1,  Iter    31:    Energy =   0.0785
Level     1,  Iter    32:    Energy =   0.0786
Level     1,  Iter    33:    Energy =   0.0785
Level     1,  Iter    34:    Energy =   0.0786
Level     1,  Iter    35:    Energy =   0.0787
Level     1,  Iter    36:    Energy =   0.0788
Level     1,  Iter    37:    Energy =   0.0787
Level     1,  Iter    38:    Energy =   0.0789
Level     1,  Iter    39:    Energy =   0.0789
Level     1,  Iter    40:    Energy =   0.0790
Level     1,  Iter    41:    Energy =   0.0789
Level     1,  Iter    42:    Energy =   0.0790
Level     1,  Iter    43:    Energy =   0.0790
Level     1,  Iter    44:    Energy =   0.0791
Level     1,  Iter    45:    Energy =   0.0790
Level     1,  Iter    46:    Energy =   0.0791
Level     1,  Iter    47:    Energy =   0.0792
Level     1,  Iter    48:    Energy =   0.0792
Level     1,  Iter    49:    Energy =   0.0791
Level     1,  Iter    50:    Energy =   0.0792
Level     1,  Iter    51:    Energy =   0.0793
Level     1,  Iter    52:    Energy =   0.0793
Level     1,  Iter    53:    Energy =   0.0792
Level     1,  Iter    54:    Energy =   0.0793
Level     1,  Iter    55:    Energy =   0.0794
Level     1,  Iter    56:    Energy =   0.0794
Level     1,  Iter    57:    Energy =   0.0793
Level     1,  Iter    58:    Energy =   0.0794
Level     1,  Iter    59:    Energy =   0.0794
END OF LEVEL     1    DetJac Range:   0.1225  to   3.3809 
  Avg. Gradient Time  : 0.0418s  40.57% 
  Avg. Gaussian Time  : 0.0489s  47.46% 
  Avg. Iteration Time : 0.1030s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0401
Level     2,  Iter     1:    Energy =   0.0421
Level     2,  Iter     2:    Energy =   0.0439
Level     2,  Iter     3:    Energy =   0.0455
Level     2,  Iter     4:    Energy =   0.0469
Level     2,  Iter     5:    Energy =   0.0481
Level     2,  Iter     6:    Energy =   0.0493
Level     2,  Iter     7:    Energy =   0.0504
Level     2,  Iter     8:    Energy =   0.0512
Level     2,  Iter     9:    Energy =   0.0519
Level     2,  Iter    10:    Energy =   0.0524
Level     2,  Iter    11:    Energy =   0.0529
Level     2,  Iter    12:    Energy =   0.0535
Level     2,  Iter    13:    Energy =   0.0540
Level     2,  Iter    14:    Energy =   0.0544
Level     2,  Iter    15:    Energy =   0.0548
Level     2,  Iter    16:    Energy =   0.0551
Level     2,  Iter    17:    Energy =   0.0554
Level     2,  Iter    18:    Energy =   0.0556
Level     2,  Iter    19:    Energy =   0.0558
END OF LEVEL     2    DetJac Range:   0.0650  to   5.6498 
  Avg. Gradient Time  : 0.2910s  37.77% 
  Avg. Gaussian Time  : 0.3997s  51.89% 
  Avg. Iteration Time : 0.7704s 

real	0m25.647s
user	0m45.004s
sys	0m2.732s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.825 0.830769
+ echo 'CHUNK 0.825 0.830769 1'
CHUNK 0.825 0.830769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.825 0.830769 1
====================================
         PROGRESS: 0.825               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 014
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1393.86 	 OutFr   0.0000 	 RMSD     2.0563
Iter 002 	 Temp     3.72 	 Delta  1348.63 	 OutFr   0.0000 	 RMSD     1.9615
Iter 003 	 Temp     3.46 	 Delta  1292.89 	 OutFr   0.0000 	 RMSD     1.9472
Iter 004 	 Temp     3.22 	 Delta  1240.77 	 OutFr   0.0000 	 RMSD     1.9167
Iter 005 	 Temp     2.99 	 Delta  1193.75 	 OutFr   0.0000 	 RMSD     1.8897
Iter 006 	 Temp     2.78 	 Delta  1151.33 	 OutFr   0.0000 	 RMSD     1.8682
Iter 007 	 Temp     2.59 	 Delta  1112.14 	 OutFr   0.0000 	 RMSD     1.8503
Iter 008 	 Temp     2.41 	 Delta  1074.26 	 OutFr   0.0000 	 RMSD     1.8351
Iter 009 	 Temp     2.24 	 Delta  1036.32 	 OutFr   0.0000 	 RMSD     1.8231
Iter 010 	 Temp     2.08 	 Delta   998.10 	 OutFr   0.0000 	 RMSD     1.8140
Iter 011 	 Temp     1.94 	 Delta   959.87 	 OutFr   0.0000 	 RMSD     1.8073
Iter 012 	 Temp     1.80 	 Delta   922.12 	 OutFr   0.0000 	 RMSD     1.8020
Iter 013 	 Temp     1.67 	 Delta   885.84 	 OutFr   0.0000 	 RMSD     1.7981
Iter 014 	 Temp     1.56 	 Delta   851.66 	 OutFr   0.0000 	 RMSD     1.7949
Iter 015 	 Temp     1.45 	 Delta   818.55 	 OutFr   0.0000 	 RMSD     1.7924
Iter 016 	 Temp     1.35 	 Delta   785.18 	 OutFr   0.0000 	 RMSD     1.7903
Iter 017 	 Temp     1.25 	 Delta   750.24 	 OutFr   0.0000 	 RMSD     1.7887
Iter 018 	 Temp     1.16 	 Delta   712.23 	 OutFr   0.0027 	 RMSD     1.7875
Iter 019 	 Temp     1.08 	 Delta   670.10 	 OutFr   0.0054 	 RMSD     1.7866
Iter 020 	 Temp     1.01 	 Delta   624.59 	 OutFr   0.0107 	 RMSD     1.7860
Iter 021 	 Temp     0.94 	 Delta   578.48 	 OutFr   0.0134 	 RMSD     1.7856
Iter 022 	 Temp     0.87 	 Delta   535.44 	 OutFr   0.0188 	 RMSD     1.7851
Iter 023 	 Temp     0.81 	 Delta   498.56 	 OutFr   0.0322 	 RMSD     1.7839
Iter 024 	 Temp     0.75 	 Delta   465.69 	 OutFr   0.0509 	 RMSD     1.7820
Iter 025 	 Temp     0.70 	 Delta   432.57 	 OutFr   0.0670 	 RMSD     1.7802
Iter 026 	 Temp     0.65 	 Delta   398.68 	 OutFr   0.0831 	 RMSD     1.7794
Iter 027 	 Temp     0.61 	 Delta   366.38 	 OutFr   0.1019 	 RMSD     1.7800
Iter 028 	 Temp     0.56 	 Delta   337.43 	 OutFr   0.1233 	 RMSD     1.7814
Iter 029 	 Temp     0.52 	 Delta   310.46 	 OutFr   0.1501 	 RMSD     1.7826
Iter 030 	 Temp     0.49 	 Delta   284.77 	 OutFr   0.1823 	 RMSD     1.7840
Iter 031 	 Temp     0.45 	 Delta   260.23 	 OutFr   0.2091 	 RMSD     1.7865
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.nIiXWV0L/mybin.nii.gz
+ vtklevelset /tmp/ashs.nIiXWV0L/mybin.nii.gz /tmp/ashs.nIiXWV0L/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.nIiXWV0L/mymesh.vtk /tmp/ashs.nIiXWV0L/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2924.38662352   1.00150578
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.nIiXWV0L/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.72533 to 34.2957
   Y : -18.7465 to 21.6002
   Z : -16.8454 to 18.5071
   Image resolution  : 100 by 145 by 130
   Image box origin  : {4.72533, -23.7465, -21.8454}
   Image box size    : {34.7222, 50.3472, 45.4995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.72533, 23.7465, -21.8454]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat -o /tmp/ashs.nIiXWV0L/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat -o /tmp/ashs.nIiXWV0L/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.nIiXWV0L/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.830769 0.836538
+ echo 'CHUNK 0.830769 0.836538 0.5'
CHUNK 0.830769 0.836538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.830769 0.836538 0.5
====================================
         PROGRESS: 0.830769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.nIiXWV0L/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.nIiXWV0L/fixed_hw.nii.gz /tmp/ashs.nIiXWV0L/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.633145, moving = 0.471369
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.35686, 2.3881], [0.982092, 0.962185, 0.974939]
Level     0,  Iter     0:    Energy =   0.0474
Level     0,  Iter     1:    Energy =   0.0527
Level     0,  Iter     2:    Energy =   0.0566
Level     0,  Iter     3:    Energy =   0.0596
Level     0,  Iter     4:    Energy =   0.0622
Level     0,  Iter     5:    Energy =   0.0647
Level     0,  Iter     6:    Energy =   0.0671
Level     0,  Iter     7:    Energy =   0.0693
Level     0,  Iter     8:    Energy =   0.0702
Level     0,  Iter     9:    Energy =   0.0708
Level     0,  Iter    10:    Energy =   0.0715
Level     0,  Iter    11:    Energy =   0.0722
Level     0,  Iter    12:    Energy =   0.0725
Level     0,  Iter    13:    Energy =   0.0730
Level     0,  Iter    14:    Energy =   0.0731
Level     0,  Iter    15:    Energy =   0.0736
Level     0,  Iter    16:    Energy =   0.0737
Level     0,  Iter    17:    Energy =   0.0741
Level     0,  Iter    18:    Energy =   0.0743
Level     0,  Iter    19:    Energy =   0.0745
Level     0,  Iter    20:    Energy =   0.0747
Level     0,  Iter    21:    Energy =   0.0749
Level     0,  Iter    22:    Energy =   0.0750
Level     0,  Iter    23:    Energy =   0.0753
Level     0,  Iter    24:    Energy =   0.0754
Level     0,  Iter    25:    Energy =   0.0756
Level     0,  Iter    26:    Energy =   0.0758
Level     0,  Iter    27:    Energy =   0.0760
Level     0,  Iter    28:    Energy =   0.0761
Level     0,  Iter    29:    Energy =   0.0762
Level     0,  Iter    30:    Energy =   0.0763
Level     0,  Iter    31:    Energy =   0.0765
Level     0,  Iter    32:    Energy =   0.0765
Level     0,  Iter    33:    Energy =   0.0767
Level     0,  Iter    34:    Energy =   0.0767
Level     0,  Iter    35:    Energy =   0.0768
Level     0,  Iter    36:    Energy =   0.0769
Level     0,  Iter    37:    Energy =   0.0770
Level     0,  Iter    38:    Energy =   0.0770
Level     0,  Iter    39:    Energy =   0.0771
Level     0,  Iter    40:    Energy =   0.0772
Level     0,  Iter    41:    Energy =   0.0774
Level     0,  Iter    42:    Energy =   0.0774
Level     0,  Iter    43:    Energy =   0.0775
Level     0,  Iter    44:    Energy =   0.0775
Level     0,  Iter    45:    Energy =   0.0776
Level     0,  Iter    46:    Energy =   0.0776
Level     0,  Iter    47:    Energy =   0.0777
Level     0,  Iter    48:    Energy =   0.0777
Level     0,  Iter    49:    Energy =   0.0778
Level     0,  Iter    50:    Energy =   0.0778
Level     0,  Iter    51:    Energy =   0.0779
Level     0,  Iter    52:    Energy =   0.0778
Level     0,  Iter    53:    Energy =   0.0780
Level     0,  Iter    54:    Energy =   0.0779
Level     0,  Iter    55:    Energy =   0.0780
Level     0,  Iter    56:    Energy =   0.0779
Level     0,  Iter    57:    Energy =   0.0781
Level     0,  Iter    58:    Energy =   0.0780
Level     0,  Iter    59:    Energy =   0.0782
END OF LEVEL     0    DetJac Range:   0.3127  to   2.3657 
  Avg. Gradient Time  : 0.0081s  37.48% 
  Avg. Gaussian Time  : 0.0102s  47.18% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19457, 1.21242], [0.491046, 0.487683, 0.494969]
Level     1,  Iter     0:    Energy =   0.0575
Level     1,  Iter     1:    Energy =   0.0619
Level     1,  Iter     2:    Energy =   0.0644
Level     1,  Iter     3:    Energy =   0.0668
Level     1,  Iter     4:    Energy =   0.0685
Level     1,  Iter     5:    Energy =   0.0699
Level     1,  Iter     6:    Energy =   0.0713
Level     1,  Iter     7:    Energy =   0.0727
Level     1,  Iter     8:    Energy =   0.0741
Level     1,  Iter     9:    Energy =   0.0753
Level     1,  Iter    10:    Energy =   0.0761
Level     1,  Iter    11:    Energy =   0.0761
Level     1,  Iter    12:    Energy =   0.0770
Level     1,  Iter    13:    Energy =   0.0768
Level     1,  Iter    14:    Energy =   0.0776
Level     1,  Iter    15:    Energy =   0.0774
Level     1,  Iter    16:    Energy =   0.0777
Level     1,  Iter    17:    Energy =   0.0775
Level     1,  Iter    18:    Energy =   0.0782
Level     1,  Iter    19:    Energy =   0.0780
Level     1,  Iter    20:    Energy =   0.0781
Level     1,  Iter    21:    Energy =   0.0778
Level     1,  Iter    22:    Energy =   0.0785
Level     1,  Iter    23:    Energy =   0.0783
Level     1,  Iter    24:    Energy =   0.0785
Level     1,  Iter    25:    Energy =   0.0782
Level     1,  Iter    26:    Energy =   0.0789
Level     1,  Iter    27:    Energy =   0.0787
Level     1,  Iter    28:    Energy =   0.0787
Level     1,  Iter    29:    Energy =   0.0785
Level     1,  Iter    30:    Energy =   0.0790
Level     1,  Iter    31:    Energy =   0.0788
Level     1,  Iter    32:    Energy =   0.0790
Level     1,  Iter    33:    Energy =   0.0787
Level     1,  Iter    34:    Energy =   0.0793
Level     1,  Iter    35:    Energy =   0.0791
Level     1,  Iter    36:    Energy =   0.0792
Level     1,  Iter    37:    Energy =   0.0789
Level     1,  Iter    38:    Energy =   0.0795
Level     1,  Iter    39:    Energy =   0.0793
Level     1,  Iter    40:    Energy =   0.0794
Level     1,  Iter    41:    Energy =   0.0791
Level     1,  Iter    42:    Energy =   0.0796
Level     1,  Iter    43:    Energy =   0.0794
Level     1,  Iter    44:    Energy =   0.0795
Level     1,  Iter    45:    Energy =   0.0792
Level     1,  Iter    46:    Energy =   0.0798
Level     1,  Iter    47:    Energy =   0.0796
Level     1,  Iter    48:    Energy =   0.0796
Level     1,  Iter    49:    Energy =   0.0793
Level     1,  Iter    50:    Energy =   0.0799
Level     1,  Iter    51:    Energy =   0.0796
Level     1,  Iter    52:    Energy =   0.0798
Level     1,  Iter    53:    Energy =   0.0795
Level     1,  Iter    54:    Energy =   0.0801
Level     1,  Iter    55:    Energy =   0.0798
Level     1,  Iter    56:    Energy =   0.0800
Level     1,  Iter    57:    Energy =   0.0796
Level     1,  Iter    58:    Energy =   0.0802
Level     1,  Iter    59:    Energy =   0.0799
END OF LEVEL     1    DetJac Range:   0.0399  to   2.9808 
  Avg. Gradient Time  : 0.0468s  39.55% 
  Avg. Gaussian Time  : 0.0573s  48.39% 
  Avg. Iteration Time : 0.1184s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0411
Level     2,  Iter     1:    Energy =   0.0431
Level     2,  Iter     2:    Energy =   0.0447
Level     2,  Iter     3:    Energy =   0.0463
Level     2,  Iter     4:    Energy =   0.0477
Level     2,  Iter     5:    Energy =   0.0488
Level     2,  Iter     6:    Energy =   0.0497
Level     2,  Iter     7:    Energy =   0.0505
Level     2,  Iter     8:    Energy =   0.0511
Level     2,  Iter     9:    Energy =   0.0518
Level     2,  Iter    10:    Energy =   0.0525
Level     2,  Iter    11:    Energy =   0.0532
Level     2,  Iter    12:    Energy =   0.0540
Level     2,  Iter    13:    Energy =   0.0550
Level     2,  Iter    14:    Energy =   0.0558
Level     2,  Iter    15:    Energy =   0.0564
Level     2,  Iter    16:    Energy =   0.0569
Level     2,  Iter    17:    Energy =   0.0573
Level     2,  Iter    18:    Energy =   0.0577
Level     2,  Iter    19:    Energy =   0.0580
END OF LEVEL     2    DetJac Range:   0.0395  to   4.1096 
  Avg. Gradient Time  : 0.3271s  37.04% 
  Avg. Gaussian Time  : 0.4630s  52.43% 
  Avg. Iteration Time : 0.8832s 

real	0m29.541s
user	0m52.168s
sys	0m3.064s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.830769 0.836538
+ echo 'CHUNK 0.830769 0.836538 1'
CHUNK 0.830769 0.836538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.830769 0.836538 1
====================================
         PROGRESS: 0.830769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 015
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2333.20 	 OutFr   0.0027 	 RMSD     3.2636
Iter 002 	 Temp     3.72 	 Delta  2148.55 	 OutFr   0.0027 	 RMSD     2.5705
Iter 003 	 Temp     3.46 	 Delta  2024.46 	 OutFr   0.0027 	 RMSD     2.5546
Iter 004 	 Temp     3.22 	 Delta  1901.86 	 OutFr   0.0027 	 RMSD     2.5424
Iter 005 	 Temp     2.99 	 Delta  1779.16 	 OutFr   0.0027 	 RMSD     2.5330
Iter 006 	 Temp     2.78 	 Delta  1658.59 	 OutFr   0.0027 	 RMSD     2.5238
Iter 007 	 Temp     2.59 	 Delta  1542.25 	 OutFr   0.0027 	 RMSD     2.5161
Iter 008 	 Temp     2.41 	 Delta  1432.79 	 OutFr   0.0054 	 RMSD     2.5093
Iter 009 	 Temp     2.24 	 Delta  1333.49 	 OutFr   0.0054 	 RMSD     2.5033
Iter 010 	 Temp     2.08 	 Delta  1246.41 	 OutFr   0.0054 	 RMSD     2.4975
Iter 011 	 Temp     1.94 	 Delta  1170.59 	 OutFr   0.0080 	 RMSD     2.4923
Iter 012 	 Temp     1.80 	 Delta  1102.81 	 OutFr   0.0107 	 RMSD     2.4875
Iter 013 	 Temp     1.67 	 Delta  1041.10 	 OutFr   0.0161 	 RMSD     2.4829
Iter 014 	 Temp     1.56 	 Delta   985.69 	 OutFr   0.0188 	 RMSD     2.4792
Iter 015 	 Temp     1.45 	 Delta   936.72 	 OutFr   0.0268 	 RMSD     2.4757
Iter 016 	 Temp     1.35 	 Delta   891.45 	 OutFr   0.0295 	 RMSD     2.4727
Iter 017 	 Temp     1.25 	 Delta   846.26 	 OutFr   0.0322 	 RMSD     2.4705
Iter 018 	 Temp     1.16 	 Delta   799.15 	 OutFr   0.0349 	 RMSD     2.4683
Iter 019 	 Temp     1.08 	 Delta   748.21 	 OutFr   0.0349 	 RMSD     2.4663
Iter 020 	 Temp     1.01 	 Delta   692.60 	 OutFr   0.0429 	 RMSD     2.4652
Iter 021 	 Temp     0.94 	 Delta   635.87 	 OutFr   0.0563 	 RMSD     2.4651
Iter 022 	 Temp     0.87 	 Delta   584.65 	 OutFr   0.0697 	 RMSD     2.4667
Iter 023 	 Temp     0.81 	 Delta   543.23 	 OutFr   0.0992 	 RMSD     2.4702
Iter 024 	 Temp     0.75 	 Delta   499.72 	 OutFr   0.1099 	 RMSD     2.4737
Iter 025 	 Temp     0.70 	 Delta   452.70 	 OutFr   0.1394 	 RMSD     2.4783
Iter 026 	 Temp     0.65 	 Delta   407.18 	 OutFr   0.1635 	 RMSD     2.4852
Iter 027 	 Temp     0.61 	 Delta   363.96 	 OutFr   0.1850 	 RMSD     2.4940
Iter 028 	 Temp     0.56 	 Delta   324.96 	 OutFr   0.2252 	 RMSD     2.5044
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ZiUMYESO/mybin.nii.gz
+ vtklevelset /tmp/ashs.ZiUMYESO/mybin.nii.gz /tmp/ashs.ZiUMYESO/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ZiUMYESO/mymesh.vtk /tmp/ashs.ZiUMYESO/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 3142.38712162   1.07616375
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ZiUMYESO/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.74548 to 36.4999
   Y : -19.9977 to 20.2419
   Z : -10.3791 to 24.5196
   Image resolution  : 109 by 145 by 129
   Image box origin  : {3.74548, -24.9977, -15.3791}
   Image box size    : {37.8472, 50.3472, 45.1495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.74548, 24.9977, -15.3791]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat -o /tmp/ashs.ZiUMYESO/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat -o /tmp/ashs.ZiUMYESO/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ZiUMYESO/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.836538 0.842308
+ echo 'CHUNK 0.836538 0.842308 0.5'
CHUNK 0.836538 0.842308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.836538 0.842308 0.5
====================================
         PROGRESS: 0.836538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ZiUMYESO/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ZiUMYESO/fixed_hw.nii.gz /tmp/ashs.ZiUMYESO/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.63273, moving = 0.717303
LEVEL 1 of 3
  Smoothing sigmas: [2.34119, 2.35686, 2.36973], [0.955786, 0.962185, 0.96744]
Level     0,  Iter     0:    Energy =   0.0538
Level     0,  Iter     1:    Energy =   0.0618
Level     0,  Iter     2:    Energy =   0.0687
Level     0,  Iter     3:    Energy =   0.0741
Level     0,  Iter     4:    Energy =   0.0781
Level     0,  Iter     5:    Energy =   0.0809
Level     0,  Iter     6:    Energy =   0.0831
Level     0,  Iter     7:    Energy =   0.0842
Level     0,  Iter     8:    Energy =   0.0853
Level     0,  Iter     9:    Energy =   0.0861
Level     0,  Iter    10:    Energy =   0.0868
Level     0,  Iter    11:    Energy =   0.0872
Level     0,  Iter    12:    Energy =   0.0877
Level     0,  Iter    13:    Energy =   0.0880
Level     0,  Iter    14:    Energy =   0.0882
Level     0,  Iter    15:    Energy =   0.0887
Level     0,  Iter    16:    Energy =   0.0890
Level     0,  Iter    17:    Energy =   0.0896
Level     0,  Iter    18:    Energy =   0.0901
Level     0,  Iter    19:    Energy =   0.0905
Level     0,  Iter    20:    Energy =   0.0907
Level     0,  Iter    21:    Energy =   0.0911
Level     0,  Iter    22:    Energy =   0.0910
Level     0,  Iter    23:    Energy =   0.0916
Level     0,  Iter    24:    Energy =   0.0915
Level     0,  Iter    25:    Energy =   0.0921
Level     0,  Iter    26:    Energy =   0.0919
Level     0,  Iter    27:    Energy =   0.0924
Level     0,  Iter    28:    Energy =   0.0923
Level     0,  Iter    29:    Energy =   0.0928
Level     0,  Iter    30:    Energy =   0.0925
Level     0,  Iter    31:    Energy =   0.0928
Level     0,  Iter    32:    Energy =   0.0926
Level     0,  Iter    33:    Energy =   0.0929
Level     0,  Iter    34:    Energy =   0.0927
Level     0,  Iter    35:    Energy =   0.0930
Level     0,  Iter    36:    Energy =   0.0928
Level     0,  Iter    37:    Energy =   0.0932
Level     0,  Iter    38:    Energy =   0.0931
Level     0,  Iter    39:    Energy =   0.0933
Level     0,  Iter    40:    Energy =   0.0930
Level     0,  Iter    41:    Energy =   0.0935
Level     0,  Iter    42:    Energy =   0.0932
Level     0,  Iter    43:    Energy =   0.0936
Level     0,  Iter    44:    Energy =   0.0933
Level     0,  Iter    45:    Energy =   0.0936
Level     0,  Iter    46:    Energy =   0.0932
Level     0,  Iter    47:    Energy =   0.0936
Level     0,  Iter    48:    Energy =   0.0934
Level     0,  Iter    49:    Energy =   0.0938
Level     0,  Iter    50:    Energy =   0.0934
Level     0,  Iter    51:    Energy =   0.0938
Level     0,  Iter    52:    Energy =   0.0935
Level     0,  Iter    53:    Energy =   0.0939
Level     0,  Iter    54:    Energy =   0.0937
Level     0,  Iter    55:    Energy =   0.0940
Level     0,  Iter    56:    Energy =   0.0936
Level     0,  Iter    57:    Energy =   0.0940
Level     0,  Iter    58:    Energy =   0.0938
Level     0,  Iter    59:    Energy =   0.0941
END OF LEVEL     0    DetJac Range:   0.2841  to   2.2716 
  Avg. Gradient Time  : 0.0086s  37.51% 
  Avg. Gaussian Time  : 0.0107s  47.09% 
  Avg. Iteration Time : 0.0228s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19188, 1.19457, 1.2031], [0.486582, 0.487683, 0.491162]
Level     1,  Iter     0:    Energy =   0.0626
Level     1,  Iter     1:    Energy =   0.0666
Level     1,  Iter     2:    Energy =   0.0698
Level     1,  Iter     3:    Energy =   0.0725
Level     1,  Iter     4:    Energy =   0.0748
Level     1,  Iter     5:    Energy =   0.0766
Level     1,  Iter     6:    Energy =   0.0783
Level     1,  Iter     7:    Energy =   0.0796
Level     1,  Iter     8:    Energy =   0.0800
Level     1,  Iter     9:    Energy =   0.0802
Level     1,  Iter    10:    Energy =   0.0806
Level     1,  Iter    11:    Energy =   0.0815
Level     1,  Iter    12:    Energy =   0.0818
Level     1,  Iter    13:    Energy =   0.0819
Level     1,  Iter    14:    Energy =   0.0821
Level     1,  Iter    15:    Energy =   0.0821
Level     1,  Iter    16:    Energy =   0.0823
Level     1,  Iter    17:    Energy =   0.0823
Level     1,  Iter    18:    Energy =   0.0825
Level     1,  Iter    19:    Energy =   0.0824
Level     1,  Iter    20:    Energy =   0.0826
Level     1,  Iter    21:    Energy =   0.0826
Level     1,  Iter    22:    Energy =   0.0826
Level     1,  Iter    23:    Energy =   0.0826
Level     1,  Iter    24:    Energy =   0.0826
Level     1,  Iter    25:    Energy =   0.0826
Level     1,  Iter    26:    Energy =   0.0827
Level     1,  Iter    27:    Energy =   0.0827
Level     1,  Iter    28:    Energy =   0.0827
Level     1,  Iter    29:    Energy =   0.0827
Level     1,  Iter    30:    Energy =   0.0827
Level     1,  Iter    31:    Energy =   0.0827
Level     1,  Iter    32:    Energy =   0.0827
Level     1,  Iter    33:    Energy =   0.0828
Level     1,  Iter    34:    Energy =   0.0827
Level     1,  Iter    35:    Energy =   0.0828
Level     1,  Iter    36:    Energy =   0.0827
Level     1,  Iter    37:    Energy =   0.0827
Level     1,  Iter    38:    Energy =   0.0826
Level     1,  Iter    39:    Energy =   0.0828
Level     1,  Iter    40:    Energy =   0.0827
Level     1,  Iter    41:    Energy =   0.0828
Level     1,  Iter    42:    Energy =   0.0826
Level     1,  Iter    43:    Energy =   0.0828
Level     1,  Iter    44:    Energy =   0.0827
Level     1,  Iter    45:    Energy =   0.0828
Level     1,  Iter    46:    Energy =   0.0826
Level     1,  Iter    47:    Energy =   0.0828
Level     1,  Iter    48:    Energy =   0.0827
Level     1,  Iter    49:    Energy =   0.0828
Level     1,  Iter    50:    Energy =   0.0826
Level     1,  Iter    51:    Energy =   0.0828
Level     1,  Iter    52:    Energy =   0.0826
Level     1,  Iter    53:    Energy =   0.0827
Level     1,  Iter    54:    Energy =   0.0826
Level     1,  Iter    55:    Energy =   0.0827
Level     1,  Iter    56:    Energy =   0.0825
Level     1,  Iter    57:    Energy =   0.0828
Level     1,  Iter    58:    Energy =   0.0826
Level     1,  Iter    59:    Energy =   0.0827
END OF LEVEL     1    DetJac Range:   0.1979  to   2.3721 
  Avg. Gradient Time  : 0.0506s  39.45% 
  Avg. Gaussian Time  : 0.0622s  48.54% 
  Avg. Iteration Time : 0.1282s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0450
Level     2,  Iter     1:    Energy =   0.0473
Level     2,  Iter     2:    Energy =   0.0494
Level     2,  Iter     3:    Energy =   0.0513
Level     2,  Iter     4:    Energy =   0.0529
Level     2,  Iter     5:    Energy =   0.0542
Level     2,  Iter     6:    Energy =   0.0554
Level     2,  Iter     7:    Energy =   0.0566
Level     2,  Iter     8:    Energy =   0.0576
Level     2,  Iter     9:    Energy =   0.0584
Level     2,  Iter    10:    Energy =   0.0591
Level     2,  Iter    11:    Energy =   0.0598
Level     2,  Iter    12:    Energy =   0.0606
Level     2,  Iter    13:    Energy =   0.0613
Level     2,  Iter    14:    Energy =   0.0619
Level     2,  Iter    15:    Energy =   0.0625
Level     2,  Iter    16:    Energy =   0.0629
Level     2,  Iter    17:    Energy =   0.0633
Level     2,  Iter    18:    Energy =   0.0637
Level     2,  Iter    19:    Energy =   0.0640
END OF LEVEL     2    DetJac Range:   0.0678  to   3.8492 
  Avg. Gradient Time  : 0.3523s  36.90% 
  Avg. Gaussian Time  : 0.5020s  52.57% 
  Avg. Iteration Time : 0.9548s 

real	0m31.974s
user	0m56.584s
sys	0m3.212s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.836538 0.842308
+ echo 'CHUNK 0.836538 0.842308 1'
CHUNK 0.836538 0.842308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.836538 0.842308 1
====================================
         PROGRESS: 0.836538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 016
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1754.03 	 OutFr   0.0000 	 RMSD     2.2636
Iter 002 	 Temp     3.72 	 Delta  1632.62 	 OutFr   0.0000 	 RMSD     2.0923
Iter 003 	 Temp     3.46 	 Delta  1546.55 	 OutFr   0.0000 	 RMSD     2.0894
Iter 004 	 Temp     3.22 	 Delta  1481.43 	 OutFr   0.0000 	 RMSD     2.0690
Iter 005 	 Temp     2.99 	 Delta  1427.46 	 OutFr   0.0000 	 RMSD     2.0485
Iter 006 	 Temp     2.78 	 Delta  1378.34 	 OutFr   0.0000 	 RMSD     2.0317
Iter 007 	 Temp     2.59 	 Delta  1327.97 	 OutFr   0.0000 	 RMSD     2.0179
Iter 008 	 Temp     2.41 	 Delta  1270.43 	 OutFr   0.0000 	 RMSD     2.0060
Iter 009 	 Temp     2.24 	 Delta  1201.65 	 OutFr   0.0000 	 RMSD     1.9945
Iter 010 	 Temp     2.08 	 Delta  1122.32 	 OutFr   0.0000 	 RMSD     1.9837
Iter 011 	 Temp     1.94 	 Delta  1038.17 	 OutFr   0.0027 	 RMSD     1.9743
Iter 012 	 Temp     1.80 	 Delta   953.63 	 OutFr   0.0027 	 RMSD     1.9661
Iter 013 	 Temp     1.67 	 Delta   870.93 	 OutFr   0.0054 	 RMSD     1.9578
Iter 014 	 Temp     1.56 	 Delta   791.64 	 OutFr   0.0080 	 RMSD     1.9502
Iter 015 	 Temp     1.45 	 Delta   718.76 	 OutFr   0.0134 	 RMSD     1.9429
Iter 016 	 Temp     1.35 	 Delta   658.25 	 OutFr   0.0161 	 RMSD     1.9367
Iter 017 	 Temp     1.25 	 Delta   610.67 	 OutFr   0.0214 	 RMSD     1.9313
Iter 018 	 Temp     1.16 	 Delta   572.94 	 OutFr   0.0295 	 RMSD     1.9272
Iter 019 	 Temp     1.08 	 Delta   541.94 	 OutFr   0.0402 	 RMSD     1.9249
Iter 020 	 Temp     1.01 	 Delta   513.09 	 OutFr   0.0456 	 RMSD     1.9239
Iter 021 	 Temp     0.94 	 Delta   482.58 	 OutFr   0.0590 	 RMSD     1.9235
Iter 022 	 Temp     0.87 	 Delta   450.41 	 OutFr   0.0697 	 RMSD     1.9242
Iter 023 	 Temp     0.81 	 Delta   419.72 	 OutFr   0.0777 	 RMSD     1.9256
Iter 024 	 Temp     0.75 	 Delta   390.72 	 OutFr   0.0885 	 RMSD     1.9282
Iter 025 	 Temp     0.70 	 Delta   361.57 	 OutFr   0.1019 	 RMSD     1.9318
Iter 026 	 Temp     0.65 	 Delta   332.54 	 OutFr   0.1233 	 RMSD     1.9361
Iter 027 	 Temp     0.61 	 Delta   302.71 	 OutFr   0.1421 	 RMSD     1.9413
Iter 028 	 Temp     0.56 	 Delta   274.39 	 OutFr   0.1635 	 RMSD     1.9485
Iter 029 	 Temp     0.52 	 Delta   251.91 	 OutFr   0.1903 	 RMSD     1.9575
Iter 030 	 Temp     0.49 	 Delta   232.75 	 OutFr   0.2225 	 RMSD     1.9675
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.uvTQzdF0/mybin.nii.gz
+ vtklevelset /tmp/ashs.uvTQzdF0/mybin.nii.gz /tmp/ashs.uvTQzdF0/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.uvTQzdF0/mymesh.vtk /tmp/ashs.uvTQzdF0/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2800.20923334   0.95897913
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.uvTQzdF0/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.65878 to 32.6863
   Y : -11.269 to 26.3799
   Z : -23.5029 to 12.7438
   Image resolution  : 96 by 138 by 133
   Image box origin  : {4.65878, -16.269, -28.5029}
   Image box size    : {33.3333, 47.9166, 46.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.65878, 16.269, -28.5029]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat -o /tmp/ashs.uvTQzdF0/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat -o /tmp/ashs.uvTQzdF0/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.uvTQzdF0/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.842308 0.848077
+ echo 'CHUNK 0.842308 0.848077 0.5'
CHUNK 0.842308 0.848077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.842308 0.848077 0.5
====================================
         PROGRESS: 0.842308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.uvTQzdF0/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.uvTQzdF0/fixed_hw.nii.gz /tmp/ashs.uvTQzdF0/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.653111, moving = 0.643941
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37126, 2.37135], [0.982092, 0.968062, 0.968101]
Level     0,  Iter     0:    Energy =   0.0642
Level     0,  Iter     1:    Energy =   0.0716
Level     0,  Iter     2:    Energy =   0.0768
Level     0,  Iter     3:    Energy =   0.0804
Level     0,  Iter     4:    Energy =   0.0835
Level     0,  Iter     5:    Energy =   0.0864
Level     0,  Iter     6:    Energy =   0.0891
Level     0,  Iter     7:    Energy =   0.0918
Level     0,  Iter     8:    Energy =   0.0934
Level     0,  Iter     9:    Energy =   0.0936
Level     0,  Iter    10:    Energy =   0.0941
Level     0,  Iter    11:    Energy =   0.0941
Level     0,  Iter    12:    Energy =   0.0942
Level     0,  Iter    13:    Energy =   0.0944
Level     0,  Iter    14:    Energy =   0.0951
Level     0,  Iter    15:    Energy =   0.0953
Level     0,  Iter    16:    Energy =   0.0958
Level     0,  Iter    17:    Energy =   0.0958
Level     0,  Iter    18:    Energy =   0.0961
Level     0,  Iter    19:    Energy =   0.0961
Level     0,  Iter    20:    Energy =   0.0964
Level     0,  Iter    21:    Energy =   0.0964
Level     0,  Iter    22:    Energy =   0.0966
Level     0,  Iter    23:    Energy =   0.0967
Level     0,  Iter    24:    Energy =   0.0971
Level     0,  Iter    25:    Energy =   0.0969
Level     0,  Iter    26:    Energy =   0.0968
Level     0,  Iter    27:    Energy =   0.0968
Level     0,  Iter    28:    Energy =   0.0971
Level     0,  Iter    29:    Energy =   0.0971
Level     0,  Iter    30:    Energy =   0.0971
Level     0,  Iter    31:    Energy =   0.0972
Level     0,  Iter    32:    Energy =   0.0976
Level     0,  Iter    33:    Energy =   0.0973
Level     0,  Iter    34:    Energy =   0.0973
Level     0,  Iter    35:    Energy =   0.0972
Level     0,  Iter    36:    Energy =   0.0973
Level     0,  Iter    37:    Energy =   0.0974
Level     0,  Iter    38:    Energy =   0.0979
Level     0,  Iter    39:    Energy =   0.0976
Level     0,  Iter    40:    Energy =   0.0975
Level     0,  Iter    41:    Energy =   0.0974
Level     0,  Iter    42:    Energy =   0.0975
Level     0,  Iter    43:    Energy =   0.0976
Level     0,  Iter    44:    Energy =   0.0981
Level     0,  Iter    45:    Energy =   0.0978
Level     0,  Iter    46:    Energy =   0.0977
Level     0,  Iter    47:    Energy =   0.0976
Level     0,  Iter    48:    Energy =   0.0978
Level     0,  Iter    49:    Energy =   0.0979
Level     0,  Iter    50:    Energy =   0.0981
Level     0,  Iter    51:    Energy =   0.0981
Level     0,  Iter    52:    Energy =   0.0980
Level     0,  Iter    53:    Energy =   0.0982
Level     0,  Iter    54:    Energy =   0.0986
Level     0,  Iter    55:    Energy =   0.0982
Level     0,  Iter    56:    Energy =   0.0981
Level     0,  Iter    57:    Energy =   0.0979
Level     0,  Iter    58:    Energy =   0.0980
Level     0,  Iter    59:    Energy =   0.0980
END OF LEVEL     0    DetJac Range:   0.2264  to   2.1260 
  Avg. Gradient Time  : 0.0078s  37.64% 
  Avg. Gaussian Time  : 0.0097s  47.00% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20337], [0.491046, 0.491046, 0.491275]
Level     1,  Iter     0:    Energy =   0.0721
Level     1,  Iter     1:    Energy =   0.0769
Level     1,  Iter     2:    Energy =   0.0796
Level     1,  Iter     3:    Energy =   0.0820
Level     1,  Iter     4:    Energy =   0.0841
Level     1,  Iter     5:    Energy =   0.0856
Level     1,  Iter     6:    Energy =   0.0866
Level     1,  Iter     7:    Energy =   0.0873
Level     1,  Iter     8:    Energy =   0.0879
Level     1,  Iter     9:    Energy =   0.0886
Level     1,  Iter    10:    Energy =   0.0894
Level     1,  Iter    11:    Energy =   0.0903
Level     1,  Iter    12:    Energy =   0.0912
Level     1,  Iter    13:    Energy =   0.0913
Level     1,  Iter    14:    Energy =   0.0911
Level     1,  Iter    15:    Energy =   0.0913
Level     1,  Iter    16:    Energy =   0.0911
Level     1,  Iter    17:    Energy =   0.0913
Level     1,  Iter    18:    Energy =   0.0911
Level     1,  Iter    19:    Energy =   0.0913
Level     1,  Iter    20:    Energy =   0.0912
Level     1,  Iter    21:    Energy =   0.0914
Level     1,  Iter    22:    Energy =   0.0913
Level     1,  Iter    23:    Energy =   0.0915
Level     1,  Iter    24:    Energy =   0.0914
Level     1,  Iter    25:    Energy =   0.0916
Level     1,  Iter    26:    Energy =   0.0915
Level     1,  Iter    27:    Energy =   0.0917
Level     1,  Iter    28:    Energy =   0.0915
Level     1,  Iter    29:    Energy =   0.0917
Level     1,  Iter    30:    Energy =   0.0916
Level     1,  Iter    31:    Energy =   0.0918
Level     1,  Iter    32:    Energy =   0.0917
Level     1,  Iter    33:    Energy =   0.0918
Level     1,  Iter    34:    Energy =   0.0917
Level     1,  Iter    35:    Energy =   0.0919
Level     1,  Iter    36:    Energy =   0.0917
Level     1,  Iter    37:    Energy =   0.0920
Level     1,  Iter    38:    Energy =   0.0918
Level     1,  Iter    39:    Energy =   0.0920
Level     1,  Iter    40:    Energy =   0.0918
Level     1,  Iter    41:    Energy =   0.0920
Level     1,  Iter    42:    Energy =   0.0919
Level     1,  Iter    43:    Energy =   0.0921
Level     1,  Iter    44:    Energy =   0.0919
Level     1,  Iter    45:    Energy =   0.0921
Level     1,  Iter    46:    Energy =   0.0919
Level     1,  Iter    47:    Energy =   0.0921
Level     1,  Iter    48:    Energy =   0.0919
Level     1,  Iter    49:    Energy =   0.0921
Level     1,  Iter    50:    Energy =   0.0920
Level     1,  Iter    51:    Energy =   0.0921
Level     1,  Iter    52:    Energy =   0.0920
Level     1,  Iter    53:    Energy =   0.0922
Level     1,  Iter    54:    Energy =   0.0920
Level     1,  Iter    55:    Energy =   0.0921
Level     1,  Iter    56:    Energy =   0.0920
Level     1,  Iter    57:    Energy =   0.0921
Level     1,  Iter    58:    Energy =   0.0920
Level     1,  Iter    59:    Energy =   0.0921
END OF LEVEL     1    DetJac Range:   0.2344  to   2.4640 
  Avg. Gradient Time  : 0.0448s  40.08% 
  Avg. Gaussian Time  : 0.0534s  47.82% 
  Avg. Iteration Time : 0.1117s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0489
Level     2,  Iter     1:    Energy =   0.0516
Level     2,  Iter     2:    Energy =   0.0538
Level     2,  Iter     3:    Energy =   0.0557
Level     2,  Iter     4:    Energy =   0.0572
Level     2,  Iter     5:    Energy =   0.0584
Level     2,  Iter     6:    Energy =   0.0595
Level     2,  Iter     7:    Energy =   0.0607
Level     2,  Iter     8:    Energy =   0.0619
Level     2,  Iter     9:    Energy =   0.0629
Level     2,  Iter    10:    Energy =   0.0637
Level     2,  Iter    11:    Energy =   0.0644
Level     2,  Iter    12:    Energy =   0.0650
Level     2,  Iter    13:    Energy =   0.0655
Level     2,  Iter    14:    Energy =   0.0660
Level     2,  Iter    15:    Energy =   0.0665
Level     2,  Iter    16:    Energy =   0.0669
Level     2,  Iter    17:    Energy =   0.0673
Level     2,  Iter    18:    Energy =   0.0678
Level     2,  Iter    19:    Energy =   0.0681
END OF LEVEL     2    DetJac Range:   0.1048  to   4.6271 
  Avg. Gradient Time  : 0.3142s  37.57% 
  Avg. Gaussian Time  : 0.4326s  51.72% 
  Avg. Iteration Time : 0.8364s 

real	0m27.947s
user	0m48.936s
sys	0m3.168s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.842308 0.848077
+ echo 'CHUNK 0.842308 0.848077 1'
CHUNK 0.842308 0.848077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.842308 0.848077 1
====================================
         PROGRESS: 0.842308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 017
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2552.82 	 OutFr   0.0134 	 RMSD     4.1244
Iter 002 	 Temp     3.72 	 Delta  2140.86 	 OutFr   0.0134 	 RMSD     2.1973
Iter 003 	 Temp     3.46 	 Delta  1955.54 	 OutFr   0.0134 	 RMSD     2.1099
Iter 004 	 Temp     3.22 	 Delta  1804.70 	 OutFr   0.0134 	 RMSD     2.0832
Iter 005 	 Temp     2.99 	 Delta  1665.68 	 OutFr   0.0134 	 RMSD     2.0662
Iter 006 	 Temp     2.78 	 Delta  1538.56 	 OutFr   0.0134 	 RMSD     2.0535
Iter 007 	 Temp     2.59 	 Delta  1427.48 	 OutFr   0.0134 	 RMSD     2.0432
Iter 008 	 Temp     2.41 	 Delta  1332.37 	 OutFr   0.0161 	 RMSD     2.0341
Iter 009 	 Temp     2.24 	 Delta  1246.63 	 OutFr   0.0161 	 RMSD     2.0252
Iter 010 	 Temp     2.08 	 Delta  1166.68 	 OutFr   0.0161 	 RMSD     2.0168
Iter 011 	 Temp     1.94 	 Delta  1097.77 	 OutFr   0.0188 	 RMSD     2.0089
Iter 012 	 Temp     1.80 	 Delta  1044.55 	 OutFr   0.0214 	 RMSD     2.0023
Iter 013 	 Temp     1.67 	 Delta  1001.34 	 OutFr   0.0214 	 RMSD     1.9974
Iter 014 	 Temp     1.56 	 Delta   961.66 	 OutFr   0.0241 	 RMSD     1.9930
Iter 015 	 Temp     1.45 	 Delta   922.51 	 OutFr   0.0241 	 RMSD     1.9897
Iter 016 	 Temp     1.35 	 Delta   882.83 	 OutFr   0.0295 	 RMSD     1.9874
Iter 017 	 Temp     1.25 	 Delta   842.82 	 OutFr   0.0349 	 RMSD     1.9859
Iter 018 	 Temp     1.16 	 Delta   802.15 	 OutFr   0.0429 	 RMSD     1.9848
Iter 019 	 Temp     1.08 	 Delta   759.86 	 OutFr   0.0456 	 RMSD     1.9841
Iter 020 	 Temp     1.01 	 Delta   715.36 	 OutFr   0.0509 	 RMSD     1.9842
Iter 021 	 Temp     0.94 	 Delta   669.32 	 OutFr   0.0536 	 RMSD     1.9852
Iter 022 	 Temp     0.87 	 Delta   623.52 	 OutFr   0.0643 	 RMSD     1.9871
Iter 023 	 Temp     0.81 	 Delta   578.95 	 OutFr   0.0831 	 RMSD     1.9891
Iter 024 	 Temp     0.75 	 Delta   536.94 	 OutFr   0.0965 	 RMSD     1.9908
Iter 025 	 Temp     0.70 	 Delta   496.84 	 OutFr   0.1099 	 RMSD     1.9931
Iter 026 	 Temp     0.65 	 Delta   455.23 	 OutFr   0.1233 	 RMSD     1.9956
Iter 027 	 Temp     0.61 	 Delta   411.96 	 OutFr   0.1528 	 RMSD     1.9985
Iter 028 	 Temp     0.56 	 Delta   368.88 	 OutFr   0.1877 	 RMSD     2.0014
Iter 029 	 Temp     0.52 	 Delta   325.47 	 OutFr   0.2038 	 RMSD     2.0041
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.JbWdAUvO/mybin.nii.gz
+ vtklevelset /tmp/ashs.JbWdAUvO/mybin.nii.gz /tmp/ashs.JbWdAUvO/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.JbWdAUvO/mymesh.vtk /tmp/ashs.JbWdAUvO/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2949.58304919   1.01013473
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.JbWdAUvO/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.01106 to 32.6071
   Y : -19.2859 to 23.3631
   Z : -7.76297 to 23.3521
   Image resolution  : 97 by 152 by 118
   Image box origin  : {4.01106, -24.2859, -12.763}
   Image box size    : {33.6805, 52.7777, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.01106, 24.2859, -12.763]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat -o /tmp/ashs.JbWdAUvO/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat -o /tmp/ashs.JbWdAUvO/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.JbWdAUvO/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.848077 0.853846
+ echo 'CHUNK 0.848077 0.853846 0.5'
CHUNK 0.848077 0.853846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.848077 0.853846 0.5
====================================
         PROGRESS: 0.848077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.JbWdAUvO/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.JbWdAUvO/fixed_hw.nii.gz /tmp/ashs.JbWdAUvO/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.655708, moving = 0.394404
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.40562, 2.38443], [0.952629, 0.982092, 0.973439]
Level     0,  Iter     0:    Energy =   0.0473
Level     0,  Iter     1:    Energy =   0.0554
Level     0,  Iter     2:    Energy =   0.0629
Level     0,  Iter     3:    Energy =   0.0691
Level     0,  Iter     4:    Energy =   0.0739
Level     0,  Iter     5:    Energy =   0.0773
Level     0,  Iter     6:    Energy =   0.0802
Level     0,  Iter     7:    Energy =   0.0827
Level     0,  Iter     8:    Energy =   0.0849
Level     0,  Iter     9:    Energy =   0.0854
Level     0,  Iter    10:    Energy =   0.0858
Level     0,  Iter    11:    Energy =   0.0863
Level     0,  Iter    12:    Energy =   0.0865
Level     0,  Iter    13:    Energy =   0.0870
Level     0,  Iter    14:    Energy =   0.0872
Level     0,  Iter    15:    Energy =   0.0876
Level     0,  Iter    16:    Energy =   0.0877
Level     0,  Iter    17:    Energy =   0.0881
Level     0,  Iter    18:    Energy =   0.0882
Level     0,  Iter    19:    Energy =   0.0884
Level     0,  Iter    20:    Energy =   0.0885
Level     0,  Iter    21:    Energy =   0.0887
Level     0,  Iter    22:    Energy =   0.0887
Level     0,  Iter    23:    Energy =   0.0889
Level     0,  Iter    24:    Energy =   0.0889
Level     0,  Iter    25:    Energy =   0.0891
Level     0,  Iter    26:    Energy =   0.0890
Level     0,  Iter    27:    Energy =   0.0892
Level     0,  Iter    28:    Energy =   0.0892
Level     0,  Iter    29:    Energy =   0.0894
Level     0,  Iter    30:    Energy =   0.0893
Level     0,  Iter    31:    Energy =   0.0895
Level     0,  Iter    32:    Energy =   0.0894
Level     0,  Iter    33:    Energy =   0.0895
Level     0,  Iter    34:    Energy =   0.0895
Level     0,  Iter    35:    Energy =   0.0896
Level     0,  Iter    36:    Energy =   0.0895
Level     0,  Iter    37:    Energy =   0.0896
Level     0,  Iter    38:    Energy =   0.0896
Level     0,  Iter    39:    Energy =   0.0897
Level     0,  Iter    40:    Energy =   0.0896
Level     0,  Iter    41:    Energy =   0.0897
Level     0,  Iter    42:    Energy =   0.0896
Level     0,  Iter    43:    Energy =   0.0898
Level     0,  Iter    44:    Energy =   0.0897
Level     0,  Iter    45:    Energy =   0.0898
Level     0,  Iter    46:    Energy =   0.0897
Level     0,  Iter    47:    Energy =   0.0898
Level     0,  Iter    48:    Energy =   0.0898
Level     0,  Iter    49:    Energy =   0.0899
Level     0,  Iter    50:    Energy =   0.0898
Level     0,  Iter    51:    Energy =   0.0899
Level     0,  Iter    52:    Energy =   0.0899
Level     0,  Iter    53:    Energy =   0.0900
Level     0,  Iter    54:    Energy =   0.0899
Level     0,  Iter    55:    Energy =   0.0900
Level     0,  Iter    56:    Energy =   0.0899
Level     0,  Iter    57:    Energy =   0.0900
Level     0,  Iter    58:    Energy =   0.0899
Level     0,  Iter    59:    Energy =   0.0900
END OF LEVEL     0    DetJac Range:   0.3716  to   1.7539 
  Avg. Gradient Time  : 0.0066s  37.64% 
  Avg. Gaussian Time  : 0.0083s  46.95% 
  Avg. Iteration Time : 0.0176s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.21242], [0.486035, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0639
Level     1,  Iter     1:    Energy =   0.0682
Level     1,  Iter     2:    Energy =   0.0710
Level     1,  Iter     3:    Energy =   0.0735
Level     1,  Iter     4:    Energy =   0.0757
Level     1,  Iter     5:    Energy =   0.0775
Level     1,  Iter     6:    Energy =   0.0790
Level     1,  Iter     7:    Energy =   0.0801
Level     1,  Iter     8:    Energy =   0.0811
Level     1,  Iter     9:    Energy =   0.0820
Level     1,  Iter    10:    Energy =   0.0829
Level     1,  Iter    11:    Energy =   0.0837
Level     1,  Iter    12:    Energy =   0.0844
Level     1,  Iter    13:    Energy =   0.0848
Level     1,  Iter    14:    Energy =   0.0852
Level     1,  Iter    15:    Energy =   0.0851
Level     1,  Iter    16:    Energy =   0.0852
Level     1,  Iter    17:    Energy =   0.0854
Level     1,  Iter    18:    Energy =   0.0854
Level     1,  Iter    19:    Energy =   0.0856
Level     1,  Iter    20:    Energy =   0.0856
Level     1,  Iter    21:    Energy =   0.0858
Level     1,  Iter    22:    Energy =   0.0858
Level     1,  Iter    23:    Energy =   0.0860
Level     1,  Iter    24:    Energy =   0.0859
Level     1,  Iter    25:    Energy =   0.0861
Level     1,  Iter    26:    Energy =   0.0861
Level     1,  Iter    27:    Energy =   0.0863
Level     1,  Iter    28:    Energy =   0.0862
Level     1,  Iter    29:    Energy =   0.0864
Level     1,  Iter    30:    Energy =   0.0863
Level     1,  Iter    31:    Energy =   0.0865
Level     1,  Iter    32:    Energy =   0.0863
Level     1,  Iter    33:    Energy =   0.0865
Level     1,  Iter    34:    Energy =   0.0864
Level     1,  Iter    35:    Energy =   0.0866
Level     1,  Iter    36:    Energy =   0.0865
Level     1,  Iter    37:    Energy =   0.0866
Level     1,  Iter    38:    Energy =   0.0865
Level     1,  Iter    39:    Energy =   0.0867
Level     1,  Iter    40:    Energy =   0.0866
Level     1,  Iter    41:    Energy =   0.0868
Level     1,  Iter    42:    Energy =   0.0866
Level     1,  Iter    43:    Energy =   0.0868
Level     1,  Iter    44:    Energy =   0.0867
Level     1,  Iter    45:    Energy =   0.0869
Level     1,  Iter    46:    Energy =   0.0868
Level     1,  Iter    47:    Energy =   0.0869
Level     1,  Iter    48:    Energy =   0.0868
Level     1,  Iter    49:    Energy =   0.0870
Level     1,  Iter    50:    Energy =   0.0869
Level     1,  Iter    51:    Energy =   0.0870
Level     1,  Iter    52:    Energy =   0.0869
Level     1,  Iter    53:    Energy =   0.0870
Level     1,  Iter    54:    Energy =   0.0869
Level     1,  Iter    55:    Energy =   0.0870
Level     1,  Iter    56:    Energy =   0.0869
Level     1,  Iter    57:    Energy =   0.0870
Level     1,  Iter    58:    Energy =   0.0869
Level     1,  Iter    59:    Energy =   0.0871
END OF LEVEL     1    DetJac Range:   0.1170  to   2.7978 
  Avg. Gradient Time  : 0.0396s  40.55% 
  Avg. Gaussian Time  : 0.0466s  47.63% 
  Avg. Iteration Time : 0.0978s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0441
Level     2,  Iter     1:    Energy =   0.0464
Level     2,  Iter     2:    Energy =   0.0486
Level     2,  Iter     3:    Energy =   0.0506
Level     2,  Iter     4:    Energy =   0.0525
Level     2,  Iter     5:    Energy =   0.0541
Level     2,  Iter     6:    Energy =   0.0555
Level     2,  Iter     7:    Energy =   0.0566
Level     2,  Iter     8:    Energy =   0.0575
Level     2,  Iter     9:    Energy =   0.0582
Level     2,  Iter    10:    Energy =   0.0590
Level     2,  Iter    11:    Energy =   0.0597
Level     2,  Iter    12:    Energy =   0.0605
Level     2,  Iter    13:    Energy =   0.0611
Level     2,  Iter    14:    Energy =   0.0617
Level     2,  Iter    15:    Energy =   0.0621
Level     2,  Iter    16:    Energy =   0.0625
Level     2,  Iter    17:    Energy =   0.0629
Level     2,  Iter    18:    Energy =   0.0632
Level     2,  Iter    19:    Energy =   0.0635
END OF LEVEL     2    DetJac Range:   0.0590  to   4.9683 
  Avg. Gradient Time  : 0.2796s  37.88% 
  Avg. Gaussian Time  : 0.3814s  51.66% 
  Avg. Iteration Time : 0.7383s 

real	0m24.610s
user	0m43.172s
sys	0m2.688s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.848077 0.853846
+ echo 'CHUNK 0.848077 0.853846 1'
CHUNK 0.848077 0.853846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.848077 0.853846 1
====================================
         PROGRESS: 0.848077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 018
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1768.82 	 OutFr   0.0000 	 RMSD     2.8975
Iter 002 	 Temp     3.72 	 Delta  1628.65 	 OutFr   0.0000 	 RMSD     2.1251
Iter 003 	 Temp     3.46 	 Delta  1525.19 	 OutFr   0.0000 	 RMSD     2.1116
Iter 004 	 Temp     3.22 	 Delta  1432.20 	 OutFr   0.0000 	 RMSD     2.0903
Iter 005 	 Temp     2.99 	 Delta  1342.78 	 OutFr   0.0000 	 RMSD     2.0689
Iter 006 	 Temp     2.78 	 Delta  1257.27 	 OutFr   0.0000 	 RMSD     2.0500
Iter 007 	 Temp     2.59 	 Delta  1178.43 	 OutFr   0.0000 	 RMSD     2.0344
Iter 008 	 Temp     2.41 	 Delta  1108.85 	 OutFr   0.0000 	 RMSD     2.0217
Iter 009 	 Temp     2.24 	 Delta  1048.98 	 OutFr   0.0000 	 RMSD     2.0119
Iter 010 	 Temp     2.08 	 Delta   996.85 	 OutFr   0.0000 	 RMSD     2.0043
Iter 011 	 Temp     1.94 	 Delta   949.59 	 OutFr   0.0000 	 RMSD     1.9981
Iter 012 	 Temp     1.80 	 Delta   904.90 	 OutFr   0.0000 	 RMSD     1.9932
Iter 013 	 Temp     1.67 	 Delta   861.12 	 OutFr   0.0000 	 RMSD     1.9892
Iter 014 	 Temp     1.56 	 Delta   816.87 	 OutFr   0.0000 	 RMSD     1.9864
Iter 015 	 Temp     1.45 	 Delta   771.12 	 OutFr   0.0000 	 RMSD     1.9850
Iter 016 	 Temp     1.35 	 Delta   723.66 	 OutFr   0.0000 	 RMSD     1.9842
Iter 017 	 Temp     1.25 	 Delta   675.73 	 OutFr   0.0000 	 RMSD     1.9841
Iter 018 	 Temp     1.16 	 Delta   630.13 	 OutFr   0.0054 	 RMSD     1.9838
Iter 019 	 Temp     1.08 	 Delta   588.47 	 OutFr   0.0107 	 RMSD     1.9838
Iter 020 	 Temp     1.01 	 Delta   549.66 	 OutFr   0.0188 	 RMSD     1.9835
Iter 021 	 Temp     0.94 	 Delta   514.91 	 OutFr   0.0241 	 RMSD     1.9830
Iter 022 	 Temp     0.87 	 Delta   484.79 	 OutFr   0.0322 	 RMSD     1.9830
Iter 023 	 Temp     0.81 	 Delta   457.74 	 OutFr   0.0429 	 RMSD     1.9833
Iter 024 	 Temp     0.75 	 Delta   429.69 	 OutFr   0.0590 	 RMSD     1.9834
Iter 025 	 Temp     0.70 	 Delta   398.09 	 OutFr   0.0643 	 RMSD     1.9834
Iter 026 	 Temp     0.65 	 Delta   364.94 	 OutFr   0.0751 	 RMSD     1.9840
Iter 027 	 Temp     0.61 	 Delta   334.20 	 OutFr   0.0965 	 RMSD     1.9852
Iter 028 	 Temp     0.56 	 Delta   305.71 	 OutFr   0.1206 	 RMSD     1.9872
Iter 029 	 Temp     0.52 	 Delta   278.98 	 OutFr   0.1421 	 RMSD     1.9900
Iter 030 	 Temp     0.49 	 Delta   253.96 	 OutFr   0.1769 	 RMSD     1.9937
Iter 031 	 Temp     0.45 	 Delta   229.02 	 OutFr   0.1903 	 RMSD     1.9979
Iter 032 	 Temp     0.42 	 Delta   203.96 	 OutFr   0.2225 	 RMSD     2.0015
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.8UuLJcjJ/mybin.nii.gz
+ vtklevelset /tmp/ashs.8UuLJcjJ/mybin.nii.gz /tmp/ashs.8UuLJcjJ/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.8UuLJcjJ/mymesh.vtk /tmp/ashs.8UuLJcjJ/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2831.74195494   0.96977805
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.8UuLJcjJ/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.5906 to 37.2067
   Y : -22.512 to 16.4853
   Z : 3.64216 to 35.3691
   Image resolution  : 103 by 142 by 120
   Image box origin  : {6.5906, -27.512, -1.35784}
   Image box size    : {35.7639, 49.3055, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.5906, 27.512, -1.35784]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat -o /tmp/ashs.8UuLJcjJ/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat -o /tmp/ashs.8UuLJcjJ/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.8UuLJcjJ/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.853846 0.859615
+ echo 'CHUNK 0.853846 0.859615 0.5'
CHUNK 0.853846 0.859615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.853846 0.859615 0.5
====================================
         PROGRESS: 0.853846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.8UuLJcjJ/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.8UuLJcjJ/fixed_hw.nii.gz /tmp/ashs.8UuLJcjJ/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.657623, moving = 0.58202
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.37221, 2.42484], [0.972649, 0.968452, 0.989938]
Level     0,  Iter     0:    Energy =   0.0636
Level     0,  Iter     1:    Energy =   0.0707
Level     0,  Iter     2:    Energy =   0.0757
Level     0,  Iter     3:    Energy =   0.0800
Level     0,  Iter     4:    Energy =   0.0835
Level     0,  Iter     5:    Energy =   0.0867
Level     0,  Iter     6:    Energy =   0.0895
Level     0,  Iter     7:    Energy =   0.0914
Level     0,  Iter     8:    Energy =   0.0922
Level     0,  Iter     9:    Energy =   0.0924
Level     0,  Iter    10:    Energy =   0.0928
Level     0,  Iter    11:    Energy =   0.0929
Level     0,  Iter    12:    Energy =   0.0932
Level     0,  Iter    13:    Energy =   0.0934
Level     0,  Iter    14:    Energy =   0.0937
Level     0,  Iter    15:    Energy =   0.0937
Level     0,  Iter    16:    Energy =   0.0940
Level     0,  Iter    17:    Energy =   0.0940
Level     0,  Iter    18:    Energy =   0.0943
Level     0,  Iter    19:    Energy =   0.0942
Level     0,  Iter    20:    Energy =   0.0945
Level     0,  Iter    21:    Energy =   0.0943
Level     0,  Iter    22:    Energy =   0.0946
Level     0,  Iter    23:    Energy =   0.0944
Level     0,  Iter    24:    Energy =   0.0948
Level     0,  Iter    25:    Energy =   0.0945
Level     0,  Iter    26:    Energy =   0.0951
Level     0,  Iter    27:    Energy =   0.0948
Level     0,  Iter    28:    Energy =   0.0954
Level     0,  Iter    29:    Energy =   0.0950
Level     0,  Iter    30:    Energy =   0.0956
Level     0,  Iter    31:    Energy =   0.0953
Level     0,  Iter    32:    Energy =   0.0957
Level     0,  Iter    33:    Energy =   0.0952
Level     0,  Iter    34:    Energy =   0.0955
Level     0,  Iter    35:    Energy =   0.0953
Level     0,  Iter    36:    Energy =   0.0955
Level     0,  Iter    37:    Energy =   0.0953
Level     0,  Iter    38:    Energy =   0.0955
Level     0,  Iter    39:    Energy =   0.0954
Level     0,  Iter    40:    Energy =   0.0955
Level     0,  Iter    41:    Energy =   0.0953
Level     0,  Iter    42:    Energy =   0.0955
Level     0,  Iter    43:    Energy =   0.0953
Level     0,  Iter    44:    Energy =   0.0955
Level     0,  Iter    45:    Energy =   0.0953
Level     0,  Iter    46:    Energy =   0.0955
Level     0,  Iter    47:    Energy =   0.0953
Level     0,  Iter    48:    Energy =   0.0955
Level     0,  Iter    49:    Energy =   0.0953
Level     0,  Iter    50:    Energy =   0.0956
Level     0,  Iter    51:    Energy =   0.0953
Level     0,  Iter    52:    Energy =   0.0956
Level     0,  Iter    53:    Energy =   0.0953
Level     0,  Iter    54:    Energy =   0.0956
Level     0,  Iter    55:    Energy =   0.0953
Level     0,  Iter    56:    Energy =   0.0956
Level     0,  Iter    57:    Energy =   0.0953
Level     0,  Iter    58:    Energy =   0.0956
Level     0,  Iter    59:    Energy =   0.0953
END OF LEVEL     0    DetJac Range:   0.3336  to   1.9793 
  Avg. Gradient Time  : 0.0065s  37.12% 
  Avg. Gaussian Time  : 0.0084s  47.58% 
  Avg. Iteration Time : 0.0176s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.20281, 1.21242], [0.486324, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0649
Level     1,  Iter     1:    Energy =   0.0693
Level     1,  Iter     2:    Energy =   0.0724
Level     1,  Iter     3:    Energy =   0.0749
Level     1,  Iter     4:    Energy =   0.0772
Level     1,  Iter     5:    Energy =   0.0786
Level     1,  Iter     6:    Energy =   0.0800
Level     1,  Iter     7:    Energy =   0.0813
Level     1,  Iter     8:    Energy =   0.0823
Level     1,  Iter     9:    Energy =   0.0832
Level     1,  Iter    10:    Energy =   0.0833
Level     1,  Iter    11:    Energy =   0.0838
Level     1,  Iter    12:    Energy =   0.0838
Level     1,  Iter    13:    Energy =   0.0843
Level     1,  Iter    14:    Energy =   0.0843
Level     1,  Iter    15:    Energy =   0.0848
Level     1,  Iter    16:    Energy =   0.0847
Level     1,  Iter    17:    Energy =   0.0851
Level     1,  Iter    18:    Energy =   0.0851
Level     1,  Iter    19:    Energy =   0.0854
Level     1,  Iter    20:    Energy =   0.0854
Level     1,  Iter    21:    Energy =   0.0857
Level     1,  Iter    22:    Energy =   0.0856
Level     1,  Iter    23:    Energy =   0.0859
Level     1,  Iter    24:    Energy =   0.0858
Level     1,  Iter    25:    Energy =   0.0861
Level     1,  Iter    26:    Energy =   0.0860
Level     1,  Iter    27:    Energy =   0.0862
Level     1,  Iter    28:    Energy =   0.0861
Level     1,  Iter    29:    Energy =   0.0864
Level     1,  Iter    30:    Energy =   0.0863
Level     1,  Iter    31:    Energy =   0.0865
Level     1,  Iter    32:    Energy =   0.0864
Level     1,  Iter    33:    Energy =   0.0867
Level     1,  Iter    34:    Energy =   0.0866
Level     1,  Iter    35:    Energy =   0.0869
Level     1,  Iter    36:    Energy =   0.0867
Level     1,  Iter    37:    Energy =   0.0870
Level     1,  Iter    38:    Energy =   0.0868
Level     1,  Iter    39:    Energy =   0.0871
Level     1,  Iter    40:    Energy =   0.0870
Level     1,  Iter    41:    Energy =   0.0872
Level     1,  Iter    42:    Energy =   0.0870
Level     1,  Iter    43:    Energy =   0.0872
Level     1,  Iter    44:    Energy =   0.0871
Level     1,  Iter    45:    Energy =   0.0873
Level     1,  Iter    46:    Energy =   0.0871
Level     1,  Iter    47:    Energy =   0.0873
Level     1,  Iter    48:    Energy =   0.0871
Level     1,  Iter    49:    Energy =   0.0874
Level     1,  Iter    50:    Energy =   0.0872
Level     1,  Iter    51:    Energy =   0.0874
Level     1,  Iter    52:    Energy =   0.0872
Level     1,  Iter    53:    Energy =   0.0874
Level     1,  Iter    54:    Energy =   0.0873
Level     1,  Iter    55:    Energy =   0.0875
Level     1,  Iter    56:    Energy =   0.0873
Level     1,  Iter    57:    Energy =   0.0875
Level     1,  Iter    58:    Energy =   0.0873
Level     1,  Iter    59:    Energy =   0.0875
END OF LEVEL     1    DetJac Range:   0.1253  to   3.3629 
  Avg. Gradient Time  : 0.0391s  40.07% 
  Avg. Gaussian Time  : 0.0469s  48.02% 
  Avg. Iteration Time : 0.0976s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0454
Level     2,  Iter     1:    Energy =   0.0479
Level     2,  Iter     2:    Energy =   0.0499
Level     2,  Iter     3:    Energy =   0.0516
Level     2,  Iter     4:    Energy =   0.0532
Level     2,  Iter     5:    Energy =   0.0544
Level     2,  Iter     6:    Energy =   0.0556
Level     2,  Iter     7:    Energy =   0.0567
Level     2,  Iter     8:    Energy =   0.0577
Level     2,  Iter     9:    Energy =   0.0586
Level     2,  Iter    10:    Energy =   0.0594
Level     2,  Iter    11:    Energy =   0.0601
Level     2,  Iter    12:    Energy =   0.0609
Level     2,  Iter    13:    Energy =   0.0616
Level     2,  Iter    14:    Energy =   0.0621
Level     2,  Iter    15:    Energy =   0.0625
Level     2,  Iter    16:    Energy =   0.0628
Level     2,  Iter    17:    Energy =   0.0631
Level     2,  Iter    18:    Energy =   0.0633
Level     2,  Iter    19:    Energy =   0.0634
END OF LEVEL     2    DetJac Range:   0.0645  to   5.8469 
  Avg. Gradient Time  : 0.2841s  38.10% 
  Avg. Gaussian Time  : 0.3837s  51.45% 
  Avg. Iteration Time : 0.7457s 

real	0m24.741s
user	0m43.636s
sys	0m2.632s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.853846 0.859615
+ echo 'CHUNK 0.853846 0.859615 1'
CHUNK 0.853846 0.859615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.853846 0.859615 1
====================================
         PROGRESS: 0.853846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 019
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1542.02 	 OutFr   0.0027 	 RMSD     2.3890
Iter 002 	 Temp     3.72 	 Delta  1400.76 	 OutFr   0.0054 	 RMSD     2.0818
Iter 003 	 Temp     3.46 	 Delta  1300.77 	 OutFr   0.0054 	 RMSD     2.0845
Iter 004 	 Temp     3.22 	 Delta  1214.94 	 OutFr   0.0080 	 RMSD     2.0680
Iter 005 	 Temp     2.99 	 Delta  1138.54 	 OutFr   0.0080 	 RMSD     2.0495
Iter 006 	 Temp     2.78 	 Delta  1069.38 	 OutFr   0.0080 	 RMSD     2.0325
Iter 007 	 Temp     2.59 	 Delta  1005.85 	 OutFr   0.0107 	 RMSD     2.0176
Iter 008 	 Temp     2.41 	 Delta   947.12 	 OutFr   0.0134 	 RMSD     2.0055
Iter 009 	 Temp     2.24 	 Delta   892.82 	 OutFr   0.0161 	 RMSD     1.9953
Iter 010 	 Temp     2.08 	 Delta   842.35 	 OutFr   0.0161 	 RMSD     1.9871
Iter 011 	 Temp     1.94 	 Delta   795.59 	 OutFr   0.0188 	 RMSD     1.9803
Iter 012 	 Temp     1.80 	 Delta   753.84 	 OutFr   0.0188 	 RMSD     1.9746
Iter 013 	 Temp     1.67 	 Delta   718.99 	 OutFr   0.0188 	 RMSD     1.9693
Iter 014 	 Temp     1.56 	 Delta   691.28 	 OutFr   0.0214 	 RMSD     1.9649
Iter 015 	 Temp     1.45 	 Delta   667.42 	 OutFr   0.0214 	 RMSD     1.9615
Iter 016 	 Temp     1.35 	 Delta   644.01 	 OutFr   0.0214 	 RMSD     1.9587
Iter 017 	 Temp     1.25 	 Delta   619.60 	 OutFr   0.0214 	 RMSD     1.9564
Iter 018 	 Temp     1.16 	 Delta   593.79 	 OutFr   0.0268 	 RMSD     1.9549
Iter 019 	 Temp     1.08 	 Delta   568.26 	 OutFr   0.0268 	 RMSD     1.9544
Iter 020 	 Temp     1.01 	 Delta   545.13 	 OutFr   0.0375 	 RMSD     1.9549
Iter 021 	 Temp     0.94 	 Delta   523.29 	 OutFr   0.0402 	 RMSD     1.9556
Iter 022 	 Temp     0.87 	 Delta   499.73 	 OutFr   0.0483 	 RMSD     1.9563
Iter 023 	 Temp     0.81 	 Delta   473.59 	 OutFr   0.0509 	 RMSD     1.9566
Iter 024 	 Temp     0.75 	 Delta   446.40 	 OutFr   0.0670 	 RMSD     1.9563
Iter 025 	 Temp     0.70 	 Delta   419.06 	 OutFr   0.0724 	 RMSD     1.9552
Iter 026 	 Temp     0.65 	 Delta   390.84 	 OutFr   0.0885 	 RMSD     1.9531
Iter 027 	 Temp     0.61 	 Delta   360.14 	 OutFr   0.1072 	 RMSD     1.9503
Iter 028 	 Temp     0.56 	 Delta   327.52 	 OutFr   0.1314 	 RMSD     1.9466
Iter 029 	 Temp     0.52 	 Delta   295.65 	 OutFr   0.1555 	 RMSD     1.9434
Iter 030 	 Temp     0.49 	 Delta   265.73 	 OutFr   0.1984 	 RMSD     1.9407
Iter 031 	 Temp     0.45 	 Delta   240.82 	 OutFr   0.2413 	 RMSD     1.9374
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.0RKGkJg4/mybin.nii.gz
+ vtklevelset /tmp/ashs.0RKGkJg4/mybin.nii.gz /tmp/ashs.0RKGkJg4/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.0RKGkJg4/mymesh.vtk /tmp/ashs.0RKGkJg4/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 3045.79594539   1.04308446
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.0RKGkJg4/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.17191 to 35.0322
   Y : -16.6035 to 24.4949
   Z : -8.82684 to 26.5759
   Image resolution  : 104 by 148 by 130
   Image box origin  : {4.17191, -21.6035, -13.8268}
   Image box size    : {36.1111, 51.3889, 45.4995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.17191, 21.6035, -13.8268]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat -o /tmp/ashs.0RKGkJg4/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat -o /tmp/ashs.0RKGkJg4/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.0RKGkJg4/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.859615 0.865385
+ echo 'CHUNK 0.859615 0.865385 0.5'
CHUNK 0.859615 0.865385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.859615 0.865385 0.5
====================================
         PROGRESS: 0.859615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.0RKGkJg4/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.0RKGkJg4/fixed_hw.nii.gz /tmp/ashs.0RKGkJg4/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.619492, moving = 0.480191
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.3881], [0.982092, 0.982092, 0.974939]
Level     0,  Iter     0:    Energy =   0.0398
Level     0,  Iter     1:    Energy =   0.0446
Level     0,  Iter     2:    Energy =   0.0493
Level     0,  Iter     3:    Energy =   0.0534
Level     0,  Iter     4:    Energy =   0.0562
Level     0,  Iter     5:    Energy =   0.0587
Level     0,  Iter     6:    Energy =   0.0613
Level     0,  Iter     7:    Energy =   0.0633
Level     0,  Iter     8:    Energy =   0.0645
Level     0,  Iter     9:    Energy =   0.0652
Level     0,  Iter    10:    Energy =   0.0659
Level     0,  Iter    11:    Energy =   0.0663
Level     0,  Iter    12:    Energy =   0.0672
Level     0,  Iter    13:    Energy =   0.0675
Level     0,  Iter    14:    Energy =   0.0683
Level     0,  Iter    15:    Energy =   0.0684
Level     0,  Iter    16:    Energy =   0.0691
Level     0,  Iter    17:    Energy =   0.0691
Level     0,  Iter    18:    Energy =   0.0698
Level     0,  Iter    19:    Energy =   0.0698
Level     0,  Iter    20:    Energy =   0.0704
Level     0,  Iter    21:    Energy =   0.0703
Level     0,  Iter    22:    Energy =   0.0708
Level     0,  Iter    23:    Energy =   0.0707
Level     0,  Iter    24:    Energy =   0.0712
Level     0,  Iter    25:    Energy =   0.0711
Level     0,  Iter    26:    Energy =   0.0715
Level     0,  Iter    27:    Energy =   0.0713
Level     0,  Iter    28:    Energy =   0.0717
Level     0,  Iter    29:    Energy =   0.0715
Level     0,  Iter    30:    Energy =   0.0719
Level     0,  Iter    31:    Energy =   0.0718
Level     0,  Iter    32:    Energy =   0.0722
Level     0,  Iter    33:    Energy =   0.0720
Level     0,  Iter    34:    Energy =   0.0724
Level     0,  Iter    35:    Energy =   0.0722
Level     0,  Iter    36:    Energy =   0.0726
Level     0,  Iter    37:    Energy =   0.0724
Level     0,  Iter    38:    Energy =   0.0727
Level     0,  Iter    39:    Energy =   0.0725
Level     0,  Iter    40:    Energy =   0.0730
Level     0,  Iter    41:    Energy =   0.0728
Level     0,  Iter    42:    Energy =   0.0733
Level     0,  Iter    43:    Energy =   0.0730
Level     0,  Iter    44:    Energy =   0.0735
Level     0,  Iter    45:    Energy =   0.0732
Level     0,  Iter    46:    Energy =   0.0735
Level     0,  Iter    47:    Energy =   0.0732
Level     0,  Iter    48:    Energy =   0.0734
Level     0,  Iter    49:    Energy =   0.0731
Level     0,  Iter    50:    Energy =   0.0736
Level     0,  Iter    51:    Energy =   0.0732
Level     0,  Iter    52:    Energy =   0.0734
Level     0,  Iter    53:    Energy =   0.0731
Level     0,  Iter    54:    Energy =   0.0736
Level     0,  Iter    55:    Energy =   0.0733
Level     0,  Iter    56:    Energy =   0.0738
Level     0,  Iter    57:    Energy =   0.0735
Level     0,  Iter    58:    Energy =   0.0738
Level     0,  Iter    59:    Energy =   0.0735
END OF LEVEL     0    DetJac Range:   0.2589  to   2.1237 
  Avg. Gradient Time  : 0.0084s  37.54% 
  Avg. Gaussian Time  : 0.0106s  47.14% 
  Avg. Iteration Time : 0.0225s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0586
Level     1,  Iter     1:    Energy =   0.0621
Level     1,  Iter     2:    Energy =   0.0652
Level     1,  Iter     3:    Energy =   0.0675
Level     1,  Iter     4:    Energy =   0.0689
Level     1,  Iter     5:    Energy =   0.0700
Level     1,  Iter     6:    Energy =   0.0709
Level     1,  Iter     7:    Energy =   0.0717
Level     1,  Iter     8:    Energy =   0.0725
Level     1,  Iter     9:    Energy =   0.0733
Level     1,  Iter    10:    Energy =   0.0740
Level     1,  Iter    11:    Energy =   0.0748
Level     1,  Iter    12:    Energy =   0.0755
Level     1,  Iter    13:    Energy =   0.0762
Level     1,  Iter    14:    Energy =   0.0767
Level     1,  Iter    15:    Energy =   0.0774
Level     1,  Iter    16:    Energy =   0.0779
Level     1,  Iter    17:    Energy =   0.0780
Level     1,  Iter    18:    Energy =   0.0779
Level     1,  Iter    19:    Energy =   0.0781
Level     1,  Iter    20:    Energy =   0.0782
Level     1,  Iter    21:    Energy =   0.0782
Level     1,  Iter    22:    Energy =   0.0783
Level     1,  Iter    23:    Energy =   0.0784
Level     1,  Iter    24:    Energy =   0.0784
Level     1,  Iter    25:    Energy =   0.0786
Level     1,  Iter    26:    Energy =   0.0786
Level     1,  Iter    27:    Energy =   0.0787
Level     1,  Iter    28:    Energy =   0.0787
Level     1,  Iter    29:    Energy =   0.0788
Level     1,  Iter    30:    Energy =   0.0788
Level     1,  Iter    31:    Energy =   0.0789
Level     1,  Iter    32:    Energy =   0.0789
Level     1,  Iter    33:    Energy =   0.0791
Level     1,  Iter    34:    Energy =   0.0790
Level     1,  Iter    35:    Energy =   0.0792
Level     1,  Iter    36:    Energy =   0.0791
Level     1,  Iter    37:    Energy =   0.0792
Level     1,  Iter    38:    Energy =   0.0792
Level     1,  Iter    39:    Energy =   0.0793
Level     1,  Iter    40:    Energy =   0.0792
Level     1,  Iter    41:    Energy =   0.0793
Level     1,  Iter    42:    Energy =   0.0793
Level     1,  Iter    43:    Energy =   0.0793
Level     1,  Iter    44:    Energy =   0.0793
Level     1,  Iter    45:    Energy =   0.0794
Level     1,  Iter    46:    Energy =   0.0793
Level     1,  Iter    47:    Energy =   0.0794
Level     1,  Iter    48:    Energy =   0.0794
Level     1,  Iter    49:    Energy =   0.0794
Level     1,  Iter    50:    Energy =   0.0794
Level     1,  Iter    51:    Energy =   0.0795
Level     1,  Iter    52:    Energy =   0.0794
Level     1,  Iter    53:    Energy =   0.0795
Level     1,  Iter    54:    Energy =   0.0794
Level     1,  Iter    55:    Energy =   0.0795
Level     1,  Iter    56:    Energy =   0.0795
Level     1,  Iter    57:    Energy =   0.0795
Level     1,  Iter    58:    Energy =   0.0795
Level     1,  Iter    59:    Energy =   0.0795
END OF LEVEL     1    DetJac Range:   0.0377  to   3.6999 
  Avg. Gradient Time  : 0.0486s  39.56% 
  Avg. Gaussian Time  : 0.0595s  48.36% 
  Avg. Iteration Time : 0.1229s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0418
Level     2,  Iter     1:    Energy =   0.0437
Level     2,  Iter     2:    Energy =   0.0455
Level     2,  Iter     3:    Energy =   0.0470
Level     2,  Iter     4:    Energy =   0.0484
Level     2,  Iter     5:    Energy =   0.0497
Level     2,  Iter     6:    Energy =   0.0508
Level     2,  Iter     7:    Energy =   0.0519
Level     2,  Iter     8:    Energy =   0.0528
Level     2,  Iter     9:    Energy =   0.0536
Level     2,  Iter    10:    Energy =   0.0544
Level     2,  Iter    11:    Energy =   0.0551
Level     2,  Iter    12:    Energy =   0.0558
Level     2,  Iter    13:    Energy =   0.0565
Level     2,  Iter    14:    Energy =   0.0571
Level     2,  Iter    15:    Energy =   0.0577
Level     2,  Iter    16:    Energy =   0.0583
Level     2,  Iter    17:    Energy =   0.0588
Level     2,  Iter    18:    Energy =   0.0592
Level     2,  Iter    19:    Energy =   0.0596
END OF LEVEL     2    DetJac Range:   0.0287  to   7.4346 
  Avg. Gradient Time  : 0.3512s  37.42% 
  Avg. Gaussian Time  : 0.4885s  52.05% 
  Avg. Iteration Time : 0.9386s 

real	0m31.109s
user	0m55.144s
sys	0m3.108s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.859615 0.865385
+ echo 'CHUNK 0.859615 0.865385 1'
CHUNK 0.859615 0.865385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.859615 0.865385 1
====================================
         PROGRESS: 0.859615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 020
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2049.21 	 OutFr   0.0000 	 RMSD     2.3967
Iter 002 	 Temp     3.72 	 Delta  1882.61 	 OutFr   0.0000 	 RMSD     2.2985
Iter 003 	 Temp     3.46 	 Delta  1728.24 	 OutFr   0.0027 	 RMSD     2.2803
Iter 004 	 Temp     3.22 	 Delta  1618.03 	 OutFr   0.0027 	 RMSD     2.2604
Iter 005 	 Temp     2.99 	 Delta  1537.45 	 OutFr   0.0027 	 RMSD     2.2413
Iter 006 	 Temp     2.78 	 Delta  1473.07 	 OutFr   0.0027 	 RMSD     2.2278
Iter 007 	 Temp     2.59 	 Delta  1418.48 	 OutFr   0.0027 	 RMSD     2.2180
Iter 008 	 Temp     2.41 	 Delta  1370.49 	 OutFr   0.0027 	 RMSD     2.2101
Iter 009 	 Temp     2.24 	 Delta  1327.19 	 OutFr   0.0027 	 RMSD     2.2035
Iter 010 	 Temp     2.08 	 Delta  1287.17 	 OutFr   0.0054 	 RMSD     2.1984
Iter 011 	 Temp     1.94 	 Delta  1248.73 	 OutFr   0.0080 	 RMSD     2.1944
Iter 012 	 Temp     1.80 	 Delta  1208.01 	 OutFr   0.0080 	 RMSD     2.1913
Iter 013 	 Temp     1.67 	 Delta  1160.74 	 OutFr   0.0080 	 RMSD     2.1879
Iter 014 	 Temp     1.56 	 Delta  1104.98 	 OutFr   0.0080 	 RMSD     2.1841
Iter 015 	 Temp     1.45 	 Delta  1040.89 	 OutFr   0.0107 	 RMSD     2.1799
Iter 016 	 Temp     1.35 	 Delta   970.45 	 OutFr   0.0188 	 RMSD     2.1755
Iter 017 	 Temp     1.25 	 Delta   897.19 	 OutFr   0.0241 	 RMSD     2.1708
Iter 018 	 Temp     1.16 	 Delta   827.90 	 OutFr   0.0322 	 RMSD     2.1653
Iter 019 	 Temp     1.08 	 Delta   768.37 	 OutFr   0.0349 	 RMSD     2.1603
Iter 020 	 Temp     1.01 	 Delta   713.20 	 OutFr   0.0483 	 RMSD     2.1578
Iter 021 	 Temp     0.94 	 Delta   657.79 	 OutFr   0.0617 	 RMSD     2.1576
Iter 022 	 Temp     0.87 	 Delta   599.86 	 OutFr   0.0697 	 RMSD     2.1591
Iter 023 	 Temp     0.81 	 Delta   540.85 	 OutFr   0.0858 	 RMSD     2.1626
Iter 024 	 Temp     0.75 	 Delta   485.80 	 OutFr   0.1126 	 RMSD     2.1681
Iter 025 	 Temp     0.70 	 Delta   432.57 	 OutFr   0.1314 	 RMSD     2.1753
Iter 026 	 Temp     0.65 	 Delta   384.49 	 OutFr   0.1635 	 RMSD     2.1834
Iter 027 	 Temp     0.61 	 Delta   345.85 	 OutFr   0.1769 	 RMSD     2.1922
Iter 028 	 Temp     0.56 	 Delta   313.86 	 OutFr   0.2064 	 RMSD     2.2009
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.riNwF8cC/mybin.nii.gz
+ vtklevelset /tmp/ashs.riNwF8cC/mybin.nii.gz /tmp/ashs.riNwF8cC/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.riNwF8cC/mymesh.vtk /tmp/ashs.riNwF8cC/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 3116.82905412   1.06741096
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.riNwF8cC/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.475 to 36.8165
   Y : -19.2238 to 20.484
   Z : -8.6692 to 30.5421
   Image resolution  : 105 by 144 by 141
   Image box origin  : {5.475, -24.2238, -13.6692}
   Image box size    : {36.4583, 50, 49.3494}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.475, 24.2238, -13.6692]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat -o /tmp/ashs.riNwF8cC/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat -o /tmp/ashs.riNwF8cC/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.riNwF8cC/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.865385 0.871154
+ echo 'CHUNK 0.865385 0.871154 0.5'
CHUNK 0.865385 0.871154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.865385 0.871154 0.5
====================================
         PROGRESS: 0.865385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.riNwF8cC/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.riNwF8cC/fixed_hw.nii.gz /tmp/ashs.riNwF8cC/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.61916, moving = 0.494956
LEVEL 1 of 3
  Smoothing sigmas: [2.3388, 2.40562, 2.37433], [0.954812, 0.982092, 0.969314]
Level     0,  Iter     0:    Energy =   0.0419
Level     0,  Iter     1:    Energy =   0.0467
Level     0,  Iter     2:    Energy =   0.0521
Level     0,  Iter     3:    Energy =   0.0565
Level     0,  Iter     4:    Energy =   0.0604
Level     0,  Iter     5:    Energy =   0.0635
Level     0,  Iter     6:    Energy =   0.0653
Level     0,  Iter     7:    Energy =   0.0662
Level     0,  Iter     8:    Energy =   0.0674
Level     0,  Iter     9:    Energy =   0.0681
Level     0,  Iter    10:    Energy =   0.0693
Level     0,  Iter    11:    Energy =   0.0697
Level     0,  Iter    12:    Energy =   0.0703
Level     0,  Iter    13:    Energy =   0.0705
Level     0,  Iter    14:    Energy =   0.0713
Level     0,  Iter    15:    Energy =   0.0713
Level     0,  Iter    16:    Energy =   0.0717
Level     0,  Iter    17:    Energy =   0.0718
Level     0,  Iter    18:    Energy =   0.0721
Level     0,  Iter    19:    Energy =   0.0722
Level     0,  Iter    20:    Energy =   0.0725
Level     0,  Iter    21:    Energy =   0.0725
Level     0,  Iter    22:    Energy =   0.0727
Level     0,  Iter    23:    Energy =   0.0727
Level     0,  Iter    24:    Energy =   0.0728
Level     0,  Iter    25:    Energy =   0.0728
Level     0,  Iter    26:    Energy =   0.0728
Level     0,  Iter    27:    Energy =   0.0732
Level     0,  Iter    28:    Energy =   0.0730
Level     0,  Iter    29:    Energy =   0.0733
Level     0,  Iter    30:    Energy =   0.0733
Level     0,  Iter    31:    Energy =   0.0736
Level     0,  Iter    32:    Energy =   0.0736
Level     0,  Iter    33:    Energy =   0.0739
Level     0,  Iter    34:    Energy =   0.0738
Level     0,  Iter    35:    Energy =   0.0740
Level     0,  Iter    36:    Energy =   0.0740
Level     0,  Iter    37:    Energy =   0.0744
Level     0,  Iter    38:    Energy =   0.0742
Level     0,  Iter    39:    Energy =   0.0744
Level     0,  Iter    40:    Energy =   0.0744
Level     0,  Iter    41:    Energy =   0.0745
Level     0,  Iter    42:    Energy =   0.0746
Level     0,  Iter    43:    Energy =   0.0748
Level     0,  Iter    44:    Energy =   0.0747
Level     0,  Iter    45:    Energy =   0.0749
Level     0,  Iter    46:    Energy =   0.0749
Level     0,  Iter    47:    Energy =   0.0750
Level     0,  Iter    48:    Energy =   0.0750
Level     0,  Iter    49:    Energy =   0.0752
Level     0,  Iter    50:    Energy =   0.0751
Level     0,  Iter    51:    Energy =   0.0753
Level     0,  Iter    52:    Energy =   0.0751
Level     0,  Iter    53:    Energy =   0.0755
Level     0,  Iter    54:    Energy =   0.0752
Level     0,  Iter    55:    Energy =   0.0756
Level     0,  Iter    56:    Energy =   0.0753
Level     0,  Iter    57:    Energy =   0.0756
Level     0,  Iter    58:    Energy =   0.0753
Level     0,  Iter    59:    Energy =   0.0757
END OF LEVEL     0    DetJac Range:   0.2511  to   1.8775 
  Avg. Gradient Time  : 0.0092s  37.56% 
  Avg. Gaussian Time  : 0.0115s  47.09% 
  Avg. Iteration Time : 0.0245s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19147, 1.20281, 1.20388], [0.486414, 0.491046, 0.491483]
Level     1,  Iter     0:    Energy =   0.0531
Level     1,  Iter     1:    Energy =   0.0559
Level     1,  Iter     2:    Energy =   0.0587
Level     1,  Iter     3:    Energy =   0.0615
Level     1,  Iter     4:    Energy =   0.0635
Level     1,  Iter     5:    Energy =   0.0650
Level     1,  Iter     6:    Energy =   0.0663
Level     1,  Iter     7:    Energy =   0.0673
Level     1,  Iter     8:    Energy =   0.0681
Level     1,  Iter     9:    Energy =   0.0686
Level     1,  Iter    10:    Energy =   0.0690
Level     1,  Iter    11:    Energy =   0.0695
Level     1,  Iter    12:    Energy =   0.0697
Level     1,  Iter    13:    Energy =   0.0702
Level     1,  Iter    14:    Energy =   0.0703
Level     1,  Iter    15:    Energy =   0.0707
Level     1,  Iter    16:    Energy =   0.0708
Level     1,  Iter    17:    Energy =   0.0710
Level     1,  Iter    18:    Energy =   0.0711
Level     1,  Iter    19:    Energy =   0.0714
Level     1,  Iter    20:    Energy =   0.0714
Level     1,  Iter    21:    Energy =   0.0716
Level     1,  Iter    22:    Energy =   0.0717
Level     1,  Iter    23:    Energy =   0.0718
Level     1,  Iter    24:    Energy =   0.0719
Level     1,  Iter    25:    Energy =   0.0720
Level     1,  Iter    26:    Energy =   0.0720
Level     1,  Iter    27:    Energy =   0.0721
Level     1,  Iter    28:    Energy =   0.0722
Level     1,  Iter    29:    Energy =   0.0723
Level     1,  Iter    30:    Energy =   0.0723
Level     1,  Iter    31:    Energy =   0.0724
Level     1,  Iter    32:    Energy =   0.0725
Level     1,  Iter    33:    Energy =   0.0725
Level     1,  Iter    34:    Energy =   0.0726
Level     1,  Iter    35:    Energy =   0.0727
Level     1,  Iter    36:    Energy =   0.0728
Level     1,  Iter    37:    Energy =   0.0728
Level     1,  Iter    38:    Energy =   0.0729
Level     1,  Iter    39:    Energy =   0.0729
Level     1,  Iter    40:    Energy =   0.0730
Level     1,  Iter    41:    Energy =   0.0730
Level     1,  Iter    42:    Energy =   0.0730
Level     1,  Iter    43:    Energy =   0.0731
Level     1,  Iter    44:    Energy =   0.0731
Level     1,  Iter    45:    Energy =   0.0732
Level     1,  Iter    46:    Energy =   0.0732
Level     1,  Iter    47:    Energy =   0.0732
Level     1,  Iter    48:    Energy =   0.0733
Level     1,  Iter    49:    Energy =   0.0732
Level     1,  Iter    50:    Energy =   0.0733
Level     1,  Iter    51:    Energy =   0.0733
Level     1,  Iter    52:    Energy =   0.0734
Level     1,  Iter    53:    Energy =   0.0734
Level     1,  Iter    54:    Energy =   0.0734
Level     1,  Iter    55:    Energy =   0.0734
Level     1,  Iter    56:    Energy =   0.0735
Level     1,  Iter    57:    Energy =   0.0735
Level     1,  Iter    58:    Energy =   0.0736
Level     1,  Iter    59:    Energy =   0.0735
END OF LEVEL     1    DetJac Range:   0.0778  to   3.1179 
  Avg. Gradient Time  : 0.0530s  39.65% 
  Avg. Gaussian Time  : 0.0645s  48.27% 
  Avg. Iteration Time : 0.1336s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0388
Level     2,  Iter     1:    Energy =   0.0410
Level     2,  Iter     2:    Energy =   0.0432
Level     2,  Iter     3:    Energy =   0.0450
Level     2,  Iter     4:    Energy =   0.0466
Level     2,  Iter     5:    Energy =   0.0480
Level     2,  Iter     6:    Energy =   0.0491
Level     2,  Iter     7:    Energy =   0.0500
Level     2,  Iter     8:    Energy =   0.0511
Level     2,  Iter     9:    Energy =   0.0521
Level     2,  Iter    10:    Energy =   0.0530
Level     2,  Iter    11:    Energy =   0.0536
Level     2,  Iter    12:    Energy =   0.0541
Level     2,  Iter    13:    Energy =   0.0546
Level     2,  Iter    14:    Energy =   0.0550
Level     2,  Iter    15:    Energy =   0.0554
Level     2,  Iter    16:    Energy =   0.0557
Level     2,  Iter    17:    Energy =   0.0560
Level     2,  Iter    18:    Energy =   0.0563
Level     2,  Iter    19:    Energy =   0.0566
END OF LEVEL     2    DetJac Range:   0.0368  to   5.2465 
  Avg. Gradient Time  : 0.3724s  36.77% 
  Avg. Gaussian Time  : 0.5341s  52.74% 
  Avg. Iteration Time : 1.0127s 

real	0m33.955s
user	1m0.068s
sys	0m3.492s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.865385 0.871154
+ echo 'CHUNK 0.865385 0.871154 1'
CHUNK 0.865385 0.871154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.865385 0.871154 1
====================================
         PROGRESS: 0.865385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 021
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2320.51 	 OutFr   0.0054 	 RMSD     4.1868
Iter 002 	 Temp     3.72 	 Delta  1888.57 	 OutFr   0.0027 	 RMSD     2.3369
Iter 003 	 Temp     3.46 	 Delta  1748.87 	 OutFr   0.0027 	 RMSD     2.2140
Iter 004 	 Temp     3.22 	 Delta  1637.06 	 OutFr   0.0027 	 RMSD     2.1620
Iter 005 	 Temp     2.99 	 Delta  1537.78 	 OutFr   0.0027 	 RMSD     2.1327
Iter 006 	 Temp     2.78 	 Delta  1447.64 	 OutFr   0.0027 	 RMSD     2.1145
Iter 007 	 Temp     2.59 	 Delta  1365.51 	 OutFr   0.0027 	 RMSD     2.1036
Iter 008 	 Temp     2.41 	 Delta  1291.90 	 OutFr   0.0027 	 RMSD     2.0956
Iter 009 	 Temp     2.24 	 Delta  1228.55 	 OutFr   0.0027 	 RMSD     2.0895
Iter 010 	 Temp     2.08 	 Delta  1176.35 	 OutFr   0.0027 	 RMSD     2.0847
Iter 011 	 Temp     1.94 	 Delta  1132.49 	 OutFr   0.0027 	 RMSD     2.0811
Iter 012 	 Temp     1.80 	 Delta  1091.56 	 OutFr   0.0027 	 RMSD     2.0787
Iter 013 	 Temp     1.67 	 Delta  1049.42 	 OutFr   0.0027 	 RMSD     2.0772
Iter 014 	 Temp     1.56 	 Delta  1003.34 	 OutFr   0.0080 	 RMSD     2.0761
Iter 015 	 Temp     1.45 	 Delta   952.08 	 OutFr   0.0134 	 RMSD     2.0754
Iter 016 	 Temp     1.35 	 Delta   897.13 	 OutFr   0.0134 	 RMSD     2.0746
Iter 017 	 Temp     1.25 	 Delta   843.13 	 OutFr   0.0188 	 RMSD     2.0737
Iter 018 	 Temp     1.16 	 Delta   795.25 	 OutFr   0.0214 	 RMSD     2.0727
Iter 019 	 Temp     1.08 	 Delta   753.93 	 OutFr   0.0268 	 RMSD     2.0718
Iter 020 	 Temp     1.01 	 Delta   715.35 	 OutFr   0.0322 	 RMSD     2.0712
Iter 021 	 Temp     0.94 	 Delta   675.78 	 OutFr   0.0349 	 RMSD     2.0708
Iter 022 	 Temp     0.87 	 Delta   632.85 	 OutFr   0.0429 	 RMSD     2.0703
Iter 023 	 Temp     0.81 	 Delta   586.71 	 OutFr   0.0563 	 RMSD     2.0700
Iter 024 	 Temp     0.75 	 Delta   540.56 	 OutFr   0.0670 	 RMSD     2.0696
Iter 025 	 Temp     0.70 	 Delta   497.02 	 OutFr   0.0938 	 RMSD     2.0697
Iter 026 	 Temp     0.65 	 Delta   453.77 	 OutFr   0.1046 	 RMSD     2.0698
Iter 027 	 Temp     0.61 	 Delta   408.93 	 OutFr   0.1233 	 RMSD     2.0703
Iter 028 	 Temp     0.56 	 Delta   362.48 	 OutFr   0.1662 	 RMSD     2.0718
Iter 029 	 Temp     0.52 	 Delta   316.24 	 OutFr   0.1930 	 RMSD     2.0742
Iter 030 	 Temp     0.49 	 Delta   272.16 	 OutFr   0.2520 	 RMSD     2.0769
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.IPk0ccyH/mybin.nii.gz
+ vtklevelset /tmp/ashs.IPk0ccyH/mybin.nii.gz /tmp/ashs.IPk0ccyH/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.IPk0ccyH/mymesh.vtk /tmp/ashs.IPk0ccyH/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2917.13684434   0.99902297
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.IPk0ccyH/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.8054 to 36.202
   Y : -19.9529 to 22.5473
   Z : -28.1241 to 3.17156
   Image resolution  : 97 by 152 by 118
   Image box origin  : {7.8054, -24.9529, -33.1241}
   Image box size    : {33.6805, 52.7777, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.8054, 24.9529, -33.1241]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat -o /tmp/ashs.IPk0ccyH/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat -o /tmp/ashs.IPk0ccyH/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.IPk0ccyH/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.871154 0.876923
+ echo 'CHUNK 0.871154 0.876923 0.5'
CHUNK 0.871154 0.876923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.871154 0.876923 0.5
====================================
         PROGRESS: 0.871154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.IPk0ccyH/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.IPk0ccyH/fixed_hw.nii.gz /tmp/ashs.IPk0ccyH/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.660668, moving = 0.665735
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.40562, 2.38443], [0.952629, 0.982092, 0.973439]
Level     0,  Iter     0:    Energy =   0.0420
Level     0,  Iter     1:    Energy =   0.0463
Level     0,  Iter     2:    Energy =   0.0511
Level     0,  Iter     3:    Energy =   0.0556
Level     0,  Iter     4:    Energy =   0.0594
Level     0,  Iter     5:    Energy =   0.0632
Level     0,  Iter     6:    Energy =   0.0667
Level     0,  Iter     7:    Energy =   0.0694
Level     0,  Iter     8:    Energy =   0.0713
Level     0,  Iter     9:    Energy =   0.0732
Level     0,  Iter    10:    Energy =   0.0747
Level     0,  Iter    11:    Energy =   0.0760
Level     0,  Iter    12:    Energy =   0.0772
Level     0,  Iter    13:    Energy =   0.0783
Level     0,  Iter    14:    Energy =   0.0794
Level     0,  Iter    15:    Energy =   0.0806
Level     0,  Iter    16:    Energy =   0.0820
Level     0,  Iter    17:    Energy =   0.0829
Level     0,  Iter    18:    Energy =   0.0834
Level     0,  Iter    19:    Energy =   0.0831
Level     0,  Iter    20:    Energy =   0.0836
Level     0,  Iter    21:    Energy =   0.0832
Level     0,  Iter    22:    Energy =   0.0835
Level     0,  Iter    23:    Energy =   0.0834
Level     0,  Iter    24:    Energy =   0.0837
Level     0,  Iter    25:    Energy =   0.0836
Level     0,  Iter    26:    Energy =   0.0838
Level     0,  Iter    27:    Energy =   0.0836
Level     0,  Iter    28:    Energy =   0.0839
Level     0,  Iter    29:    Energy =   0.0837
Level     0,  Iter    30:    Energy =   0.0840
Level     0,  Iter    31:    Energy =   0.0838
Level     0,  Iter    32:    Energy =   0.0841
Level     0,  Iter    33:    Energy =   0.0839
Level     0,  Iter    34:    Energy =   0.0842
Level     0,  Iter    35:    Energy =   0.0840
Level     0,  Iter    36:    Energy =   0.0842
Level     0,  Iter    37:    Energy =   0.0840
Level     0,  Iter    38:    Energy =   0.0843
Level     0,  Iter    39:    Energy =   0.0841
Level     0,  Iter    40:    Energy =   0.0844
Level     0,  Iter    41:    Energy =   0.0841
Level     0,  Iter    42:    Energy =   0.0845
Level     0,  Iter    43:    Energy =   0.0842
Level     0,  Iter    44:    Energy =   0.0845
Level     0,  Iter    45:    Energy =   0.0843
Level     0,  Iter    46:    Energy =   0.0845
Level     0,  Iter    47:    Energy =   0.0844
Level     0,  Iter    48:    Energy =   0.0846
Level     0,  Iter    49:    Energy =   0.0844
Level     0,  Iter    50:    Energy =   0.0847
Level     0,  Iter    51:    Energy =   0.0845
Level     0,  Iter    52:    Energy =   0.0848
Level     0,  Iter    53:    Energy =   0.0845
Level     0,  Iter    54:    Energy =   0.0848
Level     0,  Iter    55:    Energy =   0.0846
Level     0,  Iter    56:    Energy =   0.0848
Level     0,  Iter    57:    Energy =   0.0846
Level     0,  Iter    58:    Energy =   0.0849
Level     0,  Iter    59:    Energy =   0.0847
END OF LEVEL     0    DetJac Range:   0.2467  to   2.1509 
  Avg. Gradient Time  : 0.0075s  37.85% 
  Avg. Gaussian Time  : 0.0092s  46.68% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.21242], [0.486035, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0577
Level     1,  Iter     1:    Energy =   0.0614
Level     1,  Iter     2:    Energy =   0.0645
Level     1,  Iter     3:    Energy =   0.0668
Level     1,  Iter     4:    Energy =   0.0693
Level     1,  Iter     5:    Energy =   0.0714
Level     1,  Iter     6:    Energy =   0.0733
Level     1,  Iter     7:    Energy =   0.0747
Level     1,  Iter     8:    Energy =   0.0752
Level     1,  Iter     9:    Energy =   0.0757
Level     1,  Iter    10:    Energy =   0.0759
Level     1,  Iter    11:    Energy =   0.0765
Level     1,  Iter    12:    Energy =   0.0766
Level     1,  Iter    13:    Energy =   0.0771
Level     1,  Iter    14:    Energy =   0.0772
Level     1,  Iter    15:    Energy =   0.0777
Level     1,  Iter    16:    Energy =   0.0777
Level     1,  Iter    17:    Energy =   0.0782
Level     1,  Iter    18:    Energy =   0.0782
Level     1,  Iter    19:    Energy =   0.0786
Level     1,  Iter    20:    Energy =   0.0786
Level     1,  Iter    21:    Energy =   0.0789
Level     1,  Iter    22:    Energy =   0.0789
Level     1,  Iter    23:    Energy =   0.0791
Level     1,  Iter    24:    Energy =   0.0791
Level     1,  Iter    25:    Energy =   0.0792
Level     1,  Iter    26:    Energy =   0.0791
Level     1,  Iter    27:    Energy =   0.0793
Level     1,  Iter    28:    Energy =   0.0792
Level     1,  Iter    29:    Energy =   0.0793
Level     1,  Iter    30:    Energy =   0.0793
Level     1,  Iter    31:    Energy =   0.0794
Level     1,  Iter    32:    Energy =   0.0794
Level     1,  Iter    33:    Energy =   0.0794
Level     1,  Iter    34:    Energy =   0.0794
Level     1,  Iter    35:    Energy =   0.0795
Level     1,  Iter    36:    Energy =   0.0795
Level     1,  Iter    37:    Energy =   0.0796
Level     1,  Iter    38:    Energy =   0.0796
Level     1,  Iter    39:    Energy =   0.0797
Level     1,  Iter    40:    Energy =   0.0796
Level     1,  Iter    41:    Energy =   0.0798
Level     1,  Iter    42:    Energy =   0.0797
Level     1,  Iter    43:    Energy =   0.0798
Level     1,  Iter    44:    Energy =   0.0798
Level     1,  Iter    45:    Energy =   0.0799
Level     1,  Iter    46:    Energy =   0.0799
Level     1,  Iter    47:    Energy =   0.0800
Level     1,  Iter    48:    Energy =   0.0799
Level     1,  Iter    49:    Energy =   0.0800
Level     1,  Iter    50:    Energy =   0.0800
Level     1,  Iter    51:    Energy =   0.0801
Level     1,  Iter    52:    Energy =   0.0800
Level     1,  Iter    53:    Energy =   0.0801
Level     1,  Iter    54:    Energy =   0.0801
Level     1,  Iter    55:    Energy =   0.0802
Level     1,  Iter    56:    Energy =   0.0801
Level     1,  Iter    57:    Energy =   0.0802
Level     1,  Iter    58:    Energy =   0.0802
Level     1,  Iter    59:    Energy =   0.0803
END OF LEVEL     1    DetJac Range:   0.1273  to   2.8200 
  Avg. Gradient Time  : 0.0435s  40.11% 
  Avg. Gaussian Time  : 0.0521s  48.04% 
  Avg. Iteration Time : 0.1085s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0410
Level     2,  Iter     1:    Energy =   0.0434
Level     2,  Iter     2:    Energy =   0.0451
Level     2,  Iter     3:    Energy =   0.0468
Level     2,  Iter     4:    Energy =   0.0487
Level     2,  Iter     5:    Energy =   0.0500
Level     2,  Iter     6:    Energy =   0.0510
Level     2,  Iter     7:    Energy =   0.0521
Level     2,  Iter     8:    Energy =   0.0532
Level     2,  Iter     9:    Energy =   0.0542
Level     2,  Iter    10:    Energy =   0.0551
Level     2,  Iter    11:    Energy =   0.0558
Level     2,  Iter    12:    Energy =   0.0564
Level     2,  Iter    13:    Energy =   0.0570
Level     2,  Iter    14:    Energy =   0.0575
Level     2,  Iter    15:    Energy =   0.0580
Level     2,  Iter    16:    Energy =   0.0585
Level     2,  Iter    17:    Energy =   0.0590
Level     2,  Iter    18:    Energy =   0.0594
Level     2,  Iter    19:    Energy =   0.0598
END OF LEVEL     2    DetJac Range:   0.0854  to   4.9027 
  Avg. Gradient Time  : 0.3073s  37.29% 
  Avg. Gaussian Time  : 0.4293s  52.10% 
  Avg. Iteration Time : 0.8240s 

real	0m27.459s
user	0m48.436s
sys	0m2.844s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.871154 0.876923
+ echo 'CHUNK 0.871154 0.876923 1'
CHUNK 0.871154 0.876923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.871154 0.876923 1
====================================
         PROGRESS: 0.871154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 022
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2304.21 	 OutFr   0.0000 	 RMSD     2.7848
Iter 002 	 Temp     3.72 	 Delta  2208.81 	 OutFr   0.0000 	 RMSD     2.2913
Iter 003 	 Temp     3.46 	 Delta  2075.28 	 OutFr   0.0000 	 RMSD     2.3036
Iter 004 	 Temp     3.22 	 Delta  1922.58 	 OutFr   0.0000 	 RMSD     2.2808
Iter 005 	 Temp     2.99 	 Delta  1768.67 	 OutFr   0.0000 	 RMSD     2.2519
Iter 006 	 Temp     2.78 	 Delta  1623.37 	 OutFr   0.0000 	 RMSD     2.2256
Iter 007 	 Temp     2.59 	 Delta  1492.70 	 OutFr   0.0000 	 RMSD     2.2024
Iter 008 	 Temp     2.41 	 Delta  1379.22 	 OutFr   0.0000 	 RMSD     2.1835
Iter 009 	 Temp     2.24 	 Delta  1281.99 	 OutFr   0.0000 	 RMSD     2.1684
Iter 010 	 Temp     2.08 	 Delta  1197.42 	 OutFr   0.0027 	 RMSD     2.1571
Iter 011 	 Temp     1.94 	 Delta  1121.17 	 OutFr   0.0027 	 RMSD     2.1483
Iter 012 	 Temp     1.80 	 Delta  1050.03 	 OutFr   0.0027 	 RMSD     2.1418
Iter 013 	 Temp     1.67 	 Delta   984.26 	 OutFr   0.0054 	 RMSD     2.1371
Iter 014 	 Temp     1.56 	 Delta   924.85 	 OutFr   0.0054 	 RMSD     2.1335
Iter 015 	 Temp     1.45 	 Delta   868.61 	 OutFr   0.0054 	 RMSD     2.1309
Iter 016 	 Temp     1.35 	 Delta   812.66 	 OutFr   0.0134 	 RMSD     2.1298
Iter 017 	 Temp     1.25 	 Delta   754.86 	 OutFr   0.0188 	 RMSD     2.1297
Iter 018 	 Temp     1.16 	 Delta   692.67 	 OutFr   0.0295 	 RMSD     2.1309
Iter 019 	 Temp     1.08 	 Delta   631.61 	 OutFr   0.0429 	 RMSD     2.1336
Iter 020 	 Temp     1.01 	 Delta   578.76 	 OutFr   0.0483 	 RMSD     2.1387
Iter 021 	 Temp     0.94 	 Delta   533.10 	 OutFr   0.0617 	 RMSD     2.1463
Iter 022 	 Temp     0.87 	 Delta   492.24 	 OutFr   0.0670 	 RMSD     2.1536
Iter 023 	 Temp     0.81 	 Delta   454.19 	 OutFr   0.0804 	 RMSD     2.1598
Iter 024 	 Temp     0.75 	 Delta   421.96 	 OutFr   0.0831 	 RMSD     2.1656
Iter 025 	 Temp     0.70 	 Delta   393.03 	 OutFr   0.0912 	 RMSD     2.1715
Iter 026 	 Temp     0.65 	 Delta   362.52 	 OutFr   0.1046 	 RMSD     2.1772
Iter 027 	 Temp     0.61 	 Delta   333.61 	 OutFr   0.1394 	 RMSD     2.1834
Iter 028 	 Temp     0.56 	 Delta   308.44 	 OutFr   0.1609 	 RMSD     2.1892
Iter 029 	 Temp     0.52 	 Delta   285.54 	 OutFr   0.1796 	 RMSD     2.1938
Iter 030 	 Temp     0.49 	 Delta   261.81 	 OutFr   0.1984 	 RMSD     2.1980
Iter 031 	 Temp     0.45 	 Delta   234.79 	 OutFr   0.2252 	 RMSD     2.2035
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Bp4DOBb6/mybin.nii.gz
+ vtklevelset /tmp/ashs.Bp4DOBb6/mybin.nii.gz /tmp/ashs.Bp4DOBb6/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Bp4DOBb6/mymesh.vtk /tmp/ashs.Bp4DOBb6/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2713.43769263   0.92926275
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Bp4DOBb6/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.1882 to 32.4214
   Y : -16.0111 to 23.5702
   Z : -19.7028 to 15.457
   Image resolution  : 93 by 143 by 130
   Image box origin  : {5.1882, -21.0111, -24.7028}
   Image box size    : {32.2916, 49.6527, 45.4995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.1882, 21.0111, -24.7028]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat -o /tmp/ashs.Bp4DOBb6/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat -o /tmp/ashs.Bp4DOBb6/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Bp4DOBb6/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.876923 0.882692
+ echo 'CHUNK 0.876923 0.882692 0.5'
CHUNK 0.876923 0.882692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.876923 0.882692 0.5
====================================
         PROGRESS: 0.876923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Bp4DOBb6/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Bp4DOBb6/fixed_hw.nii.gz /tmp/ashs.Bp4DOBb6/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.636461, moving = 0.559839
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.38892, 2.3881], [0.951402, 0.975272, 0.974939]
Level     0,  Iter     0:    Energy =   0.0425
Level     0,  Iter     1:    Energy =   0.0494
Level     0,  Iter     2:    Energy =   0.0561
Level     0,  Iter     3:    Energy =   0.0614
Level     0,  Iter     4:    Energy =   0.0655
Level     0,  Iter     5:    Energy =   0.0688
Level     0,  Iter     6:    Energy =   0.0719
Level     0,  Iter     7:    Energy =   0.0748
Level     0,  Iter     8:    Energy =   0.0775
Level     0,  Iter     9:    Energy =   0.0800
Level     0,  Iter    10:    Energy =   0.0817
Level     0,  Iter    11:    Energy =   0.0819
Level     0,  Iter    12:    Energy =   0.0822
Level     0,  Iter    13:    Energy =   0.0822
Level     0,  Iter    14:    Energy =   0.0828
Level     0,  Iter    15:    Energy =   0.0829
Level     0,  Iter    16:    Energy =   0.0834
Level     0,  Iter    17:    Energy =   0.0835
Level     0,  Iter    18:    Energy =   0.0840
Level     0,  Iter    19:    Energy =   0.0840
Level     0,  Iter    20:    Energy =   0.0845
Level     0,  Iter    21:    Energy =   0.0846
Level     0,  Iter    22:    Energy =   0.0851
Level     0,  Iter    23:    Energy =   0.0851
Level     0,  Iter    24:    Energy =   0.0855
Level     0,  Iter    25:    Energy =   0.0854
Level     0,  Iter    26:    Energy =   0.0857
Level     0,  Iter    27:    Energy =   0.0857
Level     0,  Iter    28:    Energy =   0.0861
Level     0,  Iter    29:    Energy =   0.0860
Level     0,  Iter    30:    Energy =   0.0863
Level     0,  Iter    31:    Energy =   0.0862
Level     0,  Iter    32:    Energy =   0.0864
Level     0,  Iter    33:    Energy =   0.0863
Level     0,  Iter    34:    Energy =   0.0867
Level     0,  Iter    35:    Energy =   0.0866
Level     0,  Iter    36:    Energy =   0.0867
Level     0,  Iter    37:    Energy =   0.0866
Level     0,  Iter    38:    Energy =   0.0870
Level     0,  Iter    39:    Energy =   0.0869
Level     0,  Iter    40:    Energy =   0.0869
Level     0,  Iter    41:    Energy =   0.0868
Level     0,  Iter    42:    Energy =   0.0872
Level     0,  Iter    43:    Energy =   0.0870
Level     0,  Iter    44:    Energy =   0.0870
Level     0,  Iter    45:    Energy =   0.0869
Level     0,  Iter    46:    Energy =   0.0873
Level     0,  Iter    47:    Energy =   0.0872
Level     0,  Iter    48:    Energy =   0.0872
Level     0,  Iter    49:    Energy =   0.0871
Level     0,  Iter    50:    Energy =   0.0875
Level     0,  Iter    51:    Energy =   0.0874
Level     0,  Iter    52:    Energy =   0.0874
Level     0,  Iter    53:    Energy =   0.0873
Level     0,  Iter    54:    Energy =   0.0877
Level     0,  Iter    55:    Energy =   0.0877
Level     0,  Iter    56:    Energy =   0.0876
Level     0,  Iter    57:    Energy =   0.0875
Level     0,  Iter    58:    Energy =   0.0879
Level     0,  Iter    59:    Energy =   0.0878
END OF LEVEL     0    DetJac Range:   0.2834  to   2.2727 
  Avg. Gradient Time  : 0.0068s  37.57% 
  Avg. Gaussian Time  : 0.0084s  46.85% 
  Avg. Iteration Time : 0.0180s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.19446, 1.21242], [0.485822, 0.487636, 0.494969]
Level     1,  Iter     0:    Energy =   0.0612
Level     1,  Iter     1:    Energy =   0.0653
Level     1,  Iter     2:    Energy =   0.0686
Level     1,  Iter     3:    Energy =   0.0714
Level     1,  Iter     4:    Energy =   0.0734
Level     1,  Iter     5:    Energy =   0.0751
Level     1,  Iter     6:    Energy =   0.0765
Level     1,  Iter     7:    Energy =   0.0776
Level     1,  Iter     8:    Energy =   0.0783
Level     1,  Iter     9:    Energy =   0.0785
Level     1,  Iter    10:    Energy =   0.0787
Level     1,  Iter    11:    Energy =   0.0792
Level     1,  Iter    12:    Energy =   0.0791
Level     1,  Iter    13:    Energy =   0.0800
Level     1,  Iter    14:    Energy =   0.0799
Level     1,  Iter    15:    Energy =   0.0803
Level     1,  Iter    16:    Energy =   0.0802
Level     1,  Iter    17:    Energy =   0.0805
Level     1,  Iter    18:    Energy =   0.0804
Level     1,  Iter    19:    Energy =   0.0807
Level     1,  Iter    20:    Energy =   0.0806
Level     1,  Iter    21:    Energy =   0.0808
Level     1,  Iter    22:    Energy =   0.0807
Level     1,  Iter    23:    Energy =   0.0809
Level     1,  Iter    24:    Energy =   0.0809
Level     1,  Iter    25:    Energy =   0.0810
Level     1,  Iter    26:    Energy =   0.0810
Level     1,  Iter    27:    Energy =   0.0811
Level     1,  Iter    28:    Energy =   0.0811
Level     1,  Iter    29:    Energy =   0.0811
Level     1,  Iter    30:    Energy =   0.0812
Level     1,  Iter    31:    Energy =   0.0812
Level     1,  Iter    32:    Energy =   0.0812
Level     1,  Iter    33:    Energy =   0.0813
Level     1,  Iter    34:    Energy =   0.0813
Level     1,  Iter    35:    Energy =   0.0813
Level     1,  Iter    36:    Energy =   0.0813
Level     1,  Iter    37:    Energy =   0.0814
Level     1,  Iter    38:    Energy =   0.0814
Level     1,  Iter    39:    Energy =   0.0815
Level     1,  Iter    40:    Energy =   0.0814
Level     1,  Iter    41:    Energy =   0.0815
Level     1,  Iter    42:    Energy =   0.0815
Level     1,  Iter    43:    Energy =   0.0816
Level     1,  Iter    44:    Energy =   0.0815
Level     1,  Iter    45:    Energy =   0.0816
Level     1,  Iter    46:    Energy =   0.0815
Level     1,  Iter    47:    Energy =   0.0816
Level     1,  Iter    48:    Energy =   0.0815
Level     1,  Iter    49:    Energy =   0.0816
Level     1,  Iter    50:    Energy =   0.0816
Level     1,  Iter    51:    Energy =   0.0816
Level     1,  Iter    52:    Energy =   0.0816
Level     1,  Iter    53:    Energy =   0.0817
Level     1,  Iter    54:    Energy =   0.0816
Level     1,  Iter    55:    Energy =   0.0816
Level     1,  Iter    56:    Energy =   0.0816
Level     1,  Iter    57:    Energy =   0.0816
Level     1,  Iter    58:    Energy =   0.0816
Level     1,  Iter    59:    Energy =   0.0816
END OF LEVEL     1    DetJac Range:   0.2909  to   3.1568 
  Avg. Gradient Time  : 0.0396s  40.43% 
  Avg. Gaussian Time  : 0.0465s  47.55% 
  Avg. Iteration Time : 0.0978s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0427
Level     2,  Iter     1:    Energy =   0.0450
Level     2,  Iter     2:    Energy =   0.0472
Level     2,  Iter     3:    Energy =   0.0492
Level     2,  Iter     4:    Energy =   0.0511
Level     2,  Iter     5:    Energy =   0.0525
Level     2,  Iter     6:    Energy =   0.0534
Level     2,  Iter     7:    Energy =   0.0543
Level     2,  Iter     8:    Energy =   0.0550
Level     2,  Iter     9:    Energy =   0.0556
Level     2,  Iter    10:    Energy =   0.0563
Level     2,  Iter    11:    Energy =   0.0570
Level     2,  Iter    12:    Energy =   0.0576
Level     2,  Iter    13:    Energy =   0.0580
Level     2,  Iter    14:    Energy =   0.0585
Level     2,  Iter    15:    Energy =   0.0591
Level     2,  Iter    16:    Energy =   0.0598
Level     2,  Iter    17:    Energy =   0.0604
Level     2,  Iter    18:    Energy =   0.0609
Level     2,  Iter    19:    Energy =   0.0613
END OF LEVEL     2    DetJac Range:   0.1262  to   5.4595 
  Avg. Gradient Time  : 0.2753s  37.23% 
  Avg. Gaussian Time  : 0.3886s  52.55% 
  Avg. Iteration Time : 0.7395s 

real	0m24.585s
user	0m43.284s
sys	0m2.632s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.876923 0.882692
+ echo 'CHUNK 0.876923 0.882692 1'
CHUNK 0.876923 0.882692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.876923 0.882692 1
====================================
         PROGRESS: 0.876923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 023
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1669.98 	 OutFr   0.0000 	 RMSD     2.0028
Iter 002 	 Temp     3.72 	 Delta  1699.37 	 OutFr   0.0000 	 RMSD     1.8812
Iter 003 	 Temp     3.46 	 Delta  1579.51 	 OutFr   0.0000 	 RMSD     1.9133
Iter 004 	 Temp     3.22 	 Delta  1448.20 	 OutFr   0.0000 	 RMSD     1.8951
Iter 005 	 Temp     2.99 	 Delta  1324.59 	 OutFr   0.0000 	 RMSD     1.8716
Iter 006 	 Temp     2.78 	 Delta  1210.86 	 OutFr   0.0000 	 RMSD     1.8505
Iter 007 	 Temp     2.59 	 Delta  1108.19 	 OutFr   0.0000 	 RMSD     1.8321
Iter 008 	 Temp     2.41 	 Delta  1018.30 	 OutFr   0.0000 	 RMSD     1.8166
Iter 009 	 Temp     2.24 	 Delta   941.46 	 OutFr   0.0000 	 RMSD     1.8039
Iter 010 	 Temp     2.08 	 Delta   875.55 	 OutFr   0.0027 	 RMSD     1.7933
Iter 011 	 Temp     1.94 	 Delta   816.86 	 OutFr   0.0027 	 RMSD     1.7845
Iter 012 	 Temp     1.80 	 Delta   762.49 	 OutFr   0.0027 	 RMSD     1.7772
Iter 013 	 Temp     1.67 	 Delta   712.40 	 OutFr   0.0027 	 RMSD     1.7713
Iter 014 	 Temp     1.56 	 Delta   667.95 	 OutFr   0.0027 	 RMSD     1.7662
Iter 015 	 Temp     1.45 	 Delta   629.18 	 OutFr   0.0027 	 RMSD     1.7619
Iter 016 	 Temp     1.35 	 Delta   593.38 	 OutFr   0.0054 	 RMSD     1.7584
Iter 017 	 Temp     1.25 	 Delta   557.14 	 OutFr   0.0107 	 RMSD     1.7555
Iter 018 	 Temp     1.16 	 Delta   519.78 	 OutFr   0.0214 	 RMSD     1.7530
Iter 019 	 Temp     1.08 	 Delta   482.92 	 OutFr   0.0214 	 RMSD     1.7500
Iter 020 	 Temp     1.01 	 Delta   448.79 	 OutFr   0.0241 	 RMSD     1.7472
Iter 021 	 Temp     0.94 	 Delta   417.40 	 OutFr   0.0375 	 RMSD     1.7444
Iter 022 	 Temp     0.87 	 Delta   389.04 	 OutFr   0.0429 	 RMSD     1.7419
Iter 023 	 Temp     0.81 	 Delta   363.67 	 OutFr   0.0509 	 RMSD     1.7398
Iter 024 	 Temp     0.75 	 Delta   339.37 	 OutFr   0.0670 	 RMSD     1.7380
Iter 025 	 Temp     0.70 	 Delta   316.32 	 OutFr   0.0831 	 RMSD     1.7363
Iter 026 	 Temp     0.65 	 Delta   295.37 	 OutFr   0.0938 	 RMSD     1.7353
Iter 027 	 Temp     0.61 	 Delta   277.23 	 OutFr   0.1019 	 RMSD     1.7347
Iter 028 	 Temp     0.56 	 Delta   262.38 	 OutFr   0.1180 	 RMSD     1.7340
Iter 029 	 Temp     0.52 	 Delta   249.46 	 OutFr   0.1448 	 RMSD     1.7333
Iter 030 	 Temp     0.49 	 Delta   236.29 	 OutFr   0.1582 	 RMSD     1.7325
Iter 031 	 Temp     0.45 	 Delta   221.21 	 OutFr   0.1716 	 RMSD     1.7318
Iter 032 	 Temp     0.42 	 Delta   204.31 	 OutFr   0.2011 	 RMSD     1.7317
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.QhTDdzeg/mybin.nii.gz
+ vtklevelset /tmp/ashs.QhTDdzeg/mybin.nii.gz /tmp/ashs.QhTDdzeg/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.QhTDdzeg/mymesh.vtk /tmp/ashs.QhTDdzeg/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2755.94546035   0.94382025
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.QhTDdzeg/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.54126 to 34.4327
   Y : -17.766 to 21.3583
   Z : -15.4256 to 18.7408
   Image resolution  : 101 by 142 by 127
   Image box origin  : {4.54126, -22.766, -20.4256}
   Image box size    : {35.0694, 49.3055, 44.4495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.54126, 22.766, -20.4256]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat -o /tmp/ashs.QhTDdzeg/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat -o /tmp/ashs.QhTDdzeg/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.QhTDdzeg/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.882692 0.888462
+ echo 'CHUNK 0.882692 0.888462 0.5'
CHUNK 0.882692 0.888462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.882692 0.888462 0.5
====================================
         PROGRESS: 0.882692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.QhTDdzeg/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.QhTDdzeg/fixed_hw.nii.gz /tmp/ashs.QhTDdzeg/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.633867, moving = 0.788386
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.37221, 2.4059], [0.953763, 0.968452, 0.982204]
Level     0,  Iter     0:    Energy =   0.0623
Level     0,  Iter     1:    Energy =   0.0723
Level     0,  Iter     2:    Energy =   0.0790
Level     0,  Iter     3:    Energy =   0.0834
Level     0,  Iter     4:    Energy =   0.0872
Level     0,  Iter     5:    Energy =   0.0901
Level     0,  Iter     6:    Energy =   0.0921
Level     0,  Iter     7:    Energy =   0.0934
Level     0,  Iter     8:    Energy =   0.0942
Level     0,  Iter     9:    Energy =   0.0947
Level     0,  Iter    10:    Energy =   0.0950
Level     0,  Iter    11:    Energy =   0.0955
Level     0,  Iter    12:    Energy =   0.0954
Level     0,  Iter    13:    Energy =   0.0960
Level     0,  Iter    14:    Energy =   0.0960
Level     0,  Iter    15:    Energy =   0.0965
Level     0,  Iter    16:    Energy =   0.0963
Level     0,  Iter    17:    Energy =   0.0967
Level     0,  Iter    18:    Energy =   0.0966
Level     0,  Iter    19:    Energy =   0.0969
Level     0,  Iter    20:    Energy =   0.0966
Level     0,  Iter    21:    Energy =   0.0970
Level     0,  Iter    22:    Energy =   0.0968
Level     0,  Iter    23:    Energy =   0.0972
Level     0,  Iter    24:    Energy =   0.0969
Level     0,  Iter    25:    Energy =   0.0974
Level     0,  Iter    26:    Energy =   0.0970
Level     0,  Iter    27:    Energy =   0.0975
Level     0,  Iter    28:    Energy =   0.0971
Level     0,  Iter    29:    Energy =   0.0976
Level     0,  Iter    30:    Energy =   0.0973
Level     0,  Iter    31:    Energy =   0.0977
Level     0,  Iter    32:    Energy =   0.0973
Level     0,  Iter    33:    Energy =   0.0979
Level     0,  Iter    34:    Energy =   0.0976
Level     0,  Iter    35:    Energy =   0.0981
Level     0,  Iter    36:    Energy =   0.0978
Level     0,  Iter    37:    Energy =   0.0979
Level     0,  Iter    38:    Energy =   0.0976
Level     0,  Iter    39:    Energy =   0.0979
Level     0,  Iter    40:    Energy =   0.0976
Level     0,  Iter    41:    Energy =   0.0979
Level     0,  Iter    42:    Energy =   0.0977
Level     0,  Iter    43:    Energy =   0.0979
Level     0,  Iter    44:    Energy =   0.0976
Level     0,  Iter    45:    Energy =   0.0978
Level     0,  Iter    46:    Energy =   0.0975
Level     0,  Iter    47:    Energy =   0.0978
Level     0,  Iter    48:    Energy =   0.0974
Level     0,  Iter    49:    Energy =   0.0978
Level     0,  Iter    50:    Energy =   0.0974
Level     0,  Iter    51:    Energy =   0.0980
Level     0,  Iter    52:    Energy =   0.0975
Level     0,  Iter    53:    Energy =   0.0980
Level     0,  Iter    54:    Energy =   0.0975
Level     0,  Iter    55:    Energy =   0.0981
Level     0,  Iter    56:    Energy =   0.0976
Level     0,  Iter    57:    Energy =   0.0982
Level     0,  Iter    58:    Energy =   0.0976
Level     0,  Iter    59:    Energy =   0.0983
END OF LEVEL     0    DetJac Range:   0.4759  to   2.1368 
  Avg. Gradient Time  : 0.0079s  37.58% 
  Avg. Gaussian Time  : 0.0099s  47.20% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.20281, 1.20295], [0.486232, 0.491046, 0.491102]
Level     1,  Iter     0:    Energy =   0.0699
Level     1,  Iter     1:    Energy =   0.0741
Level     1,  Iter     2:    Energy =   0.0781
Level     1,  Iter     3:    Energy =   0.0809
Level     1,  Iter     4:    Energy =   0.0831
Level     1,  Iter     5:    Energy =   0.0853
Level     1,  Iter     6:    Energy =   0.0868
Level     1,  Iter     7:    Energy =   0.0882
Level     1,  Iter     8:    Energy =   0.0888
Level     1,  Iter     9:    Energy =   0.0892
Level     1,  Iter    10:    Energy =   0.0895
Level     1,  Iter    11:    Energy =   0.0897
Level     1,  Iter    12:    Energy =   0.0899
Level     1,  Iter    13:    Energy =   0.0902
Level     1,  Iter    14:    Energy =   0.0904
Level     1,  Iter    15:    Energy =   0.0906
Level     1,  Iter    16:    Energy =   0.0907
Level     1,  Iter    17:    Energy =   0.0910
Level     1,  Iter    18:    Energy =   0.0911
Level     1,  Iter    19:    Energy =   0.0913
Level     1,  Iter    20:    Energy =   0.0913
Level     1,  Iter    21:    Energy =   0.0917
Level     1,  Iter    22:    Energy =   0.0917
Level     1,  Iter    23:    Energy =   0.0920
Level     1,  Iter    24:    Energy =   0.0920
Level     1,  Iter    25:    Energy =   0.0923
Level     1,  Iter    26:    Energy =   0.0923
Level     1,  Iter    27:    Energy =   0.0925
Level     1,  Iter    28:    Energy =   0.0924
Level     1,  Iter    29:    Energy =   0.0927
Level     1,  Iter    30:    Energy =   0.0927
Level     1,  Iter    31:    Energy =   0.0929
Level     1,  Iter    32:    Energy =   0.0928
Level     1,  Iter    33:    Energy =   0.0931
Level     1,  Iter    34:    Energy =   0.0930
Level     1,  Iter    35:    Energy =   0.0932
Level     1,  Iter    36:    Energy =   0.0931
Level     1,  Iter    37:    Energy =   0.0933
Level     1,  Iter    38:    Energy =   0.0932
Level     1,  Iter    39:    Energy =   0.0933
Level     1,  Iter    40:    Energy =   0.0932
Level     1,  Iter    41:    Energy =   0.0934
Level     1,  Iter    42:    Energy =   0.0933
Level     1,  Iter    43:    Energy =   0.0935
Level     1,  Iter    44:    Energy =   0.0933
Level     1,  Iter    45:    Energy =   0.0935
Level     1,  Iter    46:    Energy =   0.0934
Level     1,  Iter    47:    Energy =   0.0935
Level     1,  Iter    48:    Energy =   0.0934
Level     1,  Iter    49:    Energy =   0.0935
Level     1,  Iter    50:    Energy =   0.0934
Level     1,  Iter    51:    Energy =   0.0936
Level     1,  Iter    52:    Energy =   0.0935
Level     1,  Iter    53:    Energy =   0.0936
Level     1,  Iter    54:    Energy =   0.0935
Level     1,  Iter    55:    Energy =   0.0937
Level     1,  Iter    56:    Energy =   0.0935
Level     1,  Iter    57:    Energy =   0.0937
Level     1,  Iter    58:    Energy =   0.0935
Level     1,  Iter    59:    Energy =   0.0938
END OF LEVEL     1    DetJac Range:   0.2887  to   3.4784 
  Avg. Gradient Time  : 0.0465s  40.00% 
  Avg. Gaussian Time  : 0.0560s  48.11% 
  Avg. Iteration Time : 0.1164s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0522
Level     2,  Iter     1:    Energy =   0.0548
Level     2,  Iter     2:    Energy =   0.0572
Level     2,  Iter     3:    Energy =   0.0593
Level     2,  Iter     4:    Energy =   0.0614
Level     2,  Iter     5:    Energy =   0.0630
Level     2,  Iter     6:    Energy =   0.0642
Level     2,  Iter     7:    Energy =   0.0649
Level     2,  Iter     8:    Energy =   0.0656
Level     2,  Iter     9:    Energy =   0.0661
Level     2,  Iter    10:    Energy =   0.0668
Level     2,  Iter    11:    Energy =   0.0675
Level     2,  Iter    12:    Energy =   0.0682
Level     2,  Iter    13:    Energy =   0.0689
Level     2,  Iter    14:    Energy =   0.0695
Level     2,  Iter    15:    Energy =   0.0695
Level     2,  Iter    16:    Energy =   0.0696
Level     2,  Iter    17:    Energy =   0.0699
Level     2,  Iter    18:    Energy =   0.0698
Level     2,  Iter    19:    Energy =   0.0704
END OF LEVEL     2    DetJac Range:   0.1233  to   4.0385 
  Avg. Gradient Time  : 0.3183s  37.30% 
  Avg. Gaussian Time  : 0.4431s  51.92% 
  Avg. Iteration Time : 0.8534s 

real	0m28.655s
user	0m50.412s
sys	0m3.004s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.882692 0.888462
+ echo 'CHUNK 0.882692 0.888462 1'
CHUNK 0.882692 0.888462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.882692 0.888462 1
====================================
         PROGRESS: 0.882692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 024
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2229.19 	 OutFr   0.0000 	 RMSD     3.4889
Iter 002 	 Temp     3.72 	 Delta  2031.00 	 OutFr   0.0000 	 RMSD     2.0978
Iter 003 	 Temp     3.46 	 Delta  1929.20 	 OutFr   0.0000 	 RMSD     2.1487
Iter 004 	 Temp     3.22 	 Delta  1832.02 	 OutFr   0.0000 	 RMSD     2.1367
Iter 005 	 Temp     2.99 	 Delta  1728.28 	 OutFr   0.0000 	 RMSD     2.1165
Iter 006 	 Temp     2.78 	 Delta  1615.55 	 OutFr   0.0000 	 RMSD     2.0964
Iter 007 	 Temp     2.59 	 Delta  1496.34 	 OutFr   0.0000 	 RMSD     2.0788
Iter 008 	 Temp     2.41 	 Delta  1376.08 	 OutFr   0.0000 	 RMSD     2.0636
Iter 009 	 Temp     2.24 	 Delta  1259.53 	 OutFr   0.0000 	 RMSD     2.0512
Iter 010 	 Temp     2.08 	 Delta  1150.22 	 OutFr   0.0000 	 RMSD     2.0402
Iter 011 	 Temp     1.94 	 Delta  1054.03 	 OutFr   0.0000 	 RMSD     2.0303
Iter 012 	 Temp     1.80 	 Delta   975.01 	 OutFr   0.0027 	 RMSD     2.0211
Iter 013 	 Temp     1.67 	 Delta   910.84 	 OutFr   0.0027 	 RMSD     2.0129
Iter 014 	 Temp     1.56 	 Delta   857.75 	 OutFr   0.0054 	 RMSD     2.0056
Iter 015 	 Temp     1.45 	 Delta   812.11 	 OutFr   0.0080 	 RMSD     1.9991
Iter 016 	 Temp     1.35 	 Delta   769.29 	 OutFr   0.0080 	 RMSD     1.9936
Iter 017 	 Temp     1.25 	 Delta   725.76 	 OutFr   0.0107 	 RMSD     1.9880
Iter 018 	 Temp     1.16 	 Delta   680.76 	 OutFr   0.0134 	 RMSD     1.9811
Iter 019 	 Temp     1.08 	 Delta   637.36 	 OutFr   0.0214 	 RMSD     1.9735
Iter 020 	 Temp     1.01 	 Delta   597.36 	 OutFr   0.0322 	 RMSD     1.9655
Iter 021 	 Temp     0.94 	 Delta   557.96 	 OutFr   0.0402 	 RMSD     1.9584
Iter 022 	 Temp     0.87 	 Delta   517.97 	 OutFr   0.0509 	 RMSD     1.9530
Iter 023 	 Temp     0.81 	 Delta   480.73 	 OutFr   0.0670 	 RMSD     1.9490
Iter 024 	 Temp     0.75 	 Delta   445.32 	 OutFr   0.0804 	 RMSD     1.9481
Iter 025 	 Temp     0.70 	 Delta   410.53 	 OutFr   0.0965 	 RMSD     1.9480
Iter 026 	 Temp     0.65 	 Delta   376.02 	 OutFr   0.1046 	 RMSD     1.9500
Iter 027 	 Temp     0.61 	 Delta   338.63 	 OutFr   0.1180 	 RMSD     1.9558
Iter 028 	 Temp     0.56 	 Delta   306.45 	 OutFr   0.1340 	 RMSD     1.9652
Iter 029 	 Temp     0.52 	 Delta   277.46 	 OutFr   0.1635 	 RMSD     1.9769
Iter 030 	 Temp     0.49 	 Delta   249.99 	 OutFr   0.1930 	 RMSD     1.9877
Iter 031 	 Temp     0.45 	 Delta   224.14 	 OutFr   0.2332 	 RMSD     1.9971
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.GfXQWwt5/mybin.nii.gz
+ vtklevelset /tmp/ashs.GfXQWwt5/mybin.nii.gz /tmp/ashs.GfXQWwt5/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.GfXQWwt5/mymesh.vtk /tmp/ashs.GfXQWwt5/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2659.83586179   0.91090589
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.GfXQWwt5/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.83775 to 32.183
   Y : -12.997 to 27.0355
   Z : -15.2739 to 15.7516
   Image resolution  : 99 by 145 by 118
   Image box origin  : {2.83775, -17.997, -20.2739}
   Image box size    : {34.375, 50.3472, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.83775, 17.997, -20.2739]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat -o /tmp/ashs.GfXQWwt5/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat -o /tmp/ashs.GfXQWwt5/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.GfXQWwt5/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.888462 0.894231
+ echo 'CHUNK 0.888462 0.894231 0.5'
CHUNK 0.888462 0.894231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.888462 0.894231 0.5
====================================
         PROGRESS: 0.888462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.GfXQWwt5/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.GfXQWwt5/fixed_hw.nii.gz /tmp/ashs.GfXQWwt5/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.63174, moving = 0.651785
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.35686, 2.38443], [0.972271, 0.962185, 0.973439]
Level     0,  Iter     0:    Energy =   0.0259
Level     0,  Iter     1:    Energy =   0.0313
Level     0,  Iter     2:    Energy =   0.0367
Level     0,  Iter     3:    Energy =   0.0404
Level     0,  Iter     4:    Energy =   0.0430
Level     0,  Iter     5:    Energy =   0.0452
Level     0,  Iter     6:    Energy =   0.0472
Level     0,  Iter     7:    Energy =   0.0493
Level     0,  Iter     8:    Energy =   0.0512
Level     0,  Iter     9:    Energy =   0.0527
Level     0,  Iter    10:    Energy =   0.0543
Level     0,  Iter    11:    Energy =   0.0555
Level     0,  Iter    12:    Energy =   0.0567
Level     0,  Iter    13:    Energy =   0.0576
Level     0,  Iter    14:    Energy =   0.0578
Level     0,  Iter    15:    Energy =   0.0586
Level     0,  Iter    16:    Energy =   0.0587
Level     0,  Iter    17:    Energy =   0.0593
Level     0,  Iter    18:    Energy =   0.0595
Level     0,  Iter    19:    Energy =   0.0599
Level     0,  Iter    20:    Energy =   0.0602
Level     0,  Iter    21:    Energy =   0.0605
Level     0,  Iter    22:    Energy =   0.0606
Level     0,  Iter    23:    Energy =   0.0607
Level     0,  Iter    24:    Energy =   0.0608
Level     0,  Iter    25:    Energy =   0.0609
Level     0,  Iter    26:    Energy =   0.0610
Level     0,  Iter    27:    Energy =   0.0611
Level     0,  Iter    28:    Energy =   0.0613
Level     0,  Iter    29:    Energy =   0.0615
Level     0,  Iter    30:    Energy =   0.0616
Level     0,  Iter    31:    Energy =   0.0617
Level     0,  Iter    32:    Energy =   0.0619
Level     0,  Iter    33:    Energy =   0.0621
Level     0,  Iter    34:    Energy =   0.0624
Level     0,  Iter    35:    Energy =   0.0627
Level     0,  Iter    36:    Energy =   0.0631
Level     0,  Iter    37:    Energy =   0.0635
Level     0,  Iter    38:    Energy =   0.0639
Level     0,  Iter    39:    Energy =   0.0644
Level     0,  Iter    40:    Energy =   0.0648
Level     0,  Iter    41:    Energy =   0.0651
Level     0,  Iter    42:    Energy =   0.0652
Level     0,  Iter    43:    Energy =   0.0653
Level     0,  Iter    44:    Energy =   0.0657
Level     0,  Iter    45:    Energy =   0.0658
Level     0,  Iter    46:    Energy =   0.0659
Level     0,  Iter    47:    Energy =   0.0660
Level     0,  Iter    48:    Energy =   0.0664
Level     0,  Iter    49:    Energy =   0.0665
Level     0,  Iter    50:    Energy =   0.0665
Level     0,  Iter    51:    Energy =   0.0666
Level     0,  Iter    52:    Energy =   0.0669
Level     0,  Iter    53:    Energy =   0.0669
Level     0,  Iter    54:    Energy =   0.0670
Level     0,  Iter    55:    Energy =   0.0670
Level     0,  Iter    56:    Energy =   0.0673
Level     0,  Iter    57:    Energy =   0.0675
Level     0,  Iter    58:    Energy =   0.0674
Level     0,  Iter    59:    Energy =   0.0674
END OF LEVEL     0    DetJac Range:   0.1517  to   2.2966 
  Avg. Gradient Time  : 0.0074s  37.18% 
  Avg. Gaussian Time  : 0.0094s  47.33% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.19457, 1.21242], [0.486136, 0.487683, 0.494969]
Level     1,  Iter     0:    Energy =   0.0481
Level     1,  Iter     1:    Energy =   0.0515
Level     1,  Iter     2:    Energy =   0.0543
Level     1,  Iter     3:    Energy =   0.0566
Level     1,  Iter     4:    Energy =   0.0589
Level     1,  Iter     5:    Energy =   0.0605
Level     1,  Iter     6:    Energy =   0.0619
Level     1,  Iter     7:    Energy =   0.0632
Level     1,  Iter     8:    Energy =   0.0643
Level     1,  Iter     9:    Energy =   0.0652
Level     1,  Iter    10:    Energy =   0.0661
Level     1,  Iter    11:    Energy =   0.0667
Level     1,  Iter    12:    Energy =   0.0673
Level     1,  Iter    13:    Energy =   0.0675
Level     1,  Iter    14:    Energy =   0.0676
Level     1,  Iter    15:    Energy =   0.0676
Level     1,  Iter    16:    Energy =   0.0678
Level     1,  Iter    17:    Energy =   0.0680
Level     1,  Iter    18:    Energy =   0.0681
Level     1,  Iter    19:    Energy =   0.0682
Level     1,  Iter    20:    Energy =   0.0683
Level     1,  Iter    21:    Energy =   0.0685
Level     1,  Iter    22:    Energy =   0.0686
Level     1,  Iter    23:    Energy =   0.0686
Level     1,  Iter    24:    Energy =   0.0688
Level     1,  Iter    25:    Energy =   0.0689
Level     1,  Iter    26:    Energy =   0.0690
Level     1,  Iter    27:    Energy =   0.0691
Level     1,  Iter    28:    Energy =   0.0691
Level     1,  Iter    29:    Energy =   0.0693
Level     1,  Iter    30:    Energy =   0.0693
Level     1,  Iter    31:    Energy =   0.0695
Level     1,  Iter    32:    Energy =   0.0695
Level     1,  Iter    33:    Energy =   0.0697
Level     1,  Iter    34:    Energy =   0.0697
Level     1,  Iter    35:    Energy =   0.0697
Level     1,  Iter    36:    Energy =   0.0698
Level     1,  Iter    37:    Energy =   0.0698
Level     1,  Iter    38:    Energy =   0.0698
Level     1,  Iter    39:    Energy =   0.0698
Level     1,  Iter    40:    Energy =   0.0699
Level     1,  Iter    41:    Energy =   0.0699
Level     1,  Iter    42:    Energy =   0.0699
Level     1,  Iter    43:    Energy =   0.0699
Level     1,  Iter    44:    Energy =   0.0700
Level     1,  Iter    45:    Energy =   0.0700
Level     1,  Iter    46:    Energy =   0.0700
Level     1,  Iter    47:    Energy =   0.0700
Level     1,  Iter    48:    Energy =   0.0701
Level     1,  Iter    49:    Energy =   0.0700
Level     1,  Iter    50:    Energy =   0.0701
Level     1,  Iter    51:    Energy =   0.0700
Level     1,  Iter    52:    Energy =   0.0702
Level     1,  Iter    53:    Energy =   0.0702
Level     1,  Iter    54:    Energy =   0.0702
Level     1,  Iter    55:    Energy =   0.0701
Level     1,  Iter    56:    Energy =   0.0702
Level     1,  Iter    57:    Energy =   0.0703
Level     1,  Iter    58:    Energy =   0.0703
Level     1,  Iter    59:    Energy =   0.0701
END OF LEVEL     1    DetJac Range:   0.0987  to   3.6696 
  Avg. Gradient Time  : 0.0428s  40.07% 
  Avg. Gaussian Time  : 0.0515s  48.14% 
  Avg. Iteration Time : 0.1069s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0364
Level     2,  Iter     1:    Energy =   0.0380
Level     2,  Iter     2:    Energy =   0.0393
Level     2,  Iter     3:    Energy =   0.0406
Level     2,  Iter     4:    Energy =   0.0419
Level     2,  Iter     5:    Energy =   0.0431
Level     2,  Iter     6:    Energy =   0.0443
Level     2,  Iter     7:    Energy =   0.0453
Level     2,  Iter     8:    Energy =   0.0462
Level     2,  Iter     9:    Energy =   0.0471
Level     2,  Iter    10:    Energy =   0.0479
Level     2,  Iter    11:    Energy =   0.0487
Level     2,  Iter    12:    Energy =   0.0495
Level     2,  Iter    13:    Energy =   0.0503
Level     2,  Iter    14:    Energy =   0.0509
Level     2,  Iter    15:    Energy =   0.0515
Level     2,  Iter    16:    Energy =   0.0521
Level     2,  Iter    17:    Energy =   0.0526
Level     2,  Iter    18:    Energy =   0.0530
Level     2,  Iter    19:    Energy =   0.0534
END OF LEVEL     2    DetJac Range:   0.0739  to   4.7514 
  Avg. Gradient Time  : 0.3205s  38.66% 
  Avg. Gaussian Time  : 0.4220s  50.90% 
  Avg. Iteration Time : 0.8291s 

real	0m27.410s
user	0m48.404s
sys	0m2.812s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.888462 0.894231
+ echo 'CHUNK 0.888462 0.894231 1'
CHUNK 0.888462 0.894231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.888462 0.894231 1
====================================
         PROGRESS: 0.888462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 025
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1701.44 	 OutFr   0.0000 	 RMSD     3.3880
Iter 002 	 Temp     3.72 	 Delta  1636.72 	 OutFr   0.0000 	 RMSD     2.1397
Iter 003 	 Temp     3.46 	 Delta  1586.72 	 OutFr   0.0000 	 RMSD     2.1682
Iter 004 	 Temp     3.22 	 Delta  1536.83 	 OutFr   0.0000 	 RMSD     2.1489
Iter 005 	 Temp     2.99 	 Delta  1485.36 	 OutFr   0.0000 	 RMSD     2.1217
Iter 006 	 Temp     2.78 	 Delta  1432.91 	 OutFr   0.0000 	 RMSD     2.0966
Iter 007 	 Temp     2.59 	 Delta  1379.82 	 OutFr   0.0000 	 RMSD     2.0758
Iter 008 	 Temp     2.41 	 Delta  1325.49 	 OutFr   0.0027 	 RMSD     2.0587
Iter 009 	 Temp     2.24 	 Delta  1269.70 	 OutFr   0.0027 	 RMSD     2.0436
Iter 010 	 Temp     2.08 	 Delta  1213.50 	 OutFr   0.0027 	 RMSD     2.0312
Iter 011 	 Temp     1.94 	 Delta  1158.37 	 OutFr   0.0027 	 RMSD     2.0212
Iter 012 	 Temp     1.80 	 Delta  1104.81 	 OutFr   0.0027 	 RMSD     2.0129
Iter 013 	 Temp     1.67 	 Delta  1051.60 	 OutFr   0.0080 	 RMSD     2.0055
Iter 014 	 Temp     1.56 	 Delta   996.49 	 OutFr   0.0107 	 RMSD     1.9991
Iter 015 	 Temp     1.45 	 Delta   938.23 	 OutFr   0.0188 	 RMSD     1.9945
Iter 016 	 Temp     1.35 	 Delta   877.28 	 OutFr   0.0188 	 RMSD     1.9909
Iter 017 	 Temp     1.25 	 Delta   814.88 	 OutFr   0.0241 	 RMSD     1.9884
Iter 018 	 Temp     1.16 	 Delta   752.71 	 OutFr   0.0295 	 RMSD     1.9864
Iter 019 	 Temp     1.08 	 Delta   694.21 	 OutFr   0.0375 	 RMSD     1.9845
Iter 020 	 Temp     1.01 	 Delta   643.10 	 OutFr   0.0483 	 RMSD     1.9827
Iter 021 	 Temp     0.94 	 Delta   597.28 	 OutFr   0.0617 	 RMSD     1.9815
Iter 022 	 Temp     0.87 	 Delta   552.33 	 OutFr   0.0697 	 RMSD     1.9811
Iter 023 	 Temp     0.81 	 Delta   506.38 	 OutFr   0.0965 	 RMSD     1.9810
Iter 024 	 Temp     0.75 	 Delta   459.84 	 OutFr   0.1126 	 RMSD     1.9813
Iter 025 	 Temp     0.70 	 Delta   413.12 	 OutFr   0.1367 	 RMSD     1.9815
Iter 026 	 Temp     0.65 	 Delta   368.30 	 OutFr   0.1662 	 RMSD     1.9811
Iter 027 	 Temp     0.61 	 Delta   330.10 	 OutFr   0.1877 	 RMSD     1.9803
Iter 028 	 Temp     0.56 	 Delta   300.30 	 OutFr   0.2064 	 RMSD     1.9792
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.cpxueyKf/mybin.nii.gz
+ vtklevelset /tmp/ashs.cpxueyKf/mybin.nii.gz /tmp/ashs.cpxueyKf/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.cpxueyKf/mymesh.vtk /tmp/ashs.cpxueyKf/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2919.98974950 2489.43925869   0.85255068
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.cpxueyKf/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.55592 to 34.3234
   Y : -14.8926 to 21.5851
   Z : -4.5573 to 25.4638
   Image resolution  : 101 by 134 by 115
   Image box origin  : {4.55592, -19.8926, -9.5573}
   Image box size    : {35.0694, 46.5277, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.55592, 19.8926, -9.5573]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat -o /tmp/ashs.cpxueyKf/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat -o /tmp/ashs.cpxueyKf/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.cpxueyKf/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.894231 0.9
+ echo 'CHUNK 0.894231 0.9 0.5'
CHUNK 0.894231 0.9 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.894231 0.9 0.5
====================================
         PROGRESS: 0.894231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.cpxueyKf/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.cpxueyKf/fixed_hw.nii.gz /tmp/ashs.cpxueyKf/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.650368, moving = 0.419232
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.37025, 2.40394], [0.953763, 0.96765, 0.981404]
Level     0,  Iter     0:    Energy =   0.0422
Level     0,  Iter     1:    Energy =   0.0479
Level     0,  Iter     2:    Energy =   0.0544
Level     0,  Iter     3:    Energy =   0.0588
Level     0,  Iter     4:    Energy =   0.0628
Level     0,  Iter     5:    Energy =   0.0662
Level     0,  Iter     6:    Energy =   0.0693
Level     0,  Iter     7:    Energy =   0.0714
Level     0,  Iter     8:    Energy =   0.0726
Level     0,  Iter     9:    Energy =   0.0736
Level     0,  Iter    10:    Energy =   0.0740
Level     0,  Iter    11:    Energy =   0.0756
Level     0,  Iter    12:    Energy =   0.0761
Level     0,  Iter    13:    Energy =   0.0763
Level     0,  Iter    14:    Energy =   0.0764
Level     0,  Iter    15:    Energy =   0.0774
Level     0,  Iter    16:    Energy =   0.0775
Level     0,  Iter    17:    Energy =   0.0777
Level     0,  Iter    18:    Energy =   0.0777
Level     0,  Iter    19:    Energy =   0.0789
Level     0,  Iter    20:    Energy =   0.0790
Level     0,  Iter    21:    Energy =   0.0788
Level     0,  Iter    22:    Energy =   0.0786
Level     0,  Iter    23:    Energy =   0.0797
Level     0,  Iter    24:    Energy =   0.0795
Level     0,  Iter    25:    Energy =   0.0794
Level     0,  Iter    26:    Energy =   0.0792
Level     0,  Iter    27:    Energy =   0.0801
Level     0,  Iter    28:    Energy =   0.0798
Level     0,  Iter    29:    Energy =   0.0796
Level     0,  Iter    30:    Energy =   0.0793
Level     0,  Iter    31:    Energy =   0.0803
Level     0,  Iter    32:    Energy =   0.0801
Level     0,  Iter    33:    Energy =   0.0800
Level     0,  Iter    34:    Energy =   0.0796
Level     0,  Iter    35:    Energy =   0.0805
Level     0,  Iter    36:    Energy =   0.0802
Level     0,  Iter    37:    Energy =   0.0800
Level     0,  Iter    38:    Energy =   0.0797
Level     0,  Iter    39:    Energy =   0.0807
Level     0,  Iter    40:    Energy =   0.0804
Level     0,  Iter    41:    Energy =   0.0801
Level     0,  Iter    42:    Energy =   0.0798
Level     0,  Iter    43:    Energy =   0.0808
Level     0,  Iter    44:    Energy =   0.0804
Level     0,  Iter    45:    Energy =   0.0805
Level     0,  Iter    46:    Energy =   0.0802
Level     0,  Iter    47:    Energy =   0.0812
Level     0,  Iter    48:    Energy =   0.0807
Level     0,  Iter    49:    Energy =   0.0806
Level     0,  Iter    50:    Energy =   0.0803
Level     0,  Iter    51:    Energy =   0.0802
Level     0,  Iter    52:    Energy =   0.0799
Level     0,  Iter    53:    Energy =   0.0811
Level     0,  Iter    54:    Energy =   0.0811
Level     0,  Iter    55:    Energy =   0.0808
Level     0,  Iter    56:    Energy =   0.0804
Level     0,  Iter    57:    Energy =   0.0814
Level     0,  Iter    58:    Energy =   0.0810
Level     0,  Iter    59:    Energy =   0.0808
END OF LEVEL     0    DetJac Range:   0.1766  to   2.1295 
  Avg. Gradient Time  : 0.0069s  36.66% 
  Avg. Gaussian Time  : 0.0090s  47.82% 
  Avg. Iteration Time : 0.0187s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.20281, 1.20197], [0.486232, 0.491046, 0.490702]
Level     1,  Iter     0:    Energy =   0.0547
Level     1,  Iter     1:    Energy =   0.0587
Level     1,  Iter     2:    Energy =   0.0618
Level     1,  Iter     3:    Energy =   0.0645
Level     1,  Iter     4:    Energy =   0.0667
Level     1,  Iter     5:    Energy =   0.0687
Level     1,  Iter     6:    Energy =   0.0705
Level     1,  Iter     7:    Energy =   0.0719
Level     1,  Iter     8:    Energy =   0.0732
Level     1,  Iter     9:    Energy =   0.0744
Level     1,  Iter    10:    Energy =   0.0754
Level     1,  Iter    11:    Energy =   0.0755
Level     1,  Iter    12:    Energy =   0.0761
Level     1,  Iter    13:    Energy =   0.0763
Level     1,  Iter    14:    Energy =   0.0764
Level     1,  Iter    15:    Energy =   0.0769
Level     1,  Iter    16:    Energy =   0.0768
Level     1,  Iter    17:    Energy =   0.0774
Level     1,  Iter    18:    Energy =   0.0773
Level     1,  Iter    19:    Energy =   0.0778
Level     1,  Iter    20:    Energy =   0.0775
Level     1,  Iter    21:    Energy =   0.0781
Level     1,  Iter    22:    Energy =   0.0779
Level     1,  Iter    23:    Energy =   0.0784
Level     1,  Iter    24:    Energy =   0.0780
Level     1,  Iter    25:    Energy =   0.0785
Level     1,  Iter    26:    Energy =   0.0783
Level     1,  Iter    27:    Energy =   0.0787
Level     1,  Iter    28:    Energy =   0.0784
Level     1,  Iter    29:    Energy =   0.0787
Level     1,  Iter    30:    Energy =   0.0786
Level     1,  Iter    31:    Energy =   0.0789
Level     1,  Iter    32:    Energy =   0.0787
Level     1,  Iter    33:    Energy =   0.0789
Level     1,  Iter    34:    Energy =   0.0788
Level     1,  Iter    35:    Energy =   0.0791
Level     1,  Iter    36:    Energy =   0.0788
Level     1,  Iter    37:    Energy =   0.0792
Level     1,  Iter    38:    Energy =   0.0790
Level     1,  Iter    39:    Energy =   0.0793
Level     1,  Iter    40:    Energy =   0.0789
Level     1,  Iter    41:    Energy =   0.0793
Level     1,  Iter    42:    Energy =   0.0791
Level     1,  Iter    43:    Energy =   0.0795
Level     1,  Iter    44:    Energy =   0.0791
Level     1,  Iter    45:    Energy =   0.0795
Level     1,  Iter    46:    Energy =   0.0793
Level     1,  Iter    47:    Energy =   0.0795
Level     1,  Iter    48:    Energy =   0.0791
Level     1,  Iter    49:    Energy =   0.0795
Level     1,  Iter    50:    Energy =   0.0793
Level     1,  Iter    51:    Energy =   0.0794
Level     1,  Iter    52:    Energy =   0.0790
Level     1,  Iter    53:    Energy =   0.0793
Level     1,  Iter    54:    Energy =   0.0792
Level     1,  Iter    55:    Energy =   0.0794
Level     1,  Iter    56:    Energy =   0.0790
Level     1,  Iter    57:    Energy =   0.0793
Level     1,  Iter    58:    Energy =   0.0792
Level     1,  Iter    59:    Energy =   0.0793
END OF LEVEL     1    DetJac Range:   0.1258  to   3.3681 
  Avg. Gradient Time  : 0.0399s  40.05% 
  Avg. Gaussian Time  : 0.0479s  48.07% 
  Avg. Iteration Time : 0.0996s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0408
Level     2,  Iter     1:    Energy =   0.0426
Level     2,  Iter     2:    Energy =   0.0442
Level     2,  Iter     3:    Energy =   0.0457
Level     2,  Iter     4:    Energy =   0.0471
Level     2,  Iter     5:    Energy =   0.0483
Level     2,  Iter     6:    Energy =   0.0494
Level     2,  Iter     7:    Energy =   0.0505
Level     2,  Iter     8:    Energy =   0.0513
Level     2,  Iter     9:    Energy =   0.0516
Level     2,  Iter    10:    Energy =   0.0519
Level     2,  Iter    11:    Energy =   0.0523
Level     2,  Iter    12:    Energy =   0.0527
Level     2,  Iter    13:    Energy =   0.0532
Level     2,  Iter    14:    Energy =   0.0537
Level     2,  Iter    15:    Energy =   0.0542
Level     2,  Iter    16:    Energy =   0.0547
Level     2,  Iter    17:    Energy =   0.0551
Level     2,  Iter    18:    Energy =   0.0555
Level     2,  Iter    19:    Energy =   0.0558
END OF LEVEL     2    DetJac Range:   0.0482  to   4.2220 
  Avg. Gradient Time  : 0.2745s  37.52% 
  Avg. Gaussian Time  : 0.3780s  51.67% 
  Avg. Iteration Time : 0.7316s 

real	0m24.658s
user	0m42.684s
sys	0m3.124s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.894231 0.9
+ echo 'CHUNK 0.894231 0.9 1'
CHUNK 0.894231 0.9 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.894231 0.9 1
====================================
         PROGRESS: 0.894231               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 4 successful
------------------------------------------------
[0m
****************************************
Starting stage 5: Boostrapped joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 5: Boostrapped joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=1
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 1
+ [[ 1 -ne 1 ]]
+ [[ '' -ne 1 ]]
+ ashs_label_fusion_apply 1
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ BOOTSTRAP=1
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 1
+ [[ 1 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 15, 4], [61, 59, 45] (161955 pixels)
Computing mask based on input segmentations
  Skipping 81098 out of 161955 voxels.
.....................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
76:90:53
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 346090
tc: 16430
mean intensity : sample #  176.146:26926
center location: (36.0873,46.8051,22.1928) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 1867
tc: 16430
center location: (30.3084,36.2333,10.997) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2565
tc: 16430
center location: (33.2808,43.6309,20.8349) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 6688
tc: 16430
center location: (41.5549,47.895,21.4372) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 290
tc: 16430
center location: (51.6925,52.5326,29.1837) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 1 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3837
tc: 16430
center location: (44.1014,49.0842,25.9024) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 518
tc: 16430
center location: (39.1933,52.6659,23.2276) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3
tc: 16430
center location: (55.5813,47.2816,22.0189) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 662
tc: 16430
center location: (27.9699,55.464,42.1886) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
76:90:53
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 346090
tc: 16430
center location: (36.0873,46.8051,22.1928) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 1867
tc: 16430
center location: (30.3084,36.2333,10.997) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2565
tc: 16430
center location: (33.2808,43.6309,20.8349) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 6688
tc: 16430
center location: (41.5549,47.895,21.4372) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 290
tc: 16430
center location: (51.6925,52.5326,29.1837) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3837
tc: 16430
center location: (44.1014,49.0842,25.9024) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 518
tc: 16430
center location: (39.1933,52.6659,23.2276) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3
tc: 16430
center location: (55.5813,47.2816,22.0189) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_left_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 662
tc: 16430
center location: (27.9699,55.464,42.1886) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 1 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 1 -eq 1 ]]
++ echo bootstrap
+ MALFMODE=bootstrap
+ ashs_segmentation_qc left bootstrap heur
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.S0qSFVlO/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.S0qSFVlO/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.S0qSFVlO/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.S0qSFVlO/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.S0qSFVlO/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.S0qSFVlO/sag_seg_%02d.png
++ ls /tmp/ashs.S0qSFVlO/cor_mprage_00.png /tmp/ashs.S0qSFVlO/cor_mprage_01.png /tmp/ashs.S0qSFVlO/cor_mprage_02.png /tmp/ashs.S0qSFVlO/cor_mprage_03.png /tmp/ashs.S0qSFVlO/cor_mprage_04.png /tmp/ashs.S0qSFVlO/cor_seg_00.png /tmp/ashs.S0qSFVlO/cor_seg_03.png /tmp/ashs.S0qSFVlO/cor_seg_06.png /tmp/ashs.S0qSFVlO/cor_seg_09.png /tmp/ashs.S0qSFVlO/cor_seg_12.png /tmp/ashs.S0qSFVlO/cor_tse_00.png /tmp/ashs.S0qSFVlO/cor_tse_01.png /tmp/ashs.S0qSFVlO/cor_tse_02.png /tmp/ashs.S0qSFVlO/cor_tse_03.png /tmp/ashs.S0qSFVlO/cor_tse_04.png /tmp/ashs.S0qSFVlO/sag_mprage_00.png /tmp/ashs.S0qSFVlO/sag_mprage_01.png /tmp/ashs.S0qSFVlO/sag_seg_00.png /tmp/ashs.S0qSFVlO/sag_seg_03.png /tmp/ashs.S0qSFVlO/sag_tse_00.png /tmp/ashs.S0qSFVlO/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_00.png /tmp/ashs.S0qSFVlO/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_01.png /tmp/ashs.S0qSFVlO/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_02.png /tmp/ashs.S0qSFVlO/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_03.png /tmp/ashs.S0qSFVlO/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_04.png /tmp/ashs.S0qSFVlO/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_00.png /tmp/ashs.S0qSFVlO/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_03.png /tmp/ashs.S0qSFVlO/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_06.png /tmp/ashs.S0qSFVlO/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_09.png /tmp/ashs.S0qSFVlO/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_12.png /tmp/ashs.S0qSFVlO/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_00.png /tmp/ashs.S0qSFVlO/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_01.png /tmp/ashs.S0qSFVlO/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_02.png /tmp/ashs.S0qSFVlO/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_03.png /tmp/ashs.S0qSFVlO/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_04.png /tmp/ashs.S0qSFVlO/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_mprage_00.png /tmp/ashs.S0qSFVlO/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_mprage_01.png /tmp/ashs.S0qSFVlO/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_seg_00.png /tmp/ashs.S0qSFVlO/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_seg_03.png /tmp/ashs.S0qSFVlO/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_tse_00.png /tmp/ashs.S0qSFVlO/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_tse_01.png /tmp/ashs.S0qSFVlO/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.S0qSFVlO/cor_tse_00.png /tmp/ashs.S0qSFVlO/cor_tse_01.png /tmp/ashs.S0qSFVlO/cor_tse_02.png /tmp/ashs.S0qSFVlO/cor_tse_03.png /tmp/ashs.S0qSFVlO/cor_tse_04.png /tmp/ashs.S0qSFVlO/sag_tse_00.png /tmp/ashs.S0qSFVlO/sag_tse_01.png /tmp/ashs.S0qSFVlO/cor_mprage_00.png /tmp/ashs.S0qSFVlO/cor_mprage_01.png /tmp/ashs.S0qSFVlO/cor_mprage_02.png /tmp/ashs.S0qSFVlO/cor_mprage_03.png /tmp/ashs.S0qSFVlO/cor_mprage_04.png /tmp/ashs.S0qSFVlO/sag_mprage_00.png /tmp/ashs.S0qSFVlO/sag_mprage_01.png /tmp/ashs.S0qSFVlO/cor_seg_00.png /tmp/ashs.S0qSFVlO/cor_seg_03.png /tmp/ashs.S0qSFVlO/cor_seg_06.png /tmp/ashs.S0qSFVlO/cor_seg_09.png /tmp/ashs.S0qSFVlO/cor_seg_12.png /tmp/ashs.S0qSFVlO/sag_seg_00.png /tmp/ashs.S0qSFVlO/sag_seg_03.png /tmp/ashs.S0qSFVlO/qa.png
+ convert /tmp/ashs.S0qSFVlO/qa.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:left /tmp/ashs.S0qSFVlO/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_heur_left_qa.png
+ ashs_segmentation_qc left bootstrap corr_usegray
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.S0qSFVlO/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.S0qSFVlO/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.S0qSFVlO/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.S0qSFVlO/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.S0qSFVlO/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.S0qSFVlO/sag_seg_%02d.png
++ ls /tmp/ashs.S0qSFVlO/cor_mprage_00.png /tmp/ashs.S0qSFVlO/cor_mprage_01.png /tmp/ashs.S0qSFVlO/cor_mprage_02.png /tmp/ashs.S0qSFVlO/cor_mprage_03.png /tmp/ashs.S0qSFVlO/cor_mprage_04.png /tmp/ashs.S0qSFVlO/cor_seg_00.png /tmp/ashs.S0qSFVlO/cor_seg_03.png /tmp/ashs.S0qSFVlO/cor_seg_06.png /tmp/ashs.S0qSFVlO/cor_seg_09.png /tmp/ashs.S0qSFVlO/cor_seg_12.png /tmp/ashs.S0qSFVlO/cor_tse_00.png /tmp/ashs.S0qSFVlO/cor_tse_01.png /tmp/ashs.S0qSFVlO/cor_tse_02.png /tmp/ashs.S0qSFVlO/cor_tse_03.png /tmp/ashs.S0qSFVlO/cor_tse_04.png /tmp/ashs.S0qSFVlO/sag_mprage_00.png /tmp/ashs.S0qSFVlO/sag_mprage_01.png /tmp/ashs.S0qSFVlO/sag_seg_00.png /tmp/ashs.S0qSFVlO/sag_seg_03.png /tmp/ashs.S0qSFVlO/sag_tse_00.png /tmp/ashs.S0qSFVlO/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_00.png /tmp/ashs.S0qSFVlO/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_01.png /tmp/ashs.S0qSFVlO/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_02.png /tmp/ashs.S0qSFVlO/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_03.png /tmp/ashs.S0qSFVlO/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_04.png /tmp/ashs.S0qSFVlO/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_00.png /tmp/ashs.S0qSFVlO/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_03.png /tmp/ashs.S0qSFVlO/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_06.png /tmp/ashs.S0qSFVlO/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_09.png /tmp/ashs.S0qSFVlO/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_12.png /tmp/ashs.S0qSFVlO/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_00.png /tmp/ashs.S0qSFVlO/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_01.png /tmp/ashs.S0qSFVlO/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_02.png /tmp/ashs.S0qSFVlO/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_03.png /tmp/ashs.S0qSFVlO/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_04.png /tmp/ashs.S0qSFVlO/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_mprage_00.png /tmp/ashs.S0qSFVlO/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_mprage_01.png /tmp/ashs.S0qSFVlO/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_seg_00.png /tmp/ashs.S0qSFVlO/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_seg_03.png /tmp/ashs.S0qSFVlO/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_tse_00.png /tmp/ashs.S0qSFVlO/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_tse_01.png /tmp/ashs.S0qSFVlO/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.S0qSFVlO/cor_tse_00.png /tmp/ashs.S0qSFVlO/cor_tse_01.png /tmp/ashs.S0qSFVlO/cor_tse_02.png /tmp/ashs.S0qSFVlO/cor_tse_03.png /tmp/ashs.S0qSFVlO/cor_tse_04.png /tmp/ashs.S0qSFVlO/sag_tse_00.png /tmp/ashs.S0qSFVlO/sag_tse_01.png /tmp/ashs.S0qSFVlO/cor_mprage_00.png /tmp/ashs.S0qSFVlO/cor_mprage_01.png /tmp/ashs.S0qSFVlO/cor_mprage_02.png /tmp/ashs.S0qSFVlO/cor_mprage_03.png /tmp/ashs.S0qSFVlO/cor_mprage_04.png /tmp/ashs.S0qSFVlO/sag_mprage_00.png /tmp/ashs.S0qSFVlO/sag_mprage_01.png /tmp/ashs.S0qSFVlO/cor_seg_00.png /tmp/ashs.S0qSFVlO/cor_seg_03.png /tmp/ashs.S0qSFVlO/cor_seg_06.png /tmp/ashs.S0qSFVlO/cor_seg_09.png /tmp/ashs.S0qSFVlO/cor_seg_12.png /tmp/ashs.S0qSFVlO/sag_seg_00.png /tmp/ashs.S0qSFVlO/sag_seg_03.png /tmp/ashs.S0qSFVlO/qa.png
+ convert /tmp/ashs.S0qSFVlO/qa.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:left /tmp/ashs.S0qSFVlO/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_left_qa.png
+ ashs_segmentation_qc left bootstrap corr_nogray
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.S0qSFVlO/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.S0qSFVlO/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.S0qSFVlO/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.S0qSFVlO/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.S0qSFVlO/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.S0qSFVlO/sag_seg_%02d.png
++ ls /tmp/ashs.S0qSFVlO/cor_mprage_00.png /tmp/ashs.S0qSFVlO/cor_mprage_01.png /tmp/ashs.S0qSFVlO/cor_mprage_02.png /tmp/ashs.S0qSFVlO/cor_mprage_03.png /tmp/ashs.S0qSFVlO/cor_mprage_04.png /tmp/ashs.S0qSFVlO/cor_seg_00.png /tmp/ashs.S0qSFVlO/cor_seg_03.png /tmp/ashs.S0qSFVlO/cor_seg_06.png /tmp/ashs.S0qSFVlO/cor_seg_09.png /tmp/ashs.S0qSFVlO/cor_seg_12.png /tmp/ashs.S0qSFVlO/cor_tse_00.png /tmp/ashs.S0qSFVlO/cor_tse_01.png /tmp/ashs.S0qSFVlO/cor_tse_02.png /tmp/ashs.S0qSFVlO/cor_tse_03.png /tmp/ashs.S0qSFVlO/cor_tse_04.png /tmp/ashs.S0qSFVlO/sag_mprage_00.png /tmp/ashs.S0qSFVlO/sag_mprage_01.png /tmp/ashs.S0qSFVlO/sag_seg_00.png /tmp/ashs.S0qSFVlO/sag_seg_03.png /tmp/ashs.S0qSFVlO/sag_tse_00.png /tmp/ashs.S0qSFVlO/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_00.png /tmp/ashs.S0qSFVlO/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_01.png /tmp/ashs.S0qSFVlO/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_02.png /tmp/ashs.S0qSFVlO/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_03.png /tmp/ashs.S0qSFVlO/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_mprage_04.png /tmp/ashs.S0qSFVlO/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_00.png /tmp/ashs.S0qSFVlO/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_03.png /tmp/ashs.S0qSFVlO/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_06.png /tmp/ashs.S0qSFVlO/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_09.png /tmp/ashs.S0qSFVlO/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_seg_12.png /tmp/ashs.S0qSFVlO/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_00.png /tmp/ashs.S0qSFVlO/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_01.png /tmp/ashs.S0qSFVlO/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_02.png /tmp/ashs.S0qSFVlO/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_03.png /tmp/ashs.S0qSFVlO/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/cor_tse_04.png /tmp/ashs.S0qSFVlO/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_mprage_00.png /tmp/ashs.S0qSFVlO/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_mprage_01.png /tmp/ashs.S0qSFVlO/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_seg_00.png /tmp/ashs.S0qSFVlO/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_seg_03.png /tmp/ashs.S0qSFVlO/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_tse_00.png /tmp/ashs.S0qSFVlO/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.S0qSFVlO/sag_tse_01.png /tmp/ashs.S0qSFVlO/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.S0qSFVlO/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.S0qSFVlO/cor_tse_00.png /tmp/ashs.S0qSFVlO/cor_tse_01.png /tmp/ashs.S0qSFVlO/cor_tse_02.png /tmp/ashs.S0qSFVlO/cor_tse_03.png /tmp/ashs.S0qSFVlO/cor_tse_04.png /tmp/ashs.S0qSFVlO/sag_tse_00.png /tmp/ashs.S0qSFVlO/sag_tse_01.png /tmp/ashs.S0qSFVlO/cor_mprage_00.png /tmp/ashs.S0qSFVlO/cor_mprage_01.png /tmp/ashs.S0qSFVlO/cor_mprage_02.png /tmp/ashs.S0qSFVlO/cor_mprage_03.png /tmp/ashs.S0qSFVlO/cor_mprage_04.png /tmp/ashs.S0qSFVlO/sag_mprage_00.png /tmp/ashs.S0qSFVlO/sag_mprage_01.png /tmp/ashs.S0qSFVlO/cor_seg_00.png /tmp/ashs.S0qSFVlO/cor_seg_03.png /tmp/ashs.S0qSFVlO/cor_seg_06.png /tmp/ashs.S0qSFVlO/cor_seg_09.png /tmp/ashs.S0qSFVlO/cor_seg_12.png /tmp/ashs.S0qSFVlO/sag_seg_00.png /tmp/ashs.S0qSFVlO/sag_seg_03.png /tmp/ashs.S0qSFVlO/qa.png
+ convert /tmp/ashs.S0qSFVlO/qa.png -bordercolor Black -border 1x1 /tmp/ashs.S0qSFVlO/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:left /tmp/ashs.S0qSFVlO/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.9 -v be=0.95 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.9 0.95'
CHUNK 0.9 0.95
+ echo 1
+ awk -v bs=0.9 -v be=0.95 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.9 0.925
+ echo 'CHUNK 0.9 0.925 1'
CHUNK 0.9 0.925 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.9 0.925 1
====================================
         PROGRESS: 0.9               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=1
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 1
+ [[ 1 -ne 1 ]]
+ [[ '' -ne 1 ]]
+ ashs_label_fusion_apply 1
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ BOOTSTRAP=1
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 1
+ [[ 1 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [8, 13, 4], [62, 64, 44] (174592 pixels)
Computing mask based on input segmentations
  Skipping 89916 out of 174592 voxels.
..........................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
76:90:52
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 337868
tc: 17812
mean intensity : sample #  200.464:29093
center location: (39.2656,47.3344,22.2726) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 1693
tc: 17812
center location: (46.1589,36.0738,11.2635) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2635
tc: 17812
center location: (42.67,44.3386,20.8628) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 7686
tc: 17812
center location: (32.5986,47.5179,20.7323) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 327
tc: 17812
center location: (21.0954,50.6086,29.1279) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4282
tc: 17812
center location: (29.6477,48.4173,24.8071) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 1 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 551
tc: 17812
center location: (34.6268,52.7739,23.1672) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 26
tc: 17812
center location: (16.3837,44.5439,22.8773) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 612
tc: 17812
center location: (48.0644,57.3357,42.785) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
76:90:52
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 337868
tc: 17812
center location: (39.2656,47.3344,22.2726) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 1693
tc: 17812
center location: (46.1589,36.0738,11.2635) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2635
tc: 17812
center location: (42.67,44.3386,20.8628) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 1 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 7686
tc: 17812
center location: (32.5986,47.5179,20.7323) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 327
tc: 17812
center location: (21.0954,50.6086,29.1279) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4282
tc: 17812
center location: (29.6477,48.4173,24.8071) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 551
tc: 17812
center location: (34.6268,52.7739,23.1672) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 26
tc: 17812
center location: (16.3837,44.5439,22.8773) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/posterior_right_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 612
tc: 17812
center location: (48.0644,57.3357,42.785) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 1 -eq 1 ]]
++ echo bootstrap
+ MALFMODE=bootstrap
+ ashs_segmentation_qc right bootstrap heur
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.68ZpQgSO/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.68ZpQgSO/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.68ZpQgSO/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.68ZpQgSO/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.68ZpQgSO/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.68ZpQgSO/sag_seg_%02d.png
++ ls /tmp/ashs.68ZpQgSO/cor_mprage_00.png /tmp/ashs.68ZpQgSO/cor_mprage_01.png /tmp/ashs.68ZpQgSO/cor_mprage_02.png /tmp/ashs.68ZpQgSO/cor_mprage_03.png /tmp/ashs.68ZpQgSO/cor_mprage_04.png /tmp/ashs.68ZpQgSO/cor_seg_00.png /tmp/ashs.68ZpQgSO/cor_seg_03.png /tmp/ashs.68ZpQgSO/cor_seg_06.png /tmp/ashs.68ZpQgSO/cor_seg_09.png /tmp/ashs.68ZpQgSO/cor_seg_12.png /tmp/ashs.68ZpQgSO/cor_tse_00.png /tmp/ashs.68ZpQgSO/cor_tse_01.png /tmp/ashs.68ZpQgSO/cor_tse_02.png /tmp/ashs.68ZpQgSO/cor_tse_03.png /tmp/ashs.68ZpQgSO/cor_tse_04.png /tmp/ashs.68ZpQgSO/sag_mprage_00.png /tmp/ashs.68ZpQgSO/sag_mprage_01.png /tmp/ashs.68ZpQgSO/sag_seg_00.png /tmp/ashs.68ZpQgSO/sag_seg_03.png /tmp/ashs.68ZpQgSO/sag_tse_00.png /tmp/ashs.68ZpQgSO/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_00.png /tmp/ashs.68ZpQgSO/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_01.png /tmp/ashs.68ZpQgSO/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_02.png /tmp/ashs.68ZpQgSO/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_03.png /tmp/ashs.68ZpQgSO/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_04.png /tmp/ashs.68ZpQgSO/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_00.png /tmp/ashs.68ZpQgSO/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_03.png /tmp/ashs.68ZpQgSO/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_06.png /tmp/ashs.68ZpQgSO/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_09.png /tmp/ashs.68ZpQgSO/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_12.png /tmp/ashs.68ZpQgSO/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_00.png /tmp/ashs.68ZpQgSO/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_01.png /tmp/ashs.68ZpQgSO/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_02.png /tmp/ashs.68ZpQgSO/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_03.png /tmp/ashs.68ZpQgSO/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_04.png /tmp/ashs.68ZpQgSO/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_mprage_00.png /tmp/ashs.68ZpQgSO/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_mprage_01.png /tmp/ashs.68ZpQgSO/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_seg_00.png /tmp/ashs.68ZpQgSO/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_seg_03.png /tmp/ashs.68ZpQgSO/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_tse_00.png /tmp/ashs.68ZpQgSO/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_tse_01.png /tmp/ashs.68ZpQgSO/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.68ZpQgSO/cor_tse_00.png /tmp/ashs.68ZpQgSO/cor_tse_01.png /tmp/ashs.68ZpQgSO/cor_tse_02.png /tmp/ashs.68ZpQgSO/cor_tse_03.png /tmp/ashs.68ZpQgSO/cor_tse_04.png /tmp/ashs.68ZpQgSO/sag_tse_00.png /tmp/ashs.68ZpQgSO/sag_tse_01.png /tmp/ashs.68ZpQgSO/cor_mprage_00.png /tmp/ashs.68ZpQgSO/cor_mprage_01.png /tmp/ashs.68ZpQgSO/cor_mprage_02.png /tmp/ashs.68ZpQgSO/cor_mprage_03.png /tmp/ashs.68ZpQgSO/cor_mprage_04.png /tmp/ashs.68ZpQgSO/sag_mprage_00.png /tmp/ashs.68ZpQgSO/sag_mprage_01.png /tmp/ashs.68ZpQgSO/cor_seg_00.png /tmp/ashs.68ZpQgSO/cor_seg_03.png /tmp/ashs.68ZpQgSO/cor_seg_06.png /tmp/ashs.68ZpQgSO/cor_seg_09.png /tmp/ashs.68ZpQgSO/cor_seg_12.png /tmp/ashs.68ZpQgSO/sag_seg_00.png /tmp/ashs.68ZpQgSO/sag_seg_03.png /tmp/ashs.68ZpQgSO/qa.png
+ convert /tmp/ashs.68ZpQgSO/qa.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:right /tmp/ashs.68ZpQgSO/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_heur_right_qa.png
+ ashs_segmentation_qc right bootstrap corr_usegray
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.68ZpQgSO/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.68ZpQgSO/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.68ZpQgSO/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.68ZpQgSO/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.68ZpQgSO/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.68ZpQgSO/sag_seg_%02d.png
++ ls /tmp/ashs.68ZpQgSO/cor_mprage_00.png /tmp/ashs.68ZpQgSO/cor_mprage_01.png /tmp/ashs.68ZpQgSO/cor_mprage_02.png /tmp/ashs.68ZpQgSO/cor_mprage_03.png /tmp/ashs.68ZpQgSO/cor_mprage_04.png /tmp/ashs.68ZpQgSO/cor_seg_00.png /tmp/ashs.68ZpQgSO/cor_seg_03.png /tmp/ashs.68ZpQgSO/cor_seg_06.png /tmp/ashs.68ZpQgSO/cor_seg_09.png /tmp/ashs.68ZpQgSO/cor_seg_12.png /tmp/ashs.68ZpQgSO/cor_tse_00.png /tmp/ashs.68ZpQgSO/cor_tse_01.png /tmp/ashs.68ZpQgSO/cor_tse_02.png /tmp/ashs.68ZpQgSO/cor_tse_03.png /tmp/ashs.68ZpQgSO/cor_tse_04.png /tmp/ashs.68ZpQgSO/sag_mprage_00.png /tmp/ashs.68ZpQgSO/sag_mprage_01.png /tmp/ashs.68ZpQgSO/sag_seg_00.png /tmp/ashs.68ZpQgSO/sag_seg_03.png /tmp/ashs.68ZpQgSO/sag_tse_00.png /tmp/ashs.68ZpQgSO/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_00.png /tmp/ashs.68ZpQgSO/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_01.png /tmp/ashs.68ZpQgSO/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_02.png /tmp/ashs.68ZpQgSO/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_03.png /tmp/ashs.68ZpQgSO/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_04.png /tmp/ashs.68ZpQgSO/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_00.png /tmp/ashs.68ZpQgSO/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_03.png /tmp/ashs.68ZpQgSO/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_06.png /tmp/ashs.68ZpQgSO/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_09.png /tmp/ashs.68ZpQgSO/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_12.png /tmp/ashs.68ZpQgSO/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_00.png /tmp/ashs.68ZpQgSO/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_01.png /tmp/ashs.68ZpQgSO/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_02.png /tmp/ashs.68ZpQgSO/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_03.png /tmp/ashs.68ZpQgSO/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_04.png /tmp/ashs.68ZpQgSO/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_mprage_00.png /tmp/ashs.68ZpQgSO/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_mprage_01.png /tmp/ashs.68ZpQgSO/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_seg_00.png /tmp/ashs.68ZpQgSO/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_seg_03.png /tmp/ashs.68ZpQgSO/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_tse_00.png /tmp/ashs.68ZpQgSO/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_tse_01.png /tmp/ashs.68ZpQgSO/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.68ZpQgSO/cor_tse_00.png /tmp/ashs.68ZpQgSO/cor_tse_01.png /tmp/ashs.68ZpQgSO/cor_tse_02.png /tmp/ashs.68ZpQgSO/cor_tse_03.png /tmp/ashs.68ZpQgSO/cor_tse_04.png /tmp/ashs.68ZpQgSO/sag_tse_00.png /tmp/ashs.68ZpQgSO/sag_tse_01.png /tmp/ashs.68ZpQgSO/cor_mprage_00.png /tmp/ashs.68ZpQgSO/cor_mprage_01.png /tmp/ashs.68ZpQgSO/cor_mprage_02.png /tmp/ashs.68ZpQgSO/cor_mprage_03.png /tmp/ashs.68ZpQgSO/cor_mprage_04.png /tmp/ashs.68ZpQgSO/sag_mprage_00.png /tmp/ashs.68ZpQgSO/sag_mprage_01.png /tmp/ashs.68ZpQgSO/cor_seg_00.png /tmp/ashs.68ZpQgSO/cor_seg_03.png /tmp/ashs.68ZpQgSO/cor_seg_06.png /tmp/ashs.68ZpQgSO/cor_seg_09.png /tmp/ashs.68ZpQgSO/cor_seg_12.png /tmp/ashs.68ZpQgSO/sag_seg_00.png /tmp/ashs.68ZpQgSO/sag_seg_03.png /tmp/ashs.68ZpQgSO/qa.png
+ convert /tmp/ashs.68ZpQgSO/qa.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:right /tmp/ashs.68ZpQgSO/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_right_qa.png
+ ashs_segmentation_qc right bootstrap corr_nogray
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.68ZpQgSO/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.68ZpQgSO/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.68ZpQgSO/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.68ZpQgSO/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.68ZpQgSO/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.68ZpQgSO/sag_seg_%02d.png
++ ls /tmp/ashs.68ZpQgSO/cor_mprage_00.png /tmp/ashs.68ZpQgSO/cor_mprage_01.png /tmp/ashs.68ZpQgSO/cor_mprage_02.png /tmp/ashs.68ZpQgSO/cor_mprage_03.png /tmp/ashs.68ZpQgSO/cor_mprage_04.png /tmp/ashs.68ZpQgSO/cor_seg_00.png /tmp/ashs.68ZpQgSO/cor_seg_03.png /tmp/ashs.68ZpQgSO/cor_seg_06.png /tmp/ashs.68ZpQgSO/cor_seg_09.png /tmp/ashs.68ZpQgSO/cor_seg_12.png /tmp/ashs.68ZpQgSO/cor_tse_00.png /tmp/ashs.68ZpQgSO/cor_tse_01.png /tmp/ashs.68ZpQgSO/cor_tse_02.png /tmp/ashs.68ZpQgSO/cor_tse_03.png /tmp/ashs.68ZpQgSO/cor_tse_04.png /tmp/ashs.68ZpQgSO/sag_mprage_00.png /tmp/ashs.68ZpQgSO/sag_mprage_01.png /tmp/ashs.68ZpQgSO/sag_seg_00.png /tmp/ashs.68ZpQgSO/sag_seg_03.png /tmp/ashs.68ZpQgSO/sag_tse_00.png /tmp/ashs.68ZpQgSO/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_00.png /tmp/ashs.68ZpQgSO/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_01.png /tmp/ashs.68ZpQgSO/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_02.png /tmp/ashs.68ZpQgSO/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_03.png /tmp/ashs.68ZpQgSO/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_mprage_04.png /tmp/ashs.68ZpQgSO/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_00.png /tmp/ashs.68ZpQgSO/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_03.png /tmp/ashs.68ZpQgSO/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_06.png /tmp/ashs.68ZpQgSO/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_09.png /tmp/ashs.68ZpQgSO/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_seg_12.png /tmp/ashs.68ZpQgSO/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_00.png /tmp/ashs.68ZpQgSO/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_01.png /tmp/ashs.68ZpQgSO/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_02.png /tmp/ashs.68ZpQgSO/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_03.png /tmp/ashs.68ZpQgSO/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/cor_tse_04.png /tmp/ashs.68ZpQgSO/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_mprage_00.png /tmp/ashs.68ZpQgSO/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_mprage_01.png /tmp/ashs.68ZpQgSO/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_seg_00.png /tmp/ashs.68ZpQgSO/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_seg_03.png /tmp/ashs.68ZpQgSO/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_tse_00.png /tmp/ashs.68ZpQgSO/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.68ZpQgSO/sag_tse_01.png /tmp/ashs.68ZpQgSO/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.68ZpQgSO/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.68ZpQgSO/cor_tse_00.png /tmp/ashs.68ZpQgSO/cor_tse_01.png /tmp/ashs.68ZpQgSO/cor_tse_02.png /tmp/ashs.68ZpQgSO/cor_tse_03.png /tmp/ashs.68ZpQgSO/cor_tse_04.png /tmp/ashs.68ZpQgSO/sag_tse_00.png /tmp/ashs.68ZpQgSO/sag_tse_01.png /tmp/ashs.68ZpQgSO/cor_mprage_00.png /tmp/ashs.68ZpQgSO/cor_mprage_01.png /tmp/ashs.68ZpQgSO/cor_mprage_02.png /tmp/ashs.68ZpQgSO/cor_mprage_03.png /tmp/ashs.68ZpQgSO/cor_mprage_04.png /tmp/ashs.68ZpQgSO/sag_mprage_00.png /tmp/ashs.68ZpQgSO/sag_mprage_01.png /tmp/ashs.68ZpQgSO/cor_seg_00.png /tmp/ashs.68ZpQgSO/cor_seg_03.png /tmp/ashs.68ZpQgSO/cor_seg_06.png /tmp/ashs.68ZpQgSO/cor_seg_09.png /tmp/ashs.68ZpQgSO/cor_seg_12.png /tmp/ashs.68ZpQgSO/sag_seg_00.png /tmp/ashs.68ZpQgSO/sag_seg_03.png /tmp/ashs.68ZpQgSO/qa.png
+ convert /tmp/ashs.68ZpQgSO/qa.png -bordercolor Black -border 1x1 /tmp/ashs.68ZpQgSO/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ montage -label 27241:right /tmp/ashs.68ZpQgSO/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.9 -v be=0.95 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.9 0.95'
CHUNK 0.9 0.95
+ echo 1
+ awk -v bs=0.9 -v be=0.95 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.925 0.95
+ echo 'CHUNK 0.925 0.95 1'
CHUNK 0.925 0.95 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.925 0.95 1
====================================
         PROGRESS: 0.925               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 5 successful
------------------------------------------------
[0m
****************************************
Starting stage 6: Final QA
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 6: Final QA
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
+ [[ '' -ne 1 ]]
+ WSUB=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion
+ WQA=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ ASHS_LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ for side in '${SIDES}'
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_lfseg_heur.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_lfseg_corr_usegray.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_lfseg_corr_nogray.nii.gz
+ for side in '${SIDES}'
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_lfseg_heur.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_lfseg_corr_usegray.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_lfseg_corr_nogray.nii.gz
+ for side in '${SIDES}'
+ SMASV=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz ]]
+ c3d -verbose /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -int 0 -trim 10x10x0mm -resample 400x400x100% -as REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -stretch 1% 99% 0 255 -clip 0 255 -reslice-identity -push REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -reslice-identity -push REF -foreach -slice z 50% -flip xy -info -endfor -popas S -popas S2 -as G -type uchar -info -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/gray_left.png -clear -push G -push S -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/masv_left.png -clear -push G -push S2 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/final_left.png -clear -push G -push S -push S2 -scale -1 -add -thresh 0 0 0 1 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/bc_left.png
Reading #1 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
Trimming #1
  Wrapping non-background voxels with margin of 10 10 0 mm.
  Extracting bounding box [0, 1, 4] [76, 89, 41]
Resampling #1 to have[304, 356, 41] voxels.
  Interpolation method: 0
  Background intensity: 0
  Input spacing: [0.4375, 0.4375, 1.1]
  Input origin: [2.52875, -23.5199, -6.37575]
  Output spacing: [0.109375, 0.109375, 1.1]
  Output origin: [2.36729, -23.4301, -6.51609]
Reading #2 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
Quantile 0.01 maps to 67
Quantile 0.99 maps to 846
Scaling #2 by 0.327343 and adding -21.932
Clipping out-of-range intensities in #2
  Intensity range: 0 to 255
  Reference voxel [0, 0, 0] => moving voxel [263.625, 207.625, 4]
  Reference voxel [152, 178, 20.5] => moving voxel [301.625, 252.125, 24.5]
  Reference voxel [303, 355, 40] => moving voxel [339.375, 296.375, 44]
Reslicing #2 with reference1
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Reading #3 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
  Reference voxel [0, 0, 0] => moving voxel [-0.375, 0.625, 4]
  Reference voxel [152, 178, 20.5] => moving voxel [37.625, 45.125, 24.5]
  Reference voxel [303, 355, 40] => moving voxel [75.375, 89.375, 44]
Reslicing #3 with reference2
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Repeating commands for all 3 images
Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [304, 356, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [304, 356, 1];  bb = {[-35.4546 25.7096 38.0929], [-2.20457 64.6471 39.1929]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 173.819];  orient = Oblique, closest to RIA

Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [304, 356, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [304, 356, 1];  bb = {[-35.4546 25.7096 38.0929], [-2.20457 64.6471 39.1929]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [304, 356, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [304, 356, 1];  bb = {[-35.4546 25.7096 38.0929], [-2.20457 64.6471 39.1929]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Image #1: dim = [304, 356, 1];  bb = {[-35.4546 25.7096 38.0929], [-2.20457 64.6471 39.1929]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 173.819];  orient = Oblique, closest to RIA

Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/gray_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/masv_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/final_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Scaling #3 by -1 and adding 0
Adding #2 and 1
Thresholding #2
  Mapping range [0, 0] to 0
  Values outside are mapped to 1
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/bc_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ for side in '${SIDES}'
+ SMASV=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz ]]
+ c3d -verbose /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -int 0 -trim 10x10x0mm -resample 400x400x100% -as REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz -stretch 1% 99% 0 255 -clip 0 255 -reslice-identity -push REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -reslice-identity -push REF -foreach -slice z 50% -flip xy -info -endfor -popas S -popas S2 -as G -type uchar -info -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/gray_right.png -clear -push G -push S -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/masv_right.png -clear -push G -push S2 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/final_right.png -clear -push G -push S -push S2 -scale -1 -add -thresh 0 0 0 1 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/bc_right.png
Reading #1 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
Trimming #1
  Wrapping non-background voxels with margin of 10 10 0 mm.
  Extracting bounding box [0, 0, 4] [76, 90, 42]
Resampling #1 to have[304, 360, 42] voxels.
  Interpolation method: 0
  Background intensity: 0
  Input spacing: [0.4375, 0.4375, 1.1]
  Input origin: [-39.4459, -22.0434, -6.75014]
  Output spacing: [0.109375, 0.109375, 1.1]
  Output origin: [-39.6074, -21.9536, -6.89048]
Reading #2 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/tse.nii.gz
Quantile 0.01 maps to 67
Quantile 0.99 maps to 846
Scaling #2 by 0.327343 and adding -21.932
Clipping out-of-range intensities in #2
  Intensity range: 0 to 255
  Reference voxel [0, 0, 0] => moving voxel [167.625, 206.625, 4]
  Reference voxel [152, 180, 21] => moving voxel [205.625, 251.625, 25]
  Reference voxel [303, 359, 41] => moving voxel [243.375, 296.375, 45]
Reslicing #2 with reference1
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Reading #3 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
  Reference voxel [0, 0, 0] => moving voxel [-0.375, -0.375, 4]
  Reference voxel [152, 180, 21] => moving voxel [37.625, 44.625, 25]
  Reference voxel [303, 359, 41] => moving voxel [75.375, 89.375, 45]
Reslicing #3 with reference2
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Repeating commands for all 3 images
Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [304, 360, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [304, 360, 1];  bb = {[6.49882 23.5191 38.6625], [39.7488 62.8941 39.7625]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 189.859];  orient = Oblique, closest to RIA

Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [304, 360, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [304, 360, 1];  bb = {[6.49882 23.5191 38.6625], [39.7488 62.8941 39.7625]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 7];  orient = Oblique, closest to RIA

Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [304, 360, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [304, 360, 1];  bb = {[6.49882 23.5191 38.6625], [39.7488 62.8941 39.7625]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Image #1: dim = [304, 360, 1];  bb = {[6.49882 23.5191 38.6625], [39.7488 62.8941 39.7625]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 189.859];  orient = Oblique, closest to RIA

Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/gray_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/masv_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/final_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Scaling #3 by -1 and adding 0
Adding #2 and 1
Thresholding #2
  Mapping range [0, 0] to 0
  Values outside are mapped to 1
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa/bc_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/qa
+ cat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.95 -v be=0.98 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.95 0.98'
CHUNK 0.95 0.98
+ echo 1
+ awk -v bs=0.95 -v be=0.98 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.95 0.98
+ echo 'CHUNK 0.95 0.98 1'
CHUNK 0.95 0.98 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.95 0.98 1
====================================
         PROGRESS: 0.95               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 6 successful
------------------------------------------------
[0m
****************************************
Starting stage 7: Statistics and volume computation
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 7: Statistics and volume 
computation
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_extractstats_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  SUBJECT: 27241
+ [[ '' -ne 1 ]]
+ WSUB=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion
+ WSTAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final
+ cat /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ awk '$1 > 0 {split($0,arr,"\""); sub(/[ \t]+/,"_",arr[2]); print $1,arr[2]}'
+ LABIDS=($(cat $TMPDIR/labels.txt | awk '{print $1}'))
++ cat /tmp/ashs.rpZvv1gT/labels.txt
++ awk '{print $1}'
+ LABNAMES=($(cat $TMPDIR/labels.txt | awk '{print $2}'))
++ cat /tmp/ashs.rpZvv1gT/labels.txt
++ awk '{print $2}'
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ raw == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz ]]
+ STATS=/tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz -dup -lstat
+ tee /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      346090     72868.170     76    90    53
    1       1.00000     0.00000     1.00000     1.00000        1867       393.091     32    39    19
    2       2.00000     0.00000     2.00000     2.00000        2565       540.053     39    24    36
    3       3.00000     0.00000     3.00000     3.00000        6688      1408.138     48    31    37
    4       4.00000     0.00000     4.00000     4.00000         290        61.059     22    10    23
    5       5.00000     0.00000     5.00000     5.00000        3837       807.868     41    22    32
    6       6.00000     0.00000     6.00000     6.00000         518       109.063     28    17    24
    7       7.00000     0.00000     7.00000     7.00000           3         0.632      2     2     1
    8       8.00000     0.00000     8.00000     8.00000         662       139.382     27    22     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_raw_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_raw_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=393.091
+ [[ -n 19 ]]
+ echo 27241 left ERC 19 393.091
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=540.053
+ [[ -n 36 ]]
+ echo 27241 left SUB 36 540.053
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1408.138
+ [[ -n 37 ]]
+ echo 27241 left CA1 37 1408.138
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=61.059
+ [[ -n 23 ]]
+ echo 27241 left CA2 23 61.059
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=32
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=807.868
+ [[ -n 32 ]]
+ echo 27241 left DG 32 807.868
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=109.063
+ [[ -n 24 ]]
+ echo 27241 left CA3 24 109.063
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=1
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=0.632
+ [[ -n 1 ]]
+ echo 27241 left Cyst 1 0.632
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=139.382
+ [[ -n 4 ]]
+ echo 27241 left Tail 4 139.382
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ raw == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz ]]
+ STATS=/tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz -dup -lstat
+ tee /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      337868     71137.053     76    90    52
    1       1.00000     0.00000     1.00000     1.00000        1693       356.456     32    42    19
    2       2.00000     0.00000     2.00000     2.00000        2635       554.791     44    25    37
    3       3.00000     0.00000     3.00000     3.00000        7686      1618.263     53    32    38
    4       4.00000     0.00000     4.00000     4.00000         327        68.849     23    13    23
    5       5.00000     0.00000     5.00000     5.00000        4282       901.562     47    24    33
    6       6.00000     0.00000     6.00000     6.00000         551       116.011     33    17    25
    7       7.00000     0.00000     7.00000     7.00000          26         5.474      6     5    11
    8       8.00000     0.00000     8.00000     8.00000         612       128.855     29    20     5
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_raw_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_raw_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=356.456
+ [[ -n 19 ]]
+ echo 27241 right ERC 19 356.456
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=554.791
+ [[ -n 37 ]]
+ echo 27241 right SUB 37 554.791
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=38
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1618.263
+ [[ -n 38 ]]
+ echo 27241 right CA1 38 1618.263
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=68.849
+ [[ -n 23 ]]
+ echo 27241 right CA2 23 68.849
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=33
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=901.562
+ [[ -n 33 ]]
+ echo 27241 right DG 33 901.562
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=25
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=116.011
+ [[ -n 25 ]]
+ echo 27241 right CA3 25 116.011
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=11
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=5.474
+ [[ -n 11 ]]
+ echo 27241 right Cyst 11 5.474
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=5
++ cat /tmp/ashs.rpZvv1gT/rawvols_raw_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=128.855
+ [[ -n 5 ]]
+ echo 27241 right Tail 5 128.855
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ heur == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz ]]
+ STATS=/tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -dup -lstat
+ tee /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      346090     72868.170     76    90    53
    1       1.00000     0.00000     1.00000     1.00000        1867       393.091     32    39    19
    2       2.00000     0.00000     2.00000     2.00000        2565       540.053     39    24    36
    3       3.00000     0.00000     3.00000     3.00000        6688      1408.138     48    31    37
    4       4.00000     0.00000     4.00000     4.00000         290        61.059     22    10    23
    5       5.00000     0.00000     5.00000     5.00000        3837       807.868     41    22    32
    6       6.00000     0.00000     6.00000     6.00000         518       109.063     28    17    24
    7       7.00000     0.00000     7.00000     7.00000           3         0.632      2     2     1
    8       8.00000     0.00000     8.00000     8.00000         662       139.382     27    22     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_heur_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_heur_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=393.091
+ [[ -n 19 ]]
+ echo 27241 left ERC 19 393.091
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=540.053
+ [[ -n 36 ]]
+ echo 27241 left SUB 36 540.053
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1408.138
+ [[ -n 37 ]]
+ echo 27241 left CA1 37 1408.138
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=61.059
+ [[ -n 23 ]]
+ echo 27241 left CA2 23 61.059
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=32
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=807.868
+ [[ -n 32 ]]
+ echo 27241 left DG 32 807.868
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=109.063
+ [[ -n 24 ]]
+ echo 27241 left CA3 24 109.063
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=1
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=0.632
+ [[ -n 1 ]]
+ echo 27241 left Cyst 1 0.632
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=139.382
+ [[ -n 4 ]]
+ echo 27241 left Tail 4 139.382
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ heur == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz ]]
+ STATS=/tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -dup -lstat
+ tee /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      337868     71137.053     76    90    52
    1       1.00000     0.00000     1.00000     1.00000        1693       356.456     32    42    19
    2       2.00000     0.00000     2.00000     2.00000        2635       554.791     44    25    37
    3       3.00000     0.00000     3.00000     3.00000        7686      1618.263     53    32    38
    4       4.00000     0.00000     4.00000     4.00000         327        68.849     23    13    23
    5       5.00000     0.00000     5.00000     5.00000        4282       901.562     47    24    33
    6       6.00000     0.00000     6.00000     6.00000         551       116.011     33    17    25
    7       7.00000     0.00000     7.00000     7.00000          26         5.474      6     5    11
    8       8.00000     0.00000     8.00000     8.00000         612       128.855     29    20     5
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_heur_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_heur_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=356.456
+ [[ -n 19 ]]
+ echo 27241 right ERC 19 356.456
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=554.791
+ [[ -n 37 ]]
+ echo 27241 right SUB 37 554.791
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=38
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1618.263
+ [[ -n 38 ]]
+ echo 27241 right CA1 38 1618.263
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=68.849
+ [[ -n 23 ]]
+ echo 27241 right CA2 23 68.849
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=33
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=901.562
+ [[ -n 33 ]]
+ echo 27241 right DG 33 901.562
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=25
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=116.011
+ [[ -n 25 ]]
+ echo 27241 right CA3 25 116.011
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=11
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=5.474
+ [[ -n 11 ]]
+ echo 27241 right Cyst 11 5.474
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=5
++ cat /tmp/ashs.rpZvv1gT/rawvols_heur_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=128.855
+ [[ -n 5 ]]
+ echo 27241 right Tail 5 128.855
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ corr_usegray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz ]]
+ STATS=/tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -dup -lstat
+ tee /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      345886     72825.218     76    90    53
    1       1.00000     0.00000     1.00000     1.00000        2120       446.359     31    41    20
    2       2.00000     0.00000     2.00000     2.00000        2594       546.159     40    23    38
    3       3.00000     0.00000     3.00000     3.00000        7010      1475.934     48    31    37
    4       4.00000     0.00000     4.00000     4.00000          89        18.739     10     8    16
    5       5.00000     0.00000     5.00000     5.00000        4007       843.661     38    22    31
    6       6.00000     0.00000     6.00000     6.00000         142        29.898     27    12    21
    8       8.00000     0.00000     8.00000     8.00000         672       141.488     25    19     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_corr_usegray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_corr_usegray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=446.359
+ [[ -n 20 ]]
+ echo 27241 left ERC 20 446.359
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=38
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=546.159
+ [[ -n 38 ]]
+ echo 27241 left SUB 38 546.159
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1475.934
+ [[ -n 37 ]]
+ echo 27241 left CA1 37 1475.934
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=16
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=18.739
+ [[ -n 16 ]]
+ echo 27241 left CA2 16 18.739
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=31
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=843.661
+ [[ -n 31 ]]
+ echo 27241 left DG 31 843.661
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=29.898
+ [[ -n 21 ]]
+ echo 27241 left CA3 21 29.898
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=
+ [[ -n '' ]]
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=141.488
+ [[ -n 6 ]]
+ echo 27241 left Tail 6 141.488
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ corr_usegray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz ]]
+ STATS=/tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -dup -lstat
+ tee /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      338705     71313.281     76    90    52
    1       1.00000     0.00000     1.00000     1.00000        1210       254.762     25    38    18
    2       2.00000     0.00000     2.00000     2.00000        2526       531.841     40    23    38
    3       3.00000     0.00000     3.00000     3.00000        8196      1725.642     54    32    39
    4       4.00000     0.00000     4.00000     4.00000          57        12.001     20    10    20
    5       5.00000     0.00000     5.00000     5.00000        4510       949.566     44    23    32
    6       6.00000     0.00000     6.00000     6.00000         237        49.900     33    15    25
    7       7.00000     0.00000     7.00000     7.00000          19         4.000      4     4     7
    8       8.00000     0.00000     8.00000     8.00000         220        46.320     18    12     5
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_corr_usegray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_corr_usegray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=18
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=254.762
+ [[ -n 18 ]]
+ echo 27241 right ERC 18 254.762
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=38
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=531.841
+ [[ -n 38 ]]
+ echo 27241 right SUB 38 531.841
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=39
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1725.642
+ [[ -n 39 ]]
+ echo 27241 right CA1 39 1725.642
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=12.001
+ [[ -n 20 ]]
+ echo 27241 right CA2 20 12.001
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=32
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=949.566
+ [[ -n 32 ]]
+ echo 27241 right DG 32 949.566
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=25
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=49.900
+ [[ -n 25 ]]
+ echo 27241 right CA3 25 49.900
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=7
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=4.000
+ [[ -n 7 ]]
+ echo 27241 right Cyst 7 4.000
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=5
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_usegray_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=46.320
+ [[ -n 5 ]]
+ echo 27241 right Tail 5 46.320
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ corr_nogray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz ]]
+ STATS=/tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -dup -lstat
+ tee /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      346288     72909.858     76    90    53
    1       1.00000     0.00000     1.00000     1.00000        1938       408.040     32    38    19
    2       2.00000     0.00000     2.00000     2.00000        2540       534.789     39    23    37
    3       3.00000     0.00000     3.00000     3.00000        6895      1451.721     47    31    37
    4       4.00000     0.00000     4.00000     4.00000          78        16.423      8     7    14
    5       5.00000     0.00000     5.00000     5.00000        3947       831.029     37    22    31
    6       6.00000     0.00000     6.00000     6.00000         170        35.793     27    12    21
    7       7.00000     0.00000     7.00000     7.00000           4         0.842      2     3     1
    8       8.00000     0.00000     8.00000     8.00000         660       138.961     25    20     5
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_corr_nogray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_left_corr_nogray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=408.040
+ [[ -n 19 ]]
+ echo 27241 left ERC 19 408.040
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=534.789
+ [[ -n 37 ]]
+ echo 27241 left SUB 37 534.789
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1451.721
+ [[ -n 37 ]]
+ echo 27241 left CA1 37 1451.721
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=14
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=16.423
+ [[ -n 14 ]]
+ echo 27241 left CA2 14 16.423
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=31
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=831.029
+ [[ -n 31 ]]
+ echo 27241 left DG 31 831.029
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=35.793
+ [[ -n 21 ]]
+ echo 27241 left CA3 21 35.793
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=1
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=0.842
+ [[ -n 1 ]]
+ echo 27241 left Cyst 1 0.842
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=5
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=138.961
+ [[ -n 5 ]]
+ echo 27241 left Tail 5 138.961
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ corr_nogray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz ]]
+ STATS=/tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -dup -lstat
+ tee /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      338851     71344.021     76    90    52
    1       1.00000     0.00000     1.00000     1.00000        1232       259.394     25    39    18
    2       2.00000     0.00000     2.00000     2.00000        2393       503.839     40    23    36
    3       3.00000     0.00000     3.00000     3.00000        8080      1701.219     53    32    39
    4       4.00000     0.00000     4.00000     4.00000          45         9.475     20    10    16
    5       5.00000     0.00000     5.00000     5.00000        4678       984.938     43    23    33
    6       6.00000     0.00000     6.00000     6.00000         201        42.320     32    13    18
    7       7.00000     0.00000     7.00000     7.00000          18         3.790      4     3     5
    8       8.00000     0.00000     8.00000     8.00000         182        38.320     16    11     3
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_corr_nogray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/final/27241_right_corr_nogray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=18
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=259.394
+ [[ -n 18 ]]
+ echo 27241 right ERC 18 259.394
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=503.839
+ [[ -n 36 ]]
+ echo 27241 right SUB 36 503.839
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=39
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1701.219
+ [[ -n 39 ]]
+ echo 27241 right CA1 39 1701.219
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=16
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=9.475
+ [[ -n 16 ]]
+ echo 27241 right CA2 16 9.475
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=33
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=984.938
+ [[ -n 33 ]]
+ echo 27241 right DG 33 984.938
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=18
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=42.320
+ [[ -n 18 ]]
+ echo 27241 right CA3 18 42.320
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=5
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=3.790
+ [[ -n 5 ]]
+ echo 27241 right Cyst 5 3.790
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=3
++ cat /tmp/ashs.rpZvv1gT/rawvols_corr_nogray_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=38.320
+ [[ -n 3 ]]
+ echo 27241 right Tail 3 38.320
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ manual == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ manual == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ [[ -f /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz ]]
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz /tmp/ashs.rpZvv1gT/icv.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/mprage.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
++ voxel_size /tmp/ashs.rpZvv1gT/icv.nii.gz
+++ c3d /tmp/ashs.rpZvv1gT/icv.nii.gz -info-full
+++ sed -e 's/[^0-9\.]/ /g'
+++ grep Spacing
+++ awk '{print $1*$2*$3}'
++ echo 0.343
+ VVOX=0.343
++ c3d /tmp/ashs.rpZvv1gT/icv.nii.gz -thresh 0.5 inf 1 0 -dup -lstat
++ tail -n 1
++ awk '{print $6}'
+ VOLUME=3837510
++ echo '0.343 3837510'
++ awk '{print $1*$2}'
+ ICV=1.31627e+06
+ echo 27241 1.31627e+06
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.98 -v be=1.0 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.98 1.0'
CHUNK 0.98 1.0
+ echo 1
+ awk -v bs=0.98 -v be=1.0 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.98 1
+ echo 'CHUNK 0.98 1 1'
CHUNK 0.98 1 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.98 1 1
====================================
         PROGRESS: 0.98               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 7 successful
------------------------------------------------
[0m
Beginning ASHS for:  27241
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
Beginning ASHS for:  27241
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 112: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/originalskullstripped: No such file or directory
Beginning ASHS for:  27241
Beginning ASHS for:  27241
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 139: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/DenoiseT1N4T2Utrecht: No such file or directory
Beginning ASHS for:  27241
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 149: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27241/DenoiseT1N4T2Utrecht: No such file or directory
